(function(e){function t(t){for(var n,r,o=t[0],c=t[1],_=t[2],u=0,d=[];u<o.length;u++)r=o[u],s[r]&&d.push(s[r][0]),s[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(d.length)d.shift()();return a.push.apply(a,_||[]),i()}function i(){for(var e,t=0;t<a.length;t++){for(var i=a[t],n=!0,o=1;o<i.length;o++){var c=i[o];0!==s[c]&&(n=!1)}n&&(a.splice(t--,1),e=r(r.s=i[0]))}return e}var n={},s={app:0},a=[];function r(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=n,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var _=0;_<o.length;_++)t(o[_]);var l=c;a.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"0085":function(e,t,i){},"00cf":function(e,t,i){"use strict";var n=i("82b9"),s=i.n(n);s.a},"00ee":function(e,t,i){"use strict";var n=i("e7a2"),s=i.n(n);s.a},"021a":function(e,t,i){"use strict";var n=i("47b9"),s=i.n(n);s.a},"02cd":function(e,t,i){"use strict";var n=i("7c4c"),s=i.n(n);s.a},"033e":function(e,t,i){"use strict";var n=i("3ea8"),s=i.n(n);s.a},"0474":function(e,t,i){},"047f":function(e){e.exports={models:{_comment:"關聯表名稱不在此上面",appraisals:"Thẩm định",assets:"Tài sản",comments:"Bình luận",contracts:"Hợp đồng",conversion_attributes:"Thuộc tính chuyển đổi",converters:"Bộ chuyển đổi",core_waybills:"Vận đơn cơ bản",customers:"Khách hàng",quotations:"Báo giá",distributions:"Phân phối",distribution_conditions:"Điều kiện phân phối",driver_commissions:"Driver_commissions",driver_commission_policies:"Chính sách hoa hồng lái xe",driver_commission_reports:"Báo cáo hoa hồng lái xe",logs:"Nhật ký",materials:"Nguyên vật liệu",nodes:"Nút",operations:"Hoạt động",partitions:"Phân vùng",permissions:"Quyền",permission_groups:"Nhóm quyền",roles:"Vai trò",staffs:"Nhân viên",stations:"Trạm",scan_actions:"Hành động quét",status_prototypes:"Nguyên mẫu trạng thái",scan_action_prototypes:"Quét nguyên mẫu hành động",attributes:{assets:{barcode:"Mã vạch",number:"Con số",category:"thể loại",note:"chú thích",node_identity:"Nút"},converters:{name:"Tên",number:"Con số",provider_node_identity:"Nhà cung cấp_node_identity",customer_node_identity:"Ccustomer_node_identity",customer_identity:"khách hàng",carrier_class:"Thể loại tàu sân bay",proxy_contract_identity:"Proxy_contract_identity",third_party_api_data:"Thứ ba_party_api_data",note:"chú thích"},customer_contracts:{name:"Tên",number:"Con số",carrier_class:"Lớp tàu sân bay",proxy_contract:"Hợp đồng ủy quyền",third_party_api_data:"Dữ liệu api của bên thứ ba",note:"chú thích"},customers:{username:"Tên đăng nhập",password:"Mật khẩu",password_confirmation:"xác nhận mật khẩu",authentication_token:"Mã thông báo API",company_name:"Tên công ty",company_short_name:"Tên viết tắt của công ty",company_en_name:"Tên tiếng anh công ty",email:"E-mail",phone:"Điện thoại",fax:"Số fax",website_url:"Url trang web",default_sender_zip_code:"Mã bưu điện người gửi",default_sender_company_name:"Tên công ty người gửi",default_sender_address:"Địa chỉ người gởi",default_sender_name:"Tên người gửi",default_sender_phone:"Điện thoại người gửi",default_sender_email:"Email người gửi",default_sender_fax:"Người gửi fax",default_sender_url:"Url người gửi",default_consignee_zip_code:"Mã bưu điện của người nhận hàng",default_consignee_company_name:"Tên công ty nhận hàng",default_consignee_address:"Địa chỉ nhận hàng",default_consignee_name:"Tên người nhận hàng",default_consignee_phone:"Điện thoại nhận hàng",default_consignee_email:"Email nhận hàng",default_consignee_fax:"Fax nhận hàng",can_use_associated_partitions:"Có thể sử dụng các phân vùng liên quan",is_banned:"Đã bị cấm"},conditions:{core_waybill_identity:"Vận đơn",scan_action_prototype_identity:"NHỰA CÂY",condition_type:"loại điều kiện",can_use:"co thể sử dụng",current_use:"sử dụng hiện tại",already_use:"đã dùng",can_release:"có thể phát hành",current_release:"phát hành hiện tại",already_release:"đã phát hành",can_handover:"có thể bàn giao",current_handover:"bàn giao hiện tại",already_handover:"đã bàn giao",can_collect:"có thể thu thập",current_collect:"thu thập hiện tại",already_collect:"đã thu thập",can_check:"có thể kiểm tra",current_check:"kiểm tra hiện tại",already_check:"đã kiểm tra",can_ship:"có thể vận chuyển",current_ship:"tàu hiện tại",already_ship:"đã giao hàng",can_back:"có thể quay trở lại",current_back:"trở lại hiện tại",already_back:"trở lại",can_delivered:"có thể giao hàng",current_delivered:"giao hiện tại",already_delivered:"đã giao hàng xong",can_transfer:"có thể chuyển",current_transfer:"chuyển khoản hiện tại",already_transfer:"đã chuyển",can_intermodal:"có thể đa phương",current_intermodal:"hiện tại đa phương",already_intermodal:"đã đa phương",can_exception:"có thể ngoại lệ",current_exception:"ngoại lệ hiện tại",already_exception:"đã ngoại lệ",can_lock:"có thể khóa",current_lock:"khóa hiện tại",already_lock:"đã khóa",can_done:"có thể làm",current_done:"hiện tại đã hoàn thành",already_done:"xong rồi",can_warehouse_in:"có thể vào kho",current_warehouse_in:"hiện tại vào kho",already_warehouse_in:"đã vào kho",can_warehouse_out:"có thể ra kho",current_warehouse_out:"kho hiện tại",already_warehouse_out:"đã ra kho",can_ready_to_ship:"có thể sẵn sàng để vận chuyển",current_ready_to_ship:"hiện đã sẵn sàng để vận chuyển",already_ready_to_ship:"đã sẵn sàng để vận chuyển"},distributions:{priority:"Sự ưu tiên",name:"Tên",strategy:"Chiến lược",station:"Ga tàu",station_identity:"Ga tàu",strategy_value:"Giá trị chiến lược",material:"Vật chất",material_identity:"Vật chất",is_activated:"Được kích hoạt"},driver_commissions:{pick_up_driver:"Đón tài xế",pick_up_core_waybill:"Nhặt core_waybill",delivery_core_waybill:"Giao hàng tận nơi core_waybill",delivery_driver:"Tài xế giao hàng",driver_commission_report:"Báo cáo hoa hồng tài xế",driver_commission_policy:"Chính sách hoa hồng lái xe",amount:"Số tiền",polarity:"Cực tính",created_at:"Tạo thời gian",is_deleted:"Bị xóa"},driver_commission_policies:{pick_up_first_weight:"Lấy trọng lượng đầu tiên (KG)",pick_up_first_price:"Nhận giá đầu tiên",pick_up_follow_up_weight:"Nhặt theo dõi cân nặng (KG)",pick_up_follow_up_price:"Nhận theo dõi giá",delivery_first_weight:"Giao trọng lượng đầu tiên (KG)",delivery_first_price:"Giao hàng giá đầu tiên",delivery_follow_up_weight:"Giao hàng theo dõi trọng lượng (KG)",delivery_follow_up_price:"Giao hàng theo dõi giá",house_pick_up_first_weight:"Nhà đón đầu tiên_kg (KG)",house_pick_up_first_price:"Nhà đón giá đầu tiên",house_pick_up_follow_up_weight:"Nhận nhà theo dõi cân nặng (KG)",house_pick_up_follow_up_price:"Nhận nhà theo dõi giá",house_delivery_first_weight:"Giao nhà trọng lượng đầu tiên (KG)",house_delivery_first_price:"Giao nhà đầu tiên giá",house_delivery_follow_up_weight:"Giao nhà theo dõi cân nặng (KG)",house_delivery_follow_up_price:"Giao nhà theo dõi giá",is_activated:"Được kích hoạt"},driver_commission_reports:{staff:"Cán bộ",total_amount:"Tổng cộng",time:"Thời gian",begin_at:"Bắt đầu",end_at:"Kết thúc",created_at:"Tạo thời gian"},materials:{name:"Tên",en_name:"Tên tiêng Anh",core_waybill_level:"Mức độ vận đơn",class_name:"Tên lớp",label_type:"Loại nhãn",needs_label:"Nhu cầu nhãn"},nodes:{is_sandbox_mode:"Chế độ sandbox",client_id:"ID ứng dụng nam châm",client_secret:"ID ứng dụng nam châm",access_token:"Nam châm AccessToken",refresh_token:"Ủy quyền nam châm",tax:"Thuế",carrier_class:"người vận chuyển :: lớp",host:"Chủ nhà",service_name:"Dịch vụ",code:"Mã",company_name:"Tên công ty",company_short_name:"Tên viết tắt của công ty",company_en_name:"Tên tiếng Anh của công ty",email:"E-mail",phone:"Điện thoại",fax:"Số fax",website_url:"Url trang web",customer_service_hotline:"Đường dây nóng dịch vụ khách hàng"},operations:{number:"Con số",file:"Tập tin",file_name:"Tên tệp",file_url:"Url tập tin",original_file_name:"Tên tệp",station:"Ga tàu",staffs:"Nhân viên",customer:"Khách hàng",customer_identity:"Khách hàng",your_note:"Ghi chú của bạn",customer_note:"Ghi chú của khách hàng",provider_note:"Chú thích",system_note:"Ghi chú hệ thống",cancel_reason:"Hủy bỏ lý do",instantiate_note:"Ghi chú tức thì",is_canceled:"Bị hủy bỏ",is_operable:"Có thể hoạt động",is_operated:"Được vận hành",is_ready:"Sẵn sàng",status:"Trạng thái",is_done:"Đã xong",is_done_true:"Làm xong",is_done_false:"Hoàn tác",created_at:"Tạo"},partitions:{name:"Tên",numbers:"Số",numbers_from:"Số từ",numbers_to:"Số thành",numbers_rule:"Quy tắc số",parent:"Cha mẹ",customer:"Khách hàng",contracts:"Hợp đồng",customer_identity:"Khách hàng",material:"Vật chất",material_identity:"Vật chất",partition_type:"Kiểu khoảng",label_type:"Loại nhãn",note:"Chú thích",regex:"Regex"},permissions:{name:"Tên",uri:"uri",http_method:"http_method"},permission_groups:{name:"Tên"},roles:{name:"Tên"},scan_action_prototypes:{name:"Tên hành động",barcode:"Mã vạch",required_condition:"Điều kiện bắt buộc",before_actions:"Before_ilities",is_default:"Là mặc định",description_required_scope:"Mô tả phạm vi yêu cầu",description_options:"Tùy chọn mô tả"},staffs:{username:"Tên người dùng",password:"Mật khẩu",password_confirmation:"Xác nhận mật khẩu",name:"Tên",phone:"Điện thoại",email:"E-mail",mobile:"Di động ",fax:"Số fax",tax:"Thuế",country:"Quốc gia",state:"Tiểu bang",city:"Thành phố ",district:"Huyện",address:"Địa chỉ nhà",theme_name:"Chủ đề ",note:"Chú thích",is_banned:"Đã bị cấm",role_identity:"Vai trò",role:"Vai trò",station_identity:"Ga tàu",station:"Ga tàu"},stations:{name:"Tên",code:"Mã",address:"Địa chỉ nhà",phone:"Điện thoại",position:"Chức vụ",note:"Chú thích"},status_prototypes:{name:"Tên",material:"Vật chất",material_class_name:"Vật chất",description:"Sự miêu tả",non_polarity:"Không phân cực",positive_polarity:"Cực tính tích cực",negative_polarity:"Phân cực âm"},user_logs:{title:"Chức vụ",description:"Sự miêu tả",modified_attributes:"Thuộc tính được sửa đổi",level:"Cấp độ",action_type:"Loại hành động",is_undid:"Là hoàn tác",undid_at:"Hoàn tác tại",node_identity:"Nhận dạng nút",operator_identity:"Toán tử (ID)",loggable_identity:"Có thể đăng nhập",loggable_type:"Loại có thể đăng nhập",created_at:"Ngày",updated_at:"cập nhật thời gian",identity:"ID"},core_waybills:{number:"Con số",operation_number:"Số hoạt động",original_number:"Số gốc",tracking_number:"Số theo dõi",storage_number:"Số lưu trữ",warehouse_identity:"Số kho",original_core_waybill_identity:"bản sắc gốc_core_waybill",tracking_core_waybill_identity:"theo dõi_core_waybill danh tính",label_type:"Loại nhãn",sender:"NGƯỜI GỬI",sender_company_name:"Tên công ty người gửi",sender_zip_code:"Mã zip người gửi",sender_address:"Địa chỉ người gởi",sender_name:"Tên người gửi",sender_phone:"Điện thoại người gửi",sender_email:"Email người gửi",sender_fax:"Người gửi fax",sender_url:"Url người gửi",consignee:"NGƯỜI NHẬN",consignee_company_name:"Tên công ty nhận hàng",consignee_zip_code:"Mã bưu điện của người nhận hàng",consignee_address:"Địa chỉ nhận hàng",consignee_name:"Tên người nhận hàng",consignee_phone:"Điện thoại nhận hàng",consignee_email:"Email người nhận hàng",consignee_fax:"Fax nhận hàng",flight_number:"Số chuyến bay",cvs_store_number:"Số cửa hàng Cvs",cvs_store_name:"Tên cửa hàng Cvs",cvs_store_address:"Địa chỉ cửa hàng Cvs",cvs_store_phone:"Cvs lưu trữ điện thoại",station_code:"Mã vùng",temperature:"Nhiệt độ",payment_type:"Hình thức thanh toán",receipt_file:"Hồ sơ nhận",receipt_file_url:"Url tập tin nhận",current_status:"Tình trạng hiện tại",goods_name:"Tên hàng hóa",note:"Chú thích",note_2:"Lưu ý 2",note_3:"Lưu ý 3",declared_value:"Giá trị khai báo",measurement:"Đo lường",weight_in_kilo:"Trọng lượng tính bằng kilo (KG)",serial:"Nối tiếp",is_used:"Được sử dụng",node_identity:"Nhận dạng nút",station_identity:"Danh tính trạm",operation_identity:"Danh tính hoạt động",partition_identity:"Nhận dạng phân vùng",material_identity:"Bản sắc vật chất",source_core_waybill_identity:"Nguồn_core_waybill danh tính",parent_core_waybill_identity:"Danh tính Parent_core_waybill",consignee_address_accuracy:"Địa chỉ nhận hàng_accuracy",consignee_formatted_address:"Người nhận hàng được định dạng địa chỉ",consignee_address_components:"Thành phần địa chỉ nhận hàng",is_done:"Đã xong",is_collected:"Phí giao dịch, trở lại công ty",no_paid:"Không trả tiền",paid:"Đã thanh toán",collection:"Bộ sưu tập",collection_fee:"Bộ sưu tập_fee",simplified_declaration_form_fee:"Simplified_declaration_form_fee",declaration_form_fee:"Tuyên bố_form_fee",declaration_form_extra_fee:"Khai báo_form_extra_fee",tax:"Thuế",price:"Giá bán",insurance:"Bảo hiểm",material_fee:"Chất liệu_fee",consignee_tax_point:"Consignee_tax_point",sender_tax_point:"Người gửi_tax_point",warehouse_fee:"Kho_fee",fuel_surcharge:"Phụ phí xăng dầu",value_added_service_fee:"Giá trị_added_service_fee",overlength_fee:"Overlength_fee",overweight_fee:"Thừa cân_fee",extra_fee:"Thêm_fee",shipping_date:"Ngày vận chuyển",shipping_period:"Thời gian vận chuyển",shipping_note:"Lưu ý vận chuyển",latest_status:"Tình trạng gần đây nhất",created_at:"Tạo thời gian",updated_at:"Cập nhật tại",identity:"Danh tính",is_deleted:"Bị xóa",deleted_at:"Đã xóa tại"}}},ui:{general:{cannot:"Không thể",cannot_use:"Không thể sử dụng",clear:"Thông thoáng",select:"Lựa chọn",please_select:"Xin hãy lựa chọn",yes:"Vâng",no:"Không",no_data:"Không có dữ liệu",date:"Ngày",day:"Ngày",days:"Ngày",hour:"Giờ",hours:"Giờ",minute:"Phút",minutes:"Phút",second:"Thứ hai",operate:"Vận hành",hot_key:"Phím nóng",copy:"Sao chép",note:"Chú thích",simple:"Đơn giản",advanced:"Nâng cao",detail:"Chi tiết",show:"Chỉ",edit:"Chỉnh sửa",create:"Tạo nên",creating:"Tạo",search:"Tìm kiếm",searching:"Đang tìm kiếm",search__key:"Tìm kiếm {key} ...",submit:"Gửi đi",result:"Kết quả",verify:"Kiểm chứng",verifying:"Đang xác minh",verify_staff:"Xác minh nhân viên",update:"Cập nhật",updating:"Đang cập nhật",delete:"Xóa bỏ",deleteing:"Đang xóa",ready:"Sẳn sàng",readying:"Đang đọc",handle:"Xử lý",handling:"Xử lý",cancel:"Hủy bỏ",canceling:"Hủy bỏ",print:"In",printing:"In",upload:"Tải lên",uploading:"Đang tải lên",fetch:"Tìm nạp",success:"Sự thành công",failure:"Thất bại",network_abnormality:"Tình trạng mạng",server_offline:"Máy chủ đang bận. Vui lòng thử lại sau.",error:"Lỗi",back:"Trở lại",initialize:"Khởi tạo.",initializing:"Đang khởi tạo.",initialize_complete:"Khởi tạo hoàn tất.",created_at:"Tạo thời gian",updated_at:"Thời gian cập nhật",deleted_at:"Đã xóa thời gian",folder:"Thư mục",file:"Tập tin",all:"Tất cả các"},page_titles:{index:"Mục lục",current_page:"Trang hiện tại",provider_index:"Nhà",station_index:"Nhà",customer_index:"Nhà",provider_pages:"Các nhà cung cấp",customer_pages:"Khách hàng",uploader:"Trình tải lên",station_uploader:"Trình tải lên trạm",provider_uploader:"Nhà cung cấp tải lên",customer_uploader:"Trình tải lên của khách hàng",operation_show:"Hoạt động",operation_print_list:"Danh sách in hoạt động",operation_print_label:"Nhãn in hoạt động",assets:"Tài sản",assets_index:"Chỉ số tài sản",new_asset:"Tài sản mới",edit_asset:"Chỉnh sửa tài sản",print_asset:"In tài sản",quote_policies:"Trích dẫn chính sách",quote_policy:"Trích dẫn chính sách",provider_customers:"Nhà cung cấp khách hàng",new_provider_customer:"Khách hàng của nhà cung cấp mới",provider_customer:"Nhà cung cấp khách hàng",station_customers:"Khách hàng của trạm",new_station_customer:"Khách hàng của nhà ga mới",station_customer:"Khách hàng của trạm",provider_contracts:"Hợp đồng nhà cung cấp",new_provider_contract:"Liên hệ mới",provider_contract:"Hợp đồng cung cấp",new_provider_quotation:"Báo giá mới",provider_quotation:"Báo giá nhà cung cấp",station_contracts:"Hợp đồng trạm",new_station_contract:"Hợp đồng nhà ga mới",station_contract:"Hợp đồng trạm",new_station_quotation:"Báo giá trạm mới",station_quotation:"Báo giá trạm",scanner:"Máy quét",provider_operations:"Hoạt động",edit_provider_operation:"Chỉnh sửa thao tác",driver_commissions:"Hoa hồng tài xế",materials:"Nguyên vật liệu",new_material:"Vật liệu mới",edit_material:"Chỉnh sửa tài liệu",provider_partitions:"Phân vùng",provider_associated_partitions:"Nhà cung cấp liên kết phân vùng",customer_partitions:"Phân vùng khách hàng",new_provider_partition:"Phân vùng mới",edit_provider_partition:"Chỉnh sửa phân vùng",station_partitions:"Phân vùng trạm",station_associated_partitions:"Phân vùng liên quan đến trạm",new_station_partition:"Phân vùng trạm mới",edit_station_partition:"Chỉnh sửa phân vùng trạm",permissions:"Quyền",permission_groups:"Các nhóm quyền",new_permission_group:"Nhóm quyền mới",edit_permission_group:"Chỉnh sửa nhóm cho phép",customer_core_waybills:"Vận đơn của khách hàng",customer_core_waybills_operation:"Vận hành vận đơn của khách hàng",customer_show_core_waybill_operation:"Vận hành vận đơn khách hàng",customer_show_core_waybill:"Vận đơn khách hàng",core_waybills:"Vận đơn",core_waybills_operation:"Vận hành vận đơn",edit_core_waybill_operation:"Chỉnh sửa thao tác vận đơn",edit_core_waybill:"Chỉnh sửa vận đơn",new_core_waybill:"Vận đơn mới",roles:"Vai trò",new_role:"Vai trò mới",edit_role:"Chỉnh sửa vai trò",settings:"Cài đặt",staffs:"Nhân viên",new_staff:"Nhân viên mới",staff:"Cán bộ",edit_staff:"Chỉnh sửa nhân viên",stations:"Trạm",new_station:"Trạm mới",edit_station:"Chỉnh sửa trạm",status_prototypes:"Nguyên mẫu trạng thái",new_status_prototype:"Nguyên mẫu trạng thái mới",status_prototype:"Nguyên mẫu trạng thái",edit_status_prototype:"Chỉnh sửa nguyên mẫu trạng thái",pack:"Đóng gói",unpack:"Giải nén",page_404:"Tìm thấy 404",operate:"Vận hành",appraisals:"Thẩm định",edit_appraisal:"Chỉnh sửa thẩm định",new_appraisal:"Đánh giá mới",user_logs:"Nhật ký người dùng",user_log:"Nhật ký người dùng",driver_commission_policies:"Chính sách hoa hồng lái xe",new_driver_commission_policy:"Chính sách hoa hồng lái xe mới",edit_driver_commission_policy:"Chỉnh sửa chính sách hoa hồng lái xe",driver_commission_reports:"Báo cáo hoa hồng tài xế",new_driver_commission_report:"Báo cáo hoa hồng lái xe mới",driver_commission_report:"Báo cáo hoa hồng tài xế",scan_action_prototypes:"Quét nguyên mẫu hành động",scan_action_prototype:"Quét nguyên mẫu hành động",new_scan_action_prototype:"Nguyên mẫu hành động quét mới",edit_scan_action_prototype:"Chỉnh sửa nguyên mẫu hành động quét",provider_node:"Cài đặt",customer_operations:"Hoạt động của khách hàng",show_customer_operation:"Hoạt động của khách hàng",new_provider_operation:"Hoạt động mới",provider_distributions:"Phân phối",new_provider_distribution:"Phân phối mới",edit_provider_distribution:"Chỉnh sửa phân phối",permission_denied:"Quyền bị từ chối "},links:{menu:{provider_index:"Mục lục",scan:"Quét",scan_action_prototypes:"Quét nguyên mẫu hành động",status_prototypes:"Nguyên mẫu trạng thái",numbers:"Số",provider_partitions:"Phân vùng",station_partitions:"Phân vùng",assets:"Tài sản",stations:"Trạm",materials:"Nguyên vật liệu",uploader:"Trình tải lên",provider_uploader:"Trình tải lên",station_uploader:"Trình tải lên",customer_uploader:"Trình tải lên",permission_groups:"Các nhóm quyền",core_waybills:"Vận đơn",provider_operations:"Hoạt động",station_operations:"Hoạt động",staffs:"Nhân viên",roles:"Vai trò",users:"Người dùng",routes:"Tuyến đường",processed_files:"Đã xử lý tệp",operation_managers:"Quản lý vận hành",user_logs:"Nhật ký người dùng",import_files:"API Openfile",intelligent:"thông minh",commission_policies:"Chính sách của ủy ban",commission_reports:"Ủy ban báo cáo",driver_commission_policies:"Chính sách hoa hồng lái xe",driver_commission_reports:"Báo cáo hoa hồng tài xế",driver_commissions:"Hoa hồng tài xế",provider_node:"Cài đặt",provider_distributions:"Phân phối",provider_customers:"Nhà cung cấp khách hàng",station_customers:"Khách hàng của trạm "},top_menu:{my_receipts:"Biên lai của tôi",print_check_summary:"In tóm tắt kiểm tra",scanner:"Máy quét",language:"Ngôn ngữ",notice:"Để ý",no_station:"Trạm không bị phát hiện",overtime_note:"Hết giờ nhắc nhở",full_logout:"Đăng xuất hoàn toàn",full_logout_help:"Xóa nhật ký cài đặt.",logout:"Đăng xuất"}},theme_names:{staff:"Cán bộ",driver:"Người lái xe",manager:"Giám đốc",operator:"Nhà điều hành",exception:"Ngoại lệ",default:"Mặc định"},status_scopes:{operator:"Nhà điều hành",forwarder:"Giao nhận",public:"Công cộng",mark:"Dấu",condition:"Điều kiện",system:"Hệ thống",unknown:"Không xác định"},validator:{is_required:" bắt buộc",greater_than:" phải lớn hơn ",if:"Nếu ",is:" Là ",then:" sau đó "},notifications:{help:{this_page_is_out_of_date_please_click_here_to_refresh:"Trang này đã hết hạn, vui lòng bấm vào đây để làm mới.",please_clicked_initialize_again:"Hãy nhấp vào, khởi tạo lại."},success:{fetch:"Lấy thành công.",update:"Cập nhật thành công.",create:"Tạo nên thành công.",delete:"Xóa bỏ thành công.",verify:"Kiểm chứng thành công.",upload:"Tải lên thành công.",__name:"{name} thành công.",fetch__name:"Lấy {name} thành công.",update__name:"Cập nhật {name} thành công.",create__name:"Tạo nên {name} thành công.",delete__name:"Xóa bỏ {name} thành công.",verify__name:"Kiểm chứng {name} thành công.",upload__name:"Tải lên {name} thành công.",copy__name:"Sao chép {name} thành công."},warning:{are_you_sure_to_delete_it:"Bạn có chắc chắn muốn xoá nó?",are_you_sure_to_cancel_it:"Bạn có chắc chắn để hủy bỏ nó?"},error:{find:"Tìm thấy thất bại {reason}.",fetch:"Lấy thất bại {reason}.",update:"Cập nhật thất bại {reason}.",create:"Tạo nên thất bại {reason}.",delete:"Xóa bỏ thất bại {reason}.",verify:"Kiểm chứng thất bại {reason}.",upload:"Tải lên thất bại {reason}.",copy:"Sao chép thất bại {reason}.",__name:"{name} thất bại.",find__name:"Find {name} thất bại {reason}.",fetch__name:"Lấy {name} thất bại {reason}.",update__name:"Cập nhật {name} thất bại {reason}.",create__name:"Tạo nên {name} thất bại {reason}.",delete__name:"Xóa bỏ {name} thất bại {reason}.",verify__name:"Kiểm chứng {name} thất bại {reason}.",upload__name:"Tải lên {name} thất bại {reason}.",copy__name:"Sao chép {name} thất bại {reason}.",no_data:"Không có dữ liệu",please_handle_errors:"Vui lòng xử lý lỗi.",exception_error_please_contact_the_system_supplier:"Lỗi ngoại lệ, Vui lòng liên hệ với nhà cung cấp hệ thống.",please_check_to_write_in_the_required_fields_mark:"Vui lòng kiểm tra để viết vào các trường bắt buộc (dấu *). "}},scanner:{settings:{is_scan_mode:{true:"Chế độ quét | Quét",false:"Chế độ viết | Viết "},is_scan_action_mode:{true:"Chế độ làm việc | Công việc",false:"Chế độ xem | Lượt xem"},is_batch_mode:{true:"Chế độ hàng loạt | Mẻ | Cảnh báo mode Chế độ hàng loạt được kích hoạt, các số cần phân tách bằng dấu phẩy (,) và không nhắc nhở trường bắt buộc. ",false:"Không có chế độ hàng loạt | Không có đợt "},is_operation_mode:{true:"Chế độ hoạt động | Hoạt động ",false:"Không có chế độ hoạt động | Không hoạt động"},is_core_waybill_pieces_mode:{true:"Chế độ truy cập | Chế độ truy cập ",false:"Không có chế độ truy cập | Không có chế độ truy cập "},is_core_waybill_creation_mode:{true:"Tạo một vận đơn | Xây dựng một",false:"Không thiết lập vận đơn | Không xây dựng một"},is_webcam_mode:{true:"Ống kính | Ống kính",false:"Tắt ống kính | Tắt ống kính"},is_update_corewaybill_mode:{true:"Corewaybill | Vận đơn hàng ngày ",false:"Xem corewaybill | Xem vận đơn "},is_auto_print_label_mode:{true:"Chế độ in nhãn tự động | In nhãn",false:"Không có nhãn in | Không có nhãn in "},is_distributed_to_mode:{true:"Phân phối cho chế độ | Phân phối ",false:"Không phân phối | Không phân phối "},is_noty_audio_mode:{true:"Chế độ âm thanh đáng chú ý | Âm thanh đáng chú ý ",false:"Không có âm thanh đáng chú ý | Không có âm thanh đáng chú ý "},is_speech_mode:{true:"Chế độ nói | Phát biểu",false:"Đừng nói | Không có lời nói "},is_quick_corewaybill_related_columns:{true:"Cột liên quan đến corewaybill nhanh | Dữ liệu nhanh ",false:"Không có cột liên quan nhanh | Không có dữ liệu nhanh "},is_package_mode:{true:"Chế độ gói | Gói | Bao bì ",false:"Không có gói "},is_unpackage_mode:{true:"Chế độ giải nén | Giải nén | Giải nén ",false:"Không giải nén "},pack_need_source_mode:{short_name:"cần dữ liệu nguồn ",true:"Sử dụng",false:"Không sử dụng "},core_waybill_template_mode:{short_name:"Xem phong cách vận đơn ",min_card:"Chế độ xem tối thiểu | Tối thiểu",card:"Chế độ xem cơ bản | Căn bản",detail:"Xem chi tiết | Chi tiết"}},setting_groups:{LB00:"Khởi đầu vận đơn",LB01:"1.Release",LB02:"2. Điểm để thanh toán",LB06:"3. Không bình thường",LB07:"3. Loại trừ",LB11:"Khóa",LB12:"Mở khóa",LA00:"vận đơn khởi xướng",LA01:"1.Release",LA02:"2.Trong trạm",package:"Gói",LA03:"3. Không thể thiếu",LA10:"3. Giao thông vận tải",LA09:"3. Chuyển khoản",LA05:"4. Trạm trả lại",LA04:"4. Đã giảng",LA06:"4. Không bình thường",LA07:"4. Loại trừ",LA08:"Người gửi trở lại",LA11:"Khóa",LA12:"Mở khóa",LA13:"thua cuộc",LA21:"Đang vào kho",LA22:"Kệ",LA23:"Ra khỏi vị trí",LA24:"Hàng hóa không xác định",unpackage:"Giải nén",distributed_to:"Phân phối",pack_house_waybill:"gói nhà vận đơn",pack_waybill_goods:"đóng gói hàng hóa vận đơn",search:"Tìm kiếm",print:"In"},menus:{settings:"Cài đặt",setting_group:"Nhóm cài đặt",operation:"Hoạt động",package:"Gói",core_waybill:"Vận đơn "},jobs:{job:"Việc làm",clear_jobs:"Xóa công việc",waiting_user_action:"Chờ đợi hành động của người dùng",idle:"Nhàn rỗi",processing:"Chế biến",success:"Sự thành công",failure:"Thất bại",number:"Con số",no_add_status:"Không thêm trạng thái",no_error:"Không có lỗi",scope:{original_number:"Số gốc",new:"Mới"}},package:{packing_material:"Vật liệu đóng gói",package:"Gói",unpackage:"Giải nén",total__number:"Toàn bộ:{number}",detail:"Chi tiết",hide:"Ẩn giấu"},upload:{receipt_file:"Tải lên tệp biên nhận",result:"Tải lên kết quả"},helps:{select:"Lựa chọn",write:"Viết",scan:"Quét",quick_required_field_div:"Trường div yêu cầu nhanh",current_scan_action_prototype:"Nguyên mẫu hành động quét hiện tại",distributed_result:"Kết quả phân phối",you_dont_any_operation:"Bạn không thực hiện bất kỳ hoạt động nào.",write_or_scan_barcode:"Viết hoặc quét mã vạch.",write_related_columns:"Viết các cột liên quan.",write_scan_action_note:"Viết ghi chú hành động quét.",write_number:"Viết số",select_scan_action:"Chọn hành động quét",select_pack_taget_parent:"Chọn gói phụ huynh.",select_pack_taget:"Chọn gói thẻ",select_target_layer:"Chọn lớp mục tiêu",selected_operation:"Hoạt động được chọn",distributed:{please_select:"Xin hãy lựa chọn",current_station:"trạm hiện tại",can_use_distributed_to_mode:"có thể sử dụng chế độ phân tán."}},alerts:{is_created:"Được tạo ra",required:"Cần thiết",previous:"Trước",give_up:"Bỏ cuộc",definite:"Xác định",please_write:"Làm ơn hãy viết",required_field:"Phần bắt buộc",if_have_write:"Nếu có, hãy viết nó",upload_receipt_img:"Tải lên biên nhận img",upload_result:"Tải lên kết quả",uploading:"Đang tải lên",please_write_scan_note:"Hãy viết ghi chú quét"},operations:{total:"Toàn bộ: {operations_length} hoạt động，{sum_core_waybills} vận đơn",contents:"vận đơn",current_operation_set_to:"Hoạt động hiện tại được đặt thành",clear_current_operation:"Xóa hoạt động hiện tại"},success:{quick_setting:"Cài đặt nhanh thành công"},errors:{web_camera_error_will_close:"WebCamera không thể bắt đầu, sẽ tự động đóng.",multiple_numbers_in_batch_mode:"Nhiều số trong chế độ hàng loạt.",setting_group_not_found:"Không tìm thấy nhóm cài đặt.",setting_not_found:"Không tìm thấy cài đặt.",partition_not_found:"Không có phân vùng lựa chọn",core_waybill_not_found:"không tìm thấy vận đơn.",failed_to_fetch_core_waybill_statuses:"Không thể chuyển trạng thái vận đơn.",failed_to_instantiate_scan_action_prototype:"Không thể khởi tạo nguyên mẫu hành động quét.",failed_to_update_core_waybill_related_column:"Không thể cập nhật các cột liên quan đến vận đơn.",give_up_core_waybill_related_columns:"Từ bỏ các cột liên quan đến vận đơn.",give_up_scan_action_description:"Từ bỏ mô tả hành động quét.",give_up_create_core_waybill:"Hãy từ bỏ việc tạo ra vận đơn."}},pages:{customer_home:{title:"Bienvenido a la cử chỉ khách hàng"},partials:{page_404:{cant_find_page:"Không thể tìm thấy trang."},permission_denied:{you_dont_permission:"Bạn không cho phép."},login_expiration_hint_modal:{idle:"Nhàn lạc",content:"Hệ thống phát hiện ra rằng bạn đã không sử dụng trong một thời gian dài，{time} sẽ tự động đăng xuất.",i_am_back:"Tôi nhận lại"}},login:{customer_management_login:"Bảng điều khiển khách hàng",provider_management_login:"Bảng điều khiển nhà cung cấp",station_management_login:"Bảng điều khiển trạm",please_enter_your_account_and_password:"Đăng nhập",account:"Tài khoản",password:"Mật khẩu",verification_code:"Mã xác nhận",pass_next_timeout_will_dont_warn:"Vượt qua thời gian chờ tiếp theo, sẽ không cảnh báo.",btns:{auto_input_test_account:"Kiểm tra tài khoản",login:"Đăng nhập"},errors:{your_site_has_not_registered_system:"Trang web của bạn chưa được đăng ký hệ thống",please_fill_in_the_verification_code:"Vui lòng điền mã xác minh",account_or_password_incorrect:"Tài khoản hoặc mật khẩu không chính xác",verification_code_incorrect:"Mã xác minh không chính xác",verification_code_expired:"Mã xác minh đã hết hạn",failure_to_login:"Không đăng nhập được",timeout:"Tự động đăng xuất sau khi nhàn rỗi quá lâu."}},appraisals:{point:"Điểm",reason:"Lý do",staff_identity:"Cán bộ",registrant_identity:"Người đăng ký"},monitor:{menu_title:{all:"Tất cả các",myself:"Riêng tôi",station:"Ga tàu"},title:{all_pending_operations:"Tất cả các hoạt động đang chờ xử lý",all_pending_waybills:"Tất cả các vận đơn đang chờ xử lý",pending_operations:"Hoạt động đang chờ xử lý",pending_waybill_in_operations:"Đang chờ vận đơn trong hoạt động",pending_waybills:"Vận đơn đang chờ xử lý"},sub_title:{not_completed_operations:"Chưa hoàn thành các hoạt động",not_completed_waybills:"Vận đơn chưa hoàn thành",assigned_to_me_but_not_completed_operations:"Được giao cho tôi nhưng không hoàn thành các hoạt động",assigned_to_me_but_not_completed_waybill_in_operations:"Được giao cho tôi nhưng chưa hoàn thành vận đơn trong hoạt động",the_unfinished_waybill_that_was_last_my_scanned:"Vận đơn chưa hoàn thành cuối cùng được quét của tôi",assigned_to_stationg_but_not_completed_operations:"Được gán cho <span style='color: green;'>{Station_name}</span> nhưng chưa hoàn thành các hoạt động",assigned_to_stationg_but_not_completed_waybill_in_operations:"Được gán cho <span style='color: green;'>{Station_name}</span> nhưng chưa hoàn thành vận đơn trong các hoạt động"}},assets:{categories:"Thể loại",print_barcode:"In mã vạch",have_category:"Có thể loại",clear_value:"Xóa giá trị",helps:{no_anything_category:"Không có gì cả",no_anything_assets:"Không có tài sản gì cả",write_or_use_category_list:"Viết hoặc sử dụng danh sách danh mục",please_clicked_upper_left_new_asset_button:"Vui lòng nhấp vào nút tài sản mới bên trái phía trên. "}},customer_contracts:{additional_information:"Thông tin thêm"},customers:{contracts:"Hợp đồng",normal:"Bình thường",banned:"Cấm",unbanned:"Không có người điều khiển",is_banned:"Đã bị cấm",proxy_login:"Đăng nhập proxy",basic_information:"Thông tin cơ bản",common_sender_information:"Thông tin người gửi thông thường",common_consignee_information:"Thông tin người nhận hàng thông thường",is_open_use_associated_partition:"Được sử dụng mở 「Phân vùng liên kết」",is_open_use_use_yourself_partition:"Đang mở sử dụng 「Sử dụng phân vùng chính mình」",show_basic_information:"Chỉnh sửa, xem tên tài khoản của khách hàng, thông tin liên hệ và quyền sử dụng",show_common_sender_information:"Chỉnh sửa, xem thông tin người gửi chung",show_common_consignee_information:"Chỉnh sửa, xem thông tin người nhận chung",show_contracts:"Hợp đồng thuộc sở hữu của khách hàng",contract:{name:"Tên tệp",created_at:"Tạo tại "},helps:{the_password_does_not_match_the_confirmation_password:"Mật khẩu không khớp với mật khẩu xác nhận. "}},distributions:{activated:"Đã kích hoạt",unactivated:"Chưa hoạt động",add_condition:"Thêm điều kiện",add_condition_help:"Cách viết điều kiện？",add_condition_help_content_1:"1. 同樣條件類型的項目會做OR比對，不同條件類型的項目是做AND比對，例如：直轄市台北市+直轄市區信義區+直轄市區中正區+直轄市新北市+直轄市區新店區五個條件，符合本區配送條件的地址有台北市信義區、台北市中正區及新北市新店區",add_condition_help_content_2:"2. Vui lòng viết tên đầy đủ của Trung Quốc",condition_type:"Loại điều kiện",content:"Nội dung",undo:"Hủy bỏ",filter:{direct:"Thẳng thắn",intermodal:"Đa phương "}},driver_commissions:{driver:"Người lái xe",no_done:"Không xong",core_waybill_number:"Số vận đơn "},driver_commission_policies:{activated_switch:"Công tắc được kích hoạt",activated:"Đã kích hoạt",pickup:"Nhặt lên",bag:"Túi",table:{general_pickup:"Đón chung",general_delivery:"Phòng thư lưu",bag_pick:"Chọn túi",bag_delivery:"Giao túi",is_activated:"Được kích hoạt",first_weight:"Trọng lượng đầu tiên",first_price:"Giá đầu tiên",follow_up_weight:"Theo dõi cân nặng",follow_up_price:"Theo dõi giá "}},driver_commission_reports:{total_amount_of_commission:"Tổng số tiền hoa hồng",print:"In",setting:"Cài đặt",print_setting:"Cài đặt in",detailed_mode:"Chế độ chi tiết",from:"Từ",to:"Đến",status:"Trạng thái",no_select_date:"Không chọn ngày",start_all:"Bắt đầu tất cả",go_to_report:"Đi báo cáo",table:{pickup_details:"Chi tiết đón khách",dispatch_details:"Công văn chi tiết",No:"Không.",number:"Con số",weight:"Cân nặng",date:"Ngày",commission:"Hoa hồng (đô la)",total:"Toàn bộ"},filter:{staff_name:"Tên nhân viên",begin_at:"Bắt đầu tại",end_at:"Kết thúc tại",total_amount_from:"Tổng số tiền từ ...",total_amount_to:"Tổng số tiền để ...",created_at:"Tạo tại "}},nodes:{company_information:"Thông tin công ty"},operations:{provider_note_value:"Tên người gửi: \nSender điện thoại: \n",processing:"Chế biến",contract:"Hợp đồng",content:"Nội dung đặt hàng",schedule:"Lịch trình",waybill_amount:"Số tiền",print_receipt:"Biên lai in",print_coew_waybill_labels:"In nhãn vận đơn coew",print_coew_waybill_checklist:"In danh sách kiểm tra vận đơn coew",delete_help:"Hoạt động bỏ đi, nhà Gói 、 Vận đơn sẽ bị xóa.",_name_operation_list:"{name} danh sách hoạt động",_name_customer_receipt:"{name} biên nhận của khách hàng",helps:{please_confirm_sender_and_contract_are_selected:"Vui lòng xác nhận người gửi và hợp đồng được chọn. "},table:{finish:"Hoàn thành",total:"Toàn bộ"}},partitions:{automatic_number:"Số tự động",use_yourself:"Sử dụng chính mình",statistics:"Số liệu thống kê",total_amount:"Tổng cộng",available_quantity:"Số lượng có sẵn",if_use_it_yourself_do_not_write:"Nếu tự mình sử dụng, đừng viết"},uploader:{redo:"Làm lại",open_file:"Mở tệp",operation_list:"Danh sách hoạt động",upload_operation_list:"Tải lên danh sách hoạt động",selected:"Đã chọn",contract:"Hợp đồng",your_actions:"Hành động của bạn",operation_order:"Hoạt động",field_data_succeeded:"Dữ liệu thực địa đã thành công",checking_waybill_data_ok:"Kiểm tra dữ liệu vận đơn ok",checking_operation_data_ok:"Kiểm tra dữ liệu vận hành ok",upload_detail_completed:"Chi tiết tải lên đã hoàn thành",continue_next_file:"Tiếp tục tập tin tiếp theo",materialization_operation:"Hoạt động vật chất hóa",consignment:"Lô hàng",delivery:"Chuyển",total:"Toàn bộ",total__number:"Toàn bộ: {number}",dimmer:{what_do_you_want_now:"Bạn muốn gì",please_upload_your_file:"Vui lòng tải lên tập tin của bạn",download_sample_file:"Tải xuống tệp mẫu",clicked_this_card_redo:"Nhấp vào làm lại thẻ này",select_file:"Chọn tập tin"},steps:{title:{operation:"Hoạt động",confirm_data:"Xác nhận dữ liệu",upload_data:"Tải dữ liệu lên"},description:{operation_content:"Nội dung hoạt động",confirm_data_is_correct:"Xác nhận dữ liệu là chính xác",upload_data_to_server:"Tải dữ liệu lên máy chủ"}},file:{name:"Tên tệp",size:"Kích thước tập tin",path:"Đường dẫn tập tin",upload:"Tải tệp lên",complete:"Hoàn thành",not_uploaded:"Không được tải lên"},column_verification:{required_field:"Phần bắt buộc",unknown_waybill:"Vận đơn không xác định"}},scan_action_prototypes:{binding_material:"Vật liệu kết dính",print_barcodes:"In mã vạch",field_name:"Tên trường",value:"Giá trị"},staffs:{appraisals:"Thẩm định",normal:"Bình thường",banned:"Cấm",unbanned:"Không có người điều khiển",is_banned:"Đã bị cấm"},user_logs:{record_object:"Ghi lại đối tượng",operator:"Nhà điều hành",field_name:"Tên trường",value:"Giá trị",yes:"Vâng",no:"Không"},core_waybills:{done:"Làm xong",print_filter_result_labels:"In nhãn",export_csv_file:"Xuất CSV",export_clearance_csv_file:"Xuất khẩu giải phóng mặt bằng CSV",export_daily_csv_file:"Xuất CSV hàng ngày",download_daily_csv_file:"Tải xuống CSV hàng ngày",please_select_partition:"Vui lòng chọn phân vùng",back_to_select_partition:"Quay lại chọn phân vùng",partition_number_from:"Số từ",partition_number_to:"Số thành",again:"Lần nữa",upload_picture:"Tải ảnh lên",no_upload_any_picture:"Không tải lên bất kỳ hình ảnh nào",system_generation:"Tạo hệ thống",have_contained_status:"có trạng thái",is_where_like_filter_mode:"Tìm kiếm mờ",is_not_where_like_filter_mode:"Tìm kiếm chính xác",status:{"可使用":"Có thể sử dụng","使用中":"Sử dụng","曾經使用過":"Đã sử dụng","可放行":"Đáng tin cậy","放行中":"Phát hành","曾經放行過":"Phát hành lại","可點交":"Đáng tin cậy","點交中":"Giải phóng","曾經點交過":"Phát hành lại","可收貨":"Biên lai","收貨中":"Nhận","曾經收貨過":"Đã nhận","可進站":"Có thể kiểm tra","進站中":"Đang kiểm tra","曾經進站過":"Đã kiểm tra","可配送":"Có thể thay đổi","配送中":"Chuyển đổi nhanh","曾經配送過":"Chuyển đổi","可回站":"Trả lại","回站中":"Trở về","曾經回站過":"Trả lại","可配達":"Đã xong","配達中":"Đang quyên góp","曾經配達過":"Được tặng","可中轉":"Có thể chuyển nhượng","中轉中":"Chuyển nhượng","曾經中轉過":"Đã chuyển nhượng","可聯運":"Không thể thay đổi","聯運中":"Đa biến","曾經聯運過":"Đa biến","可異常件":"Ngoại lệ","異常件中":"Ngoại lệ","曾經異常件過":"Ngoại lệ","可鎖定":"Có thể khóa","鎖定中":"Khóa","曾經鎖定過":"Đã khóa","可完成":"Đã xong","完成中":"Đang quyên góp","曾經完成過":"Được tặng",USABLE:"Hoa Kỳ",CHECKABLE:"KIỂM TRA",SHIPPABLE:"CHIA SẺ",SHIPPING:"ĐANG CHUYỂN HÀNG",TRANSFERING:"CHUYỂN GIAO",EXCEPTIONABLE:"TUYỆT VỜI",EXCEPTIONING:"NGOẠI TRỪ",SENDER_REGRETABLE:"GỬI ĐĂNG KÝ",CHECKING:"KIỂM TRA",TRANSFERABLE:"CHUYỂN GIAO",INTERMODALABLE:"TƯƠNG TÁC",INTERMODALING:"GIAO DỊCH",RELEASABLE:"Đáng tin cậy",CAN_HAND_OVER:"CÓ THỂ TAY QUÁ",LOCKING:"KHÓA",IS_DONE:"ĐÃ XONG",system:"Hệ thống",condition:"điều kiện",administrator:"người quản lý",operator:"Nhà điều hành",forwarder:"Giao nhận",public:"Công cộng",mark:"dấu",no_latest_status:"Không có trạng thái mới nhất"},filter:{asynchronous:"Tìm kiếm không đồng bộ",find__key:"Tìm {key} ...",find_number:"Tìm số ...",clear:"Thông thoáng",numbers:"Số",waybill_content:"Nội dung vận đơn",status:"Trạng thái",have_contained:"Có chứa",clearance_date:"Ngày giải phóng mặt bằng",selected_is_used:"Đã chọn is_use",is_used:{true:"Đã sử dụng",flase:"Không được sử dụng"},material:"Vật chất",selected_material:"Vật liệu được chọn",selected_station:"Ở đâu",selected_staff:"Người nào",selected_status:"Trạng thái",selected_status_scope:"Phạm vi",selected_polarity:"Cực tính",polarity:{positive:"Là",negative:"Không được ở"},status_depiction:{now:"Hiện nay",at_the:"tại",in_the:"bên trong",by:"bởi",handle:"xử lý",before_by:"Trước bởi",added:"thêm"}}}},toolbox:{back_to_top_button:{back_to_top:"Trở lại đầu trang"},bulletin_board:{name:"Bảng thông báo",message:"Thông điệp",no_messages:"Không có tin nhắn!",talk_your_comment:"Nói bình luận của bạn"},crud_templates:{new:"Mới"},core_waybills_label_svg:{labels:{paper_type:"Loại giấy",printing_type:"Kiểu in",paper_size:"Khổ giấy",template:"Bản mẫu"},printing_types:{"Label::Default":"Mặc định","Label::ByExpress":"ByExpress","Label::ChangQing":"ChangQing","Label::FlyCargo":"FlyCargo","Label::Condor180":"Condor180","Label::Pelican":"Pelican","Label::HCT":"HCT","Label::TCat":"TCat","Label::FamilyMart":"FamilyMart","Label::Presco":"Presco","Label::Invoice":"Hóa đơn","Label::FamilyMartInvoice":"FamilyMart(Hóa đơn)","Label::PrescoInvoice":"Presco(Hóa đơn)"},btns:{print:"In",old_print:"Logic cũ",new_print:"Logic mới"},helps:{numbers_input:"Số ví dụ: 123,456,789"},errors:{no_authentication_token:"Không có xác thực_token",no_number:"Hãy viết số"}},core_waybill:{parent_core_waybill:"Vận đơn của phụ huynh",child_core_waybill:"Vận đơn trẻ em",no_any_parent_and_child_waybill:"Không có bất kỳ vận đơn nào của cha mẹ và con cái",use_partition:"Vách ngăn",partition_number_from:"Số từ",partition_number_to:"Số thành",btns:{label:"Nhãn",print:"In",print_again:"In lại",update:"Ngày hôm nay",switch_style:"Chuyển đổi phong cách",simple:"Đơn giản",detail:"Chi tiết"},helps:{source:"Nguồn",is_deleted:"Đã xóa, vui lòng quay lại.",tooltip_have_source_core_waybill:"Dữ liệu vận đơn hiện tại là từ {number}, Nhấp để chỉnh sửa"},errors:{please_clicked_initialize_again:"Vui lòng nhấp, khởi tạo lại.",change_template_error:"Thay đổi lỗi mẫu.",no_number:"Không có số.",invalid_loading_image:"Tải hình ảnh không hợp lệ.",waybill_no_label_class_cant_print:"Vận đơn không có lớp nhãn không thể in.",props_is_can_print_label_unable:"Đạo cụ là_can_print_label không thể.",no_label_type:"Không có loại nhãn.",label_type_error:"Lỗi loại nhãn.",label_paper_type_error:"Lỗi nhãn loại giấy."}},core_waybills:{quick_update_table:"Bảng cập nhật nhanh",quick_update:"Cập nhật nhanh",batch_edit:"Chỉnh sửa hàng loạt",no_station:"Không có trạm",packed_in:"Đóng gói trong",deleted:"Đã xóa",add_table:"Thêm bảng"},operation_summary:{print_operation_list:"Danh sách thao tác in",table:{sender_signature:"Chữ ký người gửi",driver_signature:"Chữ ký tài xế"}},receipts:{print_receipt:"Biên lai in"},stations_modal:{turn_of_GPS:"Biến GPS",turn_on_GPS:"Bật GPS",turn_on_auto_tracking:"Bật theo dõi tự động",modify_current_station:"Thay đổi trạm hiện tại",please_select_the_current_station:"Vui lòng chọn trạm hiện tại",you_are_not_a_manager_will_modify_station_please_contact_the_manager:"Bạn không phải là người quản lý, sẽ sửa đổi trạm, vui lòng liên hệ với người quản lý",you_do_not_belong_station_will_update_your_data_after_selection:"Bạn không thuộc về trạm, sẽ cập nhật dữ liệu của bạn sau khi chọn",current_station:"Trạm hiện tại",tracking_GPS:"Theo dõi GPS",decisioning:"Quyết định",cancel_current_station:"Hủy trạm hiện tại",btns:{track_once:"Theo dõi (một lần)",auto_tracking_every_minute:"Theo dõi tự động (mỗi phút)"},errors:{geolocation_is_not_supported_by_this_browser:"Định vị địa lý không được trình duyệt này hỗ trợ. ",your_web_protocol_is_not_HTTPS:"Giao thức web của bạn không phải là HTTPS, Xem https://goo.gl/rStTGz. ",get_location_failure:"Nhận thất bại vị trí. "}},speed_test:{network_quality:"Chất lượng mạng "},my_receipts:{neme:"Biên lai của tôi ",force_current_station:"Buộc trạm hiện tại ",print:"{page} In {note} ",customer_receipt:"Biên lai khách hàng "},notifications:{mark_all_read:"Đánh dấu tất cả đã đọc",no_new_notifications:"Không có thông báo mới",no_news:{title:"Không có thông báo mới",content:"Hiện tại không có thông báo mới và tất cả các thông báo mới sẽ xuất hiện ở đây."}}},el:{colorpicker:{confirm:"ĐƯỢC",clear:"Thông thoáng"},date_option_shortcut:{today:"Hôm nay",three_days:"Ba ngày trước",week:"Một tuần trước",month:"Một tháng trước",three_months:"Ba tháng trước",six_months:"Nửa năm trước"},daterange_option_shortcut:{today:"Hôm nay",three_days:"Ba ngày",week:"Tuần",month:"Tháng",three_months:"Ba tháng",six_months:"Sáu tháng"},datepicker:{now:"Hiện nay",today:"Hôm nay",cancel:"Hủy bỏ ",clear:"Thông thoáng",custom:"Tùy chỉnh",confirm:"ĐƯỢC",selectDateTime:"Chọn ngày và giờ ",selectDate:"Chọn ngày",selectTime:"Chọn thời gian ",startDate:"Ngày bắt đầu ",startTime:"Thời gian bắt đầu",endDate:"Ngày cuối",endTime:"Thời gian kết thúc",prevYear:"Năm trước",nextYear:"Năm sau",prevMonth:"Tháng trước",nextMonth:"Tháng tiếp theo",year:"năm",month1:"Tháng Giêng",month2:"Tháng hai",month3:"Tháng Ba",month4:"Tháng 4 ",month5:"Có thể",month6:"Tháng Sáu ",month7:"Tháng 7 ",month8:"Tháng Tám",month9:"Tháng Chín",month10:"Tháng Mười",month11:"Tháng 11 ",month12:"Tháng 12 ",week:"tuần",weeks:{sun:"Mặt trời",mon:"Môn",tue:"Tuệ",wed:"Thứ Tư",thu:"Thu",fri:"Thứ sáu",sat:"Ngồi"},months:{jan:"Tháng giêng",feb:"Tháng Hai",mar:"Tháng ba",apr:"Tháng Tư",may:"Có thể",jun:"Tháng Sáu",jul:"Tháng Bảy",aug:"Tháng 8",sep:"Tháng chín",oct:"Tháng 10",nov:"Tháng 11",dec:"Tháng 12"}},select:{loading:"Tải",noMatch:"Không có dữ liệu phù hợp",noData:"Không có dữ liệu",placeholder:"Lựa chọn"},cascader:{noMatch:"Không có dữ liệu phù hợp ",loading:"Tải",placeholder:"Lựa chọn"},pagination:{goto:"Đi đến",pagesize:"Dự án/Trang",total:"Toàn bộ {total} Trang",pageClassifier:"Trang"},messagebox:{title:"Thông điệp",confirm:"ĐƯỢC",cancel:"Hủy bỏ",error:"Đầu vào bất hợp pháp"},upload:{deleteTip:"nhấn xóa để xóa",delete:"Xóa bỏ",preview:"Xem trước",continue:"Tiếp tục"},table:{emptyText:"Không có dữ liệu",confirmFilter:"Xác nhận",resetFilter:"Cài lại",clearFilter:"Tất cả các",sumText:"Tổng hợp"},tree:{emptyText:"Không có dữ liệu"},transfer:{noMatch:"Không có dữ liệu phù hợp",noData:"Không có dữ liệu",titles:["Danh sách 1","Danh sách 2"],filterPlaceholder:"Nhập từ khóa",noCheckedFormat:"{total} mặt hàng",hasCheckedFormat:"{checked}/{total} đã kiểm tra"}}}}},"04ab":function(e,t,i){"use strict";var n=i("fdad"),s=i.n(n);s.a},"0515":function(e){e.exports={manager:["provider_index","scan","status_prototypes","stations","provider_partitions","provider_uploader","materials","core_waybills","provider_operations","permission_groups","roles","staffs","user_logs","scan_action_prototypes","provider_node","provider_customers","scanner"],operator:["provider_operations","provider_uploader","core_waybills","scanner"],driver:["assets","provider_operations","scanner"],staff:["status_prototypes","stations","provider_partitions","customer_nodes","provider_uploader","materials","core_waybills","provider_operations","staffs","user_logs","scan_action_prototypes","scanner"],default:[],exception:[]}},"0531":function(e,t,i){"use strict";var n=i("7b67"),s=i.n(n);s.a},"055e":function(e,t,i){"use strict";var n=i("5aee"),s=i.n(n);s.a},"05ec":function(e,t,i){},"0743":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{margin:"1rem 0"},attrs:{id:"top_menu"}},[i("div",{staticClass:"menus",staticStyle:{"text-align":"right"}},[i("div",{staticClass:"ui compact menu"},[e.show_receipts?i("div",{staticClass:"item",attrs:{"data-tooltip":e.$t("ui.links.top_menu.my_receipts"),"data-position":"bottom center"}},[i("MyReceipts")],1):e._e(),e.show_check_summary?i("div",{staticClass:"item",attrs:{"data-tooltip":e.$t("ui.links.top_menu.print_check_summary"),"data-position":"bottom center"}},[i("CheckSummary")],1):e._e(),i("div",{staticClass:"item mobile hidden",attrs:{"data-tooltip":e.$t("ui.links.top_menu.scanner")+"（"+e.$t("ui.general.hot_key")+"：Ctrl + Q）","data-position":"bottom center"}},[i("div",{staticClass:"ui icon button",on:{click:function(t){e.$bus.$emit("toggle_scanner_modal","show")}}},[i("i",{staticClass:"barcode large icon"})])])]),i("div",{staticClass:"ui compact menu"},[i("div",{staticClass:"item",attrs:{"data-tooltip":e.$t("ui.links.top_menu.notice"),"data-position":"bottom center"}},[i("Notifications")],1),i("div",{staticClass:"item",attrs:{"data-tooltip":e.$t("ui.links.top_menu.language"),"data-position":"bottom center"}},[i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui icon dropdown top right pointing button"},[i("i",{staticClass:"globe large icon"}),i("div",{staticClass:"menu"},[i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("zh-TW")}}},[e._v("繁體")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("zh-CN")}}},[e._v("简体")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("en-US")}}},[e._v("English")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("ja-JP")}}},[e._v("日本語")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("es-ES")}}},[e._v("Español")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("vi-VN")}}},[e._v("Tiếng Việt")])])])]),i("div",{staticClass:"item"},[i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui icon dropdown top right pointing button"},[i("i",{staticClass:"setting large icon"}),i("div",{staticClass:"menu"},[i("div",{staticClass:"header"},[e._v("\n                            "+e._s(e.current_staff.name)+"\n                        ")]),i("a",{staticClass:"item",on:{click:e.$parent.logout}},[e._v("\n                            "+e._s(e.$t("ui.links.top_menu.logout"))+"\n                        ")]),i("a",{staticClass:"item",on:{click:function(t){e.$parent.logout(!0)}}},[e._v("\n                            "+e._s(e.$t("ui.links.top_menu.full_logout"))+"\n                        ")])])])]),i("div",{staticClass:"item"},[i("SpeedTest")],1)])]),i("div",{staticClass:"clear"})])},s=[],a=i("16e6"),r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"my_receipts"},[i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui icon dropdown button"},[i("i",{staticClass:"newspaper large icon"}),i("div",{staticClass:"menu"},[i("div",{staticClass:"custom_item"},[i("el-date-picker",{staticClass:"next_input_row",staticStyle:{width:"180px !important"},attrs:{"unlink-panels":"",type:"datetimerange",align:"center","start-placeholder":e.$t("ui.el.datepicker.startDate"),"end-placeholder":e.$t("ui.el.datepicker.endDate"),"picker-options":e.$store.state.element_ui_datepicker_daterange_options},model:{value:e.dates,callback:function(t){e.dates=t},expression:"dates"}})],1),i("div",{staticClass:"item",on:{click:function(t){t.preventDefault(),e.print_my_receipts("A4")}}},[e._v("\n                "+e._s(e.$t("ui.toolbox.my_receipts.print",{page:"A4"}))+"\n            ")]),i("div",{staticClass:"item",on:{click:function(t){t.preventDefault(),e.print_my_receipts("A5")}}},[e._v("\n                "+e._s(e.$t("ui.toolbox.my_receipts.print",{page:"A5"}))+"\n            ")]),i("div",{staticClass:"item",on:{click:function(t){t.preventDefault(),e.force_location_print_my_receipts("A4")}}},[e._v("\n                "+e._s(e.$t("ui.toolbox.my_receipts.print",{page:"A4",note:"("+e.$t("ui.toolbox.my_receipts.force_current_station")+")"}))+"\n            ")]),i("div",{staticClass:"item",on:{click:function(t){t.preventDefault(),e.force_location_print_my_receipts("A5")}}},[e._v("\n                "+e._s(e.$t("ui.toolbox.my_receipts.print",{page:"A5",note:"("+e.$t("ui.toolbox.my_receipts.force_current_station")+")"}))+"\n            ")])])]),i("Receipts",{attrs:{show_buttons:!1,default_search_params:{condition:{current_ship:1,current_operator_identity:e.current_staff.identity},material:{class_names:"Waybill"},pagination:!1},logo_url:"/images/"+e.current_node.company_en_name.replace(/(?:^|\.|\s?)([A-Z])/g,function(e,t){return"_"+t.toLowerCase()}).replace(/^_/,"")+"_logo.jpg",title:e.current_node.company_short_name+" "+e.$t("ui.toolbox.my_receipts.customer_receipt"),sub_title:e.current_node.website_url,customer_service_hotline:e.current_node.customer_service_hotline,logistician:e.current_staff,channel_name:e.channel_name}}),i("Receipts",{attrs:{show_buttons:!1,default_search_params:{condition:{current_ship:1,current_operator_identity:e.current_staff.identity},material:{class_names:"Waybill"},pagination:!1},logo_url:"/images/"+e.current_node.company_en_name.replace(/(?:^|\.|\s?)([A-Z])/g,function(e,t){return"_"+t.toLowerCase()}).replace(/^_/,"")+"_logo.jpg",title:e.current_node.company_short_name+" "+e.$t("ui.toolbox.my_receipts.customer_receipt"),sub_title:e.current_node.website_url,force_location:e.current_staff.station?e.current_staff.station.name:"",customer_service_hotline:e.current_node.customer_service_hotline,logistician:e.current_staff,channel_name:e.force_location_channel_name}})],1)},o=[],c=i("a808");function _(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function l(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){_(a,n,s,r,o,"next",e)}function o(e){_(a,n,s,r,o,"throw",e)}r(void 0)})}}var u={data:function(){return{dates:"",channel_name:"my_receipts",force_location_channel_name:"force_location_my_receipts"}},computed:{current_node:function(){return this.$store.state.station.current_node},current_staff:function(){return this.$store.state.station.current_staff}},created:function(){},mounted:function(){},watch:{},methods:{print_my_receipts:function(){var e=l(regeneratorRuntime.mark(function e(){var t,i=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=i.length>0&&void 0!==i[0]?i[0]:"A5",this.$bus.$emit(this.channel_name,t);case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),force_location_print_my_receipts:function(){var e=l(regeneratorRuntime.mark(function e(){var t,i=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=i.length>0&&void 0!==i[0]?i[0]:"A5",this.$bus.$emit(this.force_location_channel_name,t);case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{Receipts:c["a"]}},d=u,p=i("2877"),m=Object(p["a"])(d,r,o,!1,null,"ee2eacd4",null),f=m.exports,h=i("f7cf"),v=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"my_check_summaries"},[i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui icon dropdown button"},[i("i",{staticClass:"clipboard check large icon"}),i("div",{staticClass:"menu",staticStyle:{"min-width":"280px"}},[i("div",{staticClass:"header"},[i("CheckSummary",{attrs:{scope:"provider",default_search_params:{pagination:!1,condition:{name:"current_handover",polarity:!0,updated_at:{from:e.latest_condition_from,to:e.latest_condition_to}}},channel_name:e.channel_name,title:"貨物交予 點交單",sub_title:e.current_node.website_url,customer_service_hotline:e.current_node.customer_service_hotline,logo_url:e.logo_url,show_buttons:!1,show_contents:!1}})],1),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"custom_item"},[i("el-date-picker",{staticClass:"next_input_row",attrs:{"unlink-panels":"",type:"datetimerange",size:"small",align:"center","start-placeholder":e.$t("ui.el.datepicker.startDate"),"end-placeholder":e.$t("ui.el.datepicker.endDate"),"picker-options":e.$store.state.element_ui_datepicker_daterange_options},model:{value:e.latest_condition_dates,callback:function(t){e.latest_condition_dates=t},expression:"latest_condition_dates"}})],1),i("div",{staticClass:"custom_item",on:{click:function(t){t.preventDefault(),e.refresh_data("custom_check_summaries")}}},[e._v("抓取以上時間")]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"custom_item",on:{click:function(t){t.preventDefault(),e.refresh_data("last24_check_summaries")}}},[e._v("抓取過去24小時")]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"custom_item",on:{click:function(t){t.preventDefault(),e.refresh_data("all_check_summaries")}}},[e._v("抓取所有時間")]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"item",on:{click:function(t){t.preventDefault(),e.print("NormalLayout")}}},[e._v("印出(A4)")]),i("div",{staticClass:"item",on:{click:function(t){t.preventDefault(),e.print("SimpleLayout")}}},[e._v("印出(連續紙)")])])])])},g=[],b=i("21b8");function y(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function w(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){y(a,n,s,r,o,"next",e)}function o(e){y(a,n,s,r,o,"throw",e)}r(void 0)})}}var k={data:function(){return{sender_name:null,consignee_name:null,channel_name:"check_summaries",latest_condition_from:null,latest_condition_to:null,latest_condition_dates:null}},computed:{current_node:function(){return this.$store.state.station.current_node},current_staff:function(){return this.$store.state.station.current_staff},logo_url:function(){if(this.$store.state.station.current_node.company_en_name)return"/images/"+this.$store.state.station.current_node.company_en_name.replace(/(?:^|\.|\s?)([A-Z])/g,function(e,t){return"_"+t.toLowerCase()}).replace(/^_/,"")+"_logo.jpg";switch(this.$store.state.station.current_node.service_name){case"neuron":return"/images/neuron_logo.png";case"axon":return"/images/axon_logo.png";default:return"/images/tw568_logo.png"}}},created:function(){},mounted:function(){},watch:{},methods:{refresh_data:function(){var e=w(regeneratorRuntime.mark(function e(t){var i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){switch(t){case"last24_check_summaries":i.latest_condition_from=i.human_datetime(Date.now()-864e5,null),i.latest_condition_to=i.human_datetime(Date.now(),null);break;case"all_check_summaries":i.latest_condition_from=null,i.latest_condition_to=null;break;case"custom_check_summaries":if(!i.latest_condition_dates)throw new Error("empty_date");i.latest_condition_from=i.$moment(i.latest_condition_dates[0]).format("YYYY-MM-DDTHH:mm:ss+08:00"),i.latest_condition_to=i.$moment(i.latest_condition_dates[1]).format("YYYY-MM-DDTHH:mm:ss+08:00");break}e()})["catch"](function(e){switch(e.message){case"empty_date":i.$noty.error("請選擇日期");break}return Promise.reject(e.message)});case 2:return e.next=4,this.$nextTick(function(){i.$bus.$emit(i.channel_name,"refresh_data")});case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),print:function(e){this.$bus.$emit(this.channel_name,"print",e)}},components:{CheckSummary:b["a"]}},x=k,C=Object(p["a"])(x,v,g,!1,null,"54085997",null),P=C.exports,S={data:function(){return{window_width:$(window).width()}},mounted:function(){var e=this;$(window).resize(function(){e.window_width=$(window).width()})},computed:{current_staff:function(){return this.$store.state.station.current_staff},current_service_name:function(){return this.$store.state.station.current_node.service_name},show_receipts:function(){return["neuron_premium","neuron","neuron_lite"].includes(this.current_service_name)},show_check_summary:function(){return["neuron_premium","axon_premium","axon","axon_lite"].includes(this.current_service_name)}},methods:{change_i18n:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"zh-TW";localStorage.setItem("language",e),this.$store.state.language=e}},components:{SpeedTest:a["a"],MyReceipts:f,Notifications:h["a"],CheckSummary:P}},N=S,q=(i("a26f"),i("d975"),Object(p["a"])(N,n,s,!1,null,"9525d5ae",null));t["a"]=q.exports},"0769":function(e,t,i){},"0794":function(e){e.exports={models:{_comment:"關聯表名稱不在此上面",appraisals:"Tasaciones",assets:"Bienes",comments:"Comentarios",contracts:"Los contratos",conversion_attributes:"Atributos de conversión",converters:"Convertidores",core_waybills:"Cartas de ruta principales",customers:"Clientes",quotations:"Cotizaciones",distributions:"Distribuciones",distribution_conditions:"Condiciones de distribucion",driver_commissions:"Driver_commissions",driver_commission_policies:"Políticas de comisiones del conductor.",driver_commission_reports:"Informes de comisiones de conductores",logs:"Troncos",materials:"Materiales",nodes:"Nodos",operations:"Operaciones",partitions:"Particiones",permissions:"Permisos",permission_groups:"Grupos de permisos",roles:"Roles",staffs:"Personal",stations:"Estaciones",scan_actions:"Acciones de escaneo",status_prototypes:"Prototipos de estado",scan_action_prototypes:"Prototipos de acción de escaneo.",attributes:{assets:{barcode:"Código de barras",number:"Número",category:"Categoría",note:"Nota",node_identity:"Nodo"},converters:{name:"Nombre",number:"Número",provider_node_identity:"Provider_node_identity",customer_node_identity:"Ccustomer_node_identity",customer_identity:"identidad del cliente",carrier_class:"Categoría portadora",proxy_contract_identity:"Proxy_contract_identity",third_party_api_data:"Third_party_api_data",note:"Nota"},customer_contracts:{name:"Nombre",number:"Número",carrier_class:"Clase portadora",proxy_contract:"Contrato de proxy",third_party_api_data:"Datos de API de terceros",note:"Nota"},customers:{username:"Nombre de usuario",password:"Contraseña",password_confirmation:"confirmación de contraseña",authentication_token:"API Token",company_name:"Nombre de empresa",company_short_name:"Nombre corto de la compañía",company_en_name:"Nombre de la compañía en inglés",email:"Email",phone:"Teléfono",fax:"Fax",website_url:"URL del sitio web",default_sender_zip_code:"Sender ZIP code",default_sender_company_name:"Nombre de la empresa del remitente",default_sender_address:"Dirección del remitente",default_sender_name:"Nombre del remitente",default_sender_phone:"Telefono remitente",default_sender_email:"Correo electrónico del remitente",default_sender_fax:"Fax remitente",default_sender_url:"URL del remitente",default_consignee_zip_code:"Consignee ZIP code",default_consignee_company_name:"Nombre de la empresa del consignatario",default_consignee_address:"Dirección del consignatario",default_consignee_name:"Nombre del destinatario",default_consignee_phone:"Teléfono del consignatario",default_consignee_email:"Correo electrónico del consignatario",default_consignee_fax:"Fax del consignatario",can_use_associated_partitions:"Puede usar particiones asociadas",is_banned:"Está prohibido"},conditions:{core_waybill_identity:"Hoja de ruta",scan_action_prototype_identity:"SAP",condition_type:"tipo de condición",can_use:"puedo usar",current_use:"uso actual",already_use:"ya uso",can_release:"puede liberar",current_release:"lanzamiento actual",already_release:"ya liberado",can_handover:"puede entregar",current_handover:"entrega actual",already_handover:"ya entrega",can_collect:"puede recoger",current_collect:"coleccion actual",already_collect:"ya colecciona",can_check:"poder revisar",current_check:"cheque actual",already_check:"ya cheque",can_ship:"puede enviar",current_ship:"nave actual",already_ship:"ya nave",can_back:"puede volver",current_back:"corriente actual",already_back:"Ya de regreso",can_delivered:"puede entregado",current_delivered:"actual entregado",already_delivered:"Ya esta entregado",can_transfer:"puede transferir",current_transfer:"transferencia actual",already_transfer:"ya transferido",can_intermodal:"puede intermodal",current_intermodal:"intermodal actual",already_intermodal:"ya intermodal",can_exception:"puede excepción",current_exception:"excepción actual",already_exception:"ya excepción",can_lock:"puede bloquear",current_lock:"bloqueo actual",already_lock:"ya bloqueado",can_done:"se puede hacer",current_done:"corriente hecha",already_done:"ya hecho",can_warehouse_in:"puede en el almacén",current_warehouse_in:"corriente en el almacén",already_warehouse_in:"ya en el almacén",can_warehouse_out:"puede salir de almacén",current_warehouse_out:"almacén actual",already_warehouse_out:"ya fuera de almacén",can_ready_to_ship:"puede estar listo para enviar",current_ready_to_ship:"actual listo para enviar",already_ready_to_ship:"ya listo para enviar"},distributions:{priority:"Prioridad",name:"Nombre",strategy:"Estrategia",station:"Estación",station_identity:"Estación",strategy_value:"Valor de la estrategia",material:"Material",material_identity:"Material",is_activated:"Está activado"},driver_commissions:{pick_up_driver:"Recoger conductor",pick_up_core_waybill:"Recoger core_waybill",delivery_core_waybill:"Entrega core_waybill",delivery_driver:"Conductor de entrega",driver_commission_report:"Informe de la comisión del conductor",driver_commission_policy:"Política de la comisión del conductor",amount:"Cantidad",polarity:"Polaridad",created_at:"Tiempo creado",is_deleted:"Esta borrado"},driver_commission_policies:{pick_up_first_weight:"Recoger el primer peso (KG)",pick_up_first_price:"Recoger primer precio",pick_up_follow_up_weight:"Recoger peso de seguimiento (KG)",pick_up_follow_up_price:"Recoger el precio de seguimiento.",delivery_first_weight:"Entrega primer peso (KG)",delivery_first_price:"Primer precio de entrega",delivery_follow_up_weight:"Peso de seguimiento de la entrega (KG)",delivery_follow_up_price:"Precio de seguimiento de la entrega.",house_pick_up_first_weight:"Recogida en casa first_weight (KG)",house_pick_up_first_price:"Casa recoger primer precio",house_pick_up_follow_up_weight:"Levantamiento de casa seguimiento peso (KG)",house_pick_up_follow_up_price:"Recogida de casa precio de seguimiento.",house_delivery_first_weight:"Entrega a domicilio primer peso (KG)",house_delivery_first_price:"Entrega a domicilio primer precio",house_delivery_follow_up_weight:"Seguimiento de entrega a domicilio de peso (KG)",house_delivery_follow_up_price:"Precio de seguimiento de la entrega de la casa.",is_activated:"Está activado"},driver_commission_reports:{staff:"Personal",total_amount:"Cantidad total",time:"Hora",begin_at:"Empezar",end_at:"Fin",created_at:"Tiempo creado"},materials:{name:"Nombre",en_name:"nombre inglés",core_waybill_level:"Nivel de guía",class_name:"Nombre de la clase",label_type:"Tipo de etiqueta",needs_label:"Etiqueta de necesidades"},nodes:{is_sandbox_mode:" Modo sandbox",client_id:"ID de aplicación de imán",client_secret:"ID de aplicación de imán",access_token:"Imán AccessToken",refresh_token:"Autorización Magnet",tax:"Impuesto",carrier_class:"portador::clase",host:"Anfitrión",service_name:"Servicio",code:"Código",company_name:"Nombre de empresa",company_short_name:"Nombre corto de la compañía",company_en_name:"Nombre de la compañía en inglés",email:"Email",phone:"Teléfono",fax:"Fax",website_url:"URL del sitio web",customer_service_hotline:"Línea directa de atención al cliente"},operations:{number:"Número",file:"Expediente",file_name:"Nombre del archivo",file_url:"Archivo url",original_file_name:"Nombre del archivo",station:"Estación",staffs:"Personal",customer:"Cliente",customer_identity:"Cliente",your_note:"Tu nota",customer_note:"Nota al cliente",provider_note:"Nota",system_note:"Nota del sistema",cancel_reason:"Cancelar razon",instantiate_note:"Nota de instancia",is_canceled:"Está cancelado",is_operable:"Es operable",is_operated:"Es operado",is_ready:"Está listo",status:"Estado",is_done:"Está hecho",is_done_true:"Hecho",is_done_false:"Deshecho",created_at:"Creado"},partitions:{name:"Nombre",numbers:"Números",numbers_from:"Números de",numbers_to:"Números para",numbers_rule:"Regla de números",parent:"Padre",customer:"Cliente",contracts:"Los contratos",customer_identity:"Cliente",material:"Material",material_identity:"Material",partition_type:"Tipo de partición",label_type:"Tipo de etiqueta",note:"Nota",regex:"Regex"},permissions:{name:"Nombre",uri:"uri",http_method:"método_b"},permission_groups:{name:"Nombre"},roles:{name:"Nombre"},scan_action_prototypes:{name:"Nombre de la acción",barcode:"Código de barras",required_condition:"Condición requerida",before_actions:"Before_actions",is_default:"Es por defecto",description_required_scope:"Descripción del alcance requerido",description_options:"Descripción de opciones"},staffs:{username:"Nombre de usuario",password:"Contraseña",password_confirmation:"confirmación de contraseña",name:"Nombre",phone:"Teléfono",email:"Email",mobile:"Móvil",fax:"Fax",tax:"Impuesto",country:"País",state:"Estado",city:"Ciudad",district:"Distrito",address:"Dirección",theme_name:"Tema",note:"Nota",is_banned:"Está prohibido",role_identity:"Papel",role:"Papel",station_identity:"Estación",station:"Estación"},stations:{name:"Nombre",code:"Código",address:"Dirección",phone:"Teléfono",position:"Posición",note:"Nota"},status_prototypes:{name:"Nombre",material:"Material",material_class_name:"Material",description:"Descripción",non_polarity:"No polaridad",positive_polarity:"Polaridad positiva",negative_polarity:"Polaridad negativa"},user_logs:{title:"Título",description:"Descripción",modified_attributes:"Atributos modificados",level:"Nivel",action_type:"Tipo de acción",is_undid:"Es deshecho",undid_at:"Desdoblado en",node_identity:"Identidad del nodo",operator_identity:"Operador (ID)",loggable_identity:"Loggable",loggable_type:"Tipo loggable",created_at:"Fecha",updated_at:"hora actualizada",identity:"CARNÉ DE IDENTIDAD"},core_waybills:{number:"Número",operation_number:"Número de operación",original_number:"Numero original",tracking_number:"El número de rastreo",storage_number:"Número de almacenamiento",warehouse_identity:"Identidad de almacén",original_core_waybill_identity:"original_core_waybill identidad",tracking_core_waybill_identity:"tracking_core_waybill identidad",label_type:"Tipo de etiqueta",sender:"REMITENTE",sender_company_name:"Nombre de la empresa del remitente",sender_zip_code:"Código postal del remitente",sender_address:"Dirección del remitente",sender_name:"Nombre del remitente",sender_phone:"Telefono remitente",sender_email:"Correo electrónico del remitente",sender_fax:"Fax remitente",sender_url:"URL del remitente",consignee:"CONSIGNATARIO",consignee_company_name:"Nombre de la empresa del consignatario",consignee_zip_code:"Código postal del consignatario",consignee_address:"Dirección del consignatario",consignee_name:"Nombre del destinatario",consignee_phone:"Teléfono del consignatario",consignee_email:"Correo electrónico del consignatario",consignee_fax:"Fax del consignatario",flight_number:"Número de vuelo",cvs_store_number:"Número de tienda de CVS",cvs_store_name:"Nombre de la tienda cvs",cvs_store_address:"Dirección de la tienda de CVS",cvs_store_phone:"Cvs tienda de telefono",station_code:"Codigo de AREA",temperature:"Temperatura",payment_type:"Tipo de pago",receipt_file:"Archivo de recibo",receipt_file_url:"URL del archivo de recibo",current_status:"Estado actual",goods_name:"Nombre de la mercancia",note:"Nota",note_2:"Nota 2",note_3:"Nota 3",declared_value:"Valor declarado",measurement:"Medición",weight_in_kilo:"Peso en kilo (KG)",serial:"De serie",is_used:"Se usa",node_identity:"Identidad del nodo",station_identity:"Identidad de la estación",operation_identity:"Identidad de la operación",partition_identity:"Identidad de partición",material_identity:"Identidad material",source_core_waybill_identity:"Identidad de Source_core_waybill",parent_core_waybill_identity:"Identidad de Parent_core_waybill",consignee_address_accuracy:"Destinatario address_accuracy",consignee_formatted_address:"Dirección formateada del consignatario",consignee_address_components:"Componentes de dirección del consignatario",is_done:"Está hecho",is_collected:"Cargos comerciales, respalda la empresa.",no_paid:"No pagado",paid:"Pagado",collection:"Colección",collection_fee:"Comisión de cobro",simplified_declaration_form_fee:"Simplified_declaration_form_fee",declaration_form_fee:"Declaración de forma",declaration_form_extra_fee:"Declaración_forma_extra_fee",tax:"Impuesto",price:"Precio",insurance:"Seguro",material_fee:"Material_fee",consignee_tax_point:"Consignee_tax_point",sender_tax_point:"Sender_tax_point",warehouse_fee:"Warehouse_fee",fuel_surcharge:"Recargo por combustible",value_added_service_fee:"Value_added_service_fee",overlength_fee:"Overlength_fee",overweight_fee:"Overweight_fee",extra_fee:"Suplemento",shipping_date:"Fecha de envío",shipping_period:"Periodo de envio",shipping_note:"Nota de envío",latest_status:"Último estado",created_at:"Tiempo creado",updated_at:"Actualizado en",identity:"Identidad",is_deleted:"Esta borrado",deleted_at:"Eliminado en"}}},ui:{general:{cannot:"No poder",cannot_use:"No se puede utilizar",clear:"Claro",select:"Seleccionar",please_select:"Por favor seleccione",yes:"Sí",no:"No",no_data:"Sin datos",date:"Fecha",day:"Día",days:"Dias",hour:"Hora",hours:"Horas",minute:"Minuto",minutes:"Minutos",second:"Segundo",operate:"Funcionar",hot_key:"Tecla de acceso rápido",copy:"Dupdo",note:"Nota",simple:"Sencillo",advanced:"Avanzado",detail:"Detalle",show:"Show",edit:"Editar",create:"Crear",creating:"Creando",search:"Buscar",searching:"buscando",search__key:"Buscando {key}...",submit:"Enviar",result:"Resultado",verify:"Verificar",verifying:"Verificando",verify_staff:"Verificar personal",update:"Actualizar",updating:"Actualizando",delete:"Borrar",deleteing:"Eliminando",ready:"Listo",readying:"Listo",handle:"Encargarse de",handling:"Manejo",cancel:"Cancelar",canceling:"Cancelado",print:"Impresión",printing:"Impresión",upload:"Subir",uploading:"Subiendo",fetch:"Ha podido recuperar",success:"Éxito",failure:"Fracaso",network_abnormality:"Estado de la red",server_offline:"El servidor está ocupado. Por favor, inténtelo de nuevo más tarde.",error:"Error",back:"Espalda",initialize:"Inicializar.",initializing:"Inicializando.",initialize_complete:"Inicializar completa.",created_at:"Tiempo creado",updated_at:"Tiempo actualizado",deleted_at:"Tiempo borrado",folder:"Carpeta",file:"Expediente",all:"Todos"},page_titles:{index:"Índice",current_page:"Página actual",provider_index:"Casa",station_index:"Casa",customer_index:"Casa",provider_pages:"Proveedor",customer_pages:"Cliente",uploader:"Cargador",station_uploader:"Cargador de estación",provider_uploader:"Proveedor de carga",customer_uploader:"Cargador de clientes",operation_show:"Operación",operation_print_list:"Lista de operaciones de impresión",operation_print_label:"Etiqueta de impresión de operación",assets:"Bienes",assets_index:"Índice de Activos",new_asset:"Nuevo activo",edit_asset:"Editar activo",print_asset:"Imprimir activo",quote_policies:"Cotizar políticas",quote_policy:"Política de cotización",provider_customers:"Clientes proveedores",new_provider_customer:"Nuevo proveedor cliente",provider_customer:"Proveedor cliente",station_customers:"Clientes de la estacion",new_station_customer:"Nueva estacion de cliente",station_customer:"Cliente de la estacion",provider_contracts:"Contratos de proveedor",new_provider_contract:"Nuevo contrato",provider_contract:"Contrato proveedor",new_provider_quotation:"Nueva cita",provider_quotation:"Cotizacion del proveedor",station_contracts:"Contratos de estacion",new_station_contract:"Nuevo contrato de estación",station_contract:"Contrato de estacion",new_station_quotation:"Nueva cotizacion de estacion",station_quotation:"Cotizacion de estacion",scanner:"Escáner",provider_operations:"Operaciones",edit_provider_operation:"Operación de edición",driver_commissions:"Comisiones de conductor",materials:"Materiales",new_material:"Nuevo material",edit_material:"Editar material",provider_partitions:"Particiones",provider_associated_partitions:"Proveedor de particiones asociadas",customer_partitions:"Particiones de clientes",new_provider_partition:"Nueva partición",edit_provider_partition:"Editar partición",station_partitions:"Particiones de la estación",station_associated_partitions:"Estación de particiones asociadas",new_station_partition:"Nueva partición de la estación",edit_station_partition:"Editar partición de estación",permissions:"Permisos",permission_groups:"Grupos de permisos",new_permission_group:"Nuevo grupo de permisos",edit_permission_group:"Editar grupo de permisos",customer_core_waybills:"Cartas de porte del cliente",customer_core_waybills_operation:"Operación de cartas de porte del cliente",customer_show_core_waybill_operation:"Operación de hoja de ruta del cliente",customer_show_core_waybill:"Hoja de ruta del cliente",core_waybills:"Hojas de ruta",core_waybills_operation:"Operación de guías",edit_core_waybill_operation:"Editar la operación de la carta de porte",edit_core_waybill:"Editar hoja de ruta",new_core_waybill:"Nueva carta de porte",roles:"Roles",new_role:"Nuevo rol",edit_role:"Editar rol",settings:"Ajustes",staffs:"Personal",new_staff:"Personal nuevo",staff:"Personal",edit_staff:"Personal de edición",stations:"Estaciones",new_station:"Nueva estacion",edit_station:"Estación de edición",status_prototypes:"Prototipos de estado",new_status_prototype:"Nuevo prototipo de estado.",status_prototype:"Prototipo de estado",edit_status_prototype:"Editar prototipo de estado",pack:"Paquete",unpack:"Deshacer",page_404:"404 Encontrado",operate:"Funcionar",appraisals:"Tasaciones",edit_appraisal:"Editar valoración",new_appraisal:"Nueva tasacion",user_logs:"Registros de usuario",user_log:"Registro de usuario",driver_commission_policies:"Políticas de comisiones del conductor.",new_driver_commission_policy:"Nueva política de comisiones de conductores.",edit_driver_commission_policy:"Editar la política de comisiones del conductor.",driver_commission_reports:"Informes de comisiones de conductores",new_driver_commission_report:"Nuevo informe de la comisión del conductor.",driver_commission_report:"Informe de la comisión del conductor",scan_action_prototypes:"Escanear prototipos de acciones.",scan_action_prototype:"Prototipo de acción de escaneo.",new_scan_action_prototype:"Nuevo prototipo de acción de escaneo.",edit_scan_action_prototype:"Editar prototipo de acción de escaneo",provider_node:"Ajuste",customer_operations:"Operaciones del cliente",show_customer_operation:"Operación del cliente",new_provider_operation:"Nueva operacion",provider_distributions:"Distribuciones",new_provider_distribution:"Nueva distribucion",edit_provider_distribution:"Editar distribución",permission_denied:"Permiso denegado"},links:{menu:{provider_index:"Índice",scan:"Escanear",scan_action_prototypes:"Escanear prototipos de acción",status_prototypes:"Prototipos de estado",numbers:"Números",provider_partitions:"Particiones",station_partitions:"Particiones",assets:"Bienes",stations:"Estaciones",materials:"Materiales",uploader:"Uploader",provider_uploader:"Uploader",station_uploader:"Uploader",customer_uploader:"Uploader",permission_groups:"Grupos de permisos",core_waybills:"Hojas de ruta",provider_operations:"Operaciones",station_operations:"Operaciones",staffs:"Personal",roles:"Roles",users:"Usuarios",routes:"Rutas",processed_files:"Archivos procesados",operation_managers:"Gerentes de operaciones",user_logs:"Registros de usuario",import_files:"API de archivo abierto",intelligent:"inteligente",commission_policies:"Políticas de la Comisión",commission_reports:"Informes de la Comisión",driver_commission_policies:"Políticas de comisiones del conductor",driver_commission_reports:"Informes de comisiones de conductores",driver_commissions:"Comisiones de conductor",provider_node:"Ajuste",provider_distributions:"Distribuciones",provider_customers:"Clientes proveedores",station_customers:"Clientes de la estación"},top_menu:{my_receipts:"mis recibos",print_check_summary:"imprimir el resumen del cheque",scanner:"Escáner",language:"Idioma",notice:"Aviso",no_station:"Estación no detectada",overtime_note:"Recordatorio de tiempo de espera",full_logout:"Cierre de sesión completo",full_logout_help:"Borrar registro de configuración.",logout:"Cerrar sesión"}},theme_names:{staff:"Personal",driver:"Conductor",manager:"Gerente",operator:"Operador",exception:"Excepción",default:"Defecto"},status_scopes:{operator:"Operador",forwarder:"Promotor",public:"Público",mark:"marca",condition:"Condición",system:"Sistema",unknown:"Desconocido"},validator:{is_required:" es requerido",greater_than:" debe ser mayor que",if:"Si",is:" es",then:" entonces"},notifications:{help:{this_page_is_out_of_date_please_click_here_to_refresh:"Esta página no está actualizada, por favor haga clic aquí para actualizar.",please_clicked_initialize_again:"Por favor, haga clic, inicializar de nuevo."},success:{fetch:"Fetch éxito.",update:"Actualización exitosa.",create:"Crear el éxito.",delete:"Eliminar el éxito.",verify:"Verificar el éxito.",upload:"Subida exitosa.",__name:"éxito {name}",fetch__name:"Fetch {name} el éxito.",update__name:"Actualización de {name} éxito.",create__name:"Crea el éxito de {name}.",delete__name:"Eliminar el éxito de {name}.",verify__name:"Verificar el éxito de {name}.",upload__name:"Subir {name} éxito.",copy__name:"Copiar el éxito de {name}."},warning:{are_you_sure_to_delete_it:"¿Está seguro de eliminarlo?",are_you_sure_to_cancel_it:"¿Seguro que lo cancelas?"},error:{find:"Encuentra la falla {reason}.",fetch:"Recupera el fallo {reason}.",update:"Error de actualización {reason}.",create:"Crear error {reason}.",delete:"Eliminar fallo {reason}.",verify:"Verifique la falla {reason}.",upload:"Fallo de carga {reason}.",copy:"Copia fallida {reason}.",__name:"Error de {name}.",find__name:"Encuentra {name} falla {reason}.",fetch__name:"Fetch {name} falla {reason}.",update__name:"Error al actualizar {name} {reason}.",create__name:"Crear {name} falla {reason}.",delete__name:"Eliminar {name} error {reason}.",verify__name:"Verificar la falla de {name} {reason}.",upload__name:"Error al cargar {name} {reason}.",copy__name:"Copia {name} falla {reason}.",no_data:"Sin datos",please_handle_errors:"Por favor maneja los errores.",exception_error_please_contact_the_system_supplier:"Error de excepción, póngase en contacto con el proveedor del sistema.",please_check_to_write_in_the_required_fields_mark:"Por favor, marque para escribir en los campos requeridos (marca *)."}},scanner:{settings:{is_scan_mode:{true:"Modo de escaneo | Escanear",false:"Modo de escritura | Escribir"},is_scan_action_mode:{true:"Modo de trabajo | Trabajo",false:"Modo de vista | Ver"},is_batch_mode:{true:"Modo por lotes | Lote Advertencia！ El modo de lote está activado, los números necesitan una coma (,) de separación y no recuerdan el campo requerido.",false:"Sin modo por lotes | Sin lote"},is_operation_mode:{true:"Modo de funcionamiento | Operación",false:"Sin modo de funcionamiento | No operacion"},is_core_waybill_pieces_mode:{true:"Modo contador | Modo contador",false:"Sin modo de contador | No hay modo de contador"},is_core_waybill_creation_mode:{true:"Crear una guía | Construir una sola",false:"No establezca una hoja de ruta | No construya una sola"},is_webcam_mode:{true:"Lente | Lente",false:"Apaga lente | Apaga lente"},is_update_corewaybill_mode:{true:"Actualizar corewaybill | Actualizar la hoja de ruta",false:"Ver corewaybill | Ver la hoja de ruta"},is_auto_print_label_mode:{true:"Modo de etiqueta de impresión automática | Etiqueta de impresión",false:"Sin etiqueta impresa | Sin etiqueta impresa"},is_distributed_to_mode:{true:"Distribuido a modo | Repartido",false:"No distribuido | No distribuido"},is_noty_audio_mode:{true:"Modo de audio Noty | Audio noty",false:"No hay audio de noty | No noty audio"},is_speech_mode:{true:"Modo de voz | Habla",false:"No habla | Ningún discurso"},is_quick_corewaybill_related_columns:{true:"Columnas relacionadas con Corewaybill rápido | Datos rapidos",false:"No hay columnas relacionadas rápidas | No hay datos rápidos"},is_package_mode:{true:"Modo de paquete | Paquete | embalaje",false:"Sin paquete"},is_unpackage_mode:{true:"Modo de desembalaje | Desembalar | Desembalaje",false:"No desempaquetar"},pack_need_source_mode:{short_name:"necesita datos de origen",true:"Utilizar",false:"Es inútil"},core_waybill_template_mode:{short_name:"Ver estilo de guía",min_card:"Vista mínima | Mínimo",card:"Vista Básica | BASIC",detail:"Vista detallada | Detalle"}},setting_groups:{LB00:"Hoja de ruta inicial",LB01:"1. Suelte",LB02:"2.Para pagar",LB06:"3. Inusual",LB07:"3.Exclusion",LB11:"Bloquear",LB12:"desbloquear",LA00:"hoja de ruta inicial",LA01:"1. Suelte",LA02:"2. en estacion",package:"Paquete",LA03:"3.Dispatch",LA10:"3. Transporte conjunto",LA09:"3.Coleccionando transferencia",LA05:"4. estación de retorno",LA04:"4. Alcanzado",LA06:"4. Inusual",LA07:"4.Exclusion",LA08:"Remitente devuelto",LA11:"Bloquear",LA12:"desbloquear",LA13:"Caso de cierre",LA21:"Entrando al almacén",LA22:"Estante",LA23:"Fuera de posición",LA24:"Bienes no identificados",unpackage:"Desembalar",distributed_to:"Repartido",pack_house_waybill:"包 运,",pack_waybill_goods:"包子, 票 多 件",search:"Buscar",print:"Impresión"},menus:{settings:"Ajustes",setting_group:"Grupo de ajuste",operation:"Operación",package:"Paquete",core_waybill:"Hoja de ruta"},jobs:{job:"Trabajo",clear_jobs:"Trabajos claros",waiting_user_action:"Acción de usuario en espera",idle:"Ocioso",processing:"Tratamiento",success:"Éxito",failure:"Fracaso",number:"Número",no_add_status:"No agregar estado",no_error:"No hay error",scope:{original_number:"Numero original",new:"Nuevo"}},package:{packing_material:"Material de empaque",package:"Paquete",unpackage:"Desembalar",total__number:"Total:{numero}",detail:"Detalle",hide:"Esconder"},upload:{receipt_file:"Cargar archivo de recibo",result:"Subir resultado"},helps:{select:"Seleccionar",write:"Escribir",scan:"Escanear",quick_required_field_div:"Campo rápido requerido div",current_scan_action_prototype:"Prototipo de escaneo actual",distributed_result:"Resultado distribuido",you_dont_any_operation:"Usted no hace ninguna operación.",write_or_scan_barcode:"Escribir o escanear el código de barras.",write_related_columns:"Escribir columnas relacionadas.",write_scan_action_note:"Escribir nota de acción de escaneo.",write_number:"Escribir numero",select_scan_action:"Seleccione la acción de escaneo",select_pack_taget_parent:"Seleccione pack taget parent.",select_pack_taget:"Seleccionar packet taget",select_target_layer:"Seleccione la capa de destino",selected_operation:"Operación seleccionada",distributed:{please_select:"Por favor seleccione",current_station:"estacion actual",can_use_distributed_to_mode:"Puede utilizar el modo distribuido."}},alerts:{is_created:"Es creado",required:"Necesario",previous:"Anterior",give_up:"Rendirse",definite:"Definido",please_write:"Por favor escribe",required_field:"Campo requerido",if_have_write:"Si lo tienes, escríbelo",upload_receipt_img:"Cargar recibo img",upload_result:"Subir resultado",uploading:"Subiendo",please_write_scan_note:"Por favor escriba una nota de escaneo"},operations:{total:"Total: {operations_length} operaciones, {sum_core_waybills} hojas de ruta",contents:"guías de viaje",current_operation_set_to:"Operación actual configurada en",clear_current_operation:"Borrar la operación actual"},success:{quick_setting:"Rápido éxito de configuración"},errors:{web_camera_error_will_close:"WebCamera Error al iniciar, se cerrará automáticamente.",multiple_numbers_in_batch_mode:"Múltiples números en modo batch.",setting_group_not_found:"Grupo de configuración no encontrado.",setting_not_found:"Configuración no encontrada.",partition_not_found:"Sin partición de selección.",core_waybill_not_found:"carta de porte no encontrada.",failed_to_fetch_core_waybill_statuses:"Falló el estado de la hoja de ruta.",failed_to_instantiate_scan_action_prototype:"Error al instanciar el prototipo de acción de escaneo.",failed_to_update_core_waybill_related_column:"Error al actualizar las columnas relacionadas con la hoja de ruta.",give_up_core_waybill_related_columns:"Abandona las columnas relacionadas con la hoja de ruta.",give_up_scan_action_description:"Abandona la descripción de la acción de escaneo.",give_up_create_core_waybill:"Renunciar a crear la hoja de ruta."}},pages:{customer_home:{title:"Welcome to customer management."},partials:{page_404:{cant_find_page:"No puedo encontrar la página."},permission_denied:{you_dont_permission:"No tienes permiso."},login_expiration_hint_modal:{idle:"Ocioso",content:"El sistema detectó que no ha usado durante mucho tiempo, {time} se desconectará automáticamente.",i_am_back:"Regresé"}},login:{customer_management_login:"Panel de clientes",provider_management_login:"Panel de proveedores",station_management_login:"Panel de station",please_enter_your_account_and_password:"Iniciar sesión",account:"Cuenta",password:"Contraseña",verification_code:"Código de verificación",pass_next_timeout_will_dont_warn:"Pasar el siguiente tiempo de espera, no avisará.",btns:{auto_input_test_account:"Cuenta de prueba",login:"Iniciar sesión"},errors:{your_site_has_not_registered_system:"Su sitio no tiene sistema registrado.",please_fill_in_the_verification_code:"Por favor, rellene el código de verificación",account_or_password_incorrect:"Cuenta o contraseña incorrecta",verification_code_incorrect:"Código de verificación incorrecto",verification_code_expired:"Código de verificación expirado",failure_to_login:"No iniciar sesión",timeout:"Cerrar sesión automáticamente después de inactividad demasiado tiempo."}},appraisals:{point:"Punto",reason:"Razón",staff_identity:"Personal",registrant_identity:"Registrante"},monitor:{menu_title:{all:"Todos",myself:"Mí mismo",station:"Estación"},title:{all_pending_operations:"Todas las operaciones pendientes",all_pending_waybills:"Todas las hojas de ruta pendientes",pending_operations:"Operaciones pendientes",pending_waybill_in_operations:"Hoja de ruta pendiente en operaciones",pending_waybills:"Billetes pendientes"},sub_title:{not_completed_operations:"Operaciones no completadas",not_completed_waybills:"Folletos no completados",assigned_to_me_but_not_completed_operations:"Asignado a mi pero no operaciones completadas",assigned_to_me_but_not_completed_waybill_in_operations:"Asignado a mí, pero no se completó la hoja de ruta en las operaciones",the_unfinished_waybill_that_was_last_my_scanned:"La hoja de ruta sin terminar que fue la última vez que mi escaneado",assigned_to_stationg_but_not_completed_operations:"Asignado a <span style='color: green;'> {station_name} </span> pero no operaciones completadas",assigned_to_stationg_but_not_completed_waybill_in_operations:"Asignado a <span style='color: green;'> {station_name} </span> pero no se completó la hoja de ruta en las operaciones"}},assets:{categories:"Categorías",print_barcode:"Imprimir código de barras",have_category:"Tener categoria",clear_value:"Claro valor",helps:{no_anything_category:"Ninguna categoría de nada",no_anything_assets:"No hay nada activo",write_or_use_category_list:"Escriba o use la lista de categorías",please_clicked_upper_left_new_asset_button:"Por favor, haga clic en el botón de nuevo activo de la parte superior izquierda."}},customer_contracts:{additional_information:"Información Adicional"},customers:{contracts:"Los contratos",normal:"Normal",banned:"Prohibido",unbanned:"No prohibido",is_banned:"Está prohibido",proxy_login:"Inicio de sesión proxy",basic_information:"Información básica",common_sender_information:"Información del remitente común",common_consignee_information:"Información del consignatario común",is_open_use_associated_partition:"Es uso abierto partition partición asociada 」",is_open_use_use_yourself_partition:"Es uso abierto 「Usa tu partición」",show_basic_information:"Editar, ver el nombre de cuenta del cliente, la información de contacto y los derechos de uso",show_common_sender_information:"Editar, ver información del remitente común",show_common_consignee_information:"Editar, ver información del destinatario común",show_contracts:"El contrato propiedad del cliente",contract:{name:"Nombre",created_at:"Creado en"},helps:{the_password_does_not_match_the_confirmation_password:"La contraseña no coincide con la contraseña de confirmación."}},distributions:{activated:"Activado",unactivated:"Desactivado",add_condition:"Añadir condición",add_condition_help:"Cómo escribir condiciones？",add_condition_help_content_1:"1. 同樣條件類型的項目會做OR比對，不同條件類型的項目是做AND比對，例如：直轄市台北市+直轄市區信義區+直轄市區中正區+直轄市新北市+直轄市區新店區五個條件，符合本區配送條件的地址有台北市信義區、台北市中正區及新北市新店區",add_condition_help_content_2:"2. Por favor escriba el nombre chino tradicional completo",condition_type:"Tipo de condición",content:"Contenido",undo:"Deshacer",filter:{direct:"Directo",intermodal:"Intermodal"}},driver_commissions:{driver:"Conductor",no_done:"No hecho",core_waybill_number:"Número de guía"},driver_commission_policies:{activated_switch:"Interruptor activado",activated:"Activado",pickup:"Recoger",bag:"Bolso",table:{general_pickup:"Recogida general",general_delivery:"Entrega general",bag_pick:"Bolsa de selección",bag_delivery:"Entrega de bolsas",is_activated:"Está activado",first_weight:"Primer peso",first_price:"Primer precio",follow_up_weight:"Seguimiento de peso",follow_up_price:"Precio de seguimiento"}},driver_commission_reports:{total_amount_of_commission:"Importe total de la comisión.",print:"Impresión",setting:"Ajuste",print_setting:"Configuración de impresión",detailed_mode:"Modo detallado",from:"Desde",to:"A",status:"Estado",no_select_date:"Sin fecha de selección",start_all:"Empezar todo",go_to_report:"Ir al informe",table:{pickup_details:"Detalles de recogida",dispatch_details:"Detalles del despacho",No:"No.",number:"Número",weight:"Peso",date:"Fecha",commission:"Comisión (dólar)",total:"Total"},filter:{staff_name:"Nombre del personal",begin_at:"Comenzar en",end_at:"Termina en",total_amount_from:"Importe total de ...",total_amount_to:"Cantidad total a ...",created_at:"Creado en"}},nodes:{company_information:"Información de la empresa"},operations:{provider_note_value:"Nombre del remitente: \n Teléfono del remitente: \n",processing:"Tratamiento",contract:"Contrato",content:"Contenido de la orden",schedule:"Programar",waybill_amount:"Cantidad",print_receipt:"Imprima el recibo",print_coew_waybill_labels:"Imprimir etiquetas de hoja de ruta de coew",print_coew_waybill_checklist:"Imprimir la lista de verificación de la hoja de ruta de coew",delete_help:"Operación de eliminación, Casas 、 Paquetes 、 Hojas de ruta eliminadas.",_name_operation_list:"lista de operaciones de {name}",_name_customer_receipt:"recibo del cliente {name}",helps:{please_confirm_sender_and_contract_are_selected:"Por favor confirme que el remitente y el contrato son seleccionados."},table:{finish:"Terminar",total:"Total"}},partitions:{automatic_number:"Numero automatico",use_yourself:"Utilízate",statistics:"Estadística",total_amount:"Cantidad total",available_quantity:"Cantidad disponible",if_use_it_yourself_do_not_write:"Si lo usa usted mismo, no escriba"},uploader:{redo:"Rehacer",open_file:"Abrir documento",operation_list:"Lista de operaciones",upload_operation_list:"Cargar lista de operaciones",selected:"Seleccionado",contract:"Contrato",your_actions:"Tus acciones",operation_order:"Operación",field_data_succeeded:"Datos de campo logrados",checking_waybill_data_ok:"Verificando los datos de la hoja de ruta ok",checking_operation_data_ok:"Verificando los datos de operación ok",upload_detail_completed:"Subir detalles completados",continue_next_file:"Continuar siguiente archivo",materialization_operation:"Operación de materialización",consignment:"Envío",delivery:"Entrega",total:"Total",total__number:"Numero total}",dimmer:{what_do_you_want_now:"Qué deseas",please_upload_your_file:"Por favor sube tu archivo",download_sample_file:"Descargar archivo de muestra",clicked_this_card_redo:"Hizo clic en esta tarjeta rehacer",select_file:"Seleccione Archivo"},steps:{title:{operation:"Operación",confirm_data:"Confirmar datos",upload_data:"Subir datos"},description:{operation_content:"Contenido de la operación",confirm_data_is_correct:"Confirmar que los datos son correctos",upload_data_to_server:"Subir datos al servidor"}},file:{name:"Nombre del archivo",size:"Tamaño del archivo",path:"Ruta de archivo",upload:"Subir archivo",complete:"Completar",not_uploaded:"No subido"},column_verification:{required_field:"Campo requerido",unknown_waybill:"Hoja de ruta desconocida"}},scan_action_prototypes:{binding_material:"Material de unión",print_barcodes:"Imprimir códigos de barras",field_name:"Nombre del campo",value:"Valor"},staffs:{appraisals:"Tasaciones",normal:"Normal",banned:"Prohibido",unbanned:"No prohibido",is_banned:"Está prohibido"},user_logs:{record_object:"Objeto de registro",operator:"Operador",field_name:"Nombre del campo",value:"Valor",yes:"Sí",no:"No"},core_waybills:{done:"Hecho",print_filter_result_labels:"Imprimir etiquetas",export_csv_file:"Exportar CSV",export_clearance_csv_file:"Despacho de exportación CSV",export_daily_csv_file:"Exportación diaria de CSV",download_daily_csv_file:"Descargar CSV diario",please_select_partition:"Por favor seleccione la partición",back_to_select_partition:"Volver a seleccionar partición",partition_number_from:"Número del",partition_number_to:"Número a",again:"Otra vez",upload_picture:"Subir foto",no_upload_any_picture:"No subir ninguna imagen",system_generation:"Generacion del sistema",have_contained_status:"han contenido estado",is_where_like_filter_mode:"Búsqueda borrosa",is_not_where_like_filter_mode:"Búsqueda precisa",status:{"可使用":"Usable","使用中":"Utilizando","曾經使用過":"Utilizable","可放行":"Liberable","放行中":"Liberando","曾經放行過":"Liberado","可點交":"Liberable","點交中":"Liberando","曾經點交過":"Liberado","可收貨":"Recibo","收貨中":"Recepción","曾經收貨過":"Recibido","可進站":"Comprobable","進站中":"Verificación","曾經進站過":"Comprobable","可配送":"Se puede enviar","配送中":"Embalaje","曾經配送過":"Embarcado","可回站":"Returne","回站中":"Volviendo","曾經回站過":"Devuelto","可配達":"Está hecho","配達中":"Esta donando","曾經配達過":"Es donado","可中轉":"Transferible","中轉中":"Transferencia","曾經中轉過":"Transferible","可聯運":"Intermodalable","聯運中":"Intermodalable","曾經聯運過":"Intermodalable","可異常件":"Excepcional","異常件中":"Habilitación de excepciones","曾經異常件過":"Excepcionable","可鎖定":"Bloqueable","鎖定中":"Cierre","曾經鎖定過":"Bloqueado","可完成":"Está hecho","完成中":"Esta donando","曾經完成過":"Es donado",USABLE:"USABLE",CHECKABLE:"COMPROBABLE",SHIPPABLE:"ENVIADO",SHIPPING:"ENVÍO",TRANSFERING:"TRANSFERENCIA",EXCEPTIONABLE:"EXCEPCIONAL",EXCEPTIONING:"EXCEPCIONANDO",SENDER_REGRETABLE:"SENDER REGRETABLE",CHECKING:"COMPROBACIÓN",TRANSFERABLE:"TRANSFERIBLE",INTERMODALABLE:"INTERMODALABLE",INTERMODALING:"INTERMODALIZACIÓN",RELEASABLE:"LIBERABLE",CAN_HAND_OVER:"PUEDE MANEJARSE",LOCKING:"CIERRE",IS_DONE:"ESTÁ HECHO",system:"Sistema",condition:"condición",administrator:"administrador",operator:"operador",forwarder:"promotor",public:"público",mark:"marca",no_latest_status:"No hay estado más reciente"},filter:{asynchronous:"Búsqueda asincrónica",find__key:"Búsqueda {key} ...",find_number:"Búsqueda el numero ...",clear:"Claro",numbers:"Números",waybill_content:"Contenido de la carta de porte",status:"Estado",have_contained:"Han contenido",clearance_date:"Fecha de liquidación",selected_is_used:"Seleccionado se utiliza",is_used:{true:"Usado",flase:"No utilizado"},material:"Material",selected_material:"Material seleccionado",selected_station:"Dónde",selected_staff:"Quien",selected_status:"Estado",selected_status_scope:"Alcance",selected_polarity:"Polaridad",polarity:{positive:"Siendo",negative:"No estar en"},status_depiction:{now:"Ahora",at_the:"en el",in_the:"en el",by:"por",handle:"encargarse de",before_by:"Antes por",added:"adicional"}}}},toolbox:{back_to_top_button:{back_to_top:"Volver arriba"},bulletin_board:{name:"Tablón de anuncios",message:"Mensaje",no_messages:"¡Ningún mensaje!",talk_your_comment:"Habla tu comentario"},crud_templates:{new:"Nuevo"},core_waybills_label_svg:{labels:{paper_type:"Tipo de papel",printing_type:"Tipo de impresión",paper_size:"Tamaño de papel",template:"Modelo"},printing_types:{"Label::Default":"Defecto","Label::ByExpress":"ByExpress","Label::ChangQing":"ChangQing","Label::FlyCargo":"FlyCargo","Label::Condor180":"Condor180","Label::Pelican":"Pelícano","Label::HCT":"HCT","Label::TCat":"TCat","Label::FamilyMart":"Familia Mart","Label::Presco":"Presco","Label::Invoice":"Factura","Label::FamilyMartInvoice":"FamilyMartInvoice","Label::PrescoInvoice":"PrescoInvoice"},btns:{print:"Impresión",old_print:"Vieja lógica",new_print:"Nueva lógica"},helps:{numbers_input:"Números Ex: 123,456,789"},errors:{no_authentication_token:"Pops no authentication_token",no_number:"Por favor escriba el número"}},core_waybill:{parent_core_waybill:"Carta de ruta para padres",child_core_waybill:"Hoja de ruta infantil",no_any_parent_and_child_waybill:"No hay ninguna hoja de ruta para padres e hijos",use_partition:"Dividir",partition_number_from:"Número del",partition_number_to:"Número a",btns:{label:"Etiqueta",print:"Impresión",print_again:"Imprimir de nuevo",update:"Actualizar",switch_style:"Cambiar de estilo",simple:"Sencillo",detail:"Detalle"},helps:{source:"Fuente",is_deleted:"Eliminado, por favor de vuelta.",tooltip_have_source_core_waybill:"Los datos de la hoja de ruta actual son de {número}, haga clic para editar"},errors:{please_clicked_initialize_again:"Por favor, haga clic, inicializar de nuevo.",change_template_error:"Cambiar error de plantilla.",no_number:"Sin número.",invalid_loading_image:"Imagen de carga no válida.",waybill_no_label_class_cant_print:"Hoja de ruta ninguna clase de etiqueta no puede imprimir.",props_is_can_print_label_unable:"Props is_can_print_label disabled.",no_label_type:"Sin tipo de etiqueta.",label_type_error:"Error de tipo de etiqueta.",label_paper_type_error:"Etiqueta tipo error de papel."}},core_waybills:{quick_update_table:"Tabla de actualización rápida",quick_update:"Actualización rápida",batch_edit:"Edición por lotes",no_station:"Sin estacion",packed_in:"Empacado",deleted:"Eliminado",add_table:"Agregar tabla"},operation_summary:{print_operation_list:"Lista de operaciones de impresión",table:{sender_signature:"Firma del remitente",driver_signature:"Firma del conductor"}},receipts:{print_receipt:"Imprima el recibo"},stations_modal:{turn_of_GPS:"Giro de gps",turn_on_GPS:"Encender el GPS",turn_on_auto_tracking:"Activar seguimiento automático",modify_current_station:"Cambiar estacion actual",please_select_the_current_station:"Por favor seleccione la estación actual",you_are_not_a_manager_will_modify_station_please_contact_the_manager:"Usted no es un administrador, modificará la estación, póngase en contacto con el administrador",you_do_not_belong_station_will_update_your_data_after_selection:"Usted no pertenece a la estación, actualizará sus datos después de la selección",current_station:"Estacion actual",tracking_GPS:"GPS de seguimiento",decisioning:"Decisión",cancel_current_station:"Cancelar la estación actual",btns:{track_once:"Pista (una vez)",auto_tracking_every_minute:"Seguimiento automático (cada minuto)"},errors:{geolocation_is_not_supported_by_this_browser:"La geolocalización no es compatible con este navegador.",your_web_protocol_is_not_HTTPS:"Su protocolo web no es HTTPS, consulte https://goo.gl/rStTGz.",get_location_failure:"Obtener fallo de ubicación."}},speed_test:{network_quality:"Calidad de red"},my_receipts:{neme:"Mis recibos",force_current_station:"Fuerza actual estacion",print:"{page} Imprimir{note}",customer_receipt:"Recibo del cliente"},notifications:{mark_all_read:"marcar todo como leido",no_new_notifications:"no hay notificaciones nuevas",no_news:{title:"No hay nuevas notificaciones.",content:"Actualmente no hay nuevas notificaciones y todas las nuevas notificaciones aparecerán aquí."}}},el:{colorpicker:{confirm:"DE ACUERDO",clear:"Claro"},date_option_shortcut:{today:"Hoy",three_days:"Hace tres dias",week:"Hace una semana",month:"Hace un mes",three_months:"Hace tres meses",six_months:"Hace medio año"},daterange_option_shortcut:{today:"Hoy",three_days:"Tres días",week:"Semana",month:"Mes",three_months:"Tres meses",six_months:"Seis meses"},datepicker:{now:"Ahora",today:"Hoy",cancel:"Cancelar",clear:"Claro",custom:"Personalizado",confirm:"DE ACUERDO",selectDateTime:"Seleccionar fecha y hora",selectDate:"Seleccione fecha",selectTime:"Seleccione tiempo",startDate:"Fecha de inicio",startTime:"Hora de inicio",endDate:"Fecha final",endTime:"Hora de finalización",prevYear:"Año anterior",nextYear:"El próximo año",prevMonth:"Mes anterior",nextMonth:"Próximo mes",year:"Año",month1:"enero",month2:"febrero",month3:"marzo",month4:"abril",month5:"Mayo",month6:"junio",month7:"julio",month8:"agosto",month9:"septiembre",month10:"octubre",month11:"noviembre",month12:"diciembre",week:"semana",weeks:{sun:"Dom",mon:"Lun",tue:"mar",wed:"Mie",thu:"Jue",fri:"Vie",sat:"Sab"},months:{jan:"ene",feb:"feb",mar:"mar",apr:"abr",may:"Mayo",jun:"jun",jul:"jul",aug:"ago",sep:"sep",oct:"oct",nov:"nov",dec:"dic"}},select:{loading:"Cargando",noMatch:"No hay datos coincidentes",noData:"Sin datos",placeholder:"Seleccionar"},cascader:{noMatch:"No hay datos coincidentes",loading:"Cargando",placeholder:"Seleccionar"},pagination:{goto:"Ir",pagesize:"/página",total:"Total {total}",pageClassifier:"clasificador de páginas"},messagebox:{title:"Mensaje",confirm:"DE ACUERDO",cancel:"Cancelar",error:"Entrada ilegal"},upload:{deleteTip:"pulse eliminar para eliminar",delete:"Borrar",preview:"Avance",continue:"Continuar"},table:{emptyText:"Sin datos",confirmFilter:"Confirmar",resetFilter:"Reiniciar",clearFilter:"Todos",sumText:"Suma"},tree:{emptyText:"Sin datos"},transfer:{noMatch:"No hay datos coincidentes",noData:"Sin datos",titles:["Lista 1","Lista 2"],filterPlaceholder:"Inserte palabra clave",noCheckedFormat:"{total} totales",hasCheckedFormat:"{checked}/{total} marcado"}}}}},"07e0":function(e,t,i){"use strict";var n=i("8c81"),s=i.n(n);s.a},"08cf":function(e,t,i){"use strict";var n=i("05ec"),s=i.n(n);s.a},"0919":function(e,t,i){"use strict";var n=i("7beb"),s=i.n(n);s.a},"0988":function(e,t,i){},"09a9":function(e,t,i){},"09db":function(e,t,i){},"0bd7":function(e,t,i){},"0be3":function(e,t,i){"use strict";var n=i("e173"),s=i.n(n);s.a},"0cb6":function(e,t){function i(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.speak=function(e){var i=new SpeechSynthesisUtterance(e);i.lang="zh-TW",i.rate=t.rate||1,i.pitch=t.pitch||1,i.volume=t.volume||1,i.onstart=t.onstart,i.onend=t.onend,i.onerror=t.onerror,i.onboundary=t.onboundary,i.onmark=t.onmark,i.onpause=t.onpause,i.onresume=t.onresume,window.speechSynthesis.speak(i)},this.cancel=function(){"function"===typeof t.oncancel&&void 0!==t.oncancel&&t.oncancel(),e.cancel_all()},this.cancel_all=function(){window.speechSynthesis.cancel()},this.pause_all=function(){window.speechSynthesis.pause()},this.resume_all=function(){window.speechSynthesis.resume()}}e.exports=i},"0d9b":function(e,t,i){"use strict";var n=i("e2d6"),s=i.n(n);s.a},"0ea9":function(e,t,i){},"0f50":function(e,t,i){"use strict";var n=i("a291"),s=i.n(n);s.a},"0fb2":function(e,t,i){"use strict";var n=i("4741"),s=i.n(n);s.a},"0fd2":function(e,t,i){"use strict";var n=i("bd16"),s=i.n(n);s.a},1:function(e,t){},1030:function(e,t,i){},"10ed":function(e,t,i){},"11bf":function(e,t,i){"use strict";var n=i("abde"),s=i.n(n);s.a},"122e":function(e,t,i){},"12e0":function(e){e.exports={manager:["provider_index","scan","status_prototypes","stations","provider_partitions","provider_uploader","assets","materials","core_waybills","provider_operations","permission_groups","roles","staffs","user_logs","driver_commission_policies","driver_commission_reports","scan_action_prototypes","provider_node","provider_distributions","driver_commissions","provider_customers","scanner"],operator:["provider_operations","provider_uploader","core_waybills","scanner"],driver:["assets","provider_operations","scanner"],staff:["status_prototypes","stations","provider_partitions","customer_nodes","provider_uploader","assets","materials","core_waybills","provider_operations","staffs","user_logs","driver_commission_policies","driver_commission_reports","scan_action_prototypes","provider_distributions","driver_commissions","scanner"],default:[],exception:[]}},"130b":function(e,t,i){"use strict";var n=i("fd22"),s=i.n(n);s.a},1346:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.show_demo?i("div",[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.current_melody,expression:"current_melody"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.current_melody=t.target.multiple?i:i[0]}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.default_melodies,function(t,n){return i("option",{domProps:{value:n}},[e._v("\n            "+e._s(n)+"\n        ")])})],2),i("div",{staticClass:"ui basic button",on:{click:function(t){e.$bus.$emit(e.channel,"play_sound",e.current_melody)}}},[i("i",{staticClass:"play icon"}),e._v("Play\n    ")]),i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.current_file,expression:"current_file"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.current_file=t.target.multiple?i:i[0]}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.default_files,function(t){return i("option",{domProps:{value:t}},[e._v("\n            "+e._s(t)+"\n        ")])})],2),i("div",{staticClass:"ui basic button",on:{click:function(t){e.$bus.$emit(e.channel,"play_file",e.current_file)}}},[i("i",{staticClass:"play icon"}),e._v("PlayFile\n    ")])]):e._e()},s=[],a={name:"ToolWebAudioMain",props:{channel:String,show_demo:Boolean,allow_overlay_play:Boolean},data:function(){return{current_melody:null,current_file:null,web_audio_api:{context:"webkitAudioContext"in window?new webkitAudioContext:new AudioContext,oscillator:null,oscillators:[]},default_files:["AlertSound.mp3","收貨.mp3","進站.mp3","派件中.mp3","已配達.mp3","回站.mp3","異常件.mp3","異常件問題排除.mp3","寄件者退運.mp3","出站集貨中轉.mp3","聯運.mp3","鎖定.mp3","解除鎖定.mp3"],default_melodies:{ok:[{type:"sawtooth",frequency:1800,detune:800,begin_at:0,end_at:.12},{type:"sawtooth",frequency:1500,detune:800,begin_at:.15,end_at:.27}],alert:[{type:"triangle",frequency:400,detune:0,begin_at:0,end_at:.06},{type:"triangle",frequency:400,detune:0,begin_at:.08,end_at:.14}],error:[{type:"sawtooth",frequency:100,detune:800,begin_at:0,end_at:.1},{type:"sawtooth",frequency:100,detune:800,begin_at:.13,end_at:.2}]}}},computed:{},created:function(){},mounted:function(){var e=this;this.$bus.$off(this.channel),this.$bus.$on(this.channel,function(t,i){switch(t){case"play_sound":e.play_sound(i);break;case"play_file":e.play_file(i);break;default:}}),$("body").click(function(t){e.web_audio_api.context.resume()})},watch:{},methods:{play_sound:function(e){var t=this;this.allow_overlay_play||this.stop();var i=this.default_melodies[e];_.forEach(i,function(e,i){t.web_audio_api.oscillators[i]=t.web_audio_api.context.createOscillator(),t.web_audio_api.oscillators[i].type=e.type,t.web_audio_api.oscillators[i].frequency.value=e.frequency,t.web_audio_api.oscillators[i].detune.value=e.detune,t.web_audio_api.oscillators[i].connect(t.web_audio_api.context.destination),t.web_audio_api.oscillators[i].start(t.web_audio_api.context.currentTime+e.begin_at),t.web_audio_api.oscillators[i].stop(t.web_audio_api.context.currentTime+e.end_at)})},stop:function(){_.forEach(this.web_audio_api.oscillators,function(e){e.disconnect()})},play_file:function(e){var t=this;this.allow_overlay_play||this.stop();var i,n="/audios/"+e;axios.get(n,{responseType:"arraybuffer"}).then(function(e){return e.data}).then(function(e){return t.web_audio_api.context.decodeAudioData(e,function(e){i=e,a(i)})});var s=this;function a(e){s.web_audio_api.oscillators[0]=s.web_audio_api.context.createBufferSource(),s.web_audio_api.oscillators[0].buffer=e,s.web_audio_api.oscillators[0].connect(s.web_audio_api.context.destination),s.web_audio_api.oscillators[0].start()}}},components:{}},r=a,o=i("2877"),c=Object(o["a"])(r,n,s,!1,null,"b7eceb44",null);t["a"]=c.exports},1369:function(e,t,i){"use strict";var n=i("2bfd"),s=i.n(n);s.a},"13d5":function(e,t,i){"use strict";var n=i("959c"),s=i.n(n);s.a},"13d6":function(e,t,i){},1405:function(t,i,n){"use strict";n.r(i);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.is_initialized?i("div",{staticClass:"content",class:{is_showed_jobs:e.desc_ordered_jobs.length,"z-depth-3":e.is_modal},style:{color:e.theme.color.font,background:e.theme.background,backgroundSize:e.theme.color.background_img?"cover":""}},[i("div",[i("WebAudio",{attrs:{channel:"provider_scanner_web_audio",allow_overlay_play:!1,show_demo:!1}}),i("Dashboard",{attrs:{is_processing:e.is_processing,current_number:e.current_number,current_scan_action_prototype:e.current_scan_action_prototype}}),e.current_store.is_setting?i("Settings",{attrs:{current_scan_action_prototype:e.current_scan_action_prototype,is_processing:e.is_processing}}):e._e(),i("div",{staticClass:"scrolling content"},[i("CoreWaybill",{attrs:{is_modal_opened:e.is_modal_opened}})],1),e.desc_ordered_jobs.length>=3?i("div",{staticClass:"ui jobs pointer",staticStyle:{position:"absolute",right:"6px",bottom:"106px",color:"red"},on:{click:function(t){e.$store.dispatch("customer/scanner_module/clear_job")}}},[e._v("\n            "+e._s(e.$t("ui.scanner.jobs.clear_jobs"))+"\n        ")]):e._e()],1),e.desc_ordered_jobs.length?i("transition-group",{staticClass:"ui list jobs",attrs:{name:"list",tag:"div"}},e._l(e.desc_ordered_jobs,function(t){return i("div",{key:t.id,staticClass:"item"},[i("i",{staticClass:"wait icon",class:{"green check":"Success"==t.status,"red cancel":"Failure"==t.status,"orange hourglass end":"Processing"==t.status,"white wait":"Pending"==t.status},staticStyle:{width:"18px"}}),i("div",{staticClass:"content"},[i("div",{staticClass:"header"},["Pending"==t.status?i("span",{staticStyle:{color:"lightgray"}},[t.is_waiting_user_action?i("span",[e._v("\n                            "+e._s(e.$t("ui.scanner.jobs.waiting_user_action"))+"\n                        ")]):i("span",[e._v("\n                            "+e._s(e.$t("ui.scanner.jobs.idle"))+"\n                        ")])]):"Processing"==t.status?i("span",{staticStyle:{color:"orange"}},[e._v("\n                        "+e._s(e.$t("ui.scanner.jobs.processing"))+"\n                    ")]):"Success"==t.status?i("span",{staticStyle:{color:"green"}},[e._v("\n                        "+e._s(e.$t("ui.scanner.jobs.success"))+"\n                    ")]):"Failure"==t.status?i("span",{staticStyle:{color:"red"}},[e._v("\n                        "+e._s(e.$t("ui.scanner.jobs.failure"))+"\n                    ")]):e._e(),e._v("\n                    "+e._s(e.$t("ui.scanner.jobs.job"))+"#"+e._s(t.id)+"："+e._s(e.$t("ui.scanner.jobs.number"))+" "+e._s(t.number)+"\n\n                    "),"original_number"==t.core_waybill_scope?i("span",[e._v("\n                        ["+e._s(e.$t("ui.scanner.jobs.scope.original_number"))+"]\n                    ")]):e._e(),"new"==t.core_waybill_scope?i("span",[e._v("\n                        ["+e._s(e.$t("ui.scanner.jobs.scope.new"))+"]\n                    ")]):e._e(),"operation"==t.task?i("span",[e._v("（"+e._s(t.scan_action_prototype.name)+"）")]):e._e(),t.is_batch_mode?i("span",[e._v("\n                        ("+e._s(e.$t("ui.scanner.settings.is_scan_action_mode.true"))+")\n                    ")]):e._e(),t.is_waiting_instantiate_scan_action?i("span",[i("i",{staticClass:"icon",class:{"green check":t.current_core_waybill_counter>=t.core_waybill_pieces,"red exclamation triangle":t.current_core_waybill_counter<t.core_waybill_pieces}}),e._v("\n                        "+e._s(t.current_core_waybill_counter)+" /\n                        "+e._s(t.core_waybill_pieces)+"\n                        "),t.current_core_waybill_counter<t.core_waybill_pieces?i("span",[e._v("\n                            ("+e._s(e.$t("ui.scanner.jobs.no_add_status"))+")\n                        ")]):e._e()]):e._e()]),i("div",{staticClass:"description"},e._l(t.errors,function(n){return t.errors.length>0?i("p",[i("i",{staticClass:"icon red exclamation triangle"}),e._v("\n                        "+e._s(n)+"\n                    ")]):i("p",[e._v("\n                        "+e._s(e.$t("ui.scanner.jobs.no_error"))+"\n                    ")])}))])])})):e._e()],1):i("div",{staticClass:"content",class:{"z-depth-3":e.is_modal}},[i("button",{staticClass:"big fluid ui black button",on:{click:function(t){e.init()}}},[e._v("\n        "+e._s(e.$t("ui.notifications.help.please_clicked_initialize_again"))+"\n    ")])])},a=[],r=n("1346"),o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"scanner_settings"}},[e.is_initialized?i("div",[e.is_mobile_width?i("carousel",{ref:"settings_carousel",attrs:{perPage:1,speed:390,minSwipeDistance:120,paginationEnabled:!1,navigateTo:e.current_column_index}},e._l(e.menus,function(t,n){return i("slide",{key:t.component_name},[0!=n?i("NavigationLeft"):e._e(),i(t.component_name,{tag:"component",attrs:{is_inverted:e.is_inverted}}),n+1!=e.menus.length?i("NavigationRight"):e._e()],1)})):i("div",[i("div",{staticClass:"ui top tabular menu"},e._l(e.menus,function(t){return i("div",{staticClass:"item pointer",class:{active:e.current_setting_component==t.component_name},style:{color:e.theme.color.font},on:{click:function(i){e.current_setting_component=t.component_name}}},[e._v("\n                    "+e._s(t.title)+"\n                ")])})),i(e.current_setting_component,{tag:"component",attrs:{is_inverted:e.is_inverted}})],1)],1):e._e()])},c=[],l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{style:{color:e.theme.color.font},attrs:{id:"scanner_setting_details"}},["customer"!=this.$store.state.current_scope?i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui fluid selection dropdown no top border",style:{background:e.theme.background?e.theme.background:"none",color:e.theme.color.font}},[i("div",{staticClass:"text"},[e._v("\n            "+e._s(e.$t("ui.scanner.helps.current_scan_action_prototype"))+"：\n            "),e.current_scan_action_prototype.identity?i("span",[e._v("\n                "+e._s(e.current_scan_action_prototype.name+"("+e.current_scan_action_prototype.barcode+")")+"\n            ")]):i("span",[e._v("\n                "+e._s(e.$t("ui.general.no"))+"\n                "+e._s(e.$t("ui.general.select"))+"\n            ")])]),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu",style:{background:e.theme.background?e.theme.background:"none"}},e._l(e.scan_action_prototypes,function(t){return i("div",{staticClass:"item",style:{color:e.theme.color.font,background:t.identity==e.current_scan_action_prototype.identity?"rgba(0,0,0,.5)":""},on:{click:function(i){e.$bus.$emit("set_current_scan_action_prototype",t.identity)}}},[e._v("\n                "+e._s(t.name)+"("+e._s(t.barcode)+")\n            ")])}))]):e._e(),i("div",{staticClass:"ui doubling five column grid settings",class:{inverted:e.is_inverted},staticStyle:{"margin-top":"0.1rem","margin-bottom":"0.2rem"}},[e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_scan_action_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_scan_action_mode},on:{click:function(t){e.settings.is_scan_action_mode=!e.settings.is_scan_action_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"icon",class:{barcode:e.settings.is_scan_action_mode,eye:!e.settings.is_scan_action_mode}})]),i("p",[e._v("\n                "+e._s(e.settings.is_scan_action_mode?e.$tc("ui.scanner.settings.is_scan_action_mode.true"):e.$tc("ui.scanner.settings.is_scan_action_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_distributed_to_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_distributed_to_mode},on:{click:function(t){e.settings.is_distributed_to_mode=!e.settings.is_distributed_to_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"external share icon"}),e.settings.is_distributed_to_mode?e._e():i("i",{staticClass:"bottom left corner red dont icon"})]),i("p",[e._v("\n                "+e._s(e.settings.is_distributed_to_mode?e.$tc("ui.scanner.settings.is_distributed_to_mode.true"):e.$tc("ui.scanner.settings.is_distributed_to_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_package_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_package_mode},on:{click:function(t){e.settings.is_package_mode=!e.settings.is_package_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"group object icon"}),e.settings.is_package_mode?e._e():i("i",{staticClass:"bottom left corner red dont icon"})]),i("p",[e._v("\n                "+e._s(e.settings.is_package_mode?e.$tc("ui.scanner.settings.is_package_mode.true"):e.$tc("ui.scanner.settings.is_package_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_unpackage_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_unpackage_mode},on:{click:function(t){e.settings.is_unpackage_mode=!e.settings.is_unpackage_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"ungroup object icon"}),e.settings.is_unpackage_mode?e._e():i("i",{staticClass:"bottom left corner red dont icon"})]),i("p",[e._v("\n                "+e._s(e.settings.is_unpackage_mode?e.$tc("ui.scanner.settings.is_unpackage_mode.true"):e.$tc("ui.scanner.settings.is_unpackage_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_update_corewaybill_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_update_corewaybill_mode},on:{click:function(t){e.settings.is_update_corewaybill_mode=!e.settings.imitate_mode&&!e.settings.is_update_corewaybill_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"edit icon"}),e.settings.is_update_corewaybill_mode?e._e():i("i",{staticClass:"bottom left corner red dont icon"}),e.settings.imitate_mode?i("i",{staticClass:"top left corner red lock icon",staticStyle:{top:"6px",left:"-6px"}}):e._e()]),i("p",[e._v("\n                "+e._s(e.settings.is_update_corewaybill_mode?e.$tc("ui.scanner.settings.is_update_corewaybill_mode.true"):e.$tc("ui.scanner.settings.is_update_corewaybill_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_auto_print_label_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_auto_print_label_mode},on:{click:function(t){e.settings.is_auto_print_label_mode=!e.settings.is_auto_print_label_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"print icon"}),e.settings.is_auto_print_label_mode?e._e():i("i",{staticClass:"bottom left corner red dont icon"})]),i("p",[e._v("\n                "+e._s(e.settings.is_auto_print_label_mode?e.$tc("ui.scanner.settings.is_auto_print_label_mode.true"):e.$tc("ui.scanner.settings.is_auto_print_label_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_scan_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_scan_mode},on:{click:function(t){e.settings.is_scan_mode=!e.settings.is_scan_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"write icon"}),e.settings.is_scan_mode?i("i",{staticClass:"bottom left corner red dont icon"}):e._e()]),i("p",[e._v("\n                "+e._s(e.settings.is_scan_mode?e.$tc("ui.scanner.settings.is_scan_mode.true"):e.$tc("ui.scanner.settings.is_scan_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_noty_audio_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_noty_audio_mode},on:{click:function(t){e.settings.is_noty_audio_mode=!e.settings.is_noty_audio_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"volume up icon"}),e.settings.is_noty_audio_mode?e._e():i("i",{staticClass:"bottom left corner red dont icon"})]),i("p",[e._v("\n                "+e._s(e.settings.is_noty_audio_mode?e.$tc("ui.scanner.settings.is_noty_audio_mode.true"):e.$tc("ui.scanner.settings.is_noty_audio_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_speech_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_speech_mode},on:{click:function(t){e.settings.is_speech_mode=!e.settings.is_speech_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"file audio outline icon"}),e.settings.is_speech_mode?e._e():i("i",{staticClass:"bottom left corner red dont icon"})]),i("p",[e._v("\n                "+e._s(e.settings.is_speech_mode?e.$tc("ui.scanner.settings.is_speech_mode.true"):e.$tc("ui.scanner.settings.is_speech_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_core_waybill_pieces_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_core_waybill_pieces_mode},on:{click:function(t){e.settings.is_core_waybill_pieces_mode=!e.settings.is_core_waybill_pieces_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"cubes icon",staticStyle:{width:"34px"}}),e.settings.is_core_waybill_pieces_mode?e._e():i("i",{staticClass:"bottom left corner red dont icon"})]),i("p",[e._v("\n                "+e._s(e.settings.is_core_waybill_pieces_mode?e.$tc("ui.scanner.settings.is_core_waybill_pieces_mode.true"):e.$tc("ui.scanner.settings.is_core_waybill_pieces_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_quick_corewaybill_related_columns")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_quick_corewaybill_related_columns},on:{click:function(t){e.settings.is_quick_corewaybill_related_columns=!e.settings.is_quick_corewaybill_related_columns}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"paste up icon"}),e.settings.is_quick_corewaybill_related_columns?e._e():i("i",{staticClass:"bottom left corner red dont icon"})]),i("p",[e._v("\n                "+e._s(e.settings.is_quick_corewaybill_related_columns?e.$tc("ui.scanner.settings.is_quick_corewaybill_related_columns.true"):e.$tc("ui.scanner.settings.is_quick_corewaybill_related_columns.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_batch_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_batch_mode},on:{click:function(t){e.settings.is_batch_mode=!e.settings.is_batch_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"copy outline icon"}),e.settings.is_batch_mode?e._e():i("i",{staticClass:"bottom left corner red dont icon"})]),i("p",[e._v("\n                "+e._s(e.settings.is_batch_mode?e.$tc("ui.scanner.settings.is_batch_mode.true"):e.$tc("ui.scanner.settings.is_batch_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("core_waybill_template_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:"min_card"==e.settings.core_waybill_template_mode},on:{click:function(t){e.settings.core_waybill_template_mode="min_card"}}},[e._m(0),i("p",[e._v("\n                "+e._s(e.$tc("ui.scanner.settings.core_waybill_template_mode.min_card"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("core_waybill_template_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:"card"==e.settings.core_waybill_template_mode},on:{click:function(t){e.settings.core_waybill_template_mode="card"}}},[e._m(1),i("p",[e._v("\n                "+e._s(e.$tc("ui.scanner.settings.core_waybill_template_mode.card"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("core_waybill_template_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:"detail"==e.settings.core_waybill_template_mode},on:{click:function(t){e.settings.core_waybill_template_mode="detail"}}},[e._m(2),i("p",[e._v("\n                "+e._s(e.$tc("ui.scanner.settings.core_waybill_template_mode.detail"))+"\n            ")])]):e._e()])])},u=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("i",{staticClass:"big icons"},[i("i",{staticClass:"icon minus"})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("i",{staticClass:"big icons"},[i("i",{staticClass:"icon list"})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("i",{staticClass:"big icons"},[i("i",{staticClass:"icon file text"})])}],d={props:{is_inverted:{default:!1,type:Boolean}},data:function(){return{is_setting:!1}},computed:{current_store:function(){return this.$store.state[this.$store.state.current_scope].scanner_module},theme:function(){return this.current_store.config.theme},can_use_settings:function(){return this.current_store.config.settings},scan_action_prototypes:function(){return this.current_store.scan_action_prototypes},current_scan_action_prototype:function(){return this.current_store.current_scan_action_prototype},settings:function(){return this.current_store.settings}},watch:{},mounted:function(){},methods:{},components:{}},p=d,m=(n("df9b"),n("2877")),f=Object(m["a"])(p,l,u,!1,null,"16429051",null),h=f.exports,v=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"scanner_setting_groups"}},[i("div",{staticClass:"ui doubling five column grid setting_groups",staticStyle:{"margin-top":"0.1rem","margin-bottom":"0.2rem",color:"white"}},e._l(e.setting_groups,function(t){return t.is_hide?e._e():i("Group",{key:t.barcode,class:{inverted:e.is_inverted},attrs:{setting_group:t}})}))])},g=[],b=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"column center aligned pointer setting_group"},[i("div",{staticClass:"box",style:{backgroundColor:e.setting_group.color},on:{click:function(t){e.set_settings()}}},[i("img",{staticClass:"sprite",attrs:{src:"/images/barcode_setting_group_icons/"+e.setting_group.icon_file_name+".svg"}}),i("p",{staticClass:"mobile only",style:{fontSize:e.content_font_size+"px"}},[e._v("\n            "+e._s(e.setting_group.name||"-")+"\n        ")]),i("p",{staticClass:"computer only"},[e._v("\n            "+e._s(e.setting_group.name||"-")+"\n        ")])])])},y=[],w={props:{setting_group:Object},data:function(){return{content_font_size:this.calculate_content_font_size()}},computed:{current_store:function(){return this.$store.state[this.$store.state.current_scope].scanner_module}},watch:{},mounted:function(){},methods:{calculate_content_font_size:function(){var e=this.setting_group.name.length;return e>4?17:""},set_settings:function(){this.$bus.$emit("quick_setting_number","@@".concat(this.setting_group.barcode,"@@"),!1,!1)}},components:{}},k=w,x=(n("756f"),Object(m["a"])(k,b,y,!1,null,"ea1cc012",null)),C=x.exports,P={components:{Group:C},props:{is_inverted:{default:!1,type:Boolean}},data:function(){return{is_setting:!1}},computed:{current_store:function(){return this.$store.state[this.$store.state.current_scope].scanner_module},setting_groups:function(){return this.current_store.setting_groups}},watch:{},mounted:function(){},methods:{}},S=P,N=(n("32a3"),Object(m["a"])(S,v,g,!1,null,"f538e722",null)),q=N.exports,A=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"scanner_setting_operations"}},[e.operations.length?i("div",[i("h3",[e._v("\n            "+e._s(e.$t("ui.scanner.operations.total",{operations_length:e.operations.length,sum_core_waybills:e.sum_core_waybills}))+"\n        ")])]):e._e(),e._l(e.operations,function(t){return e.operations.length?i("div",{staticClass:"ui segment pointer operation",class:{active:e.current_staff_operation.identity==t.identity},on:{click:function(i){i.preventDefault(),e.set_current_operation(t)}}},[i("h3",{staticStyle:{"margin-bottom":"3px"}},[e._v("\n            "+e._s(t.number)+"\n            "),i("span",{staticClass:"sub_title"},[t.customer?i("span",[e._v("\n                    ["+e._s(t.customer.company_name)+"]\n                ")]):e._e(),i("span",[e._v("\n                    / "+e._s(t.core_waybills.length)+"件\n                ")])])]),i("div",{staticClass:"content",domProps:{innerHTML:e._s(t.provider_note)}}),e.current_staff_operation.identity==t.identity?i("div",{staticClass:"core_waybills"},[i("span",[e._v("\n                "+e._s(e.$t("ui.scanner.operations.contents"))+"：\n                "),e._l(e.sort_operation_core_waybills_numbers,function(t,n){return i("span",[e._v("\n                    "+e._s(t)+"\n                    "),e.sort_operation_core_waybills_numbers.length!=n+1?i("span",[e._v("\n                        /\n                    ")]):e._e()])})],2)]):e._e()]):e._e()}),e.operations.length?e._e():i("div",{staticClass:"ui segment pointer operation"},[i("h3",{style:{color:e.theme.color.font}},[e._v("\n            "+e._s(e.$t("ui.scanner.helps.you_dont_any_operation"))+"\n        ")])]),i("div",{staticClass:"refresh_operations_icon",on:{click:function(t){e.$store.dispatch("provider/fetch_current_staff_operations")}}},[i("i",{staticClass:"icon big refresh pointer"})])],2)},E=[],z={props:{is_inverted:{default:!1,type:Boolean}},data:function(){return{is_setting:!1,core_waybill_identities:[]}},computed:{current_store:function(){return this.$store.state[this.$store.state.current_scope].scanner_module},theme:function(){return this.current_store.config.theme},operations:function(){return this.$store.state.provider.current_staff_operations},current_staff_operation:function(){return this.$store.state.provider.current_staff_operation},sort_operation_core_waybills_numbers:function(){var e=_.map(this.current_staff_operation.core_waybills,"number")||[];return e.sort().reverse()},sum_core_waybills:function(){return _.sumBy(this.operations,function(e){return e.core_waybills.length})}},watch:{},mounted:function(){},methods:{set_current_operation:function(e){e.identity==this.current_staff_operation.identity?(this.$noty.warning(this.$t("ui.scanner.operations.clear_current_operation"),200),this.$store.dispatch("provider/set_current_staff_operation",{})):(this.$noty.success(this.$t("ui.scanner.operations.current_operation_set_to")+" "+e.number,300),this.$store.dispatch("provider/set_current_staff_operation",e))}},components:{}},j=z,R=(n("2030"),Object(m["a"])(j,A,E,!1,null,"0cb69ba0",null)),O=R.exports,I=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{style:{color:e.is_inverted?"white":"black",paddingTop:e.top?"0px":"25%",top:e.top?e.top:"0"},attrs:{id:"navigation_left"}},[i("i",{staticClass:"caret left icon"})])},D=[],L={components:{},props:{is_inverted:{default:!0,type:Boolean},top:{default:"",type:String}},data:function(){return{}},mounted:function(){},watch:{},computed:{},methods:{}},T=L,B=(n("6239"),Object(m["a"])(T,I,D,!1,null,"75dce5fd",null)),M=B.exports,U=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{style:{color:e.is_inverted?"white":"black",paddingTop:e.top?"0px":"25%",top:e.top?e.top:"0"},attrs:{id:"navigation_right"}},[i("i",{staticClass:"caret right icon"})])},F=[],Y={components:{},props:{is_inverted:{default:!0,type:Boolean},top:{default:"",type:String}},data:function(){return{}},mounted:function(){},watch:{},computed:{},methods:{}},G=Y,H=(n("d656"),Object(m["a"])(G,U,F,!1,null,"649c1be8",null)),K=H.exports,W=n("0a63");function V(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function X(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){V(a,n,s,r,o,"next",e)}function o(e){V(a,n,s,r,o,"throw",e)}r(void 0)})}}var Q={components:{AllDetails:h,Groups:q,Carousel:W["Carousel"],NavigationRight:K,NavigationLeft:M,Slide:W["Slide"],Operations:O},props:{is_processing:{default:!1,type:Boolean},is_inverted:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1,is_mobile_width:!1,current_column_index:0,current_setting_component:"Groups",menus:[]}},computed:{language:function(){return this.$store.state.language},style:function(){return this.$store.state.style},current_store:function(){return this.$store.state[this.$store.state.current_scope].scanner_module},theme:function(){return this.current_store.config.theme},settings:function(){return this.current_store.settings}},watch:{language:{handler:function(t){try{this.init()}catch(e){console.log(e),this.$noty.error(e)}},deep:!0},"settings.is_scan_action_mode":function(e){e?this.$noty.information(this.$tc("ui.scanner.settings.is_scan_action_mode.true")):this.$noty.warning(this.$tc("ui.scanner.settings.is_scan_action_mode.false")),localStorage.setItem("scanner_is_scan_action_mode",e)},"settings.is_distributed_to_mode":function(e){e?this.$noty.information(this.$tc("ui.scanner.settings.is_distributed_to_mode.true")):this.$noty.warning(this.$tc("ui.scanner.settings.is_distributed_to_mode.false")),localStorage.setItem("scanner_is_distributed_to_mode",e)},"settings.is_package_mode":function(e){e?(this.$noty.information(this.$tc("ui.scanner.settings.is_package_mode.true")),this.settings.is_unpackage_mode=!1):this.$noty.warning(this.$tc("ui.scanner.settings.is_package_mode.false")),localStorage.setItem("scanner_is_package_mode",e)},"settings.is_unpackage_mode":function(e){e?(this.$noty.information(this.$tc("ui.scanner.settings.is_unpackage_mode.true")),this.settings.is_package_mode=!1):this.$noty.warning(this.$tc("ui.scanner.settings.is_unpackage_mode.false")),localStorage.setItem("scanner_is_unpackage_mode",e)},"settings.is_operation_mode":function(e){e?this.$noty.information(this.$tc("ui.scanner.settings.is_operation_mode.true")):this.$noty.warning(this.$tc("ui.scanner.settings.is_operation_mode.false")),localStorage.setItem("scanner_is_operation_mode",e),this.set_menus()},"settings.is_auto_print_label_mode":function(e){e?this.$noty.information(this.$tc("ui.scanner.settings.is_auto_print_label_mode.true")):this.$noty.warning(this.$tc("ui.scanner.settings.is_auto_print_label_mode.false")),localStorage.setItem("scanner_is_auto_print_label_mode",e)},"settings.is_high_performance_mode":function(e){e?this.$noty.information(this.$tc("ui.scanner.settings.is_high_performance_mode.true")):this.$noty.warning(this.$tc("ui.scanner.settings.is_high_performance_mode.false")),localStorage.setItem("scanner_is_high_performance_mode",e)},"settings.is_scan_mode":function(e){e?this.$noty.information(this.$tc("ui.scanner.settings.is_scan_mode.true")):this.$noty.warning(this.$tc("ui.scanner.settings.is_scan_mode.false")),localStorage.setItem("scanner_is_scan_mode",e)},"settings.is_update_corewaybill_mode":function(e){e?this.$noty.information(this.$tc("ui.scanner.settings.is_update_corewaybill_mode.true")):this.$noty.warning(this.$tc("ui.scanner.settings.is_update_corewaybill_mode.false")),localStorage.setItem("scanner_is_update_corewaybill_mode",e)},"settings.is_noty_audio_mode":function(e){e?this.$noty.information(this.$tc("ui.scanner.settings.is_noty_audio_mode.true")):this.$noty.warning(this.$tc("ui.scanner.settings.is_noty_audio_mode.false")),localStorage.setItem("scanner_is_noty_audio_mode",e)},"settings.is_speech_mode":function(e){e?this.$noty.information(this.$tc("ui.scanner.settings.is_speech_mode.true")):this.$noty.warning(this.$tc("ui.scanner.settings.is_speech_mode.false")),localStorage.setItem("scanner_is_speech_mode",e)},"settings.is_quick_corewaybill_related_columns":function(e){e?this.$noty.information(this.$tc("ui.scanner.settings.is_quick_corewaybill_related_columns.true")):this.$noty.warning(this.$tc("ui.scanner.settings.is_quick_corewaybill_related_columns.false")),localStorage.setItem("scanner_is_quick_corewaybill_related_columns",e)},"settings.is_batch_mode":function(e){e?this.$noty.warning(this.$tc("ui.scanner.settings.is_batch_mode.true",3),2e3):this.$noty.information(this.$tc("ui.scanner.settings.is_batch_mode.false")),localStorage.setItem("scanner_is_batch_mode",e)},"settings.core_waybill_template_mode":function(e){var t="";t="min_card"==e?this.$tc("ui.scanner.settings.core_waybill_template_mode.min_card"):t,t="card"==e?this.$tc("ui.scanner.settings.core_waybill_template_mode.card"):t,t="detail"==e?this.$tc("ui.scanner.settings.core_waybill_template_mode.detail"):t,this.$noty.information(t)},is_mobile_width:function(e){var t=this;setTimeout(function(){e&&t.is_initialized&&(t.current_column_index=1)},100)}},mounted:function(){this.init()},methods:{init:function(){var e=X(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise(function(e){t.menus=[],t.is_initialized=!1,e()});case 3:return e.next=5,this.set_menus();case 5:return e.next=7,this.set_is_mobile_width();case 7:return e.next=9,new Promise(function(e){t.is_initialized=!0,e()});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),console.log(e.t0);case 14:case"end":return e.stop()}},e,this,[[0,11]])}));function t(){return e.apply(this,arguments)}return t}(),set_menus:function(){return this.menus=[{title:this.$t("ui.scanner.menus.settings"),component_name:"AllDetails"},{title:this.$t("ui.scanner.menus.setting_group"),component_name:"Groups"}],this.settings.is_operation_mode&&this.menus.push({title:this.$t("ui.scanner.menus.operation"),component_name:"Operations"}),Promise.resolve()},set_is_mobile_width:function(){var e=this;return this.is_mobile_width=this.style.width<=767,$(window).resize(function(){e.is_mobile_width=e.style.width<=767}),Promise.resolve()}}},Z=Q,J=(n("f470"),Object(m["a"])(Z,o,c,!1,null,"111dcf96",null)),ee=J.exports,te=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"dashboard"}},[i("div",{staticClass:"ui inverted dimmer",class:{active:e.is_loading}},[i("div",{staticClass:"ui indeterminate text loader"},[e._v("\n            "+e._s(e.$t("ui.general.initializing"))+"\n        ")])]),i("div",{staticClass:"ui form",class:{loading:e.is_processing,inverted:e.is_inverted}},[i("div",{staticClass:"ui fluid right action left icon big input",class:{"inverted transparent":e.is_inverted},style:{borderBottom:"4px "+e.current_setting_group.color+" solid",color:e.theme.color.font}},[i("i",{staticClass:"search icon"}),e.is_input_mode?i("input",{directives:[{name:"model",rawName:"v-model",value:e.input_number,expression:"input_number"}],ref:"search_input",staticClass:"no bottom border",style:{background:"none",color:e.theme.color.font},attrs:{type:"text",id:"search_input",autofocus:"true",autocomplete:"off",placeholder:e.$t("ui.scanner.helps.write_or_scan_barcode")},domProps:{value:e.input_number},on:{blur:function(t){e.input_blurred()},keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.input_submit()},input:function(t){t.target.composing||(e.input_number=t.target.value)}}}):i("div",{attrs:{id:"search_input"},on:{click:function(t){t.preventDefault(),e.input_focused()}}},[e._v("\n                "+e._s(e.current_number||e.$t("ui.scanner.helps.write_or_scan_barcode"))+"\n            ")]),i("div",{staticClass:"ui button no bottom border",class:{inverted:e.is_inverted,current_setting_group:e.current_setting_group},style:{backgroundColor:e.current_setting_group.color},on:{click:function(t){e.toggle_settings()}}},[e.current_setting_group?i("img",{staticClass:"sprite",attrs:{src:"/images/barcode_setting_group_icons/"+e.current_setting_group.icon_file_name+".svg"}}):i("i",{staticClass:"big floating ellipsis vertical icon",staticStyle:{margin:"0"}})])]),i("div",{staticClass:"ui bottom right settings label no top border pointer",class:{inverted:e.is_inverted,show_setting_modes_content:e.is_setting},style:{background:"none",color:e.theme.color.font},on:{click:function(t){e.toggle_settings()}}},[i("div",{staticClass:"settings_content"},[i("span",{staticClass:"setting_modes_content",class:{show_setting_modes_content:e.is_setting}},[e.settings.is_scan_action_mode&&e.current_scan_action_prototype.identity?i("span",[e._v(e._s(e.current_scan_action_prototype.name+"("+e.current_scan_action_prototype.barcode+")")+"、\n                    ")]):i("span",[e.current_setting_group.is_hide?e._e():i("span",[e._v("\n                            "+e._s(e.current_setting_group.name)+" 、\n                        ")])]),e._v("\n\n                    "+e._s(e.settings.is_batch_mode?e.$tc("ui.scanner.settings.is_batch_mode.true")+"、":"")+"\n                    "+e._s(e.settings.is_distributed_to_mode?e.$tc("ui.scanner.settings.is_distributed_to_mode.true",2)+"、":"")+"\n                    "+e._s(e.settings.is_package_mode?e.$tc("ui.scanner.settings.is_package_mode.true",2)+"、":"")+"\n                    "+e._s(e.settings.is_unpackage_mode?e.$tc("ui.scanner.settings.is_unpackage_mode.true",2)+"、":"")+"\n\n                    "),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_auto_print_label_mode")?i("span",[e._v("\n                        "+e._s(e.settings.is_auto_print_label_mode?e.$tc("ui.scanner.settings.is_auto_print_label_mode.true",2):e.$tc("ui.scanner.settings.is_auto_print_label_mode.false",2))+"、\n                    ")]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_scan_mode")?i("span",[e._v("\n                        "+e._s(e.settings.is_scan_mode?e.$tc("ui.scanner.settings.is_scan_mode.true",2):e.$tc("ui.scanner.settings.is_scan_mode.false",2))+"、\n                    ")]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_speech_mode")?i("span",[e._v("\n                        "+e._s(e.settings.is_speech_mode?e.$tc("ui.scanner.settings.is_speech_mode.true",2):e.$tc("ui.scanner.settings.is_speech_mode.false",2))+"、\n                    ")]):e._e(),e._v("\n\n                    "+e._s(e.settings.is_update_corewaybill_mode?e.$tc("ui.scanner.settings.is_update_corewaybill_mode.true",2)+"、":"")+"\n\n                    "),e._v("\n                    "+e._s(e.$t("ui.scanner.settings.core_waybill_template_mode.short_name"))+"：\n                    "+e._s("min_card"==e.settings.core_waybill_template_mode?e.$tc("ui.scanner.settings.core_waybill_template_mode.min_card",2):"")+"\n                    "+e._s("card"==e.settings.core_waybill_template_mode?e.$tc("ui.scanner.settings.core_waybill_template_mode.card",2):"")+"\n                    "+e._s("detail"==e.settings.core_waybill_template_mode?e.$tc("ui.scanner.settings.core_waybill_template_mode.detail",2):"")+"\n                ")])]),i("div",{staticClass:"toggle_is_setting_icon",class:{show_setting_modes_content:e.is_setting}},[i("i",{staticClass:"large icon angle double",class:{up:e.is_setting,down:!e.is_setting},style:{color:e.theme.color.show_setting_icon}})])])])])},ie=[];function ne(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function se(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){ne(a,n,s,r,o,"next",e)}function o(e){ne(a,n,s,r,o,"throw",e)}r(void 0)})}}var ae={props:{is_processing:Boolean,current_scan_action_prototype:Object,current_number:String,is_inverted:{default:!1,type:Boolean}},data:function(){return{input_number:"",is_input_mode:!1,is_loading:!1}},mounted:function(){},watch:{},computed:{current_store:function(){return this.$store.state[this.$store.state.current_scope].scanner_module},theme:function(){return this.current_store.config.theme},settings:function(){return this.current_store.settings},is_setting:function(){return this.current_store.is_setting},current_setting_group:function(){return this.current_store.current_setting_group}},methods:{input_focused:function(){var e=se(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_input_mode=!0,e()});case 2:return e.next=4,new Promise(function(e){t.input_number=t.current_number,e()});case 4:return e.next=6,new Promise(function(e){t.$nextTick(function(){$("#search_input").focus(),t.$refs.search_input.focus()}),e()});case 6:return e.next=8,this.$bus.$emit("set_input_mode",!0);case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),input_blurred:function(){var e=se(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$bus.$emit("set_current_number",this.input_number);case 2:return e.next=4,new Promise(function(e){t.is_input_mode=!1,t.input_number="",e()});case 4:return e.next=6,this.$bus.$emit("set_input_mode",!1);case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),input_submit:function(){var e=se(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.input_blurred();case 3:return e.next=5,this.$bus.$emit("enqueue");case 5:e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));function t(){return e.apply(this,arguments)}return t}(),toggle_settings:function(){this.$parent.toggle_settings_div()}},components:{}},re=ae,oe=(n("00cf"),Object(m["a"])(re,te,ie,!1,null,"1c9b475c",null)),ce=oe.exports,_e=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.is_initialized?i("div",{attrs:{id:"core_waybill"}},[e.settings.is_package_mode||e.settings.is_unpackage_mode?i("div",[e.is_mobile_width?i("carousel",{attrs:{perPage:1,speed:390,minSwipeDistance:120,paginationEnabled:!1}},[i("slide",[i("Package",{attrs:{is_inverted:e.is_inverted}}),i("NavigationRight",{attrs:{top:"18px"}})],1),i("slide",[i("NavigationLeft",{attrs:{top:"18px"}}),i("General",{attrs:{is_inverted:e.is_inverted}})],1)],1):i("div",[i("div",{staticClass:"ui top tabular menu"},e._l(e.top_menus,function(t){return i("div",{staticClass:"item pointer",class:{active:e.current_setting_component==t.component_name},style:{color:e.theme.color.font},on:{click:function(i){e.current_setting_component=t.component_name}}},[e._v("\n                    "+e._s(t.title)+"\n                ")])})),i(e.current_setting_component,{tag:"component",attrs:{is_inverted:e.is_inverted}})],1)],1):i("div",[i("General",{attrs:{is_inverted:e.is_inverted}})],1)]):e._e()},le=[],ue=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"package_core_waybill"}},[i("div",{staticClass:"ui divider"}),e.settings.is_package_mode||e.is_initialized?i("div",{staticClass:"current_pack"},[i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui top pointing dropdown button",staticStyle:{"margin-right":"0"},on:{change:function(t){e.$forceUpdate()}}},[e._l(e.materials,function(t){return e.current_pack_taget_parent_material.identity==t.identity?i("div",{staticClass:"text"},[e._v("\n                "+e._s(e.current_pack_taget_parent_material.name)+"\n            ")]):e._e()}),e.current_pack_taget_parent_material.name?e._e():i("div",{staticClass:"text"},[e._v("\n                "+e._s(e.$t("ui.general.please_select"))+"\n                "+e._s(e.$t("ui.scanner.package.packing_material"))+"\n\n            ")]),i("div",{staticClass:"menu"},e._l(e.materials,function(t){return i("div",{staticClass:"item",class:{active:t.identity==e.current_pack_taget_parent_material.identity},on:{click:function(i){e.current_store.current_pack_taget_parent_material_identity=t.identity}}},[e._v("\n                    "+e._s(t.name)+"\n                ")])}))],2),i("span",{staticStyle:{"font-size":"20px","vertical-align":"sub"}},[e._v("\n            "+e._s(e.$t("ui.scanner.package.package"))+"\n        ")]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui top pointing dropdown button",on:{change:function(t){e.$forceUpdate()}}},[e._l(e.materials,function(t){return e.current_pack_taget_material.identity==t.identity?i("div",{staticClass:"text"},[e._v("\n                "+e._s(e.current_pack_taget_material.name)+"\n            ")]):e._e()}),e.current_pack_taget_material.name?e._e():i("div",{staticClass:"text"},[e._v("\n                "+e._s(e.$t("ui.scanner.helps.select_pack_taget"))+"\n            ")]),i("div",{staticClass:"menu"},e._l(e.materials,function(t){return i("div",{staticClass:"item",class:{active:t.identity==e.current_pack_taget_material.identity},on:{click:function(i){e.current_store.current_pack_taget_material_identity=t.identity}}},[e._v("\n                    "+e._s(t.name)+"\n                ")])}))],2),i("div",{staticClass:"ui checkbox",staticStyle:{"vertical-align":"middle"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.settings.pack_need_source_mode,expression:"settings.pack_need_source_mode"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.settings.pack_need_source_mode)?e._i(e.settings.pack_need_source_mode,null)>-1:e.settings.pack_need_source_mode},on:{change:function(t){var i=e.settings.pack_need_source_mode,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=e._i(i,a);n.checked?r<0&&e.$set(e.settings,"pack_need_source_mode",i.concat([a])):r>-1&&e.$set(e.settings,"pack_need_source_mode",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.settings,"pack_need_source_mode",s)}}}),i("label",{staticClass:"pointer",class:{active:e.settings.pack_need_source_mode},on:{click:function(t){e.current_store.settings.pack_need_source_mode=!e.current_store.settings.pack_need_source_mode}}},[e._v("\n                "+e._s(e.$tc("ui.scanner.settings.pack_need_source_mode.short_name"))+"\n            ")])])]):e._e(),e.package_message.content?i("div",{staticClass:"package_message",class:[e.package_message.status]},[e._v("\n        "+e._s(e.package_message.content)+"\n    ")]):e._e(),i("h2",{staticStyle:{margin:"0"}},[e._v("\n        "+e._s(e.current_package.parent_core_waybill.number||e.package_no_number_content)+"\n        "),e.current_package.parent_core_waybill.material?i("span",{staticClass:"material_name"},[e._v("\n            ["+e._s(e.current_package.parent_core_waybill.material.name)+"]\n        ")]):e._e()]),e.current_package.core_waybills.length?i("div",{staticClass:"goods"},[e._l(e.current_package.core_waybills,function(t){return i("h3",[e._v("\n            "+e._s(t.number)+"\n            "),t.material?i("span",{staticClass:"material_name"},[e._v("\n                ["+e._s(t.material.name)+"]\n            ")]):e._e()])}),i("div",{staticClass:"fluid ui button no border",on:{click:function(t){e.submit_package()}}},[e._v("\n            "+e._s(e.$t("ui.general.submit"))+"\n        ")])],2):e._e(),e.desc_ordered_package_response_history.length?i("div",{staticClass:"ui list package_response_history"},e._l(e.desc_ordered_package_response_history,function(e){return i("PackageHistoryItem",{key:e.id,staticClass:"item",attrs:{package_response:e}})})):e._e()])},de=[],pe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"package_history_item"},[i("span",[e._v("\n        "+e._s(e.package_response.is_setting_is_package_mode?e.$t("ui.scanner.package.package"):e.$t("ui.scanner.package.unpackage"))+"\n    ")]),"success"==e.package_response.status?i("span",{staticStyle:{color:"green"}},[e._v("\n        "+e._s(e.$t("success"))+"\n    ")]):e._e(),"failure"==e.package_response.status?i("span",{staticStyle:{color:"red"}},[e._v("\n        "+e._s(e.$t("ui.general.failure"))+"\n    ")]):e._e(),e._v("\n\n    "+e._s(e.package_response.parent_core_waybill.number)+"\n    ["+e._s(e.package_response.parent_core_waybill.material.name)+"]\n    "),e.package_response.is_setting_is_package_mode?i("span",[e._v("\n        "+e._s(e.$t("ui.scanner.package.total__number",{number:e.package_response.parent_core_waybill.child_core_waybills.length}))+"\n    ")]):e._e(),e.package_response.is_setting_is_package_mode?i("span",{staticClass:"pointer",staticStyle:{"font-size":"small","font-weight":"bold"},on:{click:function(t){e.is_show_detail=!e.is_show_detail}}},[e._v("\n        ["+e._s(e.is_show_detail?e.$t("ui.scanner.package.hide"):e.$t("ui.scanner.package.detail"))+"]\n    ")]):e._e(),e.is_show_detail?i("div",{staticClass:"current_package_response"},[e.package_response.parent_core_waybill.child_core_waybills.length?i("div",{staticClass:"goods",staticStyle:{padding:"6px"}},e._l(e.package_response.parent_core_waybill.child_core_waybills,function(t){return i("span",[e._v("\n                "+e._s(t.number)+"\n                "),t.material?i("span",{staticClass:"material_name"},[e._v("\n                    ["+e._s(t.material.name)+"]\n                ")]):e._e(),e._v("\n                /\n            ")])})):e._e()]):e._e()])},me=[],fe={components:{},props:{package_response:{default:{},type:Object}},data:function(){return{is_show_detail:!1}},mounted:function(){},watch:{},computed:{},methods:{}},he=fe,ve=(n("bde4"),Object(m["a"])(he,pe,me,!1,null,"56c58fcb",null)),ge=ve.exports;function be(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function ye(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){be(a,n,s,r,o,"next",e)}function o(e){be(a,n,s,r,o,"throw",e)}r(void 0)})}}var we={components:{PackageHistoryItem:ge},props:{is_inverted:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1,package_no_number_content:this.$t("ui.scanner.helps.select_target_layer")}},mounted:function(){this.init()},watch:{"settings.pack_need_source_mode":function(e){this.fetch_and_set_local_storage("pack_need_source_mode",e)},"settings.pack_p_m_mode":function(e){this.fetch_and_set_local_storage("pack_p_m_mode",e),this.init()},"settings.pack_m_mode":function(e){this.fetch_and_set_local_storage("pack_m_mode",e),this.init()},current_pack_taget_parent_material:function(e){e.class_name!=this.settings.pack_p_m_mode&&this.clear_current_pack(),this.settings.pack_p_m_mode=e.class_name},current_pack_taget_material:function(e){this.settings.pack_m_mode=e.class_name}},computed:{current_store:function(){return this.$store.state.provider.scanner_module},settings:function(){return this.current_store.settings},current_pack_taget_parent_material:function(){return this.$store.getters["provider/scanner_module/current_pack_taget_parent_material"]},current_pack_taget_material:function(){return this.$store.getters["provider/scanner_module/current_pack_taget_material"]},materials:function(){return this.current_store.materials},current_package:{cache:!1,get:function(){return this.current_store["package"]}},package_message:function(){return this.current_store.package_message},desc_ordered_package_response_history:function(){return _.orderBy(this.current_store.package_response_history,"id","desc")}},methods:{init:function(){var e=ye(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.is_initialized=!1,e.next=3,this.set_pack_material();case 3:return e.next=5,this.set_package_no_number_content();case 5:return e.next=7,new Promise(function(e){t.is_initialized=!0});case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),set_pack_material:function(){var e=this;if(this.settings.pack_p_m_mode){var t=_.find(this.materials,function(t){var i=new RegExp(e.settings.pack_p_m_mode,"i");return t.class_name.match(i)});this.current_store.current_pack_taget_parent_material_identity=t.identity?t.identity:""}if(this.settings.pack_m_mode){t=_.find(this.materials,function(t){var i=new RegExp(e.settings.pack_m_mode,"i");return t.class_name.match(i)});this.current_store.current_pack_taget_material_identity=t.identity?t.identity:""}return Promise.resolve()},set_package_no_number_content:function(){try{if(!this.current_pack_taget_parent_material.name)throw this.$t("ui.scanner.helps.select_pack_taget_parent");if(!this.current_pack_taget_material.name)throw this.$t("ui.scanner.helps.select_pack_taget");throw this.$t("ui.scanner.helps.scan")+" "+this.current_pack_taget_parent_material.name}catch(e){this.package_no_number_content=e}},fetch_and_set_local_storage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i="scanner_".concat(e),n=localStorage.getItem(i);return!1===t&&localStorage.setItem(i,t),null==n||""==n||""!=t?(localStorage.setItem(i,t),t):localStorage.getItem(i)},submit_package:function(){var e=ye(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("provider/scanner_module/submit_package");case 2:return e.next=4,this.clear_current_pack();case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),clear_current_pack:function(){return this.current_store["package"]={parent_core_waybill:{},core_waybill_identities:[],core_waybills:[],source_core_waybill_identity:null},Promise.resolve()}}},$e=we,ke=(n("e756"),Object(m["a"])($e,ue,de,!1,null,"227903c6",null)),xe=ke.exports,Ce=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"content_core_waybill"}},[e.current_core_waybill_need_related_columns.length&&e.settings.is_quick_corewaybill_related_columns&&e.current_setting_group.is_scan_action?i("QuickRelatedColumns",{attrs:{is_inverted:e.is_inverted}}):e._e(),i("div",{staticClass:"ui divider"}),e.current_staff_operation.number||e.settings.is_distributed_to_mode||e.settings.is_unpackage_mode||e.settings.is_package_mode?i("h3",{staticClass:"center aligned",staticStyle:{margin:"0 auto","padding-bottom":"6px"}},[e.settings.is_distributed_to_mode&&!e.$store.getters["provider/current_station"].identity?i("span",[i("i",{staticClass:"exclamation triangle red icon"}),e._v("\n                "+e._s(e.$t("ui.scanner.helps.distributed.please_select"))+"\n                "),i("span",{staticClass:"pointer",staticStyle:{color:"red"},on:{click:function(t){e.$bus.$emit("toggle_station_modal","show")}}},[e._v("\n                    "+e._s(e.$t("ui.scanner.helps.distributed.current_station"))+"\n                ")]),e._v("\n                ，"+e._s(e.$t("ui.scanner.helps.distributed.can_use_distributed_to_mode"))+"\n                "),i("br")]):e._e(),e.settings.is_package_mode?i("span",[e._v("\n            "+e._s(e.$tc("ui.scanner.settings.is_package_mode.true",3))+"\n        ")]):e._e(),e.settings.is_unpackage_mode?i("span",[e._v("\n            "+e._s(e.$tc("ui.scanner.settings.is_unpackage_mode.true",3))+"\n        ")]):e._e(),e.current_staff_operation.number?i("span",[e.settings.is_package_mode||e.settings.is_unpackage_mode?i("span",[e._v("\n                、\n            ")]):e._e(),e._v("\n            "+e._s(e.$t("ui.scanner.helps.selected_operation"))+"：\n            "+e._s(e.current_staff_operation.number)+"\n            "),e.current_staff_operation.provider_note?i("span",[e._v("\n                、"+e._s(e.current_staff_operation.provider_note)+"\n            ")]):e._e()]):e._e()]):e._e(),i("div",{staticClass:"ui stackable centered grid"},[i("div",{staticClass:"wide column"},[i("DistributedResponse",{attrs:{"v-if":e.settings.is_distributed_to_mode,is_inverted:e.is_inverted}}),i("SingleCoreWaybill",{attrs:{current_core_waybill:e.current_core_waybill,is_inverted:e.is_inverted,settings:e.settings,card_half_style:!0,file_uploader:!0,fetch_core_waybill_statuses:!0,related_columns:e.current_scan_action_prototype.related_columns,current_scan_action_prototype:e.current_scan_action_prototype}})],1)])],1)},Pe=[],Se=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.current_core_waybill.identity&&"new"!=e.current_store.current_job.core_waybill_scope?i("div",[i("CoreWaybill",{staticStyle:{margin:"0px"},attrs:{core_waybill:e.current_core_waybill,template:e.tool_core_waybill_settings.template,scope:e.$store.state.current_scope,is_inverted:e.is_inverted,is_in_scanner_modal:!0,is_show_change_template_btns:!0,is_auto_print:e.tool_core_waybill_settings.is_auto_print,is_can_print_label:e.tool_core_waybill_settings.is_print_label,is_can_update:e.tool_core_waybill_settings.is_update_corewaybill,can_update_field_names:"LA04"==e.current_setting_group.barcode?["receipt_file_url"]:[],cant_update_field_names:e.tool_core_waybill_settings.cant_update_field_names,card:{is_half_style:!0,is_simple_form:!1,is_vertical:e.is_vertical,is_show_note:!0},detail:{is_show_blood_related:!0,is_show_receipt_file:!0,is_show_partition:!0,is_show_statuses:!0}}})],1):i("div")},Ne=[],qe=n("41a7");function Ae(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function Ee(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){Ae(a,n,s,r,o,"next",e)}function o(e){Ae(a,n,s,r,o,"throw",e)}r(void 0)})}}var ze={components:{CoreWaybill:qe["a"]},props:{current_core_waybill:Object,current_scan_action_prototype:Object,is_inverted:{default:!1,type:Boolean},fetch_core_waybill_statuses:{default:!1,type:Boolean},card_button_color:{default:"",type:String},card_button_content:{default:"",type:String},card_button_channel:{default:"",type:String},file_uploader:{default:!1,type:Boolean},focus_field:{default:"",type:String},related_columns:{default:function(){return[]},type:Array}},computed:{current_store:function(){return this.$store.state[this.$store.state.current_scope].scanner_module},style:function(){return this.$store.state.style},core_waybills:function(){return this.current_store.core_waybills},settings:function(){return this.current_store.settings},current_setting_group:function(){return this.current_store.current_setting_group}},data:function(){return{is_initialized:!1,is_vertical:!1,tool_core_waybill_settings:{cant_update_field_names:[],is_update_corewaybill:!1,is_print_label:!1,is_auto_print:!1,template:"card"},core_waybill_template_mode:"",core_waybill_statuses:[],empty_core_waybill:{number:"請輸入號碼"},tool_core_waybill_active_button:{content:"",channel:""}}},mounted:function(){var e=this;this.init(),this.is_vertical=this.style.width<=767,$(window).resize(function(){e.is_vertical=e.style.width<=767})},watch:{"settings.core_waybill_template_mode":function(e){this.tool_core_waybill_settings.template="LA02"==this.current_setting_group.barcode?"waybill":e,this.tool_core_waybill_settings.is_auto_print=!1},current_core_waybill:function(){this.init()}},methods:{init:function(){var e=Ee(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.is_initialized=!1,e.next=3,this.set_tool_core_waybill_settings();case 3:return e.next=5,new Promise(function(e){t.is_initialized=!0});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),set_tool_core_waybill_settings:function(){return this.tool_core_waybill_settings.is_update_corewaybill=this.settings.is_update_corewaybill_mode,this.tool_core_waybill_settings.is_auto_print=this.settings.is_auto_print_label_mode,this.tool_core_waybill_settings.template=this.$store.getters[this.$store.state.current_scope+"/scanner_module/current_core_waybill_need_related_columns"].length?"card":this.settings.core_waybill_template_mode,"LA02"==this.current_setting_group.barcode?(this.tool_core_waybill_settings.template="waybill",this.tool_core_waybill_settings.is_print_label=!0):(this.tool_core_waybill_settings.template=this.settings.core_waybill_template_mode,this.tool_core_waybill_settings.is_print_label=this.settings.is_auto_print_label_mode),this.tool_core_waybill_settings.is_auto_print=!this.$store.getters[this.$store.state.current_scope+"/scanner_module/current_core_waybill_need_related_columns"].length&&this.tool_core_waybill_settings.is_auto_print,Promise.resolve()}}},je=ze,Re=(n("e595"),Object(m["a"])(je,Se,Ne,!1,null,"6812a5b6",null)),Oe=Re.exports,Ie=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"quick_core_waybill_related_columns"}},[i("div",{staticClass:"ui divider",staticStyle:{"margin-top":"3px"}}),i("div",{staticClass:"ui form",class:{inverted:e.is_inverted}},[i("h3",{staticStyle:{margin:"0"}},[e._v("\n            "+e._s(e.$t("ui.scanner.helps.quick_required_field_div"))+"\n        ")]),e._l(e.current_scan_action_prototype_related_columns,function(t){return i("div",{staticClass:"field half",on:{click:function(t){e.is_edit_fields=!0}}},[e.is_edit_fields?i("label",{staticStyle:{"font-size":"14px"}},[e._v("\n                "+e._s(e.$t("models.attributes.core_waybills."+t.name))+"\n                ")]):e._e(),e.is_edit_fields?i("input",{directives:[{name:"model",rawName:"v-model",value:e.quick_core_waybill_related_columns[t.name],expression:"quick_core_waybill_related_columns[related_column.name]"}],class:{is_required:t.is_required},attrs:{type:"text",tabindex:"-1",autocomplete:"off",placeholder:t.is_required?e.$t("ui.scanner.alerts.required_field"):e.$t("ui.scanner.alerts.if_have_write")},domProps:{value:e.quick_core_waybill_related_columns[t.name]},on:{focus:function(t){e.current_store.is_keydown=!1},blur:function(t){e.current_store.is_keydown=!0},input:function(i){i.target.composing||e.$set(e.quick_core_waybill_related_columns,t.name,i.target.value)}}}):e._e(),e.is_edit_fields?e._e():i("label",{staticStyle:{"font-size":"14px"}},[e._v("\n                "+e._s(e.$t("models.attributes.core_waybills."+t.name))+"\n                "),t.is_required?i("span",{staticStyle:{color:"red"}},[e._v("\n                    *\n                ")]):e._e(),e._v("\n                ： "+e._s(e.quick_core_waybill_related_columns[t.name]||"無填寫")+"\n            ")])])})],2),i("div",{staticClass:"toggle_is_edit_fields pointer",on:{click:function(t){e.is_edit_fields=!e.is_edit_fields}}},[i("i",{staticClass:"circular orange icon",class:{"inverted angle double up":e.is_edit_fields,"large angle double down":!e.is_edit_fields}})]),i("div",{staticClass:"clear"})])},De=[],Le={components:{},props:{is_inverted:{default:!1,type:Boolean}},data:function(){return{is_edit_fields:!0}},computed:{current_store:function(){return this.$store.state.provider.scanner_module},settings:function(){return this.current_store.settings},current_scan_action_prototype_related_columns:function(){return this.$store.getters["provider/scanner_module/current_scan_action_prototype_related_columns"]},quick_core_waybill_related_columns:function(){return this.current_store.quick_core_waybill_related_columns}},watch:{},mounted:function(){},methods:{}},Te=Le,Be=(n("8993"),Object(m["a"])(Te,Ie,De,!1,null,"3daf4966",null)),Me=Be.exports,Ue=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"distributed_response"}},[e.distributed_to.message?i("div",{staticClass:"distributed_to_message",style:{borderColor:e.border_color()}},[i("h3",[e._v("\n            "+e._s(e.$t("ui.scanner.helps.distributed_result"))+"：\n            "+e._s(e.distributed_to.message)+"\n        ")])]):e._e()])},Fe=[],Ye={components:{},props:{is_inverted:{default:!1,type:Boolean}},data:function(){return{}},computed:{current_store:function(){return this.$store.state.provider.scanner_module},settings:function(){return this.current_store.settings},distributed_to:function(){return this.current_store.distributed_to}},watch:{},mounted:function(){},methods:{border_color:function(){if("success"!=this.distributed_to.status)return"red";switch(this.distributed_to.type){case"direct":return"green";case"transfer":return"green";case"intermodal":return"green";default:return"green"}}}},Ge=Ye,He=(n("e33b"),Object(m["a"])(Ge,Ue,Fe,!1,null,"79781fe6",null)),Ke=He.exports;function We(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function Ve(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){We(a,n,s,r,o,"next",e)}function o(e){We(a,n,s,r,o,"throw",e)}r(void 0)})}}var Xe={components:{SingleCoreWaybill:Oe,QuickRelatedColumns:Me,DistributedResponse:Ke},props:{core_waybill:Object,is_inverted:{default:!1,type:Boolean}},data:function(){return{is_processing:!0}},mounted:function(){this.init()},watch:{},computed:{current_staff_operation:function(){return this.$store.state.provider.current_staff_operation},current_store:function(){return this.$store.state[this.$store.state.current_scope].scanner_module},settings:function(){return this.current_store.settings},current_core_waybill:{cache:!1,get:function(){return this.current_store.current_core_waybill}},core_waybills:function(){return this.current_store.core_waybills},current_scan_action_prototype:function(){return this.current_store.current_scan_action_prototype},current_setting_group:function(){return this.current_store.current_setting_group},current_core_waybill_need_related_columns:function(){return this.$store.getters["provider/scanner_module/current_core_waybill_need_related_columns"]}},methods:{init:function(){var e=Ve(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.is_processing=!0,this.stack_error_number=[],e.next=4,new Promise(function(e){t.is_processing=!1});case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},Qe=Xe,Ze=(n("35f7"),Object(m["a"])(Qe,Ce,Pe,!1,null,"b96f94d2",null)),Je=Ze.exports;function et(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function tt(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){et(a,n,s,r,o,"next",e)}function o(e){et(a,n,s,r,o,"throw",e)}r(void 0)})}}var it={components:{Package:xe,General:Je,NavigationLeft:M,NavigationRight:K,Carousel:W["Carousel"],Slide:W["Slide"]},props:{is_modal_opened:{default:!1,type:Boolean},is_inverted:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1,is_mobile_width:!1,current_setting_component:"Package",top_menus:[{title:this.$t("ui.scanner.menus.package"),component_name:"Package"},{title:this.$t("ui.scanner.menus.core_waybill"),component_name:"General"}],update_core_waybills_eventbus_name:"update_core_waybills_in_scanner"}},mounted:function(){var e=this;$(window).resize(function(){e.is_mobile_width=e.style.width<=767}),this.init()},watch:{is_modal_opened:function(e){e&&this.$forceUpdate()}},computed:{current_store:function(){return this.$store.state[this.$store.state.current_scope].scanner_module},style:function(){return this.$store.state.style},theme:function(){return this.current_store.config.theme},settings:function(){return this.current_store.settings},current_core_waybill:{cache:!1,get:function(){return this.current_store.current_core_waybill}},core_waybills:function(){return this.current_store.core_waybills}},methods:{init:function(){var e=tt(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.is_initialized=!1,e.next=3,this.set_is_mobile_width();case 3:return e.next=5,new Promise(function(e){t.is_initialized=!0});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),set_is_mobile_width:function(){return this.is_mobile_width=this.style.width<=767,""}}},nt=it,st=(n("d381"),Object(m["a"])(nt,_e,le,!1,null,"704df123",null)),at=st.exports,rt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"create_core_waybill_alert"}},[e.is_initialized?i("div",{staticClass:"ui segment z-depth-2",style:{background:e.theme.background,color:e.theme.color.font}},[i("h3",[e._v("\n            "+e._s(e.$t("ui.scanner.alerts.is_created"))+"\n            "),i("span",[e._v("\n                "+e._s(e.current_store.current_core_waybill.number)+"\n            ")]),e.current_store.current_core_waybill.material?i("span",{staticStyle:{"font-size":"small"}},[i("span",{staticClass:"title_number"},[e._v("\n                    ["+e._s(e.current_store.current_core_waybill.material.name)+"]\n                ")])]):e._e()]),e.create_core_waybill_error?i("div",{staticClass:"ui message error"},[e._v("\n            "+e._s(e.create_core_waybill_error)+"\n        ")]):e._e(),i("div",{staticClass:"right aligned",staticStyle:{"padding-top":"12px"}},[i("button",{staticClass:"ui inverted red button",on:{click:function(t){e.give_up_create_core_waybill()}}},[e._v("\n                "+e._s(e.$t("ui.scanner.alerts.give_up"))+"\n            ")]),i("button",{staticClass:"ui inverted blue button",on:{click:function(t){e.define_create_core_waybill()}}},[e._v("\n                "+e._s(e.$t("ui.scanner.alerts.definite"))+"\n            ")])])]):e._e()])},ot=[],ct=n("3c2e"),_t=n.n(ct);function lt(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function ut(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){lt(a,n,s,r,o,"next",e)}function o(e){lt(a,n,s,r,o,"throw",e)}r(void 0)})}}var dt={components:{},props:{is_inverted:{default:!1,type:Boolean},is_modal_opened:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1,is_enter_keyboard_to_finish_action:!1,create_core_waybill_error:""}},computed:{current_store:function(){return this.$store.state.provider.scanner_module},theme:function(){return this.current_store.config.theme},current_core_waybill:function(){return this.current_store.current_core_waybill}},watch:{},deleted:function(){this.is_enter_keyboard_to_finish_action=!1},mounted:function(){this.is_enter_keyboard_to_finish_action=!0,$(window).bind("keydown",this.window_keydown),this.toggle_scanner_is_keydown(!1),this.init()},methods:{window_keydown:function(e){if(this.is_enter_keyboard_to_finish_action){var t=new _t.a(e);13!=t.key_code||this.current_store.is_keydown||this.define_create_core_waybill()}},init:function(){var e=ut(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise(function(e){t.current_column_order=0,t.is_initialized=!0,e()});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),console.log(e.t0);case 8:case"end":return e.stop()}},e,null,[[0,5]])}));function t(){return e.apply(this,arguments)}return t}(),toggle_scanner_is_keydown:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.current_store.is_keydown=e},give_up_create_core_waybill:function(){this.toggle_scanner_is_keydown(!0),this.$parent.alert_failure(),this.$noty.warning("未建立運單",1200)},define_create_core_waybill:function(){var e=ut(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.create_core_waybill();case 2:if(""!=this.create_core_waybill_error){e.next=7;break}return e.next=5,this.$parent.alert_success();case 5:return e.next=7,this.toggle_scanner_is_keydown(!0);case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),create_core_waybill:function(){var e=this,t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_core_waybills_create).parse({});return this.current_core_waybill["is_used"]=!0,this.current_core_waybill["material_identity"]=this.current_core_waybill.material.identity,this.current_core_waybill["partition_identity"]=this.current_core_waybill.partition.identity,axios.post(t,this.current_core_waybill,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.core_waybills")})),e.create_core_waybill_error=t.data.errors,Promise.reject(t.data.errors);e.$noty.success(e.$t("ui.notifications.success.create__name",{name:e.$t("models.core_waybills")}))})}}},pt=dt,mt=(n("cd12"),Object(m["a"])(pt,rt,ot,!1,null,"41ac0ed7",null)),ft=mt.exports,ht=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{},[i("div",{attrs:{id:"scan_action_description_alert"}},[e.is_initialized&&e.current_scan_action_prototype.description_options?i("div",{staticClass:"ui segment z-depth-2",style:{background:e.theme.background,color:e.theme.color.font,top:e.current_scan_action_prototype.description_options.length>=7?"10%":"20%"}},[i("p",{staticStyle:{"font-size":"16px"}},[e._v("\n                "+e._s(e.$t("ui.scanner.alerts.please_write_scan_note"))+"\n                "),i("span",{staticStyle:{color:"red"}},[e._v("\n                    ["+e._s(e.$t("ui.scanner.alerts.required"))+"]\n                ")])]),i("div",{staticClass:"description_options"},e._l(e.current_scan_action_prototype.description_options,function(t,n){return i("div",{staticClass:"ui inverted button",class:{fluid:e.is_mobile_width,red:n%7==0,orange:n%7==1,violet:n%7==2,white:n%7==3,purple:n%7==4,pink:n%7==5,active:e.current_store.scan_action_description==t},on:{click:function(i){e.current_store.scan_action_description=t}}},[e._v("\n                    "+e._s(t)+"\n                ")])})),i("div",{staticClass:"right aligned",staticStyle:{"padding-top":"12px"}},[i("button",{staticClass:"ui inverted red button",on:{click:function(t){e.give_up_scan_action_description()}}},[e._v("\n                    "+e._s(e.$t("ui.scanner.alerts.give_up"))+"\n                ")]),i("button",{staticClass:"ui inverted blue button",on:{click:function(t){e.finish_scan_action_description()}}},[e._v("\n                    "+e._s(e.$t("ui.scanner.alerts.definite"))+"\n                ")])])]):e._e()])])},vt=[],gt=n("dcbb");function bt(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function yt(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){bt(a,n,s,r,o,"next",e)}function o(e){bt(a,n,s,r,o,"throw",e)}r(void 0)})}}var wt={components:{FileUploader:gt["a"]},props:{is_inverted:{default:!1,type:Boolean},is_modal_opened:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1,is_mobile_width:!1,is_enter_keyboard_to_finish_action:!1,current_column:{},current_column_order:0,file_uploader:{status:"",message:""},core_waybill_receipt_file_url_eventbus:""}},computed:{current_store:function(){return this.$store.state.provider.scanner_module},style:function(){return this.$store.state.style},theme:function(){return this.current_store.config.theme},settings:function(){return this.current_store.settings},scan_action_description:function(){return this.current_store.scan_action_description},current_scan_action_prototype:function(){return this.current_store.current_scan_action_prototype},array_description_options:function(){if(!this.current_store.current_scan_action_prototype.description_options)return[]}},watch:{is_modal_opened:function(e){e&&(this.toggle_scanner_is_keydown(!1),this.init())},current_core_waybill_need_related_columns:function(){this.init()}},deleted:function(){this.is_enter_keyboard_to_finish_action=!1},mounted:function(){var e=this;this.is_mobile_width=this.style.width<=767,$(window).resize(function(){e.is_mobile_width=e.style.width<=767}),this.is_enter_keyboard_to_finish_action=!0,$(window).bind("keydown",this.window_keydown),this.toggle_scanner_is_keydown(!1),this.init()},methods:{window_keydown:function(e){if(this.is_enter_keyboard_to_finish_action){var t=new _t.a(e);13!=t.key_code||this.current_store.is_keydown||this.finish_scan_action_description()}},toggle_scanner_is_keydown:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.current_store.is_keydown=e},init:function(){var e=yt(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.focus_input();case 3:return e.next=5,new Promise(function(e){t.current_column_order=0,t.is_initialized=!0,e()});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));function t(){return e.apply(this,arguments)}return t}(),focus_input:function(){return $(document).ready(function(){$("#alert_input").focus()}),Promise.resolve()},give_up_scan_action_description:function(){var e=this.$t("ui.scanner.errors.give_up_scan_action_description");this.toggle_scanner_is_keydown(!0),this.$parent.alert_failure(e),this.$noty.error(e,1200)},finish_scan_action_description:function(){var e=yt(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,this.scan_action_description){e.next=3;break}throw this.$t("ui.scanner.helps.write_scan_action_note");case 3:this.toggle_scanner_is_keydown(!0),this.$parent.alert_success(),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),this.$noty.error(e.t0,1200);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));function t(){return e.apply(this,arguments)}return t}()}},$t=wt,kt=(n("e20d"),Object(m["a"])($t,ht,vt,!1,null,"cd6bd44c",null)),xt=kt.exports,Ct=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"core_waybill_related_columns_alert"},on:{click:function(t){e.set_focus_input_name(e.current_core_waybill_need_related_columns[e.current_column_index].name)}}},[e.is_modal_opened?i("carousel",{ref:"columns_carousel",attrs:{perPage:1,speed:390,minSwipeDistance:120,paginationEnabled:!1,navigateTo:e.current_column_index},on:{pageChange:e.page_change}},e._l(e.current_core_waybill_need_related_columns,function(t,n){return i("slide",{key:t.identity},[i("div",{staticClass:"ui segment",style:{background:e.theme.background,color:e.theme.color.font}},[i("p",{staticStyle:{"font-size":"16px"}},[e._v("\n                    "+e._s(e.$t("ui.scanner.alerts.please_write"))+"：\n                    "+e._s(e.$t("models.attributes.core_waybills."+t.name))+"\n                    "),t.is_required?i("span",{staticStyle:{color:"red"}},[e._v("\n                        ["+e._s(e.$t("ui.scanner.alerts.required"))+"]\n                    ")]):e._e()]),t.input_method?"tel_input"==t.input_method.component?i("div",[i("InputTel",{attrs:{related_column:t,focus_input_name:e.current_store.alert_core_waybill_related_columns_focus_input_name}})],1):"file_uploader"==t.input_method.component?i("div",[i("FileUploader",{attrs:{related_column:t,focus_input_name:e.current_store.alert_core_waybill_related_columns_focus_input_name}})],1):e._e():i("div",[i("InputText",{attrs:{related_column:t,focus_input_name:e.current_store.alert_core_waybill_related_columns_focus_input_name}})],1),i("div",{staticClass:"ui grid decision_buttons"},[i("div",{staticClass:"six wide column"},[n?i("div",{staticClass:"left aligned"},[i("button",{staticClass:"ui inverted button",on:{click:function(t){e.previous_core_waybill_related_columns()}}},[e._v("\n                                "+e._s(e.$t("ui.scanner.alerts.previous"))+"\n                            ")])]):e._e()]),i("div",{staticClass:"ten wide column"},[i("div",{staticClass:"right aligned"},[i("button",{staticClass:"ui inverted red button",on:{click:function(t){e.give_up_core_waybill_related_columns()}}},[e._v("\n                                "+e._s(e.$t("ui.scanner.alerts.give_up"))+"\n                            ")]),i("button",{staticClass:"ui inverted blue button",on:{click:function(t){e.next_actions_core_waybill_related()}}},[e._v("\n                                "+e._s(e.$t("ui.scanner.alerts.definite"))+"\n                            ")])])])])])])})):e._e()],1)},Pt=[],St=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.is_initialized?i("div",[i("span",[e._v("\n            "+e._s(e.$t("ui.scanner.upload.receipt_file"))+"：\n        ")]),i("FileUploader",{staticClass:"file_uploader_tool",attrs:{channel:e.core_waybill_receipt_file_url_eventbus}}),e.file_uploader.message?i("h3",{staticClass:"file_uploader_message"},[e._v("\n            "+e._s(e.$t("ui.scanner.upload.result"))+"：\n            "),i("span",{class:e.file_uploader.status},[e._v("\n                "+e._s(e.file_uploader.message)+"\n            ")])]):e._e()],1):e._e()])},Nt=[];function qt(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function At(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){qt(a,n,s,r,o,"next",e)}function o(e){qt(a,n,s,r,o,"throw",e)}r(void 0)})}}var Et={components:{FileUploader:gt["a"]},props:{related_column:{default:{},input_type:Object},focus_input_name:{default:"",input_type:String},is_inverted:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1,current_column_order:0,file_uploader:{status:"",message:""},core_waybill_receipt_file_url_eventbus:""}},computed:{current_store:function(){return this.$store.state.provider.scanner_module},actions_core_waybill_related_columns:function(){return this.current_store.actions_core_waybill_related_columns}},watch:{},mounted:function(){this.init()},methods:{init:function(){var e=At(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.set_core_waybill_receipt_file_url();case 3:return e.next=5,new Promise(function(e){t.current_column_order=0,t.is_initialized=!0,e()});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));function t(){return e.apply(this,arguments)}return t}(),set_core_waybill_receipt_file_url:function(){var e=this;this.core_waybill_receipt_file_url_eventbus="core_waybill_receipt_file_url_".concat(this.current_store.current_core_waybill.number),this.$bus.$off(this.core_waybill_receipt_file_url_eventbus),this.$bus.$on(this.core_waybill_receipt_file_url_eventbus,function(t,i,n){switch(i){case"uploaded_file":e.file_uploader.status="await",e.file_uploader.message=e.$t("ui.general.uploading");break;case"uploading":console.log("uploading"),e.file_uploader.status="await",e.file_uploader.message=e.$t("ui.general.uploading");break;case"upload complete":e.actions_core_waybill_related_columns[e.related_column.name]=n,e.file_uploader.status="success",e.file_uploader.message=e.$t("ui.notifications.success.update"),e.$bus.$emit("scanner_next_actions_core_waybill_related");break;case"upload failed":console.log("file_uploader failed"),e.file_uploader.status="failure",e.file_uploader.message=e.$t("ui.notifications.error.update");break}})}}},zt=Et,jt=(n("8813"),Object(m["a"])(zt,St,Nt,!1,null,"66d15258",null)),Rt=jt.exports,Ot=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.is_initialized?i("div",{staticClass:"ui fluid input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.actions_core_waybill_related_columns[e.related_column.name],expression:"actions_core_waybill_related_columns[related_column.name]"}],ref:e.related_column.name,attrs:{type:"text",placeholder:e.related_column.is_required?e.$t("ui.scanner.alerts.required_field"):e.$t("ui.scanner.alerts.if_have_write")},domProps:{value:e.actions_core_waybill_related_columns[e.related_column.name]},on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$bus.$emit("scanner_next_actions_core_waybill_related")},input:function(t){t.target.composing||e.$set(e.actions_core_waybill_related_columns,e.related_column.name,t.target.value)}}})]):e._e()])},It=[];function Dt(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function Lt(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){Dt(a,n,s,r,o,"next",e)}function o(e){Dt(a,n,s,r,o,"throw",e)}r(void 0)})}}var Tt={components:{},props:{related_column:{default:{},input_type:Object},focus_input_name:{default:"",input_type:String},is_inverted:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.provider.scanner_module},actions_core_waybill_related_columns:function(){return this.current_store.actions_core_waybill_related_columns}},watch:{related_column:function(){this.init()},focus_input_name:{handler:function(e,t){this.focus_input()},deep:!0}},mounted:function(){this.init()},methods:{init:function(){var e=Lt(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise(function(e){t.is_initialized=!0,e()});case 3:return e.next=5,this.focus_input();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));function t(){return e.apply(this,arguments)}return t}(),focus_input:function(){var t=this;try{if(!this.focus_input_name)throw"no focus_input_name";if(!this.related_column.name)throw"no related_column.name";this.focus_input_name===this.related_column.name?setTimeout(function(){t.$refs[t.related_column.name].focus()},300):this.$refs[this.related_column.name].blur()}catch(e){console.log(e)}return Promise.resolve()}}},Bt=Tt,Mt=(n("780c"),Object(m["a"])(Bt,Ot,It,!1,null,"3c080299",null)),Ut=Mt.exports,Ft=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.is_initialized?i("div",{staticClass:"ui fluid input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.actions_core_waybill_related_columns[e.related_column.name],expression:"actions_core_waybill_related_columns[related_column.name]"}],ref:e.related_column.name,attrs:{type:"tel",placeholder:e.related_column.is_required?e.$t("ui.scanner.alerts.required_field"):e.$t("ui.scanner.alerts.if_have_write")},domProps:{value:e.actions_core_waybill_related_columns[e.related_column.name]},on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$bus.$emit("scanner_next_actions_core_waybill_related")},input:function(t){t.target.composing||e.$set(e.actions_core_waybill_related_columns,e.related_column.name,t.target.value)}}})]):e._e()])},Yt=[];function Gt(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function Ht(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){Gt(a,n,s,r,o,"next",e)}function o(e){Gt(a,n,s,r,o,"throw",e)}r(void 0)})}}var Kt={components:{},props:{related_column:{default:{},input_type:Object},focus_input_name:{default:"",input_type:String},is_inverted:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.provider.scanner_module},actions_core_waybill_related_columns:function(){return this.current_store.actions_core_waybill_related_columns}},watch:{related_column:function(){this.init()},focus_input_name:{handler:function(e,t){this.focus_input()},deep:!0}},mounted:function(){this.init()},methods:{init:function(){var e=Ht(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise(function(e){t.is_initialized=!0,e()});case 3:return e.next=5,this.focus_input();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));function t(){return e.apply(this,arguments)}return t}(),focus_input:function(){var t=this;try{if(!this.focus_input_name)throw"no focus_input_name";if(!this.related_column.name)throw"no related_column.name";this.focus_input_name===this.related_column.name?setTimeout(function(){t.$refs[t.related_column.name].focus()},300):this.$refs[this.related_column.name].blur()}catch(e){console.log(e)}return Promise.resolve()}}},Wt=Kt,Vt=(n("f3af"),Object(m["a"])(Wt,Ft,Yt,!1,null,"59ce34db",null)),Xt=Vt.exports,Qt=void 0;function Zt(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function Jt(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){Zt(a,n,s,r,o,"next",e)}function o(e){Zt(a,n,s,r,o,"throw",e)}r(void 0)})}}var ei={components:{FileUploader:Rt,InputText:Ut,InputTel:Xt,Carousel:W["Carousel"],Slide:W["Slide"]},props:{is_inverted:{default:!1,type:Boolean},is_modal_opened:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1,current_column:{},current_column_index:0}},computed:{current_store:function(){return this.$store.state.provider.scanner_module},theme:function(){return this.current_store.config.theme},settings:function(){return this.current_store.settings},current_core_waybill:function(){return this.current_store.current_core_waybill},actions_core_waybill_related_columns:function(){return this.current_store.actions_core_waybill_related_columns},current_core_waybill_need_related_columns:function(){return this.$store.getters["provider/scanner_module/current_core_waybill_need_related_columns"]},alert_core_waybill_related_columns_focus_input_name:function(){return this.current_store.alert_core_waybill_related_columns_focus_input_name}},watch:{is_modal_opened:function(e){e&&(this.toggle_scanner_is_keydown(!1),this.init())},current_core_waybill_need_related_columns:function(){this.init()}},mounted:function(){var e=this;this.$bus.$off("scanner_next_actions_core_waybill_related"),this.$bus.$on("scanner_next_actions_core_waybill_related",function(){e.next_actions_core_waybill_related()}),this.toggle_scanner_is_keydown(!1),this.init()},methods:{page_change:function(e){this.current_column_index=e,this.current_core_waybill_need_related_columns[this.current_column_index]?this.set_focus_input_name(this.current_core_waybill_need_related_columns[this.current_column_index].name):this.set_focus_input_name(null)},toggle_scanner_is_keydown:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.current_store.is_keydown=e},init:function(){var e=Jt(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.set_focus_input_name();case 3:return e.next=5,new Promise(function(e){t.current_column_index=0,t.is_initialized=!0,e()});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));function t(){return e.apply(this,arguments)}return t}(),set_focus_input_name:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.current_store.alert_core_waybill_related_columns_focus_input_name="no_focus",setTimeout(function(){if(null==t){var i=_.head(e.current_core_waybill_need_related_columns);t=i.name}e.current_store.alert_core_waybill_related_columns_focus_input_name=t},50),Promise.resolve()},previous_core_waybill_related_columns:function(){var e=this;this.$nextTick(function(){e.current_column_index=e.current_column_index-1,e.set_focus_input_name(e.current_core_waybill_need_related_columns[e.current_column_index].name)})},give_up_core_waybill_related_columns:function(){var e=this.$t("ui.scanner.errors.give_up_core_waybill_related_columns");this.toggle_scanner_is_keydown(!0),this.$parent.alert_failure(e),this.$noty.error(e,1200)},next_actions_core_waybill_related:function(){var e=Jt(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=Qt.current_core_waybill_need_related_columns[Qt.current_column_index],e.prev=1,!Qt.current_core_waybill_need_related_columns[Qt.current_column_index].is_required||Qt.actions_core_waybill_related_columns[t.name]){e.next=4;break}throw Qt.$t("ui.scanner.helps.write_related_columns");case 4:if(!(Qt.current_column_index+1>=Qt.current_core_waybill_need_related_columns.length)){e.next=21;break}return e.prev=5,e.next=8,Qt.$store.dispatch("provider/scanner_module/update_core_waybill_related_columns");case 8:return e.next=10,new Promise(function(e){Qt.toggle_scanner_is_keydown(!0),Qt.$parent.alert_success(),e()});case 10:e.next=19;break;case 12:e.prev=12,e.t0=e["catch"](5),e.t1=e.t0,e.next="failed_to_update_core_waybill_related_column"===e.t1?17:19;break;case 17:return Qt.$noty.error(Qt.$t("ui.notifications.error.update__name",{name:Qt.$t("ui.scanner.alerts.required_field")})),e.abrupt("break",19);case 19:e.next=23;break;case 21:Qt.current_column_index=Qt.current_column_index+1,Qt.set_focus_input_name(Qt.current_core_waybill_need_related_columns[Qt.current_column_index].name);case 23:e.next=28;break;case 25:e.prev=25,e.t2=e["catch"](1),Qt.$noty.error(e.t2,1200);case 28:case"end":return e.stop()}},e,null,[[1,25],[5,12]])}));function t(){return e.apply(this,arguments)}return t}()}},ti=ei,ii=(n("8f57"),Object(m["a"])(ti,Ct,Pt,!1,null,"600aa77a",null)),ni=ii.exports;function si(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function ai(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){si(a,n,s,r,o,"next",e)}function o(e){si(a,n,s,r,o,"throw",e)}r(void 0)})}}var ri={name:"ScannerMain",props:{is_modal:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1,is_modal_opened:!1,is_input_mode:!1,is_processing:!1,is_quick_setting_number:!1,is_any_error_message:!1,is_mobile_width:!1,current_scan_action_prototype_identity:this.fetch_current_scan_action_prototype_identity(),current_numbers:[],current_number:"",scan_actions:[],is_show_related_columns_alert:!1,is_show_create_core_waybill_alert:!1,is_show_scan_action_description_alert:!1}},watch:{"current_store.setting_groups":function(e){this.set_current_setting_group()},current_setting_group:function(e){e.barcode&&(localStorage.setItem("scanner_current_setting_group",e.barcode),this.current_store.current_core_waybill={})},is_show_related_columns_alert:function(e){this.$bus.$emit("toggle_is_hide_icon_toggle_scanner_modal",e)},is_show_scan_action_description_alert:function(e){this.$bus.$emit("toggle_is_hide_icon_toggle_scanner_modal",e)},language:{handler:function(t){try{this.cahnge_language_in_store_js_text()}catch(e){console.log(e),this.$noty.error(e)}},deep:!0}},mounted:function(){var e=this;this.$bus.$off("set_modal_opened"),this.$bus.$on("set_modal_opened",function(t){return new Promise(function(i){e.is_modal_opened=t,i()})}),this.$bus.$off("quick_setting_number"),this.$bus.$on("quick_setting_number",function(t){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e.check_quick_setting_number(t,i,n)}),this.$bus.$off("set_current_scan_action_prototype"),this.$bus.$on("set_current_scan_action_prototype",function(t){e.set_current_scan_action_prototype(t)}),this.$bus.$off("set_input_mode"),this.$bus.$on("set_input_mode",function(t){return new Promise(function(i){e.is_input_mode=t,i()})}),this.$bus.$off("set_current_number"),this.$bus.$on("set_current_number",function(t){return new Promise(function(i){e.current_number=t,i()})}),this.$bus.$off("enqueue"),this.$bus.$on("enqueue",ai(regeneratorRuntime.mark(function t(){var i,n,s,a,r,o,c;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,i=e.current_store.settings.is_batch_mode?e.current_number.replace(/\s/g,"").split(","):[e.current_number],!e.current_store.settings.is_batch_mode||1!=i.length){t.next=4;break}throw"is_batch_mode_true, please use multiple number";case 4:n=!0,s=!1,a=void 0,t.prev=7,r=i[Symbol.iterator]();case 9:if(n=(o=r.next()).done){t.next=20;break}return c=o.value,t.next=13,e.$store.dispatch("customer/scanner_module/enqueue",{task:e.current_store.settings.is_scan_action_mode?"operation":"search",number:c,station:e.$store.getters["customer/current_station"],scan_action_prototype:e.current_scan_action_prototype});case 13:return t.next=15,new Promise(function(t){e.current_number="",t()});case 15:return t.next=17,new Promise(function(t){e.submit(),t()});case 17:n=!0,t.next=9;break;case 20:t.next=26;break;case 22:t.prev=22,t.t0=t["catch"](7),s=!0,a=t.t0;case 26:t.prev=26,t.prev=27,n||null==r["return"]||r["return"]();case 29:if(t.prev=29,!s){t.next=32;break}throw a;case 32:return t.finish(29);case 33:return t.finish(26);case 34:t.next=49;break;case 36:t.prev=36,t.t1=t["catch"](0),t.t2=t.t1,t.next="is_batch_mode_true, please use multiple number"===t.t2?41:"quick_setting"===t.t2?46:49;break;case 41:return e.current_store.jobs.push({id:e.current_store.jobs.slice(-1).pop()?e.current_store.jobs.slice(-1).pop().id+1:1,task:e.current_store.settings.is_scan_action_mode?"operation":"search",number:e.current_number,scan_action_prototype:e.current_scan_action_prototype,status:"Failure",is_waiting_user_action:!1,is_batch_mode:!0,errors:[e.$t("ui.scanner.errors.multiple_numbers_in_batch_mode")]}),e.current_number="",e.play_web_audio("error"),e.$store.dispatch("customer/scanner_module/set_local_storage_job"),t.abrupt("break",49);case 46:return e.check_quick_setting_number(e.current_number,!0),e.current_number="",t.abrupt("break",49);case 49:case"end":return t.stop()}},t,null,[[0,36],[7,22,26,34],[27,,29,33]])}))),this.init()},methods:{init:function(){var e=ai(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise(function(e){_.forEach(["is_noty_audio_mode","is_speech_mode"],function(e){t.$store.getters["customer/scanner_module/is_can_use_setting"](e)?localStorage.setItem("scanner_"+e,!0):localStorage.setItem("scanner_"+e,!1)}),e()});case 3:return e.next=5,this.set_settings();case 5:return e.next=7,this.set_local_storage_to_store_state(["core_waybill_counters"]);case 7:return e.next=9,this.set_current_setting_group();case 9:return e.next=11,this.cahnge_language_in_store_js_text();case 11:return e.next=13,new Promise(function(e){t.is_initialized=!0,e()});case 13:return e.next=15,new Promise(function(e){window.addEventListener("keydown",t.keydown),e()});case 15:e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](0),console.log(e.t0);case 20:case"end":return e.stop()}},e,this,[[0,17]])}));function t(){return e.apply(this,arguments)}return t}(),keydown:function(){var e=ai(regeneratorRuntime.mark(function e(t){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(console.log(t),!this.is_modal_opened||!this.current_store.is_keydown){e.next=25;break}if(i=new _t.a(t),i.meta||i.ctrl||this.is_input_mode){e.next=25;break}if("keypress"!=i.event.type){e.next=15;break}e.t0=i.key_code,e.next=13===e.t0?8:12;break;case 8:if(!this.current_number){e.next=11;break}return e.next=11,this.$bus.$emit("enqueue");case 11:return e.abrupt("break",13);case 12:this.current_number+=i.value;case 13:e.next=25;break;case 15:e.t1=i.key_code,e.next=8===e.t1?18:13===e.t1?20:24;break;case 18:return this.current_number=this.current_number.slice(0,-1),e.abrupt("break",25);case 20:if(!this.current_number){e.next=23;break}return e.next=23,this.$bus.$emit("enqueue");case 23:return e.abrupt("break",25);case 24:this.current_number+=i.value;case 25:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),submit:function(){var e=ai(regeneratorRuntime.mark(function e(){var t,i,n,s,a,r,o,c=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=!0,i=!1,n=void 0,e.prev=3,s=_.filter(this.current_store.jobs,function(e){return"Pending"==e.status})[Symbol.iterator]();case 5:if(t=(a=s.next()).done){e.next=58;break}return r=a.value,e.prev=7,e.next=10,this.$store.dispatch("customer/scanner_module/perform",r);case 10:return e.next=12,new Promise(function(e){c.play_web_audio("ok"),e()});case 12:e.next=55;break;case 14:e.prev=14,e.t0=e["catch"](7),o="",e.t1=e.t0,e.next="quick_setting_not_found"===e.t1?20:"core_waybill_not_found"===e.t1?23:"no_input_number"===e.t1?27:"current_scan_action_prototype_identity"===e.t1?30:"failed_to_instantiate_scan_action_prototype"===e.t1?33:"failed_to_update_core_waybill_related_column"===e.t1?36:"failed_to_fetch_core_waybill_statuses"===e.t1?39:"core_waybill_related_column_is_empty"===e.t1?42:"scan_action_description_is_empty"===e.t1?45:"create_core_waybill"===e.t1?48:51;break;case 20:return o=this.$t("ui.scanner.errors.setting_not_found")+": "+this.current_number,this.play_web_audio("error"),e.abrupt("break",54);case 23:return o=this.$t("ui.scanner.errors.core_waybill_not_found"),this.current_store.current_job.errors.push(o),this.play_web_audio("error"),e.abrupt("break",54);case 27:return o=this.$t("ui.scanner.helps.write_number"),this.play_web_audio("error"),e.abrupt("break",54);case 30:return o=this.$t("ui.scanner.helps.select_scan_action"),this.play_web_audio("error"),e.abrupt("break",54);case 33:return o=this.$t("ui.scanner.errors.failed_to_instantiate_scan_action_prototype"),this.play_web_audio("error"),e.abrupt("break",54);case 36:return o=this.$t("ui.scanner.errors.failed_to_update_core_waybill_related_column")+": "+this.current_number,this.play_web_audio("error"),e.abrupt("break",54);case 39:return o=this.$t("ui.scanner.errors.failed_to_fetch_core_waybill_statuses"),this.play_web_audio("error"),e.abrupt("break",54);case 42:return this.is_show_related_columns_alert=!0,this.play_web_audio("alert"),e.abrupt("break",54);case 45:return this.is_show_scan_action_description_alert=!0,this.play_web_audio("alert"),e.abrupt("break",54);case 48:return this.is_show_create_core_waybill_alert=!0,this.play_web_audio("alert"),e.abrupt("break",54);case 51:return o=this.$t("models.attributes.core_waybills.number")+this.current_number+", "+e.t0,this.play_web_audio("error"),e.abrupt("break",54);case 54:o&&this.$noty.error(o,1200);case 55:t=!0,e.next=5;break;case 58:e.next=64;break;case 60:e.prev=60,e.t2=e["catch"](3),i=!0,n=e.t2;case 64:e.prev=64,e.prev=65,t||null==s["return"]||s["return"]();case 67:if(e.prev=67,!i){e.next=70;break}throw n;case 70:return e.finish(67);case 71:return e.finish(64);case 72:case"end":return e.stop()}},e,this,[[3,60,64,72],[7,14],[65,,67,71]])}));function t(){return e.apply(this,arguments)}return t}(),set_settings:function(){return this.current_store.settings={is_batch_mode:this.get_setting("is_batch_mode"),is_speech_mode:this.get_setting("is_speech_mode"),is_noty_audio_mode:this.get_setting("is_noty_audio_mode"),is_auto_print_label_mode:this.get_setting("is_auto_print_label_mode"),core_waybill_template_mode:this.fetch_setting_use_string("core_waybill_template_mode","card")},Promise.resolve()},set_local_storage_to_store_state:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.length&&_.forEach(t,function(t){var i=localStorage.getItem("scanner_"+t);i&&(i=$.parseJSON("["+i+"]"),"jobs"==t&&_.map(i,function(e){(e.is_waiting_user_action||"Processing"==e.status)&&(e.is_waiting_user_action=!1,e.status="Failure")}),e.current_store[t]=i)}),Promise.resolve()},set_current_setting_group:function(){var e=this.fetch_setting_use_string("current_setting_group","search");return this.current_store.current_setting_group=_.find(this.current_store.setting_groups,function(t){return t.barcode==e})||{},Promise.resolve()},alert_failure:function(){var e=ai(regeneratorRuntime.mark(function e(){var t,i=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=i.length>0&&void 0!==i[0]?i[0]:null,this.is_show_related_columns_alert=!1,this.is_show_create_core_waybill_alert=!1,this.is_show_scan_action_description_alert=!1,t&&this.current_store.current_job.errors.push(t),this.current_store.current_job.is_waiting_user_action=!1,this.current_store.current_job.status="Failure",this.play_web_audio("error"),this.$store.dispatch("customer/scanner_module/set_local_storage_job");case 9:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),alert_success:function(){var e=ai(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.is_show_related_columns_alert=!1,this.is_show_create_core_waybill_alert=!1,this.is_show_scan_action_description_alert=!1,this.current_store.current_job.is_waiting_user_action=!1,this.submit();case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),toggle_settings_div:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null==e?this.current_store.is_setting=!this.current_store.is_setting:"boolean"==typeof e&&(this.current_store.is_setting=e)},check_quick_setting_number:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=!1,s=e.match(this.quick_setting_regexps.group),a=e.match(this.quick_setting_regexps.barcode),r=e.match(this.quick_setting_regexps.mode);if(s)try{var o=s[1],c=_.findLast(this.current_store.setting_groups,function(e){return e.barcode==o});if(!c)throw this.$t("ui.scanner.errors.setting_group_not_found");var l="",u="";i&&this.toggle_settings_div(!1),this.set_current_store_setting_group(o),c.is_scan_action&&(l="####"+o+"####",this.quick_setting_barcode(l.match(this.quick_setting_regexps.barcode))?n=!0:this.$noty.error(this.$t("ui.scanner.errors.setting_not_found")+"： "+o,1200)),c.settings&&_.forEach(c.settings,function(e){u="##"+e+"##",this.quick_setting_mode(u.match(this.quick_setting_regexps.mode))?n=!0:this.$noty.error(this.$t("ui.scanner.errors.setting_not_found")+"： "+e,1200)})}catch(error){this.$noty.error(error)}return a&&(this.quick_setting_barcode(a)?n=!0:this.$noty.error(this.$t("ui.scanner.errors.setting_not_found")+"： "+a,1200)),r&&(this.quick_setting_mode(r)?n=!0:this.$noty.error(this.$t("ui.scanner.errors.setting_not_found")+"： "+r,1200)),n&&t&&(this.$noty.success(this.$t("ui.scanner.success.quick_setting")),this.is_quick_setting_number=n),Promise.resolve()},quick_setting_barcode:function(e){var t=_.find(this.current_store.scan_action_prototypes,function(t){return t.barcode==e[1]||t.barcode==e[2]});return void 0!=t&&(this.current_store.current_scan_action_prototype=t,localStorage.setItem("current_scan_action_prototype_identity",t.identity),this.current_store.current_core_waybill={},!0)},quick_setting_mode:function(e){var t=e[1],i=e[2];return"true"===e[2]&&(i=!0),"false"===e[2]&&(i=!1),void 0!=this.settings[t]&&(this.$store.getters["customer/scanner_module/is_can_use_setting"](t)?(this.current_store.settings[t]=i,localStorage.setItem("scanner_"+t,i)):this.current_store.settings[t]=!1,!0)},set_current_store_setting_group:function(e){this.current_store.current_setting_group=_.find(this.current_store.setting_groups,function(t){return t.barcode==e})},set_current_scan_action_prototype:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=_.find(this.current_store.scan_action_prototypes,function(t){return t.identity==e});void 0!=t&&(this.current_store.current_scan_action_prototype=t,localStorage.setItem("current_scan_action_prototype_identity",t.identity))},get_setting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="scanner_".concat(e),i=localStorage.getItem(t);return null==i?(localStorage.setItem(t,!1),!1):"true"==i},fetch_setting_use_string:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i="scanner_".concat(e),n=localStorage.getItem(i);return null==n?(localStorage.setItem(i,t),t):localStorage.getItem(i)},fetch_current_scan_action_prototype_identity:function(){var e="current_scan_action_prototype_identity",t=localStorage.getItem(e);return null==t||""==t?(localStorage.setItem(e,""),null):localStorage.getItem(e)},play_web_audio:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.settings.is_noty_audio_mode)switch(e){case"ok":case"alert":case"error":this.$bus.$emit("provider_scanner_web_audio","play_sound",e);break;default:this.$bus.$emit("provider_scanner_web_audio","play_sound","error");break}},cahnge_language_in_store_js_text:function(){var e=this;_.map(this.setting_groups,function(t){t.i18n_key&&(t.name=e.$t(t.i18n_key))})}},computed:{language:function(){return this.$store.state.language},current_store:function(){return this.$store.state.customer.scanner_module},theme:function(){return this.current_store.config.theme},quick_setting_regexps:function(){return this.current_store.quick_setting_regexps},settings:function(){return this.current_store.settings},setting_groups:function(){return this.current_store.setting_groups},current_setting_group:function(){return this.current_store.current_setting_group},core_waybills:function(){return this.current_store.core_waybills},current_core_waybill:function(){return this.current_store.current_core_waybill},error_messages:function(){return this.current_store.error_messages},desc_ordered_jobs:function(){return _.orderBy(this.current_store.jobs,"id","desc")},current_scan_action_prototype:function(){return this.current_store.current_scan_action_prototype}},components:{WebAudio:r["a"],Settings:ee,Dashboard:ce,CoreWaybill:at,CreateCoreWaybillAlert:ft,ScanActionDescriptionAlert:xt,CoreWaybillRelatedColumnsAlert:ni}},oi=ri,ci=(n("130b"),Object(m["a"])(oi,s,a,!1,null,"6b9af1ee",null));i["default"]=ci.exports},"145f":function(e,t,i){"use strict";var n=i("3efe"),s=i.n(n);s.a},"14d9":function(e,t,i){"use strict";var n=i("1c0e"),s=i.n(n);s.a},"152b":function(e,t,i){"use strict";var n=i("7400"),s=i.n(n);s.a},"158b":function(e){e.exports=[{_comment:"neuron premium 預設檔案",name:"運單起始貨況",i18n_key:"ui.scanner.setting_groups.LA00",barcode:"LA00",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA01",is_scan_action:!0,is_hide:!0,color:"black",settings:[]},{name:"不明貨",i18n_key:"ui.scanner.setting_groups.LA24",barcode:"LA24",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner red question icon",icon_file_name:"LA01",is_scan_action:!0,is_hide:!1,color:"#60373E",settings:["is_core_waybill_creation_mode_true","is_webcam_mode_false","is_batch_mode_false","is_package_mode_false","is_auto_print_label_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"入倉",i18n_key:"ui.scanner.setting_groups.LA21",barcode:"LA21",primary_icon_classes:"warehouse icon",secondary_icon_classes:"left bottom corner green sign-in icon",icon_file_name:"LA01",is_scan_action:!0,is_hide:!1,color:"#0089A7",settings:["is_core_waybill_creation_mode_false","is_webcam_mode_true","is_batch_mode_false","is_package_mode_false","is_auto_print_label_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"上架",i18n_key:"ui.scanner.setting_groups.LA22",barcode:"LA22",primary_icon_classes:"sitemap icon",secondary_icon_classes:null,icon_file_name:"LA01",is_scan_action:!0,is_hide:!1,color:"#5DAC81",settings:["is_core_waybill_creation_mode_false","is_webcam_mode_false","is_batch_mode_false","is_package_mode_false","is_auto_print_label_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"出倉",i18n_key:"ui.scanner.setting_groups.LA23",barcode:"LA23",primary_icon_classes:"warehouse icon",secondary_icon_classes:"right bottom corner red sign-out icon",icon_file_name:"LA01",is_scan_action:!0,is_hide:!1,color:"#D0104C",settings:["is_core_waybill_creation_mode_false","is_webcam_mode_false","is_batch_mode_false","is_package_mode_false","is_auto_print_label_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"1.放行",i18n_key:"ui.scanner.setting_groups.LB01",barcode:"LB01",primary_icon_classes:"clipboard check icon",secondary_icon_classes:null,icon_file_name:"LA01",is_scan_action:!0,is_hide:!1,color:"#3a8df5",settings:["is_core_waybill_creation_mode_false","is_webcam_mode_false","is_batch_mode_false","is_package_mode_false","is_auto_print_label_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"1.點交",i18n_key:"ui.scanner.setting_groups.LB02",barcode:"LB02",primary_icon_classes:"exchange icon",secondary_icon_classes:"right bottom corner green check icon",icon_file_name:"LA02",is_scan_action:!0,is_hide:!1,color:"orange",settings:["is_core_waybill_creation_mode_false","is_webcam_mode_false","is_batch_mode_false","is_package_mode_false","is_auto_print_label_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"1.收貨",i18n_key:"ui.scanner.setting_groups.LA01",barcode:"LA01",primary_icon_classes:"dolly icon",secondary_icon_classes:null,icon_file_name:"LA01",is_scan_action:!0,is_hide:!1,color:"#58B2DC",settings:["is_core_waybill_creation_mode_false","is_webcam_mode_false","is_batch_mode_false","is_package_mode_false","is_auto_print_label_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"2.進站",i18n_key:"ui.scanner.setting_groups.LA02",barcode:"LA02",primary_icon_classes:"pallet icon",secondary_icon_classes:null,icon_file_name:"LA02",is_scan_action:!0,is_hide:!1,color:"#EFBB24",settings:["is_core_waybill_creation_mode_false","is_webcam_mode_false","is_batch_mode_false","is_package_mode_false","is_distributed_to_mode_true","is_unpackage_mode_false","is_scan_action_mode_true","is_auto_print_label_mode_false","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"包裝",i18n_key:"ui.scanner.setting_groups.package",barcode:"package",primary_icon_classes:"box icon",secondary_icon_classes:null,icon_file_name:"package",is_scan_action:!1,is_hide:!1,color:"#1B813E",settings:["is_core_waybill_creation_mode_false","is_webcam_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_scan_action_mode_false","is_distributed_to_mode_false","is_package_mode_true","is_unpackage_mode_false","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_min_card"]},{name:"3.派件中",i18n_key:"ui.scanner.setting_groups.LA03",barcode:"LA03",primary_icon_classes:"shipping fast icon",secondary_icon_classes:null,icon_file_name:"LA03",is_scan_action:!0,is_hide:!1,color:"#77428D",settings:["is_core_waybill_creation_mode_false","is_webcam_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_true","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"3.聯運",i18n_key:"ui.scanner.setting_groups.LA10",barcode:"LA10",primary_icon_classes:"random icon",secondary_icon_classes:null,icon_file_name:"LA10",is_scan_action:!0,is_hide:!1,color:"#4A225D",settings:["is_core_waybill_creation_mode_false","is_webcam_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"3.出站集貨中轉",i18n_key:"ui.scanner.setting_groups.LA09",barcode:"LA09",primary_icon_classes:"arrows alternate icon",secondary_icon_classes:null,icon_file_name:"LA09",is_scan_action:!0,is_hide:!1,color:"#C1328E",settings:["is_core_waybill_creation_mode_false","is_webcam_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"4.回站",i18n_key:"ui.scanner.setting_groups.LA05",barcode:"LA05",primary_icon_classes:"home icon",secondary_icon_classes:"right bottom corner red undo icon",icon_file_name:"LA05",is_scan_action:!0,is_hide:!1,color:"#91989F",settings:["is_core_waybill_creation_mode_false","is_webcam_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"4.已配達",i18n_key:"ui.scanner.setting_groups.LA04",barcode:"LA04",primary_icon_classes:"clipboard list icon",secondary_icon_classes:"right bottom corner green check icon",icon_file_name:"LA04",is_scan_action:!0,is_hide:!1,color:"#86C166",settings:["is_core_waybill_creation_mode_false","is_webcam_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"4.異常件",i18n_key:"ui.scanner.setting_groups.LA06",barcode:"LA06",primary_icon_classes:"exclamation triangle icon",secondary_icon_classes:"right bottom corner red close icon",icon_file_name:"LA06",is_scan_action:!0,is_hide:!1,color:"#CB4042",settings:["is_core_waybill_creation_mode_false","is_webcam_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"4.異常件排除",i18n_key:"ui.scanner.setting_groups.LA07",barcode:"LA07",primary_icon_classes:"exclamation triangle icon",secondary_icon_classes:"right bottom corner green check icon",icon_file_name:"LA07",is_scan_action:!0,is_hide:!1,color:"#51A8DD",settings:["is_core_waybill_creation_mode_false","is_webcam_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"寄件者退運",i18n_key:"ui.scanner.setting_groups.LA08",barcode:"LA08",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA08",is_scan_action:!0,is_hide:!0,color:"teal",settings:["is_core_waybill_creation_mode_false","is_webcam_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"鎖定",i18n_key:"ui.scanner.setting_groups.LA11",barcode:"LA11",primary_icon_classes:"lock icon",secondary_icon_classes:null,icon_file_name:"LA11",is_scan_action:!0,is_hide:!1,color:"#CB4042",settings:["is_core_waybill_creation_mode_false","is_webcam_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_scan_action_mode_true","is_distributed_to_mode_false","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"解除鎖定",i18n_key:"ui.scanner.setting_groups.LA12",barcode:"LA12",primary_icon_classes:"lock open icon",secondary_icon_classes:null,icon_file_name:"LA12",is_scan_action:!0,is_hide:!1,color:"#51A8DD",settings:["is_core_waybill_creation_mode_false","is_webcam_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_scan_action_mode_true","is_distributed_to_mode_false","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"結案",i18n_key:"ui.scanner.setting_groups.LA13",barcode:"LA13",primary_icon_classes:"check icon",secondary_icon_classes:null,icon_file_name:"LA13",is_scan_action:!0,is_hide:!1,color:"#86C166",settings:["is_core_waybill_creation_mode_false","is_webcam_mode_false","is_batch_mode_false","is_scan_action_mode_false","is_package_mode_false","is_unpackage_mode_false","is_distributed_to_mode_false","pack_need_source_mode_false","is_update_corewaybill_mode_false","core_waybill_template_mode_card"]},{name:"拆包",i18n_key:"ui.scanner.setting_groups.unpackage",barcode:"unpackage",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner red cut icon",icon_file_name:"unpackage",is_scan_action:!1,is_hide:!1,color:"#F75C2F",settings:["is_core_waybill_creation_mode_false","is_webcam_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_scan_action_mode_false","is_distributed_to_mode_false","is_package_mode_false","is_unpackage_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_min_card"]},{name:"分撥",i18n_key:"ui.scanner.setting_groups.distributed_to",barcode:"distributed_to",primary_icon_classes:"map signs icon",secondary_icon_classes:null,icon_file_name:"LA09",is_scan_action:!1,is_hide:!1,color:"#66BAB7",settings:["is_core_waybill_creation_mode_false","is_webcam_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_scan_action_mode_false","is_package_mode_false","is_unpackage_mode_false","is_update_corewaybill_mode_false","is_distributed_to_mode_true","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"查詢運單",i18n_key:"ui.scanner.setting_groups.search",barcode:"search",primary_icon_classes:"search icon",secondary_icon_classes:null,icon_file_name:"search",is_scan_action:!1,is_hide:!1,color:"#227D51",settings:["is_core_waybill_creation_mode_false","is_webcam_mode_false","is_batch_mode_false","is_scan_action_mode_false","is_package_mode_false","is_unpackage_mode_false","is_distributed_to_mode_false","pack_need_source_mode_false","is_update_corewaybill_mode_false","core_waybill_template_mode_card"]},{name:"袋包運, 裝袋作業",i18n_key:"ui.scanner.setting_groups.pack_house_waybill",barcode:"pack_house_waybill",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"package",is_scan_action:!1,is_hide:!0,color:"green",settings:["is_core_waybill_creation_mode_false","is_webcam_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_true","is_unpackage_mode_false","is_scan_action_mode_false","is_update_corewaybill_mode_false","is_distributed_to_mode_false","core_waybill_template_mode_min_card","pack_need_source_mode_false","pack_p_m_mode_House","pack_m_mode_Waybill"]},{name:"運包子, 一票多件",i18n_key:"ui.scanner.setting_groups.pack_waybill_goods",barcode:"pack_waybill_goods",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"package",is_scan_action:!1,is_hide:!0,color:"limegreen",settings:["is_core_waybill_creation_mode_false","is_webcam_mode_false","is_batch_mode_false","is_scan_action_mode_false","is_package_mode_true","is_unpackage_mode_false","is_distributed_to_mode_false","is_update_corewaybill_mode_false","pack_need_source_mode_true","pack_p_m_mode_Waybill","pack_m_mode_Goods"]}]},"158bf":function(e,t,i){"use strict";var n=i("54b3"),s=i.n(n);s.a},"164d":function(e,t,i){},"16e6":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",["basic"==e.display_mode?i("div",{staticClass:"signal_light",class:{green:"good"==e.speed_level,red:"bad"==e.speed_level,orange:"medium"==e.speed_level},attrs:{"data-tooltip":e.$t("ui.toolbox.speed_test.network_quality")+": "+e.speed_text,"data-position":"bottom right"},on:{click:e.InitiateSpeedDetection}}):i("div",{staticClass:"ui left labeled button",attrs:{tabindex:"0"}},[i("a",{staticClass:"ui basic label",class:{green:"good"==e.speed_level,red:"bad"==e.speed_level,orange:"medium"==e.speed_level}},[e._v("\n            "+e._s(e.$t("ui.toolbox.speed_test.network_quality"))+": "+e._s(e.speed_text)+"\n        ")]),i("div",{staticClass:"ui icon button",on:{click:e.InitiateSpeedDetection}},[i("i",{staticClass:"refresh icon"})])])])},s=[],a={props:{},data:function(){return{display_mode:"basic",imageAddr:"https://www.google.com.tw/images/branding/googlelogo/2x/googlelogo_color_272x92dp.png",downloadSize:13504,speedBps:null,speedKbps:null,speedMbps:null,speed_text:null,speed_level:null}},computed:{},created:function(){},mounted:function(){this.InitiateSpeedDetection()},watch:{},methods:{ShowProgressMessage:function(e){this.speed_text=e},InitiateSpeedDetection:function(){this.ShowProgressMessage("Measuring..."),window.setTimeout(this.MeasureConnectionSpeed(),1)},MeasureConnectionSpeed:function(){var e,t,i=this,n=new Image;n.onload=function(){t=(new Date).getTime(),a()},n.onerror=function(e,t){i.ShowProgressMessage("Invalid image, or error downloading")},e=(new Date).getTime();var s="?nnn="+e;function a(){var n=(t-e)/1e3,s=8*i.downloadSize,a=(s/n).toFixed(2),r=(a/1024).toFixed(2),o=(r/1024).toFixed(2);i.speedBps=a,i.speedKbps=r,i.speedMbps=o,i.speed_level=r>1024?"good":r>512?"medium":"bad",i.ShowProgressMessage(r+" Kbps")}n.src=this.imageAddr+s}},components:{}},r=a,o=(i("91d1"),i("2877")),c=Object(o["a"])(r,n,s,!1,null,"23a81ba8",null);t["a"]=c.exports},"16f9":function(e,t,i){},"1a5e":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui card",class:[e.selected_pack==e.pack?"raised":""]},[i("div",{staticClass:"content"},[e.is_processing?i("a",{staticClass:"ui ribbon label",class:[e.selected_pack==e.pack?"teal":"grey"]},[e._v("\n            "+e._s(e.pack.core_waybill_number)+"\n        ")]):i("a",{staticClass:"ui ribbon label",class:[e.selected_pack==e.pack?"teal":"grey"],on:{click:e.select}},[e._v("\n            "+e._s(e.pack.core_waybill_number)+"\n        ")]),e._l(e.sub_packs,function(t){return i("SubPack",{key:t.identity,attrs:{pack:t,selected_pack:e.selected_pack,all_packs:e.all_packs,is_processing:e.is_processing}})})],2),i("div",{staticClass:"ui bottom attached buttons"},[e.is_processing&&e.selected_pack==e.pack?i("div",{staticClass:"ui basic negative disabled button"},[i("i",{staticClass:"remove icon"}),e._v("移除")]):e._e(),e.is_processing||e.selected_pack!=e.pack?e._e():i("div",{staticClass:"ui basic negative button",on:{click:e.remove}},[i("i",{staticClass:"remove icon"}),e._v("移除")]),e.is_processing&&e.is_in_pack?i("div",{staticClass:"ui basic primary disabled button"},[i("i",{staticClass:"external icon"}),e._v("取出")]):e._e(),!e.is_processing&&e.is_in_pack?i("div",{staticClass:"ui basic primary button",on:{click:e.escape}},[i("i",{staticClass:"external icon"}),e._v("取出")]):e._e(),e.is_processing&&e.selected_pack?i("div",{staticClass:"ui basic primary disabled button"},[i("i",{staticClass:"archive icon"}),e._v("填包")]):e._e(),!e.is_processing&&e.selected_pack?i("div",{staticClass:"ui basic primary button",on:{click:e.pack_in_selected}},[i("i",{staticClass:"archive icon"}),e._v("填包")]):e._e()])])},s=[],a={props:{pack:Object,selected_pack:Object,all_packs:Array,is_processing:Boolean},data:function(){return{}},computed:{sub_packs:function(){return _.filter(this.all_packs,{packed_by_number:this.pack.core_waybill_number})},is_in_pack:function(){return!!this.pack.packed_by_number}},watch:{},beforeCreate:function(){this.$options.components.SubPack=i("1a5e")},created:function(){},mounted:function(){},methods:{select:function(){var e=this,t=e.pack.core_waybill_number;e.$bus.$emit("packer_command_center","selection",t)},remove:function(){var e=this,t=e.pack.core_waybill_number;e.$bus.$emit("packer_command_center","remove_pack",t)},escape:function(){var e=this,t=e.pack.core_waybill_number;e.$bus.$emit("packer_command_center","escape_pack",t)},pack_in_selected:function(){var e=this,t=e.pack.core_waybill_number;e.$bus.$emit("packer_command_center","packing",t)}},components:{}},r=a,o=i("2877"),c=Object(o["a"])(r,n,s,!1,null,null,null);t["default"]=c.exports},"1ac9":function(e,t,i){},"1b17":function(e,t,i){},"1c0e":function(e,t,i){},"1c2a":function(e,t,i){"use strict";var n=i("43e8"),s=i.n(n);s.a},"1c42":function(e,t,i){"use strict";var n=i("164d"),s=i.n(n);s.a},"1cab":function(e,t,i){},"1ccc":function(e,t,i){"use strict";i.r(t);var n=i("0cb6"),s=i.n(n);function a(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function r(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var r=e.apply(t,i);function o(e){a(r,n,s,o,c,"next",e)}function c(e){a(r,n,s,o,c,"throw",e)}o(void 0)})}}var o={namespaced:!0,state:{is_setting:!1,is_keydown:!0,config:{theme:{},settings:{},setting_groups:{}},current_setting_group:{},setting_groups:{},quick_setting_regexps:{group:/@@(search|print)@@/i,barcode:/####(LA[0-9]+)####|####(LB[0-9]+)####/i,mode:/##(\w+_mode)_(true|false|min_card|card|detail)##/i},settings:{is_scan_mode:!0,is_scan_action_mode:!1,is_batch_mode:!1,is_auto_print_label_mode:!1,is_noty_audio_mode:!1,is_speech_mode:!1,core_waybill_template_mode:"card"},core_waybills:[],current_core_waybill:{},current_core_waybill_scope:"",scan_action_prototypes:[],current_scan_action_prototype:{name:null,identity:null},jobs:[],current_job:{},is_updated_core_waybill_related_columns:!1,actions_core_waybill_related_columns:{},alert_core_waybill_related_columns_focus_input_name:"",quick_core_waybill_related_columns:{},core_waybill_counters:[],current_pack_taget_parent_material_identity:"",current_pack_taget_material_identity:"",package_response_history:[],package_message:{status:"failure",content:""},package:{source_core_waybill_identity:null,core_waybills:[],parent_core_waybill:{}},distributed_to:{},scan_action_description:"",materials:[]},getters:{is_can_use_setting:function(e,t,i,n){return function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!t)return!1;var i=_.findLast(e.config.settings,function(e){return e==t});return!!i}},current_staff_operation_customer:function(e,t,i,n){return i.provider.current_staff_operation&&i.provider.current_staff_operation.customer||{}},current_pack_taget_parent_material:function(e,t,i,n){return _.findLast(e.materials,function(t){return t.identity==e.current_pack_taget_parent_material_identity})||{}},current_pack_taget_material:function(e,t,i,n){return _.findLast(e.materials,function(t){return t.identity==e.current_pack_taget_material_identity})||{}},current_scan_action_prototype_description_required_scope:function(e,t,i,n){return e.current_scan_action_prototype.identity?e.current_scan_action_prototype.description_required_scope:[]},current_scan_action_prototype_related_columns:function(e,t,i,n){return e.current_scan_action_prototype.identity?e.current_scan_action_prototype.related_columns:[]},current_core_waybill_need_related_columns:function(e,t,i,n){var s=$.extend(!0,[],t.current_scan_action_prototype_related_columns);if(e.settings.is_batch_mode)return[];if(!s.length)return[];if(!e.current_setting_group.barcode.match(/(LA[0-9]+)/i))return[];if(_.remove(s,function(t){return e.current_core_waybill[t.name]}),e.current_core_waybill.material&&_.remove(s,function(t){return!!t.material_class_name&&e.current_core_waybill.material.class_name!=t.material_class_name}),e.settings.is_quick_corewaybill_related_columns&&_.remove(s,function(t){return e.state.quick_core_waybill_related_columns[t.name]}),t.current_staff_operation_customer){var a="";_.forEach(s,function(i){a="default_"+i.name,t.current_staff_operation_customer[a]&&(e.actions_core_waybill_related_columns[i.name]=t.current_staff_operation_customer[a])})}return s}},actions:{update_core_waybill_related_columns:function(e,t){var i=e.state.actions_core_waybill_related_columns,n=new RestUrl(e.rootState.provider.routes.api_v1_provider_core_waybill_update).parse({core_waybill_identity:e.state.current_core_waybill.identity});return axios.post(n,i,{headers:{Authorization:localStorage.getItem("customer_authentication_token")}}).then(function(t){if("success"!=t.data.status)return Promise.reject("failed_to_update_core_waybill_related_column");e.state.is_updated_core_waybill_related_columns=!0,e.commit("set_actions_core_waybill_related_columns",{})})},enqueue:function(e,t){var i=!1;if(_.forEach(e.state.quick_setting_regexps,function(e){t.number.match(e)&&(i=!0)}),i)return Promise.reject("quick_setting");var n={id:e.state.jobs.slice(-1).pop()?e.state.jobs.slice(-1).pop().id+1:1,task:t.task,number:t.number,station:t.station,core_waybill:{},core_waybill_scope:"",scan_action_prototype:t.scan_action_prototype,status:"Pending",is_waiting_user_action:!1,is_batch_mode:e.state.settings.is_batch_mode,errors:[]};return e.commit("add_job",n),Promise.resolve()},perform:function(){var e=r(regeneratorRuntime.mark(function e(t,i){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i.status="Processing",e.prev=1,e.next=4,t.dispatch("perform_init",i);case 4:e.t0=i.task,e.next="operation"===e.t0?7:"search"===e.t0?13:19;break;case 7:return e.next=9,t.dispatch("search_core_waybill",i);case 9:return e.next=11,t.dispatch("fetch_core_waybill_by_identity",i);case 11:return i.status="Success",e.abrupt("break",21);case 13:return e.next=15,t.dispatch("search_core_waybill",i);case 15:return e.next=17,t.dispatch("fetch_core_waybill_by_identity",i);case 17:return i.status="Success",e.abrupt("break",21);case 19:return i.status="Failure",e.abrupt("return",Promise.reject("task_not_found"));case 21:e.next=34;break;case 23:e.prev=23,e.t1=e["catch"](1),e.t2=e.t1,e.next="quick_setting_not_found"===e.t2?28:"core_waybill_not_found"===e.t2?28:"no_input_number"===e.t2?28:"current_scan_action_prototype_identity"===e.t2?28:"failed_to_instantiate_scan_action_prototype"===e.t2?28:"failed_to_update_core_waybill_related_column"===e.t2?28:"create_core_waybill"===e.t2?30:"scan_action_description_is_empty"===e.t2?30:"core_waybill_related_column_is_empty"===e.t2?30:33;break;case 28:return i.status="Failure",e.abrupt("break",33);case 30:return i.status="Pending",i.is_waiting_user_action=!0,e.abrupt("break",33);case 33:return e.abrupt("return",Promise.reject(e.t1));case 34:return e.abrupt("return",Promise.resolve());case 35:case"end":return e.stop()}},e,null,[[1,23]])}));function t(t,i){return e.apply(this,arguments)}return t}(),perform_init:function(e,t){return t.number?(e.state.is_setting=!1,e.state.current_job=t,e.state.current_core_waybill={},e.state.current_core_waybill_scope="",e.state.actions_core_waybill_related_columns={},e.dispatch("clear_distributed_to"),Promise.resolve()):(t.errors.push("請輸入號碼"),Promise.reject("no_input_number"))},search_core_waybill:function(e,t){var i=new RestUrl(e.rootState.customer.routes.api_v1_customer_core_waybills_search),n=i.parse({},"");return axios.post(n,{number:t.number},{headers:{Authorization:localStorage.getItem("customer_authentication_token")}}).then(function(){var i=r(regeneratorRuntime.mark(function i(n){return regeneratorRuntime.wrap(function(i){while(1)switch(i.prev=i.next){case 0:if("success"!=n.data.status){i.next=12;break}return t.core_waybill=n.data.core_waybill,t.core_waybill_scope=n.data.scope,e.state.current_core_waybill=t.core_waybill,e.state.current_core_waybill_scope=n.data.scope,_.findLast(e.state.core_waybills,function(e){return e.identity==n.data.core_waybill.identity})&&_.remove(e.state.core_waybills,{identity:n.data.core_waybill.identity}),e.state.core_waybills.push(n.data.core_waybill),e.state.core_waybills.length>=10&&e.state.core_waybills.shift(),i.next=10,new Promise(function(t){for(var i="",n=0,a=0,r=["consignee_company_name","consignee_name"];a<r.length;a++){var o=r[a];e.state.current_core_waybill[o]&&(i&&0!=n&&(i+=","),i+=e.state.current_core_waybill[o]),n++}if(e.state.settings.is_speech_mode)if(i){var c=new s.a({onend:function(){return t()},oncancel:function(){return t()}});c.cancel(),isNaN(i)?c.speak(i):c.speak(i.split("").join(" "))}else t();else t()});case 10:i.next=18;break;case 12:i.t0=n.data.errors,i.next="CoreWaybill not found."===i.t0?15:16;break;case 15:return i.abrupt("break",17);case 16:t.errors.push(n.data.errors);case 17:return i.abrupt("return",Promise.reject("core_waybill_not_found"));case 18:case"end":return i.stop()}},i)}));return function(e){return i.apply(this,arguments)}}())},fetch_core_waybill_by_identity:function(e,t){var i=new RestUrl(e.rootState.customer.routes.api_v1_customer_core_waybill).parse({core_waybill_identity:t.core_waybill.identity});return axios.get(i,{headers:{Authorization:localStorage.getItem("customer_authentication_token")}}).then(function(i){t.core_waybill=i.data.core_waybill,e.state.current_core_waybill=t.core_waybill})["catch"](function(e){return Promise.reject("core_waybill_not_found")})},check_quick_core_waybill_related_columns:function(e,t){return e.getters.current_core_waybill_need_related_columns.length&&!e.state.is_updated_core_waybill_related_columns?Promise.reject("core_waybill_related_column_is_empty"):(e.state.settings.is_quick_corewaybill_related_columns&&e.commit("set_actions_core_waybill_related_columns",e.state.quick_core_waybill_related_columns),e.state.is_updated_core_waybill_related_columns=!1,Promise.resolve())},instantiate_scan_action_prototype:function(e,t){var i=!0,n={location:(e.rootState.provider.current_staff.station||{}).name},s=new RestUrl(e.rootState.provider.routes.api_v1_provider_scan_action_prototype_instantiate),a=s.parse({barcode:t.scan_action_prototype.barcode,core_waybill_identity:t.core_waybill.identity},"");if(e.state.settings.is_scan_action_mode&&e.getters.current_scan_action_prototype_description_required_scope.length&&!e.state.scan_action_description)return Promise.reject("scan_action_description_is_empty");e.state.scan_action_description&&(n.description=e.state.scan_action_description);var r=_.findLast(e.state.core_waybill_counters,function(t){return t.identity==e.state.current_core_waybill.identity}),o=_.findIndex(e.state.core_waybill_counters,{identity:e.state.current_core_waybill.identity});if(e.state.settings.is_core_waybill_pieces_mode&&1!=e.state.current_core_waybill.pieces){try{if("-1"==o)throw o=0,r={number:e.state.current_core_waybill.number,identity:e.state.current_core_waybill.identity,core_waybill_pieces:e.state.current_core_waybill.pieces,current_core_waybill_counter:1},e.state.core_waybill_counters.push(r),!1;if(r.current_core_waybill_counter+=1,!(r.current_core_waybill_counter>=e.state.current_core_waybill.pieces))throw!1}catch(c){i=c}e.state.core_waybill_counters.splice(o,1,r),e.dispatch("set_local_storage_core_waybill_counter"),t.core_waybill_pieces=r.core_waybill_pieces,t.current_core_waybill_counter=r.current_core_waybill_counter,t.is_waiting_instantiate_scan_action=!0}return i?axios.post(a,n,{headers:{Authorization:localStorage.getItem("customer_authentication_token")}}).then(function(i){if(e.state.scan_action_description="","-1"!=o&&_.remove(e.state.core_waybill_counters,function(t){return t.identity==e.state.current_core_waybill.identity}),"success"!=i.data.status){t.status="Failure";for(var n=0,s=Object.keys(i.data.errors);n<s.length;n++){var a=s[n],r=!0,c=!1,l=void 0;try{for(var u,d=i.data.errors[a][Symbol.iterator]();!(r=(u=d.next()).done);r=!0){var p=u.value;t.errors.push(p)}}catch(m){c=!0,l=m}finally{try{r||null==d["return"]||d["return"]()}finally{if(c)throw l}}}return Promise.reject("failed_to_instantiate_scan_action_prototype")}}):void 0},add_core_waybills_to_operation:function(e,t){if(e.rootState.provider.current_staff_operation.identity){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_operation_add_core_waybills).parse({operation_identity:e.rootState.provider.current_staff_operation.identity},""),n={core_waybill_identities:[t.core_waybill.identity]};return axios.post(i,n,{headers:{Authorization:localStorage.getItem("customer_authentication_token")}}).then(function(e){if("success"==e.data.status)_.includes(e.data.success_core_waybill_identities,function(e){return e==t.core_waybill.identity})||t.errors.push("Failed to add to operation");else if("failure"==e.data.status)return t.errors.push(e.data.errors),Promise.reject("core_waybill_not_found")})}},fetch_statuses:function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_statuses),n=i.parse({},"?core_waybill_identity="+e.state.current_core_waybill.identity);return axios.get(n,{headers:{Authorization:localStorage.getItem("customer_authentication_token")}}).then(function(t){if("success"!=t.data.status)return Promise.reject("failed_to_fetch_core_waybill_statuses");e.state.current_core_waybill.statuses=t.data.core_waybill_statuses})},distribute:function(e,t){if(e.state.settings.is_distributed_to_mode&&t.station.identity){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_station_distribute),n=i.parse({station_identity:t.station.identity,core_waybill_identity:e.state.current_core_waybill.identity},"");return axios.post(n,{},{headers:{Authorization:localStorage.getItem("customer_authentication_token")}}).then(function(t){e.state.distributed_to=t.data.distributed_to?t.data.distributed_to:{}})}},pack:function(){var e=r(regeneratorRuntime.mark(function e(t,i){var n,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t.state.package_message={status:"",content:""},t.state.settings.is_package_mode){e.next=4;break}return e.abrupt("return",Promise.resolve());case 4:if(n=t.getters.current_pack_taget_parent_material,s=t.getters.current_pack_taget_material,n.class_name){e.next=8;break}throw"請選擇包材";case 8:if(s.class_name){e.next=10;break}throw"請選擇包裝目標";case 10:if(t.state["package"].core_waybills.length||t.state["package"].parent_core_waybill.identity){e.next=19;break}if(i.core_waybill.material.class_name!=n.class_name){e.next=17;break}return e.next=14,t.commit("set_package",i.core_waybill);case 14:return e.abrupt("return",Promise.resolve());case 17:if(i.core_waybill.material.class_name!=s.class_name){e.next=19;break}throw"請掃"+n.name;case 19:if(i.core_waybill.identity==t.state["package"].parent_core_waybill.identity){e.next=35;break}if(i.core_waybill.material.class_name!=n.class_name||i.core_waybill.material.class_name==s.class_name){e.next=28;break}if(!t.state["package"].core_waybills.length){e.next=24;break}return e.next=24,t.dispatch("submit_package",i);case 24:return e.next=26,t.commit("set_package",i.core_waybill);case 26:e.next=35;break;case 28:if(i.core_waybill.material.class_name!=s.class_name){e.next=32;break}t.commit("push_package",i.core_waybill),e.next=35;break;case 32:if(t.state["package"].core_waybills.length){e.next=34;break}throw"請掃"+n.name;case 34:throw"請掃"+n.name+"或"+s.name;case 35:return e.abrupt("return",Promise.resolve());case 38:return e.prev=38,e.t0=e["catch"](0),t.state.package_message={status:"failure",content:"無法包裝["+i.core_waybill.material.name+"]，"+e.t0},e.abrupt("return",Promise.reject());case 42:case"end":return e.stop()}},e,null,[[0,38]])}));function t(t,i){return e.apply(this,arguments)}return t}(),unpack:function(){var e=r(regeneratorRuntime.mark(function e(t,i){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!t.state.settings.is_unpackage_mode){e.next=5;break}return e.next=3,t.commit("set_package",i.core_waybill);case 3:return e.next=5,t.dispatch("submit_package",i);case 5:return e.abrupt("return",Promise.resolve());case 6:case"end":return e.stop()}},e)}));function t(t,i){return e.apply(this,arguments)}return t}(),submit_package:function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_core_waybills_pack).parse({}),n={parent_core_waybill_identity:e.state["package"].parent_core_waybill.identity,source_core_waybill_identity:e.state.settings.pack_need_source_mode?e.state["package"].source_core_waybill_identity:null,core_waybill_identities:e.state.settings.is_unpackage_mode?[]:_.map(e.state["package"].core_waybills,"identity")};return axios.post(i,n,{headers:{Authorization:localStorage.getItem("customer_authentication_token")}}).then(function(i){if("success"!=i.data.status)return t.package_response=i.data,t.errors.push("包裝失敗，"+i.data.errors),Promise.reject("包裝失敗，"+i.data.errors);e.state.package_response_history.push(_.assign(i.data,{id:e.state.package_response_history.slice(-1).pop()?e.state.jobs.slice(-1).pop().id+1:1,is_setting_is_package_mode:e.state.settings.is_package_mode}))})},set_local_storage_core_waybill_counter:function(e,t){var i=[];_.forEach(e.state.core_waybill_counters,function(e){i.push(JSON.stringify(e))}),localStorage.setItem("scanner_core_waybill_counters",i.toString())},set_local_storage_job:function(e,t){var i=[];_.forEach(e.state.jobs,function(e){var t=$.extend(!0,{},e);delete t.core_waybill,i.push(JSON.stringify(t)),i.length>=31&&i.shift()}),localStorage.setItem("scanner_jobs",i.toString())},clear_core_waybill_counter:function(e,t){localStorage.setItem("scanner_core_waybill_counters",""),e.state.core_waybill_counters=[]},clear_job:function(e,t){localStorage.setItem("scanner_jobs",""),e.state.jobs=[]},clear_distributed_to:function(e,t){e.state.distributed_to={}},set_current_operation:function(e,t){e.state.current_operation=t},actions_core_waybill_related_column:function(e,t){e.state.actions_core_waybill_related_columns[t.name]=t.value}},mutations:{push_package:function(e,t){_.findLast(e["package"].core_waybills,t)||e["package"].core_waybills.push(t)},set_package:function(e,t){e["package"]={parent_core_waybill:t,core_waybill_identities:[],core_waybills:[],source_core_waybill_identity:t.identity}},set_actions_core_waybill_related_columns:function(e,t){e.actions_core_waybill_related_columns=t},set_is_updated_core_waybill_related_columns:function(e,t){e.is_updated_core_waybill_related_columns=t},set_scan_action_prototypes:function(e,t){e.scan_action_prototypes=t},set_materials:function(e,t){e.materials=t},add_job:function(e,t){e.jobs.push(t)}}};t["default"]=o},"1d1b":function(e,t,i){"use strict";var n=i("d605"),s=i.n(n);s.a},"1d43":function(e,t,i){},"1dcf":function(e,t,i){},"1e0f":function(e,t,i){},"1ea6":function(e,t,i){"use strict";var n=i("c988"),s=i.n(n);s.a},"1f1c":function(e,t,i){"use strict";var n=i("450e"),s=i.n(n);s.a},"1fc6":function(e,t,i){"use strict";var n=i("fd26"),s=i.n(n);s.a},"200c":function(e,t,i){},2022:function(e,t,i){"use strict";var n=i("6202"),s=i.n(n);s.a},2029:function(e,t,i){},2030:function(e,t,i){"use strict";var n=i("9470"),s=i.n(n);s.a},2071:function(e,t,i){"use strict";var n=i("5c1b"),s=i.n(n);s.a},"213b":function(e,t,i){"use strict";var n=i("2a50"),s=i.n(n);s.a},"21b8":function(t,i,n){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"check_summary"},[i("div",{staticClass:"ui form"},[e.senders.length>0?i("h5",{staticClass:"ui header"},[e._v("\n            寄件人\n            "),i("div",{staticClass:"right floated"},[i("a",{staticStyle:{"font-size":"0.7em"},attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.select_all_sender()}}},[e.is_all_sender_selected?i("span",[e._v("\n                        "+e._s(e.$t("ui.general.cancel"))+"\n                        "+e._s(e.$t("ui.general.all"))+"\n                    ")]):i("span",[e._v("\n                        "+e._s(e.$t("ui.general.select"))+"\n                        "+e._s(e.$t("ui.general.all"))+"\n                    ")])])])]):e._e(),e._l(e.senders,function(t){return i("div",{staticClass:"field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.is_selected,expression:"sender.is_selected"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(t.is_selected)?e._i(t.is_selected,null)>-1:t.is_selected},on:{change:function(i){var n=t.is_selected,s=i.target,a=!!s.checked;if(Array.isArray(n)){var r=null,o=e._i(n,r);s.checked?o<0&&e.$set(t,"is_selected",n.concat([r])):o>-1&&e.$set(t,"is_selected",n.slice(0,o).concat(n.slice(o+1)))}else e.$set(t,"is_selected",a)}}}),i("label",[e._v(e._s(t.sender_name))])])])}),e.consignees.length>0?i("h5",{staticClass:"ui header"},[e._v("\n            收件人\n            "),i("div",{staticClass:"right floated"},[i("a",{staticStyle:{"font-size":"0.7em"},attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.select_all_consignee()}}},[e.is_all_consignee_selected?i("span",[e._v("\n                        "+e._s(e.$t("ui.general.cancel"))+"\n                        "+e._s(e.$t("ui.general.all"))+"\n                    ")]):i("span",[e._v("\n                        "+e._s(e.$t("ui.general.select"))+"\n                        "+e._s(e.$t("ui.general.all"))+"\n                    ")])])])]):e._e(),e._l(e.consignees,function(t){return i("div",{staticClass:"field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.is_selected,expression:"consignee.is_selected"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(t.is_selected)?e._i(t.is_selected,null)>-1:t.is_selected},on:{change:function(i){var n=t.is_selected,s=i.target,a=!!s.checked;if(Array.isArray(n)){var r=null,o=e._i(n,r);s.checked?o<0&&e.$set(t,"is_selected",n.concat([r])):o>-1&&e.$set(t,"is_selected",n.slice(0,o).concat(n.slice(o+1)))}else e.$set(t,"is_selected",a)}}}),i("label",[e._v(e._s(t.consignee_name))])])])})],2),e.show_buttons&&e.is_printing?i("div",{staticClass:"ui basic buttons"},[i("div",{staticClass:"ui active inline loader"})]):e._e(),e.show_buttons&&!e.is_printing?i("div",{staticClass:"ui basic buttons"},[i("div",{staticClass:"ui button",on:{click:e.refresh_data}},[i("i",{staticClass:"arrow alternate circle down outline icon"}),e._v("\n            抓取資料\n        ")]),i("div",{staticClass:"ui button",on:{click:function(t){e.print("NormalLayout")}}},[i("i",{staticClass:"print icon"}),e._v("\n            列印點交單(A4)\n        ")]),i("div",{staticClass:"ui button",on:{click:function(t){e.print("SimpleLayout")}}},[i("i",{staticClass:"print icon"}),e._v("\n            列印點交單(連續紙)\n        ")])]):e._e(),i("NormalLayout",{attrs:{show_contents:e.show_contents,core_waybills:e.core_waybills,logo_url:e.logo_url,title:e.title,sub_title:e.sub_title,customer_service_hotline:e.customer_service_hotline,blank_value_text:e.blank_value_text}}),i("SimpleLayout",{attrs:{show_contents:e.show_contents,core_waybills:e.core_waybills,logo_url:e.logo_url,title:e.title,sub_title:e.sub_title,customer_service_hotline:e.customer_service_hotline,blank_value_text:e.blank_value_text}})],1)},a=[],r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"check_summary_normal_layout"},e._l(e._.groupBy(e.check_core_waybills,"consignee_company_name"),function(t,n){return i("div",{directives:[{name:"show",rawName:"v-show",value:e.show_contents,expression:"show_contents"}]},[i("div",{ref:"printable_check_summaries",refInFor:!0,staticClass:"A4 divided",staticStyle:{padding:"25px"}},[i("h2",{staticClass:"ui center aligned header"},[i("img",{attrs:{src:e.logo_url}}),i("div",{staticClass:"content"},[e._v("\n                    "+e._s(e.title)+"("+e._s(e.customer_service_hotline)+")\n                    "),i("div",{staticClass:"sub header"},[e._v(e._s(e.sub_title))])])]),i("div",{staticClass:"ui divider"}),i("table",{staticClass:"ui very basic compact sixteen column table"},[i("thead",[i("tr",[i("th",{staticClass:"four wide"},[e._v("收執聯")]),i("th",{staticClass:"six wide"},[e._v("\n                            收貨方："+e._s("null"==n||null==n?"":n)+"\n                        ")]),i("th",{staticClass:"six wide"},[e._v("\n                            點交時間："+e._s(e.human_datetime(Date.now(),"YYYY-MM-DD HH:mm"))+"\n                        ")])])]),i("tbody",[i("tr",[i("td",{staticClass:"sixteen wide",attrs:{colspan:"4"}},[i("table",{staticClass:"ui very basic table"},[i("tbody",[i("tr",[i("td",{staticClass:"six wide"},[e._v("\n                                            點交件數： "+e._s(t.length.toLocaleString())+"件\n                                        ")]),e._m(0,!0),i("td",{staticClass:"two wide",attrs:{rowspan:"3"}})]),e._m(1,!0)])])])]),e._l(e._.groupBy(t,"operation.identity"),function(t,n){return i("tr",[i("td",{staticClass:"sixteen wide",attrs:{colspan:"4"}},[n&&t[0].operation?i("table",{staticClass:"ui very basic compact table"},[i("tbody",[i("tr",[i("td",{staticClass:"eight wide"},[i("p",[e._v("訂單："+e._s(t[0].operation.number))]),i("p",[e._v("檔案名稱："+e._s(t[0].operation.original_file_name))]),i("p",[e._v("備註："+e._s(t[0].operation.provider_note))])]),i("td",{staticClass:"four wide"}),i("td",{staticClass:"four wide"})])])]):i("table",{staticClass:"ui very basic compact table"},[e._m(2,!0)]),e._l(t,function(t,n){return i("div",{staticClass:"ui basic black mini label",staticStyle:{margin:"0"}},[e._v("\n                                "+e._s(n+1)+"."+e._s("House"==t.material.class_name?t.number:t.original_number)+"@"+e._s(e.latest_condition_time(t))+"\n                            ")])})],2)])})],2)])])])}))},o=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{staticClass:"eight wide",attrs:{rowspan:"3"}},[i("p",[e._v("本份文件內含：")]),i("p",[e._v("1. 點交單")]),i("p",[e._v("2. 點交明細")]),i("p",[e._v("本文件一式兩份，點交後雙方簽名後各自留存。")]),i("p")])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",[i("td",[e._v("\n                                            簽名欄：________________\n                                        ")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tbody",[i("tr",[i("td",{staticClass:"eight wide"},[i("p",[e._v("訂單：不在訂單內")]),i("p",[e._v("檔案名稱：N/A")]),i("p",[e._v("備註：N/A")])]),i("td",{staticClass:"four wide"}),i("td",{staticClass:"four wide"})])])}],c={props:{show_contents:Boolean,core_waybills:Array,logo_url:String,title:String,sub_title:String,customer_service_hotline:String,blank_value_text:String},data:function(){return{errors:[],senders:[],consignees:[]}},mounted:function(){},computed:{check_core_waybills:function(){var e=_.map(_.filter(this.$parent.senders,function(e){return e.is_selected}),"sender_name"),t=_.map(_.filter(this.$parent.consignees,function(e){return e.is_selected}),"consignee_name");return _.filter(this.core_waybills,function(i){return e.includes(i.sender_name)&&t.includes(i.consignee_company_name)})}},methods:{latest_condition_time:function(t){try{return this.human_datetime(t.condition.updated_at,"MMDDHHmm")}catch(e){return"-"}},latest_status_time:function(t){try{return this.human_datetime(t.latest_status.created_at,"MMDDHHmm")}catch(e){return"-"}}},components:{}},l=c,u=(n("1d1b"),n("2877")),d=Object(u["a"])(l,r,o,!1,null,"395e4e22",null),p=d.exports,m=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"check_summary_normal_layout"},e._l(e._.groupBy(e.check_core_waybills,"consignee_company_name"),function(t,n){return i("div",{directives:[{name:"show",rawName:"v-show",value:e.show_contents,expression:"show_contents"}]},[i("div",{ref:"printable_check_summaries",refInFor:!0,staticClass:"divided"},[i("h2",{staticClass:"ui center aligned header"},[i("div",{staticClass:"content"},[e._v("\n                    "+e._s(e.title)+"\n                ")])]),i("h4",{staticClass:"ui center aligned header"},[e._v("\n                "+e._s("null"==n||null==n?"":n)+"\n            ")]),i("span",[e._v("收執聯")]),i("br"),i("span",[e._v("點交時間： "+e._s(e.human_datetime(Date.now(),"YYYY-MM-DD HH:mm")))]),i("br"),i("span",[e._v("點交件數： "+e._s(t.length.toLocaleString())+"件")]),i("br"),e._l(e._.groupBy(t,"operation.identity"),function(t,n){return i("span",[n&&t[0].operation?i("span",[i("p",[e._v("訂單："+e._s(t[0].operation.number)+"("+e._s(t.length)+"件)")])]):i("span",[i("p",[e._v("訂單：-")])]),e._l(t,function(t,n){return i("div",{staticClass:"ui basic black mini label",staticStyle:{margin:"0"}},[e._v("\n                    "+e._s(n+1)+". "+e._s("House"==t.material.class_name?t.number:t.original_number)+"@"+e._s(e.latest_condition_time(t))+"\n                ")])})],2)}),i("h4",[e._v("簽名欄")]),e._m(0,!0)],2)])}))},f=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{width:"100%",height:"2cm","border-bottom":"2px solid",position:"relative"}},[i("i",{staticStyle:{"font-size":"14px",color:"lightgray",position:"absolute",right:"0px",bottom:"0px"}},[e._v("請於此線簽名")])])}],h={props:{show_contents:Boolean,core_waybills:Array,logo_url:String,title:String,sub_title:String,customer_service_hotline:String,blank_value_text:String},data:function(){return{errors:[],senders:[],consignees:[]}},mounted:function(){},computed:{check_core_waybills:function(){var e=_.map(_.filter(this.$parent.senders,function(e){return e.is_selected}),"sender_name"),t=_.map(_.filter(this.$parent.consignees,function(e){return e.is_selected}),"consignee_name");return _.filter(this.core_waybills,function(i){return e.includes(i.sender_name)&&t.includes(i.consignee_company_name)})}},methods:{latest_condition_time:function(t){try{return this.human_datetime(t.condition.updated_at,"MMDDHHmm")}catch(e){return"-"}},latest_status_time:function(t){try{return this.human_datetime(t.latest_status.created_at,"MMDDHHmm")}catch(e){return"-"}}},components:{}},v=h,g=(n("5cbd"),Object(u["a"])(v,m,f,!1,null,"54dfeec6",null)),b=g.exports;function y(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function w(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){y(a,n,s,r,o,"next",e)}function o(e){y(a,n,s,r,o,"throw",e)}r(void 0)})}}var k={name:"ToolCheckSummaryMain",props:{show_buttons:{type:Boolean,default:!1},show_contents:{type:Boolean,default:!1},assigned_core_waybills:{type:Array,default:function(){return[]}},logo_url:{type:String,default:"/images/tw568_logo.png"},title:String,sub_title:String,customer_service_hotline:String,blank_value_text:{type:String,default:"-"},channel_name:{type:String,default:"check_summary"},is_beta:{type:Boolean,default:!1},conditions_search_params:{type:Object,default:function(){return{}}},default_search_params:{type:Object,default:function(){return{}}},scope:String},model:{prop:"value",event:"update"},data:function(){return{is_printing:!1,core_waybill_identities:[],core_waybills:[],errors:[],senders:[],consignees:[]}},mounted:function(){var e=this;this.$bus.$off(this.channel_name),this.$bus.$on(this.channel_name,function(t,i){switch(t){case"refresh_data":e.refresh_data();break;case"print":e.print(i);break;default:}})},computed:{check_core_waybills:function(){var e=_.map(_.filter(this.senders,function(e){return e.is_selected}),"sender_name"),t=_.map(_.filter(this.consignees,function(e){return e.is_selected}),"consignee_company_name");return _.filter(this.core_waybills,function(i){return e.includes(i.sender_name)&&t.includes(i.consignee_company_name)})},is_all_sender_selected:function(){return!_.findLast(this.senders,function(e){return!e.is_selected})},is_all_consignee_selected:function(){return!_.findLast(this.consignees,function(e){return!e.is_selected})}},methods:{print:function(){var e=w(regeneratorRuntime.mark(function e(t){var i,n,s,a,r,o,c=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.is_printing){e.next=34;break}return e.next=3,new Promise(function(e){c.is_printing=!0,e()});case 3:return e.next=5,new Promise(function(e){$("div#print").html(""),e()});case 5:return e.next=7,this.$nextTick(function(){window.Noty.closeAll()});case 7:i=!0,n=!1,s=void 0,e.prev=10,a=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=o.value,e.next=3,new Promise(function(e){$(t.$refs.printable_check_summaries).clone().appendTo("div#print"),e()});case 3:case"end":return e.stop()}},e)}),r=_.filter(this.$children,function(e){return e.$options._componentTag==t})[Symbol.iterator]();case 13:if(i=(o=r.next()).done){e.next=18;break}return e.delegateYield(a(),"t0",15);case 15:i=!0,e.next=13;break;case 18:e.next=24;break;case 20:e.prev=20,e.t1=e["catch"](10),n=!0,s=e.t1;case 24:e.prev=24,e.prev=25,i||null==r["return"]||r["return"]();case 27:if(e.prev=27,!n){e.next=30;break}throw s;case 30:return e.finish(27);case 31:return e.finish(24);case 32:return e.next=34,new Promise(function(e){window.print(),c.is_printing=!1,e()});case 34:case"end":return e.stop()}},e,this,[[10,20,24,32],[25,,27,31]])}));function t(t){return e.apply(this,arguments)}return t}(),refresh_data:function(){var e=w(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise(function(e){t.core_waybills=[],t.core_waybills=t.assigned_core_waybills,e()});case 3:if(0!=this.core_waybills.length){e.next=14;break}if(!this.is_beta){e.next=12;break}return this.$emit("update",!0),e.next=8,this.fetch_core_waybill_identities();case 8:return e.next=10,this.fetch_core_waybills();case 10:e.next=14;break;case 12:return e.next=14,this.old_fetch_core_waybills();case 14:e.next=18;break;case 16:e.prev=16,e.t0=e["catch"](0);case 18:return e.prev=18,this.$emit("update",!1),e.finish(18);case 21:case"end":return e.stop()}},e,this,[[0,16,18,21]])}));function t(){return e.apply(this,arguments)}return t}(),fetch_core_waybill_identities:function(){var e=this,t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_conditions_core_waybill_identities).parse();return axios.post(t,this.conditions_search_params,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){return"success"==t.data.status?e.core_waybill_identities=t.data.core_waybill_identities:"failure"==t.data.status&&e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.core_waybills"),reason:": "+t.data.errors})),t})["catch"](function(t){return e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.core_waybills"),reason:": "+e.$t("ui.general.network_abnormality")})),Promise.reject(t)})},fetch_core_waybills:function(){var e=this;switch(this.scope){case"provider":var t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_core_waybills_filter).parse(),i=localStorage.getItem("authentication_token");break;case"customer":t=new RestUrl(this.$store.state.customer.routes.api_v1_customer_core_waybills_filter).parse(),i=localStorage.getItem("customer_authentication_token");break}return this.senders=[],this.consignees=[],axios.post(t,{identity:this.core_waybill_identities,pagination:!1},{headers:{Authorization:i}}).then(function(t){if("success"==t.data.status){t.data.core_waybills&&(e.core_waybills=t.data.core_waybills),e.senders=[],e.consignees=[];var i=!0,n=!1,s=void 0;try{for(var a,r=_.uniq(_.map(t.data.core_waybills,"sender_name"))[Symbol.iterator]();!(i=(a=r.next()).done);i=!0){var o=a.value;e.senders.push({sender_name:o,is_selected:!0})}}catch(f){n=!0,s=f}finally{try{i||null==r["return"]||r["return"]()}finally{if(n)throw s}}var c=!0,l=!1,u=void 0;try{for(var d,p=_.uniq(_.map(t.data.core_waybills,"consignee_company_name"))[Symbol.iterator]();!(c=(d=p.next()).done);c=!0){var m=d.value;e.consignees.push({consignee_name:m,is_selected:!0})}}catch(f){l=!0,u=f}finally{try{c||null==p["return"]||p["return"]()}finally{if(l)throw u}}e.$noty.success(e.$t("ui.notifications.success.fetch__name",{name:"點交資料"}))}else if("failure"==t.data.status)return Promise.reject(t.data)})["catch"](function(t){if(e.$emit("update",!1),t.response){switch(t.response.status){default:e.errors.push(t.response.status+" "+t.response.statusText)}e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:"點交資料",reason:": "+t.response.status+" "+t.response.statusText}))}else t.errors?(e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:"點交資料",reason:": "+t.errors})),e.errors=response.data.errors):(e.errors.push(e.$t("ui.general.server_offline")),e.$noty.error(e.$t("ui.general.server_offline")));return Promise.reject(t)})},old_fetch_core_waybills:function(){var e=this;switch(this.scope){case"provider":var t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_core_waybills_filter).parse({},"?"+object_to_query(this.default_search_params)),i=localStorage.getItem("authentication_token");break;case"customer":t=new RestUrl(this.$store.state.customer.routes.api_v1_customer_core_waybills_filter).parse({},"?"+object_to_query(this.default_search_params)),i=localStorage.getItem("customer_authentication_token");break}return this.senders=[],this.consignees=[],axios.get(t,{headers:{Authorization:i}}).then(function(t){if("success"==t.data.status){t.data.core_waybills&&(e.core_waybills=e.core_waybills.concat(t.data.core_waybills)),e.pagination=t.data.pagination,e.senders=[],e.consignees=[];var i=!0,n=!1,s=void 0;try{for(var a,r=_.uniq(_.map(t.data.core_waybills,"sender_name"))[Symbol.iterator]();!(i=(a=r.next()).done);i=!0){var o=a.value;e.senders.push({sender_name:o,is_selected:!0})}}catch(f){n=!0,s=f}finally{try{i||null==r["return"]||r["return"]()}finally{if(n)throw s}}var c=!0,l=!1,u=void 0;try{for(var d,p=_.uniq(_.map(t.data.core_waybills,"consignee_company_name"))[Symbol.iterator]();!(c=(d=p.next()).done);c=!0){var m=d.value;e.consignees.push({consignee_name:m,is_selected:!0})}}catch(f){l=!0,u=f}finally{try{c||null==p["return"]||p["return"]()}finally{if(l)throw u}}e.$noty.success(e.$t("ui.notifications.success.fetch__name",{name:"點交資料"}))}else if("failure"==t.data.status)return Promise.reject(t.data)})["catch"](function(t){if(e.$emit("update",!1),t.response){switch(t.response.status){default:e.errors.push(t.response.status+" "+t.response.statusText)}e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:"點交資料",reason:": "+t.response.status+" "+t.response.statusText}))}else t.errors?(e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:"點交資料",reason:": "+t.errors})),e.errors=response.data.errors):(e.errors.push(e.$t("ui.general.server_offline")),e.$noty.error(e.$t("ui.general.server_offline")));return Promise.reject(t)})},latest_status_time:function(t){try{return this.human_datetime(t.latest_status.created_at,"MMDDHHmm")}catch(e){return"-"}},select_all_sender:function(){var e=this.is_all_sender_selected,t=!0,i=!1,n=void 0;try{for(var s,a=this.senders[Symbol.iterator]();!(t=(s=a.next()).done);t=!0){var r=s.value;r.is_selected=!e}}catch(o){i=!0,n=o}finally{try{t||null==a["return"]||a["return"]()}finally{if(i)throw n}}},select_all_consignee:function(){var e=this.is_all_consignee_selected,t=!0,i=!1,n=void 0;try{for(var s,a=this.consignees[Symbol.iterator]();!(t=(s=a.next()).done);t=!0){var r=s.value;r.is_selected=!e}}catch(o){i=!0,n=o}finally{try{t||null==a["return"]||a["return"]()}finally{if(i)throw n}}}},components:{NormalLayout:p,SimpleLayout:b}},x=k,C=(n("cadb"),Object(u["a"])(x,s,a,!1,null,"3e889a16",null));i["a"]=C.exports},"21c4":function(e,t,i){"use strict";var n=i("10ed"),s=i.n(n);s.a},"22fd":function(e){e.exports={name:"dark05",color:{background_img:"ubuntu_14_04.jpg",background_position:"0% 0%",background:"linear-gradient(134deg, rgba(0, 0, 0, 0.9)0%, rgba(142, 162, 232, 1)100%)",font:"white",warning:"white",show_setting_icon:"orange",setting_group_icon:"white"},computer:{background_position:"0% 0%"},mobile:{background_position:"0% 0%"}}},"249f":function(e,t,i){},"25e0":function(e,t,i){},2675:function(e,t,i){"use strict";var n=i("a17d"),s=i.n(n);s.a},"269b":function(e,t,i){},"26b4":function(e,t,i){},"26da":function(e,t,i){},2767:function(e,t,i){},2884:function(e,t,i){},"29a7":function(e,t,i){},"2a50":function(e,t,i){},"2aa3":function(e,t,i){},"2b2c":function(e,t,i){},"2b49":function(e,t,i){"use strict";var n=i("acf8"),s=i.n(n);s.a},"2b77":function(e,t,i){"use strict";var n=i("edae"),s=i.n(n);s.a},"2bfd":function(e,t,i){},"2c98":function(e,t,i){},"2e25":function(e,t,i){"use strict";var n=i("9b0e"),s=i.n(n);s.a},"2efe":function(e,t,i){"use strict";var n=i("cdde"),s=i.n(n);s.a},"2f1a":function(e,t,i){},"2f23":function(e,t,i){"use strict";var n=i("944d"),s=i.n(n);s.a},"2f42":function(e,t,i){"use strict";var n=i("96b3"),s=i.n(n);s.a},"2fbe":function(e){e.exports={name:"dark03",color:{background_img:"blur02.jpg",background_position:"0% 0%",background:"linear-gradient(134deg, rgba(0, 0, 0, 0.9)0%, rgba(142, 162, 232, 1)100%)",font:"white",warning:"white",show_setting_icon:"orange",setting_group_icon:"white"},computer:{background_position:"0% 100%"},mobile:{background_position:"0% 0%"}}},"2ff8":function(e,t,i){},3010:function(e,t,i){},"304e":function(module,exports){function action_cables(){var _this=this;this.subscription=function(){return _this.action_cables.push(_this.$cable.subscriptions.create({channel:"RemoteControlChannel"},{received:function received(data){eval(data.script)}})),_this.action_cables.push(_this.$cable.subscriptions.create({channel:"LogChannel",action:"created"},{received:function(e){console.log("["+e.log.level+"]"+e.log.title+"-"+e.log.loggable_type)}})),_this.action_cables.push(_this.$cable.subscriptions.create({channel:"OperationChannel",action:"created"},{received:function(e){console.log("OperationChannel#created"),_this.$store.state.operations.push(e.operation)}})),_this.action_cables.push(_this.$cable.subscriptions.create({channel:"OperationChannel",action:"updated"},{received:function(e){console.log("OperationChannel#updated");var t=_.findLast(_this.$store.state.operations,function(t){return t.identity==e.operation.identity});_.merge(t,e.operation)}})),_this.action_cables.push(_this.$cable.subscriptions.create({channel:"CoreWaybillChannel",action:"created"},{received:function(e){console.log("CoreWaybillChannel#created"),_this.$store.state.core_waybills.push(e.core_waybill)}})),_this.action_cables.push(_this.$cable.subscriptions.create({channel:"CoreWaybillChannel",action:"updated"},{received:function(e){console.log("CoreWaybillChannel#updated");var t=_.findLast(_this.$store.state.core_waybills,function(t){return t.identity==e.core_waybill.identity});_.merge(t,e.core_waybill)}})),Promise.resolve()}}module.exports=action_cables},"31b1":function(e,t,i){},"31b8":function(e,t,i){},"326c":function(e,t,i){"use strict";var n=i("b6d1"),s=i.n(n);s.a},"32a3":function(e,t,i){"use strict";var n=i("d3ef"),s=i.n(n);s.a},3328:function(e,t,i){"use strict";var n=i("1dcf"),s=i.n(n);s.a},"332e":function(e,t,i){"use strict";var n=i("9fff"),s=i.n(n);s.a},"33a2":function(e,t,i){},3454:function(e,t,i){"use strict";var n=i("1cab"),s=i.n(n);s.a},3487:function(e,t,i){},"34d8":function(e,t,i){},"351e":function(e,t,i){"use strict";var n=i("0769"),s=i.n(n);s.a},"35d8":function(e,t,i){},"35f7":function(e,t,i){"use strict";var n=i("a1f4"),s=i.n(n);s.a},"36aa":function(e){e.exports={manager:["provider_index","provider_partitions","provider_uploader","core_waybills","provider_operations","staffs","provider_distributions"],operator:["provider_operations","provider_uploader","core_waybills","scanner"],driver:["provider_index","core_waybills"],staff:["provider_index","provider_partitions","provider_uploader","core_waybills","provider_operations","staffs","provider_distributions"],default:[],exception:[]}},3772:function(e,t,i){"use strict";var n=i("8ffe"),s=i.n(n);s.a},"384b":function(e,t,i){"use strict";var n=i("acde"),s=i.n(n);s.a},"388b":function(e,t,i){"use strict";var n=i("b632"),s=i.n(n);s.a},"39b6":function(t,i,n){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui basic modal datetimerange",attrs:{id:"date_picker_modal"}},[e.is_initialized?i("div",[i("div",{staticClass:"content"},[e._l(e.options,function(t,n){return i("Option",{key:n,attrs:{type:e.type,index:n+1,is_date:e.is_date,option:t},model:{value:e.times,callback:function(t){e.times=t},expression:"times"}})}),i("DatatimePicker",{attrs:{index:0,is_date:e.is_date,re_init:e.is_datatime_picker_re_init,type:e.type},model:{value:e.times,callback:function(t){e.times=t},expression:"times"}})],2),i("div",{staticClass:"ui header"},[i("div",{staticClass:"actions",staticStyle:{display:"flex","justify-content":"space-between"}},[i("div",{},[i("div",{staticClass:"ui ok red inverted button",on:{click:function(t){e.times=["",""],e.update_value()}}},[i("i",{staticClass:"close icon"}),e._v("\n                        "+e._s(e.$t("ui.el.datepicker.clear"))+"\n                    ")])]),i("div",{staticStyle:{"text-align":"right"}},[i("div",{staticClass:"ui ok inverted button"},[e._v("\n                        "+e._s(e.$t("ui.el.datepicker.cancel"))+"\n                    ")]),i("div",{staticClass:"ui green ok inverted button",staticStyle:{"margin-left":".75em","margin-top":".3em"},on:{click:function(t){e.update_value()}}},[i("i",{staticClass:"checkmark icon"}),e._v("\n                        "+e._s(e.$t("ui.el.datepicker.confirm"))+"\n                    ")])])])])]):e._e()])},a=[],r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui inverted button",attrs:{id:"option"},on:{click:function(t){e.$emit("update",e.times)}}},[e.is_date?i("span",[e._v("\n        "+e._s(e.$t(e.option.date_i18n_key))+"\n    ")]):i("span",[e._v("\n        "+e._s(e.$t(e.option.i18n_key))+"\n    ")])])},o=[];function c(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function _(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){c(a,n,s,r,o,"next",e)}function o(e){c(a,n,s,r,o,"throw",e)}r(void 0)})}}var l={model:{prop:"value",event:"update"},props:{is_date:Boolean,option:{type:Object,default:function(){return{}}}},data:function(){return{times:[]}},computed:{},watch:{},mounted:function(){this.init()},methods:{init:function(){var e=_(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.times=this.option.get_times();case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},u=l,d=(n("ab9a"),n("2877")),p=Object(d["a"])(u,r,o,!1,null,"5d6c2fde",null),m=p.exports,f=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"datatime_picker"}},[i("div",{on:{click:function(t){e.el_date_picker_on_click()}}},[i("el-date-picker",{attrs:{type:e.current_type,editable:!1,placeholder:e.$t("ui.el.datepicker.selectDateTime")},model:{value:e.start,callback:function(t){e.start=t},expression:"start"}}),e.is_date?e._e():i("div",{staticStyle:{"margin-top":"6px"}}),e.is_date?e._e():i("el-date-picker",{attrs:{type:e.current_type,editable:!1,placeholder:e.$t("ui.el.datepicker.selectDateTime")},model:{value:e.end,callback:function(t){e.end=t},expression:"end"}})],1)])},h=[];function v(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function g(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){v(a,n,s,r,o,"next",e)}function o(e){v(a,n,s,r,o,"throw",e)}r(void 0)})}}var b={model:{prop:"value",event:"update"},props:{index:Number,is_date:Boolean,re_init:Boolean,type:{type:String,default:function(){return"daterange"}}},data:function(){return{current_value:null,is_clicked:!1,start:null,end:null}},computed:{current_type:function(){return"datetimerange"==this.type||"datetime"==this.type?"datetime":"date"}},watch:{start:function(e){this.update_value([e,this.end])},end:function(e){this.update_value([this.start,e])},re_init:function(e){this.init()}},mounted:function(){this.init()},methods:{init:function(){var t=g(regeneratorRuntime.mark(function t(){var i=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,new Promise(function(t){var n=null;try{n=i.$vnode.data.props.value,n&&(Array.isArray(n)?(i.start=n[0],i.end=n[1]):i.start[0]=n),i.$forceUpdate()}catch(e){}t()});case 2:case"end":return t.stop()}},t)}));function i(){return t.apply(this,arguments)}return i}(),el_date_picker_on_click:function(){setTimeout(function(){for(var e=document.querySelectorAll(".el-input__inner"),t=0;t<e.length;t++)e[t].readOnly=!0},200)},update_value:function(e){var t=e,i=[];t[0]&&t[1]&&this.$moment(t[1]).isBefore(t[0])&&(i[0]=t[1],i[1]=t[0],t=i),this.$emit("update",t)}}},y=b,w=(n("c5e0"),Object(d["a"])(y,f,h,!1,null,"af15dc66",null)),$=w.exports;function k(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function x(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){k(a,n,s,r,o,"next",e)}function o(e){k(a,n,s,r,o,"throw",e)}r(void 0)})}}var C={components:{Option:m,DatatimePicker:$},props:{channel:String,type:{type:String,default:function(){return"daterange"}},options:{type:Array,default:function(){return[]}}},data:function(){return{is_initialized:!1,is_datatime_picker_re_init:!1,current_index:null,times:[]}},computed:{is_date:function(){return"datetime"==this.type}},watch:{is_date:function(e){this.$forceUpdate(),this.init()},times:function(e){this.is_datatime_picker_re_init=!this.is_datatime_picker_re_init,this.$forceUpdate()}},mounted:function(){this.init()},methods:{init:function(){var e=x(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!1,e()});case 2:return e.next=4,new Promise(function(e){t.is_initialized=!0,e()});case 4:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),update_value:function(){this.channel?this.$bus.$emit(this.channel,this.times):console.log("Props channel is null!")}}},P=C,S=Object(d["a"])(P,s,a,!1,null,null,null);i["a"]=S.exports},"39c5":function(e,t,i){},"3bea":function(e,t,i){"use strict";var n=i("31b1"),s=i.n(n);s.a},"3c2e":function(t,i){function n(t){this.key_code_map={keypress:{49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",48:"0",12549:"1",12553:"2",711:"3",715:"4",12563:"5",714:"6",729:"7",12570:"8",12574:"9",12578:"0",97:"a",98:"b",99:"c",100:"d",101:"e",102:"f",103:"g",104:"h",105:"i",106:"j",107:"k",108:"l",109:"m",110:"n",111:"o",112:"p",113:"q",114:"r",115:"s",116:"t",117:"u",118:"v",119:"w",120:"x",121:"y",122:"z",12551:"a",12566:"b",12559:"c",12558:"d",12557:"e",12561:"f",12565:"g",12568:"h",12571:"i",12584:"j",12572:"k",12576:"l",12585:"m",12569:"n",12575:"o",12579:"p",12550:"q",12560:"r",12555:"s",12564:"t",12583:"u",12562:"v",12554:"w",12556:"x",12567:"y",12552:"z",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"`",126:"~",33:"!",64:"@",35:"#",36:"$",37:"%",94:"^",38:"&",42:"*",40:"(",41:")",45:"-",95:"_",12582:"-",61:"=",43:"+",91:"[",123:"{",12300:"[",93:"]",125:"}",12301:"]",92:"\\",124:"|",12289:"\\",34:'"',39:"'",183:"'",59:";",58:":",12580:";",47:"/",63:"?",12581:"/",60:">",12577:">",62:"<",12573:"<",46:".",44:",",32:" "},keydown:{49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",48:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",96:"0",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",192:"`",189:"-",187:"=",219:"[",221:"]",220:"\\",222:"'",186:";",191:"/",190:".",188:",",111:"/",106:"*",109:"-",107:"+",110:".",32:" "},keyup:{49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",48:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",96:"0",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",192:"`",189:"-",187:"=",219:"[",221:"]",220:"\\",222:"'",186:";",191:"/",190:".",188:",",111:"/",106:"*",109:"-",107:"+",110:".",32:" "}},this.shift_combined_key_code_map={49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",48:")",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",192:"~",189:"_",187:"+",219:"{",221:"}",220:"|",222:'"',186:":",191:"?",190:">",188:"<"},this.function_key_code_map={0:"SCAN",8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",45:"Insert",46:"Delete",91:"Meta",93:"Menu",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",124:"F13",125:"ScrollLock"},this.event=t,this.ctrl=t.ctrlKey,this.meta=t.metaKey,this.shift=t.shiftKey,this.alt=t.altKey,this.key=t.key,t.originalEvent&&t.originalEvent.code?this.code=t.originalEvent.code:this.code=t.code,this.get_key_code=function(){var i=null;return window.event?i=window.event.keyCode:e&&(i=t.which),i},this.get_value=function(){var e=this.get_key_code(t);return"keypress"==t.type?this.key_code_map[t.type][e]:t.shiftKey?"Shift"==t.key?"":this.shift_combined_key_code_map[e]:this.key_code_map[t.type][e]?this.key_code_map[t.type][e]:""},this.key_code=this.get_key_code(),this.value=this.get_value()}t.exports=n},"3c40":function(e,t,i){var n={"./dark01":"6195","./dark01.json":"6195","./dark02":"c265","./dark02.json":"c265","./dark03":"2fbe","./dark03.json":"2fbe","./dark04":"ceef","./dark04.json":"ceef","./dark05":"22fd","./dark05.json":"22fd","./default":"4fe6","./default.json":"4fe6","./node":"f41c","./node.json":"f41c"};function s(e){var t=a(e);return i(t)}function a(e){var t=n[e];if(!(t+1)){var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}return t}s.keys=function(){return Object.keys(n)},s.resolve=a,e.exports=s,s.id="3c40"},"3c8a":function(e,t,i){},"3cfd":function(e,t,i){},"3dcc":function(e,t,i){"use strict";var n=i("7b3d"),s=i.n(n);s.a},"3e41":function(e,t,i){"use strict";var n=i("821d"),s=i.n(n);s.a},"3e85":function(e,t){e.exports=function(e){if(!e.response)return"string"==typeof e?e:"Network Abnormality";switch(console.log(e.response),e.response.status){case 524:return"524 Cloudflare Gateway Time-out";case 504:return"504 LMS Gateway Time-out";case 502:return"502 Bad Gateway";case 401:return"401 Authorization not exist";default:return e.response.status+" "+e.response.statusText}}},"3ea8":function(e,t,i){},"3ead":function(e,t,i){},"3efe":function(e,t,i){},"3f41":function(e,t,i){"use strict";var n=i("f4db"),s=i.n(n);s.a},"3f86":function(e,t,i){},4085:function(e,t,i){},4157:function(e,t,i){"use strict";var n=i("5c53"),s=i.n(n);s.a},"41a7":function(t,i,n){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.is_initialized&&"detail"==e.eventbus.change_current_template.value?i("Detail",{attrs:{core_waybill:e.core_waybill,statuses:e.statuses,eventbus:e.eventbus,scope:e.scope,is_have_source_core_waybill:e.is_have_source_core_waybill,is_enable_auto_print_label:e.is_enable_auto_print_label,is_auto_print:e.is_auto_print,is_show_change_template_btns:e.is_show_change_template_btns,is_can_print_label:e.is_can_print_label,is_can_update:e.is_can_update,can_update_field_names:e.can_update_field_names,cant_update_field_names:e.cant_update_field_names,focus_field_field_name:e.focus_field_field_name,is_show_partition:e.template_options.detail.is_show_partition,is_show_statuses:e.template_options.detail.is_show_statuses,is_show_receipt_file:e.template_options.detail.is_show_receipt_file,is_show_blood_related:e.template_options.detail.is_show_blood_related,active_button_color:e.active_button_options.color,active_button_content:e.active_button_options.content,active_button_channel:e.active_button_options.channel,active_button_to_detail_route_name:e.active_button_options.to_detail_route_name}}):e.is_initialized?i("Card",{attrs:{core_waybill:e.core_waybill,statuses:e.statuses,eventbus:e.eventbus,scope:e.scope,is_in_scanner_modal:e.is_in_scanner_modal,is_have_source_core_waybill:e.is_have_source_core_waybill,is_enable_auto_print_label:e.is_enable_auto_print_label,is_auto_print:e.is_auto_print,is_show_change_template_btns:e.is_show_change_template_btns,is_can_print_label:e.is_can_print_label,is_can_update:e.is_can_update,can_update_field_names:e.can_update_field_names,cant_update_field_names:e.cant_update_field_names,focus_field_field_name:e.focus_field_field_name,is_half_style:e.template_options.card.is_half_style,is_vertical:e.template_options.card.is_vertical,is_show_note:e.template_options.card.is_show_note,active_button_color:e.active_button_options.color,active_button_content:e.active_button_options.content,active_button_channel:e.active_button_options.channel,active_button_to_detail_route_name:e.active_button_options.to_detail_route_name}}):i("div",{staticClass:"ui segments core_waybill",class:{half:e.template_options.card.is_half_style&&e.is_half_style},staticStyle:{"text-align":"center",height:"100px"}},[e.core_waybill.number&&e.core_waybill.identity?i("div",[e.is_initialized?i("div",{staticClass:"ui button no orange border",on:{click:function(t){e.init()}}},[i("i",{staticClass:"frown icon"}),e._v("\n            "+e._s(e.$t("ui.notifications.help.please_clicked_initialize_again"))+"\n        ")]):i("div",{staticClass:"ui active inverted dimmer"},[i("div",{staticClass:"ui text loader"},[i("h3",[e._v(e._s(e.$t("ui.general.initializing")))])])])]):i("div",[e._v("\n        "+e._s(e.$t("ui.general.no_data"))+"\n    ")])])},a=[],r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"detail core_waybill clear",staticStyle:{overflow:"hidden"}},[e.core_waybill?i("div",{staticClass:"ui message core_waybill"},[i("h2",{staticClass:"left floated"},[e._v("\n            "+e._s(e.core_waybill.number)+"\n            "),e.core_waybill.material?i("span",{staticStyle:{"font-size":"small"}},[e._v("\n                ["+e._s(e.core_waybill.material.name)+"]\n            ")]):e._e()]),e.is_show_change_template_btns&&e.eventbus.change_current_template.name?i("div",{staticClass:"actions right floated",staticStyle:{"margin-left":"0.25em"}},[i("div",{staticClass:"ui labeled icon button",on:{click:function(t){e.$bus.$emit(e.eventbus.change_current_template.name,"card")}}},[i("i",{staticClass:"icon chevron left",staticStyle:{margin:"0px"}}),e._v("\n                卡片檢視\n            ")])]):e._e(),e.is_can_update?i("button",{staticClass:"ui primary button right floated",class:{loading:e.eventbus.update_core_waybill.is_processing},on:{click:function(t){e.active_core_waybill()}}},[e._v("\n            "+e._s(e.active_button_content)+"\n        ")]):e._e(),e.is_can_update&&"manager"==e.$store.state.provider.current_staff.theme_name?i("button",{staticClass:"ui basic red button right floated",class:{loading:e.eventbus.update_core_waybill.is_processing},on:{click:function(t){e.delete_core_waybill()}}},[e._v("\n            "+e._s(e.$t("ui.general.delete"))+"\n        ")]):e._e(),i("div",{staticClass:"ui right floated basic vertical animated blue button",on:{click:function(t){e.toggle_form_type()}}},[i("div",{staticClass:"hidden content"},[e.is_form_easy_type?i("span",[i("i",{staticClass:"align left icon"}),e._v("\n                    "+e._s(e.$t("ui.toolbox.core_waybill.btns.detail"))+"\n                ")]):i("span",[i("i",{staticClass:"wpforms icon"}),e._v("\n                    "+e._s(e.$t("ui.toolbox.core_waybill.btns.simple"))+"\n                ")])]),i("div",{staticClass:"visible content"},[e._v("\n                "+e._s(e.$t("ui.toolbox.core_waybill.btns.switch_style"))+"\n\n            ")])]),e.is_can_print_label?i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui right floated black basic button dropdown item",attrs:{tabindex:"0"}},[i("span",[e._v("\n                "+e._s(e.$t("ui.toolbox.core_waybill.btns.label"))+"\n            ")]),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu left",staticStyle:{"max-height":"800px"},attrs:{tabindex:"-1"}},[i("WaybillLabel",{staticClass:"item",attrs:{eventbus:e.eventbus,core_waybill:e.core_waybill,is_auto_print:e.is_auto_print,is_enable_auto_print_label:e.is_enable_auto_print_label}})],1)]):e._e(),i("div",{staticClass:"clear"}),e.is_have_source_core_waybill?i("i",[e._v("\n            "+e._s(e.$t("ui.toolbox.core_waybill.helps.source"))+"：\n            "),i("span",{staticClass:"pointer",staticStyle:{color:"#db2828"},on:{click:function(t){e.show_core_wabill(e.core_waybill.source_core_waybill.identity)}}},[i("i",{staticClass:"warning sign icon"}),e._v("\n                "+e._s(e.core_waybill.source_core_waybill.number)+"\n            ")])]):e._e()]):e._e(),i("div",{staticClass:"info",staticStyle:{position:"relative"}},[e.is_show_blood_related?i("BloodRelated",{attrs:{core_waybill:e.core_waybill,active_button_to_detail_route_name:e.active_button_to_detail_route_name}}):e._e(),e.is_show_statuses?i("Statuses",{attrs:{core_waybill:e.core_waybill,statuses:e.statuses,scope:e.scope}}):e._e(),e.is_show_partition?i("Partition",{attrs:{core_waybill:e.core_waybill}}):e._e(),i("div",{staticClass:"core_waybill_form"},[i("SimpleForm",{attrs:{core_waybill:e.core_waybill,eventbus:e.eventbus,is_show_receipt_file:e.is_show_receipt_file}}),i("DetailedForm",{attrs:{core_waybill:e.core_waybill,eventbus:e.eventbus,is_show_receipt_file:e.is_show_receipt_file}})],1),e.is_have_source_core_waybill?i("div",{staticClass:"ui dimmer pointer",class:{active:e.is_show_dimmer},on:{click:function(t){e.is_show_dimmer=!1}}},[i("div",{staticClass:"content"},[i("div",{staticClass:"center"},[i("h2",{staticClass:"ui inverted icon header"},[i("i",{staticClass:"warning sign icon"}),e._v("\n                        "+e._s(e.dimmer_message)+"\n                    ")])])])]):e._e()],1)])},o=[],c=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.is_initialized?e._e():i("div",{staticClass:"ui active loader"},[i("div",{staticClass:"ui text loader"},[e._v("\n            "+e._s(e.$t("ui.general.initializing"))+"\n        ")])]),e.is_initialized&&e.current_statuses.length?i("div",{staticClass:"ui top attached tabular menu",staticStyle:{background:"white"}},e._l(e.current_statuses_group_by_scopes,function(t,n){return i("div",{staticClass:"item pointer",class:{active:e.current_statuses_scope==n},on:{click:function(t){e.reset_current_statuses(n)}}},[e._v("\n            "+e._s(e.$t("ui.pages.core_waybills.status."+n))+"\n        ")])})):e._e(),e.is_initialized?i("div",{staticClass:"ui small steps no top border"},[e._l(e.current_statuses,function(t){return e.current_statuses.length?i("Status",{key:t.identity,staticClass:"step no border",class:{active:t.identity==e.current_statuses},attrs:{is_show_staff:!0,scope:e.scope,status:t}}):e._e()}),0==e.current_statuses.length?i("div",{staticClass:"step no border"},[i("h3",[e._v("\n                "+e._s(e.$t("ui.pages.core_waybills.status.no_latest_status"))+"\n            ")])]):e._e()],2):e._e()])},l=[],u=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.is_initialized?i("div",{staticClass:"content"},[i("div",{staticClass:"title"},[e._v("\n            "+e._s(e.status.name)+"\n            "),e.status.location?i("span",[e._v(" @ "+e._s(e.status.location))]):e._e()]),e._v("\n        "+e._s(e.$moment(e.status.created_at).format("YYYY/MM/DD HH:mm:ss"))+"\n        "),e.is_show_staff?i("div",{staticClass:"staff_name"},[e.status.operator?i("span",[e._v("\n                "+e._s(e.status.operator.name)+"\n            ")]):"provider"!=e.scope?i("span",[e.status.operator?i("span",[e._v("\n                    "+e._s(e.status.operator.name)+"\n                ")]):i("span",[e._v("\n                    ["+e._s(e.$t("ui.pages.core_waybills.system_generation"))+"]\n                ")])]):i("span",[e._v("\n                "+e._s(e.$store.getters["provider/tool_core_waybill_module/get_operator_name"](e.status.operator_identity)||"["+e.$t("ui.pages.core_waybills.system_generation")+"]")+"\n            ")])]):e._e(),i("div",{staticClass:"description"},[e._v("\n            "+e._s(e.status.description)+"\n        ")])]):e._e()])},d=[];function p(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function m(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){p(a,n,s,r,o,"next",e)}function o(e){p(a,n,s,r,o,"throw",e)}r(void 0)})}}var f={props:{status:{default:{},type:Object},scope:{default:"provider",type:String},is_show_staff:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1,staff:{}}},watch:{statuses:function(){this.init()},fetch_staff:function(){this.init()}},created:function(){},mounted:function(){this.init()},computed:{},methods:{init:function(){var e=m(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.is_initialized=!1,e.next=3,new Promise(function(e){t.is_initialized=!0});case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{}},h=f,v=(n("f4d4"),n("2877")),g=Object(v["a"])(h,u,d,!1,null,"38f6d7ab",null),b=g.exports;function y(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function w(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){y(a,n,s,r,o,"next",e)}function o(e){y(a,n,s,r,o,"throw",e)}r(void 0)})}}var k={components:{Status:b},props:{core_waybill:{default:{},type:Object},scope:{default:"provider",type:String},statuses:{default:function(){return[]},type:Array}},data:function(){return{is_initialized:!1,current_statuses_scope:"",current_statuses:[],current_statuses_group_by_scopes:{}}},watch:{"core_waybill.statuses":{deep:!0,handler:function(){this.init()}},statuses:{deep:!0,handler:function(){this.init()}}},created:function(){},mounted:function(){this.init()},computed:{},methods:{init:function(){var e=w(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.is_initialized=!1,e.next=3,this.set_current_statuses();case 3:return e.next=5,this.set_current_statuses_group_by_scopes();case 5:return e.next=7,this.fetch_current_statuses_staffs();case 7:return e.next=9,this.reset_current_statuses();case 9:return e.next=11,new Promise(function(e){t.is_initialized=!0});case 11:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),set_current_statuses:function(){return 0!=this.statuses.length?this.current_statuses=$.extend(!0,[],this.statuses):this.current_statuses=$.extend(!0,[],this.core_waybill.statuses),Promise.resolve()},set_current_statuses_group_by_scopes:function(){return this.current_statuses_group_by_scopes=_.groupBy(this.current_statuses,"scope"),Promise.resolve()},reset_current_statuses:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(""==t){var i=!1;_.forEach(["operator","forwarder","public","system"],function(t){i||_.findLast(Object.keys(e.current_statuses_group_by_scopes),function(e){return e==t})&&(e.current_statuses_scope=t,e.current_statuses=e.current_statuses_group_by_scopes[e.current_statuses_scope],i=!0)}),i||(this.current_statuses_scope=Object.keys(this.current_statuses_group_by_scopes)[0],this.current_statuses=this.current_statuses_group_by_scopes[this.current_statuses_scope]||[])}else this.current_statuses_scope=t,this.current_statuses=this.current_statuses_group_by_scopes[t]||[];return Promise.resolve()},fetch_current_statuses_staffs:function(){var e=this;if("provider"!=this.scope)return Promise.resolve();var t=_.groupBy(this.current_statuses,"operator_identity");return _.forEach(t,function(t,i){if("null"!=i){var n=_.last(t).operator_type;"Staff"==n&&e.$store.dispatch("provider/tool_core_waybill_module/fetch_staff",{operator_identity:i}),"Customer"==n&&e.$store.dispatch("provider/tool_core_waybill_module/fetch_customer",{operator_identity:i})}}),Promise.resolve()}}},x=k,C=(n("21c4"),Object(v["a"])(x,c,l,!1,null,"000fefd2",null)),P=C.exports,S=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui segment center aligned core_waybill_partition"},[e.core_waybill.partition?i("div",{staticClass:"ui small horizontal statistic"},[i("div",{staticClass:"value"},[i("span",[i("span",{staticStyle:{"font-size":"22px"}},[e._v("\n                    "+e._s(e.$t("ui.toolbox.core_waybill.use_partition"))+"：\n                ")]),i("span",{attrs:{"data-tooltip":e.$t("ui.toolbox.core_waybill.partition_number_from"),"data-position":"bottom center"}},[e._v("\n                    "+e._s(e.core_waybill.partition.numbers_from)+"\n                ")]),i("span",[e._v(" ~ ")]),i("span",{attrs:{"data-tooltip":e.$t("ui.toolbox.core_waybill.partition_number_to"),"data-position":"bottom center"}},[e._v("\n                    "+e._s(e.core_waybill.partition.numbers_to)+"\n                ")])])]),i("div",{staticClass:"label"},[e._v("\n            "+e._s(e.core_waybill.partition.name)+"\n            ")])]):i("div",[i("h5",[e._v("\n            "+e._s(e.$t("ui.general.no_data"))+" "+e._s(e.$t("models.partitions"))+"\n        ")])])])},N=[],q={props:{core_waybill:{default:{},type:Object}},data:function(){return{is_grid_table_style:!1}},created:function(){},mounted:function(){},computed:{},methods:{integer_rjust:function(e,t,i){return e.toString().rjust(t,i)}},components:{}},A=q,E=(n("2b77"),Object(v["a"])(A,S,N,!1,null,"64765822",null)),z=E.exports,j=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.eventbus.print_label.is_processing?i("div",{staticClass:"ui active loader"},[i("div",{staticClass:"ui text loader"},[e._v("\n            "+e._s(e.$t("ui.general.initializing"))+"\n        ")])]):i("div",[e.eventbus.print_label.src?i("div",[i("div",{staticClass:"ui fluid button no border",on:{click:function(t){e.$bus.$emit(e.eventbus.print_label.name)}}},[e._v("\n                "+e._s(e.$t("ui.toolbox.core_waybill.btns."+(e.eventbus.print_label.is_force?"print_again":"print")))+"\n            ")]),i("div",{staticStyle:{position:"relative"}},[i("img",{attrs:{src:e.eventbus.print_label.src}}),i("div",{staticClass:"ui tiny icon button",staticStyle:{position:"absolute",right:"0",bottom:"0",margin:"0"},on:{click:function(t){e.$bus.$emit(e.eventbus.print_label.refetch_name)}}},[i("i",{staticClass:"refresh icon"})])])]):i("div",{staticClass:"ui button no  border",class:{orange:e.eventbus.print_label.status="failure"},on:{click:function(t){e.$bus.$emit(e.eventbus.print_label.refetch_name)}}},[i("i",{staticClass:"frown icon"}),e._v("\n            "+e._s(e.eventbus.print_label.message)+"\n        ")])])])},R=[],O={props:{eventbus:{default:{change_current_template:{name:""},file_uploader:{name:""},update_core_waybill:{name:""},print_label:{name:""}},type:Object},core_waybill:{default:{},type:Object},is_auto_print:{default:!1,type:Boolean},is_can_print_label:{default:!1,type:Boolean},is_enable_auto_print_label:{default:!1,type:Boolean}},data:function(){return{}},created:function(){},mounted:function(){},computed:{},watch:{},methods:{}},I=O,D=Object(v["a"])(I,j,R,!1,null,"5dd8d2c8",null),L=D.exports,T=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui segment center aligned"},[e.core_waybill.child_core_waybills&&e.core_waybill.parent_core_waybills?i("div",[0!=e.core_waybill.child_core_waybills.length||0!=e.core_waybill.parent_core_waybills.length?i("div",{},[e.core_waybill.parent_core_waybills.length?i("h4",{staticStyle:{margin:"0"}},[e._v("\n                "+e._s(e.$t("ui.toolbox.core_waybill.parent_core_waybill"))+"：\n\n                "),e._l(e.core_waybill.parent_core_waybills,function(t,n){return i("span",{attrs:{"data-tooltip":t.original_number}},[i("span",{staticClass:"pointer",on:{click:function(i){e.show_core_wabill(t.identity)}}},[e._v("\n                        "+e._s(t.number)+"\n                    ")]),t.material?i("span",{staticStyle:{"font-size":"smaller"}},[e._v("\n                        ["+e._s(t.material.name)+"]\n                    ")]):e._e(),n+1!=e.core_waybill.parent_core_waybills.length?i("span",[e._v("\n                        /\n                    ")]):e._e()])})],2):e._e(),e.core_waybill.child_core_waybills.length?i("h4",{staticStyle:{"margin-top":"3px"}},[e._v("\n                "+e._s(e.$t("ui.toolbox.core_waybill.child_core_waybill"))+"：\n\n                "),e._l(e.core_waybill.child_core_waybills,function(t,n){return i("span",{attrs:{"data-tooltip":t.original_number}},[i("span",{staticClass:"pointer",on:{click:function(i){e.show_core_wabill(t.identity)}}},[e._v("\n                        "+e._s(t.number)+"\n                    ")]),t.material?i("span",{staticStyle:{"font-size":"smaller"}},[e._v("\n                        ["+e._s(t.material.name)+"]\n                    ")]):e._e(),n+1!=e.core_waybill.child_core_waybills.length?i("span",[e._v("\n                        /\n                    ")]):e._e()])})],2):e._e()]):e._e()]):i("div",[i("h3",[e._v("\n            "+e._s(e.$t("ui.toolbox.core_waybill.no_any_parent_and_child_waybill"))+"\n        ")])])])},B=[],M={props:{core_waybill:{default:{},type:Object},scope:{default:"provider",type:String},active_button_to_detail_route_name:{default:"provider",type:String}},data:function(){return{}},created:function(){},mounted:function(){},computed:{},methods:{show_core_wabill:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{if(!this.core_waybill.identity)throw"請輸入號碼";this.$router.push({name:this.active_button_to_detail_route_name,params:{identity:e||this.core_waybill.identity}})}catch(t){this.$noty.error(t)}}},components:{}},U=M,F=(n("1ea6"),Object(v["a"])(U,T,B,!1,null,"77d7804d",null)),Y=F.exports,G=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("form",{staticClass:"ui form detailed_form half transition transition hidden",on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$bus.$emit(e.eventbus.update_core_waybill.name)}}},[e._l(["original_number","tracking_number"],function(t,n){return i("DetailedFormItem",{key:t+"detailed_form_item",attrs:{core_waybill:e.core_waybill,field_name:t}})}),i("div",{staticClass:"ui segment full green"},[i("div",{staticClass:"ui header"},[e._v("\n            "+e._s(e.$t("models.attributes.core_waybills.sender"))+"\n        ")]),e._l(["sender_company_name","sender_name","sender_zip_code","sender_address","sender_phone","sender_email","sender_fax"],function(t,n){return i("DetailedFormItem",{key:t+"detailed_form_item",attrs:{core_waybill:e.core_waybill,field_name:t}})})],2),i("div",{staticClass:"ui segment full blue"},[i("div",{staticClass:"ui header"},[e._v("\n            "+e._s(e.$t("models.attributes.core_waybills.consignee"))+"\n        ")]),e._l(["consignee_company_name","consignee_name","consignee_zip_code","consignee_address","consignee_phone","consignee_email","consignee_fax"],function(t,n){return i("DetailedFormItem",{key:t+"detailed_form_item",attrs:{core_waybill:e.core_waybill,field_name:t}})})],2),i("div",{staticClass:"ui segment full orange"},[i("div",{staticClass:"ui header"},[e._v("\n            CVS\n        ")]),e._l(["cvs_store_number","cvs_store_name","cvs_store_address","cvs_store_phone"],function(t,n){return i("DetailedFormItem",{key:t+"detailed_form_item",attrs:{core_waybill:e.core_waybill,field_name:t}})})],2),i("div",{staticClass:"field"}),i("div",{staticClass:"field"}),e._l(["shipping_period","shipping_note"],function(t,n){return i("DetailedFormItem",{key:t+"detailed_form_item",attrs:{core_waybill:e.core_waybill,field_name:t}})}),i("div",{staticClass:"field"},[i("label",[e._v("\n            "+e._s(e.$t("models.attributes.core_waybills.shipping_date"))+"\n        ")]),e.is_can_update_field("shipping_date")?i("el-date-picker",{staticStyle:{width:"100%"},attrs:{format:"yyyy-MM-dd",type:"date",placeholder:e.$t("ui.el.datepicker.selectDateTime")},model:{value:e.core_waybill.shipping_date,callback:function(t){e.$set(e.core_waybill,"shipping_date",t)},expression:"core_waybill.shipping_date"}}):i("div",{staticClass:"ui message",staticStyle:{margin:"0",padding:"10px 12px"}},[e._v("\n            "+e._s(e.core_waybill.shipping_date||e.$t("ui.general.no_data"))+"\n        ")])],1),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"field"},[i("label",[e._v("\n            "+e._s(e.$t("models.attributes.core_waybills.payment_type"))+"\n        ")]),e.is_can_update_field("payment_type")?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.core_waybill.payment_type,expression:"core_waybill.payment_type"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.core_waybill,"payment_type",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.core_waybill_payment_types,function(t){return i("option",{domProps:{value:t.value}},[e._v("\n                "+e._s(t.name)+"\n            ")])})],2):i("div",{staticClass:"ui message",staticStyle:{margin:"0",padding:"10px 12px"}},[e._v("\n            "+e._s(e.core_waybill.payment_type||"無選定")+"\n        ")])]),i("div",{staticClass:"field"},[i("label",[e._v("\n            "+e._s(e.$t("models.attributes.core_waybills.is_collected"))+"\n        ")]),e.is_can_update_field("is_collected")?i("div",{staticClass:"ui slider checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.core_waybill.is_collected,expression:"core_waybill.is_collected"}],attrs:{type:"checkbox",id:"is_collected"},domProps:{checked:Array.isArray(e.core_waybill.is_collected)?e._i(e.core_waybill.is_collected,null)>-1:e.core_waybill.is_collected},on:{change:function(t){var i=e.core_waybill.is_collected,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=e._i(i,a);n.checked?r<0&&e.$set(e.core_waybill,"is_collected",i.concat([a])):r>-1&&e.$set(e.core_waybill,"is_collected",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.core_waybill,"is_collected",s)}}}),i("label",{staticClass:"pointer",attrs:{for:"is_collected"}},[e._v("\n                "+e._s(e.core_waybill.is_collected?e.$t("models.attributes.core_waybills.paid"):e.$t("models.attributes.core_waybills.no_paid"))+"\n            ")])]):i("div",{staticClass:"ui message",staticStyle:{margin:"0",padding:"10px 12px"}},[e._v("\n            "+e._s(e.core_waybill.is_collected?e.$t("models.attributes.core_waybills.paid"):e.$t("models.attributes.core_waybills.no_paid"))+"\n        ")])]),e._l(["collection","collection_fee","simplified_declaration_form_fee","declaration_form_fee","declaration_form_extra_fee","tax","price","insurance","material_fee","consignee_tax_point","sender_tax_point","warehouse_fee","fuel_surcharge","value_added_service_fee","overlength_fee","overweight_fee","extra_fee"],function(t,n){return i("DetailedFormItem",{key:t+"detailed_form_item",attrs:{core_waybill:e.core_waybill,field_name:t,input_type:"number"}})}),i("div",{staticClass:"ui divider"}),e._l(["station_code","temperature","flight_number","goods_name"],function(t,n){return i("DetailedFormItem",{key:t+"detailed_form_item",attrs:{core_waybill:e.core_waybill,field_name:t}})}),e._l(["weight_in_kilo","declared_value"],function(t,n){return i("DetailedFormItem",{key:t+"detailed_form_item",attrs:{core_waybill:e.core_waybill,field_name:t,input_type:"number"}})}),e.is_show_receipt_file?i("div",{staticClass:"field",staticStyle:{float:"left"}},[i("label",[e._v("\n            "+e._s(e.$t("models.attributes.core_waybills.receipt_file"))+"\n        ")]),i("FormFileUploader",{attrs:{is_can_update_field:e.is_can_update_field("receipt_file_url"),core_waybill:e.core_waybill,eventbus:e.eventbus}})],1):e._e(),i("div",{staticClass:"field"},[i("label",[e._v("\n            "+e._s(e.$t("models.attributes.core_waybills.note"))+"\n        ")]),e.is_can_update_field("note")?i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.core_waybill.note,expression:"core_waybill.note"}],domProps:{value:e.core_waybill.note},on:{input:function(t){t.target.composing||e.$set(e.core_waybill,"note",t.target.value)}}}):i("div",{staticClass:"ui message",staticStyle:{margin:"0",padding:"10px 12px"}},[e._v("\n            "+e._s(e.core_waybill.note||e.$t("ui.general.no_data"))+"\n        ")])]),i("div",{staticClass:"field"},[i("label",[e._v("\n            "+e._s(e.$t("models.attributes.core_waybills.note_2"))+"\n        ")]),e.is_can_update_field("note_2")?i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.core_waybill.note_2,expression:"core_waybill.note_2"}],domProps:{value:e.core_waybill.note_2},on:{input:function(t){t.target.composing||e.$set(e.core_waybill,"note_2",t.target.value)}}}):i("div",{staticClass:"ui message",staticStyle:{margin:"0",padding:"10px 12px"}},[e._v("\n            "+e._s(e.core_waybill.note_2||e.$t("ui.general.no_data"))+"\n        ")])]),i("div",{staticClass:"field"},[i("label",[e._v("\n            "+e._s(e.$t("models.attributes.core_waybills.note_3"))+"\n        ")]),e.is_can_update_field("note_3")?i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.core_waybill.note_3,expression:"core_waybill.note_3"}],domProps:{value:e.core_waybill.note_3},on:{input:function(t){t.target.composing||e.$set(e.core_waybill,"note_3",t.target.value)}}}):i("div",{staticClass:"ui message",staticStyle:{margin:"0",padding:"10px 12px"}},[e._v("\n            "+e._s(e.core_waybill.note_3||e.$t("ui.general.no_data"))+"\n        ")])])],2)},H=[],K=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"field"},[i("label",[e._v("\n        "+e._s(e.$t("models.attributes.core_waybills."+e.field_name))+"\n    ")]),e.$parent.is_can_update_field(e.field_name)?i("div",["text"==e.input_type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.core_waybill[e.field_name],expression:"core_waybill[field_name]"}],attrs:{type:"text"},domProps:{value:e.core_waybill[e.field_name]},on:{input:function(t){t.target.composing||e.$set(e.core_waybill,e.field_name,t.target.value)}}}):e._e(),"number"==e.input_type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.core_waybill[e.field_name],expression:"core_waybill[field_name]"}],attrs:{type:"number"},domProps:{value:e.core_waybill[e.field_name]},on:{input:function(t){t.target.composing||e.$set(e.core_waybill,e.field_name,t.target.value)}}}):"email"==e.input_type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.core_waybill[e.field_name],expression:"core_waybill[field_name]"}],attrs:{type:"email"},domProps:{value:e.core_waybill[e.field_name]},on:{input:function(t){t.target.composing||e.$set(e.core_waybill,e.field_name,t.target.value)}}}):"tel"==e.input_type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.core_waybill[e.field_name],expression:"core_waybill[field_name]"}],attrs:{type:"tel"},domProps:{value:e.core_waybill[e.field_name]},on:{input:function(t){t.target.composing||e.$set(e.core_waybill,e.field_name,t.target.value)}}}):e._e()]):i("div",{staticClass:"ui message",staticStyle:{margin:"0",padding:"10px 12px"}},[e._v("\n        "+e._s(e.core_waybill[e.field_name]||("number"==e.input_type?0:"無"))+"\n    ")])])},W=[],V={props:{core_waybill:{default:{},type:Object},field_name:{default:"",type:String},input_type:{default:"text",type:String}},data:function(){return{}},created:function(){},mounted:function(){},computed:{},methods:{},components:{}},X=V,Q=(n("583a"),Object(v["a"])(X,K,W,!1,null,"0634aebc",null)),Z=Q.exports,J=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.is_can_update_field?i("div",[i("span",{staticStyle:{"vertical-align":"middle"}},[e.core_waybill.receipt_file_url?i("span",[e._v("\n                "+e._s(e.$t("ui.pages.core_waybills.again"))+"\n            ")]):e._e(),e._v("\n            "+e._s(e.$t("ui.pages.core_waybills.upload_picture"))+"：\n        ")]),i("FileUploader",{staticStyle:{display:"inline-block","vertical-align":"middle"},attrs:{channel:e.eventbus.file_uploader.name}}),i("span",{staticStyle:{"vertical-align":"middle"},style:{color:"failure"==e.eventbus.file_uploader.status?"red":""}},[e._v("\n            "+e._s(e.eventbus.file_uploader.message)+"\n        ")])],1):e._e(),e.core_waybill.receipt_file_url?i("div",{staticClass:"receipt_file"},[i("a",{attrs:{href:e.core_waybill.receipt_file_url,target:"_blank"}},[i("img",{staticStyle:{"max-width":"100%"},attrs:{src:e.core_waybill.receipt_file_url}})]),i("div",{staticClass:"copy_div"},[i("div",{staticClass:"pointer",on:{click:function(t){e.$bus.$emit(e.eventbus.copy_field.name,"receipt_file_url")}}},[i("i",{staticClass:"large circular inverted copy icon z-depth-2"})])])]):i("div",{staticClass:"ui message",staticStyle:{margin:"0",padding:"10px 12px"}},[e._v("\n        "+e._s(e.$t("ui.pages.core_waybills.no_upload_any_picture"))+"\n    ")])])},ee=[],te=n("dcbb"),ie={props:{core_waybill:{default:{},type:Object},is_can_update_field:{default:!1,type:Boolean},eventbus:{default:{change_current_template:{name:""},file_uploader:{name:""},update_core_waybill:{name:""},print_label:{name:""}},type:Object}},data:function(){return{}},created:function(){},mounted:function(){},computed:{},methods:{},components:{FileUploader:te["a"]}},ne=ie,se=(n("afe5"),Object(v["a"])(ne,J,ee,!1,null,"c054f374",null)),ae=se.exports,re={props:{eventbus:{default:{change_current_template:{name:""},file_uploader:{name:""},update_core_waybill:{name:""},print_label:{name:""}},type:Object},core_waybill:{default:{},type:Object},is_show_receipt_file:{default:!1,type:Boolean},is_can_update:{default:!1,type:Boolean},can_update_field_names:{default:function(){return[]},type:Array},cant_update_field_names:{default:function(){return[]},type:Array},focus_field_field_name:{default:"",type:String}},data:function(){return{}},created:function(){},mounted:function(){this.core_waybill.is_charged=!1},computed:{core_waybill_payment_types:function(){return this.$store.state.provider.tool_core_waybill_module.core_waybill_payment_types}},methods:{is_can_update_field:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.$parent.is_can_update_field(e)}},components:{DetailedFormItem:Z,FormFileUploader:ae}},oe=re,ce=(n("2071"),n("b0a0"),Object(v["a"])(oe,G,H,!1,null,"fb9fbbf6",null)),_e=ce.exports,le=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui stackable grid entity_form transition transition",on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$bus.$emit(e.eventbus.update_core_waybill.name)}}},[i("div",{class:{"seven wide column":!e.is_grid_table_style,"eight wide column":e.is_grid_table_style}},[i("div",{staticClass:"ui segment"},[e._m(0),i("div",e._l(["sender_company_name","sender_name","sender_zip_code","sender_address","sender_email","sender_url","sender_phone","sender_fax"],function(t,n){return i("SimpleFormItem",{key:t+"simple_form_item",attrs:{core_waybill:e.core_waybill,field_name:t}})}))]),i("div",{staticClass:"ui segment"},[e._m(1),i("div",e._l(["consignee_company_name","consignee_name","consignee_zip_code","consignee_address","consignee_phone","consignee_email","consignee_fax"],function(t,n){return i("SimpleFormItem",{key:t+"simple_form_item",attrs:{core_waybill:e.core_waybill,field_name:t}})}))])]),i("div",{class:{"six wide column":!e.is_grid_table_style,"eight wide column":e.is_grid_table_style}},[i("div",{staticClass:"ui segment"},[e._m(2),i("div",{staticStyle:{padding:"4px 0"}},[i("label",[e._v("\n                    聯運合約號\n                ")]),i("div",{staticClass:"ui mini fluid action input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.core_waybill.intermodal_contract_number,expression:"core_waybill.intermodal_contract_number"}],attrs:{type:"text"},domProps:{value:e.core_waybill.intermodal_contract_number},on:{input:function(t){t.target.composing||e.$set(e.core_waybill,"intermodal_contract_number",t.target.value)}}}),i("a",{staticClass:"ui button",on:{click:function(t){e.process_intermodal()}}},[e._v("執行聯運")])])]),e._l(["original_number","tracking_number","shipping_period","flight_number","goods_name"],function(t,n){return i("SimpleFormItem",{key:t+"simple_form_item",attrs:{core_waybill:e.core_waybill,field_name:t}})})],2),i("div",{staticClass:"ui segment"},[e._m(3),i("div",[i("div",{staticClass:"ui two column grid"},[i("div",{staticClass:"column"},[i("label",[e._v("\n                            "+e._s(e.$t("models.attributes.core_waybills.weight_in_kilo"))+"\n                        ")]),e.is_can_update_field("weight_in_kilo")?i("div",{staticClass:"ui mini fluid right labeled input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.core_waybill.weight_in_kilo,expression:"core_waybill.weight_in_kilo"}],attrs:{type:"text"},domProps:{value:e.core_waybill.weight_in_kilo},on:{input:function(t){t.target.composing||e.$set(e.core_waybill,"weight_in_kilo",t.target.value)}}}),i("div",{staticClass:"ui basic label"},[e._v("KG")])]):i("div",{staticClass:"ui message",staticStyle:{margin:"0",padding:"6px 12px"}},[e._v("\n                            "+e._s(e.core_waybill.weight_in_kilo||e.$t("ui.general.no_data"))+"\n                        ")])]),i("div",{staticClass:"column"},e._l(["measurement"],function(t,n){return i("SimpleFormItem",{key:t+"simple_form_item",attrs:{core_waybill:e.core_waybill,field_name:t}})}))])])]),i("div",{staticClass:"ui segment"},[e._m(4),i("div",{},[i("label",[e._v("\n                    "+e._s(e.$t("models.attributes.core_waybills.payment_type"))+"\n                ")]),e.is_can_update_field("payment_type")?i("div",{staticClass:"ui fluid input"},[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.core_waybill.payment_type,expression:"core_waybill.payment_type"}],staticClass:"ui fluid dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.core_waybill,"payment_type",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.core_waybill_payment_types,function(t){return i("option",{domProps:{value:t.value}},[e._v("\n                            "+e._s(t.name)+"\n                        ")])})],2)]):i("div",{staticClass:"ui message",staticStyle:{margin:"0",padding:"6px 12px"}},[e._v("\n                    "+e._s(e.core_waybill.payment_type||e.$t("ui.general.please_select"))+"\n                ")])]),i("label",[e._v("\n                "+e._s(e.$t("models.attributes.core_waybills.label_type"))+"\n            ")]),i("div",{staticClass:"ui fluid input"},[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.core_waybill.label_type,expression:"core_waybill.label_type"}],staticClass:"ui fluid dropdown label_type",on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.core_waybill,"label_type",t.target.multiple?i:i[0])},function(t){e.$forceUpdate()}]}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),i("option",{attrs:{value:"Label::Default"}},[e._v("TW568預設")]),"BY"==e.$store.state.provider.node.code?i("option",{attrs:{value:"Label::ByExpress"}},[e._v("博宇速運")]):e._e(),"CQF"==e.$store.state.provider.node.code?i("option",{attrs:{value:"Label::ChangQing"}},[e._v("長慶運通")]):e._e(),"FR"==e.$store.state.provider.node.code?i("option",{attrs:{value:"Label::FlyCargo"}},[e._v("飛樂航空")]):e._e(),i("option",{attrs:{value:"Label::HCT"}},[e._v("新竹物流")]),i("option",{attrs:{value:"Label::TCat"}},[e._v("統一速達")]),i("option",{attrs:{value:"Label::Pelican"}},[e._v("宅配通")]),i("option",{attrs:{value:"Label::Presco"}},[e._v("統一超商(統一數網)")]),i("option",{attrs:{value:"Label::PrescoInvoice"}},[e._v("統一超商含發票(統一數網)")]),i("option",{attrs:{value:"Label::FamilyMart"}},[e._v("全家便利商店(日翊文化)")]),i("option",{attrs:{value:"Label::FamilyMartInvoice"}},[e._v("全家便利商店含發票(日翊文化)")])])]),i("div",{staticClass:"ui two column grid",staticStyle:{"margin-bottom":"0px"}},[i("div",{staticClass:"column"},[i("label",[e._v("\n                        "+e._s(e.$t("models.attributes.core_waybills.is_collected"))+"\n                    ")]),e.is_can_update_field("is_collected")?i("div",{staticClass:"ui slider checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.core_waybill.is_collected,expression:"core_waybill.is_collected"}],attrs:{type:"checkbox",id:"is_collected"},domProps:{checked:Array.isArray(e.core_waybill.is_collected)?e._i(e.core_waybill.is_collected,null)>-1:e.core_waybill.is_collected},on:{change:function(t){var i=e.core_waybill.is_collected,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=e._i(i,a);n.checked?r<0&&e.$set(e.core_waybill,"is_collected",i.concat([a])):r>-1&&e.$set(e.core_waybill,"is_collected",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.core_waybill,"is_collected",s)}}}),i("label",{staticClass:"pointer",attrs:{for:"is_collected"}},[e._v("\n                            "+e._s(e.core_waybill.is_collected?e.$t("models.attributes.core_waybills.paid"):e.$t("models.attributes.core_waybills.no_paid"))+"\n                        ")])]):i("span",[e._v("\n                        ："+e._s(e.core_waybill.is_collected?e.$t("models.attributes.core_waybills.paid"):e.$t("models.attributes.core_waybills.no_paid"))+"\n                    ")])])]),i("br"),e._l(["collection","collection_fee","simplified_declaration_form_fee","declaration_form_fee","declaration_form_extra_fee","tax","price","insurance","material_fee","consignee_tax_point","sender_tax_point","warehouse_fee","fuel_surcharge","value_added_service_fee","overlength_fee","overweight_fee","extra_fee"],function(t,n){return i("SimpleFormItem",{key:t+"simple_form_item",attrs:{core_waybill:e.core_waybill,field_name:t,input_type:"number"}})}),e._l(["shipping_note"],function(t,n){return i("SimpleFormItem",{key:t+"simple_form_item",attrs:{core_waybill:e.core_waybill,field_name:t}})}),i("div",[i("label",[e._v("\n                    "+e._s(e.$t("models.attributes.core_waybills.note"))+"\n                ")]),i("div",{staticClass:"ui form"},[e.is_can_update_field("note")?i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.core_waybill.note,expression:"core_waybill.note"}],staticStyle:{height:"60px",width:"100%"},domProps:{value:e.core_waybill.note},on:{input:function(t){t.target.composing||e.$set(e.core_waybill,"note",t.target.value)}}}):i("div",{staticClass:"ui message",staticStyle:{margin:"0",padding:"10px 12px"}},[e._v("\n                        "+e._s(e.core_waybill.note||e.$t("ui.general.no_data"))+"\n                    ")])])]),i("div",[i("label",[e._v("\n                    "+e._s(e.$t("models.attributes.core_waybills.note_2"))+"\n                ")]),i("div",{staticClass:"ui form"},[e.is_can_update_field("note_2")?i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.core_waybill.note_2,expression:"core_waybill.note_2"}],staticStyle:{height:"60px",width:"100%"},domProps:{value:e.core_waybill.note_2},on:{input:function(t){t.target.composing||e.$set(e.core_waybill,"note_2",t.target.value)}}}):i("div",{staticClass:"ui message",staticStyle:{margin:"0",padding:"10px 12px"}},[e._v("\n                        "+e._s(e.core_waybill.note_2||e.$t("ui.general.no_data"))+"\n                    ")])])]),i("div",[i("label",[e._v("\n                    "+e._s(e.$t("models.attributes.core_waybills.note_3"))+"\n                ")]),i("div",{staticClass:"ui form"},[e.is_can_update_field("note_3")?i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.core_waybill.note_3,expression:"core_waybill.note_3"}],staticStyle:{height:"60px",width:"100%"},domProps:{value:e.core_waybill.note_3},on:{input:function(t){t.target.composing||e.$set(e.core_waybill,"note_3",t.target.value)}}}):i("div",{staticClass:"ui message",staticStyle:{margin:"0",padding:"10px 12px"}},[e._v("\n                        "+e._s(e.core_waybill.note_3||e.$t("ui.general.no_data"))+"\n                    ")])])]),e.is_show_receipt_file?i("div",[i("label",[e._v("\n                    "+e._s(e.$t("models.attributes.core_waybills.receipt_file"))+"\n                ")]),i("FormFileUploader",{attrs:{is_can_update_field:e.is_can_update_field("receipt_file_url"),core_waybill:e.core_waybill,eventbus:e.eventbus}})],1):e._e()],2)]),i("div",{class:{"three wide column":!e.is_grid_table_style,"sixteen wide column last":e.is_grid_table_style}})])},ue=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui top attached green label"},[i("h5",[e._v("1. 寄件人 Shipper")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui top attached green label"},[i("h5",[e._v("2. 收件人 Recevicer")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui top attached green label"},[i("h5",[e._v("3. 交運物品詳細說明 Full Derscription of Contentes")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui top attached orange label"},[i("h5",[e._v("4. 交貨快件資料 Shipment Details")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui top attached label"},[i("h5",[e._v("5. 付款方式 Payment of Changes")])])}],de=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{padding:"4px 0"}},[i("label",{staticStyle:{"font-weight":"bold"}},[e._v("\n        "+e._s(e.$t("models.attributes.core_waybills."+e.field_name))+"\n    ")]),e.$parent.is_can_update_field(e.field_name)?i("div",{staticClass:"ui mini fluid input"},["text"==e.input_type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.core_waybill[e.field_name],expression:"core_waybill[field_name]"}],attrs:{type:"text"},domProps:{value:e.core_waybill[e.field_name]},on:{input:function(t){t.target.composing||e.$set(e.core_waybill,e.field_name,t.target.value)}}}):e._e(),"number"==e.input_type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.core_waybill[e.field_name],expression:"core_waybill[field_name]"}],attrs:{type:"number"},domProps:{value:e.core_waybill[e.field_name]},on:{input:function(t){t.target.composing||e.$set(e.core_waybill,e.field_name,t.target.value)}}}):"email"==e.input_type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.core_waybill[e.field_name],expression:"core_waybill[field_name]"}],attrs:{type:"email"},domProps:{value:e.core_waybill[e.field_name]},on:{input:function(t){t.target.composing||e.$set(e.core_waybill,e.field_name,t.target.value)}}}):"tel"==e.input_type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.core_waybill[e.field_name],expression:"core_waybill[field_name]"}],attrs:{type:"tel"},domProps:{value:e.core_waybill[e.field_name]},on:{input:function(t){t.target.composing||e.$set(e.core_waybill,e.field_name,t.target.value)}}}):e._e()]):i("div",{staticClass:"ui message",staticStyle:{margin:"0",padding:"6px 12px"}},[e._v("\n        "+e._s(e.core_waybill[e.field_name]||("number"==e.input_type?0:e.$t("ui.general.no_data")))+"\n    ")])])},pe=[],me={props:{core_waybill:{default:{},type:Object},field_name:{default:"",type:String},input_type:{default:"text",type:String}},data:function(){return{is_grid_table_style:!1}},created:function(){},mounted:function(){},computed:{},methods:{},components:{}},fe=me,he=Object(v["a"])(fe,de,pe,!1,null,"9de3bf4e",null),ve=he.exports,ge={props:{eventbus:{default:{change_current_template:{name:""},file_uploader:{name:""},update_core_waybill:{name:""},print_label:{name:""}},type:Object},core_waybill:{default:{},type:Object},is_show_receipt_file:{default:!1,type:Boolean},is_can_update:{default:!1,type:Boolean},can_update_field_names:{default:function(){return[]},type:Array},cant_update_field_names:{default:function(){return[]},type:Array},focus_field_field_name:{default:"",type:String}},data:function(){return{is_grid_table_style:!1}},created:function(){},mounted:function(){this.is_grid_table_style=!0},computed:{core_waybill_payment_types:function(){return this.$store.state.provider.tool_core_waybill_module.core_waybill_payment_types}},methods:{process_intermodal:function(){var e=this,t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_core_waybill_process_intermodal),i=t.parse({core_waybill_identity:this.core_waybill.identity});return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.$noty.success("聯運成功")})["catch"](function(t){e.$noty.error("聯運失敗")})},is_can_update_field:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.$parent.is_can_update_field(e)},is_lock_field:function(e){if(!this.is_can_update)return!0;if(this.is_can_update&&!this.can_update_field_names.length&&!this.cant_update_field_names.length)return!1;if(this.can_update_field_names.length){var t=_.findIndex(this.can_update_field_names,function(t){return t==e});return"-1"!=t}if(this.cant_update_field_names.length){t=_.findIndex(this.cant_update_field_names,function(t){return t==e});return"-1"==t}return!0}},components:{SimpleFormItem:ve,FormFileUploader:ae}},be=ge,ye=(n("792f"),Object(v["a"])(be,le,ue,!1,null,"42e9e658",null)),we=ye.exports;function $e(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function ke(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){$e(a,n,s,r,o,"next",e)}function o(e){$e(a,n,s,r,o,"throw",e)}r(void 0)})}}var xe=n("db05"),Ce={components:{Statuses:P,SimpleForm:we,Partition:z,DetailedForm:_e,WaybillLabel:L,BloodRelated:Y,FileUploader:te["a"]},props:{core_waybill:{default:{},type:Object},statuses:{default:function(){return[]},type:Array},scope:{default:"provider",type:String},eventbus:{default:{change_current_template:{name:""},file_uploader:{name:""},update_core_waybill:{name:""},delete_core_waybill:{name:""},print_label:{name:""}},type:Object},is_have_source_core_waybill:{default:!1,type:Boolean},is_enable_auto_print_label:{default:!1,type:Boolean},is_auto_print:{default:!1,type:Boolean},is_show_change_template_btns:{default:!1,type:Boolean},is_can_print_label:{default:!1,type:Boolean},is_can_update:{default:!1,type:Boolean},can_update_field_names:{default:function(){return[]},type:Array},cant_update_field_names:{default:function(){return[]},type:Array},focus_field_field_name:{default:"",type:String},is_show_partition:{default:!1,type:Boolean},is_show_statuses:{default:!1,type:Boolean},is_show_receipt_file:{default:!1,type:Boolean},is_show_blood_related:{default:!1,type:Boolean},active_button_color:{default:"blue",type:String},active_button_content:{default:"更新",type:String},active_button_channel:{default:"",type:String},active_button_to_detail_route_name:{default:"",type:String}},data:function(){return{is_initialized:!1,is_form_easy_type:!0,is_show_dimmer:!1,dimmer_message:""}},computed:{style:function(){return this.$store.state.style}},mounted:function(){this.init()},methods:{init:function(){var e=ke(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.dimmer_message="",!this.core_waybill){e.next=8;break}return e.next=4,this.form_type();case 4:return e.next=6,this.set_is_show_dimmer();case 6:return e.next=8,new Promise(function(e){t.is_initialized=!0});case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),set_is_show_dimmer:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.is_show_dimmer=e,1==e?"":(this.eventbus.delete_core_waybill.is_down?(this.is_show_dimmer=!0,this.dimmer_message=this.$t("ui.toolbox.core_waybill.helps.is_deleted")):this.is_have_source_core_waybill&&(this.is_show_dimmer=!0,this.dimmer_message=this.$t("ui.toolbox.core_waybill.helps.tooltip_have_source_core_waybill",{number:this.core_waybill.source_core_waybill.number})),"")},active_core_waybill:function(){this.active_button_channel?this.$bus.$emit(this.active_button_channel):this.$bus.$emit(this.eventbus.update_core_waybill.name)},delete_core_waybill:function(){if(this.core_waybill.number){var e=this.core_waybill.material?"["+this.core_waybill.material.name+"]":"";confirm(this.$t("ui.notifications.warning.are_you_sure_to_delete_it")+"\n"+this.core_waybill.number+e)&&this.$bus.$emit(this.eventbus.delete_core_waybill.name)}},form_type:function(){var e=this;this.is_form_easy_type||this.form_transition(),this.style.width<1200&&(this.is_grid_table_style=!0),$(window).resize(function(){0==e.is_grid_table_style&&e.style.width<1200?e.is_grid_table_style=!0:1==e.is_grid_table_style&&e.style.width>=1200&&(e.is_grid_table_style=!1)})},toggle_form_type:function(){this.is_form_easy_type=!this.is_form_easy_type,this.form_transition()},form_transition:function(){$(".ui.transition.entity_form").transition("fade right"),$(".ui.transition.detailed_form").transition("fade left")},close_core_waybill_modal:function(){},show_core_wabill:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{if(!e)throw"請輸入號碼";this.$router.push({name:this.active_button_to_detail_route_name,params:{identity:e||this.core_waybill.identity}})}catch(t){this.$noty.error(t)}},is_can_update_field:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return xe(e,this.is_can_update,this.can_update_field_names,this.cant_update_field_names)}}},Pe=Ce,Se=(n("6da7"),Object(v["a"])(Pe,r,o,!1,null,"052629d4",null)),Ne=Se.exports,qe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui segments core_waybill",class:{half:e.is_half_style}},[e.is_vertical||"waybill"==e.eventbus.change_current_template.value?e._e():i("HorizontalTop",{attrs:{core_waybill:e.core_waybill,eventbus:e.eventbus,statuses:e.statuses,is_show_note:e.is_show_note,active_button_to_detail_route_name:e.active_button_to_detail_route_name}}),e.is_vertical||"min_card"==e.eventbus.change_current_template.value||"waybill"==e.eventbus.change_current_template.value?e._e():i("HorizontalMain",{attrs:{core_waybill:e.core_waybill,is_can_update:e.is_can_update}}),e.is_vertical&&"waybill"!=e.eventbus.change_current_template.value?i("VerticalTop",{attrs:{core_waybill:e.core_waybill,eventbus:e.eventbus,statuses:e.statuses,is_show_note:e.is_show_note,active_button_to_detail_route_name:e.active_button_to_detail_route_name}}):e._e(),e.is_vertical&&"min_card"!=e.eventbus.change_current_template.value&&"waybill"!=e.eventbus.change_current_template.value?i("VerticalMain",{attrs:{is_in_scanner_modal:e.is_in_scanner_modal,core_waybill:e.core_waybill}}):e._e(),"waybill"==e.eventbus.change_current_template.value?i("WaybillLabel",{attrs:{core_waybill:e.core_waybill,eventbus:e.eventbus,is_auto_print:e.is_auto_print,is_enable_auto_print_label:e.is_enable_auto_print_label}}):e._e(),!e.is_processing&&e.is_show_buttons?i("Buttons",{attrs:{core_waybill:e.core_waybill,eventbus:e.eventbus,active_button_color:e.active_button_color,active_button_content:e.active_button_content,active_button_channel:e.active_button_channel,is_enable_auto_print_label:e.is_enable_auto_print_label,is_show_change_template_btns:e.is_show_change_template_btns,is_can_print_label:e.is_can_print_label,is_can_update:e.is_can_update}}):e._e(),e.is_can_print_label&&"waybill"!=e.eventbus.change_current_template.value?i("WaybillLabel",{attrs:{core_waybill:e.core_waybill,eventbus:e.eventbus,is_auto_print:e.is_auto_print,is_enable_auto_print_label:e.is_enable_auto_print_label}}):e._e()],1)},Ae=[],Ee=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui segment center aligned"},[e.eventbus.print_label.is_processing?i("div",[e._m(0)]):i("div",[e.eventbus.print_label.error?i("p",{staticStyle:{color:"red"}},[e._v("\n            "+e._s(e.eventbus.print_label.error)+"\n        ")]):i("div",{staticStyle:{position:"relative"}},[e.eventbus.print_label.src?i("img",{staticClass:"label_img",attrs:{"dataset-number":e.core_waybill.number,src:e.eventbus.print_label.src}}):i("div",{staticClass:"ui button no orange border",on:{click:function(t){e.$bus.$emit(e.eventbus.print_label.refetch_name)}}},[i("i",{staticClass:"frown icon"}),e._v("\n                標籤載入錯誤，點選我重新載入\n            ")]),e.eventbus.print_label.src?i("div",{staticClass:"ui tiny icon button",staticStyle:{position:"absolute",right:"0",bottom:"0",margin:"0"},on:{click:function(t){e.$bus.$emit(e.eventbus.print_label.refetch_name)}}},[i("i",{staticClass:"refresh icon"})]):e._e()])])])},ze=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui active inverted dimmer",staticStyle:{height:"100px"}},[i("div",{staticClass:"ui text loader"},[e._v("運單標籤 載入中")])])}];function je(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function Re(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){je(a,n,s,r,o,"next",e)}function o(e){je(a,n,s,r,o,"throw",e)}r(void 0)})}}var Oe={props:{core_waybill:{default:{},type:Object},eventbus:{default:{change_current_template:{name:""},file_uploader:{name:""},update_core_waybill:{name:""},print_label:{name:""}},type:Object},is_auto_print:{default:!1,type:Boolean},is_enable_auto_print_label:{default:!1,type:Boolean}},data:function(){return{}},created:function(){},mounted:function(){this.init()},computed:{},watch:{"eventbus.print_label.name":{deep:!0,handler:function(e){this.init()}}},methods:{init:function(){var e=Re(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.is_processing=!0,e.next=3,new Promise(function(e){e()});case 3:return e.next=5,new Promise(function(e){t.is_processing=!1,e()});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{}},Ie=Oe,De=(n("5e57"),Object(v["a"])(Ie,Ee,ze,!1,null,"53afb8a6",null)),Le=De.exports,Te=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui fluid buttons",attrs:{id:"tool_core_waybill_card_buttons"}},[e.is_can_print_label?i("BtnPrint",{attrs:{is_enable_auto_print_label:e.is_enable_auto_print_label,core_waybill:e.core_waybill,eventbus:e.eventbus}}):e._e(),e.is_can_update?i("BtnAction",{attrs:{core_waybill:e.core_waybill,eventbus:e.eventbus,active_button_color:e.active_button_color,active_button_content:e.active_button_content,active_button_channel:e.active_button_channel}}):e._e(),e.is_can_update?e._e():i("BtnMain",{attrs:{core_waybill:e.core_waybill,eventbus:e.eventbus,active_button_to_detail_route_name:e.active_button_to_detail_route_name,is_show_change_template_btns:e.is_show_change_template_btns}})],1)},Be=[],Me=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui button no border",class:[{loading:e.is_processing},e.active_button_color||"blue"],on:{click:function(t){e.action_core_waybill()}}},[e._v("\n    "+e._s(e.active_button_content||e.$t("ui.general.update"))+"\n")])},Ue=[],Fe={props:{core_waybill:{default:{},type:Object},eventbus:{default:{change_current_template:{name:""},file_uploader:{name:""},update_core_waybill:{name:""},print_label:{name:""}},type:Object},active_button_color:{default:"blue",type:String},active_button_content:{default:"更新",type:String},active_button_channel:{default:"",type:String}},data:function(){return{is_processing:!1,is_update_enable:!0}},computed:{},watch:{},mounted:function(){},methods:{action_core_waybill:function(){this.is_update_enable=!0,""!=this.active_button_channel?this.$bus.$emit(this.active_button_channel):this.$bus.$emit(this.eventbus.update_core_waybill.name)},chech_related_columns:function(){var e=this;_.forEach(this.related_columns,function(t){1==t.is_required&&(e.core_waybill[t.name]||(e.is_update_enable=!1))})},update_core_waybill:function(){var e=this;this.is_processing=!0;var t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_core_waybill_update).parse({core_waybill_identity:this.core_waybill.identity});axios.post(t,this.core_waybill,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?e.$noty.success(e.$t("ui.notifications.success.update__name",{name:e.$t("models.core_waybills")})):(console.log(t.data),e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.core_waybills")}))),e.is_processing=!1})["catch"](function(t){console.log(t),t.response?e.$noty.error(e.$t("ui.general.network_abnormality")+": "+t.response.status+t.response.data):e.$noty.error(e.$t("ui.general.network_abnormality")+": "+e.$t("ui.general.server_offline"))}),this.is_processing=!1}}},Ye=Fe,Ge=Object(v["a"])(Ye,Me,Ue,!1,null,"37d0bde8",null),He=Ge.exports,Ke=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui button no border",class:{loading:e.eventbus.print_label.is_processing},staticStyle:{"border-right":"1px #252525 solid"},style:{color:e.eventbus.print_label.error?"red":""},on:{click:function(t){e.$bus.$emit(e.eventbus.print_label.name)}}},[e.eventbus.print_label.error?i("span",[i("i",{staticClass:"warning sign icon"}),e._v("\n        "+e._s(e.eventbus.print_label.error)+"\n    ")]):e._e(),i("span",[e._v("\n        "+e._s(e.$t("ui.toolbox.core_waybill.btns."+(e.eventbus.print_label.is_force?"print_again":"print")))+"\n    ")])])},We=[];function Ve(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function Xe(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){Ve(a,n,s,r,o,"next",e)}function o(e){Ve(a,n,s,r,o,"throw",e)}r(void 0)})}}var Qe={props:{core_waybill:{default:{},type:Object},eventbus:{default:{change_current_template:{name:""},file_uploader:{name:""},update_core_waybill:{name:""},print_label:{name:""}},type:Object}},data:function(){return{is_processing:!0}},computed:{},watch:{},mounted:function(){this.init()},methods:{init:function(){var e=Xe(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_processing=!1});case 2:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()}},Ze=Qe,Je=Object(v["a"])(Ze,Ke,We,!1,null,"116696e6",null),et=Je.exports,tt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.active_button_to_detail_route_name?i("div",{staticClass:"ui button no border",on:{click:function(t){e.show_core_wabill()}}},[e._v("\n    "+e._s(e.next_button_content())+"\n")]):i("div",{staticClass:"ui fluid buttons no border"},["card"==e.eventbus.change_current_template.value&&e.is_show_change_template_btns&&!e.active_button_to_detail_route_name?i("div",{staticClass:"ui labeled icon button no border ",on:{click:function(t){e.$bus.$emit(e.eventbus.change_current_template.name,"min_card")}}},[i("i",{staticClass:"left chevron icon"}),e._v("\n        "+e._s("card"==e.eventbus.change_current_template.value?"簡易模式":"")+"\n    ")]):e._e(),i("div",{staticClass:"ui right labeled icon button no border",style:{borderLeft:"card"==e.eventbus.change_current_template.value&&e.is_show_change_template_btns&&!e.active_button_to_detail_route_name?"1px #252525 solid":""},on:{click:function(t){e.show_core_wabill()}}},[e._v("\n        "+e._s(e.next_button_content())+"\n        "),e.is_show_change_template_btns?i("i",{staticClass:"right chevron icon"}):e._e()])])},it=[],nt={props:{core_waybill:{default:{},type:Object},eventbus:{default:{change_current_template:{name:""},file_uploader:{name:""},update_core_waybill:{name:""},print_label:{name:""}},type:Object},is_show_change_template_btns:{default:!1,type:Boolean},active_button_to_detail_route_name:{default:"",type:String}},data:function(){return{}},computed:{},watch:{},mounted:function(){},methods:{show_core_wabill:function(){try{if(!this.core_waybill.identity)throw"請輸入號碼";if(""==this.active_button_to_detail_route_name||"edit_core_waybill"==this.$route.name&&"customer_show_core_waybill"==this.$route.name){var e="min_card"==this.eventbus.change_current_template.value?"card":"detail";this.$bus.$emit(this.eventbus.change_current_template.name,e)}else this.$router.push({name:this.active_button_to_detail_route_name,params:{identity:this.core_waybill.identity}})}catch(t){this.$noty.error(t)}},next_button_content:function(){var e="min_card"==this.eventbus.change_current_template.value?"檢視寄收資料":"檢視完整資料";return e=this.active_button_to_detail_route_name?"檢視完整資料":e,e=this.core_waybill.source_core_waybill?"有上層運單 無法編輯":e,e}}},st=nt,at=(n("5125"),Object(v["a"])(st,tt,it,!1,null,"19e0a12c",null)),rt=at.exports,ot={components:{BtnAction:He,BtnPrint:et,BtnMain:rt},props:{core_waybill:{default:{},type:Object},eventbus:{default:{change_current_template:{name:""},file_uploader:{name:""},update_core_waybill:{name:""},print_label:{name:""}},type:Object},is_enable_auto_print_label:{default:!1,type:Boolean},is_show_change_template_btns:{default:!1,type:Boolean},is_can_print_label:{default:!1,type:Boolean},is_can_update:{default:!1,type:Boolean},active_button_color:{default:"blue",type:String},active_button_content:{default:"更新",type:String},active_button_channel:{default:"",type:String},active_button_to_detail_route_name:{default:"",type:String}},data:function(){return{is_processing:!1}},computed:{},watch:{},mounted:function(){},methods:{}},ct=ot,_t=(n("021a"),Object(v["a"])(ct,Te,Be,!1,null,"3f538b78",null)),lt=_t.exports,ut=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui segment"},[i("div",{staticClass:"left floated"},[i("h2",{staticStyle:{display:"inline-block","margin-bottom":"0"}},[i("span",{staticClass:"title_number",staticStyle:{position:"relative"}},[i("span",{staticClass:"pointer",style:{fontSize:e.style.width<360?"20px":""},on:{click:function(t){e.show_core_wabill()}}},[e._v("\n                    "+e._s(e.core_waybill.number)+"\n                ")]),e.core_waybill.identity?i("span",{staticClass:"copy_span"},[i("span",{staticClass:"pointer",on:{click:function(t){e.$bus.$emit(e.eventbus.copy_field.name,"number")}}},[i("i",{staticClass:"circular inverted tiny copy icon z-depth-2"})])]):e._e()]),e.core_waybill.material?i("span",{staticStyle:{"font-size":"small"}},[i("span",{staticClass:"title_number",staticStyle:{position:"relative"}},[e._v("\n                    ["+e._s(e.core_waybill.material.name)+"]\n\n                    "),e.core_waybill.source_core_waybill?i("span",{staticClass:"have_source_core_waybill_warning pointer"},[i("span",{attrs:{"data-tooltip":e.$t("ui.toolbox.core_waybill.helps.tooltip_have_source_core_waybill",{number:e.core_waybill.source_core_waybill.number})},on:{click:function(t){e.show_core_wabill(e.core_waybill.source_core_waybill.identity)}}},[i("i",{staticClass:"red warning sign large icon"})])]):e._e()])]):e._e()]),i("div",{staticClass:"sub_content"},[e.core_waybill.operation?i("span",{staticClass:"operation_number"},[e._v("\n                "+e._s(e.$t("models.operations"))+"："+e._s(e.core_waybill.operation.number)+"\n            ")]):e._e(),i("span",{staticClass:"timestamp_content",class:[e.timestamp_content_color]},[e._v("\n                "+e._s(e.relative_time_text)+"\n            ")])])]),e.eventbus.file_uploader.name&&e.$parent.is_can_update_field("receipt_file_url")?i("div",{staticClass:"right floated",staticStyle:{"margin-right":"8rem"}},[i("FileUploader",{attrs:{channel:e.eventbus.file_uploader.name}})],1):e._e(),e.is_initialized?i("StatusesLabel",{attrs:{core_waybill:e.core_waybill,statuses:e.statuses}}):e._e(),i("div",{staticClass:"clear"})],1)},dt=[],pt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.$parent.is_can_update_field(e.field_name)?i("div",{staticClass:"ui small labeled input",class:{fluid:e.is_fluid}},[i("label",{staticClass:"ui label"},[e._v(e._s(e.$t("models.attributes.core_waybills."+e.field_name)))]),"text"==e.input_type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.core_waybill[e.field_name],expression:"core_waybill[field_name]"}],attrs:{type:"text"},domProps:{value:e.core_waybill[e.field_name]},on:{input:function(t){t.target.composing||e.$set(e.core_waybill,e.field_name,t.target.value)}}}):e._e(),"number"==e.input_type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.core_waybill[e.field_name],expression:"core_waybill[field_name]"}],attrs:{type:"number"},domProps:{value:e.core_waybill[e.field_name]},on:{input:function(t){t.target.composing||e.$set(e.core_waybill,e.field_name,t.target.value)}}}):"email"==e.input_type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.core_waybill[e.field_name],expression:"core_waybill[field_name]"}],attrs:{type:"email"},domProps:{value:e.core_waybill[e.field_name]},on:{input:function(t){t.target.composing||e.$set(e.core_waybill,e.field_name,t.target.value)}}}):"tel"==e.input_type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.core_waybill[e.field_name],expression:"core_waybill[field_name]"}],attrs:{type:"tel"},domProps:{value:e.core_waybill[e.field_name]},on:{input:function(t){t.target.composing||e.$set(e.core_waybill,e.field_name,t.target.value)}}}):e._e()]):i("div",{staticClass:"ui basic segment",class:{hide_content:!e.is_dont_hide_content,hidden_border:e.is_hidden_segment_border}},[e._v("\n        "+e._s(e.$t("models.attributes.core_waybills."+e.field_name)+"：")+"\n        "),e.core_waybill[e.field_name]?i("span",[e._v("\n            "+e._s(e.core_waybill[e.field_name])+"\n        ")]):i("span",[e._v("\n            "+e._s("number"==e.input_type?0:e.$t("ui.general.no_data"))+"\n        ")])])])},mt=[],ft={props:{core_waybill:{default:{},type:Object},field_name:{default:"",type:String},input_type:{default:"text",type:String},is_dont_hide_content:{default:!1,type:Boolean},is_fluid:{default:!1,type:Boolean},is_hidden_segment_border:{default:!1,type:Boolean}},data:function(){return{}},created:function(){},mounted:function(){},computed:{},methods:{},components:{}},ht=ft,vt=(n("00ee"),Object(v["a"])(ht,pt,mt,!1,null,"f40591f2",null)),gt=vt.exports,bt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui top right attached large label",staticStyle:{background:"rgba(0,0,0,0)","border-radius":"0px","text-align":"center"},style:{borderColor:e.statuses_border_color,padding:e.style.width<350?".7em .7em":"",paddingBottom:e.padding_bottom}},[e.is_initialized&&e.current_last_statuses?i("span",{style:{fontSize:e.style.width<350&&e.current_last_statuses.name.length>5?"12px":""},attrs:{"data-tooltip":e.current_last_statuses.description}},[e._v("\n        "+e._s(e.current_last_statuses.name)+"\n        "),e.core_waybill.storage_number?i("p",{staticStyle:{"font-size":"0.8em",color:"gray"}},[e._v("@"+e._s(e.core_waybill.storage_number))]):e._e()]):i("span",{style:{fontSize:e.style.width<350?"13px":""}},[e._v("\n        "+e._s(e.$t("ui.pages.core_waybills.status.no_latest_status"))+"\n        "),e.core_waybill.storage_number?i("p",{staticStyle:{"font-size":"0.8em",color:"gray"}},[e._v("@"+e._s(e.core_waybill.storage_number))]):e._e()])])},yt=[];function wt(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function $t(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){wt(a,n,s,r,o,"next",e)}function o(e){wt(a,n,s,r,o,"throw",e)}r(void 0)})}}var kt={components:{},props:{core_waybill:{default:{},type:Object},statuses:{default:function(){return[]},type:Array}},data:function(){return{is_initialized:!1,current_last_statuses:{},statuses_border_color:"",statuses_colors:n("8039")}},computed:{style:function(){return this.$store.state.style},padding_bottom:function(){return this.core_waybill.storage_number?"0":".75em"}},watch:{"core_waybill.latest_status":function(){this.init()},statuses:function(){this.init()}},mounted:function(){this.init()},methods:{init:function(){var e=$t(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.set_current_last_statuses();case 2:return e.next=4,this.set_color();case 4:return e.next=6,new Promise(function(e){t.is_initialized=!0});case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),set_current_last_statuses:function(){var e=_.findLast(this.statuses,function(e){return"operator"==e.scope});return this.current_last_statuses=e||this.core_waybill.latest_status,Promise.resolve()},set_color:function(){var t=this;try{if(!this.current_last_statuses)throw"dont current_last_statuses";var i=_.findLast(this.statuses_colors,function(e){return e.name==t.current_last_statuses.name});if(!i)throw"dont find";this.statuses_border_color=i.color}catch(e){this.statuses_border_color="#666"}return Promise.resolve()}}},xt=kt,Ct=(n("1c42"),Object(v["a"])(xt,bt,yt,!1,null,"16e22dae",null)),Pt=Ct.exports;function St(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function Nt(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){St(a,n,s,r,o,"next",e)}function o(e){St(a,n,s,r,o,"throw",e)}r(void 0)})}}var qt={components:{FileUploader:te["a"],StatusesLabel:Pt,LabelInputItem:gt},props:{core_waybill:{default:{},type:Object},statuses:{default:function(){return[]},type:Array},eventbus:{default:{change_current_template:{name:""},file_uploader:{name:""},update_core_waybill:{name:""},print_label:{name:""}},type:Object},is_show_note:{default:!1,type:Boolean},active_button_to_detail_route_name:{default:"",type:String}},data:function(){return{is_initialized:!1,operator_last_statuses:{},relative_time_text:"幾秒前",timestamp_content_color:""}},computed:{style:function(){return this.$store.state.style}},watch:{"core_waybill.number":{deep:!0,handler:function(e){this.init()}}},mounted:function(){this.init()},methods:{init:function(){var e=Nt(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.relative_time_text=t.human_datetime(t.core_waybill.created_at,null,"relative"),t.$moment().diff(t.core_waybill.created_at,"hours")<1?t.timestamp_content_color="red":t.$moment().diff(t.core_waybill.created_at,"hours")<24&&(t.timestamp_content_color="orange"),e()});case 2:return e.next=4,new Promise(function(e){t.is_initialized=!0,e()});case 4:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),show_core_wabill:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{if(!this.core_waybill.identity)throw"請輸入號碼";if(""==this.active_button_to_detail_route_name||"edit_core_waybill"==this.$route.name&&"customer_show_core_waybill"==this.$route.name){var t="min_card"==this.eventbus.change_current_template.value?"card":"detail";this.$bus.$emit(this.eventbus.change_current_template.name,t)}else this.$router.push({name:this.active_button_to_detail_route_name,params:{identity:e||this.core_waybill.identity}})}catch(i){this.$noty.error(i)}},is_can_update_field:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.$parent.is_can_update_field(e)}}},At=qt,Et=(n("dff9"),Object(v["a"])(At,ut,dt,!1,null,"59689c1a",null)),zt=Et.exports,jt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui segments in_segment"},e._l(e.field_names,function(t,n){return i("LabelInputItem",{key:t+"card_vertical_main",staticClass:"ui segment",class:{blue:"consignee_company_name"==t,green:"sender_company_name"==t,"no top border":0==n},style:{padding:e.is_can_update_field(t)?"":"0"},attrs:{core_waybill:e.core_waybill,field_name:t,is_fluid:!0,is_hidden_segment_border:!0,is_dont_hide_content:e.is_in_scanner_modal}})}))},Rt=[],Ot={components:{LabelInputItem:gt},props:{core_waybill:{default:{},type:Object},is_in_scanner_modal:{default:!1,type:Boolean}},data:function(){return{field_names:["original_number","tracking_number","note","sender_company_name","sender_name","sender_phone","consignee_company_name","consignee_name","consignee_phone","consignee_address"]}},computed:{},watch:{focus_field:function(e){this.$refs[e].focus()}},mounted:function(){},methods:{is_can_update_field:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.$parent.is_can_update_field(e)}}},It=Ot,Dt=(n("1369"),Object(v["a"])(It,jt,Rt,!1,null,"4f1277bd",null)),Lt=Dt.exports,Tt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui segment"},[i("div",{staticClass:"left floated"},[i("h2",{staticStyle:{display:"inline-block","margin-bottom":"0"}},[i("span",{staticClass:"title_number",staticStyle:{position:"relative"}},[i("span",{staticClass:"pointer",style:{fontSize:e.style.width<360?"20px":""},on:{click:function(t){e.show_core_wabill()}}},[e._v("\n                    "+e._s(e.core_waybill.number)+"\n                ")]),e.core_waybill.identity?i("span",{staticClass:"copy_span"},[i("span",{staticClass:"pointer",on:{click:function(t){e.$bus.$emit(e.eventbus.copy_field.name,"number")}}},[i("i",{staticClass:"circular inverted tiny copy icon z-depth-2"})])]):e._e()]),e.core_waybill.material?i("span",{staticStyle:{"font-size":"small"}},[i("span",{staticClass:"title_number",staticStyle:{position:"relative"}},[e._v("\n                    ["+e._s(e.core_waybill.material.name)+"]\n\n                    "),e.core_waybill.source_core_waybill?i("span",{staticClass:"have_source_core_waybill_warning pointer"},[i("span",{attrs:{"data-tooltip":e.$t("ui.toolbox.core_waybill.helps.tooltip_have_source_core_waybill",{number:e.core_waybill.source_core_waybill.number})},on:{click:function(t){e.show_core_wabill(e.core_waybill.source_core_waybill.identity)}}},[i("i",{staticClass:"red warning sign large icon"})])]):e._e()]),e.$parent.is_can_update_field("original_number")?e._e():i("LabelInputItem",{staticStyle:{"margin-left":"30px"},style:{display:e.style.width<600?"none":"inline-block"},attrs:{is_hidden_segment_border:!0,core_waybill:e.core_waybill,field_name:"original_number"}})],1):e._e()]),i("div",{staticClass:"sub_content"},[e.core_waybill.operation?i("span",{staticClass:"operation_number"},[e._v("\n                訂單："+e._s(e.core_waybill.operation.number)+"\n            ")]):e._e(),i("span",{staticClass:"timestamp_content",class:[e.timestamp_content_color]},[e._v("\n                "+e._s(e.relative_time_text)+"\n            ")])]),e.$parent.is_can_update_field("original_number")?e._e():i("LabelInputItem",{staticClass:"newline_original_number",style:{display:e.style.width<600?"":"none"},attrs:{core_waybill:e.core_waybill,field_name:"original_number",is_hidden_segment_border:!0}}),e.$parent.is_can_update_field("original_number")?i("LabelInputItem",{staticClass:"ui small input",attrs:{core_waybill:e.core_waybill,field_name:"original_number"}}):e._e()],1),e.eventbus.file_uploader.name&&e.$parent.is_can_update_field("receipt_file_url")?i("div",{staticClass:"right floated",staticStyle:{"margin-right":"8rem"}},[i("FileUploader",{attrs:{channel:e.eventbus.file_uploader.name}})],1):e._e(),e.is_initialized?i("StatusesLabel",{attrs:{core_waybill:e.core_waybill,statuses:e.statuses}}):e._e(),i("div",{staticClass:"clear"}),e.is_show_note?i("LabelInputItem",{style:{margin:e.is_can_update_field("note")?"":"-5px 0"},attrs:{is_fluid:!0,is_hidden_segment_border:!0,core_waybill:e.core_waybill,field_name:"note"}}):e._e()],1)},Bt=[];function Mt(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function Ut(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){Mt(a,n,s,r,o,"next",e)}function o(e){Mt(a,n,s,r,o,"throw",e)}r(void 0)})}}var Ft={components:{FileUploader:te["a"],LabelInputItem:gt,StatusesLabel:Pt},props:{core_waybill:{default:{},type:Object},statuses:{default:function(){return[]},type:Array},eventbus:{default:{change_current_template:{name:""},file_uploader:{name:""},update_core_waybill:{name:""},print_label:{name:""}},type:Object},is_show_note:{default:!1,type:Boolean},active_button_to_detail_route_name:{default:"",type:String}},data:function(){return{is_initialized:!1,relative_time_text:"幾秒前",timestamp_content_color:"",operator_last_statuses:{}}},computed:{style:function(){return this.$store.state.style}},watch:{"core_waybill.number":{deep:!0,handler:function(e){this.init()}},focus_field:function(e){this.$refs[e].focus()}},mounted:function(){this.init()},methods:{init:function(){var e=Ut(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.relative_time_text=t.human_datetime(t.core_waybill.created_at,null,"relative"),t.$moment().diff(t.core_waybill.created_at,"hours")<1?t.timestamp_content_color="red":t.$moment().diff(t.core_waybill.created_at,"hours")<24&&(t.timestamp_content_color="orange"),e()});case 2:return e.next=4,new Promise(function(e){t.is_initialized=!0,e()});case 4:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),show_core_wabill:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{if(!this.core_waybill.identity)throw"請輸入號碼";if(""==this.active_button_to_detail_route_name||"edit_core_waybill"==this.$route.name&&"customer_show_core_waybill"==this.$route.name){var t="min_card"==this.eventbus.change_current_template.value?"card":"detail";this.$bus.$emit(this.eventbus.change_current_template.name,t)}else this.$router.push({name:this.active_button_to_detail_route_name,params:{identity:e||this.core_waybill.identity}})}catch(i){this.$noty.error(i)}},is_can_update_field:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.$parent.is_can_update_field(e)}}},Yt=Ft,Gt=(n("58a6"),Object(v["a"])(Yt,Tt,Bt,!1,null,"3d04e97e",null)),Ht=Gt.exports,Kt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui steps"},[i("div",{staticClass:"step"},[e.is_can_update?i("div",{staticClass:"content"},[e._l(["sender_company_name","sender_name","sender_phone"],function(t,n){return i("LabelInputItem",{key:t+"card_horizontal_main",staticStyle:{"padding-bottom":"6px"},attrs:{core_waybill:e.core_waybill,field_name:t}})}),e._l(["sender_address"],function(t,n){return i("LabelInputItem",{key:t+"card_horizontal_main",staticStyle:{"padding-bottom":"6px"},attrs:{is_fluid:!0,core_waybill:e.core_waybill,field_name:t}})})],2):i("div",{staticClass:"content"},[i("div",{staticClass:"title"},[e._v(e._s(e.core_waybill.sender_company_name||"-"))]),i("div",{staticClass:"title"},[e._v(e._s(e.core_waybill.sender_name||"-"))]),i("p",[e._v("\n                "+e._s(e.core_waybill.sender_phone||e.$t("ui.general.no_data"))+"\n            ")])])]),i("div",{staticClass:"active step right aligned"},[e.is_can_update?i("div",{staticClass:"content"},[e._l(["consignee_company_name","consignee_name","consignee_phone"],function(t,n){return i("LabelInputItem",{key:t+"card_horizontal_main",staticStyle:{"padding-bottom":"6px"},attrs:{core_waybill:e.core_waybill,field_name:t}})}),e._l(["consignee_address"],function(t,n){return i("LabelInputItem",{key:t+"card_horizontal_main",staticStyle:{"padding-bottom":"6px"},attrs:{is_fluid:!0,core_waybill:e.core_waybill,field_name:t}})})],2):i("div",{staticClass:"content"},[i("div",{staticClass:"title"},[e._v(e._s(e.core_waybill.consignee_company_name||"-"))]),i("div",{staticClass:"title"},[e._v(e._s(e.core_waybill.consignee_name||"-"))]),i("p",[e._v("\n                "+e._s(e.core_waybill.consignee_phone||e.$t("ui.general.no_data"))+"\n            ")]),i("p",[e._v("\n                "+e._s(e.core_waybill.consignee_address||e.$t("ui.general.no_data"))+"\n            ")])])])])},Wt=[],Vt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui red basic label",class:[e.pointing?e.pointing+" pointing":"",e.is_required?"":" orange"]},[e._v("\n    "+e._s(e.is_required?"必填":"有則填寫")+"\n")])},Xt=[],Qt={props:{pointing:{default:"left",type:String},is_required:{default:!0,type:Boolean}},data:function(){return{}},computed:{},watch:{},mounted:function(){},methods:{}},Zt=Qt,Jt=Object(v["a"])(Zt,Vt,Xt,!1,null,"3604d6fb",null),ei=Jt.exports,ti={components:{RequiredLabel:ei,LabelInputItem:gt},props:{core_waybill:{default:{},type:Object},is_can_update:{default:!1,type:Boolean}},data:function(){return{}},computed:{},watch:{focus_field:function(e){this.$refs[e].focus()}},mounted:function(){},methods:{is_related_columns:function(e){var t=_.find(this.related_columns,{name:e});return!!t},is_related_columns_is_required:function(e){var t=_.find(this.related_columns,{name:e});return!!t&&t.is_required},is_can_update_field:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.$parent.is_can_update_field(e)}}},ii=ti,ni=(n("5595"),Object(v["a"])(ii,Kt,Wt,!1,null,"c9a6ec42",null)),si=ni.exports;function ai(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function ri(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){ai(a,n,s,r,o,"next",e)}function o(e){ai(a,n,s,r,o,"throw",e)}r(void 0)})}}var oi=n("db05"),ci={components:{WaybillLabel:Le,Buttons:lt,VerticalTop:zt,VerticalMain:Lt,HorizontalTop:Ht,HorizontalMain:si},props:{core_waybill:{default:{},type:Object},statuses:{default:function(){return[]},type:Array},scope:{default:"provider",type:String},eventbus:{default:{change_current_template:{name:""},file_uploader:{name:""},update_core_waybill:{name:""},print_label:{name:""}},type:Object},is_auto_print:{default:!1,type:Boolean},is_enable_auto_print_label:{default:!1,type:Boolean},is_show_change_template_btns:{default:!1,type:Boolean},is_can_print_label:{default:!1,type:Boolean},is_can_update:{default:!1,type:Boolean},is_in_scanner_modal:{default:!1,type:Boolean},can_update_field_names:{default:function(){return[]},type:Array},cant_update_field_names:{default:function(){return[]},type:Array},focus_field_field_name:{default:"",type:String},is_half_style:{default:!1,type:Boolean},is_vertical:{default:!1,type:Boolean},is_show_note:{default:!1,type:Boolean},active_button_color:{default:"blue",type:String},active_button_content:{default:"更新",type:String},active_button_channel:{default:"",type:String},active_button_to_detail_route_name:{default:"",type:String}},data:function(){return{is_show_buttons:!0,is_initialized:!1,is_processing:!0}},computed:{},watch:{core_waybill:function(){this.init()},is_can_print_label:function(){this.init()},active_button_content:function(){this.init()},active_button_channel:function(){this.init()},is_can_update:function(){this.init()}},mounted:function(){this.core_waybill.number&&this.init()},methods:{init:function(){var e=ri(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.set_is_show_buttons();case 2:return e.next=4,new Promise(function(e){t.is_initialized=!0,t.is_processing=!1});case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),set_is_show_buttons:function(){try{if(""!=this.active_button_channel)throw"有按鈕特定channel";if(this.is_can_update)throw"可更新";if(this.is_can_print_label)throw"可列印";this.is_show_buttons=!1}catch(e){this.is_show_buttons=!0}return Promise.resolve()},is_can_update_field:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return oi(e,this.is_can_update,this.can_update_field_names,this.cant_update_field_names)}}},_i=ci,li=(n("13d5"),Object(v["a"])(_i,qe,Ae,!1,null,"03171d8f",null)),ui=li.exports;function di(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function pi(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){di(a,n,s,r,o,"next",e)}function o(e){di(a,n,s,r,o,"throw",e)}r(void 0)})}}var mi={name:"ToolCoreWaybillMain",components:{Detail:Ne,Card:ui},props:{core_waybill:{default:{},type:Object},statuses:{default:function(){return[]},type:Array},template:{default:"card",type:String},scope:{default:"provider",type:String},card:{default:function(){return{}},type:Object},detail:{default:function(){return{}},type:Object},active_button:{default:function(){return{}},type:Object},is_half_style:{default:!0,type:Boolean},is_can_print_label:{default:!1,type:Boolean},is_auto_print:{default:!1,type:Boolean},is_force_print:{default:!1,type:Boolean},is_show_change_template_btns:{default:!0,type:Boolean},is_in_scanner_modal:{default:!1,type:Boolean},focus_field_field_name:{default:"",type:String},is_can_update:{default:!1,type:Boolean},can_update_field_names:{default:function(){return[]},type:Array},cant_update_field_names:{default:function(){return[]},type:Array}},data:function(){return{is_initialized:!1,is_have_source_core_waybill:!1,is_enable_auto_print_label:!0,scope_options:{},template_options:{card:{is_half_style:!1,is_vertical:!1,is_show_note:!0},detail:{is_show_partition:!1,is_show_statuses:!1,is_show_receipt_file:!1,is_show_blood_related:!1}},active_button_options:{color:"",content:this.$t("ui.general.update"),channel:"",to_detail_route_name:""},eventbus:{}}},computed:{},watch:{"core_waybill.number":{deep:!0,handler:function(e){this.init()}},card:{deep:!0,handler:function(e){this.init_template_options()}},detail:{deep:!0,handler:function(e){this.init_template_options()}},template:function(e){var t=$.extend(!0,[],[e]);this.eventbus.change_current_template.value=t[0]}},mounted:function(){this.init()},methods:{init:function(){var e=pi(regeneratorRuntime.mark(function e(){var t,i,n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.is_initialized=!1,t=this.is_in_scanner_modal?"_in_scanner_modal_":"_",i=this.core_waybill.number,e.next=5,this.init_eventbus();case 5:return e.next=7,this.init_template_options();case 7:return e.next=9,this.init_active_button_options();case 9:return e.next=11,this.set_scope_options();case 11:if(!this.core_waybill.identity){e.next=33;break}return t+=i,e.next=15,this.fetch_waybill_label();case 15:return e.next=17,this.check_auto_print();case 17:return e.next=19,this.set_is_have_source_core_waybill();case 19:return e.next=21,this.set_eventbus_copy_field(t);case 21:return e.next=23,this.set_eventbus_change_current_template(t);case 23:return e.next=25,this.set_eventbus_file_uploader(t);case 25:return e.next=27,this.set_eventbus_update_core_waybill(t);case 27:return e.next=29,this.set_eventbus_delete_core_waybill(t);case 29:return e.next=31,this.set_eventbus_print_label(t);case 31:return e.next=33,this.set_eventbus_print_label_refetch(t);case 33:return e.next=35,new Promise(function(e){n.is_initialized=!0});case 35:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),init_template_options:function(){var e=this;return _.forEach(this.template_options.card,function(t,i){e.template_options.card[i]=void 0!=e.card[i]?e.card[i]:t}),_.forEach(this.template_options.detail,function(t,i){e.template_options.detail[i]=void 0!=e.detail[i]?e.detail[i]:t}),Promise.resolve()},init_active_button_options:function(){var e=this;return _.forEach(this.active_button_options,function(t,i){e.active_button_options[i]=void 0!=e.active_button[i]?e.active_button[i]:t}),Promise.resolve()},set_is_have_source_core_waybill:function(){return this.core_waybill.source_core_waybill&&(this.is_have_source_core_waybill=!0),Promise.resolve()},set_scope_options:function(){switch(this.scope){case"provider":var e=this.$store.state.provider.routes;this.scope_options={current_user:this.$store.state.provider.current_staff,token:localStorage.getItem("authentication_token"),urls:{delete_core_waybill:e.api_v1_provider_core_waybill_delete,update_core_waybill:e.api_v1_provider_core_waybill_update,core_waybill_label:e.api_v1_provider_core_waybill_label,printable:e.api_v1_provider_core_waybill_printable}};break;case"customer":e=this.$store.state.customer.routes;this.scope_options={current_user:this.$store.state.customer.node,token:localStorage.getItem("customer_authentication_token"),urls:{update_core_waybill:"",core_waybill_label:e.api_v1_customer_core_waybill_label,printable:e.api_v1_customer_core_waybill_printable}};break;default:}return Promise.resolve()},init_eventbus:function(){var e=$.extend(!0,[],[this.template]);return this.eventbus={copy_field:{name:"copy_field"},change_current_template:{is_processing:!1,name:"change_current_template",value:e[0],message:"",status:""},file_uploader:{is_processing:!1,name:"file_uploader",message:"",status:""},update_core_waybill:{is_processing:!1,name:"update_core_waybill",message:"",status:""},delete_core_waybill:{is_down:!1,is_processing:!1,is_auto_back:!1,name:"delete_core_waybill",message:"",status:""},print_label:{is_force:!1,is_processing:!1,refetch_name:"refetch",name:"print_label",message:"",status:""}},Promise.resolve()},set_eventbus_copy_field:function(e){var t=this,i=this.eventbus.copy_field;return i.name+=e,this.$bus.$off(i.name),this.$bus.$on(i.name,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{if(!e)throw"no_field_name";var i=t.core_waybill[e],n=t.$t("models.attributes.core_waybills."+e);$(".copy_textarea").remove();var s=$("<textarea class='copy_textarea'>");s.text(i).appendTo("body").select();document.execCommand("copy");t.$noty.information(t.$t("ui.notifications.success.copy__name",{name:n+"("+i+")"})),s.remove()}catch(a){t.$noty.error(t.$t("ui.notifications.error.copy__name",{name:n+"("+i+")",reason:": "+a}))}}),Promise.resolve()},set_eventbus_change_current_template:function(e){var t=this,i=this.eventbus.change_current_template;return i.name+=e,this.$bus.$off(i.name),this.$bus.$on(i.name,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(i.is_processing=!0,null!=e)i.value=e,i.status="success",i.message="",t.is_enable_auto_print_label=!1;else{var n=t.$t("ui.toolbox.core_waybill.errors.change_template_error");i.status="failure",i.message=n,t.$noty.error(n)}i.is_processing=!1}),Promise.resolve()},set_eventbus_file_uploader:function(e){var t=this,i=this.eventbus.file_uploader;return i.name+=e,this.$bus.$off(i.name),this.$bus.$on(i.name,function(e,n,s){switch(i.is_processing=!0,n){case"uploaded_file":i.status="await",i.message=t.$t("ui.general.uploading");break;case"uploading":i.status="await",i.message=t.$t("ui.general.uploading");break;case"upload complete":t.update_core_waybill_receipt_file_url(s),i.status="success",i.message=t.$t("ui.notifications.success.update");break;case"upload failed":i.status="failure",i.message=t.$t("ui.notifications.error.update");break}i.is_processing=!1}),Promise.resolve()},set_eventbus_update_core_waybill:function(e){var t=this,i=this.eventbus.update_core_waybill;return i.name+=e,this.$bus.$off(i.name),this.$bus.$on(i.name,pi(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i.is_processing=!0,e.next=3,t.update_core_waybill();case 3:return e.next=5,new Promise(function(e){i.is_processing=!1});case 5:case"end":return e.stop()}},e)}))),Promise.resolve()},set_eventbus_delete_core_waybill:function(e){var t=this,i=this.eventbus.delete_core_waybill;return i.is_auto_back=!this.is_in_scanner_modal,i.name+=e,this.$bus.$off(i.name),this.$bus.$on(i.name,pi(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i.is_processing=!0,e.next=3,t.delete_core_waybill();case 3:return e.next=5,new Promise(function(e){i.is_processing=!1});case 5:case"end":return e.stop()}},e)}))),Promise.resolve()},set_eventbus_print_label:function(){var e=pi(regeneratorRuntime.mark(function e(t){var i,n,s=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i="tool_core_waybill_print_label_"+this.core_waybill.number,n=this.eventbus.print_label,n.name+=t,this.$bus.$off(i),this.$bus.$on(i,function(e){"success"==e.status?(n.status="success",n.message="",s.print_core_waybill_label()):(s.$noty.error(e.error),n.status="failure",n.message=e.error)}),this.$bus.$off(n.name),this.$bus.$on(n.name,pi(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,n.is_processing=!0,s.core_waybill.number){e.next=4;break}throw s.$t("ui.toolbox.core_waybill.errors.no_number");case 4:if(n.src){e.next=6;break}throw s.$t("ui.toolbox.core_waybill.errors.invalid_loading_image");case 6:if($("div#print *").remove(),!s.is_in_scanner_modal){e.next=12;break}return e.next=10,s.$bus.$emit("is_print_waybill",s.core_waybill.number,i);case 10:e.next=13;break;case 12:s.print_core_waybill_label();case 13:e.next=19;break;case 15:e.prev=15,e.t0=e["catch"](0),n.status="failure",n.message=e.t0;case 19:n.is_processing=!1;case 20:case"end":return e.stop()}},e,null,[[0,15]])}))),e.abrupt("return",Promise.resolve());case 8:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),set_eventbus_print_label_refetch:function(){var e=pi(regeneratorRuntime.mark(function e(t){var i,n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i=this.eventbus.print_label,i.refetch_name+=t,this.$bus.$off(i.refetch_name),this.$bus.$on(i.refetch_name,function(){n.fetch_waybill_label()}),e.abrupt("return",Promise.resolve());case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),fetch_waybill_label:function(){var e=this.eventbus.print_label,t=this.core_waybill.material?this.core_waybill.material.label_type:"";t=this.core_waybill.partition?this.core_waybill.partition.label_type:"",t=this.core_waybill.label_type?this.core_waybill.label_type:t;try{if(e.src="",e.is_processing=!0,""==t||null==t)throw this.$t("ui.toolbox.core_waybill.errors.waybill_no_label_class_cant_print");if(!this.is_can_print_label)throw this.$t("ui.toolbox.core_waybill.errors.props_is_can_print_label_unable");var i="?authorization="+this.scope_options.token+"&lastmod="+1e4*Math.random();"provider"==this.scope&&(i+="&staff_identity="+this.scope_options.current_user.identity),e.src=new RestUrl(this.scope_options.urls.core_waybill_label).parse({core_waybill_identity:this.core_waybill.identity},".svg"+i),e.is_processing=!1}catch(n){e.status="failure",e.message=n,e.is_processing=!1}return Promise.resolve()},check_auto_print:function(){return 1==this.is_auto_print&&this.is_enable_auto_print_label&&this.eventbus.print_label.src&&this.print_core_waybill_label(),Promise.resolve()},update_core_waybill:function(){var e=this,t=this.core_waybill,i=new RestUrl(this.scope_options.urls.update_core_waybill).parse({core_waybill_identity:this.core_waybill.identity});return axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$noty.success(e.$t("ui.notifications.success.update__name",{name:e.$t("models.core_waybills")})),e.fetch_waybill_label()):(console.log(t.data),e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.core_waybills")})))})["catch"](function(t){console.log(t),t.response?e.$noty.error(e.$t("ui.general.network_abnormality")+": "+t.response.status+t.response.data):e.$noty.error(e.$t("ui.general.network_abnormality")+": "+e.$t("ui.general.server_offline"))})},delete_core_waybill:function(){var e=this,t=(this.core_waybill,this.eventbus.delete_core_waybill),i=new RestUrl(this.scope_options.urls.delete_core_waybill).parse({core_waybill_identity:this.core_waybill.identity});return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(i){if(console.log(i.data),t.status=i.data.status,"success"==i.data.status){t.is_down=!0;var n=e.core_waybill.material?"["+e.core_waybill.material.name+"]":"",s=e.core_waybill.number;t.message=e.$t("ui.notifications.success.delete__name",{name:" "+s+n+" "}),e.$noty.success(t.message,5e3),t.is_auto_back&&e.$router.go(-1)}else t.message=e.$t("ui.notifications.error.delete__name",{name:e.$t("models.core_waybills")}),e.$noty.error(t.message)})["catch"](function(i){console.log(i),i.response?t.message=e.$t("ui.general.network_abnormality")+": "+i.response.status+i.response.data:t.message=e.$t("ui.general.network_abnormality")+": "+e.$t("ui.general.server_offline"),e.$noty.error(t.message)})},update_core_waybill_receipt_file_url:function(e){var t=this;this.core_waybill.receipt_file_url=e;e=new RestUrl(this.$store.state.provider.routes.api_v1_provider_core_waybill_update).parse({core_waybill_identity:this.core_waybill.identity});axios.post(e,this.core_waybill,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){"success"==e.data.status?t.$noty.success(t.$t("ui.notifications.success.update__name",{name:t.$t("models.core_waybills")})):(console.log(e.data),t.$noty.error(t.$t("ui.notifications.error.update__name",{name:t.$t("models.core_waybills")})))})["catch"](function(e){console.log(e),e.response?t.$noty.error(t.$t("ui.general.network_abnormality")+": "+e.response.status+e.response.data):t.$noty.error(t.$t("ui.general.network_abnormality")+": "+t.$t("ui.general.server_offline"))})},print_core_waybill_label:function(){var e=pi(regeneratorRuntime.mark(function e(){var t,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.printable();case 2:if(t=e.sent,!t){e.next=6;break}return e.next=6,new Promise(function(e){i.$bus.$emit("add_image_print_job",{note:i.core_waybill.number,images:[{name:i.eventbus.print_label.name,src:i.eventbus.print_label.src}],paper_type:"100x100",numbers_of_one_page:1})});case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),printable:function(){var e=this,t=new RestUrl(this.scope_options.urls.printable).parse({core_waybill_identity:this.core_waybill.identity});return(this.eventbus.print_label.is_force||this.is_force_print)&&(t+="?is_force=true"),axios.get(t,{headers:{Authorization:this.scope_options.token}}).then(function(t){return"success"==t.data.status?e.eventbus.print_label.is_force=!1:e.eventbus.print_label.is_force=!0,!e.eventbus.print_label.is_force})["catch"](function(t){return t.response?e.$noty.error(e.$t("ui.general.network_abnormality")+": "+t.response.status+t.response.data):e.$noty.error(e.$t("ui.general.network_abnormality")+": "+e.$t("ui.general.server_offline")),!1})},handle_fetch_waybill_label_errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";switch(e){case"Params print_type not found":return this.$t("ui.toolbox.core_waybill.errors.no_label_type");case"Params print_type error":return this.$t("ui.toolbox.core_waybill.errors.label_type_error");case"Params page_size error":return this.$t("ui.toolbox.core_waybill.errors.label_paper_type_error");default:return e}}}},fi=mi,hi=(n("a150"),Object(v["a"])(fi,s,a,!1,null,"08ddaa9b",null));i["a"]=hi.exports},4230:function(e,t,i){},4261:function(e,t,i){"use strict";var n=i("122e"),s=i.n(n);s.a},"43bf":function(e,t,i){},"43e8":function(e,t,i){},"444e":function(e){e.exports={manager:["provider_index","status_prototypes","provider_partitions","provider_uploader","core_waybills","provider_operations","staffs","scan_action_prototypes","provider_node","provider_customers","scanner"],operator:["provider_operations","provider_uploader","core_waybills","scanner"],driver:["assets","provider_operations","scanner"],staff:["status_prototypes","stations","provider_partitions","provider_uploader","core_waybills","provider_operations","staffs","scan_action_prototypes","scanner"],default:[],exception:[]}},4454:function(e,t,i){},"447f":function(e){e.exports=[{_comment:"customer 專用檔案",name:"列印標籤",i18n_key:"ui.scanner.setting_groups.print",barcode:"print",icon_file_name:"LA04",is_scan_action:!1,is_hide:!1,color:"cornflowerblue",settings:["is_auto_print_label_mode_true","is_batch_mode_false","core_waybill_template_mode_card"]},{name:"查詢運單",i18n_key:"ui.scanner.setting_groups.search",barcode:"search",icon_file_name:"search",is_scan_action:!1,is_hide:!1,color:"limegreen",settings:["is_auto_print_label_mode_false","is_batch_mode_false"]}]},"44bd":function(e,t,i){},"450e":function(e,t,i){},"457b":function(e,t,i){"use strict";var n=i("8bc8"),s=i.n(n);s.a},4678:function(e,t,i){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"73332","./en-il.js":"73332","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db292","./nl-be.js":"db292","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(e){var t=a(e);return i(t)}function a(e){var t=n[e];if(!(t+1)){var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}return t}s.keys=function(){return Object.keys(n)},s.resolve=a,e.exports=s,s.id="4678"},4741:function(e,t,i){},4766:function(e,t,i){"use strict";var n=i("9bdf"),s=i.n(n);s.a},"47b9":function(e,t,i){},"47bd":function(e,t,i){"use strict";var n=i("637f"),s=i.n(n);s.a},"481d":function(e,t,i){"use strict";var n=i("8fe8"),s=i.n(n);s.a},"4a3e":function(e,t,i){"use strict";var n=i("0474"),s=i.n(n);s.a},"4a44":function(e,t,i){},"4ab4":function(e,t,i){"use strict";var n=i("200c"),s=i.n(n);s.a},"4c71":function(e,t,i){},"4d0f":function(e,t,i){},"4e47":function(e,t,i){"use strict";var n=i("ba52"),s=i.n(n);s.a},"4e53":function(e,t,i){"use strict";var n=i("adac"),s=i.n(n);s.a},"4eaa":function(t,i,n){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"standard sidebar"},[i("div",{staticClass:"ui secondary vertical menu",attrs:{"data-step":"1","data-position":"right","data-intro":"<br> 歡迎使用Neuron物流系統 <br> 選擇功能 開始編輯"}},[i("nav",[e.$store.state.initialize_statuses.service_theme?i("router-link",{attrs:{to:{name:"provider_index"}}},[i("img",{staticClass:"ui image",attrs:{src:"/images/"+e.service_config.logo_img}})]):i("div",{staticClass:"ui inverted dimmer transition active"},[i("div",{staticClass:"ui tiny text loader"},[e._v("\n                    "+e._s(e.$t("ui.general.initializing"))+"\n                ")])]),i("a",{staticClass:"hamburger hamburger--spin",on:{click:function(t){e.toggle_menu()}}},[e._m(0)])],1),i("div",{staticClass:"nav-menu"},e._l(e.$store.state.provider.service_config.menu,function(e){return i("SidebarItem",{key:e.name,attrs:{service_config_menu:e}})}))])])},a=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"hamburger-box"},[i("span",{staticClass:"hamburger-inner"})])}],r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.is_can_use?i("div",[e.service_config_menu.items?e._e():i("router-link",{staticClass:"item",attrs:{to:{name:e.$store.state.initialize_statuses.sidebar?e.service_config_menu.name:null}}},[i("i",{staticClass:"icons"},[e.service_config_menu.icon?i("i",{class:e.service_config_menu.icon+" icon"}):e._e(),i("span",[e._v(" "+e._s(e.$t("ui.links.menu."+e.service_config_menu.name))+" ")])])]),e.service_config_menu.items?i("SidebarDropdown",{attrs:{service_config_menu:e.service_config_menu}}):e._e()],1):i("div",{staticClass:"item cannot_use",attrs:{"data-tooltip":e.$t("ui.general.cannot_use"),"data-position":"right center"}},[i("i",{staticClass:"icons"},[i("i",{class:e.service_config_menu.icon+" icon"}),i("span",[e._v(" "+e._s(e.$t("ui.links.menu."+e.service_config_menu.name))+" ")])])])])},o=[],c=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui dropdown item",class:{"router-link-active":e.is_in_this_dropdown}},[i("i",{staticClass:"dropdown large icon"}),i("i",{staticClass:"icons"},[i("i",{class:e.service_config_menu.icon+" icon"}),i("span",[e._v(" "+e._s(e.$t("ui.links.menu."+e.service_config_menu.name))+" ")])]),i("div",{staticClass:"menu"},e._l(e.service_config_menu.items,function(e){return i("SidebarDropdownItem",{key:e.name,staticClass:"item",attrs:{item:e}})}))])},l=[],u=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.is_can_use?i("router-link",{attrs:{to:{name:e.$store.state.initialize_statuses.sidebar?e.item.name:null}}},[e.item.icon?i("i",{class:e.item.icon+" icon"}):e._e(),i("span",[e._v(" "+e._s(e.$t("ui.links.menu."+e.item.name))+" ")])]):i("div",{staticClass:"cannot_use",attrs:{"data-tooltip":e.$t("ui.general.cannot_use"),"data-position":"right center"}},[e.item.icon?i("i",{class:e.item.icon+" icon"}):e._e(),i("span",[e._v(" "+e._s(e.$t("ui.links.menu."+e.item.name))+" ")])])},d=[],p={props:{item:{type:Object,default:function(){return{}}}},data:function(){return{is_can_use:this.check_can_use_current_menu()}},computed:{},watch:{},mounted:function(){},methods:{check_can_use_current_menu:function(){var e=this;try{if(this.item){var t=_.findLast(this.$store.state.provider.theme_menu,function(t){return e.item.name==t});throw!!t}throw!1}catch(i){return i}return!1}}},m=p,f=n("2877"),h=Object(f["a"])(m,u,d,!1,null,null,null),v=h.exports,g={props:{service_config_menu:{type:Object,default:function(){return{}}}},data:function(){return{is_in_this_dropdown:!1,is_can_use:this.check_can_use_current_menu()}},computed:{},watch:{$route:{immediate:!0,handler:function(e,t){if("driver_commission_policies"==e.name&&"commission_reports"==this.service_config_menu.name)return!1;this.is_in_this_dropdown=!!_.findLast(this.service_config_menu.items,function(t){return"-1"!=e.name.indexOf(t.name.replace(/s$/g,""))})}}},mounted:function(){},methods:{check_can_use_current_menu:function(){var t=this,i=[];try{return _.forEach(this.service_config_menu.items,function(e){i.push(_.findLast(t.$store.state.provider.theme_menu,function(t){return e.name==t}))}),_.remove(i,_.isUndefined),!!i.length}catch(e){return!1}return!1}},components:{SidebarDropdownItem:v}},b=g,y=Object(f["a"])(b,c,l,!1,null,null,null),w=y.exports,k={props:{service_config_menu:{default:function(){return{}},type:Object}},data:function(){return{is_can_use:this.check_can_use_current_menu()}},computed:{service_config:function(){return this.$store.state.provider.service_config},env:function(){return ENV.NODE_ENV}},watch:{},mounted:function(){},methods:{check_can_use_current_menu:function(){var e=this;try{if(this.service_config_menu.items)throw this.check_can_use_current_menu_items();var t=_.findLast(this.$store.state.provider.theme_menu,function(t){return e.service_config_menu.name==t});throw!!t}catch(i){return i}return!1},check_can_use_current_menu_items:function(){var t=this,i=[];try{return _.forEach(this.service_config_menu.items,function(e){i.push(_.findLast(t.$store.state.provider.theme_menu,function(t){return e.name==t}))}),_.remove(i,_.isUndefined),!!i.length}catch(e){return!1}return!1}},components:{SidebarDropdown:w}},x=k,C=(n("7e0c"),Object(f["a"])(x,r,o,!1,null,null,null)),P=C.exports,S={data:function(){return{menus:this.diff_service_config_menu(),is_show_mobile_menu:!1}},computed:{service_config:function(){return this.$store.state.provider.service_config},env:function(){return ENV.NODE_ENV}},watch:{$route:function(e,t){767>$(window).width()&&"block"==$(".nav-menu").css("display")&&this.toggle_menu()}},mounted:function(){$(window).resize(function(){var e=$(window).width(),t=$(".nav-menu").css("display");"none"==t&&e>767&&$(".nav-menu").css("display","block")})},methods:{diff_service_config_menu:function(){var e,t=this,i=$.extend(!0,[],this.$store.state.provider.service_config.menu);return _.forEach(i,function(n,s){e=_.findIndex(t.$store.state.provider.theme_menu,function(e){return n.name==e}),e<0&&void 0==n.items&&delete i[s],void 0!=n.items&&(_.forEach(n.items,function(n,a){e=_.findIndex(t.$store.state.provider.theme_menu,function(e){return n.name==e}),e<0&&delete i[s].items[a]}),_.remove(i[s].items,_.isUndefined))}),_.remove(i,_.isUndefined),_.forEach(i,function(e,t){var n=e.items?e.items.length:1;n||delete i[t]}),_.remove(i,_.isUndefined),i},toggle_menu:function(){$("body").toggleClass("overflow"),$(".hamburger").toggleClass("active"),$(".nav-menu").stop().slideToggle(300),this.is_show_mobile_menu=!this.is_show_mobile_menu,this.$bus.$emit("toggle_is_hide_icon_toggle_scanner_modal",this.is_show_mobile_menu)}},components:{SidebarItem:P}},N=S,q=(n("c959"),Object(f["a"])(N,s,a,!1,null,null,null));i["a"]=q.exports},"4eee":function(e,t,i){},"4f4e":function(e,t,i){},"4fc0":function(e,t,i){},"4fe6":function(e){e.exports={_comment:"此檔案管理Scanner主題顏色，node_name是給人標記誰用的",name:"default",color:{background_img:"",background:"#1b1c1d",background_position:"0% 0%",font:"white",warning:"white",show_setting_icon:"orange",setting_group_icon:"white"},computer:{background_position:"0% 50%"},mobile:{background_position:"0% 0%"}}},"503e":function(e,t,i){"use strict";var n=i("1d43"),s=i.n(n);s.a},5091:function(e,t,i){"use strict";var n=i("7819"),s=i.n(n);s.a},5125:function(e,t,i){"use strict";var n=i("31b8"),s=i.n(n);s.a},"51da":function(e,t,i){"use strict";var n=i("fb10"),s=i.n(n);s.a},5277:function(e,t,i){},"532d":function(e){e.exports={staff:[],operator:["provider_operations","provider_uploader","core_waybills","scanner"],driver:["stations","provider_partitions","assets","core_waybills","provider_operations","scanner"],manager:["provider_index","status_prototypes","stations","provider_partitions","provider_customers","provider_uploader","assets","materials","core_waybills","provider_operations","permission_groups","roles","staffs","user_logs","scanner"],exception:[],default:[]}},5359:function(e,t,i){"use strict";var n=i("4f4e"),s=i.n(n);s.a},"54a2":function(e,t,i){"use strict";var n=i("bde5"),s=i.n(n);s.a},"54b3":function(e,t,i){},"54c0":function(e,t,i){},5595:function(e,t,i){"use strict";var n=i("4fc0"),s=i.n(n);s.a},5602:function(e){e.exports={manager:["provider_index","scan","status_prototypes","stations","provider_partitions","provider_uploader","assets","materials","core_waybills","provider_operations","permission_groups","roles","staffs","user_logs","driver_commission_policies","driver_commission_reports","scan_action_prototypes","provider_node","provider_distributions","driver_commissions","provider_customers","scanner"],operator:["provider_operations","provider_uploader","core_waybills","scanner"],driver:["assets","provider_operations","scanner"],staff:["status_prototypes","stations","provider_partitions","customer_nodes","provider_uploader","assets","materials","core_waybills","provider_operations","staffs","user_logs","driver_commission_policies","driver_commission_reports","scan_action_prototypes","provider_distributions","driver_commissions","scanner"],default:[],exception:[]}},"565b":function(e,t,i){},5669:function(e,t,i){"use strict";var n=i("c278"),s=i.n(n);s.a},"56d7":function(t,i,n){"use strict";n.r(i);n("db4d");var s=n("31bd"),a=n("a026"),r=n("2f62");window.config=n("a078");var o=new config,c={namespaced:!0,state:{admin_converters_routes:{index:o.neuron_url+"/admin/converters",show:o.neuron_url+"/admin/converters/:id",create:o.neuron_url+"/admin/converters/create",update:o.neuron_url+"/admin/converters/:id/update",destroy:o.neuron_url+"/admin/converters/:id/destroy"}},getters:{},mutations:{}},l=c;window.config=n("a078");new config;var u={namespaced:!0,state:{routes:{}},getters:{},actions:{},mutations:{},modules:{converters_module:l}},d=u,p={namespaced:!0,state:{categories:[],current_category:null},getters:{},mutations:{}},m=p,f={namespaced:!0,state:{pagination:{current_page:null,total_pages:null},search_params:{},default_search_params:{name:null,en_name:null,core_waybill_level:null,class_name:null,label_type:null},show_filter:!1},actions:{},mutations:{set_current_page:function(e,t){e.pagination.current_page=t},set_total_pages:function(e,t){e.pagination.total_pages=t},init_search_params:function(e){e.search_params=e.default_search_params},toggle_filter:function(e){e.show_filter=!e.show_filter}}},h=f,v={namespaced:!0,state:{partitions:[],associated_partitions:[],pagination:{current_page:null,total_pages:null},materials:[],customers:[]},getters:{number_with_commas:function(e,t,i,n){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},current_customer:function(e,t,i,n){return function(t){return _.findLast(e.customers,function(e){return e.identity==t.customer_identity})}},current_material:function(e,t,i,n){return function(t){return _.findLast(e.materials,function(e){return e.identity==t.material_identity})}}},actions:{fetch_partitions:function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_partitions),n=i.parse({},"?page="+t.page);return axios.get(n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){var i=_.remove(t.data.partitions,function(e){return null==e.parent_identity});e.commit("set_partitions",i),e.commit("set_pagination",t.data.pagination)})["catch"](function(e){return console.log("Failed to fetch Partitions."),Promise.reject(e)})},fetch_associated_partitions:function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_associated_partitions),n=i.parse({},"?page="+t.page);return axios.get(n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.commit("set_associated_partitions",t.data.associated_partitions),e.commit("set_pagination",t.data.pagination)})["catch"](function(e){return console.log("Failed to fetch AssociatedPartitions."),Promise.reject(e)})},fetch_customers:function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_customers),n=i.parse({},"?pagination=false");return axios.get(n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){console.log(t),e.commit("set_customers",t.data.customers)})["catch"](function(e){return console.log("Failed to fetch CustomerNodes."),Promise.reject(e)})},fetch_materials:function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_materials).parse({},"?pagination=false");return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return console.log("Failed to fetch Material."),Promise.reject(error);e.commit("set_materials",t.data.materials)})}},mutations:{set_associated_partitions:function(e,t){e.associated_partitions=t},set_partitions:function(e,t){e.partitions=t},set_pagination:function(e,t){e.pagination=t},set_customers:function(e,t){e.customers=t},set_materials:function(e,t){e.materials=t},add_partition:function(e,t){e.partitions.push(t)},update_partition:function(e,t){var i=_.findIndex(e.partitions,function(e){return e.identity==t.identity});e.partitions.splice(i,1,t)},remove_partition:function(e,t){var i=_.findIndex(e.partitions,function(e){return e.identity==t.identity});e.partitions.splice(i,1)}}},g=v,b={namespaced:!0,state:{pagination:{current_page:null,total_pages:null},permissions:[],permission_groups:[]},actions:{fetch_permissions:function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_permissions).parse({},"");return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return Promise.reject("Failed to fetch Permissions.");e.commit("set_permissions",t.data.permissions)})["catch"](function(e){return Promise.reject("Error to fetch Permissions.")})},fetch_permission_groups:function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_permission_groups).parse({},"");return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return Promise.reject("Failed to fetch PermissionGroups.");e.commit("set_permission_groups",t.data.permission_groups)})["catch"](function(e){return Promise.reject("Error to fetch PermissionGroups.")})}},mutations:{set_current_page:function(e,t){e.pagination.current_page=t},set_total_pages:function(e,t){e.pagination.total_pages=t},set_permissions:function(e,t){e.permissions=t},set_permission_groups:function(e,t){e.permission_groups=t}}},y=b,w=n("3e85"),k=n.n(w);function x(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){C(e,t,i[t])})}return e}function C(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var P={namespaced:!0,state:{pagination:{current_page:null,total_pages:null},filter:{is_advanced_mode:!1,shortcut_keys:["username","name","phone","role_identity","station_identity","theme_name","is_banned"],current_shortcut_key:"name",init_columns:{page:1,username:null,name:null,phone:null,theme_name:null,role_identity:null,station_identity:null,is_banned:null},columns:{}},staffs:[],roles:[]},getters:{filter_to_query:function(e,t,i,n){var s=_.cloneDeep(e.filter.columns);return s.page&&delete s.page,s.is_banned||delete s.is_banned,object_delete_null(s)},filter_to_api_query:function(e,t,i,n){return function(t){var i=_.cloneDeep(e.filter.columns);return object_to_query(i)}}},actions:{fetch_staffs:function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_staffs).parse({},""),n=e.getters.filter_to_api_query();return n&&(i+="?".concat(n)),console.log(i),axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"==t.data.status)e.commit("set_staffs",t.data.staffs),e.commit("set_pagination",t.data.pagination);else if("failure"==t.data.status)return Promise.reject("fetch_staffs_failure")})["catch"](function(e){return console.log(e),Promise.reject(k()(e))})},fetch_roles:function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_roles).parse({},"?pagination=false");return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.commit("set_roles",t.data.roles)})["catch"](function(e){return console.log("Failed to fetch Roles."),Promise.reject(e)})},handle_query_to_filter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.query){var i=x({},_.cloneDeep(e.state.filter.init_columns),t.query);e.state.filter.columns=x({},e.state.filter.columns,i)}},handle_quick_filter_key:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=object_delete_null(_.cloneDeep(e.state.filter.columns));t.page&&delete t.page;var i={number:0,number_last_key:""};e.state.filter.shortcut_keys.forEach(function(e){t[e]&&(i.number+=1,i.number_last_key=e)}),1==i.number&&(e.state.filter.current_shortcut_key=i.number_last_key),(0==i.number&&Object.keys(t).length>=1||i.number>=2)&&(e.state.filter.is_advanced_mode=!0)}},mutations:{set_staffs:function(e,t){e.staffs=t},set_roles:function(e,t){e.roles=t},set_pagination:function(e,t){e.pagination=t},init_filter_columns:function(e,t){e.filter.columns=_.cloneDeep(e.filter.init_columns)}}},S=P,N={namespaced:!0,state:{stations:[]}},q=N;function A(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){E(e,t,i[t])})}return e}function E(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var z={namespaced:!0,state:{pagination:{current_page:null,total_pages:null},filter:{is_advanced_mode:!1,shortcut_keys:["name","code","phone","note"],current_shortcut_key:"name",init_columns:{page:1,name:null,code:null,phone:null,note:null},columns:{}},stations:[]},getters:{filter_to_query:function(e,t,i,n){var s=_.cloneDeep(e.filter.columns);return s.page&&delete s.page,object_delete_null(s)},filter_to_api_query:function(e,t,i,n){return function(t){var i=_.cloneDeep(e.filter.columns);return object_to_query(i)}}},actions:{fetch_stations:function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_stations).parse({},""),n=e.getters.filter_to_api_query();return n&&(i+="?".concat(n)),console.log(i),axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"==t.data.status)e.commit("set_stations",t.data.stations),e.commit("set_pagination",t.data.pagination);else if("failure"==t.data.status)return Promise.reject("fetch_stations_failure")})["catch"](function(e){return console.log(e),Promise.reject(ResponseError(e))})},handle_query_to_filter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.query){var i=A({},_.cloneDeep(e.state.filter.init_columns),t.query);e.state.filter.columns=A({},e.state.filter.columns,i)}},handle_quick_filter_key:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=object_delete_null(_.cloneDeep(e.state.filter.columns));t.page&&delete t.page;var i={number:0,number_last_key:""};e.state.filter.shortcut_keys.forEach(function(e){t[e]&&(i.number+=1,i.number_last_key=e)}),1==i.number&&(e.state.filter.current_shortcut_key=i.number_last_key),(0==i.number&&Object.keys(t).length>=1||i.number>=2)&&(e.state.filter.is_advanced_mode=!0)}},mutations:{set_stations:function(e,t){e.stations=t},set_pagination:function(e,t){e.pagination=t},init_filter_columns:function(e){e.filter.columns=_.cloneDeep(e.filter.init_columns)}}},j=z,R={namespaced:!0,state:{pagination:{current_page:null,total_pages:null},search_params:{scope:null,name:null,polarity:null,material_class_name:null,page:null},show_filter:!1},actions:{},mutations:{set_current_page:function(e,t){e.pagination.current_page=t},set_total_pages:function(e,t){e.pagination.total_pages=t},init_search_params:function(e){e.search_params={scope:null,name:null,polarity:null,material_class_name:null,page:null}},toggle_filter:function(e){e.show_filter=!e.show_filter}}},O=R;window.config=n("a078");new config;var I={namespaced:!0,state:{customers:[],requester_node:null,requester_contract:null,operator_node:{},waybill_raw_datas:[],waybill_processed_datas:[],receivers:[],converters:[],current_converter:null,conversions:[],open_file_url:null,file_upload_url:"https://air.formosaas.com/api/v1/:app_id/cloud/:access_token/:identity/bucket/:bucket_identity/upload",fetch_customers_url:null,fetch_converters_url:null,create_operation_url:null,use_waybill_url:null,validate_waybill_url:null,validator:"standard"},getters:{},actions:{set_urls:function(e,t){return new Promise(function(t){var i=e.rootState.current_scope;e.commit("set_open_file_url",e.rootState[i].routes.api_v1_provider_file_converters_convert),e.commit("set_file_upload_url",new RestUrl(e.rootState[i].uploader_module.file_upload_url).parse({app_id:e.rootState[i].node.air_service.air_app_id,access_token:e.rootState[i].node.air_service.air_access_token,identity:e.rootState[i].node.air_service.air_identity,bucket_identity:e.rootState[i].node.air_service.air_bucket_identity,air_authorization:e.rootState[i].node.air_service.air_authorization},"?authorization="+e.rootState[i].node.air_service.air_authorization+"&is_froala=true")),e.commit("set_create_operation_url",e.rootState[i].routes["api_v1_provider_operations_create"]),e.commit("set_use_waybill_url",e.rootState[i].routes["api_v1_provider_operation_use_core_waybill"]),e.commit("set_fetch_customers_url",e.rootState[i].routes["api_v1_provider_customers"]),e.commit("set_validate_waybill_url",e.rootState[i].routes["api_v1_provider_core_waybills_usable_core_waybills"]),e.commit("set_fetch_converters_url",e.rootState[i].routes["api_v1_provider_file_converters"]),t()})},fetch_customers:function(e,t){e.rootState.current_scope;var i=new RestUrl(e.state.fetch_customers_url).parse({},"?"+object_to_query({pagination:!1,is_banned:!1}));return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?e.commit("set_customers",t.data.customers):t.data.status})["catch"](function(e){})},fetch_converters:function(e,t){e.rootState.current_scope;return axios.get(e.state.fetch_converters_url,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?e.commit("set_converters",t.data.converters):t.data.status})["catch"](function(e){})},fetch_operator_node:function(e,t){e.commit("set_operator_node",e.rootState.provider.node)}},mutations:{set_open_file_url:function(e,t){e.open_file_url=t},set_file_upload_url:function(e,t){e.file_upload_url=t},set_create_operation_url:function(e,t){e.create_operation_url=t},set_use_waybill_url:function(e,t){e.use_waybill_url=t},set_fetch_customers_url:function(e,t){e.fetch_customers_url=t},set_fetch_converters_url:function(e,t){e.fetch_converters_url=t},set_validate_waybill_url:function(e,t){e.validate_waybill_url=t},set_requester_node:function(e,t){e.requester_node=t},set_requester_contract:function(e,t){e.requester_contract=t},set_customers:function(e,t){e.customers=t},set_conversions:function(e,t){e.conversions=t},set_converters:function(e,t){e.converters=t},set_waybill_raw_datas:function(e,t){e.waybill_raw_datas=t},set_waybill_processed_datas:function(e,t){e.waybill_processed_datas=t},set_receivers:function(e,t){e.receivers=t},set_current_converter:function(e,t){e.current_converter=t},set_operator_node:function(e,t){e.operator_node=t},init:function(e,t){e.customers=[],e.requester_node=null,e.requester_contract=null,e.operator_node={},e.waybill_raw_datas=[],e.waybill_processed_datas=[],e.receivers=[],e.converters=[],e.current_converter=null,e.conversions=[],e.open_file_url=null,e.file_upload_url="https://air.formosaas.com/api/v1/:app_id/cloud/:access_token/:identity/bucket/:bucket_identity/upload",e.fetch_customers_url=null,e.fetch_converters_url=null,e.create_operation_url=null,e.use_waybill_url=null,e.validate_waybill_url=null,e.validator="standard"}}},D=I,L=n("c1df"),T=n.n(L);function B(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){M(e,t,i[t])})}return e}function M(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function U(e){return U="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U(e)}var F={namespaced:!0,state:{current_form_entity_type:!0,current_core_waybill:{},core_waybills:[],current_page:1,total_pages:1,search_cache_key:null,before_api_query:"",quick_filters:{number:["original_number","tracking_number","number","operation_number","flight_number"],info:["sender_name","sender_company_name","divider","consignee_name","consignee_company_name","consignee_phone","consignee_address","divider","note","shipping_note"],status:["name"]},quick_filter_key:{number:"original_number",info:"sender_name",status:"latest_status"},is_where_like_filter_mode:!1,filter_init:{page:1,number:null,original_number:null,tracking_number:null,flight_number:null,sender_name:null,consignee_name:null,consignee_phone:null,consignee_address:null,note:null,is_used:null,created_at:{},operation:{number:null},material:{class_names:null},condition:{current_operator_identity:null,current_location:null,polarity:null,name:null,updated_at:{}},status:{operator_identity:null,scope:null,name:null,created_at:{}}},filter:{page:1,created_at:{},operation:{},material:{},condition:{polarity:null,updated_at:{}},status:{scope:null,name:null,created_at:{}}},is_filter_async:!1,is_show_filter:{simple:!1,detail:!1},is_can_print_label:!1,staffs:[],materials:[],scan_action_prototypes:[],condition_status_prototypes:[],tool_label:{core_waybill_length:0,numbers:"",label_name:""},csv:{is_processing:!1,url:null},customers:[],core_waybill_conditions:["current_release","current_handover","current_collect","current_check","current_ship","current_back","current_delivered","current_transfer","current_intermodal","current_exception","current_lock","current_done","current_use","divider","already_use","already_release","already_handover","already_collect","already_check","already_ship","already_back","already_delivered","already_transfer","already_intermodal","already_exception","already_lock","already_done","divider","can_use","can_release","can_handover","can_collect","can_check","can_ship","can_back","can_delivered","can_transfer","can_intermodal","can_exception","can_lock","can_done","can_warehouse_in","current_warehouse_in","already_warehouse_in","can_warehouse_out","current_warehouse_out","already_warehouse_out","can_ready_to_ship","current_ready_to_ship","already_ready_to_ship"]},getters:{customer:function(e,t,i,n){return function(t){return _.findLast(e.customers,function(e){return e.identity==t})||{}}},filter_to_query:function(e,t,i,n){var s=_.cloneDeep(e.filter);return s.page&&delete s.page,s.status.created_duration&&(s.status.created_duration[0]&&(s.status_created_at_from=T()(s.status.created_duration[0]).format("YYYY-MM-DD")),s.status.created_duration[1]&&(s.status_created_at_to=T()(s.status.created_duration[1]).format("YYYY-MM-DD"))),s.condition.updated_duration&&(s.condition.updated_duration[0]&&(s.condition_updated_at_from=T()(s.condition.updated_duration[0]).format("YYYY-MM-DD")),s.condition.updated_duration[1]&&(s.condition_updated_at_to=T()(s.condition.updated_duration[1]).format("YYYY-MM-DD"))),s.created_duration&&(s.created_duration[0]&&(s.created_at_from=T()(s.created_duration[0]).format("YYYY-MM-DD")),s.created_duration[1]&&(s.created_at_to=T()(s.created_duration[1]).format("YYYY-MM-DD"))),s.condition_updated_duration&&delete s.condition_updated_duration,s.status_created_duration&&delete s.status_created_duration,s.created_duration&&delete s.created_duration,_.forEach(s,function(e,t){e&&"object"===U(e)&&_.forEach(e,function(e,i){s[t][i]&&(s[t+"_"+i]=e,delete s[t][i])})}),s.condition_updated_duration&&delete s.condition_updated_duration,s.status_created_duration&&delete s.status_created_duration,s.created_duration&&delete s.created_duration,!s.condition.name&&s.condition_polarity&&delete s.condition_polarity,object_delete_null(s)},filter_to_api_query:function(e,t,i,n){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=_.cloneDeep(e.filter);return t.is_remove_page&&i.page&&delete i.page,i.status.created_duration&&(i.status.created_duration[0]&&(i.status.created_at.from=date_to_start(i.status.created_duration[0])),i.status.created_duration[1]&&(i.status.created_at.to=date_to_end(i.status.created_duration[1])),delete i.status.created_duration),i.condition.updated_duration&&(i.condition.updated_duration[0]&&(i.condition.updated_at.from=date_to_start(i.condition.updated_duration[0])),i.condition.updated_duration[1]&&(i.condition.updated_at.to=date_to_end(i.condition.updated_duration[1])),delete i.condition.updated_duration),i.created_duration&&(i.created_duration[0]&&(i.created_at.from=date_to_start(i.created_duration[0])),i.created_duration[1]&&(i.created_at.to=date_to_end(i.created_duration[1])),delete i.created_duration),e.is_where_like_filter_mode&&(_.forEach(["number","flight_number","original_number","tracking_number","sender_name","sender_company_name","consignee_name","consignee_company_name","consignee_address","consignee_phone","note"],function(e){i[e]&&(i[e]="%"+i[e]+"%")}),i.operation.number&&(i.operation.number="%"+i.operation.number+"%")),t.merge&&(i=B({},i,t.merge)),object_to_query(i)}}},actions:{fetch_customer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e.getters.customer(t.customer_identity).identity){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_customer).parse({customer_identity:t.customer_identity});return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return Promise.reject("fetch_customer_failure");e.commit("set_push_customers",t.data.customer)})}},fetch_core_waybills:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this;e.commit("set_tool_label",{core_waybill_length:0,numbers:"",label_name:""});var n=new RestUrl(e.rootState.provider.routes.api_v1_provider_core_waybills_filter),s=n.parse({}),a=e.getters.filter_to_api_query();return e.state.is_can_print_label=!!a,a&&(s+="?".concat(a)),console.log(s),axios.get(s,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(n){if("success"!=n.data.status)return Promise.reject("fetch_core_waybills_failure");if(e.commit("set_search_cache_key",n.data.search_cache_key),e.commit("set_core_waybills",n.data.core_waybills),e.commit("set_pagination",n.data.pagination),!n.data.core_waybills.length)return Promise.reject("fetch_core_waybills_no_anything_core_waybills");if("edit"==t.action){if(console.log("response.data.core_waybills[0]",n.data.core_waybills[0]),!n.data.core_waybills.length)return Promise.reject("fetch_core_waybills_no_anything_core_waybills");i.$router.push({name:"edit_core_waybill",params:{identity:n.data.core_waybills[0].identity}})}})["catch"](function(e){return Promise.reject(k()(e))})},fetch_core_waybills_by_async:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=new RestUrl(e.rootState.provider.routes.api_v1_provider_core_waybills_filter),i=t.parse({}),n=e.getters.filter_to_api_query();return e.state.is_can_print_label=!!n,n&&(i+="?".concat(n)),i+="&is_async=true",console.log(i),axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){if("success"!=e.data.status)return Promise.reject("fetch_core_waybills_failure")})["catch"](function(e){return Promise.reject(k()(e))})},export_core_waybills:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=new RestUrl(e.rootState.provider.routes.api_v1_provider_core_waybills_export).parse({search_cache_key:e.state.search_cache_key});return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){if("success"!=e.data.status)return Promise.reject()})["catch"](function(e){return Promise.reject(k()(e))})},fetch_staffs:function(e,t){if(e.state.staffs.length)return Promise.resolve();var i=e.rootState.provider.routes.api_v1_provider_staffs+"?pagination=false";return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return Promise.reject("fetch_staffs_failure");e.commit("set_staffs",t.data.staffs)})["catch"](function(e){return Promise.reject(k()(e))})},fetch_materials:function(e,t){if(e.state.materials.length)return Promise.resolve();var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_materials).parse({},"");return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return Promise.reject("fetch_materials_failure");e.commit("set_materials",t.data.materials)})["catch"](function(e){return Promise.reject(k()(e))})},fetch_scan_action_prototypes:function(e,t){if(e.state.scan_action_prototypes.length)return Promise.resolve();var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_scan_action_prototypes).parse({},"?pagination=false");return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return Promise.reject("fetch_scan_action_prototypes_failure");e.commit("set_scan_action_prototypes",t.data.scan_action_prototypes)})["catch"](function(e){return Promise.reject(k()(e))})},fetch_core_waybills_pagination_false:function(e,t){console.log("fetch_core_waybills_pagination_false");var i=e.getters.filter_to_api_query({is_remove_page:!0});if(!i)return e.commit("set_tool_label",{core_waybill_length:0,numbers:"",label_name:""}),Promise.reject("fetch_core_waybills_pagination_false nothing filter");var n=new RestUrl(e.rootState.provider.routes.api_v1_provider_core_waybills_filter),s=n.parse({});return s+="?pagination=false",i&&(s+="&".concat(i)),axios.get(s,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if(e.commit("set_tool_label",{core_waybill_length:0,numbers:"",label_name:""}),"success"!=t.data.status)return Promise.reject("fetch_core_waybills_pagination_false_error");var i,n=_.groupBy(t.data.core_waybills,"label_type"),s=0;if(""==Object.keys(n)||1!=Object.keys(n).length)return Promise.reject("core_waybills_label_type_different");s=t.data.core_waybills.length,i=_.map(t.data.core_waybills,"number").toString(),n=Object.keys(n).toString(),e.commit("set_tool_label",{core_waybill_length:s,numbers:i,label_name:n})})["catch"](function(e){return Promise.reject(k()(e))})},fetch_core_waybills_csv_new:function(t,i){try{var n=new RestUrl(t.rootState.provider.routes.api_v1_provider_core_waybills_report_job).parse();return console.log(n),axios.get(n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){return t.state.csv.is_processing=!0,t.state.csv.url=null,"success"==e.data.status?Promise.reject("success"):Promise.reject("errores")})}catch(e){return console.log(e),Promise.reject(e)}},fetch_core_waybills_csv:function(e,t){var i=Math.floor(Date.now()/1e3),n=t.type?"&csv_tpye="+t.type:null,s=new RestUrl(e.rootState.provider.routes.api_v1_provider_core_waybills_filter+".csv").parse({},"?v="+i+n);console.log("fetch_core_waybills_csv");var a=e.getters.filter_to_api_query({is_remove_page:!0});return a&&(s+="&".concat(a)),console.log(s),axios.get(s,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){if("success"==e.data.status){var i=document.createElement("a"),n=new Blob(["\ufeff",e.data.csv]),s=URL.createObjectURL(n),a="clearance"==t.type?"_清關":"";i.href=s,i.download=T()().format("YYYY-MM-DD HH:mm:ss")+a+".csv",document.body.appendChild(i),i.click(),document.body.removeChild(i)}else if("failure"==e.data.status)return Promise.reject("fetch_core_waybills_svg_error")})["catch"](function(e){return Promise.reject("fetch_core_waybills_svg_error")})},handle_query_to_filter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.query){var i=B({},_.cloneDeep(e.state.filter_init),_.cloneDeep(t.query));i.condition_name&&(i.condition.polarity="true"),_.forEach(e.state.filter_init,function(e,t){e&&"object"===U(e)&&_.forEach(e,function(e,n){i[t+"_"+n]&&(i[t][n]=i[t+"_"+n],delete i[t+"_"+n])})}),i.status_created_at_from&&i.status_created_at_to&&(i.status.created_duration=[T()(i.status_created_at_from)||"",T()(i.status_created_at_to)||""],delete i.status_created_at_from,delete i.status_created_at_to),i.condition_updated_at_from&&i.condition_updated_at_to&&(i.condition.updated_duration=[T()(i.condition_updated_at_from)||"",T()(i.condition_updated_at_to)||""],delete i.condition_updated_at_from,delete i.condition_updated_at_to),i.created_at_from&&i.created_at_to&&(i.created_duration=[T()(i.created_at_from)||"",T()(i.created_at_to)||""],delete i.created_at_from,delete i.created_at_to),e.state.filter=B({},e.state.filter,i)}},handle_quick_filter_key:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=object_delete_null(_.cloneDeep(e.state.filter));t.page&&delete t.page;var i=Object.keys(t).length,n={number:0,number_last_key:"",info:0,info_last_key:""};t.operation&&t.operation.number&&(n.number+=1,n.number_last_key="operation_number"),e.state.quick_filters.number.forEach(function(e){t[e]&&(n.number+=1,n.number_last_key=e)}),e.state.quick_filters.info.forEach(function(e){t[e]&&(n.info+=1,n.info_last_key=e)}),1==n.number&&(e.state.quick_filter_key.number=n.number_last_key),1==n.info&&(e.state.quick_filter_key.info=n.info_last_key,e.state.is_show_filter.simple=!0),(0==n.number&&0==n.info&&i>=1||n.number>=2||n.info>=2)&&(e.state.is_show_filter.simple=!1,e.state.is_show_filter.detail=!0),n.number<=1&&n.info<=1&&i>2&&(e.state.is_show_filter.simple=!1,e.state.is_show_filter.detail=!0)},clear_filter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.commit("set_filter",_.cloneDeep(e.state.filter_init)),t.operation_number&&(e.state.filter.operation.number=t.operation_number)},set_filter_init:function(e,t){e.commit("set_filter",_.cloneDeep(e.state.filter_init))},set_filter_kay_value:function(e,t){e.commit("set_filter_kay_value",t)}},mutations:{set_core_waybills:function(e,t){e.core_waybills=t},set_search_cache_key:function(e,t){e.search_cache_key=t},set_push_customers:function(e,t){e.customers.push(t)},set_staffs:function(e,t){e.staffs=t},set_materials:function(e,t){e.materials=t},set_scan_action_prototypes:function(e,t){e.scan_action_prototypes=t},set_tool_label:function(e,t){e.tool_label=t},set_pagination:function(e,t){e.current_page=t.current_page,e.total_pages=t.total_pages},set_filter:function(e,t){e.filter=t},set_filter_kay_value:function(e,t){e.filter[t.key]=t.value}}},Y=F,G={namespaced:!0,state:{pack_mode:{scanner_modes:["addition","selection","packing"],current_scanner_mode:null,selected_pack:{},current_pack:{},packs:[],workspace_identity:null,workflows:[],is_processing:!1},unpack_mode:{scanner_modes:["show","unpacking"],current_scanner_mode:null,current_pack:{},packs:[],workspace_identity:null,workflows:[]}},getters:{},mutations:{}},H=G;function K(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){W(e,t,i[t])})}return e}function W(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var V={namespaced:!0,state:{pagination:{current_page:null,total_pages:null},filter:{is_advanced_mode:!1,shortcut_keys:["number","provider_note","customer_identity","customer_note","original_file_name","is_done","is_canceled","created_duration"],current_shortcut_key:"number",init_columns:{page:1,created_duration:"",begin_at:null,end_at:null,number:null,provider_note:null,customer_identity:null,customer_note:null,original_file_name:null,is_done:!1,is_canceled:!1},columns:{}},staffs:[],operations:[]},getters:{filter_to_query:function(e,t,i,n){var s=_.cloneDeep(e.filter.columns);return s.page&&delete s.page,s.is_done||delete s.is_done,s.is_canceled||delete s.is_canceled,s.created_duration&&(s.created_duration[0]&&(s.begin_at=T()(s.created_duration[0]).format("YYYY-MM-DD")),s.created_duration[1]&&(s.end_at=T()(s.created_duration[1]).format("YYYY-MM-DD")),delete s.created_duration),object_delete_null(s)},filter_to_api_query:function(e,t,i,n){return function(t){var i=_.cloneDeep(e.filter.columns);return i.created_duration&&(i.created_duration[0]&&(i.begin_at=date_to_start(i.created_duration[0])),i.created_duration[1]&&(i.end_at=date_to_end(i.created_duration[1])),delete i.created_duration),object_to_query(i)}}},actions:{fetch_operations:function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_operations).parse({},""),n=e.getters.filter_to_api_query();return n&&(i+="?".concat(n)),console.log(i),axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"==t.data.status)e.commit("set_operations",t.data.operations),e.commit("set_pagination",t.data.pagination);else if("failure"==t.data.status)return Promise.reject("fetch_operations_failure")})["catch"](function(e){return Promise.reject(k()(e))})},fetch_staffs:function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_staffs).parse({},"?"+object_to_query({pagination:!1}));return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.commit("set_staffs",t.data.staffs)})["catch"](function(e){return console.log("Failed to fetch Roles."),Promise.reject(e)})},handle_query_to_filter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.query){var i=K({},_.cloneDeep(e.state.filter.init_columns),t.query);i.begin_at&&i.end_at&&(i.created_duration=[T()(i.begin_at)||"",T()(i.end_at)||""],delete i.begin_at,delete i.end_at),i.is_canceled&&(i.is_canceled=1==i.is_canceled||"true"==i.is_canceled),i.is_done&&(i.is_done=1==i.is_done||"true"==i.is_done),e.state.filter.columns=K({},e.state.filter.columns,i)}},handle_quick_filter_key:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=object_delete_null(_.cloneDeep(e.state.filter.columns));t.page&&delete t.page,t.is_done||delete t.is_done,t.is_canceled||delete t.is_canceled;var i={number:0,number_last_key:""};e.state.filter.shortcut_keys.forEach(function(e){t[e]&&(i.number+=1,i.number_last_key=e)}),1==i.number&&(e.state.filter.current_shortcut_key=i.number_last_key),(0==i.number&&Object.keys(t).length>=1||i.number>=2)&&(e.state.filter.is_advanced_mode=!0)}},mutations:{set_operations:function(e,t){e.operations=t},set_pagination:function(e,t){e.pagination=t},set_staffs:function(e,t){e.staffs=t},init_filter_columns:function(e,t){e.filter.columns=_.cloneDeep(e.filter.init_columns)}}},X=V,Q={namespaced:!0,state:{},getters:{},mutations:{}},Z=Q;function J(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){ee(e,t,i[t])})}return e}function ee(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var te={namespaced:!0,state:{pagination:{current_page:null,total_pages:null},filter:{is_advanced_mode:!1,shortcut_keys:["loggable_type","staff_name","title","action_type","created_duration"],current_shortcut_key:"staff_name",init_columns:{page:1,loggable_type:null,staff_name:null,title:null,action_type:null,created_duration:null,begin_at:null,end_at:null},columns:{}},user_logs:[]},getters:{filter_to_query:function(e,t,i,n){var s=_.cloneDeep(e.filter.columns);return s.page&&delete s.page,s.created_duration&&(s.created_duration[0]&&(s.begin_at=T()(s.created_duration[0]).format("YYYY-MM-DD")),s.created_duration[1]&&(s.end_at=T()(s.created_duration[1]).format("YYYY-MM-DD")),delete s.created_duration),object_delete_null(s)},filter_to_api_query:function(e,t,i,n){return function(t){var i=_.cloneDeep(e.filter.columns);return i.created_duration&&(i.created_duration[0]&&(i.begin_at=date_to_start(i.created_duration[0])),i.created_duration[1]&&(i.end_at=date_to_end(i.created_duration[1])),delete i.created_duration),object_to_query(i)}}},actions:{fetch_user_logs:function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_logs).parse({},""),n=e.getters.filter_to_api_query();return n&&(i+="?".concat(n)),console.log(i),axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"==t.data.status)e.commit("set_user_logs",t.data.logs),e.commit("set_pagination",t.data.pagination);else if("failure"==t.data.status)return Promise.reject("fetch_user_logs_failure")})["catch"](function(e){return Promise.reject(k()(e))})},handle_query_to_filter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.query){var i=J({},_.cloneDeep(e.state.filter.init_columns),t.query);i.begin_at&&i.end_at&&(i.created_duration=[T()(i.begin_at)||"",T()(i.end_at)||""],delete i.begin_at,delete i.end_at),e.state.filter.columns=J({},e.state.filter.columns,i)}},handle_quick_filter_key:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=object_delete_null(_.cloneDeep(e.state.filter.columns));t.page&&delete t.page;var i={number:0,number_last_key:""};e.state.filter.shortcut_keys.forEach(function(e){t[e]&&(i.number+=1,i.number_last_key=e)}),1==i.number&&(e.state.filter.current_shortcut_key=i.number_last_key),(0==i.number&&Object.keys(t).length>=1||i.number>=2)&&(e.state.filter.is_advanced_mode=!0)}},mutations:{set_user_logs:function(e,t){e.user_logs=t},set_pagination:function(e,t){e.pagination=t},init_filter_columns:function(e,t){e.filter.columns=_.cloneDeep(e.filter.init_columns)}}},ie=te,ne=n("0cb6"),se=n.n(ne);function ae(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function re(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){ae(a,n,s,r,o,"next",e)}function o(e){ae(a,n,s,r,o,"throw",e)}r(void 0)})}}var oe={namespaced:!0,state:{is_setting:!1,is_keydown:!0,config:{theme:{},settings:{},setting_groups:{}},current_weight:0,current_setting_group:{},setting_groups:{},quick_setting_regexps:{group:/@@(search|package|unpackage|distributed_to|pack_house_waybill|pack_waybill_goods|LA[0-9]+|LB[0-9]+)@@/i,barcode:/####(LA[0-9]+)####|####(LB[0-9]+)####/i,mode:/##(\w+_mode)_(true|false|min_card|card|detail|Master|House|Waybill|Goods|Package)##/i},settings:{is_scan_mode:!0,is_scan_action_mode:!1,is_batch_mode:!1,is_operation_mode:!0,is_core_waybill_pieces_mode:!0,is_update_corewaybill_mode:!1,is_auto_print_label_mode:!1,is_distributed_to_mode:!1,is_noty_audio_mode:!1,is_speech_mode:!1,is_quick_corewaybill_related_columns:!1,is_package_mode:!1,is_unpackage_mode:!1,is_core_waybill_creation_mode:!1,is_webcam_mode:!1,pack_p_m_mode:"",pack_m_mode:"",pack_need_source_mode:!1,core_waybill_template_mode:"card"},core_waybills:[],current_core_waybill:{},current_core_waybill_scope:"",scan_action_prototypes:[],current_scan_action_prototype:{name:null,identity:null},partitions:[],current_partition:{},jobs:[],current_job:{},is_updated_core_waybill_related_columns:!1,actions_core_waybill_related_columns:{},alert_core_waybill_related_columns_focus_input_name:"",quick_core_waybill_related_columns:{},core_waybill_counters:[],current_pack_taget_parent_material_identity:"",current_pack_taget_material_identity:"",package_response_history:[],package_message:{status:"failure",content:""},package:{source_core_waybill_identity:null,core_waybills:[],parent_core_waybill:{}},distributed_to:{},scan_action_description:"",materials:[]},getters:{is_can_use_setting:function(e,t,i,n){return function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!t)return!1;var i=_.findLast(e.config.settings,function(e){return e==t});return!!i}},current_staff_operation_customer:function(e,t,i,n){return i.provider.current_staff_operation&&i.provider.current_staff_operation.customer||{}},current_pack_taget_parent_material:function(e,t,i,n){return _.findLast(e.materials,function(t){return t.identity==e.current_pack_taget_parent_material_identity})||{}},current_pack_taget_material:function(e,t,i,n){return _.findLast(e.materials,function(t){return t.identity==e.current_pack_taget_material_identity})||{}},current_scan_action_prototype_description_required_scope:function(e,t,i,n){return e.current_scan_action_prototype.identity?e.current_scan_action_prototype.description_required_scope:[]},current_scan_action_prototype_related_columns:function(e,t,i,n){return e.current_scan_action_prototype.identity?e.current_scan_action_prototype.related_columns:[]},current_core_waybill_need_related_columns:function(e,t,i,n){var s=$.extend(!0,[],t.current_scan_action_prototype_related_columns);if(e.settings.is_batch_mode)return[];if(!s.length)return[];if(!e.current_setting_group.barcode.match(/(LA[0-9]+)/i))return[];if(e.current_core_waybill.source_core_waybill&&_.remove(s,function(t){return e.current_core_waybill.source_core_waybill[t.name]}),_.remove(s,function(t){return e.current_core_waybill[t.name]}),e.current_core_waybill.material&&_.remove(s,function(t){return!!t.material_class_name&&e.current_core_waybill.material.class_name!=t.material_class_name}),e.settings.is_quick_corewaybill_related_columns&&_.remove(s,function(t){return e.state.quick_core_waybill_related_columns[t.name]}),t.current_staff_operation_customer){var a="";_.forEach(s,function(i){a="default_"+i.name,t.current_staff_operation_customer[a]&&(e.actions_core_waybill_related_columns[i.name]=t.current_staff_operation_customer[a])})}return s}},actions:{fetch_scan_action_prototypes:function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_scan_action_prototypes),n=i.parse({},"");return axios.get(n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.commit("set_scan_action_prototypes",_.sortBy(t.data.scan_action_prototypes,"barcode"))})["catch"](function(e){console.log("Failed to fetch ScanActionPrototypes.")})},fetch_materials:function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_materials).parse({},"");return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status&&e.commit("set_materials",t.data.materials)})["catch"](function(e){return that.errors.push(that.$t("ui.notifications.error.fetch__name",{name:that.$t("models.materials"),reason:": "+that.$t("ui.general.network_abnormality")+","+e.response.status})),Promise.reject(e)})},fetch_partitions:function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_partitions).parse({},"");return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status&&e.commit("set_partitions",t.data.partitions)})["catch"](function(e){return that.errors.push(that.$t("ui.notifications.error.fetch__name",{name:that.$t("models.partitions"),reason:": "+that.$t("ui.general.network_abnormality")+","+e.response.status})),Promise.reject(e)})},update_core_waybill_related_columns:function(e,t){var i=e.state.actions_core_waybill_related_columns,n=new RestUrl(e.rootState.provider.routes.api_v1_provider_core_waybill_update).parse({core_waybill_identity:e.state.current_core_waybill.identity});return axios.post(n,i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return Promise.reject("failed_to_update_core_waybill_related_column");e.state.is_updated_core_waybill_related_columns=!0,e.commit("set_actions_core_waybill_related_columns",{})})},enqueue:function(e,t){var i=!1;if(_.forEach(e.state.quick_setting_regexps,function(e){t.number.match(e)&&(i=!0)}),i)return Promise.reject("quick_setting");var n={id:e.state.jobs.slice(-1).pop()?e.state.jobs.slice(-1).pop().id+1:1,task:t.task,number:t.number,original_number:t.original_number,partition:t.partition,station:t.station,core_waybill:{},core_waybill_scope:"",scan_action_prototype:t.scan_action_prototype,status:"Pending",is_waiting_user_action:!1,is_batch_mode:e.state.settings.is_batch_mode,errors:[]};return e.commit("add_job",n),Promise.resolve()},perform:function(){var e=re(regeneratorRuntime.mark(function e(t,i){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i.status="Processing",e.prev=1,e.next=4,t.dispatch("perform_init",i);case 4:if(!t.state.settings.is_core_waybill_creation_mode){e.next=9;break}return e.next=7,t.dispatch("search_or_create_core_waybill",i);case 7:e.next=11;break;case 9:return e.next=11,t.dispatch("search_core_waybill",i);case 11:return e.next=13,t.dispatch("handle_search_result",i);case 13:return e.next=15,t.dispatch("speech_consignee_info",i);case 15:e.t0=i.task,e.next="operation"===e.t0?18:"search"===e.t0?34:42;break;case 18:return e.next=20,t.dispatch("pack",i);case 20:return e.next=22,t.dispatch("unpack",i);case 22:return e.next=24,t.dispatch("check_quick_core_waybill_related_columns",i);case 24:return e.next=26,t.dispatch("instantiate_scan_action_prototype",i);case 26:return e.next=28,t.dispatch("add_core_waybills_to_operation",i);case 28:return e.next=30,t.dispatch("fetch_statuses",i);case 30:return e.next=32,t.dispatch("distribute",i);case 32:return i.status="Success",e.abrupt("break",44);case 34:return e.next=36,t.dispatch("pack",i);case 36:return e.next=38,t.dispatch("unpack",i);case 38:return e.next=40,t.dispatch("distribute",i);case 40:return i.status="Success",e.abrupt("break",44);case 42:return i.status="Failure",e.abrupt("return",Promise.reject("task_not_found"));case 44:e.next=49;break;case 46:return e.prev=46,e.t1=e["catch"](1),e.abrupt("return",Promise.reject(e.t1));case 49:return e.abrupt("return",Promise.resolve());case 50:case"end":return e.stop()}},e,null,[[1,46]])}));function t(t,i){return e.apply(this,arguments)}return t}(),perform_init:function(e,t){return t.number?(e.state.is_setting=!1,e.state.current_job=t,e.state.current_core_waybill={},e.state.current_core_waybill_scope="",e.state.actions_core_waybill_related_columns={},e.dispatch("clear_distributed_to"),Promise.resolve()):(t.errors.push("請輸入號碼"),Promise.reject("no_input_number"))},search_core_waybill:function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_core_waybills_search),n=i.parse({},"?latest_status_scope=operator");return axios.post(n,{number:t.number},{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(){var i=re(regeneratorRuntime.mark(function i(n){return regeneratorRuntime.wrap(function(i){while(1)switch(i.prev=i.next){case 0:if(console.log(n.data),"success"!=n.data.status){i.next=9;break}n.data.core_waybill.pieces||(n.data.core_waybill.pieces=1),t.core_waybill=n.data.core_waybill,t.core_waybill_scope=n.data.scope,e.state.current_core_waybill=t.core_waybill,e.state.current_core_waybill_scope=n.data.scope,i.next=15;break;case 9:i.t0=n.data.errors,i.next="CoreWaybill not found."===i.t0?12:"Available partition not found."===i.t0?12:"Partition not found"===i.t0?12:14;break;case 12:return i.abrupt("return",Promise.reject("core_waybill_not_found"));case 14:return i.abrupt("return",Promise.reject(n.data.errors));case 15:case"end":return i.stop()}},i)}));return function(e){return i.apply(this,arguments)}}())},handle_search_result:function(e,t){return"new"==e.state.current_core_waybill_scope?Promise.reject("create_core_waybill"):(_.findLast(e.state.core_waybills,function(e){return e.identity==t.core_waybill.identity})&&_.remove(e.state.core_waybills,{identity:t.core_waybill.identity}),e.state.core_waybills.push(t.core_waybill),e.state.core_waybills.length>=10&&e.state.core_waybills.shift(),Promise.resolve())},speech_consignee_info:function(){var e=re(regeneratorRuntime.mark(function e(t,i){var n,s,a,r,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t.state.settings.is_speech_mode){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:for(e.prev=2,n="",s=0,a=0,r=["consignee_company_name","consignee_name"];a<r.length;a++)o=r[a],t.state.current_core_waybill[o]&&(n&&0!=s&&(n+=","),n+=t.state.current_core_waybill[o]),s++;if(!n){e.next=9;break}return e.next=9,new Promise(function(e){var t=new se.a({onend:function(){return e()},oncancel:function(){return e()}});t.cancel(),isNaN(n)?t.speak(n):t.speak(n.split("").join(" "))});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](2),console.log(e.t0);case 14:return e.prev=14,e.abrupt("return",Promise.resolve());case 17:case"end":return e.stop()}},e,null,[[2,11,14,17]])}));function t(t,i){return e.apply(this,arguments)}return t}(),search_or_create_core_waybill:function(){var e=re(regeneratorRuntime.mark(function e(t,i){var n,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,i.partition.identity){e.next=3;break}return e.abrupt("return",Promise.reject("partition_not_found"));case 3:return e.next=5,t.dispatch("search_core_waybill",i);case 5:e.next=19;break;case 7:e.prev=7,e.t0=e["catch"](0),e.t1=e.t0,e.next="core_waybill_not_found"===e.t1?12:19;break;case 12:return n=new RestUrl(t.rootState.provider.routes.api_v1_provider_core_waybills_create),s=n.parse(),e.next=16,axios.post(s,{partition_identity:i.partition.identity,original_number:i.original_number,is_used:!0},{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){console.log(e),"success"==e.data.status?(i.core_waybill=e.data.core_waybill,t.state.current_core_waybill=i.core_waybill):Promise.reject("failed_to_create_core_waybill")});case 16:return e.next=18,t.dispatch("search_core_waybill",i);case 18:return e.abrupt("break",19);case 19:case"end":return e.stop()}},e,null,[[0,7]])}));function t(t,i){return e.apply(this,arguments)}return t}(),check_quick_core_waybill_related_columns:function(e,t){return e.getters.current_core_waybill_need_related_columns.length&&!e.state.is_updated_core_waybill_related_columns?Promise.reject("core_waybill_related_column_is_empty"):(e.state.settings.is_quick_corewaybill_related_columns&&e.commit("set_actions_core_waybill_related_columns",e.state.quick_core_waybill_related_columns),e.state.is_updated_core_waybill_related_columns=!1,Promise.resolve())},instantiate_scan_action_prototype:function(e,t){var i=!0,n={location:(e.rootState.provider.current_staff.station||{}).name},s=new RestUrl(e.rootState.provider.routes.api_v1_provider_scan_action_prototype_instantiate),a=s.parse({barcode:t.scan_action_prototype.barcode,core_waybill_identity:t.core_waybill.identity},"");if(e.state.settings.is_scan_action_mode&&e.getters.current_scan_action_prototype_description_required_scope.length&&!e.state.scan_action_description)return Promise.reject("scan_action_description_is_empty");e.state.scan_action_description&&(n.description=e.state.scan_action_description);var r=_.findLast(e.state.core_waybill_counters,function(t){return t.identity==e.state.current_core_waybill.identity}),o=_.findIndex(e.state.core_waybill_counters,{identity:e.state.current_core_waybill.identity});if(e.state.settings.is_core_waybill_pieces_mode&&1!=e.state.current_core_waybill.pieces){try{if("-1"==o)throw o=0,r={number:e.state.current_core_waybill.number,identity:e.state.current_core_waybill.identity,core_waybill_pieces:e.state.current_core_waybill.pieces,current_core_waybill_counter:1},e.state.core_waybill_counters.push(r),!1;if(r.current_core_waybill_counter+=1,!(r.current_core_waybill_counter>=e.state.current_core_waybill.pieces))throw!1}catch(c){i=c}e.state.core_waybill_counters.splice(o,1,r),e.dispatch("set_local_storage_core_waybill_counter"),t.core_waybill_pieces=r.core_waybill_pieces,t.current_core_waybill_counter=r.current_core_waybill_counter,t.is_waiting_instantiate_scan_action=!0}return i?axios.post(a,n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(i){if(e.state.scan_action_description="","-1"!=o&&_.remove(e.state.core_waybill_counters,function(t){return t.identity==e.state.current_core_waybill.identity}),"success"!=i.data.status){t.status="Failure";for(var n=0,s=Object.keys(i.data.errors);n<s.length;n++){var a=s[n],r=!0,c=!1,l=void 0;try{for(var u,d=i.data.errors[a][Symbol.iterator]();!(r=(u=d.next()).done);r=!0){var p=u.value;t.errors.push(p)}}catch(m){c=!0,l=m}finally{try{r||null==d["return"]||d["return"]()}finally{if(c)throw l}}}return Promise.reject("failed_to_instantiate_scan_action_prototype")}}):void 0},add_core_waybills_to_operation:function(e,t){if(e.rootState.provider.current_staff_operation.identity){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_operation_add_core_waybills).parse({operation_identity:e.rootState.provider.current_staff_operation.identity},""),n={core_waybill_identities:[t.core_waybill.identity]};return axios.post(i,n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){if("success"==e.data.status)_.includes(e.data.success_core_waybill_identities,function(e){return e==t.core_waybill.identity})||t.errors.push("Failed to add to operation");else if("failure"==e.data.status)return t.errors.push(e.data.errors),Promise.reject("core_waybill_not_found")})}},fetch_statuses:function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_core_waybill_statuses),n=i.parse({core_waybill_identity:e.state.current_core_waybill.identity},"");return axios.get(n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return Promise.reject("failed_to_fetch_core_waybill_statuses");e.state.current_core_waybill.latest_status=t.data.latest_status,e.state.current_core_waybill.statuses=t.data.statuses})},distribute:function(e,t){if(e.state.settings.is_distributed_to_mode&&t.station.identity){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_station_distribute),n=i.parse({station_identity:t.station.identity,core_waybill_identity:e.state.current_core_waybill.identity},"");return axios.post(n,{},{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.state.distributed_to=t.data.distributed_to?t.data.distributed_to:{}})}},pack:function(){var e=re(regeneratorRuntime.mark(function e(t,i){var n,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t.state.package_message={status:"",content:""},t.state.settings.is_package_mode){e.next=4;break}return e.abrupt("return",Promise.resolve());case 4:if(n=t.getters.current_pack_taget_parent_material,s=t.getters.current_pack_taget_material,n.class_name){e.next=8;break}throw"請選擇包材";case 8:if(s.class_name){e.next=10;break}throw"請選擇包裝目標";case 10:if(t.state["package"].core_waybills.length||t.state["package"].parent_core_waybill.identity){e.next=19;break}if(i.core_waybill.material.class_name!=n.class_name){e.next=17;break}return e.next=14,t.commit("set_package",i.core_waybill);case 14:return e.abrupt("return",Promise.resolve());case 17:if(i.core_waybill.material.class_name!=s.class_name){e.next=19;break}throw"請掃"+n.name;case 19:if(i.core_waybill.identity==t.state["package"].parent_core_waybill.identity){e.next=35;break}if(i.core_waybill.material.class_name!=n.class_name||i.core_waybill.material.class_name==s.class_name){e.next=28;break}if(!t.state["package"].core_waybills.length){e.next=24;break}return e.next=24,t.dispatch("submit_package",i);case 24:return e.next=26,t.commit("set_package",i.core_waybill);case 26:e.next=35;break;case 28:if(i.core_waybill.material.class_name!=s.class_name){e.next=32;break}t.commit("push_package",i.core_waybill),e.next=35;break;case 32:if(t.state["package"].core_waybills.length){e.next=34;break}throw"請掃"+n.name;case 34:throw"請掃"+n.name+"或"+s.name;case 35:return e.abrupt("return",Promise.resolve());case 38:return e.prev=38,e.t0=e["catch"](0),t.state.package_message={status:"failure",content:"無法包裝["+i.core_waybill.material.name+"]，"+e.t0},e.abrupt("return",Promise.reject());case 42:case"end":return e.stop()}},e,null,[[0,38]])}));function t(t,i){return e.apply(this,arguments)}return t}(),unpack:function(){var e=re(regeneratorRuntime.mark(function e(t,i){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!t.state.settings.is_unpackage_mode){e.next=5;break}return e.next=3,t.commit("set_package",i.core_waybill);case 3:return e.next=5,t.dispatch("submit_package",i);case 5:return e.abrupt("return",Promise.resolve());case 6:case"end":return e.stop()}},e)}));function t(t,i){return e.apply(this,arguments)}return t}(),submit_package:function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_core_waybills_pack).parse({}),n={parent_core_waybill_identity:e.state["package"].parent_core_waybill.identity,source_core_waybill_identity:e.state.settings.pack_need_source_mode?e.state["package"].source_core_waybill_identity:null,core_waybill_identities:e.state.settings.is_unpackage_mode?[]:_.map(e.state["package"].core_waybills,"identity")};return axios.post(i,n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(i){if("success"!=i.data.status)return t.package_response=i.data,t.errors.push("包裝失敗，"+i.data.errors),Promise.reject("包裝失敗，"+i.data.errors);e.state.package_response_history.push(_.assign(i.data,{id:e.state.package_response_history.slice(-1).pop()?e.state.jobs.slice(-1).pop().id+1:1,is_setting_is_package_mode:e.state.settings.is_package_mode}))})},set_local_storage_core_waybill_counter:function(e,t){var i=[];_.forEach(e.state.core_waybill_counters,function(e){i.push(JSON.stringify(e))}),localStorage.setItem("scanner_core_waybill_counters",i.toString())},set_local_storage_job:function(e,t){var i=[];_.forEach(e.state.jobs,function(e){var t=$.extend(!0,{},e);delete t.core_waybill,i.push(JSON.stringify(t)),i.length>=31&&i.shift()}),localStorage.setItem("scanner_jobs",i.toString())},clear_core_waybill_counter:function(e,t){localStorage.setItem("scanner_core_waybill_counters",""),e.state.core_waybill_counters=[]},clear_job:function(e,t){localStorage.setItem("scanner_jobs",""),e.state.jobs=[]},clear_distributed_to:function(e,t){e.state.distributed_to={}},set_current_operation:function(e,t){e.state.current_operation=t},actions_core_waybill_related_column:function(e,t){e.state.actions_core_waybill_related_columns[t.name]=t.value}},mutations:{update_current_job:function(e,t){_.merge(e.current_job,t)},push_package:function(e,t){_.findLast(e["package"].core_waybills,t)||e["package"].core_waybills.push(t)},set_package:function(e,t){e["package"]={parent_core_waybill:t,core_waybill_identities:[],core_waybills:[],source_core_waybill_identity:t.identity}},set_actions_core_waybill_related_columns:function(e,t){e.actions_core_waybill_related_columns=t},set_is_updated_core_waybill_related_columns:function(e,t){e.is_updated_core_waybill_related_columns=t},set_scan_action_prototypes:function(e,t){e.scan_action_prototypes=t},set_current_partition:function(e,t){e.current_partition=t},set_materials:function(e,t){e.materials=t},set_current_weight:function(e,t){e.current_weight=t},set_partitions:function(e,t){e.partitions=t},add_job:function(e,t){e.jobs.push(t)},update_actions_core_waybill_related_column:function(e,t){e.actions_core_waybill_related_columns[t.related_column_name]=t.value}}},ce=oe,_e={namespaced:!0,state:{},getters:{},actions:{},mutations:{}},le=_e;function ue(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){de(e,t,i[t])})}return e}function de(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var pe={namespaced:!0,state:{filter:{is_advanced_mode:!1,shortcut_keys:["staff_name","begin_at","end_at","total_amount_from","total_amount_to","created_duration"],current_shortcut_key:"staff_name",init_columns:{page:1,staff_name:null,total_amount_from:null,total_amount_to:null,created_duration:"",created_at_from:null,created_at_to:null,begin_at:null,end_at:null},columns:{}},is_selected:!1,pagination:{},driver_commission_reports:[]},getters:{filter_to_query:function(e,t,i,n){var s=_.cloneDeep(e.filter.columns);return s.page&&delete s.page,s.created_duration&&(s.created_duration[0]&&(s.created_at_from=T()(s.created_duration[0]).format("YYYY-MM-DD")),s.created_duration[1]&&(s.created_at_to=T()(s.created_duration[1]).format("YYYY-MM-DD")),delete s.created_duration),s.begin_at&&(s.begin_at=T()(s.begin_at).format("YYYY-MM-DDTHH:mm:ss")),s.end_at&&(s.end_at=T()(s.end_at).format("YYYY-MM-DDTHH:mm:ss")),object_delete_null(s)},filter_to_api_query:function(e,t,i,n){return function(t){var i=_.cloneDeep(e.filter.columns);return i.created_duration&&(i.created_duration[0]&&(i.created_at_from=date_to_start(i.created_duration[0])),i.created_duration[1]&&(i.created_at_to=date_to_end(i.created_duration[1])),delete i.created_duration),i.begin_at&&(i.begin_at=T()(i.begin_at).format("YYYY-MM-DDTHH:mm:ss"+get_time_zone())),i.end_at&&(i.end_at=T()(i.end_at).format("YYYY-MM-DDTHH:mm:ss"+get_time_zone())),object_to_query(i)}}},actions:{fetch_driver_commission_reports:function(e,t){e.commit("set_is_selected",!1);var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_driver_commission_reports).parse({},""),n=e.getters.filter_to_api_query();return n&&(i+="?".concat(n)),console.log(i),axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if(e.commit("set_is_selected",!0),"success"==t.data.status)console.log(t.data),e.commit("set_driver_commission_reports",_.orderBy(t.data.driver_commission_reports,["created_at"],["desc"])),e.commit("set_pagination",t.data.pagination);else if("failure"==t.data.status)return Promise.reject("fetch_driver_commission_reports_failure")})["catch"](function(t){return e.commit("set_is_selected",!0),Promise.reject(k()(t))})},handle_query_to_filter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.query){var i=ue({},_.cloneDeep(e.state.filter.init_columns),t.query);i.created_at_from&&i.created_at_to&&(i.created_duration=[T()(i.created_at_from)||"",T()(i.created_at_to)||""],delete i.created_at_from,delete i.created_at_to),i.begin_at&&(i.begin_at=T()(i.begin_at).format("YYYY-MM-DDTHH:mm:ss")),i.end_at&&(i.end_at=T()(i.end_at).format("YYYY-MM-DDTHH:mm:ss")),e.state.filter.columns=ue({},e.state.filter.columns,i)}},handle_quick_filter_key:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=object_delete_null(_.cloneDeep(e.state.filter.columns));t.page&&delete t.page;var i={number:0,number_last_key:""};e.state.filter.shortcut_keys.forEach(function(e){t[e]&&(i.number+=1,i.number_last_key=e)}),1==i.number&&(e.state.filter.current_shortcut_key=i.number_last_key),(0==i.number&&Object.keys(t).length>=1||i.number>=2)&&(e.state.filter.is_advanced_mode=!0)}},mutations:{set_driver_commission_reports:function(e,t){e.driver_commission_reports=t},set_is_selected:function(e,t){e.is_selected=t},set_pagination:function(e,t){e.pagination=t},init_filter_columns:function(e,t){e.filter.columns=_.cloneDeep(e.filter.init_columns)}}},me=pe,fe={namespaced:!0,state:{pagination:{current_page:null,total_pages:null},search_params:{name:null,barcode:null,page:null},show_filter:!1},actions:{},mutations:{set_current_page:function(e,t){e.pagination.current_page=t},set_total_pages:function(e,t){e.pagination.total_pages=t},init_search_params:function(e){e.search_params={name:null,barcode:null,page:null}},toggle_filter:function(e){e.show_filter=!e.show_filter}}},he=fe,ve={namespaced:!0,state:{operators:[],core_waybill_payment_types:[{name:"到付",value:"到付"},{name:"寄付",value:"寄付"},{name:"月結",value:"月結"}]},getters:{get_operator_name:function(e,t,i,n){return function(t){var i=_.findLast(e.operators,function(e){return e.identity==t})||null;if(i){if(i.name)return i.name;if(i.company_name)return i.company_name}return!1}}},actions:{fetch_staff:function(e,t){if(!_.find(e.state.staffs,function(e){return e.identity==t.operator_identity})){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_staff),n=i.parse({identity:t.operator_identity});return axios.get(n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.commit("set_operators",t.data.staff)})["catch"](function(e){return console.log("Failed to fetch CustomerNodes."),Promise.reject(e)})}return""},fetch_customer:function(e,t){if(!_.find(e.state.customers,function(e){return e.identity==t.operator_identity})){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_customer),n=i.parse({customer_identity:t.operator_identity});return axios.get(n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.commit("set_operators",t.data.customer)})["catch"](function(e){return console.log("Failed to fetch CustomerNodes."),Promise.reject(e)})}return""}},mutations:{set_operators:function(e,t){e.operators.push(t)}}},ge=ve,be={namespaced:!0,state:{current_identity:""},actions:{},mutations:{}},ye=be,we={namespaced:!0,state:{},getters:{},actions:{},mutations:{}},$e=we;function ke(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){xe(e,t,i[t])})}return e}function xe(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Ce={namespaced:!0,state:{pagination:{current_page:null,total_pages:null},filter:{is_advanced_mode:!1,shortcut_keys:["name","priority","strategy","strategy_value","station_identity","material_identity","is_activated"],current_shortcut_key:"name",init_columns:{page:1,name:null,strategy:null,strategy_value:null,priority:null,station_identity:null,material_identity:null,is_activated:!1},columns:{}},materials:[],distributions:[]},getters:{filter_to_query:function(e,t,i,n){var s=_.cloneDeep(e.filter.columns);return s.page&&delete s.page,s.is_activated||delete s.is_activated,object_delete_null(s)},filter_to_api_query:function(e,t,i,n){return function(t){var i=_.cloneDeep(e.filter.columns);return object_to_query(i)}}},actions:{fetch_distributions:function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_distributions).parse({},""),n=e.getters.filter_to_api_query();return n&&(i+="?".concat(n)),console.log(i),axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"==t.data.status)e.commit("set_distributions",t.data.distributions),e.commit("set_pagination",t.data.pagination);else if("failure"==t.data.status)return Promise.reject("fetch_distributions_failure")})["catch"](function(e){return Promise.reject(ResponseError(e))})},fetch_materials:function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_materials).parse({},"");return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.commit("set_materials",t.data.materials)})["catch"](function(e){return console.log("Failed to fetch materials."),Promise.reject(e)})},handle_query_to_filter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.query){var i=ke({},_.cloneDeep(e.state.filter.init_columns),t.query);i.is_activated&&(i.is_activated=1==i.is_activated||"true"==i.is_activated),e.state.filter.columns=ke({},e.state.filter.columns,i)}},handle_quick_filter_key:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=object_delete_null(_.cloneDeep(e.state.filter.columns));t.page&&delete t.page,t.is_activated||delete t.is_activated;var i={number:0,number_last_key:""};e.state.filter.shortcut_keys.forEach(function(e){t[e]&&(i.number+=1,i.number_last_key=e)}),1==i.number&&(e.state.filter.current_shortcut_key=i.number_last_key),(0==i.number&&Object.keys(t).length>=1||i.number>=2)&&(e.state.filter.is_advanced_mode=!0)}},mutations:{set_distributions:function(e,t){e.distributions=t},set_materials:function(e,t){e.materials=t},set_pagination:function(e,t){e.pagination=t},init_filter_columns:function(e,t){e.filter.columns=_.cloneDeep(e.filter.init_columns)}}},Pe=Ce;function Se(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){Ne(e,t,i[t])})}return e}function Ne(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var qe={namespaced:!0,state:{pagination:{current_page:null,total_pages:null},filter:{shortcut_keys:["staff_identity"],current_shortcut_key:"staff_identity",init_columns:{page:1,staff_identity:null,driver_commission_policy_identity:null,amount:null,polarity:null},columns:{}},driver_commissions:[],staffs:[]},getters:{filter_to_query:function(e,t,i,n){var s=_.cloneDeep(e.filter.columns);return s.page&&delete s.page,object_delete_null(s)},filter_to_api_query:function(e,t,i,n){return function(t){var i=_.cloneDeep(e.filter.columns);return object_to_query(i)}}},actions:{fetch_staffs:function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_staffs).parse({},"?"+object_to_query({pagination:!1}));return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.commit("set_staffs",t.data.staffs)})["catch"](function(e){return console.log("Failed to fetch Roles."),Promise.reject(e)})},fetch_driver_commissions:function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_driver_commissions).parse({}),n=e.getters.filter_to_api_query();return n&&(i+="?".concat(n)),axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"==t.data.status)e.commit("set_driver_commissions",t.data.driver_commissions),e.commit("set_pagination",t.data.pagination);else if("failure"==t.data.status)return Promise.reject("fetch fetch_driver_commissions failure")})["catch"](function(e){return console.log("fetch fetch_driver_commissions failure"),Promise.reject(e)})},handle_query_to_filter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.query){var i=Se({},_.cloneDeep(e.state.filter.init_columns),t.query);e.state.filter.columns=Se({},e.state.filter.columns,i)}},handle_quick_filter_key:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=object_delete_null(_.cloneDeep(e.state.filter.columns));t.page&&delete t.page,t.staff_identity&&(e.state.filter.is_show=!0)}},mutations:{set_driver_commissions:function(e,t){e.driver_commissions=t},set_staffs:function(e,t){e.staffs=t},set_pagination:function(e,t){e.pagination=t},init_filter_columns:function(e,t){e.filter.columns=_.cloneDeep(e.filter.init_columns)}}},Ae=qe;function Ee(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){ze(e,t,i[t])})}return e}function ze(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var je,Re,Oe={namespaced:!0,state:{pagination:{current_page:null,total_pages:null},filter:{is_advanced_mode:!1,shortcut_keys:["username","company_name","email","phone","fax","is_banned"],current_shortcut_key:"username",init_columns:{page:1,username:null,company_name:null,email:null,phone:null,fax:null,is_banned:null},columns:{}},customers:[],provider_contracts:[]},getters:{filter_to_query:function(e,t,i,n){var s=_.cloneDeep(e.filter.columns);return s.page&&delete s.page,object_delete_null(s)},filter_to_api_query:function(e,t,i,n){return function(t){var i=_.cloneDeep(e.filter.columns);return object_to_query(i)}}},actions:{fetch_customers:function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_customers).parse({},""),n=e.getters.filter_to_api_query();return n&&(i+="?".concat(n)),console.log(i),axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"==t.data.status)e.commit("set_customers",t.data.customers),e.commit("set_pagination",t.data.pagination);else if("failure"==t.data.status)return Promise.reject("fetch_customers_failure")})["catch"](function(e){return console.log(e),Promise.reject(k()(e))})},fetch_provider_contracts:function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_provider_contracts),n=i.parse({},"");return axios.get(n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.commit("set_provider_contracts",t.data.provider_contracts)})["catch"](function(e){return console.log(e),Promise.reject(k()(e))})},handle_query_to_filter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.query){var i=Ee({},_.cloneDeep(e.state.filter.init_columns),t.query);e.state.filter.columns=Ee({},e.state.filter.columns,i)}},handle_quick_filter_key:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=object_delete_null(_.cloneDeep(e.state.filter.columns));t.page&&delete t.page;var i={number:0,number_last_key:""};e.state.filter.shortcut_keys.forEach(function(e){t[e]&&(i.number+=1,i.number_last_key=e)}),1==i.number&&(e.state.filter.current_shortcut_key=i.number_last_key),(0==i.number&&Object.keys(t).length>=1||i.number>=2)&&(e.state.filter.is_advanced_mode=!0)}},mutations:{set_provider_contracts:function(e,t){e.provider_contracts=t},set_customers:function(e,t){e.customers=t},set_pagination:function(e,t){e.pagination=t},init_filter_columns:function(e,t){e.filter.columns=_.cloneDeep(e.filter.init_columns)}}},Ie=Oe,De={namespaced:!0,state:{},getters:{},actions:{},mutations:{}},Le=De,Te={namespaced:!0,state:{},getters:{},actions:{},mutations:{}},Be=Te;function Me(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}window.config=n("a078");var Ue=new config,Fe={namespaced:!0,state:{current_staff:{},current_staff_operation:{},current_staff_operations:[],routes:{},is_can_use_scanner:!1,service_config:{},theme_menu:[],theme_menu_keys:[],is_auto_gps_station_position_by_60s:!1,is_auto_gps_station_position_once:!1,current_position:{is_first_initialized:!1,status:"",messages:"",latitude:"",longitude:"",address:{country:"",locality:"",political:"",full:""}},notifications:[],operations:[],stations:[],node:{}},getters:{current_station:function(e,t,i,n){return _.findLast(e.stations,function(t){return t.identity==e.current_staff.station_identity})||{identity:null,name:null}},is_current_staff_need_station:function(e,t,i,n){return!t.current_station.identity&&"manager"!=e.current_staff.theme_name},is_current_staff_minimalist_layout:function(e,t,i,n){return"driver"!=e.current_staff.theme_name}},actions:(je={fetch_node:function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_me).parse({},"");return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.commit("set_node",t.data.node)})["catch"](function(e){console.log("Failed to fetch node.")})},fetch_routes:function(e,t){var i=new RestUrl(e.rootState.settings.station.get_routes_url).parse({},"");return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){var i=t.data.routes;_.forEach(i,function(e,t){i[t]=Ue.lms_url+e}),e.commit("set_routes",i)})["catch"](function(e){console.log("Failed to fetch routes.")})}},Me(je,"fetch_routes",function(e,t){var i=new RestUrl(e.rootState.settings.provider.get_routes_url).parse({},"");return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){var i=t.data.routes;_.forEach(i,function(e,t){i[t]=Ue.lms_url+e}),e.commit("set_routes",i)})["catch"](function(e){console.log("Failed to fetch routes.")})}),Me(je,"fetch_current_staff",function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_staffs_current_staff).parse({},"");return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.commit("set_current_staff",t.data.staff)})["catch"](function(e){console.log("Failed to fetch current staff.")})}),Me(je,"fetch_current_staff_operations",function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_operations),n=i.parse({},"?is_done=false&is_canceled=false&staff_identity="+e.state.current_staff.identity);return axios.get(n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status&&e.commit("set_current_staff_operations",t.data.operations)})["catch"](function(e){console.log("Failed to fetch current staff operation.")})}),Me(je,"fetch_stations",function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_stations).parse({},"?pagination=false");return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.commit("set_stations",t.data.stations)})["catch"](function(e){console.log("Failed to fetch stations.")})}),Me(je,"fetch_customers",function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_customers).parse({},"?"+object_to_query({pagination:!1}));return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.commit("set_customers",t.data.customers)})["catch"](function(e){console.log("Failed to fetch customers.")})}),Me(je,"fetch_notifications",function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_notifications).parse();return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.commit("set_notifications",t.data.notifications)})["catch"](function(e){console.log("Failed to fetch notifications.")})}),Me(je,"fetch_current_position_address",function(e,t){var i="AIzaSyBB-BKWJ_pcsE0zCmdeYkJfB5KcMaQyB14",n=e.state.current_position.latitude+","+e.state.current_position.longitude,s="https://maps.googleapis.com/maps/api/geocode/json?latlng="+n+"&key="+i;return axios.get(s).then(function(t){console.log("Goolge Geocoding API response",t.data),"OK"==t.data.status?e.dispatch("set_current_position_address",_.head(t.data.results)):console.log("Failed to fetch address for Goolge Geocoding API, because:",t.data.status)})["catch"](function(e){console.log("Failed to fetch address for Goolge Geocoding API.")})}),Me(je,"update_current_staff_station_identity",function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_staff_update).parse({identity:e.state.current_staff.identity});return axios.post(i,{station_identity:t.identity},{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(i){e.commit("set_current_staff_station",t)})["catch"](function(e){console.log("Failed to update current_staff_station_identity.")})}),Me(je,"set_current_staff_operation",function(e,t){e.commit("set_current_staff_operation",t),localStorage.setItem("current_staff_operations_number",t.number?t.number:"")}),Me(je,"set_current_position",function(e,t){_.forEach(t,function(t,i){e.state.current_position[i]=t})}),Me(je,"set_current_position_address",function(t,i){t.state.current_position.address.full=i.formatted_address;try{var n=[{name:"country",types:["country","political"]},{name:"locality",types:["administrative_area_level_1","political"],types2:["administrative_area_level_2","political"]},{name:"political",types:["administrative_area_level_3","political"],types2:["locality","political"]}];_.forEach(n,function(e){var n=_.findLast(i.address_components,function(t){return!_.difference(t.types,e.types).length||!(!e.types2||_.difference(t.types,e.types2).length)})||{};t.state.current_position.address[e.name]=n.long_name||""})}catch(e){console.log(e)}console.log("google maps api解析地址為: ",t.state.current_position.address)}),je),mutations:(Re={set_routes:function(e,t){e.routes=t},set_current_staff:function(e,t){e.current_staff=t},set_current_staff_operation:function(e,t){e.current_staff_operation=t},set_current_staff_operations:function(e,t){e.current_staff_operations=t},set_current_staff_station:function(e,t){e.current_staff.station_identity=t.identity,e.current_staff.station=t},set_node:function(e,t){e.node=t}},Me(Re,"set_routes",function(e,t){e.routes=t}),Me(Re,"set_stations",function(e,t){e.stations=t}),Me(Re,"set_customers",function(e,t){e.customers=t}),Me(Re,"set_notifications",function(e,t){e.notifications=t}),Me(Re,"update_notification",function(e,t){var i=_.findIndex(e.notifications,function(e){return e.identity==t.identity});e.notifications.splice(i,1,t)}),Me(Re,"add_notification",function(e,t){e.notifications.unshift(t)}),Re),modules:{assets_module:m,materials_module:h,scanner_module:ce,partitions_module:g,roles_module:y,staffs_module:S,settings_module:q,stations_module:j,status_prototypes_module:O,uploader_module:D,core_waybills_module:Y,packer_module:H,operations_module:X,appraisals_module:Z,user_logs_module:ie,driver_commission_policies_module:le,driver_commission_reports_module:me,scan_action_prototypes_module:he,tool_core_waybill_module:ge,tool_data_card_module:ye,provider_node_module:$e,distributions_module:Pe,driver_commissions_module:Ae,customers_module:Ie,personal_monitor_module:Le,global_monitor_module:Be}},Ye=Fe,Ge={namespaced:!0,state:{partitions:[],associated_partitions:[],pagination:{current_page:null,total_pages:null},materials:[],customers:[]},actions:{fetch_partitions:function(e,t){var i=new RestUrl(e.rootState.station.routes.api_v1_station_partitions),n=i.parse({},"?page="+t.page);return axios.get(n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.commit("set_partitions",t.data.partitions),e.commit("set_pagination",t.data.pagination)})["catch"](function(e){return console.log("Failed to fetch Partitions."),Promise.reject(e)})},fetch_associated_partitions:function(e,t){var i=new RestUrl(e.rootState.station.routes.api_v1_station_associated_partitions),n=i.parse({},"?page="+t.page);return axios.get(n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.commit("set_associated_partitions",t.data.associated_partitions),e.commit("set_pagination",t.data.pagination)})["catch"](function(e){return console.log("Failed to fetch AssociatedPartitions."),Promise.reject(e)})},fetch_customers:function(e,t){var i=new RestUrl(e.rootState.station.routes.api_v1_station_customers),n=i.parse({},"");return axios.get(n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.commit("set_customers",t.data.customers)})["catch"](function(e){return console.log("Failed to fetch CustomerNodes."),Promise.reject(e)})},fetch_materials:function(e,t){var i=new RestUrl(e.rootState.station.routes.api_v1_station_materials).parse({},"");return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return console.log("Failed to fetch Material."),Promise.reject(error);e.commit("set_materials",t.data.materials)})}},mutations:{set_associated_partitions:function(e,t){e.associated_partitions=t},set_partitions:function(e,t){e.partitions=t},set_pagination:function(e,t){e.pagination=t},set_customers:function(e,t){e.customers=t},set_materials:function(e,t){e.materials=t},add_partition:function(e,t){e.partitions.push(t)},update_partition:function(e,t){var i=_.findIndex(e.partitions,function(e){return e.identity==t.identity});e.partitions.splice(i,1,t)},remove_partition:function(e,t){var i=_.findIndex(e.partitions,function(e){return e.identity==t.identity});e.partitions.splice(i,1)}}},He=Ge,Ke={namespaced:!0,state:{pagination:{current_page:null,total_pages:null},filter:{is_advanced_mode:!1,shortcut_keys:["username","name","phone","role_identity","station_identity","theme_name","is_banned"],current_shortcut_key:"name",columns:{username:null,name:null,phone:null,theme_name:null,role_identity:null,station_identity:null,is_banned:null}},roles:[]},actions:{},mutations:{set_current_page:function(e,t){e.pagination.current_page=t},set_total_pages:function(e,t){e.pagination.total_pages=t},init_filter_columns:function(e){e.filter.columns={username:null,name:null,phone:null,theme_name:null,role_identity:null,station_identity:null,is_banned:null}},set_roles:function(e,t){e.roles=t}}},We=Ke;window.config=n("a078");new config;var Ve={namespaced:!0,state:{customers:[],requester_node:null,requester_contract:null,operator_node:{},waybill_raw_datas:[],waybill_processed_datas:[],receivers:[],converters:[],current_converter:null,conversions:[],open_file_url:null,file_upload_url:"https://air.formosaas.com/api/v1/:app_id/cloud/:access_token/:identity/bucket/:bucket_identity/upload",fetch_customers_url:null,fetch_converters_url:null,create_operation_url:null,use_waybill_url:null,validate_waybill_url:null,validator:"standard"},getters:{},actions:{set_urls:function(e,t){return new Promise(function(t){var i=e.rootState.current_scope;e.commit("set_open_file_url",e.rootState[i].routes.api_v1_station_file_converters_convert),e.commit("set_file_upload_url",new RestUrl(e.rootState[i].uploader_module.file_upload_url).parse({app_id:e.rootState[i].current_node.air_service.air_app_id,access_token:e.rootState[i].current_node.air_service.air_access_token,identity:e.rootState[i].current_node.air_service.air_identity,bucket_identity:e.rootState[i].current_node.air_service.air_bucket_identity,air_authorization:e.rootState[i].current_node.air_service.air_authorization},"?authorization="+e.rootState[i].current_node.air_service.air_authorization+"&is_froala=true")),e.commit("set_create_operation_url",e.rootState[i].routes["api_v1_station_operations_create"]),e.commit("set_use_waybill_url",e.rootState[i].routes["api_v1_station_operation_use_core_waybill"]),e.commit("set_fetch_customers_url",e.rootState[i].routes["api_v1_station_customers"]),e.commit("set_validate_waybill_url",e.rootState[i].routes["api_v1_station_core_waybills_usable_core_waybills"]),e.commit("set_fetch_converters_url",e.rootState[i].routes["api_v1_station_file_converters"]),t()})},fetch_customers:function(e,t){e.rootState.current_scope;var i=new RestUrl(e.state.fetch_customers_url).parse({},"?"+object_to_query({pagination:!1,is_banned:!1}));return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?e.commit("set_customers",t.data.customers):t.data.status})["catch"](function(e){})},fetch_converters:function(e,t){e.rootState.current_scope;return axios.get(e.state.fetch_converters_url,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?e.commit("set_converters",t.data.converters):t.data.status})["catch"](function(e){})},fetch_operator_node:function(e,t){e.commit("set_operator_node",e.rootState.station.current_node)}},mutations:{set_open_file_url:function(e,t){e.open_file_url=t},set_file_upload_url:function(e,t){e.file_upload_url=t},set_create_operation_url:function(e,t){e.create_operation_url=t},set_use_waybill_url:function(e,t){e.use_waybill_url=t},set_fetch_customers_url:function(e,t){e.fetch_customers_url=t},set_fetch_converters_url:function(e,t){e.fetch_converters_url=t},set_validate_waybill_url:function(e,t){e.validate_waybill_url=t},set_requester_node:function(e,t){e.requester_node=t},set_requester_contract:function(e,t){e.requester_contract=t},set_customers:function(e,t){e.customers=t},set_conversions:function(e,t){e.conversions=t},set_converters:function(e,t){e.converters=t},set_waybill_raw_datas:function(e,t){e.waybill_raw_datas=t},set_waybill_processed_datas:function(e,t){e.waybill_processed_datas=t},set_receivers:function(e,t){e.receivers=t},set_current_converter:function(e,t){e.current_converter=t},set_operator_node:function(e,t){e.operator_node=t},init:function(e,t){e.customers=[],e.requester_node=null,e.requester_contract=null,e.operator_node={},e.waybill_raw_datas=[],e.waybill_processed_datas=[],e.receivers=[],e.converters=[],e.current_converter=null,e.conversions=[],e.open_file_url=null,e.file_upload_url="https://air.formosaas.com/api/v1/:app_id/cloud/:access_token/:identity/bucket/:bucket_identity/upload",e.fetch_customers_url=null,e.fetch_converters_url=null,e.create_operation_url=null,e.use_waybill_url=null,e.validate_waybill_url=null,e.validator="standard"}}},Xe=Ve,Qe={namespaced:!0,state:{current_form_entity_type:!0,current_core_waybill:{},core_waybills:[],current_page:1,total_pages:1,quick_filters:{number:["number","original_number","tracking_number","flight_number"],info:["sender_name","sender_company_name","divider","consignee_name","consignee_company_name","consignee_phone","consignee_address","divider","note","shipping_note"],status:["name"]},quick_filter_key:{number:"number",info:"sender_name",status:"latest_status"},filter_init:{number:null,original_number:null,tracking_number:null,flight_number:null,sender_name:null,consignee_name:null,consignee_phone:null,consignee_address:null,note:null,is_used:null,created_at:{},operation:{number:null},material:{class_names:null},condition:{current_operator_identity:null,current_location:null,polarity:"true",name:null,updated_at:{}},status:{operator_identity:null,scope:null,name:null,created_at:{}}},filter:{created_at:{},operation:{},material:{},condition:{polarity:"true",updated_at:{}},status:{scope:null,name:null,created_at:{}}},filter_url_params:"",is_show_filter:{simple:!1,detail:!1},is_can_print_label:!1,staffs:[],materials:[],scan_action_prototypes:[],condition_status_prototypes:[],tool_label:{core_waybill_length:0,numbers:"",label_name:""},csv:{is_processing:!1,url:null},customers:[],core_waybill_conditions:["current_release","current_handover","current_collect","current_check","current_ship","current_back","current_delivered","current_transfer","current_intermodal","current_exception","current_lock","current_done","current_use","divider","already_use","already_release","already_handover","already_collect","already_check","already_ship","already_back","already_delivered","already_transfer","already_intermodal","already_exception","already_lock","already_done","divider","can_use","can_release","can_handover","can_collect","can_check","can_ship","can_back","can_delivered","can_transfer","can_intermodal","can_exception","can_lock","can_done"]},getters:{customer:function(e,t,i,n){return function(t){return _.findLast(e.customers,function(e){return e.identity==t})||{}}}},actions:{fetch_customer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e.getters.customer(t.customer_identity).identity){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_customer).parse({customer_identity:t.customer_identity});return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return Promise.reject("fetch_customer_failure");e.commit("set_push_customers",t.data.customer)})}},fetch_core_waybills:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this;e.commit("set_tool_label",{core_waybill_length:0,numbers:"",label_name:""});var n=new RestUrl(e.rootState.provider.routes.api_v1_provider_core_waybills_filter),s=n.parse({});return s+="?page=",s=t.page?s+t.page:s+e.state.current_page,e.state.is_can_print_label=!!e.state.filter_url_params,s=s+"&"+e.state.filter_url_params,s+="&latest_status_scope=operator",axios.get(s,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(n){if(e.commit("set_core_waybills",[]),"success"!=n.data.status)return Promise.reject("fetch_core_waybills_failure");if(e.commit("set_core_waybills",n.data.core_waybills),e.commit("set_pagination",n.data.pagination),!n.data.core_waybills.length)return Promise.reject("fetch_core_waybills_no_anything_core_waybills");if("edit"==t.action){if(console.log("response.data.core_waybills[0]",n.data.core_waybills[0]),!n.data.core_waybills.length)return Promise.reject("fetch_core_waybills_no_anything_core_waybills");i.$router.push({name:"edit_core_waybill",params:{identity:n.data.core_waybills[0].identity}})}})},fetch_staffs:function(e,t){var i=e.rootState.provider.routes.api_v1_provider_staffs+"?pagination=false";return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return Promise.reject("fetch_staffs_failure");e.commit("set_staffs",t.data.staffs)})},fetch_materials:function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_materials).parse({},"");return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return Promise.reject("fetch_materials_failure");e.commit("set_materials",t.data.materials)})},fetch_scan_action_prototypes:function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_scan_action_prototypes).parse({},"?pagination=false");return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return Promise.reject("fetch_scan_action_prototypes_failure");e.commit("set_scan_action_prototypes",t.data.scan_action_prototypes)})},fetch_condition_status_prototypes:function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_status_prototypes).parse({},"?pagination=false");return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return Promise.reject("fetch_condition_status_prototypes_failure");var i=_.groupBy(t.data.status_prototypes,"scope");e.commit("set_condition_status_prototypes",i["condition"])})},fetch_core_waybills_pagination_false:function(e,t){if(!e.state.filter_url_params)return e.commit("set_tool_label",{core_waybill_length:0,numbers:"",label_name:""}),Promise.reject("fetch_core_waybills_pagination_false nothing filter");var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_core_waybills_filter),n=i.parse({});return n+="?pagination=false",e.state.filter_url_params&&(n+="&"+e.state.filter_url_params),axios.get(n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if(e.commit("set_tool_label",{core_waybill_length:0,numbers:"",label_name:""}),"success"!=t.data.status)return Promise.reject("fetch_core_waybills_pagination_false_error");var i,n=_.groupBy(t.data.core_waybills,"label_type"),s=0;if(""==Object.keys(n)||1!=Object.keys(n).length)return Promise.reject("core_waybills_label_type_different");s=t.data.core_waybills.length,i=_.map(t.data.core_waybills,"number").toString(),n=Object.keys(n).toString(),e.commit("set_tool_label",{core_waybill_length:s,numbers:i,label_name:n})})},fetch_core_waybills_csv_new:function(t,i){try{var n=new RestUrl(t.rootState.provider.routes.api_v1_provider_core_waybills_report_job).parse();return console.log(n),axios.get(n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){return t.state.csv.is_processing=!0,t.state.csv.url=null,"success"==e.data.status?Promise.reject("success"):Promise.reject("errores")})}catch(e){return console.log(e),Promise.reject(e)}},fetch_core_waybills_csv:function(e,t){var i=Math.floor(Date.now()/1e3),n=t.type?"&csv_tpye="+t.type:null,s=new RestUrl(e.rootState.provider.routes.api_v1_provider_core_waybills_filter+".csv").parse({},"?v="+i+n);return e.state.filter_url_params&&(s=s+"&"+e.state.filter_url_params),axios.get(s,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){if("success"==e.data.status){var i=document.createElement("a"),n=new Blob(["\ufeff",e.data.csv]),s=URL.createObjectURL(n),a="clearance"==t.type?"_清關":"";i.href=s,i.download=T()().format("YYYY-MM-DD HH:mm:ss")+a+".csv",document.body.appendChild(i),i.click(),document.body.removeChild(i)}else if("failure"==e.data.status)return Promise.reject("fetch_core_waybills_svg_error")})["catch"](function(e){return Promise.reject("fetch_core_waybills_svg_error")})},handle_filter_url_params:function(e,t){var i=_.cloneDeep(e.state.filter);i.status.created_duration?(i.status.created_at.from=T()(i.status.created_duration[0]).startOf("day").format("YYYY-MM-DDTHH:mm:ss+08:00"),i.status.created_at.to=T()(i.status.created_duration[1]).endOf("day").format("YYYY-MM-DDTHH:mm:ss+08:00"),delete i.status.created_duration):i.status.created_at={},i.condition.updated_duration?(i.condition.updated_at.from=T()(i.condition.updated_duration[0]).startOf("day").format("YYYY-MM-DDTHH:mm:ss+08:00"),i.condition.updated_at.to=T()(i.condition.updated_duration[1]).endOf("day").format("YYYY-MM-DDTHH:mm:ss+08:00"),delete i.condition.updated_duration):i.condition.updated_at={},i.created_duration?(i.created_at.from=T()(i.created_duration[0]).startOf("day").format("YYYY-MM-DDTHH:mm:ss+08:00"),i.created_at.to=T()(i.created_duration[1]).endOf("day").format("YYYY-MM-DDTHH:mm:ss+08:00"),delete i.created_duration):i.created_at={},_.forEach(["number","flight_number","original_number","tracking_number","sender_name","sender_company_name","consignee_name","consignee_company_name","consignee_address","consignee_phone","note"],function(e){i[e]&&(i[e]="%"+i[e]+"%")}),i.operation.number&&(i.operation.number="%"+i.operation.number+"%"),e.commit("set_filter_url_params",object_to_query(i))},clear_filter_url_params:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.commit("set_filter_url_params",""),e.commit("set_filter",_.cloneDeep(e.state.filter_init)),t.operation_number&&(e.state.filter.operation.number=t.operation_number)},set_filter_init:function(e,t){e.commit("set_filter",_.cloneDeep(e.state.filter_init))},set_filter_kay_value:function(e,t){e.commit("set_filter_kay_value",t)}},mutations:{set_core_waybills:function(e,t){e.core_waybills=t},set_push_customers:function(e,t){e.customers.push(t)},set_staffs:function(e,t){e.staffs=t},set_materials:function(e,t){e.materials=t},set_scan_action_prototypes:function(e,t){e.scan_action_prototypes=t},set_condition_status_prototypes:function(e,t){e.condition_status_prototypes=t},set_tool_label:function(e,t){e.tool_label=t},set_pagination:function(e,t){e.current_page=t.current_page,e.total_pages=t.total_pages},set_filter:function(e,t){e.filter=t},set_filter_kay_value:function(e,t){e.filter[t.key]=t.value},set_filter_url_params:function(e,t){e.filter_url_params=t}}},Ze=Qe,Je={namespaced:!0,state:{pagination:{current_page:null,total_pages:null},filter:{is_advanced_mode:!1,shortcut_keys:["number","provider_note","customer_identity","customer_note","original_file_name","is_done","is_canceled","created_at"],current_shortcut_key:"number",columns:{created_duration:"",begin_at:null,end_at:null,number:null,provider_note:null,customer_identity:null,customer_note:null,original_file_name:null,is_done:!1,is_canceled:!1}},staffs:[]},getters:{},actions:{fetch_staffs:function(e,t){var i=new RestUrl(e.rootState.station.routes.api_v1_station_staffs).parse({},"?"+object_to_query({pagination:!1}));return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.commit("set_staffs",t.data.staffs)})["catch"](function(e){return console.log("Failed to fetch Roles."),Promise.reject(e)})}},mutations:{set_current_page:function(e,t){e.pagination.current_page=t},set_total_pages:function(e,t){e.pagination.total_pages=t},init_filter_columns:function(e){e.filter.columns={begin_at:null,end_at:null,number:null,provider_note:null,customer_identity:null,customer_note:null,original_file_name:null,is_done:!1,is_canceled:!1}},set_staffs:function(e,t){e.staffs=t}}},et=Je;function tt(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function it(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){tt(a,n,s,r,o,"next",e)}function o(e){tt(a,n,s,r,o,"throw",e)}r(void 0)})}}var nt,st,at={namespaced:!0,state:{is_setting:!1,is_keydown:!0,config:{theme:{},settings:{},setting_groups:{}},current_setting_group:{},setting_groups:{},quick_setting_regexps:{group:/@@(search|package|unpackage|distributed_to|pack_house_waybill|pack_waybill_goods|LA[0-9]+|LB[0-9]+)@@/i,barcode:/####(LA[0-9]+)####|####(LB[0-9]+)####/i,mode:/##(\w+_mode)_(true|false|min_card|card|detail|Master|House|Waybill|Goods|Package)##/i},settings:{is_scan_mode:!0,is_scan_action_mode:!1,is_batch_mode:!1,is_operation_mode:!0,is_core_waybill_pieces_mode:!0,is_update_corewaybill_mode:!1,is_auto_print_label_mode:!1,is_distributed_to_mode:!1,is_noty_audio_mode:!1,is_speech_mode:!1,is_quick_corewaybill_related_columns:!1,is_package_mode:!1,is_unpackage_mode:!1,pack_p_m_mode:"",pack_m_mode:"",pack_need_source_mode:!1,core_waybill_template_mode:"card"},core_waybills:[],current_core_waybill:{},current_core_waybill_scope:"",scan_action_prototypes:[],current_scan_action_prototype:{name:null,identity:null},jobs:[],current_job:{},is_updated_core_waybill_related_columns:!1,actions_core_waybill_related_columns:{},alert_core_waybill_related_columns_focus_input_name:"",quick_core_waybill_related_columns:{},core_waybill_counters:[],current_pack_taget_parent_material_identity:"",current_pack_taget_material_identity:"",package_response_history:[],package_message:{status:"failure",content:""},package:{source_core_waybill_identity:null,core_waybills:[],parent_core_waybill:{}},distributed_to:{},scan_action_description:"",materials:[]},getters:{is_can_use_setting:function(e,t,i,n){return function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!t)return!1;var i=_.findLast(e.config.settings,function(e){return e==t});return!!i}},current_staff_operation_customer:function(e,t,i,n){return i.station.current_staff_operation&&i.station.current_staff_operation.customer||{}},current_pack_taget_parent_material:function(e,t,i,n){return _.findLast(e.materials,function(t){return t.identity==e.current_pack_taget_parent_material_identity})||{}},current_pack_taget_material:function(e,t,i,n){return _.findLast(e.materials,function(t){return t.identity==e.current_pack_taget_material_identity})||{}},current_scan_action_prototype_description_required_scope:function(e,t,i,n){return e.current_scan_action_prototype.identity?e.current_scan_action_prototype.description_required_scope:[]},current_scan_action_prototype_related_columns:function(e,t,i,n){return e.current_scan_action_prototype.identity?e.current_scan_action_prototype.related_columns:[]},current_core_waybill_need_related_columns:function(e,t,i,n){var s=$.extend(!0,[],t.current_scan_action_prototype_related_columns);if(e.settings.is_batch_mode)return[];if(!s.length)return[];if(!e.current_setting_group.barcode.match(/(LA[0-9]+)/i))return[];if(e.current_core_waybill.source_core_waybill&&_.remove(s,function(t){return e.current_core_waybill.source_core_waybill[t.name]}),_.remove(s,function(t){return e.current_core_waybill[t.name]}),e.current_core_waybill.material&&_.remove(s,function(t){return!!t.material_class_name&&e.current_core_waybill.material.class_name!=t.material_class_name}),e.settings.is_quick_corewaybill_related_columns&&_.remove(s,function(t){return e.state.quick_core_waybill_related_columns[t.name]}),t.current_staff_operation_customer){var a="";_.forEach(s,function(i){a="default_"+i.name,t.current_staff_operation_customer[a]&&(e.actions_core_waybill_related_columns[i.name]=t.current_staff_operation_customer[a])})}return s}},actions:{fetch_scan_action_prototypes:function(e,t){var i=new RestUrl(e.rootState.station.routes.api_v1_station_scan_action_prototypes),n=i.parse({},"");return axios.get(n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){console.log(123),console.log(t),e.commit("set_scan_action_prototypes",_.sortBy(t.data.scan_action_prototypes,"barcode"))})["catch"](function(e){console.log(e),console.log("Failed to fetch ScanActionPrototypes.")})},fetch_materials:function(e,t){var i=new RestUrl(e.rootState.station.routes.api_v1_station_materials).parse({},"");return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status&&e.commit("set_materials",t.data.materials)})["catch"](function(e){return that.errors.push(that.$t("ui.notifications.error.fetch__name",{name:that.$t("models.materials"),reason:": "+that.$t("ui.general.network_abnormality")+","+e.response.status})),Promise.reject(e)})},update_core_waybill_related_columns:function(e,t){var i=e.state.actions_core_waybill_related_columns,n=new RestUrl(e.rootState.station.routes.api_v1_station_core_waybill_update).parse({core_waybill_identity:e.state.current_core_waybill.identity});return axios.post(n,i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return Promise.reject("failed_to_update_core_waybill_related_column");e.state.is_updated_core_waybill_related_columns=!0,e.commit("set_actions_core_waybill_related_columns",{})})},enqueue:function(e,t){var i=!1;if(_.forEach(e.state.quick_setting_regexps,function(e){t.number.match(e)&&(i=!0)}),i)return Promise.reject("quick_setting");var n={id:e.state.jobs.slice(-1).pop()?e.state.jobs.slice(-1).pop().id+1:1,task:t.task,number:t.number,station:t.station,core_waybill:{},core_waybill_scope:"",scan_action_prototype:t.scan_action_prototype,status:"Pending",is_waiting_user_action:!1,is_batch_mode:e.state.settings.is_batch_mode,errors:[]};return e.commit("add_job",n),Promise.resolve()},perform:function(){var e=it(regeneratorRuntime.mark(function e(t,i){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i.status="Processing",e.prev=1,e.next=4,t.dispatch("perform_init",i);case 4:e.t0=i.task,e.next="operation"===e.t0?7:"search"===e.t0?25:35;break;case 7:return e.next=9,t.dispatch("search_core_waybill",i);case 9:return e.next=11,t.dispatch("pack",i);case 11:return e.next=13,t.dispatch("unpack",i);case 13:return e.next=15,t.dispatch("check_quick_core_waybill_related_columns",i);case 15:return e.next=17,t.dispatch("instantiate_scan_action_prototype",i);case 17:return e.next=19,t.dispatch("add_core_waybills_to_operation",i);case 19:return e.next=21,t.dispatch("fetch_statuses",i);case 21:return e.next=23,t.dispatch("distribute",i);case 23:return i.status="Success",e.abrupt("break",37);case 25:return e.next=27,t.dispatch("search_core_waybill",i);case 27:return e.next=29,t.dispatch("pack",i);case 29:return e.next=31,t.dispatch("unpack",i);case 31:return e.next=33,t.dispatch("distribute",i);case 33:return i.status="Success",e.abrupt("break",37);case 35:return i.status="Failure",e.abrupt("return",Promise.reject("task_not_found"));case 37:e.next=50;break;case 39:e.prev=39,e.t1=e["catch"](1),e.t2=e.t1,e.next="quick_setting_not_found"===e.t2?44:"core_waybill_not_found"===e.t2?44:"no_input_number"===e.t2?44:"current_scan_action_prototype_identity"===e.t2?44:"failed_to_instantiate_scan_action_prototype"===e.t2?44:"failed_to_update_core_waybill_related_column"===e.t2?44:"create_core_waybill"===e.t2?46:"scan_action_description_is_empty"===e.t2?46:"core_waybill_related_column_is_empty"===e.t2?46:49;break;case 44:return i.status="Failure",e.abrupt("break",49);case 46:return i.status="Pending",i.is_waiting_user_action=!0,e.abrupt("break",49);case 49:return e.abrupt("return",Promise.reject(e.t1));case 50:return e.abrupt("return",Promise.resolve());case 51:case"end":return e.stop()}},e,null,[[1,39]])}));function t(t,i){return e.apply(this,arguments)}return t}(),perform_init:function(e,t){return t.number?(e.state.is_setting=!1,e.state.current_job=t,e.state.current_core_waybill={},e.state.current_core_waybill_scope="",e.state.actions_core_waybill_related_columns={},e.dispatch("clear_distributed_to"),Promise.resolve()):(t.errors.push("請輸入號碼"),Promise.reject("no_input_number"))},search_core_waybill:function(e,t){var i=new RestUrl(e.rootState.station.routes.api_v1_station_core_waybills_search),n=i.parse({},"?latest_status_scope=operator");return axios.post(n,{number:t.number},{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(){var i=it(regeneratorRuntime.mark(function i(n){return regeneratorRuntime.wrap(function(i){while(1)switch(i.prev=i.next){case 0:if("success"!=n.data.status){i.next=15;break}if(n.data.core_waybill.pieces||(n.data.core_waybill.pieces=1),t.core_waybill=n.data.core_waybill,t.core_waybill_scope=n.data.scope,e.state.current_core_waybill=t.core_waybill,e.state.current_core_waybill_scope=n.data.scope,"new"!=n.data.scope){i.next=8;break}return i.abrupt("return",Promise.reject("create_core_waybill"));case 8:return _.findLast(e.state.core_waybills,function(e){return e.identity==n.data.core_waybill.identity})&&_.remove(e.state.core_waybills,{identity:n.data.core_waybill.identity}),e.state.core_waybills.push(n.data.core_waybill),e.state.core_waybills.length>=10&&e.state.core_waybills.shift(),i.next=13,new Promise(function(t){for(var i="",n=0,s=0,a=["consignee_company_name","consignee_name"];s<a.length;s++){var r=a[s];e.state.current_core_waybill[r]&&(i&&0!=n&&(i+=","),i+=e.state.current_core_waybill[r]),n++}if(e.state.settings.is_speech_mode)if(i){var o=new se.a({onend:function(){return t()},oncancel:function(){return t()}});o.cancel(),isNaN(i)?o.speak(i):o.speak(i.split("").join(" "))}else t();else t()});case 13:i.next=21;break;case 15:i.t0=n.data.errors,i.next="CoreWaybill not found."===i.t0?18:19;break;case 18:return i.abrupt("break",20);case 19:t.errors.push(n.data.errors);case 20:return i.abrupt("return",Promise.reject("core_waybill_not_found"));case 21:case"end":return i.stop()}},i)}));return function(e){return i.apply(this,arguments)}}())},check_quick_core_waybill_related_columns:function(e,t){return e.getters.current_core_waybill_need_related_columns.length&&!e.state.is_updated_core_waybill_related_columns?Promise.reject("core_waybill_related_column_is_empty"):(e.state.settings.is_quick_corewaybill_related_columns&&e.commit("set_actions_core_waybill_related_columns",e.state.quick_core_waybill_related_columns),e.state.is_updated_core_waybill_related_columns=!1,Promise.resolve())},instantiate_scan_action_prototype:function(e,t){var i=!0,n={location:(e.rootState.station.current_staff.station||{}).name},s=new RestUrl(e.rootState.station.routes.api_v1_station_scan_action_prototype_instantiate),a=s.parse({barcode:t.scan_action_prototype.barcode,core_waybill_identity:t.core_waybill.identity},"");if(e.state.settings.is_scan_action_mode&&e.getters.current_scan_action_prototype_description_required_scope.length&&!e.state.scan_action_description)return Promise.reject("scan_action_description_is_empty");e.state.scan_action_description&&(n.description=e.state.scan_action_description);var r=_.findLast(e.state.core_waybill_counters,function(t){return t.identity==e.state.current_core_waybill.identity}),o=_.findIndex(e.state.core_waybill_counters,{identity:e.state.current_core_waybill.identity});if(e.state.settings.is_core_waybill_pieces_mode&&1!=e.state.current_core_waybill.pieces){try{if("-1"==o)throw o=0,r={number:e.state.current_core_waybill.number,identity:e.state.current_core_waybill.identity,core_waybill_pieces:e.state.current_core_waybill.pieces,current_core_waybill_counter:1},e.state.core_waybill_counters.push(r),!1;if(r.current_core_waybill_counter+=1,!(r.current_core_waybill_counter>=e.state.current_core_waybill.pieces))throw!1}catch(c){i=c}e.state.core_waybill_counters.splice(o,1,r),e.dispatch("set_local_storage_core_waybill_counter"),t.core_waybill_pieces=r.core_waybill_pieces,t.current_core_waybill_counter=r.current_core_waybill_counter,t.is_waiting_instantiate_scan_action=!0}return i?axios.post(a,n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(i){if(e.state.scan_action_description="","-1"!=o&&_.remove(e.state.core_waybill_counters,function(t){return t.identity==e.state.current_core_waybill.identity}),"success"!=i.data.status){t.status="Failure";for(var n=0,s=Object.keys(i.data.errors);n<s.length;n++){var a=s[n],r=!0,c=!1,l=void 0;try{for(var u,d=i.data.errors[a][Symbol.iterator]();!(r=(u=d.next()).done);r=!0){var p=u.value;t.errors.push(p)}}catch(m){c=!0,l=m}finally{try{r||null==d["return"]||d["return"]()}finally{if(c)throw l}}}return Promise.reject("failed_to_instantiate_scan_action_prototype")}}):void 0},add_core_waybills_to_operation:function(e,t){if(e.rootState.station.current_staff_operation.identity){var i=new RestUrl(e.rootState.station.routes.api_v1_station_operation_add_core_waybills).parse({operation_identity:e.rootState.station.current_staff_operation.identity},""),n={core_waybill_identities:[t.core_waybill.identity]};return axios.post(i,n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){if("success"==e.data.status)_.includes(e.data.success_core_waybill_identities,function(e){return e==t.core_waybill.identity})||t.errors.push("Failed to add to operation");else if("failure"==e.data.status)return t.errors.push(e.data.errors),Promise.reject("core_waybill_not_found")})}},fetch_statuses:function(e,t){var i=new RestUrl(e.rootState.station.routes.api_v1_station_core_waybill_statuses),n=i.parse({core_waybill_identity:e.state.current_core_waybill.identity},"");return axios.get(n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return Promise.reject("failed_to_fetch_core_waybill_statuses");e.state.current_core_waybill.latest_status=t.data.latest_status,e.state.current_core_waybill.statuses=t.data.statuses})},distribute:function(e,t){if(e.state.settings.is_distributed_to_mode&&t.station.identity){var i=new RestUrl(e.rootState.station.routes.api_v1_station_station_distribute),n=i.parse({station_identity:t.station.identity,core_waybill_identity:e.state.current_core_waybill.identity},"");return axios.post(n,{},{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.state.distributed_to=t.data.distributed_to?t.data.distributed_to:{}})}},pack:function(){var e=it(regeneratorRuntime.mark(function e(t,i){var n,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t.state.package_message={status:"",content:""},t.state.settings.is_package_mode){e.next=4;break}return e.abrupt("return",Promise.resolve());case 4:if(n=t.getters.current_pack_taget_parent_material,s=t.getters.current_pack_taget_material,n.class_name){e.next=8;break}throw"請選擇包材";case 8:if(s.class_name){e.next=10;break}throw"請選擇包裝目標";case 10:if(t.state["package"].core_waybills.length||t.state["package"].parent_core_waybill.identity){e.next=19;break}if(i.core_waybill.material.class_name!=n.class_name){e.next=17;break}return e.next=14,t.commit("set_package",i.core_waybill);case 14:return e.abrupt("return",Promise.resolve());case 17:if(i.core_waybill.material.class_name!=s.class_name){e.next=19;break}throw"請掃"+n.name;case 19:if(i.core_waybill.identity==t.state["package"].parent_core_waybill.identity){e.next=35;break}if(i.core_waybill.material.class_name!=n.class_name||i.core_waybill.material.class_name==s.class_name){e.next=28;break}if(!t.state["package"].core_waybills.length){e.next=24;break}return e.next=24,t.dispatch("submit_package",i);case 24:return e.next=26,t.commit("set_package",i.core_waybill);case 26:e.next=35;break;case 28:if(i.core_waybill.material.class_name!=s.class_name){e.next=32;break}t.commit("push_package",i.core_waybill),e.next=35;break;case 32:if(t.state["package"].core_waybills.length){e.next=34;break}throw"請掃"+n.name;case 34:throw"請掃"+n.name+"或"+s.name;case 35:return e.abrupt("return",Promise.resolve());case 38:return e.prev=38,e.t0=e["catch"](0),t.state.package_message={status:"failure",content:"無法包裝["+i.core_waybill.material.name+"]，"+e.t0},e.abrupt("return",Promise.reject());case 42:case"end":return e.stop()}},e,null,[[0,38]])}));function t(t,i){return e.apply(this,arguments)}return t}(),unpack:function(){var e=it(regeneratorRuntime.mark(function e(t,i){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!t.state.settings.is_unpackage_mode){e.next=5;break}return e.next=3,t.commit("set_package",i.core_waybill);case 3:return e.next=5,t.dispatch("submit_package",i);case 5:return e.abrupt("return",Promise.resolve());case 6:case"end":return e.stop()}},e)}));function t(t,i){return e.apply(this,arguments)}return t}(),submit_package:function(e,t){var i=new RestUrl(e.rootState.station.routes.api_v1_station_core_waybills_pack).parse({}),n={parent_core_waybill_identity:e.state["package"].parent_core_waybill.identity,source_core_waybill_identity:e.state.settings.pack_need_source_mode?e.state["package"].source_core_waybill_identity:null,core_waybill_identities:e.state.settings.is_unpackage_mode?[]:_.map(e.state["package"].core_waybills,"identity")};return axios.post(i,n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(i){if("success"!=i.data.status)return t.package_response=i.data,t.errors.push("包裝失敗，"+i.data.errors),Promise.reject("包裝失敗，"+i.data.errors);e.state.package_response_history.push(_.assign(i.data,{id:e.state.package_response_history.slice(-1).pop()?e.state.jobs.slice(-1).pop().id+1:1,is_setting_is_package_mode:e.state.settings.is_package_mode}))})},set_local_storage_core_waybill_counter:function(e,t){var i=[];_.forEach(e.state.core_waybill_counters,function(e){i.push(JSON.stringify(e))}),localStorage.setItem("scanner_core_waybill_counters",i.toString())},set_local_storage_job:function(e,t){var i=[];_.forEach(e.state.jobs,function(e){var t=$.extend(!0,{},e);delete t.core_waybill,i.push(JSON.stringify(t)),i.length>=31&&i.shift()}),localStorage.setItem("scanner_jobs",i.toString())},clear_core_waybill_counter:function(e,t){localStorage.setItem("scanner_core_waybill_counters",""),e.state.core_waybill_counters=[]},clear_job:function(e,t){localStorage.setItem("scanner_jobs",""),e.state.jobs=[]},clear_distributed_to:function(e,t){e.state.distributed_to={}},set_current_operation:function(e,t){e.state.current_operation=t},actions_core_waybill_related_column:function(e,t){e.state.actions_core_waybill_related_columns[t.name]=t.value}},mutations:{push_package:function(e,t){_.findLast(e["package"].core_waybills,t)||e["package"].core_waybills.push(t)},set_package:function(e,t){e["package"]={parent_core_waybill:t,core_waybill_identities:[],core_waybills:[],source_core_waybill_identity:t.identity}},set_actions_core_waybill_related_columns:function(e,t){e.actions_core_waybill_related_columns=t},set_is_updated_core_waybill_related_columns:function(e,t){e.is_updated_core_waybill_related_columns=t},set_scan_action_prototypes:function(e,t){e.scan_action_prototypes=t},set_materials:function(e,t){e.materials=t},add_job:function(e,t){e.jobs.push(t)}}},rt=at,ot={namespaced:!0,state:{pagination:{current_page:null,total_pages:null},filter:{is_advanced_mode:!1,shortcut_keys:["username","company_name","email","phone","fax","is_banned"],current_shortcut_key:"username",columns:{username:null,company_name:null,email:null,phone:null,fax:null,is_banned:null}},search_params:{username:null,company_name:null,email:null,phone:null,fax:null,is_banned:null},is_show_filter:!1,provider_contracts:[]},actions:{fetch_provider_contracts:function(e,t){var i=new RestUrl(e.rootState.station.routes.api_v1_station_provider_contracts),n=i.parse({},"");return axios.get(n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.commit("set_provider_contracts",t.data.provider_contracts)})["catch"](function(e){return console.log("Failed to fetch ProviderContracts."),Promise.reject(e)})}},mutations:{set_current_page:function(e,t){e.pagination.current_page=t},set_total_pages:function(e,t){e.pagination.total_pages=t},init_filter_columns:function(e){e.filter.columns={username:null,company_name:null,email:null,phone:null,fax:null,is_banned:null}},set_provider_contracts:function(e,t){e.provider_contracts=t}}},ct=ot;function _t(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}window.config=n("a078");var lt=new config,ut={namespaced:!0,state:{current_node:{},current_staff:{},current_station:{},current_staff_operation:{},current_staff_operations:[],is_enable_permission_validation:!1,routes:{},is_can_use_scanner:!1,service_config:{},theme_menu:[],theme_menu_keys:[],is_auto_gps_station_position_by_60s:!1,is_auto_gps_station_position_once:!1,current_position:{is_first_initialized:!1,status:"",messages:"",latitude:"",longitude:"",address:{country:"",locality:"",political:"",full:""}},notifications:[],operations:[]},getters:{is_current_staff_need_station:function(e,t,i,n){return!e.current_station.identity&&"manager"!=e.current_staff.theme_name},is_current_staff_minimalist_layout:function(e,t,i,n){return"driver"!=e.current_staff.theme_name}},actions:(nt={fetch_station:function(e,t){var i=new RestUrl(e.rootState.station.routes.api_v1_station_me).parse({},"");return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){console.log(t.data),e.commit("set_current_node",t.data.node),e.commit("set_current_station",t.data.station)})["catch"](function(e){console.log("Failed to fetch station.")})},fetch_routes:function(e,t){var i=new RestUrl(e.rootState.settings.station.get_routes_url).parse({},"");return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){var i=t.data.routes;_.forEach(i,function(e,t){i[t]=lt.lms_url+e}),e.commit("set_routes",i)})["catch"](function(e){console.log("Failed to fetch routes.")})}},_t(nt,"fetch_routes",function(e,t){var i=new RestUrl(e.rootState.settings.station.get_routes_url).parse({},"");return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){var i=t.data.routes;_.forEach(i,function(e,t){i[t]=lt.lms_url+e}),e.commit("set_routes",i)})["catch"](function(e){console.log("Failed to fetch routes.")})}),_t(nt,"fetch_current_staff",function(e,t){var i=new RestUrl(e.rootState.station.routes.api_v1_station_staffs_current_staff).parse({},"");return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.commit("set_current_staff",t.data.staff)})["catch"](function(e){console.log("Failed to fetch current staff.")})}),_t(nt,"fetch_current_staff_operations",function(e,t){var i=new RestUrl(e.rootState.station.routes.api_v1_station_operations),n=i.parse({},"?is_done=false&is_canceled=false&staff_identity="+e.state.current_staff.identity);return axios.get(n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status&&e.commit("set_current_staff_operations",t.data.operations)})["catch"](function(e){console.log("Failed to fetch current staff operation.")})}),_t(nt,"fetch_permissions",function(e,t){var i=new RestUrl(e.rootState.station.routes.api_v1_station_permissions),n=i.parse({});return axios.get(n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.commit("set_permissions",t.data.permissions)})["catch"](function(e){console.log("Failed to fetch permissions.")})}),_t(nt,"fetch_customers",function(e,t){var i=new RestUrl(e.rootState.station.routes.api_v1_station_customers).parse({},"?"+object_to_query({pagination:!1}));return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.commit("set_customers",t.data.customers)})["catch"](function(e){console.log("Failed to fetch customers.")})}),_t(nt,"fetch_current_position_address",function(e,t){var i="AIzaSyBB-BKWJ_pcsE0zCmdeYkJfB5KcMaQyB14",n=e.state.current_position.latitude+","+e.state.current_position.longitude,s="https://maps.googleapis.com/maps/api/geocode/json?latlng="+n+"&key="+i;return axios.get(s).then(function(t){console.log("Goolge Geocoding API response",t.data),"OK"==t.data.status?e.dispatch("set_current_position_address",_.head(t.data.results)):console.log("Failed to fetch address for Goolge Geocoding API, because:",t.data.status)})["catch"](function(e){console.log("Failed to fetch address for Goolge Geocoding API.")})}),_t(nt,"update_current_staff_station_identity",function(e,t){var i=new RestUrl(e.rootState.station.routes.api_v1_station_staff_update).parse({identity:e.state.current_staff.identity});return axios.post(i,{station_identity:t.identity},{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(i){e.commit("set_current_staff_station",t)})["catch"](function(e){console.log("Failed to update current_staff_station_identity.")})}),_t(nt,"set_current_staff_operation",function(e,t){e.commit("set_current_staff_operation",t),localStorage.setItem("current_staff_operations_number",t.number?t.number:"")}),_t(nt,"set_current_position",function(e,t){_.forEach(t,function(t,i){e.state.current_position[i]=t})}),_t(nt,"set_current_position_address",function(t,i){t.state.current_position.address.full=i.formatted_address;try{var n=[{name:"country",types:["country","political"]},{name:"locality",types:["administrative_area_level_1","political"],types2:["administrative_area_level_2","political"]},{name:"political",types:["administrative_area_level_3","political"],types2:["locality","political"]}];_.forEach(n,function(e){var n=_.findLast(i.address_components,function(t){return!_.difference(t.types,e.types).length||!(!e.types2||_.difference(t.types,e.types2).length)})||{};t.state.current_position.address[e.name]=n.long_name||""})}catch(e){console.log(e)}console.log("google maps api解析地址為: ",t.state.current_position.address)}),nt),mutations:(st={set_routes:function(e,t){e.routes=t},set_current_staff:function(e,t){e.current_staff=t},set_current_staff_operation:function(e,t){e.current_staff_operation=t},set_current_staff_operations:function(e,t){e.current_staff_operations=t},set_current_staff_station:function(e,t){e.current_staff.station_identity=t.identity,e.current_staff.station=t},set_permissions:function(e,t){e.permissions=t},set_current_node:function(e,t){e.current_node=t},set_current_station:function(e,t){e.current_station=t}},_t(st,"set_routes",function(e,t){e.routes=t}),_t(st,"set_customers",function(e,t){e.customers=t}),_t(st,"toggle_notification_is_read",function(e,t){var i=_.find(e.notifications,function(e){return e.identity==t});i.is_read=!0}),st),modules:{partitions_module:He,staffs_module:We,uploader_module:Xe,core_waybills_module:Ze,operations_module:et,scanner_module:rt,tool_core_waybill_module:ge,customers_module:ct}},dt=ut;window.config=n("a078");new config;var pt={namespaced:!0,state:{operator_node:{},requester_node:null,requester_contract:null,waybill_raw_datas:[],waybill_processed_datas:[],receivers:[],converters:[],current_converter:null,conversions:[],open_file_url:null,file_upload_url:"https://air.formosaas.com/api/v1/:app_id/cloud/:access_token/:identity/bucket/:bucket_identity/upload",fetch_converters_url:null,create_operation_url:null,use_waybill_url:null,validate_waybill_url:null,validator:"standard"},getters:{},actions:{set_urls:function(e,t){return new Promise(function(t){e.rootState.current_scope;e.commit("set_open_file_url",e.rootState.customer.routes.api_v1_customer_file_converters_convert),e.commit("set_file_upload_url",new RestUrl(e.rootState.customer.uploader_module.file_upload_url).parse({app_id:e.rootState.customer.customer.air_service.air_app_id,access_token:e.rootState.customer.customer.air_service.air_access_token,identity:e.rootState.customer.customer.air_service.air_identity,bucket_identity:e.rootState.customer.customer.air_service.air_bucket_identity,air_authorization:e.rootState.customer.customer.air_service.air_authorization},"?authorization="+e.rootState.customer.customer.air_service.air_authorization+"&is_froala=true")),e.commit("set_create_operation_url",e.rootState.customer.routes["api_v1_customer_operations_create"]),e.commit("set_fetch_converters_url",e.rootState.customer.routes["api_v1_customer_file_converters"]),e.commit("set_validate_waybill_url",e.rootState.customer.routes["api_v1_customer_core_waybills_usable_core_waybills"]),t()})},fetch_operator_node:function(e,t){e.commit("set_operator_node",e.rootState.customer.customer.provider_node)},fetch_requester_node:function(e,t){e.commit("set_requester_node",e.rootState.customer.customer)},fetch_converters:function(e,t){e.rootState.current_scope;return axios.get(e.state.fetch_converters_url,{headers:{Authorization:localStorage.getItem("customer_authentication_token")}}).then(function(t){console.log(t),"success"==t.data.status?e.commit("set_converters",t.data.converters):t.data.status})["catch"](function(e){})}},mutations:{set_open_file_url:function(e,t){e.open_file_url=t},set_file_upload_url:function(e,t){e.file_upload_url=t},set_create_operation_url:function(e,t){e.create_operation_url=t},set_fetch_converters_url:function(e,t){e.fetch_converters_url=t},set_validate_waybill_url:function(e,t){e.validate_waybill_url=t},set_operator_node:function(e,t){e.operator_node=t},set_requester_node:function(e,t){e.requester_node=t},set_requester_contract:function(e,t){e.requester_contract=t},set_conversions:function(e,t){e.conversions=t},set_converters:function(e,t){e.converters=t},set_waybill_raw_datas:function(e,t){e.waybill_raw_datas=t},set_waybill_processed_datas:function(e,t){e.waybill_processed_datas=t},set_receivers:function(e,t){e.receivers=t},set_current_converter:function(e,t){e.current_converter=t},init:function(e,t){e.operator_node={},e.requester_node=null,e.requester_contract=null,e.waybill_raw_datas=[],e.receivers=[],e.conversions=[],e.receivers=[]}}},mt=pt;function ft(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){ht(e,t,i[t])})}return e}function ht(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function vt(e){return vt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vt(e)}var gt={namespaced:!0,state:{current_form_entity_type:!0,current_core_waybill:{},core_waybills:[],current_page:1,total_pages:1,search_cache_key:null,quick_filters:{number:["number","operation_number","original_number","tracking_number"],info:["consignee_name","consignee_phone","consignee_address","note"]},quick_filter_key:{number:"number",info:"consignee_name"},filter_init:{page:1,number:null,tracking_number:null,flight_number:null,sender_name:null,consignee_name:null,consignee_phone:null,consignee_address:null,note:null,is_used:null,created_at:{},operation:{number:null},status:{scope:null,name:null,created_at:{}}},filter:{page:1,status:{scope:null,name:null,created_at:{}}},is_show_filter:!1,staffs:[]},getters:{filter_to_query:function(e,t,i,n){var s=_.cloneDeep(e.filter);return s.page&&delete s.page,s.status.created_duration&&(s.status.created_duration[0]&&(s.status_created_at_from=T()(s.status.created_duration[0]).format("YYYY-MM-DD")),s.status.created_duration[1]&&(s.status_created_at_to=T()(s.status.created_duration[1]).format("YYYY-MM-DD"))),s.created_duration&&(s.created_duration[0]&&(s.created_at_from=T()(s.created_duration[0]).format("YYYY-MM-DD")),s.created_duration[1]&&(s.created_at_to=T()(s.created_duration[1]).format("YYYY-MM-DD"))),s.status_created_duration&&delete s.status_created_duration,s.created_duration&&delete s.created_duration,_.forEach(s,function(e,t){e&&"object"===vt(e)&&_.forEach(e,function(e,i){s[t][i]&&(s[t+"_"+i]=e,delete s[t][i])})}),s.status_created_duration&&delete s.status_created_duration,s.created_duration&&delete s.created_duration,object_delete_null(s)},filter_to_api_query:function(e,t,i,n){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=_.cloneDeep(e.filter);return t.is_remove_page&&i.page&&delete i.page,i.status.created_duration&&(i.status.created_duration[0]&&(i.status.created_at.from=date_to_start(i.status.created_duration[0])),i.status.created_duration[1]&&(i.status.created_at.to=date_to_end(i.status.created_duration[1])),delete i.status.created_duration),i.created_duration&&(i.created_duration[0]&&(i.created_at.from=date_to_start(i.created_duration[0])),i.created_duration[1]&&(i.created_at.to=date_to_end(i.created_duration[1])),delete i.created_duration),_.forEach(["number","flight_number","original_number","tracking_number","sender_name","consignee_name","consignee_address","consignee_phone","note"],function(e){i[e]&&(i[e]="%"+i[e]+"%")}),i.operation.number&&(i.operation.number="%"+i.operation.number+"%"),t.merge&&(i=ft({},i,t.merge)),object_to_query(i)}}},actions:{fetch_core_waybills:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this,n=new RestUrl(e.rootState.customer.routes.api_v1_customer_core_waybills_filter),s=n.parse({});s="".concat(s,"?latest_status_scope=forwarder");var a=e.getters.filter_to_api_query();return a&&(s+="&".concat(a)),console.log(s),axios.get(s,{headers:{Authorization:localStorage.getItem("customer_authentication_token")}}).then(function(n){if(e.commit("set_core_waybills",[]),"success"!=n.data.status)return Promise.reject("fetch_core_waybills_failure");if(e.commit("set_search_cache_key",n.data.search_cache_key),e.commit("set_core_waybills",n.data.core_waybills),e.commit("set_pagination",n.data.pagination),!n.data.core_waybills.length)return Promise.reject("fetch_core_waybills_no_anything_core_waybills");if("edit"==t.action){if(console.log("response.data.core_waybills[0]",n.data.core_waybills[0]),!n.data.core_waybills.length)return Promise.reject("fetch_core_waybills_no_anything_core_waybills");i.$router.push({name:"edit_core_waybill",params:{identity:n.data.core_waybills[0].identity}})}})},export_core_waybills:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=new RestUrl(e.rootState.customer.routes.api_v1_customer_core_waybills_export).parse({search_cache_key:e.state.search_cache_key});return console.log(e.rootState.customer.routes),axios.get(t,{headers:{Authorization:localStorage.getItem("customer_authentication_token")}}).then(function(e){if(console.log(e),"success"!=e.data.status)return Promise.reject()})},clear_filter:function(e,t){e.commit("set_filter",_.cloneDeep(e.state.filter_init)),t.operation_identity&&e.commit("set_filter_kay_value",{key:"operation_identity",value:t.operation_identity})},fetch_core_waybills_csv:function(e,t){var i=Math.floor(Date.now()/1e3),n=t.type?"&csv_tpye="+t.type:null,s=new RestUrl(e.rootState.customer.routes.api_v1_customer_core_waybills_filter+".csv").parse({},"?v="+i+(n||"")),a={is_remove_page:!0};"clearance"==t.type&&(a.merge={material:{class_names:"House"},condition:{polarity:"true"},status:{scope:"forwarder",name:"點交"}});var r=e.getters.filter_to_api_query(a);return r&&(s+="&".concat(r)),console.log(s),console.log(s),console.log(s),axios.get(s,{headers:{Authorization:localStorage.getItem("customer_authentication_token")}}).then(function(e){if("success"==e.data.status){var i=document.createElement("a"),n=new Blob(["\ufeff",e.data.csv]),s=URL.createObjectURL(n),a="clearance"==t.type?"_清關":"";i.href=s,i.download=T()().format("YYYY-MM-DD HH:mm:ss")+a+".csv",document.body.appendChild(i),i.click(),document.body.removeChild(i)}else if("failure"==e.data.status)return Promise.reject("fetch_core_waybills_svg_error")})["catch"](function(e){return Promise.reject("fetch_core_waybills_svg_error")})},handle_query_to_filter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.query){var i=ft({},_.cloneDeep(e.state.filter_init),_.cloneDeep(t.query));_.forEach(e.state.filter_init,function(e,t){e&&"object"===vt(e)&&_.forEach(e,function(e,n){i[t+"_"+n]&&(i[t][n]=i[t+"_"+n],delete i[t+"_"+n])})}),i.status_created_at_from&&i.status_created_at_to&&(i.status.created_duration=[T()(i.status_created_at_from)||"",T()(i.status_created_at_to)||""],delete i.status_created_at_from,delete i.status_created_at_to),i.created_at_from&&i.created_at_to&&(i.created_duration=[T()(i.created_at_from)||"",T()(i.created_at_to)||""],delete i.created_at_from,delete i.created_at_to),e.state.filter=ft({},e.state.filter,i)}},handle_quick_filter_key:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=object_delete_null(_.cloneDeep(e.state.filter));t.page&&delete t.page;var i=Object.keys(t).length,n={number:0,number_last_key:""};t.operation&&t.operation.number&&(n.number+=1,n.number_last_key="operation_number"),e.state.quick_filters.number.forEach(function(e){t[e]&&(n.number+=1,n.number_last_key=e)}),1==n.number&&(e.state.quick_filter_key.number=n.number_last_key),(i>=2||0==n.number&&i>=1||n.number>=2)&&(e.state.is_show_filter=!0)},set_filter_init:function(e,t){e.commit("set_filter",_.cloneDeep(e.state.filter_init))},set_filter_kay_value:function(e,t){e.commit("set_filter_kay_value",t)},set_is_show_waybill_filter:function(e,t){var i=1==t;e.commit("set_is_show_waybill_filter",i)}},mutations:{set_core_waybills:function(e,t){e.core_waybills=t},set_staffs:function(e,t){e.staffs=t},set_pagination:function(e,t){e.current_page=t.current_page,e.total_pages=t.total_pages},set_search_cache_key:function(e,t){e.search_cache_key=t},set_is_show_waybill_filter:function(e,t){e.is_show_waybill_filter=t},set_filter:function(e,t){e.filter=t},set_filter_kay_value:function(e,t){e.filter[t.key]=t.value}}},bt=gt,yt={namespaced:!0,state:{search_count:0,not_useds:[],useds:[]},getters:{},mutations:{}},wt=yt;function kt(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){xt(e,t,i[t])})}return e}function xt(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Ct={namespaced:!0,state:{operations:[],pagination:{current_page:null,total_pages:null},filter:{is_advanced_mode:!1,shortcut_keys:["number","customer_note","original_file_name","is_done","created_duration"],current_shortcut_key:"number",init_columns:{page:1,created_duration:"",begin_at:null,end_at:null,number:null,customer_note:null,original_file_name:null,is_done:!1},columns:{}}},getters:{filter_to_query:function(e,t,i,n){var s=_.cloneDeep(e.filter.columns);return s.page&&delete s.page,s.is_done||delete s.is_done,s.created_duration&&(s.created_duration[0]&&(s.begin_at=T()(s.created_duration[0]).format("YYYY-MM-DD")),s.created_duration[1]&&(s.end_at=T()(s.created_duration[1]).format("YYYY-MM-DD")),delete s.created_duration),object_delete_null(s)},filter_to_api_query:function(e,t,i,n){return function(t){var i=_.cloneDeep(e.filter.columns);return i.created_duration&&(i.created_duration[0]&&(i.begin_at=date_to_start(i.created_duration[0])),i.created_duration[1]&&(i.end_at=date_to_end(i.created_duration[1])),delete i.created_duration),object_to_query(i)}}},actions:{fetch_operations:function(e,t){var i=new RestUrl(e.rootState.customer.routes.api_v1_customer_operations).parse({},""),n=e.getters.filter_to_api_query();return n&&(i+="?".concat(n)),console.log(i),axios.get(i,{headers:{Authorization:localStorage.getItem("customer_authentication_token")}}).then(function(t){if("success"==t.data.status)e.commit("set_operations",t.data.operations),e.commit("set_pagination",t.data.pagination);else if("failure"==t.data.status)return Promise.reject("fetch_operations_failure")})["catch"](function(e){return Promise.reject(k()(e))})},handle_query_to_filter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.query){var i=kt({},_.cloneDeep(e.state.filter.init_columns),t.query);i.begin_at&&i.end_at&&(i.created_duration=[T()(i.begin_at)||"",T()(i.end_at)||""],delete i.begin_at,delete i.end_at),i.is_done&&(i.is_done=1==i.is_done||"true"==i.is_done),e.state.filter.columns=kt({},e.state.filter.columns,i)}},handle_quick_filter_key:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=object_delete_null(_.cloneDeep(e.state.filter.columns));t.page&&delete t.page,t.is_done||delete t.is_done;var i={number:0,number_last_key:""};e.state.filter.shortcut_keys.forEach(function(e){t[e]&&(i.number+=1,i.number_last_key=e)}),1==i.number&&(e.state.filter.current_shortcut_key=i.number_last_key),(0==i.number&&Object.keys(t).length>=1||i.number>=2)&&(e.state.filter.is_advanced_mode=!0)}},mutations:{set_operations:function(e,t){e.operations=t},set_pagination:function(e,t){e.pagination=t},init_filter_columns:function(e,t){e.filter.columns=_.cloneDeep(e.filter.init_columns)}}},Pt=Ct,St=n("1ccc");window.config=n("a078");var Nt=new config,qt={namespaced:!0,state:{routes:null,is_can_use_scanner:!0,service_config:{},notifications:[],customer:null,customer_partitions:null},getters:{},actions:{fetch_customer:function(e,t){var i=new RestUrl(e.rootState.customer.routes.api_v1_customer_me).parse({},"");return axios.get(i,{headers:{Authorization:localStorage.getItem("customer_authentication_token")}}).then(function(t){e.commit("set_customer",t.data.customer)})["catch"](function(e){console.log("Failed to fetch customer.")})},fetch_routes:function(e,t){var i=new RestUrl(e.rootState.settings.customer.get_routes_url).parse({},"");return axios.get(i,{headers:{Authorization:localStorage.getItem("customer_authentication_token")}}).then(function(t){var i=t.data.routes;return _.forEach(i,function(e,t){i[t]=Nt.lms_url+e}),e.commit("set_routes",i),Promise.resolve()})["catch"](function(e){return Promise.reject("fetch_routes failed")})},fetch_notifications:function(e,t){var i=new RestUrl(e.rootState.customer.routes.api_v1_customer_notifications).parse();return axios.get(i,{headers:{Authorization:localStorage.getItem("customer_authentication_token")}}).then(function(t){e.commit("set_notifications",t.data.notifications)})["catch"](function(e){console.log("Failed to fetch notifications.")})}},mutations:{set_customer:function(e,t){e.customer=t},set_routes:function(e,t){e.routes=t},set_customer_partitions:function(e,t){e.customer_partitions=t},set_notifications:function(e,t){e.notifications=t}},modules:{uploader_module:mt,core_waybills_module:bt,partitions_module:wt,operations_module:Pt,tool_data_card_module:ye,scanner_module:St["default"]}},At=qt;a["default"].use(r["a"]),window.config=n("a078");var Et=new config,zt=new r["a"].Store({state:{style:{width:0,height:0},instance_identity:null,settings:{provider:{get_routes_url:Et.lms_url+"/v1/provider/routes"},station:{get_routes_url:Et.lms_url+"/v1/station/routes"},customer:{get_routes_url:Et.lms_url+"/v1/customer/routes"},captcha_url:Et.lms_url+"/v1/captcha",login_url:Et.lms_url+"/v1/authenticate/:node_identity",out_of_date_url:Et.lms_url+"/v1/out_of_date",authorize_url:Et.lms_url+"/v1/authorize",default_language:"zh-TW",login_expiration_period:28800,login_expiration_hint_preset:1800},current_scope:null,language:"zh-TW",back_two_page:[],global_setting:{login_expiration_period:28800,login_expiration_hint_preset:1800},routes:{get_routes_url:Et.lms_url+"/v1/:app_id/node/:access_token/routes"},is_login:null,initialize_statuses:{top_menu:!1,sidebar:!1,service_theme:!1,main:!1,footer:!1},stations:[],operations:[],core_waybills:[],breadcrumbs:[],permissions:[],current_staff:{},element_ui_datepicker_daterange_options:{shortcuts:[{i18n_key:"ui.el.daterange_option_shortcut.today",date_i18n_key:"ui.el.date_option_shortcut.today",text:"今日",get_times:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()),[t.setHours(0,0,0,0),e.setHours(23,59,59,59)]},onClick:function(e){e.$emit("pick",this.get_times())}},{i18n_key:"ui.el.daterange_option_shortcut.three_days",date_i18n_key:"ui.el.date_option_shortcut.three_days",text:"最近三天",get_times:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-1728e5),[t.setHours(0,0,0,0),e.setHours(23,59,59,59)]},onClick:function(e){e.$emit("pick",this.get_times())}},{i18n_key:"ui.el.daterange_option_shortcut.week",date_i18n_key:"ui.el.date_option_shortcut.week",text:"最近一周",get_times:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-6048e5),[t.setHours(0,0,0,0),e.setHours(23,59,59,59)]},onClick:function(e){e.$emit("pick",this.get_times())}},{i18n_key:"ui.el.daterange_option_shortcut.month",date_i18n_key:"ui.el.date_option_shortcut.month",text:"最近一個月",get_times:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-2592e6),[t.setHours(0,0,0,0),e.setHours(23,59,59,59)]},onClick:function(e){e.$emit("pick",this.get_times())}},{i18n_key:"ui.el.daterange_option_shortcut.three_months",date_i18n_key:"ui.el.date_option_shortcut.three_months",text:"最近三個月",get_times:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-7776e6),[t.setHours(0,0,0,0),e.setHours(23,59,59,59)]},onClick:function(e){e.$emit("pick",this.get_times())}},{i18n_key:"ui.el.daterange_option_shortcut.six_months",date_i18n_key:"ui.el.date_option_shortcut.six_months",text:"最近半年",get_times:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-15552e6),[t.setHours(0,0,0,0),e.setHours(23,59,59,59)]},onClick:function(e){e.$emit("pick",this.get_times())}}]}},getters:{test:function(e){return"root"},operation:function(e){return function(t){return _.findLast(e.operations,function(e){return e.identity==t})||{}}},core_waybill:function(e){return function(t){return _.findLast(e.core_waybills,function(e){return e.identity==t})||{}}},station:function(e){return function(t){return _.findLast(e.stations,function(e){return e.identity==t})||{}}},workspace:function(e){return function(t){var i={};return _.forEach(e.stations,function(e){var n=_.findLast(e.workspaces,function(e){return e.identity==t});n&&(i=n,i.station=e)}),i}},current_station:function(e){return _.findLast(e.provider.stations,function(t){return t.identity==e.provider.current_staff.station_identity})||{identity:null,name:null}},current_operation:function(e){return _.findLast(e.operations,function(t){return t.identity==e.route.params.operation_identity})},current_core_waybill:function(e,t){if(t.current_operation)return _.findLast(e.core_waybills,function(t){return t.identity==e.route.params.core_waybill_identity})}},actions:{},mutations:{set_current_scope:function(e,t){e.current_scope=t}},modules:{admin:d,provider:Ye,station:dt,customer:At}}),jt=zt,Rt=n("8c4f"),Ot=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"index"}},[i("div",{staticClass:"ui middle aligned center aligned grid"},[i("div",{staticClass:"column"},[e._m(0),i("h1",{staticClass:"ui header"},[e._v("\n                "+e._s(e.$t("ui.pages.partials.page_404.cant_find_page"))+"\n            ")])])])])},It=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("h1",{staticClass:"ui header"},[i("i",{staticClass:"red huge warning icon"}),e._v("\n                404 not found.\n            ")])}],Dt={props:{},data:function(){return{is_loading:!1}},mounted:function(){this.set_breadcrumbs()},watch:{$route:function(e,t){this.set_breadcrumbs()}},methods:{set_breadcrumbs:function(){this.$store.state.breadcrumbs=[{route_name:"page_404",name:"找不到頁面"}]}},components:{},computed:{}},Lt=Dt,Tt=(n("c0d3"),n("2877")),Bt=Object(Tt["a"])(Lt,Ot,It,!1,null,"b14756e6",null),Mt=Bt.exports,Ut=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"layout"}},[i("div",{staticClass:"ui fluid container",staticStyle:{padding:"0 15px"}},[i("div",{staticClass:"ui stackable grid"},[i("div",{staticClass:"three wide column"},[e.is_initialized?i("Sidebar"):e._e()],1),i("div",{staticClass:"thirteen wide column"},[i("TopMenu"),i("div",{staticClass:"ui main segment",staticStyle:{"min-height":"60%"}},[i("Breadcrumb"),e.is_initialized?i("router-view"):e._e()],1),i("FooterBar")],1)])])])},Ft=[],Yt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"standard sidebar"},[i("div",{staticClass:"ui secondary vertical menu",attrs:{"data-step":"1","data-position":"right","data-intro":"Welcome to Admin"}},[i("nav",[i("a",{attrs:{href:"#"}},[i("img",{staticClass:"ui image",attrs:{src:"/images/"+e.$store.state.provider.service_config.logo_img}})]),i("a",{staticClass:"hamburger hamburger--spin",on:{click:function(t){e.toggle_menu()}}},[e._m(0)])]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"nav-menu"},[i("router-link",{staticClass:"item",attrs:{to:{name:"converters"}}},[i("i",{staticClass:"icons"},[i("i",{staticClass:"book large icon"}),i("span",[e._v(" Converters ")])])])],1)])])},Gt=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"hamburger-box"},[i("span",{staticClass:"hamburger-inner"})])}],Ht={props:{},data:function(){return{}},computed:{},watch:{$route:function(e,t){this.menu_active(),767>$(window).width()&&"block"==$(".nav-menu").css("display")&&this.toggle_menu()}},mounted:function(){this.menu_active(),$(window).resize(function(){var e=$(window).width(),t=$(".nav-menu").css("display");"none"==t&&e>767&&$(".nav-menu").css("display","block")})},methods:{menu_active:function(){var e=this;$(".nav-menu a.item").each(function(){$(e).removeClass("active"),window.location.href.includes(e.href)&&$(e).addClass("active")})},toggle_menu:function(){$("body").toggleClass("overflow"),$(".hamburger").toggleClass("active"),$(".nav-menu").stop().slideToggle(300)}}},Kt=Ht,Wt=(n("f221"),Object(Tt["a"])(Kt,Yt,Gt,!1,null,null,null)),Vt=Wt.exports,Xt=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Qt=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui text menu quick_action"},[i("div",{staticClass:"right menu"})])}],Zt={mounted:function(){var e=this;$(document).ready(function(){$(document).delegate(".quick_link_select .menu .item","click",function(t){window.location=$(e).data("url")})})},computed:{},methods:{}},Jt=Zt,ei=Object(Tt["a"])(Jt,Xt,Qt,!1,null,null,null),ti=ei.exports,ii=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui footer segment"},[i("div",{staticClass:"ui center aligned container"},[i("div",{staticClass:"ui horizontal inverted small divided list"},[i("p",[e._v("\n                Copyright © "+e._s(e.current_year)+" Genki Inc. All rights reserved\n            ")])])]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui horizontal list"})])},ni=[],si={name:"FooterBar",computed:{current_year:function(){return(new Date).getFullYear()}}},ai=si,ri=Object(Tt["a"])(ai,ii,ni,!1,null,"3f2c5d84",null),oi=ri.exports,ci=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"breadcrumb"}},[i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui breadcrumb"},[i("i",{staticClass:"icon refresh pointer",staticStyle:{cursor:"pointer"},on:{click:e.refresh}}),e._v("目前位置：\n        "),i("router-link",{staticClass:"section",attrs:{to:{name:"index"}}},[e._v("首頁")]),e._l(e.$store.state.breadcrumbs,function(t,n){return i("span",[t?i("i",{staticClass:"right chevron icon divider"}):e._e(),n==e.$store.state.breadcrumbs.length-1?i("span",[i("div",{staticClass:"section",domProps:{innerHTML:e._s(t.name)}})]):i("span",[i("router-link",{staticClass:"active section",attrs:{to:{name:t.route_name}},domProps:{innerHTML:e._s(t.name)}})],1)])})],2),i("div",{staticClass:"ui divider"})])},_i=[],li={computed:{},methods:{refresh:function(){location.reload()}}},ui=li,di=Object(Tt["a"])(ui,ci,_i,!1,null,null,null),pi=di.exports;function mi(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function fi(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){mi(a,n,s,r,o,"next",e)}function o(e){mi(a,n,s,r,o,"throw",e)}r(void 0)})}}var hi={data:function(){return{is_initialized:!1}},computed:{},created:function(){console.log("Layout created"),this.init()},mounted:function(){console.log("Layout mounted")},watch:{},methods:{init:function(){var e=fi(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.$noty.information("Admin"+t.$t("ui.general.initialize_complete")),t.is_initialized=!0});case 2:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()},components:{Sidebar:Vt,TopMenu:ti,FooterBar:oi,Breadcrumb:pi}},vi=hi,gi=(n("92fe"),Object(Tt["a"])(vi,Ut,Ft,!1,null,null,null)),bi=gi.exports,yi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"provider"}},[i("div",{attrs:{id:"camera"}}),i("div",{staticClass:"ui fluid container"},[!0===e.$store.state.is_login?i("div",{staticClass:"ui stackable grid"},[e.$store.getters["provider/is_current_staff_minimalist_layout"]?i("div",{staticClass:"three wide column"},[e.$store.state.initialize_statuses.service_theme?i("Sidebar"):i("img",{staticClass:"loading_mock opacity_fade",attrs:{src:"/images/loading_darken/sidebar.png",alt:""}})],1):e._e(),i("div",{staticClass:"thirteen wide column",class:{centered:!e.$store.getters["provider/is_current_staff_minimalist_layout"]}},[e.$store.state.initialize_statuses.top_menu?i("TopMenu"):i("img",{staticClass:"loading_mock opacity_fade",attrs:{src:"/images/loading_darken/top_menu.png",alt:""}}),e.$store.state.initialize_statuses.main?i("Breadcrumb"):i("img",{staticClass:"loading_mock opacity_fade",attrs:{src:"/images/loading_darken/breadcrumb.png",alt:""}}),i("div",{staticClass:"ui main",staticStyle:{"min-height":"calc(100vh - 250px)"}},[e.$store.state.initialize_statuses.main?i("router-view"):i("img",{staticClass:"loading_mock opacity_fade",attrs:{src:"/images/loading_darken/main.png",alt:""}})],1),i("div",{staticClass:"clear"}),e.$store.state.initialize_statuses.footer?i("FooterBar"):i("img",{staticClass:"loading_mock opacity_fade",attrs:{src:"/images/loading_darken/footer.png",alt:""}}),i("Advertising"),i("SystemInfo")],1),e.$store.state.initialize_statuses.main?i("StationsModal"):e._e(),e.$store.state.initialize_statuses.main?i("DatetimerangeModal",{attrs:{options:e.$store.state.element_ui_datepicker_daterange_options.shortcuts,channel:e.date_picker_modal.channel,type:e.date_picker_modal.type}}):e._e(),e.$store.state.initialize_statuses.main?i("ScannerModal"):e._e()],1):!1===e.$store.state.is_login?i("div",[i("div",{staticClass:"ui container"},[i("Login"),i("FooterBar")],1)]):i("div",{staticClass:"ui inverted dimmer transition visible active",staticStyle:{display:"block !important"}},[i("div",{staticClass:"ui text loader"},[e._v("\n                "+e._s(e.$t("ui.general.verify_staff"))+"...\n            ")])])]),i("div",{ref:"login_expiration_hint_modal",staticClass:"ui basic modal"},[i("div",{staticClass:"ui icon header"},[i("i",{staticClass:"wait icon"}),e._v("\n            "+e._s(e.$t("ui.pages.partials.login_expiration_hint_modal.idle"))+"\n        ")]),i("div",{staticClass:"content",staticStyle:{color:"white"}},[i("p",[e._v("\n                "+e._s(e.$t("ui.pages.partials.login_expiration_hint_modal.content",{time:e.human_remaining_time}))+"\n            ")])]),i("div",{staticClass:"actions"},[i("div",{staticClass:"ui green ok inverted button",on:{click:e.extend_login_timeout}},[i("i",{staticClass:"checkmark icon"}),e._v("\n                "+e._s(e.$t("ui.pages.partials.login_expiration_hint_modal.i_am_back"))+"\n            ")])])]),e.$store.state.is_login&&e.$store.state.provider.is_can_use_scanner?i("div",{staticClass:"icon_toggle_scanner_modal pointer mobile only",class:{hide:e.is_hide_icon_toggle_scanner_modal},on:{click:function(t){e.$bus.$emit("toggle_scanner_modal")}}},[i("i",{staticClass:"large circular inverted icon z-depth-2",class:{barcode:!e.is_scanner_modal_opend,"red remove":e.is_scanner_modal_opend}})]):e._e()])},wi=[],$i=n("9431"),ki=$i["a"],xi=(n("e93b"),Object(Tt["a"])(ki,yi,wi,!1,null,null,null)),Ci=xi.exports,Pi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"customer"}},[i("div",{staticClass:"ui fluid container"},[!0===e.$store.state.is_login?i("div",{staticClass:"ui stackable grid"},[i("div",{staticClass:"three wide column"},[e.$store.state.initialize_statuses.main?i("Sidebar"):i("img",{staticClass:"loading_mock opacity_fade",attrs:{src:"/images/loading_darken/sidebar.png",alt:""}})],1),i("div",{staticClass:"thirteen wide column"},[e.$store.state.initialize_statuses.main?i("TopMenu"):i("img",{staticClass:"loading_mock opacity_fade",attrs:{src:"/images/loading_darken/top_menu.png",alt:""}}),i("div",{staticClass:"ui main segment",staticStyle:{"min-height":"calc(100vh - 250px)"}},[e.$store.state.initialize_statuses.main?i("Breadcrumb"):i("img",{staticClass:"loading_mock opacity_fade",attrs:{src:"/images/loading_darken/breadcrumb.png",alt:""}}),e.$store.state.initialize_statuses.main?i("router-view"):i("img",{staticClass:"loading_mock opacity_fade",attrs:{src:"/images/loading_darken/main.png",alt:""}})],1),e.$store.state.initialize_statuses.main?i("FooterBar"):i("img",{staticClass:"loading_mock opacity_fade",attrs:{src:"/images/loading_darken/footer.png",alt:""}})],1),e.$store.state.initialize_statuses.main?i("DatetimerangeModal",{attrs:{options:e.$store.state.element_ui_datepicker_daterange_options.shortcuts,channel:e.date_picker_modal.channel,type:e.date_picker_modal.type}}):e._e(),e.$store.state.initialize_statuses.main?i("ScannerModal"):e._e()],1):!1===e.$store.state.is_login?i("div",[i("div",{staticClass:"ui container"},[i("Login"),i("FooterBar")],1)]):i("div",{staticClass:"ui inverted dimmer transition visible active",staticStyle:{display:"block !important"}},[i("div",{staticClass:"ui text loader"},[e._v("\n                "+e._s(e.$t("ui.general.verify_staff"))+"...\n            ")])])]),i("div",{ref:"login_expiration_hint_modal",staticClass:"ui basic modal"},[i("div",{staticClass:"ui icon header"},[i("i",{staticClass:"wait icon"}),e._v("\n            "+e._s(e.$t("ui.pages.partials.login_expiration_hint_modal.idle"))+"\n        ")]),i("div",{staticClass:"content",staticStyle:{color:"white"}},[i("p",[e._v("\n                "+e._s(e.$t("ui.pages.partials.login_expiration_hint_modal.content",{time:e.human_remaining_time}))+"\n            ")])]),i("div",{staticClass:"actions"},[i("div",{staticClass:"ui green ok inverted button",on:{click:e.extend_login_timeout}},[i("i",{staticClass:"checkmark icon"}),e._v("\n                "+e._s(e.$t("ui.pages.partials.login_expiration_hint_modal.i_am_back"))+"\n            ")])])]),e.$store.state.is_login&&e.$store.state.customer.is_can_use_scanner?i("div",{staticClass:"icon_toggle_scanner_modal pointer mobile only",class:{hide:e.is_hide_icon_toggle_scanner_modal},on:{click:function(t){e.$bus.$emit("toggle_scanner_modal")}}},[i("i",{staticClass:"large circular inverted icon z-depth-2",class:{barcode:!e.is_scanner_modal_opend,"red remove":e.is_scanner_modal_opend}})]):e._e()])},Si=[],Ni=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"standard sidebar"},[i("div",{staticClass:"ui secondary vertical menu",attrs:{"data-step":"1","data-position":"right","data-intro":"歡迎來到客戶端"}},[i("nav",[i("router-link",{attrs:{to:{name:"customer_index"}}},[i("img",{staticClass:"ui image",attrs:{src:"/images/"+e.service_config.logo_img}})]),i("a",{staticClass:"hamburger hamburger--spin",on:{click:function(t){e.toggle_menu()}}},[e._m(0)])],1),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"nav-menu"},[i("router-link",{staticClass:"item",attrs:{to:{name:"customer_operations"}}},[i("i",{staticClass:"icons"},[i("i",{staticClass:"file large icon"}),i("span",[e._v(" "+e._s(e.$t("ui.links.menu.provider_operations"))+" ")])])]),i("router-link",{staticClass:"item",attrs:{to:{name:"customer_uploader"}}},[i("i",{staticClass:"icons"},[i("i",{staticClass:"upload large icon"}),i("span",[e._v(" "+e._s(e.$t("ui.links.menu.uploader"))+" ")])])]),i("router-link",{staticClass:"item",attrs:{to:{name:"customer_core_waybills"}}},[i("i",{staticClass:"icons"},[i("i",{staticClass:"archive large icon"}),i("span",[e._v(" "+e._s(e.$t("ui.links.menu.core_waybills"))+" ")])])])],1)])])},qi=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"hamburger-box"},[i("span",{staticClass:"hamburger-inner"})])}],Ai={props:{},data:function(){return{}},computed:{service_config:function(){return this.$store.state.customer.service_config}},watch:{$route:function(e,t){this.menu_active(),767>$(window).width()&&"block"==$(".nav-menu").css("display")&&this.toggle_menu()}},mounted:function(){this.menu_active(),$(window).resize(function(){var e=$(window).width(),t=$(".nav-menu").css("display");"none"==t&&e>767&&$(".nav-menu").css("display","block")})},methods:{menu_active:function(){var e=this;$(".nav-menu a.item").each(function(){$(e).removeClass("active"),window.location.href.includes(e.href)&&$(e).addClass("active")})},toggle_menu:function(){$("body").toggleClass("overflow"),$(".hamburger").toggleClass("active"),$(".nav-menu").stop().slideToggle(300)}}},Ei=Ai,zi=(n("055e"),Object(Tt["a"])(Ei,Ni,qi,!1,null,null,null)),ji=zi.exports,Ri=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{margin:"1rem 0"},attrs:{id:"top_menu"}},[i("div",{staticClass:"ui floated right compact menu"},[e.is_can_use_scanner?i("div",{staticClass:"item mobile hidden",attrs:{"data-tooltip":e.$t("ui.links.top_menu.scanner")+"（"+e.$t("ui.general.hot_key")+"：Ctrl + Q）","data-position":"bottom center"}},[i("div",{staticClass:"ui icon button",on:{click:function(t){e.$bus.$emit("toggle_scanner_modal","show")}}},[i("i",{staticClass:"barcode large icon"})])]):i("div",{staticClass:"item",attrs:{"data-tooltip":e.$t("ui.general.cannot_use"),"data-position":"bottom center"}},[e._m(0)]),i("div",{staticClass:"item",attrs:{"data-tooltip":e.$t("ui.links.top_menu.language"),"data-position":"bottom center"}},[i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui icon dropdown top right pointing button"},[i("i",{staticClass:"globe large icon"}),i("div",{staticClass:"menu"},[i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("zh-TW")}}},[e._v("繁體")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("zh-CN")}}},[e._v("简体")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("en-US")}}},[e._v("English")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("ja-JP")}}},[e._v("日本語")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("es-ES")}}},[e._v("Español")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("vi-VN")}}},[e._v("Tiếng Việt")])])])]),i("div",{staticClass:"item"},[i("Notifications",{attrs:{channel_identity:e.channel_identity}})],1),i("div",{staticClass:"item",staticStyle:{padding:".5em 0 .5em .5em"}},[i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui icon dropdown top right pointing button"},[i("i",{staticClass:"setting large icon"}),i("div",{staticClass:"menu"},[i("div",{staticClass:"header"},[e._v("\n                        "+e._s(e.current_customer_name)+"\n                    ")]),i("a",{staticClass:"item",on:{click:e.$parent.show_login_timeout_hint}},[e._v("\n                        "+e._s(e.$t("ui.links.top_menu.overtime_note"))+"\n                    ")]),i("a",{staticClass:"item",on:{click:e.$parent.logout}},[e._v("\n                        "+e._s(e.$t("ui.links.top_menu.logout"))+"\n                    ")])])])]),i("div",{staticClass:"item"},[i("SpeedTest")],1)]),i("div",{staticClass:"clear"})])},Oi=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui icon button"},[i("i",{staticClass:"red barcode large icon"})])}],Ii=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui item dropdown",attrs:{id:"top_menu_partitions"}},[e.customer_partitions.length>1?i("div",[e._v("\n        您有"+e._s(e.customer_partitions.length)+"組 區間號碼\n        "),i("i",{staticClass:"dropdown icon"})]):1==e.customer_partitions.length?i("div",{staticClass:"only_one partition"},[e._v("\n        您的號碼區間為\n        "),e._l(e.customer_partitions,function(e){return i("Partition",{key:e.identity,attrs:{partition:e}})})],2):i("div",[e._v("\n        您尚未被受理任何 號碼區間\n    ")]),e.customer_partitions.length>1?i("div",{staticClass:"menu"},e._l(e.customer_partitions,function(e){return i("Partition",{key:e.identity,attrs:{partition:e}})})):e._e()])},Di=[],Li=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("p",{staticClass:"item",attrs:{id:"top_menu_partition"}},[i("span",{attrs:{"data-tooltip":"字軌","data-position":"bottom left"}},[e._v("\n        "+e._s(e.partition.prefix)+"\n    ")]),i("span",{staticStyle:{"text-decoration":"underline"}},[i("span",{attrs:{"data-tooltip":"起始號碼","data-position":"bottom center"}},[e._v("\n            "+e._s(e.integer_rjust(e.partition.from_number,e.partition.digit,"0"))+"\n        ")]),i("span",[e._v(" ~ ")]),i("span",{attrs:{"data-tooltip":"結束號碼","data-position":"bottom center"}},[e._v("\n            "+e._s(e.integer_rjust(e.partition.to_number,e.partition.digit,"0"))+"\n        ")])]),i("span",[e._v(" (共"+e._s(e.partition.to_number-e.partition.from_number+1)+"筆) ")])])},Ti=[],Bi={props:{partition:Object},mounted:function(){},computed:{},methods:{integer_rjust:function(e,t,i){return e.toString().rjust(t,i)}}},Mi=Bi,Ui=Object(Tt["a"])(Mi,Li,Ti,!1,null,null,null),Fi=Ui.exports,Yi={mounted:function(){},computed:{customer_partitions:function(){return this.$store.state.customer.customer_partitions}},methods:{integer_rjust:function(e,t,i){return e.toString().rjust(t,i)}},components:{Partition:Fi}},Gi=Yi,Hi=(n("2022"),Object(Tt["a"])(Gi,Ii,Di,!1,null,"badb37c4",null)),Ki=Hi.exports,Wi=n("16e6"),Vi=n("f7cf"),Xi={data:function(){return{is_development:"development"==ENV.NODE_ENV}},mounted:function(){var e=this;$(document).ready(function(){$(document).delegate(".quick_link_select .menu .item","click",function(t){window.location=$(e).data("url")})})},computed:{is_can_use_scanner:function(){return this.$store.state.customer.is_can_use_scanner},current_customer_name:function(){return this.$store.state.customer.customer.company_name},channel_identity:function(){return this.$store.state.customer.customer.identity},customer_partitions:function(){return this.$store.state.customer_partitions}},methods:{change_i18n:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"zh-TW";localStorage.setItem("language",e),this.$store.state.language=e},set_current_station:function(){$(".ui.basic.stations.modal").modal("setting","closable",!1).modal("show")}},components:{SpeedTest:Wi["a"],Partitions:Ki,Notifications:Vi["a"]}},Qi=Xi,Zi=(n("69b3"),n("326c"),Object(Tt["a"])(Qi,Ri,Oi,!1,null,"7e4f4e14",null)),Ji=Zi.exports,en=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui footer segment"},[i("div",{staticClass:"ui center aligned container"},[i("div",{staticClass:"ui horizontal inverted small divided list"},[i("p",[e._v("\n                Copyright © "+e._s(e.current_year)+" Genki Inc. All rights reserved\n            ")])])]),i("div",{staticClass:"ui divider"}),"forever.tw568.com"!=e.host?i("div",{staticClass:"ui horizontal list"},[e._m(0),e._m(1),e._m(2),e._m(3),e._m(4)]):e._e()])},tn=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"item"},[i("img",{staticStyle:{height:"50px"},attrs:{src:"/images/tw568_logo.png"}})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"item"},[i("img",{staticStyle:{height:"50px"},attrs:{src:"/images/neuron_logo.png"}})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"item"},[i("img",{staticStyle:{height:"50px"},attrs:{src:"/images/by_express_logo.jpg"}})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"item"},[i("img",{staticStyle:{height:"50px"},attrs:{src:"/images/t_cat_logo.jpg"}})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"item"},[i("img",{staticStyle:{height:"50px"},attrs:{src:"/images/hct_logo.png"}})])}],nn={props:{},data:function(){return{host:window.location.hostname}},computed:{current_year:function(){return(new Date).getFullYear()}}},sn=nn,an=Object(Tt["a"])(sn,en,tn,!1,null,null,null),rn=an.exports,on=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"breadcrumb"}},[i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui breadcrumb"},[i("i",{staticClass:"icon refresh pointer",staticStyle:{cursor:"pointer"},on:{click:function(t){e.refresh()}}}),e._v("\n        "+e._s(e.$t("ui.page_titles.current_page"))+"：\n        "),i("router-link",{staticClass:"section",attrs:{to:{name:"customer_index"}}},[e._v("\n            "+e._s(e.$t("ui.page_titles.index"))+"\n        ")]),e._l(e.$store.state.breadcrumbs,function(t,n){return i("span",[t?i("i",{staticClass:"right chevron icon divider"}):e._e(),n==e.$store.state.breadcrumbs.length-1?i("span",[i("div",{staticClass:"section"},[e._v("\n                    "+e._s(e.$t("ui.page_titles."+t))+"\n                ")])]):i("span",[i("router-link",{staticClass:"active section",attrs:{to:{name:t}}},[e._v("\n                    "+e._s(e.$t("ui.page_titles."+t))+"\n                ")])],1)])})],2),i("div",{staticClass:"ui divider"})])},cn=[],_n={computed:{},methods:{refresh:function(){console.log("customer refresh"),this.$bus["_events"]["init"]?this.$bus.$emit("init"):location.reload()}}},ln=_n,un=Object(Tt["a"])(ln,on,cn,!1,null,null,null),dn=un.exports,pn=n("8115"),mn=n("39b6"),fn=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui container",attrs:{id:"login"}},[i("div",{staticClass:"mobile hidden"},[i("h1",{staticClass:"ui center aligned header"},[e._v("\n            "+e._s(e.$t("ui.pages.login.customer_management_login"))+"\n        ")]),i("div",{staticClass:"ui divider"})]),i("div",{staticClass:"ui middle aligned center aligned doubling two column grid"},[i("div",{staticClass:"column"},[i("h2",{staticClass:"ui teal header"},[i("div",{staticClass:"content"},["forever.tw568.com"==e.host?i("img",{staticClass:"ui image",attrs:{src:"/images/lms_forever_logo.png"}}):"cdos.tw568.com"==e.host?i("img",{staticClass:"ui image",attrs:{src:"/images/lms_condor_logo.svg"}}):i("img",{staticClass:"ui image",attrs:{src:"/images/lms_logo.png"}})])])]),i("div",{staticClass:"column"},["forever.tw568.com"==e.host?i("h1",[i("p",{staticStyle:{margin:"0"}},[e._v("清關報告查詢")]),i("h2",{staticStyle:{margin:"0"}},[e._v("國外代理登入")])]):i("h1",{staticClass:"ui center aligned header mobile only"},[e._v("\n                "+e._s(e.$t("ui.pages.login.customer_management_login"))+"\n            ")]),i("h3",{staticClass:"noty"},[e._v("\n                "+e._s(e.$t("ui.pages.login.please_enter_your_account_and_password"))+"\n\n                "),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui dropdown item",staticStyle:{position:"absolute",right:"0"}},[e._v("\n                    "+e._s(e.$t("ui.links.top_menu.language"))+"\n                    "),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},[i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("zh-TW")}}},[e._v("繁體")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("zh-CN")}}},[e._v("简体")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("en-US")}}},[e._v("English")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("ja-JP")}}},[e._v("日本語")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("es-ES")}}},[e._v("Español")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("vi-VN")}}},[e._v("Tiếng Việt")])])])]),i("NotificationBox",{attrs:{notification:e.notification}}),i("ErrorBox",{attrs:{errors:e.errors}}),i("div",{staticClass:"ui large form",on:{submit:function(e){e.preventDefault()}}},[i("div",{staticClass:"ui stacked segment"},[i("div",{staticClass:"field"},[i("div",{staticClass:"ui left icon input"},[i("i",{staticClass:"user icon"}),i("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{type:"text",name:"username",placeholder:e.$t("ui.pages.login.account"),required:""},domProps:{value:e.username},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.focus_input("password")},input:function(t){t.target.composing||(e.username=t.target.value)}}})])]),i("div",{staticClass:"field"},[i("div",{staticClass:"ui left icon input"},[i("i",{staticClass:"lock icon"}),i("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],ref:"password",attrs:{type:"password",name:"password",placeholder:e.$t("ui.pages.login.password"),required:""},domProps:{value:e.password},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.focus_input("captcha")},input:function(t){t.target.composing||(e.password=t.target.value)}}})])]),e.need_captcha?i("div",{staticClass:"field"},[e.captcha_image_base64?i("img",{staticClass:"captcha",attrs:{src:"data:image/jpg;base64,"+e.captcha_image_base64,alt:"captcha"},on:{click:e.render_captcha}}):e._e(),i("input",{directives:[{name:"model",rawName:"v-model",value:e.captcha_user_answer,expression:"captcha_user_answer"}],ref:"captcha",attrs:{type:"text",placeholder:e.$t("ui.pages.login.verification_code"),required:""},domProps:{value:e.captcha_user_answer},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.submit(t):null},input:function(t){t.target.composing||(e.captcha_user_answer=t.target.value)}}})]):e._e(),e.is_development?i("button",{staticClass:"ui large basic red button",staticStyle:{width:"48%"},on:{click:e.auto_input}},[e._v("\n                        "+e._s(e.$t("ui.pages.login.btns.auto_input_test_account"))+"\n                    ")]):e._e(),i("button",{staticClass:"ui large teal submit button",class:{loading:e.is_logging},staticStyle:{width:"48%"},attrs:{type:"submit"},on:{click:e.submit}},[e._v("\n                        "+e._s(e.$t("ui.pages.login.btns.login"))+"\n                    ")])])])],1)])])},hn=[],vn=n("bab4"),gn=n("bc4d");function bn(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function yn(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){bn(a,n,s,r,o,"next",e)}function o(e){bn(a,n,s,r,o,"throw",e)}r(void 0)})}}var wn,$n,kn={props:{},data:function(){return{host:window.location.hostname,is_development:"development"==ENV.NODE_ENV,is_initialized:!1,is_processing:!1,password:null,username:null,encrypted_answer:null,captcha_user_answer:null,captcha_image_base64:null,notification:{},errors:[],need_captcha:"true"==localStorage.getItem("customer_need_captcha"),is_logging:!1}},computed:{login_url:function(){return"electron"==ENV.VUE_APP_BUILD_ENV?new RestUrl(this.$store.state.settings.login_url).parse({node_identity:window.LICENSE_KEY},"?captcha="+this.need_captcha):"development"==ENV.NODE_ENV?new RestUrl(this.$store.state.settings.login_url).parse({node_identity:ENV.VUE_APP_FIRST_NODE_IDENTITY},"?captcha="+this.need_captcha):new RestUrl(this.$store.state.settings.login_url).parse({node_identity:""},"?captcha="+this.need_captcha)},captcha_url:function(){return this.$store.state.settings.captcha_url}},created:function(){this.init()},mounted:function(){},watch:{},methods:{init:function(){var e=yn(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!this.need_captcha){e.next=7;break}return this.captcha_image_base64="iVBORw0KGgoAAAANSUhEUgAAATYAAABQCAYAAACTZllaAAAXyklEQVR4Xu2db2wU6X3HvzM7axjDGq99NbnYjqlDXVAKGDbh4ia9I8YoL0LbUypTNa0CTSUD6ZsLamVLlxenKifhtLrjTXKcX1Tm1KtUrCaXyjn1gqHQRPGFnMEcTTg5Ph8ONglw9hL/W5ud3emLmd/Ds7Oz86z/suz9PhLCO/PMv2ee5/v8/jwzowGw4RIOh6FpGnRdx/z8PEzTxPz8PAKxsSw0LRy8PnAtkEZSUYJhmGLFtm3ouo5IJALLsjA7O4uSkhJoAOxIJIJUKoWFhQWkUikYhgHLslT7BABoSulREVIVCMRGfufJMEzxsWHDBszOzmYtNzRNQzqdxtzcnFioaRqqqqpg2zbu3buXtdFiUBt0wSWWL5wMwxQriUQCuq5D13WUlpYCAKamphyLjQpVVFRgdnYWCwsLQfvyECw8KlmyoQeuV2+fUpRgGKaYKSkpgWEYmcbZxo0b7UQikeGCVlVVYWZmBpZl4cGDB4E7VaHpwdJkp9XStbz1DMMUK0888QQ+/PBD8ds0TSQSCRgzMzMAgFAoBMuysHnzZvT396O2thaGYSCdTgfsVm1S6VqwRaaSpXRK4apqqj0wDFOsjI2NYf/+/bh9+zbm5uagaRpCoZDjioZCIZimiZmZGRiGgWQyiWTSyTYahgFNU1lVDMMwjwZZn0zTxMLCAnTTNJFKpUCWG2VD5+bmxPQPhmGYQiYajQJuMiEcDkPTdd1Op9PQNA2UIbVtG/IyhmGYQkXTNBiGgVQqJea1BQfAGIZhHkNY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKToMVYHlcj9hofvnv0H35du4dntGVZxZQ3Z9fCOO7P04jnzmSZSbq94UGGbNWNUXTQ6OT+PZf30Xo3HFR5eZR0pddD3e+NpONFZHVEUZpuBY0xdNDo5PY993rrCoPQaMxuex7ztXMDg+rSrKMI8FqyJs9xMWnv3Xd/G7ef5K++PC7+ade3Y/wfeMefxZFWHr/vlvHqml1tJQgZaGCtRXmqqiOaF9RNc49hSriaC9uQ5wz6G9uQ7nju1GrMZxE5dzTSpG4/Po/vlvVMUYpuBZlV7bffm2qoiS9uY6nDy4VVUMABBPWKh4/pL4fe7YbgBAR+8wOi+MBmzp0NJQIYSDoGN39Y9jZCIhlscTFgZuTeGdE3uz9gMAn37pMgbGcrt0LQ0V4m9ZrOorzYx1fUOTiNVExHlES8OImgbOHt4BADh05nrGea0U3Zdv47mna1XFGKagWRVhW+vs53KtKllAvLQ1VWf87hua9C1HREvDgevbm+syBCwXrY2bEZ9LZiw7eXCrEMN3TuzF0bM30HPtbo49LI21vncMsxosTxHWiI7eYUCyovqGJtE3NCncxeUyMDYtjkEEWWyykJKlOPniM2IZWYwHTl/FYugbmsTA2DRGJhLoG5pE666qjPVd/eOI1ZYhVhMR1lu+VinDfJR4LITNG1caGJtG+/4tSlfs5MGtWZbYgdNXs6yuvqFJIUZevBbboTPXxbKBsWnEPcH2WE0kUGx7rt1F39AkRiYSiCesDCvMK4SySxuriaDzwigOvHIFJw9uFedQX2kiahpZ58EwH2UeC2GLloYzrJfWXVWImsayXVA/yELzWmz0u62pWghRz+CdrO1VccGu/vGM3153U0U8YeFoz3sYGJtGW1M1OnqHC1bUyAKl+vKLPY5MJMQANXBrCmcP71Ba4V3944gnrKxBZGBsWtRnPGGJfUdNI+O+UJw0CIp7LhbZqlaFLeC2bW98V64TL/L1xhMWDp25rgxvePcnH9Nr7cdqIqivNNHVP56zLcv1LLarLXMGa0V79rve1WDllWEV6Bm8g/pKM6ODjEwkHMvNzSD6QS6rjMrK81po3t9d/eOIlobRNzSZ0Sg6L4yivblO2Wm8DVCOyXnXyQ3Am1wYmUigo3cYsdqyh9f4b0eBhRngs18FPvVFLJXu7m688MILKC8vx+DgoKp4TvxcfBW57g+JGaTBpqWhQohlS0MFPv3SZd9tAaB9/xYxEA7cmlKGCU4e3JpTmNqaqrPCBHCv92jPe4AbmlAdg7Bf2p/xu+fa3Zz1RmVHJhI4dOY6BsamhceRS9y8+2tpqMhIsMlETQP1lSYGxqYRLQ379q+O3uGsujl3bDc6L4wqxVw+9mryWAhbfaWJnsE7oqNHTUPE2ILwik8+qCy2eMJCR+8wzh3b7XvTo6YR2KGDbmrQuram6iyRJbQT550/1m0A7r0P/Oifgbdf8xe4qd8CU3eAss1A2ccy1/3iLeDt1/C3U44lumXLFiwHv84PT8xU3FPFSE4uvIw8cMl1R+0iahqI1ZYt2bIP6qTeayPrCe51ycfMdV9Vwkf3m6ynWE0E8YSFrv5xdJ6/iXjCQltTNbr6x3Hg9FW0NVWjvbkuy9L0Jsfo3EYmEuLcSJTiCUt4AzQAnD28I+N6WndVCSuwrak6y7qlZfIAJN+TtWBtjrJMvCbxSiUN/FBZbPnQ1lQtGt6a0vqSECdM3XkocH/2T0DZZlT1/SPuDv3qYfmanc66e+8Db33b2QZAXV0dXnjhBRw5ciT3sRT4xTK9BFlzXiumpaEC8bkkRiYSaN/vCO7ArSnRCalj5WMRtDRU4OTBrejoHcbJg1vFANU3NIkDp6+K+YNeoe25dhdd/eO+Md+jZ2+Iju4d8BY7uBJy/fUM3nFc+1tTol2R5VhfaaKjdxhd/ePo6h9H664qMS0Ikmh59903NInWxs2orzTRNzSJqGmgpaEiIw5MiSoZCoEAwKut2+Bl4NZUhltKyTAEDHYrTcEKWzxhZd0MErOgGMRSaGmoyDsrStYiZUf7hiZx6Mz1jIB+kKh5jyN3Sr+Orlqfxae+6PyTBe7Kf6Im/FuMDf0KZZEwdm4vx7s37mNq7F3g4ncd95WsuM9+FTff+rbqKGtOe3OdqFfqzEd73hMxtKXEw+DpdHIMcGQiIcIO1HmpXJawSQJ78uDWjLjiShKriSA+l0SstgwDt6aEkBHtzXXouXY3r0GfrCzaPmoaOHd8D+orTRHmAYBzx/dkbTviJr5yXaM3lir313zObSUoWGHzCgqkSukbmsyYvzVwa0o0dr/yMn6jp8oF9KKdOI+O3mG82roNLQ0VeP+bnxOjWlf/eOAI7V3XIj0h4bddrLYsa/3Jg1vRM3gnswEtzDhW14I0D61sM7BuI/CxbRi78CMAwC8u/ik2lYXx6/FZ/NG+XmDsmmPpJaYAXQd++Rb27XNiVeXl5eju7kZ5eTkWy7lju9HVP+47z44EIlYTyZr3p5pT2HlhFD3X7jqd2E3etDZuFmVyxc9y3WOvOBDR0rA4dxI2qm9vO2tt3Ix4wnLE98IoOs/fzLiGXHFglUVL7berfxytjZuFpUnLvINn664q37rzSy54kxvR0rAYOOX9Hj17A68e2p5htdF28YQl2qQscuQ2d/QOC8EnS22pA9BiKVhhQ0Bj9MabKA7gxc9l9RMPcklolIaPxUb7IlO/vtIUVpt808l8D3r6QEVbUzV6Bu+IRAQ1Cmo87c11ohMJK27sGvD+T/13eP2H4s9NZY6QfKJ6g7Ng6g5wbxi4/X+izKUxt+ymTbh58yYaGxuxFPysbpnF1JGII7r3S7ZeK56/JNqK6phe5PhQfC4pzomsQLJeYjURkRTyWipR00B7cx26+sfR0TssYnuEKpaWC1lwO3qHRRuUr51cakgWvTeR4BfzbWuqxsDYNFoaKoTb6TUkYjURYQHK/Y3qiBJY8ISLvMeSBw/Z9V9NClrY1gp5JPaOeF6LbWQigfpKM+PmyIkMefuK5y8tKs528uBWIZpR00DnhdGMzu+XGRV88nPAN/q8u3zIyy2513m29ca3lot3gKGGL7vZ8qCyHCjGRqIflC2Eew7eGBsRq4lkuKrxhJUVKCe6+sdFRrR9/xbEaiLKWB8UT6p4kwckQnDPTW4bUdNAtDTsG6Lxs4Kp7r1TZmRI2OU+EE9YGdOcKHkhE5Q8WA0X3Y+CFjZ5lIbU4bzBUPlm+o1OrbuqApMAsvsiN3IZytpFS8MZc3VI6CjtTsLk5yoQsZqIyNbJI7sslu37t6Crfzxj6gi5I3Ab2EoIwVrQ5zPtBj5z+oKQRYJcHDmrKtfjYsjVjuDus+faXSdg797zXOENuc3FaiJ5JU+IXFaM12LzbpMhwrVlvrFi5OgTdDyVNdniJlII8iSI1l1VWfcxKHnQNzSpzICvBAUrbBSM90sPkytGyBUbn0tmNShVJcruC3WgXKOYdzmN3tR4OnqHxUjvJZ8H+0mw5AZErpCcUeo8fzNgL4XFSlhsfh1Q7qx+oYh8yCW6cDttR+8weq7dFefp1y7ic0nRTumeBbU5cnlzTUeh7KTfNoTXjaeMsR9BcUvkmIzsPR5B5xvkiQQlD7CESelLoWCFzS/NnIuVDEjmauTyKDMwNi3McbqJ8na5YkeqmNKhM9d9g+3yHD48ZtYaPCO2DI3syKOxU0f3dhJ5+VLIFWOD5PpTDKq+0vSdrtDauBltTdU42vOeKBstDeccHClul6tMPGGJ49J6yrwSXgtsYGw6Z/tSTZz1m6LidcuJWE0E75zYi0++mB3P9Q5g5MrG55IiXqzqAytFfsrxCKAbMeDz+AY8KWcKgi6XfGNLsZpIzhG5I+ChdNkcHxibxsCtKRGPgTtPKmg7ovP8TURLwzh7eAd6rt3Ncg8WTf9rwNigM2F3z18AyK8e8sUvMI08hF7m3LHdiCesrKcL6itNvNq6TdT5YttBUIwNrpVN9Z8rnOFtC3F3ErcKCr57g/O0rG9oUkzvoLZBVm7n+ZtobdyM1l1VwvUly2yxbrk3GaMilyFBiRMSNEqwyb/XioIWthZ3KsTAXFI0WFpOolbvzmdaCVQ3N1ZbJkZsv+koyKOzeuOGQbE/UMc9tD1jWZf7PCKNkPXuBM0l8/Zr7h/vAr/8ES7+XQP27dun2EhN1POMJuHnisrb+BFPWDjwypWMOo+ahhPLlNwwVdjBy8hEQsTRfK1K6X6qrEqivtIUQnz07I2MwQtS2IKEKCiBQAkBEjphBeVIZAQJ+7lju33jbSsJiWrcNTY6L4yidVeVE1vL0wNbCdbuSItENtPjPsJG7k2b9FD6UlFlzvxQCVIuU34x0IRPv5nfsoW2VDeMKIuE0fnN3Wj/1lVMTSdx6tSpFRE2v8egZPzcaa/1AknUKNZIz+q+emg7Os/fFNZMvSdrnIvOC6Pi2LnmsdE6WQQ6L4xmDG65oBhZ54VRZ67X+Zs4d3xPVjsNclfpnpOQyRac9+ULdP2qdwF6aW+uQ1tTNSqev4T6ShPvP//HAIBPvvhTjEwkMPniM3mLESW5ZKGl86HrFIPPIi3KpZDfWT8C5AqSR02qnHo3EwnPKFXvmYrhXf+ooeuSr8O7vsXNRMnryJ1rcSdpymKmelNFEGWRMN58vRk7t5fjE9Ub8KW/+R/84Ac/UG2mhMIDfnUfZLHBM30GboxxxJ0feO74HvFMJlmENICoEjNE1DSyLD+aCE0iJz84TpnuzgujOHr2BuqlFzIE0d5chxE3KdLVPy4G4aCwgUg+uO5n664qxGrLcPTsDcA9LypD50eJpL6hSXz6pcs4d3yPryD1XLubcd006JB4kkCS2yjm7QU8b0t1L++LIMuVvAsKI+QrlsvBANIAAA22+w+A+FuDbQPL+ALfkqEKiruvnyG8lgpltahR1/vMRVMRZFm9c2KvmOXfJs2gDoqlBSG7KfG5ZFbHpqcZZPrcx7bgno/sgoxIj78sln//7ufxiZoN2LndebLgT556aIkcOXIEN286HWbLli04derUop5A6PB5A4SXoASIHO9sa6oWwuPtFHSMloYKpSVF0OBAoQyqy76hSRFioPqO1UTEzHuKjR46cx3vnNibVwd9tXWbGGzzmQJC3kmsJgL7pf3QTpwXcWS49zvqvmT0wOmrQtzkCeYHXrni++p6b3172z1dM9zj0Pp8PBrql/SAPNUvJVQIlaezUqjvzCOCKsDbEORYSHwu+XD+mfRamlwsJcCeK1GwlH3JRD1PLFCj6+gdFo1yZCKR4TbBbXzyiLyc7OjBA7kb2ZkzZ8Tfly5dwuDg4KJeYZSPRbMY5P217qoSsUUaxOjBeILcQT/3zM+qhzQokgVHE2Oprs8e3oGjPe+hvbnOt63J5yVDx5KvIWoaWecMaeAjyIWrrzTFZFga/N45sVcM7O3SK7O84kHnJRNTvBBVxq8O/RJtNC2mXgoJyNfsF2ZYLTRdh22nHatM04B0GkjbNux0CpqmO3bbIi22xn/52bLfnR81DbQ1VQsTWY6x5Sqv8t3lNyPkAwV36z1B2uXEz+rdKQOyed/neb0SuTC5sqRkOS4qEOw+eTD1q78MLFb2B//h/O+6qNdvxHG83XEhXn75Zdy/fx9wrbjlvP2DYVYKvw8mr4qwnfrfW/jGG0OqYsxakqew1ez5HgCIuBsA/NXxn+CHfdmW4eHDh9Hd3Z21nGHWEt8vwWdqlgbb/ct2/1EMbjEc+cyTqIuuVxVjCpA3X2/OEDUAGX/v2FaOr3zZcaHOnDmDixcv+u6HYR4lq/LB5HLTwBtf24lN6ws2hMfkYOf28gwhk9mxrRxvvt6M051PYcc2pwwLG1OI6LCBIE9TW4LFBgCN1RFc/Ps9bLkVAV8/8of4ype34M3Xm8Vrj4ISDwzzqFkVi41orI5g8B+ewsvPNmDXxzeqijMFyqayME53PiVEjWEKHUPXNKRsG47d9tB2S8OGhjRCSC1rVki5aeC5p2vx3NO1qqLMKqK9rCrBMMWD0mKz00tzRRmGYR4V+kM7zbXWNIjMKABooUXO9WAYhnnEKC22B/PzqiIMwzAFhZFhnkkxNlpcsr7Euw3DMExBk0dWgF3RQub+/fvo7u4WjzoxDJMhbP4CNj87jfUb1u7Nl0z+XL3Sjy98oQW/m5pTFQXc5z8Z5qOA0mJbv4HnnxUqz/75QSFqxw83oFwxz+xLB2oC1zNMsWBYmoa0bbtPGGiAnYYGIAQdGjQApap9MI+IX485bzp5pXMv/vrLv68qvqL0nr8HACvypl2GWWmUWVGmsPn83t9bc1H78c/u4vov72LTpk0sbExBwsL2mPOTy/fQ/q2lvRtuKbz+vQ/wla+/DQB47rnnVMUZ5pGg6bpup9NpaJoGTdOQTqdh2zbkZUxhsu/pz+LSj3+mKrYq8LvYmELB931sqo2YwuWN//pvHD58WFVsRXnmmWfw/e9/n0WNKWjYYmMY5rGGLTaGYT4SsLAxDFN06OvWrQMA4X4S09PT7IYyDPNYYJombNt5wr2kpAQaADsUCsE0TczMzMAwDCSTSSSTSQCAYRgscAzDFCyyPkUizndMdQBIpVJIJJyvrVdWVuKDDz6ApmkIh8NCBRmGYQqRJ598EuvXO99WWVhYcLzNjRs32olEAqlUCoZhwLIsVFVVYWZmBpZl4cGDB6r9Mgzz2KIKsysMGy0/wycUDkHXNSSTVsYXPdeZjkeYSqVhWSnoOhyDCkAymURa+r65HnI8yLSdhvXA2ckTFU/gww8/FGVKSkqcDybLZ15RUYHZ2VksLCyAYZiPAiFVgWDyFDZC03VnOoYegqZrePBg3vlKO60P6bBT7m9NA2wbpRs2QNM1zE7PAACMkjDCRhjzC/OwrTQMw8CmTZswPT0Ny7Joqppml5aWYnZ2Vuw8HA4jGo3Ctm3cu3cv++wYhikSgoVNFV23FcJmlm5A0krCyun5pREKhxEOOy8aciJfNlKpFCzLgqZpD4XOBw2aCJeFw2GEQiHMz887FlskEkEqlcLCwkKGS8owTHGjqd9cFoitlD4Auo5QKOSIlDv7wk6nHRXTUggZBjRNh5WUxU+DURKGBiD5IOk4lq4FBwBGuATRaBSJ2WnMzDiWnKZp0HUdqVQq0xUNh8Ni5fz8PEzTxDx/84BhihYNwe/wUyUP83VEdcOATYIGx810BC0Fi2ZghMMoWbfOMbCSyQwhE2g6dF1DOpVyftvO/tavX49UKoVkMomSkhL8P2HPj2V0t0w1AAAAAElFTkSuQmCC",e.next=5,this.render_captcha();case 5:return e.next=7,this.form_validation();case 7:return e.next=9,new Promise(function(e){t.is_initialized=!0,e()});case 9:e.next=18;break;case 11:e.prev=11,e.t0=e["catch"](0),e.t1=e.t0,e.next=404===e.t1?16:18;break;case 16:return this.$router.push("page_404"),e.abrupt("break",18);case 18:return e.prev=18,e.finish(18);case 20:case"end":return e.stop()}},e,this,[[0,11,18,20]])}));function t(){return e.apply(this,arguments)}return t}(),render_captcha:function(){var e=this;return axios.get(this.captcha_url,{headers:{Hostname:window.location.hostname}}).then(function(t){"success"==t.data.status&&(e.captcha_image_base64=t.data.captcha.base64_encoded_image,e.encrypted_answer=t.data.captcha.answer)})["catch"](function(t){if(t.response)return Promise.reject(t.response.status);e.$noty.error(e.$t("ui.general.network_abnormality")+": "+e.$t("ui.general.server_offline"))})},submit:function(){var e=this;this.is_logging=!0;var t={username:this.username,password:this.password,role:"customer",user_answer:this.captcha_user_answer,encrypted_answer:this.encrypted_answer};axios.post(this.login_url,t,{headers:{Hostname:window.location.hostname}}).then(function(t){if("success"==t.data.status)e.need_captcha=!1,localStorage.setItem("need_captcha",!1),localStorage.setItem("customer_authentication_token",t.data.token),localStorage.setItem("customer_expired_at",e.$moment.utc(e.$moment().add(e.$store.state.global_setting.login_expiration_period,"second")).format()),e.$parent.init();else{e.is_logging=!1,e.need_captcha=!0,localStorage.setItem("need_captcha",!0),e.render_captcha();var i={"incorrect username or password":e.$t("ui.pages.login.errors.account_or_password_incorrect"),"captcha verification failed":e.$t("ui.pages.login.errors.verification_code_incorrect"),"captcha verification timeout":e.$t("ui.pages.login.errors.verification_code_expired")};_.forEach(t.data.errors,function(t){_.forEach(t,function(t){console.log(t),e.$noty.error(e.$t("ui.pages.login.errors.failure_to_login")+": "+i[t])})})}})["catch"](function(t){if(e.is_logging=!1,t.response){var i={"Unknown Host":e.$t("ui.pages.login.errors.your_site_has_not_registered_system")};e.$noty.error(e.$t("ui.pages.login.errors.failure_to_login")+": "+t.response.status+i[t.response.data.errors])}else e.$noty.error(e.$t("ui.general.network_abnormality")+": "+e.$t("ui.general.server_offline"))})},focus_input:function(e){this.$refs[e].focus()},auto_input:function(){this.username="tw568",this.password="tw568",this.captcha_user_answer="TEST"},change_i18n:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"zh-TW";localStorage.setItem("language",e),this.$store.state.language=e},form_validation:function(){$(".ui.form").form({on:"blur",fields:{email:{identifier:"username",rules:[{type:"empty"}]},password:{identifier:"password",rules:[{type:"empty"}]}}})}},components:{NotificationBox:gn["a"],ErrorBox:vn["a"]}},xn=kn,Cn=(n("758c"),Object(Tt["a"])(xn,fn,hn,!1,null,"0d62fa10",null)),Pn=Cn.exports,Sn=n("3c2e"),Nn=n.n(Sn);function qn(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function An(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){qn(a,n,s,r,o,"next",e)}function o(e){qn(a,n,s,r,o,"throw",e)}r(void 0)})}}var En=n("304e"),zn=(new En,{data:function(){return{clock:{ticker:null,remaining_time:0},action_cables:[],is_hide_icon_toggle_scanner_modal:!1,is_scanner_modal_opend:!1,date_picker_modal:{channel:"",type:""}}},computed:{language:function(){return this.$store.state.language},human_remaining_time:function(){var e=this.$moment,t=e.duration(Math.floor(this.clock.remaining_time/1e3),"seconds"),i="";return t.days()>0&&(i+=" "+t.days()+this.$t("ui.general.day")),t.hours()>0&&(i+=" "+t.hours()+this.$t("ui.general.hour")),t.minutes()>0&&(i+=" "+t.minutes()+this.$t("ui.general.minute")),t.seconds()>0&&(i+=" "+t.seconds()+this.$t("ui.general.second")),i.trim()}},created:function(){var e=An(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:this.clock.ticker=setInterval(function(){t.clock.remaining_time>=1e3&&(t.clock.remaining_time=t.clock.remaining_time-1e3)},1e3),document.title=this.$t("ui.page_titles."+this.$route.name)+" | "+this.$t("ui.page_titles.customer_pages"),this.toggle_scanner_modal_keyboard_shortcut();case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),mounted:function(){var e=this;this.$bus.$off("toggle_scanner_modal"),this.$bus.$on("toggle_scanner_modal",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"toggle";e.toggle_scanner_modal(t)}),this.$bus.$off("date_picker_modal"),this.$bus.$on("date_picker_modal",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"toggle",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"daterange",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";e.date_picker_modal={channel:n,type:i},e.toggle_date_picker_modal(t)}),this.$bus.$off("is_print_waybill"),this.$bus.$on("is_print_waybill",function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,a=e.is_print_waybill(t,n,s);i?e.$bus.$emit(i,a):a.error&&alert(a.error)}),this.$store.state.style.width=$(window).width(),this.$store.state.style.height=$(window).height(),$(window).resize(function(){e.$store.state.style.width=$(window).width(),e.$store.state.style.height=$(window).height()})},watch:{$route:function(e,t){console.log("customer Layout watch"),this.extend_login_timeout(),document.title=this.$t("ui.page_titles."+e.name)+" | "+this.$t("ui.page_titles.customer_pages"),this.set_current_page_breadcrumb()},language:{handler:function(t){try{this._i18n.locale=t,this.cahnge_language_in_store_js_text(),document.title=this.$t("ui.page_titles."+this.$route.name)+" | "+this.$t("ui.page_titles.customer_pages")}catch(e){console.log(e),this.$noty.error(e)}},deep:!0}},methods:{wait:function(e){return new Promise(function(t){return setTimeout(t,e)})},init:function(){var e=An(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise(function(e){var i=localStorage.getItem("language")||"zh-TW";t.$store.state.language=i,e()});case 3:return e.next=5,new Promise(function(e){t.$store.commit("set_current_scope","customer"),e()});case 5:return e.next=7,this.validate_login();case 7:return e.next=9,new Promise(function(e){t.$store.state.is_login=!0,e()});case 9:return e.next=11,this.$store.dispatch("customer/fetch_routes");case 11:return e.next=13,this.$store.dispatch("customer/fetch_customer");case 13:return e.next=15,this.$store.dispatch("customer/fetch_notifications");case 15:return e.next=17,this.setting_service_theme();case 17:return e.next=19,new Promise(function(e){t.$noty.information(t.$t("ui.general.initialize_complete")),t.$store.state.initialize_statuses.main=!0,e()});case 19:return e.next=21,this.set_current_page_breadcrumb();case 21:e.next=27;break;case 23:switch(e.prev=23,e.t0=e["catch"](0),console.log(e.t0),e.t0){default:}case 27:return e.prev=27,e.finish(27);case 29:case"end":return e.stop()}},e,this,[[0,23,27,29]])}));function t(){return e.apply(this,arguments)}return t}(),validate_login:function(){var e=this;if(!localStorage.getItem("customer_authentication_token"))return this.$store.state.is_login=!1,Promise.reject("not logged in");if(localStorage.getItem("customer_expired_at")>this.$moment.utc().format()){var t=this.$store.state.settings.authorize_url;return axios.get(t,{headers:{Authorization:localStorage.getItem("customer_authentication_token")}}).then(function(t){return"success"==t.data.status?(e.extend_login_timeout(),Promise.resolve()):Promise.reject(t.data)})["catch"](function(t){if(t.response){switch(t.response.status){default:e.errors.push(t.response.status+" "+t.response.statusText)}e.$noty.error(e.$t("ui.pages.login.errors.failure_to_login")+": "+t.response.status+" "+t.response.statusText)}else if(t.errors)for(var i in t.errors)e.$noty.error(e.$t("ui.pages.login.errors.failure_to_login")+": "+i+" "+t.errors[i]);else e.$noty.error(e.$t("ui.pages.login.errors.failure_to_login")+": "+e.$t("ui.general.server_offline"));return e.clear_login_session(),e.$store.state.is_login=!1,Promise.reject("authorize failed")})}if(this.clear_login_session(),this.$store.state.is_login=!1,this.$noty.error(this.$t("ui.pages.login.errors.failure_to_login")+": "+this.$t("ui.pages.login.errors.timeout")),!this.$store.state.initialize_statuses.main)return Promise.reject("login timeout");this.redirect_to("/customer")},setting_service_theme:function(){var t,i,s="",a=this.$store.state.customer.customer.provider_node.service_name;try{t=a+"/config.json",i=n("ccaa")("./"+t)}catch(e){t="default/config.json",i=n("ccaa")("./"+t)}finally{document.body.classList.add(a),this.$store.state.customer.service_config=i,s+="    service: "+t+"\n"}return console.log("//=============== \n  Now service configs: \n"+s+"  All file path: config/services/ \n//=============== \n"),Promise.resolve()},set_current_page_breadcrumb:function(){return this.$route.meta.breadcrumb&&(this.$store.state.breadcrumbs=this.$route.meta.breadcrumb),Promise.resolve()},reserve_login_validation:function(){var e=this;clearTimeout(wn),clearTimeout($n);var t=this.$moment(localStorage.getItem("customer_expired_at"))-this.$moment();this.clock.remaining_time=t;var i=this.$moment().utc(this.$moment().add(t,"milliseconds")).format(),n=t-1e3*this.$store.state.global_setting.login_expiration_hint_preset;wn=setTimeout(function(){e.validate_login()},t),$n=setTimeout(function(){localStorage.getItem("customer_expired_at")>i?console.log(e.$t("ui.pages.login.pass_next_timeout_will_dont_warn")):e.show_login_timeout_hint()},n)},show_login_timeout_hint:function(){$(this.$refs.login_expiration_hint_modal).modal({dimmerSettings:{opacity:.8},closable:!1}).modal("show")},extend_login_timeout:function(){localStorage.setItem("customer_expired_at",this.$moment.utc(this.$moment().add(this.$store.state.global_setting.login_expiration_period,"second")).format()),this.reserve_login_validation()},clear_login_session:function(){clearTimeout(wn),clearTimeout($n),localStorage.removeItem("customer_expired_at"),localStorage.removeItem("customer_authentication_token")},redirect_to:function(e){window.location.replace(e)},logout:function(){this.clear_login_session(),this.redirect_to("/customer")},window_keydown:function(e){var t=new Nn.a(e);(81==t.key_code&&t.ctrl||"WakeUp"==t.key)&&this.toggle_scanner_modal("toggle")},toggle_is_hide_icon_toggle_scanner_modal:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.is_hide_icon_toggle_scanner_modal=e},toggle_scanner_modal_keyboard_shortcut:function(){$(window).bind("keyup",this.window_keydown)},toggle_scanner_modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"toggle",t=this;console.log(this.$store.state.customer.is_can_use_scanner),this.$store.state.customer.is_can_use_scanner&&$(".ui.scanner.modal").modal({dimmerSettings:{opacity:0},autofocus:!1,inverted:!0,duration:200,onShow:function(){t.is_scanner_modal_opend=!0,t.$bus.$emit("set_modal_opened",!0)},onHidden:function(){t.is_scanner_modal_opend=!1,t.$bus.$emit("set_modal_opened",!1)}}).modal(e)},toggle_date_picker_modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"toggle",t=this;$(".ui.modal.datetimerange").modal({closable:!1,autofocus:!1,onShow:function(){t.is_hide_icon_toggle_scanner_modal=!0,$(".ui.dimmer.modals").css("background","rgba(0,0,0,0.85)")},onHidden:function(){t.is_hide_icon_toggle_scanner_modal=!1}}).modal(e)},is_print_waybill:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,n={status:"failure",error:""},s=[],a=localStorage.getItem("print_waybill_history");if(a){s=$.parseJSON("["+a+"]");var r=_.find(s,function(t){return t.number==e});if(r){var o=this.$moment(r.created_at),c=this.$moment().diff(o,"second");c>t?(_.remove(s,function(t){return t.number==e}),this.set_print_waybill_history(s,e),n.status="success"):(n.status="failure",n.error="您無法在"+t+"秒內 連續印標")}else this.set_print_waybill_history(s,e),n.status="success";s.length>i&&(s.shift(),this.set_print_waybill_history(s))}else this.set_print_waybill_history(s,e),n.status="success";return console.log("print_waybill_history",localStorage.getItem("print_waybill_history")),n},set_print_waybill_history:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t&&e.push({number:t,created_at:this.$moment().format("YYYY/MM/DD HH:mm:ss")});var i=[];_.forEach(e,function(e){i.push(JSON.stringify(e))}),localStorage.setItem("print_waybill_history",i.toString())},cahnge_language_in_store_js_text:function(){var e=this;_.map(this.$store.state.element_ui_datepicker_daterange_options.shortcuts,function(t){t.text=e.$t(t.i18n_key)})}},components:{Sidebar:ji,TopMenu:Ji,FooterBar:rn,Breadcrumb:dn,ScannerModal:pn["default"],Login:Pn,DatetimerangeModal:mn["a"]}}),jn=zn,Rn=(n("cdf3"),Object(Tt["a"])(jn,Pi,Si,!1,null,null,null)),On=Rn.exports,In=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"station"}},[i("div",{staticClass:"ui fluid container"},[!0!==e.$store.state.is_login||e.is_logging_out?!1===e.$store.state.is_login?i("div",[i("div",{staticClass:"ui container"},[i("Login"),i("FooterBar")],1)]):i("div",{staticClass:"ui inverted dimmer transition visible active",staticStyle:{display:"block !important"}},[i("div",{staticClass:"ui text loader"},[e._v("\n                "+e._s(e.$t("ui.general.verify_staff"))+"...\n            ")])]):i("div",{staticClass:"ui stackable grid"},[e.$store.getters["station/is_current_staff_minimalist_layout"]?i("div",{staticClass:"three wide column"},[e.$store.state.initialize_statuses.service_theme?i("Sidebar"):i("img",{staticClass:"loading_mock opacity_fade",attrs:{src:"/images/loading_darken/sidebar.png",alt:""}})],1):e._e(),i("div",{staticClass:"thirteen wide column",class:{centered:!e.$store.getters["station/is_current_staff_minimalist_layout"]}},[e.$store.state.initialize_statuses.top_menu?i("TopMenu"):i("img",{staticClass:"loading_mock opacity_fade",attrs:{src:"/images/loading_darken/top_menu.png",alt:""}}),e.$store.state.initialize_statuses.main?i("Breadcrumb"):i("img",{staticClass:"loading_mock opacity_fade",attrs:{src:"/images/loading_darken/breadcrumb.png",alt:""}}),i("div",{staticClass:"ui main",staticStyle:{"min-height":"calc(100vh - 250px)"}},[e.$store.state.initialize_statuses.main?i("router-view"):i("img",{staticClass:"loading_mock opacity_fade",attrs:{src:"/images/loading_darken/main.png",alt:""}})],1),i("div",{staticClass:"clear"}),e.$store.state.initialize_statuses.footer?i("FooterBar"):i("img",{staticClass:"loading_mock opacity_fade",attrs:{src:"/images/loading_darken/footer.png",alt:""}}),i("Advertising"),i("SystemInfo")],1),e.$store.state.initialize_statuses.main?i("ScannerModal"):e._e()],1)]),e.$store.state.is_login&&e.$store.state.station.is_can_use_scanner?i("div",{staticClass:"icon_toggle_scanner_modal pointer mobile only",class:{hide:e.is_hide_icon_toggle_scanner_modal},on:{click:function(t){e.$bus.$emit("toggle_scanner_modal")}}},[i("i",{staticClass:"large circular inverted icon z-depth-2",class:{barcode:!e.is_scanner_modal_opend,"red remove":e.is_scanner_modal_opend}})]):e._e()])},Dn=[],Ln=n("957b"),Tn=Ln["a"],Bn=(n("481d"),Object(Tt["a"])(Tn,In,Dn,!1,null,null,null)),Mn=Bn.exports,Un=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Fn=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"index"}},[i("h3",[e._v("\n        Admin\n    ")])])}],Yn={props:{},data:function(){return{is_loading:!1}},mounted:function(){this.set_breadcrumbs()},watch:{$route:function(e,t){this.set_breadcrumbs()}},methods:{set_breadcrumbs:function(){this.$store.state.breadcrumbs=[]}},components:{},computed:{}},Gn=Yn,Hn=Object(Tt["a"])(Gn,Un,Fn,!1,null,"ebdac2de",null),Kn=Hn.exports,Wn=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"converters_layout"}},[i("ErrorBox",{tag:"div",attrs:{errors:e.errors}}),e.is_initialized?i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1):i("div",{staticClass:"ui active centered inline large loader"})],1)},Vn=[],Xn=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"errors"},[e.errors.length>0?i("div",{staticClass:"ui red icon message"},[i("i",{staticClass:"warning icon"}),i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                "+e._s(e.$t("ui.notifications.error.please_handle_errors"))+"\n            ")]),e._l(e.errors,function(t,n){return i("p",[e._v(e._s(n+1)+". "+e._s(t))])})],2)]):e._e()])},Qn=[],Zn={props:{errors:Array},data:function(){return{}},mounted:function(){},computed:{},methods:{},components:{}},Jn=Zn,es=Object(Tt["a"])(Jn,Xn,Qn,!1,null,"01fd9167",null),ts=es.exports;function is(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function ns(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){is(a,n,s,r,o,"next",e)}function o(e){is(a,n,s,r,o,"throw",e)}r(void 0)})}}var ss={data:function(){return{is_initialized:!1,errors:[]}},computed:{},watch:{},created:function(){this.init()},mounted:function(){},methods:{init:function(){var e=ns(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,new Promise(function(e){t.$noty.information("翻譯本管理初始化完畢"),t.is_initialized=!0,e()});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{ErrorBox:ts}},as=ss,rs=Object(Tt["a"])(as,Wn,Vn,!1,null,null,null),os=rs.exports,cs=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"converters"}},[i("router-link",{staticClass:"ui basic positive button",attrs:{to:{name:"new_converter",params:{}}}},[i("i",{staticClass:"plus icon"}),e._v("\n        新增翻譯本\n    ")]),i("table",{staticClass:"ui celled table"},[e._m(0),i("tbody",e._l(e.converters,function(t){return e.is_initialized?i("Converter",{key:t.id,attrs:{converter:t}}):e._e()}))])],1)},_s=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("thead",[i("tr",[i("th",[e._v("名稱")]),i("th",[e._v("操作")])])])}],ls=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",[i("td",[e._v("\n        "+e._s(e.converter.name)+"\n    ")]),i("td",[i("router-link",{staticClass:"ui basic primary button",attrs:{to:{name:"edit_converter",params:{id:e.converter.id}}}},[e._v("\n            內容\n        ")]),i("button",{staticClass:"ui basic negative button",on:{click:function(t){t.preventDefault(),e.delete_converter()}}},[e._v("\n            "+e._s(e.$t("ui.general.delete"))+"\n        ")])],1)])},us=[],ds={props:{converter:Object},data:function(){return{is_processing:!1}},computed:{delete_converter_url:function(){return this.$store.state.admin.converters_module.admin_converters_routes["delete"]}},created:function(){},mounted:function(){},watch:{},methods:{delete_converter:function(){if(confirm(this.$t("ui.notifications.warning.are_you_sure_to_delete_it"))){var e=this;e.is_processing=!0;var t=new RestUrl(e.delete_converter_url).parse({id:e.converter.id},"");axios.get(t).then(function(t){"success"==t.data.status?(e.$parent.init(),e.$noty.success("翻譯本刪除成功")):e.$noty.error("翻譯本刪除失敗")})["catch"](function(t){t.response?e.$noty.error(e.$t("ui.general.network_abnormality")+": "+t.response.status+t.response.data):e.$noty.error(e.$t("ui.general.network_abnormality")+": "+e.$t("ui.general.server_offline"))}),e.is_processing=!1}}},components:{}},ps=ds,ms=Object(Tt["a"])(ps,ls,us,!1,null,null,null),fs=ms.exports;function hs(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function vs(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){hs(a,n,s,r,o,"next",e)}function o(e){hs(a,n,s,r,o,"throw",e)}r(void 0)})}}var gs={data:function(){return{is_initialized:!1,converters:[]}},computed:{fetch_converters_url:function(){return this.$store.state.admin.converters_module.admin_converters_routes.index}},created:function(){this.init()},mounted:function(){},watch:{$route:function(e,t){"converters"==e.name&&this.init()}},methods:{init:function(){var e=vs(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,t.fetch_converters();case 5:return e.next=7,new Promise(function(e){t.is_initialized=!0,e()});case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_converters:function(){var e=this,t=new RestUrl(e.fetch_converters_url).parse({},"");return axios.get(t).then(function(t){return e.converters=t.data.converters,t})["catch"](function(t){return e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:"Converter",reason:": "+t})),Promise.reject(t)})}},components:{Converter:fs}},bs=gs,ys=Object(Tt["a"])(bs,cs,_s,!1,null,null,null),ws=ys.exports,$s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"new_converter"}},[i("h1",{staticClass:"ui header"},[e._v(e._s(e.converter.name)+" 翻譯本")]),e.is_initialized?i("div",[i("form",{staticClass:"ui form"},[i("div",{staticClass:"field"},[i("label",[e._v("名稱")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.converter.name,expression:"converter.name"}],attrs:{type:"text"},domProps:{value:e.converter.name},on:{input:function(t){t.target.composing||e.$set(e.converter,"name",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v("類別")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.converter.category,expression:"converter.category"}],attrs:{type:"text"},domProps:{value:e.converter.category},on:{input:function(t){t.target.composing||e.$set(e.converter,"category",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v("供應商")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.converter.provider,expression:"converter.provider"}],attrs:{type:"text"},domProps:{value:e.converter.provider},on:{input:function(t){t.target.composing||e.$set(e.converter,"provider",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v("Name Row")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.converter.name_row,expression:"converter.name_row"}],attrs:{type:"number"},domProps:{value:e.converter.name_row},on:{input:function(t){t.target.composing||e.$set(e.converter,"name_row",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v("Data Offset")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.converter.data_offset,expression:"converter.data_offset"}],attrs:{type:"number"},domProps:{value:e.converter.data_offset},on:{input:function(t){t.target.composing||e.$set(e.converter,"data_offset",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v("Data Bound")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.converter.data_bound,expression:"converter.data_bound"}],attrs:{type:"number"},domProps:{value:e.converter.data_bound},on:{input:function(t){t.target.composing||e.$set(e.converter,"data_bound",t.target.value)}}})]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui segments"},[e._l(e.converter.attribute_conversions,function(t){return i("div",{staticClass:"ui segment",class:{disabled:t._delete},attrs:{attribute_conversion:t}},[i("a",{staticClass:"ui right corner label",class:{green:t._delete,red:!t._delete},on:{click:function(i){i.preventDefault(),e.toggle_delete(t)}}},[t._delete?i("i",{staticClass:"undo icon"}):i("i",{staticClass:"remove icon"})]),i("h3",{staticClass:"ui header"},[e._v(e._s(t.header_text))]),i("div",{staticClass:"field",class:{disabled:t._delete}},[i("label",[e._v("Header Text")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.header_text,expression:"attribute_conversion.header_text"}],attrs:{type:"text"},domProps:{value:t.header_text},on:{input:function(i){i.target.composing||e.$set(t,"header_text",i.target.value)}}})]),i("div",{staticClass:"field",class:{disabled:t._delete}},[i("label",[e._v("Attribute Name")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.attribute_name,expression:"attribute_conversion.attribute_name"}],attrs:{type:"text"},domProps:{value:t.attribute_name},on:{input:function(i){i.target.composing||e.$set(t,"attribute_name",i.target.value)}}})]),i("div",{staticClass:"field",class:{disabled:t._delete}},[i("label",[e._v("Sort")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.sort,expression:"attribute_conversion.sort"}],attrs:{type:"number"},domProps:{value:t.sort},on:{input:function(i){i.target.composing||e.$set(t,"sort",i.target.value)}}})]),i("div",{staticClass:"field",class:{disabled:t._delete}},[i("label",[e._v("Is Auto Refer?")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.is_auto_refer,expression:"attribute_conversion.is_auto_refer"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.is_auto_refer)?e._i(t.is_auto_refer,null)>-1:t.is_auto_refer},on:{change:function(i){var n=t.is_auto_refer,s=i.target,a=!!s.checked;if(Array.isArray(n)){var r=null,o=e._i(n,r);s.checked?o<0&&e.$set(t,"is_auto_refer",n.concat([r])):o>-1&&e.$set(t,"is_auto_refer",n.slice(0,o).concat(n.slice(o+1)))}else e.$set(t,"is_auto_refer",a)}}})])])}),i("div",{staticClass:"ui segment"},[i("button",{staticClass:"ui basic positive fluid button",on:{click:function(t){return t.preventDefault(),e.add_attribute_conversion(t)}}},[i("i",{staticClass:"plus icon"}),e._v("\n                        新增條目\n                    ")])])],2),i("button",{staticClass:"ui basic positive button",on:{click:function(t){return t.preventDefault(),e.create(t)}}},[e._v(e._s(e.$t("ui.general.create")))])])]):e._e()])},ks=[];function xs(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function Cs(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){xs(a,n,s,r,o,"next",e)}function o(e){xs(a,n,s,r,o,"throw",e)}r(void 0)})}}var Ps={props:{},data:function(){return{is_initialized:!1,is_processing:!1,converter:{},errors:[]}},computed:{create_converter_url:function(){return this.$store.state.admin.converters_module.admin_converters_routes.create}},created:function(){this.init()},mounted:function(){},watch:{$route:function(e,t){"new_converter"==e.name&&this.init()}},methods:{init:function(){var e=Cs(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,t.is_processing=!1,t.converter={name:"新翻譯本",attribute_conversions:[]},t.errors=[],e()});case 3:return e.next=5,new Promise(function(e){t.is_initialized=!0,e()});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),toggle_delete:function(e){e._delete=!e._delete},add_attribute_conversion:function(){var e=this;e.converter.attribute_conversions.push({header_text:"新條目",_delete:!1})},create:function(){var e=this;e.is_processing=!0,e.errors=[];var t=e.converter;t.attribute_conversions_attributes=_.extend({},t.attribute_conversions),delete t["attribute_conversions"];var i=new RestUrl(e.create_converter_url).parse({},"");axios.post(i,{converter:t}).then(function(t){"success"==t.data.status?(e.$router.push("/admin/converters"),e.$noty.success(e.$t("ui.notifications.success.create__name",{name:"翻譯本"}))):(e.$noty.error(e.$t("ui.notifications.error.create__name",{name:"翻譯本",reason:NaN+t.data.errors})),e.errors=t.data.errors)})["catch"](function(t){t.response?e.$noty.error(e.$t("ui.general.network_abnormality")+": "+t.response.status+t.response.data):e.$noty.error(e.$t("ui.general.network_abnormality")+": "+e.$t("ui.general.server_offline"))}),e.is_processing=!1}},components:{}},Ss=Ps,Ns=Object(Tt["a"])(Ss,$s,ks,!1,null,"0d1d4854",null),qs=Ns.exports,As=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"edit_converter"}},[i("h1",{staticClass:"ui header"},[e._v(e._s(e.converter.name)+" 翻譯本資訊")]),e.is_initialized?i("div",[i("form",{staticClass:"ui form"},[i("div",{staticClass:"field"},[i("label",[e._v("名稱")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.converter.name,expression:"converter.name"}],attrs:{type:"text"},domProps:{value:e.converter.name},on:{input:function(t){t.target.composing||e.$set(e.converter,"name",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v("類別")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.converter.category,expression:"converter.category"}],attrs:{type:"text"},domProps:{value:e.converter.category},on:{input:function(t){t.target.composing||e.$set(e.converter,"category",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v("供應商")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.converter.provider,expression:"converter.provider"}],attrs:{type:"text"},domProps:{value:e.converter.provider},on:{input:function(t){t.target.composing||e.$set(e.converter,"provider",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v("Name Row")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.converter.name_row,expression:"converter.name_row"}],attrs:{type:"number"},domProps:{value:e.converter.name_row},on:{input:function(t){t.target.composing||e.$set(e.converter,"name_row",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v("Data Offset")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.converter.data_offset,expression:"converter.data_offset"}],attrs:{type:"number"},domProps:{value:e.converter.data_offset},on:{input:function(t){t.target.composing||e.$set(e.converter,"data_offset",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v("Data Bound")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.converter.data_bound,expression:"converter.data_bound"}],attrs:{type:"number"},domProps:{value:e.converter.data_bound},on:{input:function(t){t.target.composing||e.$set(e.converter,"data_bound",t.target.value)}}})]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui segments"},[e._l(e.converter.attribute_conversions,function(t){return i("div",{staticClass:"ui segment",class:{disabled:t._delete},attrs:{attribute_conversion:t}},[i("a",{staticClass:"ui right corner label",class:{green:t._delete,red:!t._delete},on:{click:function(i){i.preventDefault(),e.toggle_delete(t)}}},[t._delete?i("i",{staticClass:"undo icon"}):i("i",{staticClass:"remove icon"})]),i("h3",{staticClass:"ui header"},[e._v(e._s(t.header_text))]),i("div",{staticClass:"field",class:{disabled:t._delete}},[i("label",[e._v("Header Text")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.header_text,expression:"attribute_conversion.header_text"}],attrs:{type:"text"},domProps:{value:t.header_text},on:{input:function(i){i.target.composing||e.$set(t,"header_text",i.target.value)}}})]),i("div",{staticClass:"field",class:{disabled:t._delete}},[i("label",[e._v("Attribute Name")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.attribute_name,expression:"attribute_conversion.attribute_name"}],attrs:{type:"text"},domProps:{value:t.attribute_name},on:{input:function(i){i.target.composing||e.$set(t,"attribute_name",i.target.value)}}})]),i("div",{staticClass:"field",class:{disabled:t._delete}},[i("label",[e._v("Sort")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.sort,expression:"attribute_conversion.sort"}],attrs:{type:"number"},domProps:{value:t.sort},on:{input:function(i){i.target.composing||e.$set(t,"sort",i.target.value)}}})]),i("div",{staticClass:"field",class:{disabled:t._delete}},[i("label",[e._v("Is Auto Refer?")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.is_auto_refer,expression:"attribute_conversion.is_auto_refer"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.is_auto_refer)?e._i(t.is_auto_refer,null)>-1:t.is_auto_refer},on:{change:function(i){var n=t.is_auto_refer,s=i.target,a=!!s.checked;if(Array.isArray(n)){var r=null,o=e._i(n,r);s.checked?o<0&&e.$set(t,"is_auto_refer",n.concat([r])):o>-1&&e.$set(t,"is_auto_refer",n.slice(0,o).concat(n.slice(o+1)))}else e.$set(t,"is_auto_refer",a)}}})])])}),i("div",{staticClass:"ui segment"},[i("button",{staticClass:"ui basic positive fluid button",on:{click:function(t){return t.preventDefault(),e.add_attribute_conversion(t)}}},[i("i",{staticClass:"plus icon"}),e._v("\n                        新增條目\n                    ")])])],2),i("button",{staticClass:"ui basic positive button",on:{click:function(t){return t.preventDefault(),e.update(t)}}},[e._v(e._s(e.$t("ui.general.update")))])])]):e._e()])},Es=[];function zs(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function js(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){zs(a,n,s,r,o,"next",e)}function o(e){zs(a,n,s,r,o,"throw",e)}r(void 0)})}}var Rs={props:{},data:function(){return{is_initialized:!1,is_processing:!1,converter:{},errors:[]}},computed:{fetch_converter_url:function(){return this.$store.state.admin.converters_module.admin_converters_routes.show},update_converter_url:function(){return this.$store.state.admin.converters_module.admin_converters_routes.update}},created:function(){this.init()},mounted:function(){},watch:{$route:function(e,t){"edit_converter"==e.name&&this.init()}},methods:{init:function(){var e=js(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,t.is_processing=!1,t.converter={},t.errors=[],e()});case 3:return e.next=5,t.fetch_converter();case 5:return e.next=7,new Promise(function(e){t.is_initialized=!0,e()});case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_converter:function(){var e=this,t=new RestUrl(e.fetch_converter_url).parse({id:e.$route.params.id},"");return axios.get(t).then(function(t){e.converter=t.data.converter,e.converter.attribute_conversions=_.map(e.converter.attribute_conversions,function(e){return _.extend({},e,{_delete:!1})})})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:"Converter",reason:": "+t}))})},toggle_delete:function(e){e._delete=!e._delete},add_attribute_conversion:function(){var e=this;e.converter.attribute_conversions.push({header_text:"新條目",_delete:!1})},update:function(){var e=this;e.is_processing=!0,e.errors=[];var t=e.converter;t.attribute_conversions_attributes=_.extend({},t.attribute_conversions),delete t["attribute_conversions"];var i=new RestUrl(e.update_converter_url).parse({id:e.$route.params.id},"");axios.post(i,{converter:t}).then(function(t){"success"==t.data.status?(e.$router.push("/admin/converters"),e.$noty.success(e.$t("ui.notifications.success.update__name",{name:"Converters"}))):(e.$noty.error(e.$t("ui.notifications.error.update__name",{name:"Converters",reason:": "+t.data.errors})),e.errors=t.data.errors)})["catch"](function(t){t.response?e.$noty.error(e.$t("ui.general.network_abnormality")+": "+t.response.status+t.response.data):e.$noty.error(e.$t("ui.general.network_abnormality")+": "+e.$t("ui.general.server_offline"))}),e.is_processing=!1}},components:{}},Os=Rs,Is=Object(Tt["a"])(Os,As,Es,!1,null,"705b8062",null),Ds=Is.exports,Ls={route_name:"converters",name:"翻譯本列表"},Ts={route_name:"new_converter",name:"新增翻譯本"},Bs={route_name:"edit_converter",name:"編輯翻譯本"},Ms=[{path:"",component:ws,name:"converters",meta:{breadcrumb:[Ls]}},{path:"new",component:qs,name:"new_converter",meta:{breadcrumb:[Ls,Ts]}},{path:":id/edit",component:Ds,name:"edit_converter",meta:{breadcrumb:[Ls,Bs]}}],Us=Ms;a["default"].use(Rt["a"]);var Fs=[{path:"",component:Kn,name:"admin_index"},{path:"converters",component:os,children:Us}],Ys=Fs,Gs=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"index"}},[i("div",{staticClass:"ui top attached tabular menu"},["manager"==e.current_staff.theme_name?i("a",{staticClass:"item",class:{active:"GlobalMonitor"==e.current_component},on:{click:function(t){e.current_component="GlobalMonitor"}}},[e._v("\n            "+e._s(e.$t("ui.pages.monitor.menu_title.all"))+"\n        ")]):e._e(),i("a",{staticClass:"item",class:{active:"PersonalMonitor"==e.current_component},on:{click:function(t){e.current_component="PersonalMonitor"}}},[e._v("\n            "+e._s(e.$t("ui.pages.monitor.menu_title.myself"))+"\n        ")]),e.current_staff.station_identity?i("a",{staticClass:"item",class:{active:"StationalMonitor"==e.current_component},on:{click:function(t){e.current_component="StationalMonitor"}}},[e._v("\n            "+e._s(e.$t("ui.pages.monitor.menu_title.station"))+"\n        ")]):e._e()]),i("div",{staticClass:"ui bottom attached tab segment active"},[i(e.current_component,{tag:"component"})],1)])},Hs=[],Ks=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"personal_monitor"}},[i("Operations"),i("div",{staticClass:"ui divider"}),i("CoreWaybillsUnderOperations"),i("div",{staticClass:"ui divider"}),i("CoreWaybillsUnderScans")],1)},Ws=[],Vs=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"operations x_scrollable"},[i("h1",{staticClass:"ui header"},[e._v("\n        "+e._s(e.$t("ui.pages.monitor.title.pending_operations"))+"\n        "),i("div",{staticClass:"sub header"},[e._v("\n            "+e._s(e.$t("ui.pages.monitor.sub_title.assigned_to_me_but_not_completed_operations"))+"\n        ")])]),i("table",{staticClass:"ui compact celled table"},[i("thead",{staticClass:"center aligned"},[i("tr",[i("th",[e._v(e._s(e.$t("ui.general.date")))]),i("th",[e._v(e._s(e.$t("models.attributes.operations.number")))]),i("th",[e._v(e._s(e.$t("models.attributes.operations.customer")))]),i("th",[e._v(e._s(e.$t("models.attributes.operations.customer_note")))]),i("th",[e._v(e._s(e.$t("models.attributes.operations.your_note")))]),i("th",[e._v(e._s(e.$t("ui.pages.operations.waybill_amount")))]),i("th",[e._v(e._s(e.$t("models.attributes.operations.file")))]),i("th",{staticClass:"center aligned"},[i("div",{staticClass:"ui basic icon button",on:{click:function(t){e.is_show_filter=!e.is_show_filter}}},[e.is_show_filter?i("i",{staticClass:"angle double up icon"}):i("i",{staticClass:"angle double down icon"})])])]),i("tr",{staticClass:"ui center aligned transition"},[i("th",[i("el-date-picker",{staticClass:"next_input_row",attrs:{"unlink-panels":"",type:"daterange",size:"small",align:"center","start-placeholder":e.$t("ui.el.datepicker.startDate"),"end-placeholder":e.$t("ui.el.datepicker.endDate"),"picker-options":e.$store.state.element_ui_datepicker_daterange_options},model:{value:e.search_params.dates,callback:function(t){e.$set(e.search_params,"dates",t)},expression:"search_params.dates"}})],1),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.number,expression:"search_params.number"}],attrs:{type:"text"},domProps:{value:e.search_params.number},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_operations(t):null},input:function(t){t.target.composing||e.$set(e.search_params,"number",t.target.value)}}})])]),i("th",[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.search_params.customer_identity,expression:"search_params.customer_identity"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.search_params,"customer_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),i("option",{attrs:{value:"'null'"}},[e._v("無客戶")]),e._l(e.$store.state.provider.customers,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.company_name))])})],2)]),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.customer_note,expression:"search_params.customer_note"}],attrs:{type:"text"},domProps:{value:e.search_params.customer_note},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_operations(t):null},input:function(t){t.target.composing||e.$set(e.search_params,"customer_note",t.target.value)}}})])]),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.provider_note,expression:"search_params.provider_note"}],attrs:{type:"text"},domProps:{value:e.search_params.provider_note},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_operations(t):null},input:function(t){t.target.composing||e.$set(e.search_params,"provider_note",t.target.value)}}})])]),i("th"),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.original_file_name,expression:"search_params.original_file_name"}],attrs:{type:"text"},domProps:{value:e.search_params.original_file_name},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_operations(t):null},input:function(t){t.target.composing||e.$set(e.search_params,"original_file_name",t.target.value)}}})])]),i("th",[i("div",{staticClass:"ui icon mini buttons"},[i("div",{staticClass:"ui black basic button",on:{click:function(t){return t.preventDefault(),e.fetch_operations(t)}}},[i("i",{staticClass:"search icon"})]),i("div",{staticClass:"ui black basic button",on:{click:function(t){return t.preventDefault(),e.init_search_params(t)}}},[i("i",{staticClass:"refresh icon"})])])])])]),e.is_show_operations?i("tbody",[e._l(e.operations,function(t){return i("Operation",{key:t.identity,attrs:{operation:t,is_processing:e.is_processing}})}),e.operations.length<=0?i("tr",{staticClass:"center aligned"},[i("td",{attrs:{colspan:"8"}},[i("h5",[e._v(e._s(e.$t("ui.general.no_data")))])])]):e._e()],2):i("tbody",[e._m(0)])]),e.operations.length>0?i("Paginator",{attrs:{total_pages:e.pagination.total_pages,current_page:e.pagination.current_page,change_page_channel:"personal_operations"}}):e._e()],1)},Xs=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"loading"},[i("td",{attrs:{colspan:"8"}},[i("div",{staticClass:"ui active centered inline loader"})])])}],Qs=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"center aligned"},[i("td",[e._v(" "+e._s(e.human_datetime(e.operation.created_at)))]),i("td",[e._v(" "+e._s(e.operation.number||"-")+" ")]),i("td",[e._v(" "+e._s(e.customer_name||"-")+" ")]),i("td",[e._v(" "+e._s(e.operation.customer_note||"-")+" ")]),i("td",[e._v(" "+e._s(e.operation.provider_note||"-")+" ")]),i("td",{class:{negative:0==e.operation.core_waybills.length}},[e._v("\n        "+e._s(e.done_core_waybills.length)+" / "+e._s(e.operation.core_waybills.length)+"\n    ")]),i("td",[i("a",{attrs:{href:e.operation.original_file_url}},[e._v(e._s(e.operation.original_file_name))])]),i("td",{staticClass:"center aligned"},[i("router-link",{staticClass:"ui basic primary button",attrs:{to:{name:"edit_provider_operation",params:{identity:e.operation.identity}}}},[e._v("\n            "+e._s(e.$t("ui.general.detail"))+"\n        ")])],1)])},Zs=[],Js={props:{operation:Object},data:function(){return{is_processing:!1}},computed:{customer_name:function(){return this.operation.customer?this.operation.customer.company_name:null},done_core_waybills:function(){return _.filter(this.operation.core_waybills,function(e){return 1==e.is_done})}},created:function(){},mounted:function(){},watch:{},methods:{cancel:function(){var e=this;if(confirm(this.$t("ui.notifications.warning.are_you_sure_to_cancel_it"))){this.is_processing=!0;var t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_operation_cancel).parse({operation_identity:this.operation.identity});axios.post(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"==t.data.status){var i=e.$store.state.provider.operations_module.operations.indexOf(e.operation);e.$store.state.provider.operations_module.operations.splice(i,1),e.$noty.success("訂單取消成功")}else e.$noty.error("訂單取消失敗")})["catch"](function(t){console.log(t),t.response?e.$noty.error(e.$t("ui.general.network_abnormality")+": "+t.response.status+t.response.data):e.$noty.error(e.$t("ui.general.network_abnormality")+": "+e.$t("ui.general.server_offline"))}),this.is_processing=!1}}},components:{}},ea=Js,ta=Object(Tt["a"])(ea,Qs,Zs,!1,null,null,null),ia=ta.exports,na=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui pagination menu",attrs:{id:"paginator"}},[i("FirstPage",{tag:"div",attrs:{current_page:e.current_page,disabled:e.disabled}}),e.style.width>500?i("PrevPage",{tag:"div",attrs:{page:e.prev_page,disabled:e.disabled}}):e._e(),e._l(e.nambers_range,function(t){return i("Page",{tag:"div",attrs:{page:t,current_page:e.current_page,total_pages:e.total_pages,disabled:e.disabled}})}),e.style.width>500?i("NextPage",{tag:"div",attrs:{page:e.next_page,disabled:e.disabled}}):e._e(),i("LastPage",{tag:"div",attrs:{current_page:e.current_page,total_pages:e.total_pages,disabled:e.disabled}})],2)},sa=[],aa=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"page"}},[e.disabled?i("a",{staticClass:"disabled item"},[e._v("\n        "+e._s(e.page)+"\n    ")]):e.activated_page?i("div",{staticClass:"active item"},[e._v(e._s(e.page))]):e.inside_window?i("a",{staticClass:"item",on:{click:e.change_page}},[e._v(e._s(e.page))]):e.truncated?i("a",{staticClass:"disabled item",staticStyle:{height:"40px"}},[e.jump_mode?i("div",{staticClass:"ui input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.jump_target,expression:"jump_target"}],ref:"jump_input",staticStyle:{width:"90px"},attrs:{type:"text",placeholder:"Jump to ..."},domProps:{value:e.jump_target},on:{blur:function(t){e.close_jump_input()},keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.jump_to()},input:function(t){t.target.composing||(e.jump_target=t.target.value)}}})]):i("i",{staticClass:"ellipsis horizontal icon",staticStyle:{cursor:"pointer"},on:{click:function(t){e.open_jump_input()}}})]):e._e()])},ra=[],oa={name:"PaginationPage",props:{page:Number,current_page:Number,total_pages:Number,disabled:{type:Boolean,default:!1}},data:function(){return{jump_mode:!1,jump_target:null}},mounted:function(){},computed:{style:function(){return this.$store.state.style},limit:function(){return this.style.width>767?3:2},activated_page:function(){return this.page==this.current_page},inside_window:function(){if(Math.abs(this.current_page-this.page)<this.limit)return!0},truncated:function(){if(Math.abs(this.current_page-this.page)==this.limit+1)return!0}},methods:{open_jump_input:function(){var e=this;this.jump_mode=!0,this.$nextTick(function(){return e.$refs.jump_input.focus()})},close_jump_input:function(){this.jump_mode=!1,this.jump_target=null},jump_to:function(){var e=this.total_pages<=this.jump_target?this.total_pages:this.jump_target<=0?1:this.jump_target;this.$parent.change_page(e)},change_page:function(){this.$parent.change_page(this.page)}},components:{}},ca=oa,_a=Object(Tt["a"])(ca,aa,ra,!1,null,"bfb28f46",null),la=_a.exports,ua=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"next"}},[e.disabled?i("a",{staticClass:"disabled item"},[i("i",{staticClass:"angle right icon"})]):e.page?i("a",{staticClass:"item",on:{click:e.change_page}},[i("i",{staticClass:"angle right icon"})]):i("a",{staticClass:"disabled item"},[i("i",{staticClass:"angle right icon"})])])},da=[],pa={name:"PaginationNext",props:{page:Number,disabled:{type:Boolean,default:!1}},data:function(){return{}},mounted:function(){},computed:{},methods:{change_page:function(){this.$parent.change_page(this.page)}},components:{}},ma=pa,fa=Object(Tt["a"])(ma,ua,da,!1,null,"5c78e02a",null),ha=fa.exports,va=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"last"}},[e.disabled?i("a",{staticClass:"disabled item"},[i("i",{staticClass:"angle double right icon"})]):e.current_page!=e.total_pages&&e.total_pages>0?i("a",{staticClass:"item",on:{click:function(t){e.$parent.change_page(e.total_pages)}}},[i("i",{staticClass:"angle double right icon"})]):i("a",{staticClass:"disabled item"},[i("i",{staticClass:"angle double right icon"})])])},ba=[],ya={name:"PaginationLast",props:{current_page:Number,total_pages:Number,disabled:{type:Boolean,default:!1}},data:function(){return{}},mounted:function(){},computed:{},methods:{},components:{}},wa=ya,$a=Object(Tt["a"])(wa,va,ba,!1,null,"fb78c238",null),ka=$a.exports,xa=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"prev"}},[e.disabled?i("a",{staticClass:"disabled item"},[i("i",{staticClass:"angle left icon"})]):e.page?i("a",{staticClass:"item",on:{click:e.change_page}},[i("i",{staticClass:"angle left icon"})]):i("a",{staticClass:"disabled item"},[i("i",{staticClass:"angle left icon"})])])},Ca=[],Pa={name:"PaginationPrevious",props:{page:Number,disabled:{type:Boolean,default:!1}},data:function(){return{}},mounted:function(){},computed:{},methods:{change_page:function(){this.$parent.change_page(this.page)}},components:{}},Sa=Pa,Na=Object(Tt["a"])(Sa,xa,Ca,!1,null,"18b6a454",null),qa=Na.exports,Aa=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"paginator-first"},[e.disabled?i("a",{staticClass:"disabled item"},[i("i",{staticClass:"angle double left icon"})]):1!=e.current_page?i("a",{staticClass:"item",on:{click:function(t){e.$parent.change_page(1)}}},[i("i",{staticClass:"angle double left icon"})]):i("a",{staticClass:"disabled item"},[i("i",{staticClass:"angle double left icon"})])])},Ea=[],za={name:"PaginationFirst",props:{current_page:Number,disabled:{type:Boolean,default:!1}},data:function(){return{}},mounted:function(){},computed:{},methods:{},components:{}},ja=za,Ra=Object(Tt["a"])(ja,Aa,Ea,!1,null,"61f12946",null),Oa=Ra.exports;function Ia(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){Da(e,t,i[t])})}return e}function Da(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var La={name:"ToolPagination",props:{current_page:Number,total_pages:Number,change_page_channel:{default:"",type:String},disabled:{type:Boolean,default:!1}},data:function(){return{}},computed:{style:function(){return this.$store.state.style},prev_page:function(){return this.current_page<2?null:this.current_page-1},next_page:function(){return this.current_page>=this.total_pages?null:this.current_page+1},nambers_range:function(){var e=this;return this.total_pages<6?this.total_pages:this.current_page<4?Array.from({length:5},function(e,t){return t+1}):this.current_page+4>this.total_pages?Array.from({length:7},function(t,i){return e.total_pages-6+i}):Array.from({length:7},function(t,i){return e.current_page-2+i})}},mounted:function(){},methods:{change_page:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.change_page_channel)this.$bus.$emit(this.change_page_channel,e);else{var t=_.cloneDeep(this.$route.query);t.page&&delete t.page,this.$router.push({name:this.$router.name,query:Ia({},{page:e},t)})}}},components:{Page:la,NextPage:ha,LastPage:ka,PrevPage:qa,FirstPage:Oa}},Ta=La,Ba=(n("5b16"),Object(Tt["a"])(Ta,na,sa,!1,null,null,null)),Ma=Ba.exports;function Ua(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function Fa(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){Ua(a,n,s,r,o,"next",e)}function o(e){Ua(a,n,s,r,o,"throw",e)}r(void 0)})}}var Ya={data:function(){return{is_initialized:!1,is_processing:!1,is_show_operations:!1,is_show_filter:!1,operations:[],pagination:{},search_params:{begin_at:null,end_at:null,number:null,provider_note:null,customer_identity:null,customer_note:null,original_file_name:null,staff_identity:null,is_done:!1,is_canceled:!1},errors:[]}},created:function(){this.init()},mounted:function(){},watch:{is_show_filter:function(e){$(".operations .ui.transition").transition("fade down")}},computed:{},methods:{init:function(){var e=Fa(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!1,t.search_params.staff_identity=t.$store.state.provider.current_staff.identity,e()});case 2:return e.next=4,this.fetch_operations();case 4:return e.next=6,new Promise(function(e){t.is_initialized=!0,e()});case 6:this.$bus.$off("personal_operations"),this.$bus.$on("personal_operations",function(e){t.$store.state.provider.operations_module.current_page=e,t.search_params.page=e,t.fetch_operations()});case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_operations:function(){var e=this;if(0==this.is_processing){this.is_show_operations=!1,this.is_processing=!0;var t=_.clone(this.search_params);t.dates&&(t["begin_at"]=this.$moment(t.dates[0]).startOf("day").format("YYYY-MM-DDTHH:mm:ss+08:00"),t["end_at"]=this.$moment(t.dates[1]).endOf("day").format("YYYY-MM-DDTHH:mm:ss+08:00"));var i=new RestUrl(this.$store.state.provider.routes.api_v1_provider_operations).parse({},"?"+object_to_query(t));return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){return"success"==t.data.status?(e.operations=t.data.operations,e.pagination=t.data.pagination):"failure"==t.data.status&&(e.errors=t.data.errors,e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.operations"),reason:": "+t.data.errors}))),t})["catch"](function(t){return e.errors.push(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.operations"),reason:": "+e.$t("ui.general.network_abnormality")+","+t.response.status})),Promise.reject(t)}).then(function(){setTimeout(function(){e.is_processing=!1,e.is_show_operations=!0},300)})}},init_search_params:function(){this.search_params={dates:[],begin_at:null,end_at:null,number:null,provider_note:null,customer_identity:null,customer_note:null,original_file_name:null,staff_identity:this.$store.state.provider.current_staff.identity,is_done:!1,is_canceled:!1},$("#operations .ui.dropdown").dropdown("clear")}},components:{Operation:ia,Paginator:Ma}},Ga=Ya,Ha=(n("f9ea"),Object(Tt["a"])(Ga,Vs,Xs,!1,null,"0d18672e",null)),Ka=Ha.exports,Wa=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"core_waybills_under_operations x_scrollable"},[i("h1",{staticClass:"ui header"},[e._v("\n        "+e._s(e.$t("ui.pages.monitor.title.pending_waybill_in_operations"))+"\n        "),i("div",{staticClass:"sub header"},[e._v("\n            "+e._s(e.$t("ui.pages.monitor.sub_title.assigned_to_me_but_not_completed_waybill_in_operations"))+"\n        ")])]),e.is_initialized?i("table",{staticClass:"ui compact celled table"},[i("thead",{staticClass:"center aligned"},[i("tr",[i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.operation_number")))]),i("th",[e._v(e._s(e.$t("models.materials")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.number")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.consignee_phone")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.consignee_name")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.weight_in_kilo")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.collection")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.latest_status")))]),i("th",{staticClass:"center aligned"},[i("div",{staticClass:"ui basic icon button",on:{click:function(t){e.is_show_filter=!e.is_show_filter}}},[e.is_show_filter?i("i",{staticClass:"angle double up icon"}):i("i",{staticClass:"angle double down icon"})])])]),i("tr",{staticClass:"ui center aligned transition"},[i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.operation.number,expression:"search_params.operation.number"}],attrs:{type:"text"},domProps:{value:e.search_params.operation.number},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.fetch_core_waybills()},input:function(t){t.target.composing||e.$set(e.search_params.operation,"number",t.target.value)}}})])]),i("th",[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.search_params.material.class_names,expression:"search_params.material.class_names"}],ref:"material_selector",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.search_params.material,"class_names",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.materials,function(t){return i("option",{domProps:{value:t.class_name}},[e._v(e._s(t.name))])})],2)]),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.number,expression:"search_params.number"}],attrs:{type:"text"},domProps:{value:e.search_params.number},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.fetch_core_waybills()},input:function(t){t.target.composing||e.$set(e.search_params,"number",t.target.value)}}})])]),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.consignee_phone,expression:"search_params.consignee_phone"}],attrs:{type:"text"},domProps:{value:e.search_params.consignee_phone},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.fetch_core_waybills()},input:function(t){t.target.composing||e.$set(e.search_params,"consignee_phone",t.target.value)}}})])]),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.consignee_name,expression:"search_params.consignee_name"}],attrs:{type:"text"},domProps:{value:e.search_params.consignee_name},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.fetch_core_waybills()},input:function(t){t.target.composing||e.$set(e.search_params,"consignee_name",t.target.value)}}})])]),i("th"),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.weight_in_kilo,expression:"search_params.weight_in_kilo"}],attrs:{type:"number"},domProps:{value:e.search_params.weight_in_kilo},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.fetch_core_waybills()},input:function(t){t.target.composing||e.$set(e.search_params,"weight_in_kilo",t.target.value)}}})])]),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.collection,expression:"search_params.collection"}],attrs:{type:"number"},domProps:{value:e.search_params.collection},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.fetch_core_waybills()},input:function(t){t.target.composing||e.$set(e.search_params,"collection",t.target.value)}}})])]),i("th",[i("div",{staticClass:"ui icon mini buttons"},[i("div",{staticClass:"ui black basic button",on:{click:function(t){return t.preventDefault(),e.fetch_core_waybills(t)}}},[i("i",{staticClass:"search icon"})]),i("div",{staticClass:"ui black basic button",on:{click:function(t){return t.preventDefault(),e.init_search_params(t)}}},[i("i",{staticClass:"refresh icon"})])])])])]),e.is_show_core_waybills?i("tbody",[e._l(e.core_waybills,function(t){return i("CoreWaybill",{key:t.identity,attrs:{core_waybill:t,is_processing:e.is_processing}})}),e.core_waybills.length<=0?i("tr",{staticClass:"center aligned"},[i("td",{attrs:{colspan:"8"}},[i("h5",[e._v(e._s(e.$t("ui.general.no_data")))])])]):e._e()],2):i("tbody",[e._m(0)])]):e._e(),e.core_waybills.length>0?i("Paginator",{attrs:{total_pages:e.pagination.total_pages,current_page:e.pagination.current_page,change_page_channel:"personal_core_waybills_under_operations"}}):e._e()],1)},Va=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"loading"},[i("td",{attrs:{colspan:"8"}},[i("div",{staticClass:"ui active centered inline loader"})])])}],Xa=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"center aligned"},[i("td",[e.core_waybill.operation?i("router-link",{attrs:{to:{name:"edit_provider_operation",params:{identity:e.core_waybill.operation.identity}}}},[e._v("\n            "+e._s(e.core_waybill.operation.number)+"\n        ")]):e._e()],1),i("td",[e._v(" "+e._s(e.core_waybill.material.name||"-")+" ")]),i("td",[e._v(" "+e._s(e.core_waybill.number||"-")+" ")]),i("td",[e._v(" "+e._s(e.core_waybill.consignee_phone||"-")+" ")]),i("td",[e._v(" "+e._s(e.core_waybill.consignee_name||"-")+" ")]),i("td",[e._v(" "+e._s(e.core_waybill.weight_in_kilo||"-")+" ")]),i("td",[e._v(" "+e._s(e.core_waybill.collection||"-")+" ")]),i("td",[e._v(" "+e._s(e.latest_status_name||"-"))]),i("td",{staticClass:"center aligned"},[i("router-link",{staticClass:"ui basic primary button",attrs:{to:{name:"edit_core_waybill",params:{identity:e.core_waybill.identity}}}},[e._v("\n            "+e._s(e.$t("ui.general.detail"))+"\n        ")])],1)])},Qa=[],Za={props:{core_waybill:Object},data:function(){return{is_processing:!1}},computed:{latest_status_name:function(){try{return this.core_waybill.latest_status.name}catch(e){return null}}},created:function(){},mounted:function(){},watch:{},methods:{},components:{}},Ja=Za,er=Object(Tt["a"])(Ja,Xa,Qa,!1,null,null,null),tr=er.exports;function ir(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function nr(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){ir(a,n,s,r,o,"next",e)}function o(e){ir(a,n,s,r,o,"throw",e)}r(void 0)})}}var sr={data:function(){return{is_initialized:!1,is_processing:!1,is_show_core_waybills:!1,is_show_filter:!1,core_waybills:[],materials:[],pagination:{},search_params:{operation:{number:null,is_done:!1,is_canceled:!1,staff:{identity:this.$store.state.provider.current_staff.identity}},material:{class_names:null},number:null,consignee_phone:null,consignee_name:null,weight_in_kilo:null,collection:null,is_done:!1},errors:[]}},created:function(){},mounted:function(){this.init()},watch:{is_show_filter:function(e){$(".core_waybills_under_operations .ui.transition").transition("fade down")}},computed:{},methods:{init:function(){var e=nr(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!1,e()});case 2:return e.next=4,this.fetch_materials();case 4:return e.next=6,this.init_search_params();case 6:return e.next=8,this.fetch_core_waybills();case 8:return e.next=10,new Promise(function(e){t.is_initialized=!0,e()});case 10:this.$bus.$off("personal_core_waybills_under_operations"),this.$bus.$on("personal_core_waybills_under_operations",function(e){t.$store.state.provider.core_waybills_module.current_page=e,t.search_params.page=e,t.fetch_core_waybills()});case 12:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_materials:function(){var e=this,t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_materials).parse({},"");return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){return"success"==t.data.status?e.materials=t.data.materials:"failure"==t.data.status&&(e.errors=t.data.errors,e.$noty.error("抓取物料失敗")),t})["catch"](function(e){return console.log("Failed to fetch materials."),Promise.reject(e)})},fetch_core_waybills:function(){var e=this,t=_.cloneDeep(this.search_params);if(_.forEach(["number","flight_number","original_number","tracking_number","sender_name","consignee_name","consignee_address","consignee_phone","note"],function(e){t[e]&&(t[e]="%"+t[e]+"%")}),t.operation.number&&(t.operation.number="%"+t.operation.number+"%"),0==this.is_processing){this.is_show_core_waybills=!1,this.is_processing=!0;var i=new RestUrl(this.$store.state.provider.routes.api_v1_provider_core_waybills_filter).parse({},"?"+object_to_query(t));return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){return"success"==t.data.status?(e.core_waybills=t.data.core_waybills,e.pagination=t.data.pagination):"failure"==t.data.status&&(e.errors=t.data.errors,e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.core_waybills"),reason:": "+t.data.errors}))),t})["catch"](function(t){return e.errors.push(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.core_waybills"),reason:": "+e.$t("ui.general.network_abnormality")+","+t.response.status})),Promise.reject(t)}).then(function(){setTimeout(function(){e.is_processing=!1,e.is_show_core_waybills=!0},300)})}},init_search_params:function(){this.search_params={operation:{number:null,is_done:!1,is_canceled:!1,staff:{identity:this.$store.state.provider.current_staff.identity}},material:{class_names:null},number:null,consignee_phone:null,consignee_name:null,weight_in_kilo:null,collection:null,is_done:!1},$(".core_waybills_under_operations .ui.dropdown").dropdown("clear")}},components:{CoreWaybill:tr,Paginator:Ma}},ar=sr,rr=(n("2f23"),Object(Tt["a"])(ar,Wa,Va,!1,null,"59450ed8",null)),or=rr.exports,cr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"core_waybills_under_scans x_scrollable"},[i("h1",{staticClass:"ui header"},[e._v("\n        "+e._s(e.$t("ui.pages.monitor.title.pending_waybills"))+"\n        "),i("div",{staticClass:"sub header"},[e._v("\n            "+e._s(e.$t("ui.pages.monitor.sub_title.the_unfinished_waybill_this_was_last_my_scanned"))+"\n        ")])]),i("table",{staticClass:"ui compact celled table"},[i("thead",{staticClass:"center aligned"},[i("tr",[i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.operation_number")))]),i("th",[e._v(e._s(e.$t("models.materials")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.number")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.consignee_phone")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.consignee_name")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.weight_in_kilo")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.collection")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.latest_status")))]),i("th",{staticClass:"center aligned"},[i("div",{staticClass:"ui basic icon button",on:{click:function(t){e.is_show_filter=!e.is_show_filter}}},[e.is_show_filter?i("i",{staticClass:"angle double up icon"}):i("i",{staticClass:"angle double down icon"})])])]),i("tr",{staticClass:"ui center aligned transition"},[i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.operation.number,expression:"search_params.operation.number"}],attrs:{type:"text"},domProps:{value:e.search_params.operation.number},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_core_waybills(t):null},input:function(t){t.target.composing||e.$set(e.search_params.operation,"number",t.target.value)}}})])]),i("th",[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.search_params.material.class_names,expression:"search_params.material.class_names"}],ref:"material_selector",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.search_params.material,"class_names",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.materials,function(t){return i("option",{domProps:{value:t.class_name}},[e._v(e._s(t.name))])})],2)]),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.number,expression:"search_params.number"}],attrs:{type:"text"},domProps:{value:e.search_params.number},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_core_waybills(t):null},input:function(t){t.target.composing||e.$set(e.search_params,"number",t.target.value)}}})])]),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.consignee_phone,expression:"search_params.consignee_phone"}],attrs:{type:"text"},domProps:{value:e.search_params.consignee_phone},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_core_waybills(t):null},input:function(t){t.target.composing||e.$set(e.search_params,"consignee_phone",t.target.value)}}})])]),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.consignee_name,expression:"search_params.consignee_name"}],attrs:{type:"text"},domProps:{value:e.search_params.consignee_name},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_core_waybills(t):null},input:function(t){t.target.composing||e.$set(e.search_params,"consignee_name",t.target.value)}}})])]),i("th"),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.weight_in_kilo,expression:"search_params.weight_in_kilo"}],attrs:{type:"number"},domProps:{value:e.search_params.weight_in_kilo},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_core_waybills(t):null},input:function(t){t.target.composing||e.$set(e.search_params,"weight_in_kilo",t.target.value)}}})])]),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.collection,expression:"search_params.collection"}],attrs:{type:"number"},domProps:{value:e.search_params.collection},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_core_waybills(t):null},input:function(t){t.target.composing||e.$set(e.search_params,"collection",t.target.value)}}})])]),i("th",[i("div",{staticClass:"ui icon mini buttons"},[i("div",{staticClass:"ui black basic button",on:{click:function(t){return t.preventDefault(),e.fetch_core_waybills(t)}}},[i("i",{staticClass:"search icon"})]),i("div",{staticClass:"ui black basic button",on:{click:function(t){return t.preventDefault(),e.init_search_params(t)}}},[i("i",{staticClass:"refresh icon"})])])])])]),e.is_show_core_waybills?i("tbody",[e._l(e.core_waybills,function(t){return i("CoreWaybill",{key:t.identity,attrs:{core_waybill:t,is_processing:e.is_processing}})}),e.core_waybills.length<=0?i("tr",{staticClass:"center aligned"},[i("td",{attrs:{colspan:"8"}},[i("h5",[e._v(e._s(e.$t("ui.general.no_data")))])])]):e._e()],2):i("tbody",[e._m(0)])]),e.core_waybills.length>0?i("Paginator",{attrs:{total_pages:e.pagination.total_pages,current_page:e.pagination.current_page,change_page_channel:"personal_core_waybills_under_scans"}}):e._e()],1)},_r=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"loading"},[i("td",{attrs:{colspan:"8"}},[i("div",{staticClass:"ui active centered inline loader"})])])}],lr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"center aligned"},[i("td",[e.core_waybill.operation?i("router-link",{attrs:{to:{name:"edit_provider_operation",params:{identity:e.core_waybill.operation.identity}}}},[e._v("\n            "+e._s(e.core_waybill.operation.number)+"\n        ")]):e._e()],1),i("td",[e._v(" "+e._s(e.core_waybill.material.name||"-")+" ")]),i("td",[e._v(" "+e._s(e.core_waybill.number||"-")+" ")]),i("td",[e._v(" "+e._s(e.core_waybill.consignee_phone||"-")+" ")]),i("td",[e._v(" "+e._s(e.core_waybill.consignee_name||"-")+" ")]),i("td",[e._v(" "+e._s(e.core_waybill.weight_in_kilo||"-")+" ")]),i("td",[e._v(" "+e._s(e.core_waybill.collection||"-")+" ")]),i("td",[e._v(" "+e._s(e.latest_status_name||"-"))]),i("td",{staticClass:"center aligned"},[i("router-link",{staticClass:"ui basic primary button",attrs:{to:{name:"edit_core_waybill",params:{identity:e.core_waybill.identity}}}},[e._v("\n            "+e._s(e.$t("ui.general.detail"))+"\n        ")])],1)])},ur=[],dr={props:{core_waybill:Object},data:function(){return{is_processing:!1}},computed:{latest_status_name:function(){try{return this.core_waybill.latest_status.name}catch(e){return null}}},created:function(){},mounted:function(){},watch:{},methods:{},components:{}},pr=dr,mr=Object(Tt["a"])(pr,lr,ur,!1,null,null,null),fr=mr.exports;function hr(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function vr(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){hr(a,n,s,r,o,"next",e)}function o(e){hr(a,n,s,r,o,"throw",e)}r(void 0)})}}var gr={data:function(){return{is_initialized:!1,is_processing:!1,is_show_core_waybills:!1,is_show_filter:!1,core_waybills:[],materials:[],pagination:{},search_params:{condition:{current_operator_identity:null},operation:{number:null},material:{class_names:null},number:null,consignee_phone:null,consignee_name:null,weight_in_kilo:null,collection:null,is_done:null},errors:[]}},created:function(){this.init()},mounted:function(){},watch:{is_show_filter:function(e){$(".core_waybills_under_scans .ui.transition").transition("fade down")}},computed:{},methods:{init:function(){var e=vr(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!1,t.search_params.condition.current_operator_identity=t.$store.state.provider.current_staff.identity,e()});case 2:return e.next=4,this.fetch_materials();case 4:return e.next=6,this.fetch_core_waybills();case 6:return e.next=8,new Promise(function(e){t.is_initialized=!0,e()});case 8:this.$bus.$off("personal_core_waybills_under_scans"),this.$bus.$on("personal_core_waybills_under_scans",function(e){t.$store.state.provider.core_waybills_module.current_page=e,t.search_params.page=e,t.fetch_core_waybills()});case 10:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_materials:function(){var e=this,t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_materials).parse({},"");return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){return"success"==t.data.status?e.materials=t.data.materials:"failure"==t.data.status&&(e.errors=t.data.errors,e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.materials"),reason:": "+t.data.errors}))),t})["catch"](function(e){return console.log("Failed to fetch materials."),Promise.reject(e)})},fetch_core_waybills:function(){var e=this,t=_.cloneDeep(this.search_params);if(_.forEach(["number","flight_number","original_number","tracking_number","sender_name","consignee_name","consignee_address","consignee_phone","note"],function(e){t[e]&&(t[e]="%"+t[e]+"%")}),t.operation.number&&(t.operation.number="%"+t.operation.number+"%"),0==this.is_processing){this.is_show_core_waybills=!1,this.is_processing=!0;var i=new RestUrl(this.$store.state.provider.routes.api_v1_provider_core_waybills_filter).parse({},"?"+object_to_query(t));return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){return"success"==t.data.status?(e.core_waybills=t.data.core_waybills,e.pagination=t.data.pagination):"failure"==t.data.status&&(e.errors=t.data.errors,e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.core_waybills"),reason:": "+t.data.errors}))),t})["catch"](function(t){return e.errors.push(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.core_waybills"),reason:": "+e.$t("ui.general.network_abnormality")+","+t.response.status})),Promise.reject(t)}).then(function(){setTimeout(function(){e.is_processing=!1,e.is_show_core_waybills=!0},300)})}},init_search_params:function(){this.search_params={condition:{current_operator_identity:this.$store.state.provider.current_staff.identity},operation:{number:null},material:{class_names:null},number:null,consignee_phone:null,consignee_name:null,weight_in_kilo:null,collection:null,is_done:null},$(".core_waybills_under_scans .ui.dropdown").dropdown("clear")}},components:{CoreWaybill:fr,Paginator:Ma}},br=gr,yr=(n("64e7"),Object(Tt["a"])(br,cr,_r,!1,null,"4482c2cd",null)),wr=yr.exports,$r={data:function(){return{}},created:function(){},mounted:function(){},watch:{},computed:{},methods:{},components:{Operations:Ka,CoreWaybillsUnderOperations:or,CoreWaybillsUnderScans:wr}},kr=$r,xr=Object(Tt["a"])(kr,Ks,Ws,!1,null,"1f5777fb",null),Cr=xr.exports,Pr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"stational_monitor"}},[i("Operations"),i("div",{staticClass:"ui divider"}),i("CoreWaybillsUnderOperations")],1)},Sr=[],Nr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"stational_operations x_scrollable"},[i("h1",{staticClass:"ui header"},[e._v("\n        "+e._s(e.$t("ui.pages.monitor.title.pending_operations"))+"\n        "),i("div",{staticClass:"sub header",domProps:{innerHTML:e._s(e.$t("ui.pages.monitor.sub_title.assigned_to_stationg_but_not_completed_operations",{station_name:e.current_station.name}))}})]),i("table",{staticClass:"ui compact celled table"},[i("thead",{staticClass:"center aligned"},[i("tr",[i("th",[e._v(e._s(e.$t("ui.general.date")))]),i("th",[e._v(e._s(e.$t("models.attributes.operations.number")))]),i("th",[e._v(e._s(e.$t("models.attributes.operations.customer")))]),i("th",[e._v(e._s(e.$t("models.attributes.operations.customer_note")))]),i("th",[e._v(e._s(e.$t("models.attributes.operations.your_note")))]),i("th",[e._v(e._s(e.$t("ui.pages.operations.waybill_amount")))]),i("th",[e._v(e._s(e.$t("models.attributes.operations.file")))]),i("th",{staticClass:"center aligned"},[i("div",{staticClass:"ui basic icon button",on:{click:function(t){e.show_filter=!e.show_filter}}},[e.show_filter?i("i",{staticClass:"angle double up icon"}):i("i",{staticClass:"angle double down icon"})])])]),i("tr",{directives:[{name:"show",rawName:"v-show",value:e.show_filter,expression:"show_filter"}],staticClass:"center aligned"},[i("th",[i("table",[i("tbody",[i("tr",[i("td",[e._v("從")]),i("td",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.begin_at,expression:"search_params.begin_at"}],attrs:{type:"datetime-local"},domProps:{value:e.search_params.begin_at},on:{input:function(t){t.target.composing||e.$set(e.search_params,"begin_at",t.target.value)}}})])])]),i("tr",[i("td",[e._v("到")]),i("td",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.end_at,expression:"search_params.end_at"}],attrs:{type:"datetime-local"},domProps:{value:e.search_params.end_at},on:{input:function(t){t.target.composing||e.$set(e.search_params,"end_at",t.target.value)}}})])])])])])]),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.number,expression:"search_params.number"}],attrs:{type:"text"},domProps:{value:e.search_params.number},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_operations(t):null},input:function(t){t.target.composing||e.$set(e.search_params,"number",t.target.value)}}})])]),i("th",[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.search_params.customer_identity,expression:"search_params.customer_identity"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.search_params,"customer_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),i("option",{attrs:{value:"'null'"}},[e._v("無客戶")]),e._l(e.$store.state.provider.customers,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.company_name))])})],2)]),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.customer_note,expression:"search_params.customer_note"}],attrs:{type:"text"},domProps:{value:e.search_params.customer_note},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_operations(t):null},input:function(t){t.target.composing||e.$set(e.search_params,"customer_note",t.target.value)}}})])]),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.provider_note,expression:"search_params.provider_note"}],attrs:{type:"text"},domProps:{value:e.search_params.provider_note},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_operations(t):null},input:function(t){t.target.composing||e.$set(e.search_params,"provider_note",t.target.value)}}})])]),i("th"),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.original_file_name,expression:"search_params.original_file_name"}],attrs:{type:"text"},domProps:{value:e.search_params.original_file_name},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_operations(t):null},input:function(t){t.target.composing||e.$set(e.search_params,"original_file_name",t.target.value)}}})])]),i("th",[i("div",{staticClass:"ui icon mini buttons"},[i("div",{staticClass:"ui black basic button",on:{click:function(t){return t.preventDefault(),e.fetch_operations(t)}}},[i("i",{staticClass:"search icon"})]),i("div",{staticClass:"ui black basic button",on:{click:function(t){return t.preventDefault(),e.init_search_params(t)}}},[i("i",{staticClass:"refresh icon"})])])])])]),e.show_operations?i("tbody",[e._l(e.operations,function(t){return i("Operation",{key:t.identity,attrs:{operation:t,is_processing:e.is_processing}})}),e.operations.length<=0?i("tr",{staticClass:"center aligned"},[i("td",{attrs:{colspan:"8"}},[i("h5",[e._v(e._s(e.$t("ui.general.no_data")))])])]):e._e()],2):i("tbody",[e._m(0)])]),e.operations.length>0?i("Paginator",{attrs:{total_pages:e.pagination.total_pages,current_page:e.pagination.current_page,change_page_channel:"personal_operations"}}):e._e()],1)},qr=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"loading"},[i("td",{attrs:{colspan:"8"}},[i("div",{staticClass:"ui active centered inline loader"})])])}],Ar=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"center aligned"},[i("td",[e._v(" "+e._s(e.human_datetime(e.operation.created_at)))]),i("td",[e._v(" "+e._s(e.operation.number||"-")+" ")]),i("td",[e._v(" "+e._s(e.customer_name||"-")+" ")]),i("td",[e._v(" "+e._s(e.operation.customer_note||"-")+" ")]),i("td",[e._v(" "+e._s(e.operation.provider_note||"-")+" ")]),i("td",{class:{negative:0==e.operation.core_waybills.length}},[e._v("\n        "+e._s(e.done_core_waybills.length)+" / "+e._s(e.operation.core_waybills.length)+"\n    ")]),i("td",[i("a",{attrs:{href:e.operation.original_file_url}},[e._v(e._s(e.operation.original_file_name))])]),i("td",{staticClass:"center aligned"},[i("router-link",{staticClass:"ui basic primary button",attrs:{to:{name:"edit_provider_operation",params:{identity:e.operation.identity}}}},[e._v("\n            "+e._s(e.$t("ui.general.detail"))+"\n        ")])],1)])},Er=[],zr={props:{operation:Object},data:function(){return{is_processing:!1}},computed:{customer_name:function(){return this.operation.customer?this.operation.customer.company_name:null},done_core_waybills:function(){return _.filter(this.operation.core_waybills,function(e){return 1==e.is_done})}},created:function(){},mounted:function(){},watch:{},methods:{cancel:function(){var e=this;if(confirm(this.$t("ui.notifications.warning.are_you_sure_to_cancel_it"))){this.is_processing=!0;var t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_operation_cancel).parse({operation_identity:this.operation.identity});axios.post(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"==t.data.status){var i=e.$store.state.provider.operations_module.operations.indexOf(e.operation);e.$store.state.provider.operations_module.operations.splice(i,1),e.$noty.success("訂單取消成功")}else e.$noty.error("訂單取消失敗")})["catch"](function(t){console.log(t),t.response?e.$noty.error(e.$t("ui.general.network_abnormality")+": "+t.response.status+t.response.data):e.$noty.error(e.$t("ui.general.network_abnormality")+": "+e.$t("ui.general.server_offline"))}),this.is_processing=!1}}},components:{}},jr=zr,Rr=Object(Tt["a"])(jr,Ar,Er,!1,null,null,null),Or=Rr.exports;function Ir(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function Dr(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){Ir(a,n,s,r,o,"next",e)}function o(e){Ir(a,n,s,r,o,"throw",e)}r(void 0)})}}var Lr={data:function(){return{is_initialized:!1,is_processing:!1,show_operations:!1,show_filter:!1,operations:[],pagination:{},search_params:{begin_at:null,end_at:null,number:null,provider_note:null,customer_identity:null,customer_note:null,original_file_name:null,station_identity:null,is_done:!1,is_canceled:!1},errors:[]}},computed:{current_station:function(){return this.$store.state.provider.current_staff.station}},created:function(){this.init()},mounted:function(){},watch:{},methods:{init:function(){var e=Dr(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!1,t.search_params.station_identity=t.current_station.identity,e()});case 2:return e.next=4,this.fetch_operations();case 4:return e.next=6,new Promise(function(e){t.is_initialized=!0,e()});case 6:this.$bus.$off("personal_operations"),this.$bus.$on("personal_operations",function(e){t.$store.state.provider.operations_module.current_page=e,t.search_params.page=e,t.fetch_operations()});case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_operations:function(){var e=this;if(0==this.is_processing){this.show_operations=!1,this.is_processing=!0;var t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_operations).parse({},"?"+object_to_query(this.search_params));return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){return"success"==t.data.status?(e.operations=t.data.operations,e.pagination=t.data.pagination):"failure"==t.data.status&&(e.errors=t.data.errors,e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.operations"),reason:": "+t.data.errors}))),t})["catch"](function(t){return e.errors.push(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.operations"),reason:": "+e.$t("ui.general.network_abnormality")+","+t.response.status})),Promise.reject(t)}).then(function(){setTimeout(function(){e.is_processing=!1,e.show_operations=!0},300)})}},init_search_params:function(){this.search_params={begin_at:null,end_at:null,number:null,provider_note:null,customer_identity:null,customer_note:null,original_file_name:null,station_identity:this.current_station.identity,is_done:!1,is_canceled:!1},$(".stational_operations .ui.dropdown").dropdown("clear")}},components:{Operation:Or,Paginator:Ma}},Tr=Lr,Br=Object(Tt["a"])(Tr,Nr,qr,!1,null,"11dfc17e",null),Mr=Br.exports,Ur=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"station_core_waybills x_scrollable"},[i("h1",{staticClass:"ui header"},[e._v("\n        "+e._s(e.$t("ui.pages.monitor.title.pending_waybill_in_operations"))+"\n        "),i("div",{staticClass:"sub header",domProps:{innerHTML:e._s(e.$t("ui.pages.monitor.sub_title.assigned_to_stationg_but_not_completed_waybill_in_operations",{station_name:e.current_station.name}))}})]),i("table",{staticClass:"ui compact celled table"},[i("thead",{staticClass:"center aligned"},[i("tr",[i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.operation_number")))]),i("th",[e._v(e._s(e.$t("models.materials")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.number")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.consignee_phone")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.consignee_name")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.weight_in_kilo")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.collection")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.latest_status")))]),i("th",{staticClass:"center aligned"},[i("div",{staticClass:"ui basic icon button",on:{click:function(t){e.show_filter=!e.show_filter}}},[e.show_filter?i("i",{staticClass:"angle double up icon"}):i("i",{staticClass:"angle double down icon"})])])]),i("tr",{directives:[{name:"show",rawName:"v-show",value:e.show_filter,expression:"show_filter"}],staticClass:"center aligned"},[i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.operation.number,expression:"search_params.operation.number"}],attrs:{type:"text"},domProps:{value:e.search_params.operation.number},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_core_waybills(t):null},input:function(t){t.target.composing||e.$set(e.search_params.operation,"number",t.target.value)}}})])]),i("th",[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.search_params.material.class_names,expression:"search_params.material.class_names"}],ref:"material_selector",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.search_params.material,"class_names",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.materials,function(t){return i("option",{domProps:{value:t.class_name}},[e._v(e._s(t.name))])})],2)]),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.number,expression:"search_params.number"}],attrs:{type:"text"},domProps:{value:e.search_params.number},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_core_waybills(t):null},input:function(t){t.target.composing||e.$set(e.search_params,"number",t.target.value)}}})])]),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.consignee_phone,expression:"search_params.consignee_phone"}],attrs:{type:"text"},domProps:{value:e.search_params.consignee_phone},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_core_waybills(t):null},input:function(t){t.target.composing||e.$set(e.search_params,"consignee_phone",t.target.value)}}})])]),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.consignee_name,expression:"search_params.consignee_name"}],attrs:{type:"text"},domProps:{value:e.search_params.consignee_name},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_core_waybills(t):null},input:function(t){t.target.composing||e.$set(e.search_params,"consignee_name",t.target.value)}}})])]),i("th"),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.weight_in_kilo,expression:"search_params.weight_in_kilo"}],attrs:{type:"number"},domProps:{value:e.search_params.weight_in_kilo},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_core_waybills(t):null},input:function(t){t.target.composing||e.$set(e.search_params,"weight_in_kilo",t.target.value)}}})])]),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.collection,expression:"search_params.collection"}],attrs:{type:"number"},domProps:{value:e.search_params.collection},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_core_waybills(t):null},input:function(t){t.target.composing||e.$set(e.search_params,"collection",t.target.value)}}})])]),i("th",[i("div",{staticClass:"ui icon mini buttons"},[i("div",{staticClass:"ui black basic button",on:{click:function(t){return t.preventDefault(),e.fetch_core_waybills(t)}}},[i("i",{staticClass:"search icon"})]),i("div",{staticClass:"ui black basic button",on:{click:function(t){return t.preventDefault(),e.init_search_params(t)}}},[i("i",{staticClass:"refresh icon"})])])])])]),e.show_core_waybills?i("tbody",[e._l(e.core_waybills,function(t){return i("CoreWaybill",{key:t.identity,attrs:{core_waybill:t,is_processing:e.is_processing}})}),e.core_waybills.length<=0?i("tr",{staticClass:"center aligned"},[i("td",{attrs:{colspan:"8"}},[i("h5",[e._v(e._s(e.$t("ui.general.no_data")))])])]):e._e()],2):i("tbody",[e._m(0)])]),e.core_waybills.length>0?i("Paginator",{attrs:{total_pages:e.pagination.total_pages,current_page:e.pagination.current_page,change_page_channel:"personal_core_waybills_under_operations"}}):e._e()],1)},Fr=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"loading"},[i("td",{attrs:{colspan:"8"}},[i("div",{staticClass:"ui active centered inline loader"})])])}],Yr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"center aligned"},[i("td",[e.core_waybill.operation?i("router-link",{attrs:{to:{name:"edit_provider_operation",params:{identity:e.core_waybill.operation.identity}}}},[e._v("\n            "+e._s(e.core_waybill.operation.number)+"\n        ")]):e._e()],1),i("td",[e._v(" "+e._s(e.core_waybill.material.name||"-")+" ")]),i("td",[e._v(" "+e._s(e.core_waybill.number||"-")+" ")]),i("td",[e._v(" "+e._s(e.core_waybill.consignee_phone||"-")+" ")]),i("td",[e._v(" "+e._s(e.core_waybill.consignee_name||"-")+" ")]),i("td",[e._v(" "+e._s(e.core_waybill.weight_in_kilo||"-")+" ")]),i("td",[e._v(" "+e._s(e.core_waybill.collection||"-")+" ")]),i("td",[e._v(" "+e._s(e.latest_status_name||"-"))]),i("td",{staticClass:"center aligned"},[i("router-link",{staticClass:"ui basic primary button",attrs:{to:{name:"edit_core_waybill",params:{identity:e.core_waybill.identity}}}},[e._v("\n            "+e._s(e.$t("ui.general.detail"))+"\n        ")])],1)])},Gr=[],Hr={props:{core_waybill:Object},data:function(){return{is_processing:!1}},computed:{latest_status_name:function(){try{return this.core_waybill.latest_status.name}catch(e){return null}}},created:function(){},mounted:function(){},watch:{},methods:{},components:{}},Kr=Hr,Wr=Object(Tt["a"])(Kr,Yr,Gr,!1,null,null,null),Vr=Wr.exports;function Xr(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function Qr(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){Xr(a,n,s,r,o,"next",e)}function o(e){Xr(a,n,s,r,o,"throw",e)}r(void 0)})}}var Zr={data:function(){return{is_initialized:!1,is_processing:!1,show_core_waybills:!1,show_filter:!1,core_waybills:[],materials:[],pagination:{},search_params:{operation:{number:null,is_done:!1,is_canceled:!1,station_identity:null},material:{class_names:null},number:null,consignee_phone:null,consignee_name:null,weight_in_kilo:null,collection:null,is_done:!1},errors:[]}},computed:{current_station:function(){return this.$store.state.provider.current_staff.station}},created:function(){this.init()},mounted:function(){},watch:{},methods:{init:function(){var e=Qr(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!1,t.search_params.operation_station_identity=t.current_station.identity,e()});case 2:return e.next=4,this.fetch_materials();case 4:return e.next=6,this.fetch_core_waybills();case 6:return e.next=8,new Promise(function(e){t.is_initialized=!0,e()});case 8:this.$bus.$off("personal_core_waybills_under_operations"),this.$bus.$on("personal_core_waybills_under_operations",function(e){t.$store.state.provider.core_waybills_module.current_page=e,t.search_params.page=e,t.fetch_core_waybills()});case 10:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_materials:function(){var e=this,t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_materials).parse({},"");return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){return"success"==t.data.status?e.materials=t.data.materials:"failure"==t.data.status&&(e.errors=t.data.errors,e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.materials"),reason:": "+t.data.errors}))),t})["catch"](function(e){return console.log("Failed to fetch materials."),Promise.reject(e)})},fetch_core_waybills:function(){var e=this,t=_.cloneDeep(this.search_params);if(_.forEach(["number","flight_number","original_number","tracking_number","sender_name","consignee_name","consignee_address","consignee_phone","note"],function(e){t[e]&&(t[e]="%"+t[e]+"%")}),t.operation.number&&(t.operation.number="%"+t.operation.number+"%"),0==this.is_processing){this.show_core_waybills=!1,this.is_processing=!0;var i=new RestUrl(this.$store.state.provider.routes.api_v1_provider_core_waybills_filter).parse({},"?"+object_to_query(t));return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){return"success"==t.data.status?(e.core_waybills=t.data.core_waybills,e.pagination=t.data.pagination):"failure"==t.data.status&&(e.errors=t.data.errors,e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.core_waybills"),reason:": "+t.data.errors}))),t})["catch"](function(t){return e.errors.push(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.core_waybills"),reason:": "+e.$t("ui.general.network_abnormality")+","+t.response.status})),Promise.reject(t)}).then(function(){setTimeout(function(){e.is_processing=!1,e.show_core_waybills=!0},300)})}},init_search_params:function(){this.search_params={operation:{number:null,is_done:!1,is_canceled:!1,station_identity:this.current_station.identity},material:{class_names:null},number:null,consignee_phone:null,consignee_name:null,weight_in_kilo:null,collection:null,is_done:!1},$(".station_core_waybills .ui.dropdown").dropdown("clear")}},components:{CoreWaybill:Vr,Paginator:Ma}},Jr=Zr,eo=Object(Tt["a"])(Jr,Ur,Fr,!1,null,"4bedcfe4",null),to=eo.exports,io={data:function(){return{}},created:function(){},mounted:function(){},watch:{},computed:{},methods:{},components:{Operations:Mr,CoreWaybillsUnderOperations:to}},no=io,so=Object(Tt["a"])(no,Pr,Sr,!1,null,"eb1ebff2",null),ao=so.exports,ro=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"personal_monitor"}},[i("Operations"),i("div",{staticClass:"ui divider"}),i("CoreWaybills")],1)},oo=[],co=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"operations x_scrollable"},[i("h1",{staticClass:"ui header"},[e._v("\n        "+e._s(e.$t("ui.pages.monitor.title.all_pending_operations"))+"\n        "),i("div",{staticClass:"sub header"},[e._v("\n            "+e._s(e.$t("ui.pages.monitor.sub_title.not_completed_operations"))+"\n        ")])]),i("table",{staticClass:"ui compact celled table"},[i("thead",{staticClass:"center aligned"},[i("tr",[i("th",[e._v(e._s(e.$t("ui.general.date")))]),i("th",[e._v(e._s(e.$t("models.attributes.operations.number")))]),i("th",[e._v(e._s(e.$t("models.attributes.operations.customer")))]),i("th",[e._v(e._s(e.$t("models.attributes.operations.customer_note")))]),i("th",[e._v(e._s(e.$t("models.attributes.operations.your_note")))]),i("th",[e._v(e._s(e.$t("ui.pages.operations.waybill_amount")))]),i("th",[e._v(e._s(e.$t("models.attributes.operations.file")))]),i("th",{staticClass:"center aligned"},[i("div",{staticClass:"ui basic icon button",on:{click:function(t){e.show_filter=!e.show_filter}}},[e.show_filter?i("i",{staticClass:"angle double up icon"}):i("i",{staticClass:"angle double down icon"})])])]),i("tr",{directives:[{name:"show",rawName:"v-show",value:e.show_filter,expression:"show_filter"}],staticClass:"center aligned"},[i("th",[i("el-date-picker",{staticClass:"next_input_row",attrs:{"unlink-panels":"",type:"daterange",size:"small",align:"center","start-placeholder":e.$t("ui.el.datepicker.startDate"),"end-placeholder":e.$t("ui.el.datepicker.endDate"),"picker-options":e.$store.state.element_ui_datepicker_daterange_options},model:{value:e.search_params.dates,callback:function(t){e.$set(e.search_params,"dates",t)},expression:"search_params.dates"}})],1),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.number,expression:"search_params.number"}],attrs:{type:"text"},domProps:{value:e.search_params.number},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_operations(t):null},input:function(t){t.target.composing||e.$set(e.search_params,"number",t.target.value)}}})])]),i("th",[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.search_params.customer_identity,expression:"search_params.customer_identity"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.search_params,"customer_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),i("option",{attrs:{value:"'null'"}},[e._v("無客戶")]),e._l(e.$store.state.provider.customers,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.company_name))])})],2)]),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.customer_note,expression:"search_params.customer_note"}],attrs:{type:"text"},domProps:{value:e.search_params.customer_note},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_operations(t):null},input:function(t){t.target.composing||e.$set(e.search_params,"customer_note",t.target.value)}}})])]),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.provider_note,expression:"search_params.provider_note"}],attrs:{type:"text"},domProps:{value:e.search_params.provider_note},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_operations(t):null},input:function(t){t.target.composing||e.$set(e.search_params,"provider_note",t.target.value)}}})])]),i("th"),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.original_file_name,expression:"search_params.original_file_name"}],attrs:{type:"text"},domProps:{value:e.search_params.original_file_name},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_operations(t):null},input:function(t){t.target.composing||e.$set(e.search_params,"original_file_name",t.target.value)}}})])]),i("th",[i("div",{staticClass:"ui icon mini buttons"},[i("div",{staticClass:"ui black basic button",on:{click:function(t){return t.preventDefault(),e.fetch_operations(t)}}},[i("i",{staticClass:"search icon"})]),i("div",{staticClass:"ui black basic button",on:{click:function(t){return t.preventDefault(),e.init_search_params(t)}}},[i("i",{staticClass:"refresh icon"})])])])])]),e.show_operations?i("tbody",[e._l(e.operations,function(t){return i("Operation",{key:t.identity,attrs:{operation:t,is_processing:e.is_processing}})}),e.operations.length<=0?i("tr",{staticClass:"center aligned"},[i("td",{attrs:{colspan:"8"}},[i("h5",[e._v(e._s(e.$t("ui.general.no_data")))])])]):e._e()],2):i("tbody",[e._m(0)])]),e.operations.length>0?i("Paginator",{attrs:{total_pages:e.pagination.total_pages,current_page:e.pagination.current_page,change_page_channel:"global_operations"}}):e._e()],1)},_o=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"loading"},[i("td",{attrs:{colspan:"8"}},[i("div",{staticClass:"ui active centered inline loader"})])])}],lo=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"center aligned"},[i("td",[e._v(" "+e._s(e.human_datetime(e.operation.created_at)))]),i("td",[e._v(" "+e._s(e.operation.number||"-")+" ")]),i("td",[e._v(" "+e._s(e.customer_name||"-")+" ")]),i("td",[e._v(" "+e._s(e.operation.customer_note||"-")+" ")]),i("td",[e._v(" "+e._s(e.operation.provider_note||"-")+" ")]),i("td",{class:{negative:0==e.operation.core_waybills.length}},[e._v("\n        "+e._s(e.done_core_waybills.length)+" / "+e._s(e.operation.core_waybills.length)+"\n    ")]),i("td",[i("a",{attrs:{href:e.operation.original_file_url}},[e._v(e._s(e.operation.original_file_name))])]),i("td",{staticClass:"center aligned"},[i("router-link",{staticClass:"ui basic primary button",attrs:{to:{name:"edit_provider_operation",params:{identity:e.operation.identity}}}},[e._v("\n            "+e._s(e.$t("ui.general.detail"))+"\n        ")])],1)])},uo=[],po={props:{operation:Object},data:function(){return{is_processing:!1}},computed:{customer_name:function(){return this.operation.customer?this.operation.customer.company_name:null},done_core_waybills:function(){return _.filter(this.operation.core_waybills,function(e){return 1==e.is_done})}},created:function(){},mounted:function(){},watch:{},methods:{cancel:function(){var e=this;if(confirm(this.$t("ui.notifications.warning.are_you_sure_to_cancel_it"))){this.is_processing=!0;var t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_operation_cancel).parse({operation_identity:this.operation.identity});axios.post(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"==t.data.status){var i=e.$store.state.provider.operations_module.operations.indexOf(e.operation);e.$store.state.provider.operations_module.operations.splice(i,1),e.$noty.success("訂單取消成功")}else e.$noty.error("訂單取消失敗")})["catch"](function(t){console.log(t),t.response?e.$noty.error(e.$t("ui.general.network_abnormality")+": "+t.response.status+t.response.data):e.$noty.error(e.$t("ui.general.network_abnormality")+": "+e.$t("ui.general.server_offline"))}),this.is_processing=!1}}},components:{}},mo=po,fo=Object(Tt["a"])(mo,lo,uo,!1,null,null,null),ho=fo.exports;function vo(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function go(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){vo(a,n,s,r,o,"next",e)}function o(e){vo(a,n,s,r,o,"throw",e)}r(void 0)})}}var bo={data:function(){return{is_initialized:!1,is_processing:!1,show_operations:!1,show_filter:!1,operations:[],pagination:{},search_params:{begin_at:null,end_at:null,number:null,provider_note:null,customer_identity:null,customer_note:null,original_file_name:null,is_done:!1,is_canceled:!1},errors:[]}},created:function(){this.init()},mounted:function(){this.$store.state.provider.operations_module.show_filter&&$(".ui.transition.search_bar").transition("fade down")},watch:{},computed:{},methods:{init:function(){var e=go(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!1,e()});case 2:return e.next=4,this.fetch_operations();case 4:return e.next=6,new Promise(function(e){t.is_initialized=!0,e()});case 6:this.$bus.$off("global_operations"),this.$bus.$on("global_operations",function(e){t.$store.state.provider.operations_module.current_page=e,t.search_params.page=e,t.fetch_operations()});case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_operations:function(){var e=this;if(0==this.is_processing){this.show_operations=!1,this.is_processing=!0;var t=_.clone(this.search_params);t.dates&&(t["begin_at"]=this.$moment(t.dates[0]).startOf("day").format("YYYY-MM-DDTHH:mm:ss+08:00"),t["end_at"]=this.$moment(t.dates[1]).endOf("day").format("YYYY-MM-DDTHH:mm:ss+08:00"));var i=new RestUrl(this.$store.state.provider.routes.api_v1_provider_operations).parse({},"?"+object_to_query(t));return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){return"success"==t.data.status?(e.operations=t.data.operations,e.pagination=t.data.pagination):"failure"==t.data.status&&(e.errors=t.data.errors,e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.operations"),reason:": "+t.data.errors}))),t})["catch"](function(t){return e.errors.push(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.operations"),reason:": "+e.$t("ui.general.network_abnormality")+", "+t.response.status})),Promise.reject(t)}).then(function(){setTimeout(function(){e.is_processing=!1,e.show_operations=!0},300)})}},init_search_params:function(){this.search_params={dates:[],begin_at:null,end_at:null,number:null,provider_note:null,customer_identity:null,customer_note:null,original_file_name:null,is_done:!1,is_canceled:!1},$("#operations .ui.dropdown").dropdown("clear")}},components:{Operation:ho,Paginator:Ma}},yo=bo,wo=(n("7f22"),Object(Tt["a"])(yo,co,_o,!1,null,"3c82b1aa",null)),$o=wo.exports,ko=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"core_waybills_under_operations x_scrollable"},[i("h1",{staticClass:"ui header"},[e._v("\n        "+e._s(e.$t("ui.pages.monitor.title.all_pending_waybills"))+"\n        "),i("div",{staticClass:"sub header"},[e._v("\n            "+e._s(e.$t("ui.pages.monitor.sub_title.not_completed_waybills"))+"\n        ")])]),i("table",{staticClass:"ui compact celled table"},[i("thead",{staticClass:"center aligned"},[i("tr",[i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.operation_number")))]),i("th",[e._v(e._s(e.$t("models.materials")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.number")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.consignee_phone")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.consignee_name")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.weight_in_kilo")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.collection")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.latest_status")))]),i("th",{staticClass:"center aligned"},[i("div",{staticClass:"ui basic icon button",on:{click:function(t){e.show_filter=!e.show_filter}}},[e.show_filter?i("i",{staticClass:"angle double up icon"}):i("i",{staticClass:"angle double down icon"})])])]),i("tr",{directives:[{name:"show",rawName:"v-show",value:e.show_filter,expression:"show_filter"}],staticClass:"center aligned"},[i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.operation.number,expression:"search_params.operation.number"}],attrs:{type:"text"},domProps:{value:e.search_params.operation.number},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_core_waybills(t):null},input:function(t){t.target.composing||e.$set(e.search_params.operation,"number",t.target.value)}}})])]),i("th",[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.search_params.material.class_names,expression:"search_params.material.class_names"}],ref:"material_selector",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.search_params.material,"class_names",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.materials,function(t){return i("option",{domProps:{value:t.class_name}},[e._v(e._s(t.name))])})],2)]),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.number,expression:"search_params.number"}],attrs:{type:"text"},domProps:{value:e.search_params.number},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_core_waybills(t):null},input:function(t){t.target.composing||e.$set(e.search_params,"number",t.target.value)}}})])]),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.consignee_phone,expression:"search_params.consignee_phone"}],attrs:{type:"text"},domProps:{value:e.search_params.consignee_phone},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_core_waybills(t):null},input:function(t){t.target.composing||e.$set(e.search_params,"consignee_phone",t.target.value)}}})])]),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.consignee_name,expression:"search_params.consignee_name"}],attrs:{type:"text"},domProps:{value:e.search_params.consignee_name},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_core_waybills(t):null},input:function(t){t.target.composing||e.$set(e.search_params,"consignee_name",t.target.value)}}})])]),i("th"),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.weight_in_kilo,expression:"search_params.weight_in_kilo"}],attrs:{type:"number"},domProps:{value:e.search_params.weight_in_kilo},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_core_waybills(t):null},input:function(t){t.target.composing||e.$set(e.search_params,"weight_in_kilo",t.target.value)}}})])]),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.collection,expression:"search_params.collection"}],attrs:{type:"number"},domProps:{value:e.search_params.collection},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_core_waybills(t):null},input:function(t){t.target.composing||e.$set(e.search_params,"collection",t.target.value)}}})])]),i("th",[i("div",{staticClass:"ui icon mini buttons"},[i("div",{staticClass:"ui black basic button",on:{click:function(t){return t.preventDefault(),e.fetch_core_waybills(t)}}},[i("i",{staticClass:"search icon"})]),i("div",{staticClass:"ui black basic button",on:{click:function(t){return t.preventDefault(),e.init_search_params(t)}}},[i("i",{staticClass:"refresh icon"})])])])])]),e.show_core_waybills?i("tbody",[e._l(e.core_waybills,function(t){return i("CoreWaybill",{key:t.identity,attrs:{core_waybill:t,is_processing:e.is_processing}})}),e.core_waybills.length<=0?i("tr",{staticClass:"center aligned"},[i("td",{attrs:{colspan:"8"}},[i("h5",[e._v(e._s(e.$t("ui.general.no_data")))])])]):e._e()],2):i("tbody",[e._m(0)])]),e.core_waybills.length>0?i("Paginator",{attrs:{total_pages:e.pagination.total_pages,current_page:e.pagination.current_page,change_page_channel:"global_core_waybills"}}):e._e()],1)},xo=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"loading"},[i("td",{attrs:{colspan:"8"}},[i("div",{staticClass:"ui active centered inline loader"})])])}],Co=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"center aligned"},[i("td",[e.core_waybill.operation?i("router-link",{attrs:{to:{name:"edit_provider_operation",params:{identity:e.core_waybill.operation.identity}}}},[e._v("\n            "+e._s(e.core_waybill.operation.number)+"\n        ")]):e._e()],1),i("td",[e._v(" "+e._s(e.core_waybill.material.name||"-")+" ")]),i("td",[e._v(" "+e._s(e.core_waybill.number||"-")+" ")]),i("td",[e._v(" "+e._s(e.core_waybill.consignee_phone||"-")+" ")]),i("td",[e._v(" "+e._s(e.core_waybill.consignee_name||"-")+" ")]),i("td",[e._v(" "+e._s(e.core_waybill.weight_in_kilo||"-")+" ")]),i("td",[e._v(" "+e._s(e.core_waybill.collection||"-")+" ")]),i("td",[e._v(" "+e._s(e.latest_status_name||"-"))]),i("td",{staticClass:"center aligned"},[i("router-link",{staticClass:"ui basic primary button",attrs:{to:{name:"edit_core_waybill",params:{identity:e.core_waybill.identity}}}},[e._v("\n            "+e._s(e.$t("ui.general.detail"))+"\n        ")])],1)])},Po=[],So={props:{core_waybill:Object},data:function(){return{is_processing:!1}},computed:{latest_status_name:function(){try{return this.core_waybill.latest_status.name}catch(e){return null}}},created:function(){},mounted:function(){},watch:{},methods:{},components:{}},No=So,qo=Object(Tt["a"])(No,Co,Po,!1,null,null,null),Ao=qo.exports;function Eo(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function zo(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){Eo(a,n,s,r,o,"next",e)}function o(e){Eo(a,n,s,r,o,"throw",e)}r(void 0)})}}var jo={data:function(){return{is_initialized:!1,is_processing:!1,show_core_waybills:!1,show_filter:!1,core_waybills:[],materials:[],pagination:{},search_params:{operation:{number:null,is_done:!1,is_canceled:!1},material:{class_names:null},number:null,consignee_phone:null,consignee_name:null,weight_in_kilo:null,collection:null,is_done:!1},errors:[]}},created:function(){this.init()},mounted:function(){this.$store.state.provider.core_waybills_module.show_filter&&$(".ui.transition.search_bar").transition("fade down")},watch:{},computed:{},methods:{init:function(){var e=zo(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!1,e()});case 2:return e.next=4,this.fetch_materials();case 4:return e.next=6,this.fetch_core_waybills();case 6:return e.next=8,new Promise(function(e){t.is_initialized=!0,e()});case 8:this.$bus.$off("global_core_waybills"),this.$bus.$on("global_core_waybills",function(e){t.$store.state.provider.core_waybills_module.current_page=e,t.search_params.page=e,t.fetch_core_waybills()});case 10:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_materials:function(){var e=this,t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_materials).parse({},"");return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){return"success"==t.data.status?e.materials=t.data.materials:"failure"==t.data.status&&(e.errors=t.data.errors,e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.materials"),reason:": "+t.data.errors}))),t})["catch"](function(e){return console.log("Failed to fetch materials."),Promise.reject(e)})},fetch_core_waybills:function(){var e=this,t=_.cloneDeep(this.search_params);if(_.forEach(["number","flight_number","original_number","tracking_number","sender_name","consignee_name","consignee_address","consignee_phone","note"],function(e){t[e]&&(t[e]="%"+t[e]+"%")}),t.operation.number&&(t.operation.number="%"+t.operation.number+"%"),0==this.is_processing){this.show_core_waybills=!1,this.is_processing=!0;var i=new RestUrl(this.$store.state.provider.routes.api_v1_provider_core_waybills_filter).parse({},"?"+object_to_query(t));return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){return"success"==t.data.status?(e.core_waybills=t.data.core_waybills,e.pagination=t.data.pagination):"failure"==t.data.status&&(e.errors=t.data.errors,e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.core_waybills"),reason:": "+t.data.errors}))),t})["catch"](function(t){return e.errors.push(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.core_waybills"),reason:": "+e.$t("ui.general.network_abnormality")+","+t.response.status})),Promise.reject(t)}).then(function(){setTimeout(function(){e.is_processing=!1,e.show_core_waybills=!0},300)})}},init_search_params:function(){this.search_params={operation:{number:null,is_done:!1,is_canceled:!1},material:{class_names:null},number:null,consignee_phone:null,consignee_name:null,weight_in_kilo:null,collection:null,is_done:!1},$(".core_waybills_under_operations .ui.dropdown").dropdown("clear")}},components:{CoreWaybill:Ao,Paginator:Ma}},Ro=jo,Oo=(n("9d16"),Object(Tt["a"])(Ro,ko,xo,!1,null,"e7ad9eb6",null)),Io=Oo.exports,Do={data:function(){return{}},created:function(){},mounted:function(){},watch:{},computed:{},methods:{},components:{Operations:$o,CoreWaybills:Io}},Lo=Do,To=Object(Tt["a"])(Lo,ro,oo,!1,null,"6a973678",null),Bo=To.exports,Mo={name:"ProviderIndex",props:{},data:function(){return{is_loading:!1,current_component:""}},computed:{current_staff:function(){return this.$store.state.provider.current_staff}},mounted:function(){var e=this;e.set_breadcrumbs(),e.current_component="manager"==e.current_staff.theme_name?"GlobalMonitor":"PersonalMonitor"},watch:{$route:function(e,t){var i=this;i.set_breadcrumbs()}},methods:{set_breadcrumbs:function(){var e=this;e.$store.state.breadcrumbs=[]}},components:{PersonalMonitor:Cr,StationalMonitor:ao,GlobalMonitor:Bo}},Uo=Mo,Fo=Object(Tt["a"])(Uo,Gs,Hs,!1,null,"6c4416ce",null),Yo=Fo.exports,Go=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"demo"}},[i("h3",[e._v("\n        Feature Or Components Demo\n    ")]),i("div",{staticClass:"ui divider"}),e.datetimerange_val?i("div",[e._v("\n        "+e._s(e.$moment(e.datetimerange_val[0]).format("YYYY-MM-DDTHH:mm:ss+08:00"))+"\n        "),i("br"),e._v("\n        "+e._s(e.$moment(e.datetimerange_val[1]).format("YYYY-MM-DDTHH:mm:ss+08:00"))+"\n    ")]):e._e(),i("div",{staticClass:"ui buttons"},[i("div",{staticClass:"ui button",on:{click:function(t){e.$bus.$emit("add_image_print_job",e.print_job_1)}}},[e._v("\n            Image Printer (A4, 6 in one page) * 1 page\n        ")]),i("div",{staticClass:"ui button",on:{click:function(t){e.$bus.$emit("add_image_print_job",e.print_job_2)}}},[e._v("\n            Image Printer (100x100, 1 in one page) * 6 page\n        ")])]),i("div",{staticClass:"ui buttons"},[i("div",{staticClass:"ui button",on:{click:function(t){e.$bus.$emit("document_print",{documents:[{name:"1",html:"<h1>Test</h1>"},{name:"2",html:"<h1>Test</h1>"}],paper_type:"A4",numbers_of_one_page:1})}}},[e._v("\n            Document Printer (A4, 6 in one page) * 1 page\n        ")]),i("div",{staticClass:"ui button",on:{click:function(t){e.$bus.$emit("document_print",{documents:[{name:"1",html:"<h1>Test</h1>"},{name:"2",html:"<h1>Test</h1>"}],paper_type:"100x100",numbers_of_one_page:1})}}},[e._v("\n            Document Printer (100x100, 1 in one page) * 6 page\n        ")])]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui segment"},[i("h3",{staticClass:"ui header"},[e._v("WebAudio")]),i("WebAudio",{attrs:{channel:"provider_index_web_audio",allow_overlay_play:!1,show_demo:!0}}),i("div",{staticClass:"ui basic button",on:{click:function(t){e.$bus.$emit("provider_index_web_audio","play_sound","ok")}}},[e._v("\n            PlaySound\n        ")]),i("div",{staticClass:"ui basic button",on:{click:function(t){e.$bus.$emit("provider_index_web_audio","play_file","AlertSound.mp3")}}},[e._v("\n            PlayFile\n        ")])],1),i("div",{staticClass:"ui segment"},[i("h3",{staticClass:"ui header"},[e._v("Receipts")]),i("div",{staticClass:"ui basic button",on:{click:function(t){e.$bus.$emit("Receipts","A5")}}},[e._v("\n            呼叫列印 A5 in A5 by event bus\n        ")]),i("div",{staticClass:"ui basic button",on:{click:function(t){e.$bus.$emit("Receipts","A4")}}},[e._v("\n            呼叫列印 A5 in A4 by event bus\n        ")]),i("Receipts",{attrs:{channel_name:"Receipts",assigned_core_waybills:e.demo_core_waybills,title:"測試範例簽收單",sub_title:"http://by-express.com",customer_service_hotline:"0800-000-123",logistician:{name:"9999999 配送人員"},logo_url:"/images/by_express_logo.jpg",show_contents:!1}})],1),i("div",{staticClass:"ui segment"},[i("h3",{staticClass:"ui header"},[e._v("FileUploader")]),i("button",{staticClass:"ui basic button",on:{click:function(t){e.$bus.$emit("FileUploader1","FileUploader1","open_file_browser")}}},[e._v("呼叫file browser")]),i("FileUploader",{attrs:{channel:"FileUploader1"}}),i("FileUploader",{attrs:{channel:"FileUploader2",theme:"compact"}})],1),i("div",{staticClass:"ui segment"},[i("h3",{staticClass:"ui header"},[e._v("CoreWaybillsLabelSvg")]),i("CoreWaybillsLabelSvg",{attrs:{label_name:"1231",authentication_token:"12312"}})],1),i("div",{staticClass:"ui segment"},[i("h3",{staticClass:"ui header"},[e._v("OrderSummary")]),i("OrderSummary",{attrs:{channel_name:"OrderSummary",assigned_core_waybills:e.demo_core_waybills,title:"測試範例簽收單",sub_title:"http://by-express.com",customer_service_hotline:"0800-000-123",logistician:{name:"9999999 配送人員"},logo_url:"/images/by_express_logo.jpg",show_buttons:!0,show_contents:!0}})],1),i("div",{staticClass:"ui segment"},[i("h3",{staticClass:"ui header"},[e._v("CheckSummary")]),i("CheckSummary",{attrs:{scope:"provider",default_search_params:{latest_condition_name:"current_handover",latest_condition_polarity:!0,pagination:!1},channel_name:"CheckSummary",title:"貨物交予 點交單",sub_title:"http://by-express.com",customer_service_hotline:"123456",logo_url:"/images/by_express_logo.jpg",show_buttons:!0,show_contents:!0}})],1),i("div",{staticClass:"ui segment"},[i("h3",{staticClass:"ui header"},[e._v("Supervisor")]),i("Supervisor")],1)])},Ho=[],Ko=n("1346"),Wo=n("a808"),Vo=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"order_summary"},[e.show_buttons&&e.is_printing?i("div",{staticClass:"ui basic buttons"},[i("div",{staticClass:"ui loading button"},[i("i",{staticClass:"print icon"}),e._v("\n            "+e._s(e.$t("ui.toolbox.operation_summary.print_operation_list"))+"\n        ")])]):e._e(),e.show_buttons&&!e.is_printing?i("div",{staticClass:"ui basic buttons"},[i("div",{staticClass:"ui button",on:{click:e.print}},[i("i",{staticClass:"print icon"}),e._v("\n            "+e._s(e.$t("ui.toolbox.operation_summary.print_operation_list"))+"\n        ")])]):e._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:e.show_contents,expression:"show_contents"}]},[i("div",{ref:"printable",staticStyle:{padding:"25px"}},[i("h2",{staticClass:"ui center aligned header"},[i("img",{attrs:{src:e.logo_url}}),i("div",{staticClass:"content"},[e._v("\n                    "+e._s(e.title)+"("+e._s(e.customer_service_hotline)+")\n                    "),i("div",{staticClass:"sub header"},[e._v(e._s(e.sub_title))])])]),i("table",{staticClass:"ui celled center aligned table"},[i("thead",[i("tr",[i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.original_number")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.number")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.consignee")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.consignee_phone")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.consignee_address")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.payment_type")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.weight_in_kilo")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.collection")))])])]),i("tbody",e._l(e.core_waybills,function(t){return i("tr",[i("td",[e._v(e._s(t.original_number))]),i("td",[e._v(e._s(t.number))]),i("td",[e._v(e._s(t.consignee_name))]),i("td",[e._v(e._s(t.consignee_phone))]),i("td",[e._v(e._s(t.consignee_address))]),i("td",[e._v(e._s(t.payment_type))]),i("td",[e._v(e._s(t.weight_in_kilo))]),i("td",[e._v(e._s(t.collection))])])}))]),i("table",{staticClass:"ui celled center aligned table"},[i("tbody",[i("tr",[i("td",{staticClass:"collapsing"},[e._v("\n                            "+e._s(e.$t("ui.toolbox.operation_summary.table.sender_signature"))+"\n                        ")]),i("td",{staticClass:"seven width column"}),i("td",{staticClass:"collapsing"},[e._v("\n                            "+e._s(e.$t("ui.toolbox.operation_summary.table.driver_signature"))+"\n                        ")]),i("td",{staticClass:"seven width column"})])])])])])])},Xo=[];function Qo(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function Zo(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){Qo(a,n,s,r,o,"next",e)}function o(e){Qo(a,n,s,r,o,"throw",e)}r(void 0)})}}var Jo={name:"ToolOrderSummaryMain",props:{show_buttons:{type:Boolean,default:!1},show_contents:{type:Boolean,default:!1},assigned_core_waybills:{type:Array,default:function(){return[]}},logo_url:{type:String,default:"/images/tw568_logo.png"},force_location:String,title:String,sub_title:String,customer_service_hotline:String,logistician:Object,blank_value_text:{type:String,default:"-"},channel_name:{type:String,default:"order_summary"},default_search_params:{type:Object,default:function(){return{}}},scope:String},data:function(){return{is_printing:!1,core_waybills:[]}},mounted:function(){var e=this;this.$bus.$off(this.channel_name),this.$bus.$on(this.channel_name,function(){e.print()})},computed:{},methods:{print:function(){var e=Zo(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.is_printing){e.next=14;break}return e.next=3,new Promise(function(e){t.is_printing=!0,t.core_waybills=t.assigned_core_waybills,e()});case 3:if(0!=this.core_waybills.length){e.next=6;break}return e.next=6,this.fetch_core_waybills();case 6:return e.next=8,new Promise(function(e){$("div#print").html(""),e()});case 8:return e.next=10,this.$nextTick(function(){window.Noty.closeAll()});case 10:return e.next=12,new Promise(function(e){$(t.$refs.printable).clone().appendTo("div#print"),e()});case 12:return e.next=14,new Promise(function(e){window.print(),t.is_printing=!1,e()});case 14:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_core_waybills:function(){var e=this;switch(this.scope){case"provider":var t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_core_waybills_filter).parse({},"?"+object_to_query(this.default_search_params)),i=localStorage.getItem("authentication_token");break;case"customer":t=new RestUrl(this.$store.state.customer.routes.api_v1_customer_core_waybills_filter).parse({},"?"+object_to_query(this.default_search_params)),i=localStorage.getItem("customer_authentication_token");break}return axios.get(t,{headers:{Authorization:i}}).then(function(t){return"success"==t.data.status?e.core_waybills=t.data.core_waybills:"failure"==t.data.status&&e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.core_waybills"),reason:": "+t.data.errors})),t})["catch"](function(t){return e.errors.push(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.core_waybills"),reason:": "+e.$t("ui.general.network_abnormality")+","+t.response.status})),Promise.reject(t)}).then(function(){})}},components:{}},ec=Jo,tc=(n("b003"),Object(Tt["a"])(ec,Vo,Xo,!1,null,"7ca65c00",null)),ic=tc.exports,nc=n("21b8"),sc=n("dcbb"),ac=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"core_waybills_label_svg"}},[i("div",{staticClass:"ui form"},[e.is_show_input?i("div",{staticClass:"field"},[i("label",[e._v("\n                "+e._s(e.$t("ui.toolbox.core_waybills_label_svg.helps.numbers_input"))+"\n            ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.current_numbers,expression:"current_numbers"}],attrs:{type:"text"},domProps:{value:e.current_numbers},on:{input:function(t){t.target.composing||(e.current_numbers=t.target.value)}}})]):e._e(),e.is_new_label?i("NewLabel",{attrs:{numbers:e.numbers,printing_type:e.printing_type,paper_size:e.paper_size,template:e.template,authentication_token:e.authentication_token,staff_identity:e.staff_identity,is_show_input:e.is_show_input,scope:e.scope,node_carrier_name:e.node_carrier_name,is_post_method:e.is_post_method,channel:e.channel}},[i("div",{staticClass:"field",attrs:{slot:"button"},slot:"button"},[i("label",[e._v(" ")]),i("div",{staticClass:"ui basic black button",on:{click:function(t){t.preventDefault(),e.is_new_label=!1}}},[e._v("\n                    "+e._s(e.$t("ui.toolbox.core_waybills_label_svg.btns.old_print"))+"\n                ")])])]):i("Label",{attrs:{numbers:e.numbers,label_type:e.printing_type,authentication_token:e.authentication_token,staff_identity:e.staff_identity,is_show_input:e.is_show_input,scope:e.scope,node_carrier_name:e.node_carrier_name,is_post_method:e.is_post_method,channel:e.channel}},[i("div",{staticClass:"field",attrs:{slot:"button"},slot:"button"},[i("label",[e._v(" ")]),i("div",{staticClass:"ui basic black button",on:{click:function(t){t.preventDefault(),e.is_new_label=!0}}},[e._v("\n                    "+e._s(e.$t("ui.toolbox.core_waybills_label_svg.btns.new_print"))+"\n                ")])])])],1)])},rc=[],oc=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fields",attrs:{id:"label"}},[i("div",{staticClass:"field"},[i("label",[e._v("\n            "+e._s(e.$t("ui.toolbox.core_waybills_label_svg.labels.paper_type"))+"\n        ")]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection dropdown"},[i("div",{staticClass:"text"},[e._v("\n                "+e._s(e.current_page_type.name)+"\n            ")]),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.page_types,function(t){return i("div",{staticClass:"item",class:{"selected active":e.current_page_type.name==t.name},on:{click:function(i){e.current_page_type=t}}},[e._v("\n                    "+e._s(t.name)+"\n                ")])}))])]),e.errors?e._e():i("div",{staticClass:"field"},[i("label",[e._v(" ")]),i("div",{staticClass:"ui button",class:{loading:e.is_printing},attrs:{disabled:!e.is_printing},on:{click:function(t){t.preventDefault(),e.add_image_print_job()}}},[e._v("\n            "+e._s(e.$t("ui.toolbox.core_waybills_label_svg.btns.print"))+"\n        ")])]),e._t("button")],2)},cc=[];function _c(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function lc(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){_c(a,n,s,r,o,"next",e)}function o(e){_c(a,n,s,r,o,"throw",e)}r(void 0)})}}var uc={name:"ToolCoreWaybillsLabelSvgLabel",props:{numbers:{type:String,default:""},label_type:{type:String,default:""},authentication_token:{type:String,default:""},staff_identity:{type:String,default:""},is_show_input:{type:Boolean,default:!0},scope:{type:String,default:"provider"},node_carrier_name:{type:String,default:""},is_post_method:{type:Boolean,default:!1},channel:String},data:function(){return{is_initialized:!1,is_processing:!0,is_printing:!1,post_method:{url:"",numbers:""},errors:"",src_array:[],current_numbers:"",current_page_type:{name:"100x100mm",value:"100x100"},page_types:[{name:"100x100mm",value:"100x100"},{name:"100x200mm",value:"100x200"},{name:"100x190mm",value:"100x190"},{name:"100x180mm",value:"100x180"},{name:"A4 3x2",value:"A4"},{name:"60x20mm",value:"60x20"}],label_width:100,label_height:100,paper_type:null,label_padding:2,material_label_company_regexes:[{regex:/(by_express|byexpress|博宇速運|博宇)/i,name:"by_express_logo_no_text"},{regex:/(tw_568|tw568|台灣物流寶)/i,name:"tw568_logo"},{regex:/(t_cat|tcat|黑貓宅急便|黑貓)/i,name:"t_cat_logo"},{regex:/(hct|新竹物流|新竹物)/i,name:"hct_logo"}]}},computed:{},created:function(){},mounted:function(){var e=this;this.$bus.$on("print_done_signal",function(){e.is_printing=!1}),this.init()},watch:{numbers:function(e){this.init()},current_numbers:function(e){this.init()},current_page_type:{deep:!0,handler:function(){var e=lc(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.is_processing=!0,e.next=3,this.handle_label();case 3:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}},methods:{init:function(){var e=lc(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.src_array=[],this.is_processing=!0,e.next=4,this.check_props();case 4:return e.next=6,this.handle_label();case 6:return e.next=8,new Promise(function(e){t.is_initialized=!0,e()});case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),add_image_print_job:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.is_printing||(this.$bus.$emit("add_image_print_job",{images:this.src_array,paper_type:this.current_page_type.value,numbers_of_one_page:"A4"!=this.current_page_type.value||e?1:6}),this.is_printing=!0)},check_props:function(){this.errors="";try{if(!this.authentication_token)throw this.$t("ui.toolbox.core_waybills_label_svg.errors.no_authentication_token");var e=this.numbers?this.numbers:this.current_numbers;e||(this.errors=this.$t("ui.toolbox.core_waybills_label_svg.errors.no_number"))}catch(t){this.errors=t,this.$noty.error(t)}return Promise.resolve()},handle_label:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.numbers?this.numbers:this.current_numbers,n=i.split(",");switch(_.remove(n,_.isUndefined),n=_.filter(n),this.src_array=[],this.label_width=t?null:100,this.label_height=t?null:100,this.label_padding=2,this.paper_type=null,this.current_page_type.value){case"A4":this.paper_type="A4",t||(this.label_width=105,this.label_height=99,this.label_padding=4.5);break;case"100x200":this.label_width=100,this.label_height=200;break;case"100x190":this.label_width=100,this.label_height=190;break;case"100x180":this.label_width=100,this.label_height=180;break;case"60x20":this.label_width=60,this.label_height=20;break;default:}var s="&padding="+this.label_padding+"&authorization="+this.authentication_token;return s+=this.label_height?"&label_height="+this.label_height:"",s+=this.label_width?"&label_width="+this.label_width:"",this.paper_type&&t&&(s+="&paper_type="+this.paper_type),this.staff_identity&&(s+="&staff_identity="+this.staff_identity),this.src_array=[],_.forEach(n,function(i,n){e.src_array.push({name:i,src:new RestUrl(e.handle_url(t)).parse({},".svg?number="+i+s)}),"60x20"==e.current_page_type.value&&e.src_array.push({name:i+"_is_hide_logo=true",src:new RestUrl(e.handle_url(t)).parse({},".svg?number="+i+s)})}),console.log(this.src_array),Promise.resolve()},handle_url:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(this.scope){case"provider":return this.$store.state.provider.routes.api_v1_provider_core_waybills_label;case"customer":return this.$store.state.customer.routes.api_v1_customer_core_waybills_label;default:return this.$store.state.provider.routes.api_v1_provider_core_waybills_label}}},components:{}},dc=uc,pc=(n("6dd6"),Object(Tt["a"])(dc,oc,cc,!1,null,"64981651",null)),mc=pc.exports,fc=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fields",attrs:{id:"new_label"}},[i("div",{staticClass:"fields"},[i("PrintingType",{attrs:{printing_type:e.current_printing_type,channel:e.channels.printing_type,scope:e.scope}}),i("PaperSize",{attrs:{paper_size:e.current_paper_size,channel:e.channels.paper_size}}),i("Template",{attrs:{template:e.current_template,channel:e.channels.template}}),e.errors?e._e():i("div",{staticClass:"field"},[i("label",[e._v(" ")]),i("div",{staticClass:"ui button",class:{loading:e.is_printing},attrs:{disabled:!e.is_printing},on:{click:function(t){t.preventDefault(),e.add_image_print_job()}}},[e._v("\n                "+e._s(e.$t("ui.toolbox.core_waybills_label_svg.btns.print"))+"\n            ")])]),e._t("button")],2)])},hc=[],vc=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"field",attrs:{id:"printing_type"}},[i("label",[e._v("\n        "+e._s(e.$t("ui.toolbox.core_waybills_label_svg.labels.printing_type"))+"\n    ")]),e.is_initialized?i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection dropdown"},[e._l(e.items,function(t){return e.current_printing_type==t.value?i("div",{staticClass:"text"},[e._v("\n            "+e._s(e.$t('ui.toolbox.core_waybills_label_svg.printing_types["'+t.value+'"]'))+"\n        ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.items,function(t){return i("div",{staticClass:"item",class:{"selected active":e.current_printing_type==t.value},on:{click:function(i){e.current_printing_type=t.value}}},[e._v("\n                "+e._s(e.$t('ui.toolbox.core_waybills_label_svg.printing_types["'+t.value+'"]'))+"\n            ")])}))],2):e._e()])},gc=[];function bc(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function yc(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){bc(a,n,s,r,o,"next",e)}function o(e){bc(a,n,s,r,o,"throw",e)}r(void 0)})}}var wc={name:"ToolCoreWaybillsLabelSvgNewLabelPrintingType",props:{channel:String,printing_type:{type:String,default:"Label::Default"},scope:{type:String,default:"provider"}},data:function(){return{is_initialized:!1,is_processing:!0,current_printing_type:"",items:[{name:"Pelican",value:"Label::Pelican"},{name:"HCT",value:"Label::HCT"},{name:"TCat (190x95mm)",value:"Label::TCat"},{name:"FamilyMart",value:"Label::FamilyMart"},{name:"Presco",value:"Label::Presco"},{name:"Invoice",value:"Label::Invoice"},{name:"FamilyMartInvoice",value:"Label::FamilyMartInvoice"},{name:"PrescoInvoice",value:"Label::PrescoInvoice"}]}},computed:{},created:function(){},mounted:function(){this.init()},watch:{printing_type:{immediate:!0,handler:function(e){this.current_printing_type=e}},current_printing_type:function(e){this.channel&&this.$bus.$emit(this.channel,e)}},methods:{init:function(){var e=yc(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.is_initialized=!1,e.next=3,this.items_by_node();case 3:return e.next=5,new Promise(function(e){t.is_initialized=!0,e()});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),get_node_identity:function(){switch(this.scope){case"provider":return this.$store.state.provider.node.identity;case"customer":return this.$store.state.customer.customer.provider_node.identity;default:return null}},items_by_node:function(){switch(this.get_node_identity()){case"6896bd65c1-28036-39768292":this.items.unshift({name:"ByExpress",value:"Label::ByExpress"});break;case"f7df08769c-28036-39768292":this.items.unshift({name:"ChangQing",value:"Label::ChangQing"});break;case"ba0eb0c54f-28036-39768292":this.items.unshift({name:"FlyCargo(180x100mm)",value:"Label::FlyCargo"});break;case"53e998d97c9b78e7-28036-39768":this.items.unshift({name:"Condor180(180x100mm)",value:"Label::Condor180"});break;case"7cb0625c16-28036-39768292":case"447ddbdeb615598a-28036-39768292":case"448eef85e40dedd2-28036-39768292":case"81f22cb59c497dc2-28036-39768292":case"cd02556017598a77-28036-39768292":case"f869abbf714f6dc0-28036-39768292":this.items=[{name:"ByExpress",value:"Label::ByExpress"},{name:"ChangQing",value:"Label::ChangQing"},{name:"FlyCargo(180x100mm)",value:"Label::FlyCargo"},{name:"Condor180(180x100mm)",value:"Label::Condor180"}].concat(this.items);break}return this.items.unshift({name:"Default",value:"Label::Default"}),Promise.resolve()}},components:{}},$c=wc,kc=Object(Tt["a"])($c,vc,gc,!1,null,null,null),xc=kc.exports,Cc=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"field",attrs:{id:"paper_size"}},[i("label",[e._v("\n        "+e._s(e.$t("ui.toolbox.core_waybills_label_svg.labels.paper_size"))+"\n    ")]),i("select",{directives:[{name:"model",rawName:"v-model",value:e.current_paper_size,expression:"current_paper_size"},{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.current_paper_size=t.target.multiple?i:i[0]}}},e._l(e.itmes,function(t){return i("option",{domProps:{value:t.value}},[e._v("\n            "+e._s(t.name)+"\n        ")])}))])},Pc=[],Sc={name:"ToolCoreWaybillsLabelSvgNewLabelPaperSize",props:{channel:String,paper_size:{type:String,default:"A4"}},data:function(){return{is_initialized:!1,is_processing:!0,current_paper_size:"",itmes:[{name:"A3",value:"A3"},{name:"A4",value:"A4"},{name:"60x20mm",value:"60x20"},{name:"100x100mm",value:"100x100"},{name:"180x100mm",value:"180x100"},{name:"190x95mm",value:"190x95"},{name:"200x100mm",value:"200x100"}]}},computed:{},created:function(){},mounted:function(){},watch:{paper_size:{immediate:!0,handler:function(e){this.current_paper_size=e}},current_paper_size:function(e){this.channel&&this.$bus.$emit(this.channel,e)}},methods:{},components:{}},Nc=Sc,qc=Object(Tt["a"])(Nc,Cc,Pc,!1,null,"7cfd8377",null),Ac=qc.exports,Ec=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"field",attrs:{id:"template"}},[i("label",[e._v("\n        "+e._s(e.$t("ui.toolbox.core_waybills_label_svg.labels.template"))+"\n    ")]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui right basic button dropdown item",attrs:{tabindex:"0"}},[i("span",[e._v("\n             "+e._s(e.current_template)+"\n        ")]),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu left transition hidden",attrs:{tabindex:"-1"}},[i("div",{staticClass:"item",staticStyle:{display:"flex","align-items":"center","justify-content":"center",width:"200px",height:"200px"}},[i("div",{on:{mouseout:function(t){e.mouseout()}}},e._l([1,2,3,4,5,6],function(t){return i("div",{staticClass:"hover_row"},e._l([1,2,3,4,5,6],function(n){return i("TemplateBox",{attrs:{current_item_index:e.current_item_index,current_row_index:e.current_row_index,item_index:n,row_index:t}})}))}))])])])])},zc=[],jc=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:{hover_cell:!0,higlight_cell:e.current_row_index>=e.row_index&&e.current_item_index>=e.item_index},on:{click:function(t){e.$parent.set_template(e.row_index,e.item_index)},mouseover:function(t){e.$parent.set_current(e.row_index,e.item_index)}}})},Rc=[],Oc={components:{},props:{current_row_index:{type:Number,default:0},current_item_index:{type:Number,default:0},row_index:{type:Number,default:0},item_index:{type:Number,default:0}},data:function(){return{is_initialized:!1,is_processing:!0}},computed:{},created:function(){},mounted:function(){},watch:{},methods:{}},Ic=Oc,Dc=(n("f938"),Object(Tt["a"])(Ic,jc,Rc,!1,null,"7ce00e1b",null)),Lc=Dc.exports,Tc={name:"ToolCoreWaybillsLabelSvgNewLabelPaperSize",components:{TemplateBox:Lc},props:{channel:String,template:{type:String,default:"A4"}},data:function(){return{is_initialized:!1,is_processing:!0,is_can_work:!0,current_template:"",current_item_index:1,current_row_index:1,finish_item_index:1,finish_row_index:1}},computed:{},created:function(){},mounted:function(){},watch:{template:{immediate:!0,handler:function(e){this.current_template=e}},current_template:function(e){this.channel&&this.$bus.$emit(this.channel,e)}},methods:{mouseout:function(){this.current_item_index=_.clone(this.finish_item_index),this.current_row_index=_.clone(this.finish_row_index)},set_current:function(e,t){this.is_can_work&&(this.current_row_index=e,this.current_item_index=t)},set_template:function(e,t){var i=this;this.is_can_work=!1,this.finish_item_index=_.clone(t),this.finish_row_index=_.clone(e),this.current_template=String(e)+"x"+String(t),setTimeout(function(){i.is_can_work=!0},1e3)}}},Bc=Tc,Mc=(n("e1c3"),Object(Tt["a"])(Bc,Ec,zc,!1,null,"38f41ab8",null)),Uc=Mc.exports;function Fc(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function Yc(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){Fc(a,n,s,r,o,"next",e)}function o(e){Fc(a,n,s,r,o,"throw",e)}r(void 0)})}}var Gc={name:"ToolCoreWaybillsLabelSvgNewLabel",components:{PrintingType:xc,PaperSize:Ac,Template:Uc},props:{numbers:{type:String,default:""},printing_type:{type:String,default:""},paper_size:{type:String,default:"A4"},template:{type:String,default:"1x1"},label_type:{type:String,default:""},authentication_token:{type:String,default:""},staff_identity:{type:String,default:""},is_show_input:{type:Boolean,default:!0},scope:{type:String,default:"provider"},node_carrier_name:{type:String,default:""},is_post_method:{type:Boolean,default:!1},channel:String},data:function(){return{is_initialized:!1,is_processing:!0,is_printing:!1,post_method:{url:"",numbers:""},errors:"",src_array:[],current_numbers:"",current_printing_type:"",current_paper_size:"",current_template:"",channels:{printing_type:"printing_type_channel",paper_size:"paper_size_channel",template:"template_channel"}}},computed:{},created:function(){},mounted:function(){var e=this;this.init(),this.$bus.$on("print_done_signal",function(){e.is_printing=!1})},watch:{},methods:{init:function(){var e=Yc(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.src_array=[],this.is_processing=!0,e.next=4,this.check_props();case 4:return e.next=6,this.set_channels("printing_type");case 6:return e.next=8,this.set_channels("paper_size");case 8:return e.next=10,this.set_channels("template");case 10:return e.next=12,this.clone_paper();case 12:return e.next=14,this.init_paper_size();case 14:return e.next=16,new Promise(function(e){t.is_initialized=!0,e()});case 16:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),set_channels:function(e){var t=this,i=this.channels[e];return this.$bus.$off(i),this.$bus.$on(i,function(i){t["current_"+e]=i}),Promise.resolve()},clone_paper:function(){return this.current_printing_type=_.clone(this.printing_type),this.current_paper_size=_.clone(this.paper_size),this.current_template=_.clone(this.template),Promise.resolve()},init_paper_size:function(){try{if(""==this.current_printing_type)throw"not printing_type";var t=100,i=100;this.current_printing_type.match(/PrescoInvoice|FamilyMartInvoice/)&&(t=200,i=100),this.current_printing_type.match(/TCat/)&&(t=190,i=95),this.current_printing_type.match(/FlyCargo|TCat180|Condor180/)&&(t=180,i=100),this.current_printing_type.match(/Pelican/)&&(t=99,i=210),this.current_paper_size=String(t)+"x"+String(i)}catch(e){console.log(e)}return Promise.resolve()},add_image_print_job:function(){var e=Yc(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.is_printing){e.next=6;break}return this.is_printing=!0,e.next=4,this.handle_label();case 4:return e.next=6,new Promise(function(e){t.$bus.$emit("add_image_print_job",{images:t.src_array,paper_type:t.current_paper_size,numbers_of_one_page:1}),e()});case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),check_props:function(){this.errors="";try{if(!this.authentication_token)throw this.$t("ui.toolbox.core_waybills_label_svg.errors.no_authentication_token");var e=this.numbers?this.numbers:this.current_numbers;e||(this.errors=this.$t("ui.toolbox.core_waybills_label_svg.errors.no_number"))}catch(t){this.errors=t,this.$noty.error(t)}return Promise.resolve()},handle_label:function(){var e=this;this.src_array=[];var t=this.numbers?this.numbers:this.current_numbers,i=t.split(",");_.remove(i,_.isUndefined),i=_.filter(i);var n=1,s=1,a=this.current_template.match(/(\d+)x(\d+)/);a[1]&&a[2]&&(n=a[1],s=a[2]);var r=".svg?paper_size="+this.current_paper_size+"&template="+this.current_template+"&authorization="+this.authentication_token,o=[],c=[],l=this.handle_url()+r,u=n*s;return _.forEach(i,function(t,n){c.push(t);var s={core_waybill_number:t,printing_type:e.current_printing_type};e.staff_identity&&(s.staff_identity=e.staff_identity),o.push(s),(n+1)%u!=0&&i.length!=n+1||(e.src_array.push({name:c.toString(),src:l+"&contents="+JSON.stringify(o)}),o=[],c=[])}),Promise.resolve()},handle_url:function(){switch(this.scope){case"provider":return this.$store.state.provider.routes.api_v1_provider_papers_print;case"customer":return this.$store.state.customer.routes.api_v1_customer_papers_print;default:return this.$store.state.provider.routes.api_v1_provider_papers_print}}}},Hc=Gc,Kc=(n("3bea"),Object(Tt["a"])(Hc,fc,hc,!1,null,"2e13c208",null)),Wc=Kc.exports,Vc={name:"ToolCoreWaybillsLabelSvgMain",components:{Label:mc,NewLabel:Wc},props:{numbers:{type:String,default:""},authentication_token:{type:String,default:""},staff_identity:{type:String,default:""},printing_type:{type:String,default:""},paper_size:{type:String,default:"A4"},template:{type:String,default:"1x1"},is_show_input:{type:Boolean,default:!0},scope:{type:String,default:"provider"},node_carrier_name:{type:String,default:""},is_post_method:{type:Boolean,default:!1},channel:String},data:function(){return{is_initialized:!1,is_processing:!1,is_new_label:!0,errors:""}},computed:{},created:function(){},mounted:function(){},watch:{},methods:{}},Xc=Vc,Qc=(n("ad31"),Object(Tt["a"])(Xc,ac,rc,!1,null,"76a51a35",null)),Zc=Qc.exports,Jc=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"supervisor"},[e.is_loading?i("div",[e._m(0)]):i("div",[i("div",{staticClass:"ui basic buttons"},[i("div",{staticClass:"ui basic button",class:{active:"today"==e.time_interval},on:{click:function(t){e.time_interval="today"}}},[e._v("今天")]),i("div",{staticClass:"ui basic button",class:{active:"1d"==e.time_interval},on:{click:function(t){e.time_interval="1d"}}},[e._v("1d")]),i("div",{staticClass:"ui basic button",class:{active:"7d"==e.time_interval},on:{click:function(t){e.time_interval="7d"}}},[e._v("7d")]),i("div",{staticClass:"ui basic button",class:{active:"1m"==e.time_interval},on:{click:function(t){e.time_interval="1m"}}},[e._v("1m")]),i("div",{staticClass:"ui basic button",class:{active:"3m"==e.time_interval},on:{click:function(t){e.time_interval="3m"}}},[e._v("3m")]),i("div",{staticClass:"ui basic button",class:{active:"6m"==e.time_interval},on:{click:function(t){e.time_interval="6m"}}},[e._v("6m")]),i("div",{staticClass:"ui basic button",class:{active:"1y"==e.time_interval},on:{click:function(t){e.time_interval="1y"}}},[e._v("1y")]),i("div",{staticClass:"ui basic button",class:{active:"all"==e.time_interval},on:{click:function(t){e.time_interval="all"}}},[e._v("全部")])]),i("div",{staticClass:"ui segment"},[i("button",{staticClass:"ui basic button",on:{click:e.init}},[e._v("更新")]),e.scan_action_scoped_core_waybills_count?i("div",{staticClass:"ui segment"},[i("h1",{staticClass:"ui header"},[e._v("掃描動作")]),i("table",{staticClass:"ui definition celled table"},[i("thead",[i("tr",[i("th"),e._l(e.scan_action_scoped_core_waybills_count,function(t,n){return i("th",[e._v(e._s(n))])})],2)]),i("tbody",e._l(e.materials,function(t){return i("tr",[i("td",[e._v(e._s(t.name))]),e._l(e.scan_action_scoped_core_waybills_count,function(n,s){return i("td",[e._v(e._s(n[t.name]||0))])})],2)}))])]):e._e(),e.status_prototypes_scoped_core_waybills_count?i("div",{staticClass:"ui segment"},[i("h1",{staticClass:"ui header"},[e._v("貨況")]),i("table",{staticClass:"ui definition celled table"},[i("thead",[i("tr",[i("th"),e._l(e.status_prototypes_scoped_core_waybills_count,function(t,n){return i("th",[e._v(e._s(n))])})],2)]),i("tbody",e._l(e.materials,function(t){return i("tr",[i("td",[e._v(e._s(t.name))]),e._l(e.status_prototypes_scoped_core_waybills_count,function(n,s){return i("td",[e._v(e._s(n[t.name]||0))])})],2)}))])]):e._e(),e.current_condition_scoped_core_waybills_count?i("div",{staticClass:"ui segment"},[i("h1",{staticClass:"ui header"},[e._v("狀態")]),i("table",{staticClass:"ui definition celled table"},[i("thead",[i("tr",[i("th"),e._l(e.current_condition_scoped_core_waybills_count,function(t,n){return e.conditions[n]?i("th",[e._v(e._s(e.conditions[n]))]):e._e()})],2)]),i("tbody",e._l(e.materials,function(t){return i("tr",[i("td",[e._v(e._s(t.name))]),e._l(e.current_condition_scoped_core_waybills_count,function(n,s){return e.conditions[s]?i("td",[e._v(e._s(n[t.name]||0))]):e._e()})],2)}))])]):e._e()])])])},e_=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui segment"},[i("div",{staticClass:"ui active inverted dimmer"},[i("div",{staticClass:"ui text loader"},[e._v("Loading")])]),i("p")])}];function t_(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function i_(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){t_(a,n,s,r,o,"next",e)}function o(e){t_(a,n,s,r,o,"throw",e)}r(void 0)})}}var n_={name:"Supervisor",props:{channel_name:{type:String,default:function(){return"supervisor"}}},data:function(){return{is_initialized:!1,is_loading:!1,time_interval:"today",materials:[],scan_action_scoped_core_waybills_count:null,status_prototypes_scoped_core_waybills_count:null,current_condition_scoped_core_waybills_count:null}},computed:{search_params:function(){return{time_interval:this.time_interval}},conditions:function(){return{trueSHIPPING:"配送中",trueEXCEPTIONING:"異常件",trueTRANSFERING:"轉運中",trueCHECKING:"在站內",trueINTERMODALING:"聯運中",trueLOCKING:"鎖定中",falseIS_DONE:"未完成",trueIS_DONE:"已完成","上傳":"上傳"}}},mounted:function(){},methods:{init:function(){var e=i_(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!1,e()});case 2:return e.next=4,new Promise(function(e){t.is_loading=!0,e()});case 4:return e.next=6,this.fetch_materials();case 6:return e.next=8,this.fetch_supervisor();case 8:return e.next=10,new Promise(function(e){setTimeout(function(){t.is_loading=!1},300),e()});case 10:return e.next=12,new Promise(function(e){t.is_initialized=!0,e()});case 12:this.$bus.$off(this.channel_name),this.$bus.$on(this.channel_name,function(e,i){switch(e){case"init":t.init();break;case"change_time_interval":t.time_interval=i;break}});case 14:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_materials:function(){var e=this,t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_materials).parse({},"");return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?e.materials=t.data.materials:console.log(t.data)})["catch"](function(t){console.log(t.response),e.$noty.error("取得 materials 失敗")}).then(function(){})},fetch_supervisor:function(){var e=this,t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_supervisor).parse({},"?"+object_to_query(this.search_params));return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.scan_action_scoped_core_waybills_count=t.data.scan_action_scoped_core_waybills_count,e.status_prototypes_scoped_core_waybills_count=t.data.status_prototypes_scoped_core_waybills_count,e.current_condition_scoped_core_waybills_count=t.data.current_condition_scoped_core_waybills_count):console.log(t.data)})["catch"](function(t){console.log(t.response),e.$noty.error("取得supervisor失敗")}).then(function(){})}},components:{}},s_=n_,a_=(n("b790"),Object(Tt["a"])(s_,Jc,e_,!1,null,"025be928",null)),r_=a_.exports,o_={name:"ProviderDemo",props:{},data:function(){return{is_loading:!1,datetimerange_val:null,print_job_1:{note:"Demo Print Job 1",images:[{name:"1",src:"https://img.discogs.com/xrWPcqdGvmhXzsn9jCOcI3W--1A=/fit-in/396x374/filters:strip_icc():format(jpeg):mode_rgb():quality(90)/discogs-images/R-6262272-1415048734-4399.jpeg.jpg"},{name:"2",src:"https://img.discogs.com/xrWPcqdGvmhXzsn9jCOcI3W--1A=/fit-in/396x374/filters:strip_icc():format(jpeg):mode_rgb():quality(90)/discogs-images/R-6262272-1415048734-4399.jpeg.jpg"},{name:"3",src:"https://img.discogs.com/xrWPcqdGvmhXzsn9jCOcI3W--1A=/fit-in/396x374/filters:strip_icc():format(jpeg):mode_rgb():quality(90)/discogs-images/R-6262272-1415048734-4399.jpeg.jpg"},{name:"4",src:"https://img.discogs.com/xrWPcqdGvmhXzsn9jCOcI3W--1A=/fit-in/396x374/filters:strip_icc():format(jpeg):mode_rgb():quality(90)/discogs-images/R-6262272-1415048734-4399.jpeg.jpg"},{name:"5",src:"https://img.discogs.com/xrWPcqdGvmhXzsn9jCOcI3W--1A=/fit-in/396x374/filters:strip_icc():format(jpeg):mode_rgb():quality(90)/discogs-images/R-6262272-1415048734-4399.jpeg.jpg"},{name:"6",src:"https://img.discogs.com/xrWPcqdGvmhXzsn9jCOcI3W--1A=/fit-in/396x374/filters:strip_icc():format(jpeg):mode_rgb():quality(90)/discogs-images/R-6262272-1415048734-4399.jpeg.jpg"}],paper_type:"A4",numbers_of_one_page:6},print_job_2:{note:"Demo Print Job 2",images:[{name:"1",src:"https://sc01.alicdn.com/kf/HTB12X0mGFXXXXXQXVXXq6xXFXXXL/2215311/HTB12X0mGFXXXXXQXVXXq6xXFXXXL.jpg"},{name:"2",src:"https://sc01.alicdn.com/kf/HTB12X0mGFXXXXXQXVXXq6xXFXXXL/2215311/HTB12X0mGFXXXXXQXVXXq6xXFXXXL.jpg"},{name:"3",src:"https://sc01.alicdn.com/kf/HTB12X0mGFXXXXXQXVXXq6xXFXXXL/2215311/HTB12X0mGFXXXXXQXVXXq6xXFXXXL.jpg"},{name:"4",src:"https://sc01.alicdn.com/kf/HTB12X0mGFXXXXXQXVXXq6xXFXXXL/2215311/HTB12X0mGFXXXXXQXVXXq6xXFXXXL.jpg"},{name:"5",src:"https://sc01.alicdn.com/kf/HTB12X0mGFXXXXXQXVXXq6xXFXXXL/2215311/HTB12X0mGFXXXXXQXVXXq6xXFXXXL.jpg"},{name:"6",src:"https://sc01.alicdn.com/kf/HTB12X0mGFXXXXXQXVXXq6xXFXXXL/2215311/HTB12X0mGFXXXXXQXVXXq6xXFXXXL.jpg"}],paper_type:"100x100",numbers_of_one_page:1},demo_core_waybills:[{number:"886600130504",original_number:"這個欄位接受至多15字湊字湊字湊",consignee_name:"這個欄位接受至多15字湊字湊字湊",consignee_phone:"這個欄位接受至多15字湊字湊字湊",consignee_address:"這個欄位接受至多30字湊字湊字湊字湊字湊字湊字湊字湊字湊字湊字",original_waybill_number:"這個欄位接受至多15字湊字湊字湊",sender_name:"這個欄位接受至多15字湊字湊字湊",sender_phone:"這個欄位接受至多15字湊字湊字湊",sender_address:"這個欄位接受至多30字湊字湊字湊字湊字湊字湊字湊字湊字湊字湊字",pieces:99999,measurement:99999,collection:99999,goods_name:"品名：女用灰色上衣L",shipping_date:"2017-12-13",shipping_period:"00~24",shipping_note:"這個欄位接受至多10字",charge:99999,payment_type:"cash_by_sender"},{number:"886600130505",original_number:"775600130505",consignee_name:"一般使用範例（資料量普通）",consignee_phone:"0912345678",consignee_address:"桃園市桃園區樹林八街24-2號3樓",original_waybill_number:"7756655665",sender_name:"陳宜靜",sender_phone:"0987654321",sender_address:"桃園市桃園區桃園火車站",pieces:50,measurement:20,collection:1500,goods_name:"女用手錶",shipping_date:"2017-12-13",shipping_period:"08~13",shipping_note:"週六配送 上樓",charge:500,payment_type:"cash_by_consignee"},{number:"886600130506",consignee_name:"空單",consignee_phone:null,consignee_address:null,original_waybill_number:null,sender_name:null,sender_phone:null,sender_address:null,pieces:null,measurement:null,collection:null,goods_name:null,shipping_date:null,shipping_period:null,shipping_note:null,charge:null,payment_type:null}]}},mounted:function(){var e=this;e.$bus.$on("FileUploader1",function(e,t,i){switch(t){case"uploaded_file":console.log("your uploaded file is: "+i);break;case"uploading":console.log("uploading"),console.log(i);break;case"upload complete":console.log("complete"),console.log(i);break;case"upload failed":console.log("failed");break}}),e.$bus.$on("FileUploader2",function(e,t,i){switch(t){case"uploaded_file":console.log("your uploaded file is: "+i);break;case"uploading":console.log("uploading"),console.log(i);break;case"upload complete":console.log("complete"),console.log(i);break;case"upload failed":console.log("failed");break}})},watch:{},methods:{},components:{WebAudio:Ko["a"],Receipts:Wo["a"],FileUploader:sc["a"],CoreWaybillsLabelSvg:Zc,OrderSummary:ic,CheckSummary:nc["a"],Supervisor:r_},computed:{}},c_=o_,__=Object(Tt["a"])(c_,Go,Ho,!1,null,"5067656d",null),l_=__.exports,u_=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"routes"}},e._l(e.provider_routes.children,function(t){return i("div",[e._v("\n        {"),i("br"),e._v('   \n            "name":\n\n            '),"/"!=t.path?i("span",[e._v('"'+e._s(t.path)+'"')]):e._e(),t.name?i("span",[e._v('"'+e._s(t.name)+'"')]):e._e(),e._v(",\n            "),t.children?i("span",[i("br"),e._v('\n                   \n                "action_names": [\n                    '),e._l(t.children,function(t){return i("div",[t.name?i("p",{staticStyle:{"padding-left":"18px","margin-bottom":"0"}},[e._v('\n                                   \n                            "'+e._s(t.name)+'",\n                        ')]):e._e(),e._l(t.children,function(n){return t.children?i("p",{staticStyle:{"padding-left":"18px","margin-bottom":"0"}},[e._v('\n                                   \n                            "'+e._s(n.name)+'",\n                        ')]):i("p")})],2)}),e._v("\n\n                   \n                ],")],2):e._e(),i("br"),e._v("\n        },\n    ")])}))},d_=[],p_={data:function(){return{}},computed:{provider_routes:function(){return _.find(this.$router.options.routes,function(e){return"/provider"==e.path})}},mounted:function(){}},m_=p_,f_=Object(Tt["a"])(m_,u_,d_,!1,null,null,null),h_=f_.exports,v_=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.is_initialized?i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1):e._e(),i("div",{staticClass:"ui inverted dimmer transition",class:{active:!e.is_initialized}},[i("div",{staticClass:"ui text loader"},[e._v("\n            "+e._s(e.$t("ui.general.initializing"))+"\n        ")])])],1)},g_=[];function b_(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function y_(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){b_(a,n,s,r,o,"next",e)}function o(e){b_(a,n,s,r,o,"throw",e)}r(void 0)})}}var w_={name:"StationsLayout",data:function(){return{is_initialized:!1,errors:[]}},computed:{},watch:{},created:function(){this.init()},mounted:function(){},methods:{init:function(){var e=y_(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!1,e()});case 2:return e.next=4,new Promise(function(e){t.is_initialized=!0,e()});case 4:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()},components:{}},$_=w_,k_=Object(Tt["a"])($_,v_,g_,!1,null,null,null),x_=k_.exports,C_=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("Index")],1)},P_=[],S_=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"stations"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),i("Filters"),i("div",{staticClass:"ui segment"},[e.style.width<767?i("div",{staticStyle:{"margin-bottom":"1em"}},[e.is_loading?i("div",[i("div",{staticClass:"ui active centered inline loader"})]):e._l(e.stations,function(t){return i("DataCard",{key:t.identity,attrs:{object:t,title:t.name,title_link:{name:"edit_station",params:{station_identity:t.identity}},sub_title:t.code,is_show_column:!0,keys:["phone","note"],i_18n_key:"stations"}},[i("div",{attrs:{slot:"buttons"},slot:"buttons"},[i("a",{staticClass:"ui basic red button",on:{click:function(i){i.preventDefault(),e.delete_station(t)}}},[e._v("\n                        "+e._s(e.$t("ui.general.delete"))+"\n                    ")])])])}),!e.is_loading&&e.stations.length<=0?i("div",{staticClass:"ui center aligned red segment"},[i("h3",[e._v("\n                    "+e._s(e.$t("ui.general.no_data"))+"\n                ")])]):e._e()],2):i("table",{staticClass:"ui celled table"},[i("thead",{staticClass:"center aligned"},[i("tr",[i("th",[e._v(e._s(e.$t("models.attributes.stations.name")))]),i("th",[e._v(e._s(e.$t("models.attributes.stations.code")))]),i("th",[e._v(e._s(e.$t("models.attributes.stations.phone")))]),i("th",[e._v(e._s(e.$t("models.attributes.stations.note")))]),i("th",[e._v(e._s(e.$t("ui.general.operate")))])])]),e.is_loading?i("tbody",{staticClass:"center aligned"},[e._m(0)]):i("tbody",{staticClass:"center aligned"},[e._l(e.stations,function(e){return i("Row",{key:e.identity,attrs:{station:e}})}),e.stations.length<=0?i("tr",{staticClass:"center aligned"},[i("td",{attrs:{colspan:"5"}},[i("h5",[e._v(e._s(e.$t("ui.general.no_data")))])])]):e._e()],2)]),i("Paginator",{attrs:{total_pages:Number(e.pagination.total_pages),current_page:Number(e.pagination.current_page)}})],1)],1)},N_=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"loading"},[i("td",{attrs:{colspan:"5"}},[i("div",{staticClass:"ui active centered inline loader"})])])}],q_=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",[i("td",[e._v("\n        "+e._s(e.station.name)+"\n    ")]),i("td",[e._v("\n        "+e._s(e.station.code||"-")+"\n    ")]),i("td",[e._v("\n        "+e._s(e.station.phone||"-")+"\n    ")]),i("td",{staticStyle:{"max-width":"120px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}},[e._v("\n        "+e._s(e.station.note||"-")+"\n    ")]),i("td",[e.is_loading?i("div",{},[i("div",{staticClass:"ui basic loading green button"},[e._v("\n                "+e._s(e.$t("ui.general.edit"))+"\n            ")]),i("a",{staticClass:"ui basic loading red button"},[e._v("\n                "+e._s(e.$t("ui.general.delete"))+"\n            ")])]):i("div",{},[i("router-link",{staticClass:"ui basic green button",attrs:{to:{name:"edit_station",params:{station_identity:e.station.identity}}}},[e._v("\n                "+e._s(e.$t("ui.general.edit"))+"\n            ")]),i("a",{staticClass:"ui basic red button",on:{click:function(t){t.preventDefault(),e.$parent.delete_station(e.station)}}},[e._v("\n                "+e._s(e.$t("ui.general.delete"))+"\n            ")])],1)])])},A_=[],E_={name:"ProviderStationsIndexItem",props:{station:Object},data:function(){return{is_loading:!1}},computed:{},created:function(){},mounted:function(){},watch:{},methods:{},components:{}},z_=E_,j_=Object(Tt["a"])(z_,q_,A_,!1,null,null,null),R_=j_.exports,O_=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"error_messages"},[i("div",{directives:[{name:"show",rawName:"v-show",value:(e.errors.length>0||e.error_objects.length>0)&&e.show,expression:"(errors.length > 0 || error_objects.length > 0) && show"}],staticClass:"ui error large message"},[e.is_closable?i("i",{staticClass:"close icon",on:{click:function(t){t.preventDefault(),e.show=!e.show}}}):e._e(),i("div",{staticClass:"header"},[e._v("\n            "+e._s(e.description)+"\n        ")]),e._l(e.errors,function(t){return i("ul",{staticClass:"list"},[i("li",[e._v(e._s(t))])])}),e._l(e.error_objects,function(t){return i("ul",{staticClass:"list"},[i("li",[e._v(e._s(t.name)+": "+e._s(t.error))])])})],2)])},I_=[],D_={name:"ToolErrorBoxMain",props:{errors:{default:function(){return[]},type:Array},error_objects:{default:function(){return[]},type:Array},description:String,is_closable:{type:Boolean,default:!0}},data:function(){return{show:!0}},computed:{},created:function(){},mounted:function(){},watch:{errors:function(e){this.init()},error_objects:function(e){this.init()}},methods:{init:function(){this.show=!0}},components:{}},L_=D_,T_=(n("92be"),Object(Tt["a"])(L_,O_,I_,!1,null,"b7da3ada",null)),B_=T_.exports,M_=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui segment",class:[e.color],staticStyle:{padding:"0",overflow:"hidden"}},[e.title?i("div",{staticClass:"ui segment no_border",staticStyle:{padding:"0.5em 1em","margin-bottom":"0"}},[i("h3",{staticStyle:{"margin-bottom":"0"},style:e.is_title_have_link?{cursor:"pointer"}:{},on:{click:function(t){e.title_click()}}},[e._v("\n            "+e._s(e.title)+"\n        ")]),e.date?i("span",{staticClass:"date"},[e._v("\n            "+e._s(e.date)+"\n        ")]):e._e(),e.sub_title?i("div",{staticClass:"ui top right attached large label",staticStyle:{"text-align":"right"},domProps:{innerHTML:e._s(e.sub_title)}}):e._e(),i("div",{staticClass:"clear"})]):e._e(),e.keys.length?i("div",{staticClass:"ui segments no_border",staticStyle:{"margin-top":"0"},on:{click:function(t){e.data_card_click()}}},e._l(e.keys,function(t){return i("div",{staticClass:"ui segment",staticStyle:{padding:"0.5em 1em"}},[e.is_show_column?i("span",[e.i_18n_key?i("span",[e._v("\n                    "+e._s(e.get_i_18n(t))+"：\n                    "),e._t(t,[i("span",{domProps:{innerHTML:e._s(e.get_column(t))}})])],2):e._e()]):e._t(t,[i("span",{domProps:{innerHTML:e._s(e.get_column(t))}})])],2)})):e._e(),i("transition",{attrs:{name:"slide-fade",mode:"out-in"}},[!e.is_show_buttons&&e.$slots.buttons?i("div",{staticClass:"ui bottom right attached label",staticStyle:{cursor:"pointer"},on:{click:function(t){e.data_card_click()}}},[i("i",{staticClass:"ellipsis horizontal icon",staticStyle:{margin:"0"}})]):e._e()]),i("transition",{attrs:{name:"slide-fade",mode:"out-in"}},[e.is_show_buttons?i("div",{staticStyle:{padding:"6px","text-align":"right"}},[e._t("buttons")],2):e._e()])],1)},U_=[];function F_(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function Y_(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){F_(a,n,s,r,o,"next",e)}function o(e){F_(a,n,s,r,o,"throw",e)}r(void 0)})}}var G_={name:"ToolDataCard",components:{},props:{scope:{default:"provider",type:String},title:{default:"",type:String},title_link:{default:function(){return{}},type:Object},sub_title:{default:"",type:String},date:{default:"",type:String},object:{default:function(){return{}},type:Object},keys:{default:function(){return[]},type:Array},keys_data_change:{default:function(){return{}},type:Object},color:{default:"",type:String},is_show_column:{default:!1,type:Boolean},i_18n_key:{default:"",type:String}},data:function(){return{is_initialized:!1,is_show_buttons:!1}},computed:{current_store:function(){var e=this.$store.state.current_scope;return this.$store.state[e].tool_data_card_module},current_identity:function(){return this.current_store.current_identity},is_title_have_link:function(){return!(!this.title_link||!this.title_link.name)}},watch:{re_init:{deep:!0,handler:function(e){this.init()}},current_identity:{deep:!0,handler:function(e){this.object.identity!=e&&(this.is_show_buttons=!1)}}},mounted:function(){this.init()},methods:{init:function(){var e=Y_(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!1});case 2:return e.next=4,new Promise(function(e){t.is_initialized=!0});case 4:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),title_click:function(){this.is_title_have_link&&this.$router.push(this.title_link)},get_i_18n:function(e){var t="models.attributes.".concat(this.i_18n_key,".").concat(e),i=this.$te(t);return i?this.$t(t):this.$t("ui.pages.".concat(this.i_18n_key,".").concat(e))},get_column:function(e){try{return this.object[e]?this.object[e]:"-"}catch(t){return t}},data_card_click:function(){this.current_store.current_identity=this.object.identity,this.$slots.buttons&&(this.is_show_buttons=!this.is_show_buttons)}}},H_=G_,K_=(n("2e25"),Object(Tt["a"])(H_,M_,U_,!1,null,"1a9dce14",null)),W_=K_.exports,V_=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{display:"flex","justify-content":"space-between"},attrs:{id:"stations_filter"}},[i("div"),i("div",{staticClass:"ui segment",style:{width:e.filter.is_advanced_mode?"100%":"auto",margin:0}},[i("Header",{staticClass:"right floated"}),i("div",{staticClass:"clear"}),i("transition",{attrs:{name:"slide-fade",mode:"out-in"}},[e.filter.is_advanced_mode?i("Advanced"):e._e()],1)],1)])},X_=[],Q_=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"filter_advanced"}},[i("div",{staticClass:"ui form",on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$parent.$parent.stations_filter()}}},[i("div",{staticClass:"four fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.stations.name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.name,expression:"filter.columns.name"}],attrs:{type:"text"},domProps:{value:e.filter.columns.name},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"name",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.stations.code")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.code,expression:"filter.columns.code"}],attrs:{type:"text"},domProps:{value:e.filter.columns.code},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"code",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.stations.phone")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.phone,expression:"filter.columns.phone"}],attrs:{type:"text"},domProps:{value:e.filter.columns.phone},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"phone",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.stations.note")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.note,expression:"filter.columns.note"}],attrs:{type:"text"},domProps:{value:e.filter.columns.note},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"note",t.target.value)}}})])])]),i("div",{staticClass:"ui icon blue button right floated",on:{click:function(t){e.$parent.$parent.stations_filter()}}},[i("i",{staticClass:"search icon"}),e._v("\n        "+e._s(e.$t("ui.general.search"))+"\n    ")]),i("div",{staticClass:"clear"})])},Z_=[],J_={name:"OperationsFilterAdvanced",data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.provider.stations_module},filter:function(){return this.current_store.filter},customers:function(){return[{company_name:this.$t("ui.general.please_select"),identity:null}].concat(this.$store.state.provider.customers)}},created:function(){},mounted:function(){},watch:{},methods:{},components:{}},el=J_,tl=(n("3f41"),Object(Tt["a"])(el,Q_,Z_,!1,null,"f20318da",null)),il=tl.exports,nl=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{style:e.style.width<470?{textAlign:"right"}:{},attrs:{id:"filter_general"}},[e.filter.is_advanced_mode?e._e():i("div",{staticClass:"ui action input"},[e.style.width>470?i("HeaderInputs"):e._e(),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection dropdown no_search right_radius",staticStyle:{"min-width":"120px"}},[e._l(e.filter.shortcut_keys,function(t){return e.filter.current_shortcut_key==t?i("div",{staticClass:"text"},[i("span",[e._v("\n                    "+e._s(e.$t("models.attributes.stations."+t))+"\n                ")])]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.filter.shortcut_keys,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.current_shortcut_key==t},on:{click:function(i){e.set_quick_filter(t)}}},[e._v("\n                    "+e._s(e.$t("models.attributes.stations."+t))+"\n                ")])}))],2),i("div",{staticClass:"ui button icon",on:{click:function(t){e.$parent.$parent.stations_filter()}}},[i("i",{staticClass:"search icon"})])],1),e.filter.is_advanced_mode?i("div",{staticClass:"ui basic red icon button",on:{click:function(t){e.$store.commit("provider/stations_module/init_filter_columns")}}},[i("i",{staticClass:"close icon"}),e._v("\n        "+e._s(e.$t("ui.general.clear"))+"\n    ")]):e._e(),i("div",{staticClass:"ui button icon",style:{height:e.filter.is_advanced_mode?"auto":"38px",paddingTop:e.filter.is_advanced_mode?"":"13px",verticalAlign:e.filter.is_advanced_mode?"":"top",margin:"0 6px"},on:{click:function(t){e.filter.is_advanced_mode=!e.filter.is_advanced_mode}}},[i("i",{staticClass:"bars icon",class:{minus:e.filter.is_advanced_mode,bars:!e.filter.is_advanced_mode}})]),!e.filter.is_advanced_mode&&e.style.width<470&&"is_banned"!=e.filter.current_shortcut_key?i("div",{staticClass:"ui action input",staticStyle:{"padding-top":"9px",width:"100%"}},[i("HeaderInputs")],1):e._e()])},sl=[],al=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns[e.filter.current_shortcut_key],expression:"filter.columns[filter.current_shortcut_key]"}],attrs:{placeholder:e.$t("ui.general.search__key",{key:e.$t("models.attributes.stations."+e.filter.current_shortcut_key)}),type:"text"},domProps:{value:e.filter.columns[e.filter.current_shortcut_key]},on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$parent.$parent.$parent.stations_filter()},input:function(t){t.target.composing||e.$set(e.filter.columns,e.filter.current_shortcut_key,t.target.value)}}})},rl=[],ol={name:"StationsFilterHeaderInputs",data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.provider.stations_module},filter:function(){return this.current_store.filter}},created:function(){},mounted:function(){},watch:{},methods:{},components:{}},cl=ol,_l=Object(Tt["a"])(cl,al,rl,!1,null,null,null),ll=_l.exports,ul={name:"StationsFilterHeader",data:function(){return{is_initialized:!1}},computed:{style:function(){return this.$store.state.style},current_store:function(){return this.$store.state.provider.stations_module},filter:function(){return this.current_store.filter}},created:function(){},mounted:function(){},watch:{},methods:{set_quick_filter:function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{this.filter.current_shortcut_key=i,this.filter.columns.created_duration="",_.forEach(this.filter.shortcut_keys,function(e){t.filter.columns[e]=null}),"is_done"==i&&(this.filter.columns.is_done=!0),"is_canceled"==i&&(this.filter.columns.is_canceled=!0)}catch(e){console.log(e)}}},components:{HeaderInputs:ll}},dl=ul,pl=(n("a53e"),Object(Tt["a"])(dl,nl,sl,!1,null,"7b845b65",null)),ml=pl.exports,fl={name:"StationsFilter",data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.provider.stations_module},filter:function(){return this.current_store.filter}},created:function(){},mounted:function(){},watch:{"filter.is_advanced_mode":function(e){e||this.$store.commit("provider/stations_module/init_filter_columns")}},methods:{},components:{Advanced:il,Header:ml}},hl=fl,vl=Object(Tt["a"])(hl,V_,X_,!1,null,null,null),gl=vl.exports;function bl(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function yl(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){bl(a,n,s,r,o,"next",e)}function o(e){bl(a,n,s,r,o,"throw",e)}r(void 0)})}}var wl={name:"StationsIndex",data:function(){return{is_initialized:!1,is_loading:!1,is_search_params_changed:!1,errors:[]}},computed:{style:function(){return this.$store.state.style},current_store:function(){return this.$store.state.provider.stations_module},stations:function(){return this.current_store.stations},pagination:function(){return this.current_store.pagination},filter:function(){return this.current_store.filter}},created:function(){},mounted:function(){var e=this;this.init(),this.$bus.$off("init"),this.$bus.$on("init",function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.init()})},beforeDestroy:function(){this.$bus.$off("init"),this.pagination.current_page=1},watch:{$route:function(e,t){this.init(!1)}},methods:{init:function(){var e=yl(regeneratorRuntime.mark(function e(){var t,i=this,n=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=!(n.length>0&&void 0!==n[0])||n[0],e.prev=1,e.next=4,new Promise(function(e){i.is_initialized=!1,i.is_loading=!0,e()});case 4:return e.next=6,this.$store.dispatch("provider/stations_module/handle_query_to_filter",{query:this.$route.query});case 6:if(!t){e.next=9;break}return e.next=9,this.$store.dispatch("provider/stations_module/handle_quick_filter_key");case 9:return e.next=11,this.$store.dispatch("provider/stations_module/fetch_stations");case 11:e.next=16;break;case 13:switch(e.prev=13,e.t0=e["catch"](1),e.t0){default:console.log("init error: "),console.log(e.t0)}case 16:return e.prev=16,this.is_initialized=!0,this.is_loading=!1,this.$noty.information(this.$t("ui.page_titles.stations")+" "+this.$t("ui.general.initialize_complete"),300),e.finish(16);case 21:case"end":return e.stop()}},e,this,[[1,13,16,21]])}));function t(){return e.apply(this,arguments)}return t}(),stations_filter:function(){console.log("stations_filter");try{this.$router.push({name:this.$router.name,query:this.$store.getters["provider/stations_module/filter_to_query"]})}catch(e){console.log(e)}},delete_station:function(e){var t=this;if(confirm(this.$t("ui.notifications.warning.are_you_sure_to_delete_it"))){this.is_loading=!0;var i=new RestUrl(this.$store.state.provider.routes.api_v1_provider_station_delete).parse({station_identity:e.identity});axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){"success"==e.data.status?(t.$noty.success(t.$t("ui.notifications.success.delete__name",{name:t.$t("models.stations")})),t.init(!1)):t.$noty.error(t.$t("ui.notifications.error.delete__name",{name:t.$t("models.stations")}))})["catch"](function(e){console.log(e),e.response?t.$noty.error(t.$t("ui.general.network_abnormality")+": "+e.response.status+e.response.data):t.$noty.error(t.$t("ui.general.network_abnormality")+": "+t.$t("ui.general.server_offline"))})["finally"](function(){t.is_loading=!1})}}},components:{Row:R_,Paginator:Ma,ErrorMessages:B_,DataCard:W_,Filters:gl}},$l=wl,kl=Object(Tt["a"])($l,S_,N_,!1,null,null,null),xl=kl.exports,Cl={name:"StationsMain",data:function(){return{is_initialized:!1}},computed:{},created:function(){},mounted:function(){},watch:{},methods:{},components:{Index:xl}},Pl=Cl,Sl=Object(Tt["a"])(Pl,C_,P_,!1,null,null,null),Nl=Sl.exports,ql=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui segment",attrs:{id:"new_station"}},[i("h1",{staticClass:"ui header"},[e._v(e._s(e.station.name))]),e.is_initialized?i("div",[i("form",{staticClass:"ui form"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.stations.name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.station.name,expression:"station.name"}],attrs:{type:"text"},domProps:{value:e.station.name},on:{input:function(t){t.target.composing||e.$set(e.station,"name",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.stations.code")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.station.code,expression:"station.code"}],attrs:{type:"text"},domProps:{value:e.station.code},on:{input:function(t){t.target.composing||e.$set(e.station,"code",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.stations.address")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.station.address,expression:"station.address"}],attrs:{type:"text"},domProps:{value:e.station.address},on:{input:function(t){t.target.composing||e.$set(e.station,"address",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.stations.phone")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.station.phone,expression:"station.phone"}],attrs:{type:"text"},domProps:{value:e.station.phone},on:{input:function(t){t.target.composing||e.$set(e.station,"phone",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.stations.note")))]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.station.note,expression:"station.note"}],attrs:{type:"text"},domProps:{value:e.station.note},on:{input:function(t){t.target.composing||e.$set(e.station,"note",t.target.value)}}})]),i("button",{staticClass:"ui basic positive button",on:{click:function(t){return t.preventDefault(),e.create_station(t)}}},[e._v(e._s(e.$t("ui.general.create")))])])]):e._e()])},Al=[];function El(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function zl(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){El(a,n,s,r,o,"next",e)}function o(e){El(a,n,s,r,o,"throw",e)}r(void 0)})}}var jl={name:"NewStation",props:{},data:function(){return{is_initialized:!1,is_processing:!1,station:{},errors:[]}},created:function(){this.init()},mounted:function(){},watch:{$route:function(e,t){"new_station"==e.name&&this.init()}},computed:{},methods:{init:function(){var e=zl(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!1,t.is_processing=!1,t.station={name:t.$t("ui.page_titles.new_station"),address:t.$t("models.attributes.stations.address"),phone:t.$t("models.attributes.stations.phone"),code:t.$t("models.attributes.stations.code"),note:t.$t("models.attributes.stations.note")},t.errors=[],e()});case 2:return e.next=4,new Promise(function(e){t.is_initialized=!0,e()});case 4:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),create_station:function(){var e=this;this.is_processing=!0,this.errors=[];var t=this.station,i=new RestUrl(this.$store.state.provider.routes.api_v1_provider_stations_create).parse({},"");return axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.is_processing=!1,e.$noty.success(e.$t("ui.notifications.success.create__name",{name:e.$t("models.stations")})),e.$store.dispatch("provider/fetch_stations"),e.$router.push({name:"stations"})):(e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.stations")})),e.is_processing=!1)})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.stations")})),e.is_processing=!1})}},components:{}},Rl=jl,Ol=Object(Tt["a"])(Rl,ql,Al,!1,null,"ff69d376",null),Il=Ol.exports,Dl=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui segment",attrs:{id:"edit_station"}},[i("h1",{staticClass:"ui header"},[e._v(e._s(e.station.name))]),e.is_initialized?i("div",[i("div",{staticClass:"ui form"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.stations.name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.station.name,expression:"station.name"}],attrs:{type:"text"},domProps:{value:e.station.name},on:{input:function(t){t.target.composing||e.$set(e.station,"name",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.stations.code")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.station.code,expression:"station.code"}],attrs:{type:"text"},domProps:{value:e.station.code},on:{input:function(t){t.target.composing||e.$set(e.station,"code",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.stations.address")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.station.address,expression:"station.address"}],attrs:{type:"text"},domProps:{value:e.station.address},on:{input:function(t){t.target.composing||e.$set(e.station,"address",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.stations.phone")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.station.phone,expression:"station.phone"}],attrs:{type:"text"},domProps:{value:e.station.phone},on:{input:function(t){t.target.composing||e.$set(e.station,"phone",t.target.value)}}})]),e.is_google_map_activated?i("div",{staticClass:"field"},[i("label",[e._v("\n                    "+e._s(e.$t("models.attributes.stations.position"))+"\n                    　　"),i("span",{staticClass:"ui red pointer",on:{click:function(t){e.is_google_map_refresh=!e.is_google_map_refresh}}},[i("i",{staticClass:"icon refresh"}),e._v("\n                        [Google map]\n                    ")])]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.station.position,expression:"station.position"}],attrs:{type:"text"},domProps:{value:e.station.position},on:{input:function(t){t.target.composing||e.$set(e.station,"position",t.target.value)}}}),e.is_initialized?i("GoogleMapsDrawingPolygon",{staticClass:"field",attrs:{positions:e.google_maps_options.positions,center_position:e.center_position,refresh:e.is_google_map_refresh,zoom:e.google_maps_options.zoom,channel:e.google_maps_options.channel}}):e._e()],1):i("div",{staticClass:"field",on:{click:function(t){e.is_google_map_activated=!0}}},[i("label",{staticClass:"pointer"},[e._v("\n                    "+e._s(e.$t("ui.general.edit"))+"\n                    "+e._s(e.$t("models.attributes.stations.position"))+"\n                ")])]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.stations.note"))+" ")]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.station.note,expression:"station.note"}],attrs:{type:"text"},domProps:{value:e.station.note},on:{input:function(t){t.target.composing||e.$set(e.station,"note",t.target.value)}}})]),i("button",{staticClass:"ui basic fluid positive button",on:{click:function(t){return t.preventDefault(),e.update_station(t)}}},[e._v(e._s(e.$t("ui.general.update")))])])]):e._e()])},Ll=[],Tl=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"polygon_arrays"},[e.errors?i("div",{staticClass:"ui error message"},[i("div",{staticClass:"header"},[e._v("\n            "+e._s(e.errors)+"\n        ")])]):i("div",{ref:"map",staticClass:"google_maps",style:{height:e.height}})])},Bl=[];function Ml(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function Ul(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){Ml(a,n,s,r,o,"next",e)}function o(e){Ml(a,n,s,r,o,"throw",e)}r(void 0)})}}var Fl={name:"ToolGoogleMapsDrawingPolygon",props:{channel:String,positions:{type:Array,default:function(){return[]}},drawing_modes:{type:Array,default:function(){return["polygon"]}},center_position:{type:Array,default:function(){return[]}},refresh:{default:!1,type:Boolean},height:{default:"400px",type:String},zoom:{default:12,type:Number},type:{default:"terrain",type:String},stroke_color:{default:"#FF0000",type:String},stroke_opacity:{default:.8,type:Number},stroke_weight:{default:3,type:Number},fill_color:{default:"#FF0000",type:String},fill_opacity:{default:.35,type:Number}},data:function(){return{map:{},drawingManager:{},all_overlays:[],errors:""}},watch:{refresh:function(e){this.init()}},mounted:function(){this.init()},computed:{},methods:{init:function(){var e=Ul(regeneratorRuntime.mark(function e(){var t,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$refs.map,e.prev=1,e.next=4,new Promise(function(e){if(Array.isArray(i.center_position)&&2!=i.center_position.length)throw"center_position error";i.map=new google.maps.Map(t,{center:{lat:i.center_position[0],lng:i.center_position[1]},zoom:i.zoom}),e()});case 4:return e.next=6,this.set_position_polygon();case 6:return e.next=8,new Promise(function(e){i.drawingManager=new google.maps.drawing.DrawingManager({drawingMode:"polygon",drawingControl:!0,drawingControlOptions:{position:google.maps.ControlPosition.TOP_CENTER,drawingModes:["polygon"]}}),i.drawingManager.setMap(i.map),e()});case 8:return e.next=10,this.set_google_maps_event();case 10:return e.next=12,new Promise(function(e){e()});case 12:e.next=19;break;case 14:e.prev=14,e.t0=e["catch"](1),console.log(e.t0),this.errors=e.t0,this.$noty.error(this.errors);case 19:case"end":return e.stop()}},e,this,[[1,14]])}));function t(){return e.apply(this,arguments)}return t}(),set_position_polygon:function(){var e=[];if(Array.isArray(this.positions)&&this.positions.length>1){_.forEach(this.positions,function(t){e.push({lat:t[0],lng:t[1]})}),console.log(e);var t=new google.maps.Polygon({paths:e,strokeColor:this.stroke_color,strokeOpacity:this.stroke_opacity,strokeWeight:this.stroke_weight,fillColor:this.fill_color,fillOpacity:this.fill_opacity});t.setMap(this.map)}return Promise.resolve()},set_google_maps_event:function(){var e=this;return google.maps.event.addListener(this.drawingManager,"overlaycomplete",function(t){for(var i=0;i<e.all_overlays.length;i++)e.all_overlays[i].overlay.setMap(null);e.all_overlays.push(t)}),google.maps.event.addListener(this.drawingManager,"polygoncomplete",function(t){for(var i=[],n=0;n<t.getPath().getLength();n++)i.push(t.getPath().getAt(n).toUrlValue(6));console.log(i),e.$bus.$emit(e.channel,i)}),Promise.resolve()}},components:{}},Yl=Fl,Gl=(n("aab9"),Object(Tt["a"])(Yl,Tl,Bl,!1,null,"da8d0fc6",null)),Hl=Gl.exports;function Kl(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function Wl(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){Kl(a,n,s,r,o,"next",e)}function o(e){Kl(a,n,s,r,o,"throw",e)}r(void 0)})}}var Vl={name:"EditStation",props:{},data:function(){return{is_initialized:!1,is_processing:!1,station:{},errors:[],is_google_map_activated:!1,is_google_map_refresh:!1,google_maps_options:{channel:"google_maps_channel_new_position",positions:[],zoom:12}}},created:function(){this.init()},mounted:function(){},watch:{},computed:{center_position:function(){try{this.google_maps_options.positions=$.parseJSON(this.station.position)||[]}catch(e){this.google_maps_options.positions=[]}var t=this.google_maps_options.positions;if(t.length>2){var i=t[0],n=t[Math.floor(t.length/2)];return[(i[0]+n[0])/2,(i[1]+n[1])/2]}switch(this.$store.state.language){case"zh-TW":return this.google_maps_options.zoom=8.46,[23.911035,121.058502];case"zh-CN":return this.google_maps_options.zoom=6,[30.683674,113.436786];case"en-US":return this.google_maps_options.zoom=5,[39.766216,-99.734738];case"vi-VN":return this.google_maps_options.zoom=8.2,[10.814402,106.633343];case"ja-JP":return this.google_maps_options.zoom=8,[35.9178459,138.050514];case"es-ES":return this.google_maps_options.zoom=7,[40.416685,-3.703634];default:return this.google_maps_options.zoom=8.46,[23.911035,121.058502]}}},methods:{init:function(){var e=Wl(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!1,t.is_processing=!1,t.station={},t.errors=[],e()});case 2:return e.next=4,this.fetch_station();case 4:return e.next=6,this.set_google_maps_channel();case 6:return e.next=8,new Promise(function(e){t.is_initialized=!0,e()});case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_station:function(){var e=this,t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_station).parse({station_identity:this.$route.params.station_identity},"");return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.station=t.data.station})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.stations"),reason:": "+t}))})},set_google_maps_channel:function(){var e=this;this.$bus.$off(this.google_maps_options.channel),this.$bus.$on(this.google_maps_options.channel,function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=t.map(function(e){return"["+e+"]"}).toString();e.station.position="["+i+"]"})},update_station:function(){var e=this;this.is_processing=!0,this.errors=[];var t=_.cloneDeep(this.station),i=new RestUrl(this.$store.state.provider.routes.api_v1_provider_station_update).parse({station_identity:this.$route.params.station_identity},"");axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$noty.success(e.$t("ui.notifications.success.update__name",{name:e.$t("models.stations")})),e.$store.dispatch("provider/fetch_stations"),e.$router.push({name:"stations"})):(e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.stations"),reason:": "+t.data.errors})),e.errors=t.data.errors)})["catch"](function(t){console.log(t),t.response?e.$noty.error(e.$t("ui.general.network_abnormality")+": "+t.response.status+t.response.data):e.$noty.error(e.$t("ui.general.network_abnormality")+": "+e.$t("ui.general.server_offline"))}),this.is_processing=!1}},components:{GoogleMapsDrawingPolygon:Hl}},Xl=Vl,Ql=Object(Tt["a"])(Xl,Dl,Ll,!1,null,"3bfc82d2",null),Zl=Ql.exports,Jl="stations",eu="new_station",tu="edit_station",iu=[{path:"",component:Nl,name:"stations",meta:{api_name:"api_v1_provider_stations",breadcrumb:[Jl],btns:[eu]}},{path:"new",component:Il,name:"new_station",meta:{api_name:"api_v1_provider_stations_create",breadcrumb:[Jl,eu]}},{path:":station_identity/edit",component:Zl,name:"edit_station",meta:{api_name:"api_v1_provider_station_update",breadcrumb:[Jl,tu]}}],nu=iu,su=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.is_initialized?i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1):e._e(),i("div",{staticClass:"ui inverted dimmer transition",class:{active:!e.is_initialized}},[i("div",{staticClass:"ui text loader"},[e._v("\n            "+e._s(e.$t("ui.general.initializing"))+"\n        ")])])],1)},au=[];function ru(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function ou(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){ru(a,n,s,r,o,"next",e)}function o(e){ru(a,n,s,r,o,"throw",e)}r(void 0)})}}var cu={name:"PartitionsLayout",data:function(){return{is_initialized:!1}},computed:{},watch:{},created:function(){},mounted:function(){var e=this;this.init(),this.$bus.$off("init"),this.$bus.$on("init",function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.init()})},beforeDestroy:function(){this.$bus.$off("init")},methods:{init:function(){var e=ou(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!1,e()});case 2:return e.next=4,this.$store.dispatch("provider/partitions_module/fetch_customers");case 4:return e.next=6,this.$store.dispatch("provider/partitions_module/fetch_materials");case 6:return e.next=8,new Promise(function(e){t.is_initialized=!0,t.$noty.information(t.$t("ui.page_titles.provider_partitions")+" "+t.$t("ui.general.initialize_complete"),300),e()});case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{}},_u=cu,lu=Object(Tt["a"])(_u,su,au,!1,null,null,null),uu=lu.exports,du=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("Index")],1)},pu=[],mu=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"ui inverted dimmer transition",class:{active:e.is_loading}},[i("div",{staticClass:"ui text loader"},[e._v("\n            "+e._s(e.$t("ui.general.initializing"))+"\n        ")])]),i("div",{staticClass:"clear"}),i("div",{staticClass:"ui segment"},[e.style.width<767?i("div",{staticStyle:{"margin-bottom":"1em"}},[e.is_loading?i("div",[i("div",{staticClass:"ui active centered inline loader"})]):e._l(e.partitions,function(t){return i("DataCard",{key:t.identity,attrs:{object:t,title:t.name,title_link:{name:"edit_provider_partition",params:{partition_identity:t.identity}},is_show_column:!0,i_18n_key:"partitions",keys:["numbers_from","numbers_to","total_amount","available_quantity","parent","customer","contracts","material","note"]}},[i("span",{attrs:{slot:"total_amount"},slot:"total_amount"},[e._v("\n                    "+e._s(e.$store.getters[e.store_key+"number_with_commas"](t.numbers_amount))+"\n                ")]),i("span",{attrs:{slot:"available_quantity"},slot:"available_quantity"},[e._v("\n                    "+e._s(e.$store.getters[e.store_key+"number_with_commas"](t.remaining_numbers))+"\n                ")]),i("span",{attrs:{slot:"parent"},slot:"parent"},[t.child_partitions&&t.child_partitions.length?i("div",{staticClass:"ui items"},e._l(t.child_partitions,function(t,n){return i("router-link",{key:t.identity,staticClass:"item",attrs:{to:{name:"edit_partition",params:{partition_identity:t.identity}}}},[e._v("\n                            "+e._s(n+1)+". "+e._s(t.name)+"\n                        ")])})):i("span",[e._v("-")])]),i("span",{attrs:{slot:"contracts"},slot:"contracts"},[e.$store.getters[e.store_key+"current_customer"](t)?i("div",{staticClass:"ui items"},e._l(t.contracts,function(t,n){return i("router-link",{key:t.identity,staticClass:"item",attrs:{to:{name:"provider_contract",params:{customer_identity:e.$store.getters[e.store_key+"current_customer"].identity,contract_identity:t.identity}}}},[e._v("\n                            "+e._s(n+1)+". "+e._s(t.name)+"\n                        ")])})):i("span",[e._v("-")])]),i("span",{attrs:{slot:"customer"},slot:"customer"},[e.$store.getters[e.store_key+"current_customer"](t)?i("router-link",{attrs:{to:{name:"customer",params:{customer_identity:e.$store.getters[e.store_key+"current_customer"](t).identity}}}},[e._v("\n                        "+e._s(e.$store.getters[e.store_key+"current_customer"](t).company_short_name||e.$store.getters[e.store_key+"current_customer"](t).identity)+"\n                    ")]):i("span",[e._v("\n                        "+e._s("Auto"==t.partition_type?e.$t("ui.pages.partitions.automatic_number"):e.$t("ui.pages.partitions.use_yourself"))+"\n                    ")])],1),e.$store.getters[e.store_key+"current_material"](t)?i("router-link",{attrs:{slot:"material",to:{name:"edit_material",params:{material_identity:e.$store.getters[e.store_key+"current_material"](t).identity}}},slot:"material"},[e._v("\n                    "+e._s(e.$store.getters[e.store_key+"current_material"](t).name)+"\n                ")]):e._e(),i("div",{attrs:{slot:"buttons"},slot:"buttons"},[t.is_deleting?i("div",{staticClass:"ui basic red button"},[e._v("\n                        "+e._s(e.$t("ui.general.deleteing"))+"...\n                    ")]):i("div",{staticClass:"ui basic red button",on:{click:function(i){i.preventDefault(),e.delete_partition(t)}}},[e._v("\n                        "+e._s(e.$t("ui.general.delete"))+"\n                    ")])])],1)}),!e.is_loading&&e.partitions.length<=0?i("div",{staticClass:"ui center aligned red segment"},[i("h3",[e._v("\n                    "+e._s(e.$t("ui.general.no_data"))+"\n                ")])]):e._e()],2):i("table",{staticClass:"ui celled table"},[i("thead",[i("tr",[i("th",[e._v(e._s(e.$t("models.attributes.partitions.name")))]),i("th",[e._v(e._s(e.$t("models.attributes.partitions.numbers")))]),i("th",[e._v(e._s(e.$t("models.attributes.partitions.parent")))]),i("th",[e._v(e._s(e.$t("models.attributes.partitions.customer")))]),i("th",[e._v(e._s(e.$t("models.attributes.partitions.contracts")))]),i("th",[e._v(e._s(e.$t("models.attributes.partitions.material")))]),i("th",[e._v(e._s(e.$t("models.attributes.partitions.note")))]),i("th",{staticClass:"center aligned"},[e._v(e._s(e.$t("ui.general.operate")))])])]),e.is_initialized?i("tbody",e._l(e.partitions,function(e){return i("Row",{key:e.identity,attrs:{partition:e}})})):e._e()]),i("Paginator",{attrs:{total_pages:Number(e.current_store.pagination.total_pages),current_page:Number(e.current_store.pagination.current_page)}})],1)])},fu=[],hu=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",[i("td",[e._v("\n        "+e._s(e.partition.name)+"\n        "),e.partition.grouped_partitions?i("div",{staticClass:"items"},e._l(e.partition.grouped_partitions,function(t){return i("div",{staticClass:"item"},[e._v("\n                "+e._s(t.name)+"\n            ")])})):e._e()]),i("td",[i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n            "+e._s(e.$t("models.attributes.partitions.numbers_from"))+"：\n        ")]),e._v("\n        "+e._s(e.partition.numbers_from)),i("br"),i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n            "+e._s(e.$t("models.attributes.partitions.numbers_to"))+"：\n        ")]),e._v("\n        "+e._s(e.partition.numbers_to)),i("br"),i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n            "+e._s(e.$t("ui.pages.partitions.total_amount"))+"：\n        ")]),e._v("\n        "+e._s(e.$store.getters[e.store_key+"number_with_commas"](e.partition.numbers_amount))),i("br"),i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n            "+e._s(e.$t("ui.pages.partitions.available_quantity"))+"：\n        ")]),e._v("\n        "+e._s(e.$store.getters[e.store_key+"number_with_commas"](e.partition.remaining_numbers))+"\n    ")]),i("td",[i("div",{staticClass:"ui items"},e._l(e.partition.child_partitions,function(t,n){return i("router-link",{key:t.identity,staticClass:"item",attrs:{to:{name:"edit_partition",params:{partition_identity:t.identity}}}},[e._v("\n                "+e._s(n+1)+". "+e._s(t.name)+"\n            ")])}))]),i("td",[e.$store.getters[e.store_key+"current_customer"](e.partition)?i("router-link",{attrs:{to:{name:"customer",params:{customer_identity:e.$store.getters[e.store_key+"current_customer"](e.partition).identity}}}},[e._v("\n            "+e._s(e.$store.getters[e.store_key+"current_customer"](e.partition).company_short_name||e.$store.getters[e.store_key+"current_customer"](e.partition).identity)+"\n        ")]):i("div",[e._v("\n            "+e._s("Auto"==e.partition.partition_type?e.$t("ui.pages.partitions.automatic_number"):e.$t("ui.pages.partitions.use_yourself"))+"\n        ")])],1),i("td",[e.$store.getters[e.store_key+"current_customer"](e.partition)?i("div",{staticClass:"ui items"},e._l(e.partition.contracts,function(t,n){return i("router-link",{key:t.identity,staticClass:"item",attrs:{to:{name:"provider_contract",params:{customer_identity:e.$store.getters[e.store_key+"current_customer"](e.partition).identity,contract_identity:t.identity}}}},[e._v("\n                "+e._s(n+1)+". "+e._s(t.name)+"\n            ")])})):e._e()]),i("td",[e.$store.getters[e.store_key+"current_material"](e.partition)?i("router-link",{attrs:{to:{name:"edit_material",params:{material_identity:e.$store.getters[e.store_key+"current_material"](e.partition).identity}}}},[e._v("\n            "+e._s(e.$store.getters[e.store_key+"current_material"](e.partition).name)+"\n        ")]):e._e()],1),i("td",[e._v(e._s(e.partition.note))]),i("td",[i("router-link",{staticClass:"ui basic green button",attrs:{to:{name:"edit_provider_partition",params:{partition_identity:e.partition.identity}}}},[e._v("\n            "+e._s(e.$t("ui.general.edit"))+"\n        ")]),e.partition.is_deleting?i("div",{staticClass:"ui basic red button"},[e._v("\n            "+e._s(e.$t("ui.general.deleteing"))+"...\n        ")]):i("div",{staticClass:"ui basic red button",on:{click:function(t){t.preventDefault(),e.$parent.delete_partition(e.partition)}}},[e._v("\n            "+e._s(e.$t("ui.general.delete"))+"\n        ")])],1)])},vu=[],gu={name:"PartitionRow",props:{partition:Object},data:function(){return{store_key:"provider/partitions_module/"}},created:function(){},mounted:function(){},watch:{},methods:{},computed:{},components:{}},bu=gu,yu=Object(Tt["a"])(bu,hu,vu,!1,null,null,null),wu=yu.exports;function $u(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function ku(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){$u(a,n,s,r,o,"next",e)}function o(e){$u(a,n,s,r,o,"throw",e)}r(void 0)})}}var xu={name:"PartitionsIndex",data:function(){return{is_initialized:!1,is_loading:!1,is_deleting:!1,store_key:"provider/partitions_module/"}},computed:{style:function(e){return e.$store.state.style},current_store:function(e){return e.$store.state.provider.partitions_module},partitions:function(){return this.current_store.partitions}},created:function(){this.init()},mounted:function(){},beforeDestroy:function(){this.current_store.pagination.current_page=1},watch:{$route:{handler:function(){var e=ku(regeneratorRuntime.mark(function e(t,i){var n,s=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.query.page,!n){e.next=9;break}return this.current_store.pagination.current_page=Number(n),e.next=5,new Promise(function(e){s.is_loading=!0,e()});case 5:return e.next=7,this.$store.dispatch("provider/partitions_module/fetch_partitions",{page:n});case 7:return e.next=9,new Promise(function(e){s.is_loading=!1,e()});case 9:case"end":return e.stop()}},e,this)}));function t(t,i){return e.apply(this,arguments)}return t}(),deep:!0}},methods:{init:function(){var e=ku(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.current_store.pagination.current_page=t.$route.query.page?t.$route.query.page:1,t.is_initialized=!1,e()});case 2:return e.next=4,this.$store.dispatch("provider/partitions_module/fetch_partitions",{page:this.current_store.pagination.current_page});case 4:return e.next=6,new Promise(function(e){t.is_initialized=!0,e()});case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),delete_partition:function(e){var t=this;if(console.log("delete_partition"),confirm(this.$t("ui.notifications.warning.are_you_sure_to_delete_it"))){e.is_deleting=!0;var i=new RestUrl(this.$store.state.provider.routes.api_v1_provider_partition_delete).parse({partition_identity:e.identity});axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(i){"success"==i.data.status?(t.$noty.success(t.$t("ui.notifications.success.delete__name",{name:t.$t("models.partitions")})),t.$store.commit("provider/partitions_module/remove_partition",e),t.$bus.$emit("out_of_date",t.$store.state.instance_identity,"partitions")):t.$noty.error(t.$t("ui.notifications.error.delete__name",{name:t.$t("models.partitions")})),e.is_deleting=!1})["catch"](function(i){e.is_deleting=!1,t.$noty.error(t.$t("ui.notifications.error.delete__name",{name:t.$t("models.partitions")}))})["finally"](function(){t.$forceUpdate()})}}},components:{Row:wu,Paginator:Ma,DataCard:W_}},Cu=xu,Pu=Object(Tt["a"])(Cu,mu,fu,!1,null,null,null),Su=Pu.exports,Nu={name:"PartitionsMain",data:function(){return{is_initialized:!1}},computed:{},created:function(){},mounted:function(){},watch:{},methods:{},components:{Index:Su}},qu=Nu,Au=Object(Tt["a"])(qu,du,pu,!1,null,null,null),Eu=Au.exports,zu=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"ui inverted dimmer transition",class:{active:e.is_loading}},[i("div",{staticClass:"ui text loader"},[e._v("\n            "+e._s(e.$t("ui.general.initializing"))+"\n        ")])]),i("div",{staticClass:"clear"}),i("div",{staticClass:"ui segment"},[e.style.width<767?i("div",{staticStyle:{"margin-bottom":"1em"}},[e.is_loading?i("div",[i("div",{staticClass:"ui active centered inline loader"})]):e._l(e.parent_partitions,function(t){return i("DataCard",{key:t.identity,attrs:{object:t,title:t.name,is_show_column:!0,i_18n_key:"partitions",keys:["numbers_from","numbers_to","total_amount","available_quantity","parent","customer","note"]}},[i("span",{attrs:{slot:"total_amount"},slot:"total_amount"},[e._v("\n                    "+e._s(e.$store.getters[e.store_key+"number_with_commas"](t.numbers_amount))+"\n                ")]),i("span",{attrs:{slot:"available_quantity"},slot:"available_quantity"},[e._v("\n                    "+e._s(e.$store.getters[e.store_key+"number_with_commas"](t.remaining_numbers))+"\n                ")]),i("span",{attrs:{slot:"customer"},slot:"customer"},[e.$store.getters[e.store_key+"current_customer"](t)?i("router-link",{attrs:{to:{name:"customer",params:{customer_identity:e.$store.getters[e.store_key+"current_customer"](t).identity}}}},[e._v("\n                        "+e._s(e.$store.getters[e.store_key+"current_customer"](t).company_short_name||e.$store.getters[e.store_key+"current_customer"](t).identity)+"\n                    ")]):i("span",[e._v("\n                        "+e._s("Auto"==t.partition_type?e.$t("ui.pages.partitions.automatic_number"):e.provider_node.company_short_name)+"\n                    ")])],1)])}),!e.is_loading&&e.parent_partitions.length<=0?i("div",{staticClass:"ui center aligned red segment"},[i("h3",[e._v("\n                    "+e._s(e.$t("ui.general.no_data"))+"\n                ")])]):e._e()],2):i("table",{staticClass:"ui celled table"},[i("thead",[i("tr",[i("th",[e._v(e._s(e.$t("models.attributes.partitions.name")))]),i("th",[e._v(e._s(e.$t("models.attributes.partitions.numbers")))]),i("th",[e._v(e._s(e.$t("models.attributes.partitions.parent")))]),i("th",[e._v(e._s(e.$t("models.attributes.partitions.customer")))]),i("th",[e._v(e._s(e.$t("models.attributes.partitions.note")))])])]),i("tbody",e._l(e.parent_partitions,function(t){return e.is_initialized?i("Row",{key:t.identity,attrs:{partition:t}}):e._e()}))]),i("Paginator",{attrs:{total_pages:Number(e.current_store.pagination.total_pages),current_page:Number(e.current_store.pagination.current_page)}})],1)])},ju=[],Ru=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",[i("td",[e._v("\n        "+e._s(e.partition.name)+"\n        "),e.partition.grouped_partitions?i("div",{staticClass:"items"},e._l(e.partition.grouped_partitions,function(t){return i("div",{staticClass:"item"},[e._v("\n                "+e._s(t.name)+"\n            ")])})):e._e()]),i("td",[i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n            "+e._s(e.$t("models.attributes.partitions.numbers_from"))+"：\n        ")]),e._v(e._s(e.partition.numbers_from)),i("br"),i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n            "+e._s(e.$t("models.attributes.partitions.numbers_to"))+"：\n        ")]),e._v(e._s(e.partition.numbers_to)),i("br"),i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n            "+e._s(e.$t("ui.pages.partitions.total_amount"))+"：\n        ")]),e._v(e._s(e.$store.getters[e.store_key+"number_with_commas"](e.partition.numbers_amount))),i("br"),i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n            "+e._s(e.$t("ui.pages.partitions.available_quantity"))+"：\n        ")]),e._v(e._s(e.$store.getters[e.store_key+"number_with_commas"](e.partition.remaining_numbers))+"\n\n    ")]),i("td",[i("div",{staticClass:"ui items"},e._l(e.partition.child_partitions,function(t,n){return i("router-link",{key:t.identity,staticClass:"item",attrs:{to:{name:"edit_partition",params:{partition_identity:t.identity}}}},[e._v("\n                "+e._s(n+1)+". "+e._s(t.name)+"\n            ")])}))]),i("td",[e.$store.getters[e.store_key+"current_customer"](e.partition)?i("router-link",{attrs:{to:{name:"customer",params:{customer_identity:e.$store.getters[e.store_key+"current_customer"](e.partition).identity}}}},[e._v("\n            "+e._s(e.$store.getters[e.store_key+"current_customer"](e.partition).company_short_name||e.$store.getters[e.store_key+"current_customer"](e.partition).identity)+"\n        ")]):i("div",[e._v("\n            "+e._s("Auto"==e.partition.partition_type?e.$t("ui.pages.partitions.automatic_number"):e.provider_node.company_short_name)+"\n        ")])],1),i("td",[e._v(e._s(e.partition.note))])])},Ou=[],Iu={name:"AssociatedPartitionRow",props:{partition:Object},data:function(){return{is_loading:!1,is_deleting:!1,store_key:"provider/partitions_module/"}},created:function(){},mounted:function(){},watch:{},methods:{},computed:{current_store:function(e){return e.$store.state.provider.partitions_module},provider_node:function(e){return e.$store.state.provider.node}},components:{}},Du=Iu,Lu=Object(Tt["a"])(Du,Ru,Ou,!1,null,null,null),Tu=Lu.exports;function Bu(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function Mu(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){Bu(a,n,s,r,o,"next",e)}function o(e){Bu(a,n,s,r,o,"throw",e)}r(void 0)})}}var Uu={name:"AssociatedPartitionsIndex",data:function(){return{is_initialized:!1,is_loading:!1,store_key:"provider/partitions_module/"}},created:function(){this.init()},mounted:function(){},beforeDestroy:function(){this.current_store.pagination.current_page=1},watch:{$route:{handler:function(){var e=Mu(regeneratorRuntime.mark(function e(t,i){var n,s=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.query.page,!n){e.next=9;break}return this.current_store.pagination.current_page=Number(n),e.next=5,new Promise(function(e){s.is_loading=!0,e()});case 5:return e.next=7,this.$store.dispatch("provider/partitions_module/fetch_associated_partitions",{page:n});case 7:return e.next=9,new Promise(function(e){s.is_loading=!1,e()});case 9:"partitions"==t.name&&this.init();case 10:case"end":return e.stop()}},e,this)}));function t(t,i){return e.apply(this,arguments)}return t}(),deep:!0}},methods:{init:function(){var e=Mu(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.current_store.pagination.current_page=t.$route.query.page?t.$route.query.page:1,t.is_initialized=!1,e()});case 2:return e.next=4,this.$store.dispatch("provider/partitions_module/fetch_associated_partitions",{page:this.current_store.pagination.current_page});case 4:return e.next=6,new Promise(function(e){t.is_initialized=!0,e()});case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},computed:{style:function(e){return e.$store.state.style},current_store:function(e){return e.$store.state.provider.partitions_module},provider_node:function(e){return e.$store.state.provider.node},parent_partitions:function(){return _.filter(this.current_store.associated_partitions,function(e){return null==e.parent_identity})}},components:{Row:Tu,DataCard:W_,Paginator:Ma}},Fu=Uu,Yu=Object(Tt["a"])(Fu,zu,ju,!1,null,null,null),Gu=Yu.exports,Hu=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui segment",attrs:{id:"new"}},[i("h1",{staticClass:"ui header"},[e._v("\n        "+e._s(e.$t("ui.page_titles.new_provider_partition"))+"\n    ")]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui form"},[i("div",{staticClass:"ui grid",staticStyle:{"margin-top":"0","margin-bottom":"0"}},[i("div",{staticClass:"six wide red field",attrs:{"data-column":"name"}},[i("label",[e._v(e._s(e.$t("models.attributes.partitions.name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.partition.name,expression:"partition.name"}],attrs:{type:"text"},domProps:{value:e.partition.name},on:{input:function(t){t.target.composing||e.$set(e.partition,"name",t.target.value)}}})]),i("div",{staticClass:"five wide red field",attrs:{"data-column":"numbers_from"}},[i("label",[e._v(e._s(e.$t("models.attributes.partitions.numbers_from")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.partition.numbers_from,expression:"partition.numbers_from"}],attrs:{type:"text"},domProps:{value:e.partition.numbers_from},on:{change:function(t){e.$forceUpdate()},input:function(t){t.target.composing||e.$set(e.partition,"numbers_from",t.target.value)}}})]),i("div",{staticClass:"five wide red field",attrs:{"data-column":"numbers_to"}},[i("label",[e._v(e._s(e.$t("models.attributes.partitions.numbers_to")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.partition.numbers_to,expression:"partition.numbers_to"}],attrs:{type:"text"},domProps:{value:e.partition.numbers_to},on:{change:function(t){e.$forceUpdate()},input:function(t){t.target.composing||e.$set(e.partition,"numbers_to",t.target.value)}}})]),i("div",{staticClass:"eight wide red field",attrs:{"data-column":"customer_identity"}},[i("label",[e._v("\n                    "+e._s(e.$t("models.attributes.partitions.customer"))+"\n                    "),e.partition.customer_identity?i("i",{staticClass:"pointer remove circle red icon clear_dropdown",on:{click:function(t){e.clear_dropdown(".ui.dropdown.customer_identity")}}}):e._e()]),e.current_store.customers?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.partition.customer_identity,expression:"partition.customer_identity"}],staticClass:"ui dropdown customer_identity",on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.partition,"customer_identity",t.target.multiple?i:i[0])},function(t){e.$forceUpdate()}]}},[i("option",{attrs:{value:""}},[e._v("\n                        "+e._s(e.$t("ui.general.please_select"))+"，\n                        "+e._s(e.$t("ui.pages.partitions.if_use_it_yourself_do_not_write"))+"\n                    ")]),e._l(e.current_store.customers,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.company_short_name||t.tax))])})],2):i("div",{staticClass:"ui inline active loader"})]),i("div",{staticClass:"eight wide red field"},[i("label",[e._v(e._s(e.$t("models.attributes.partitions.contracts")))]),e.current_customer?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.partition.contract_ids,expression:"partition.contract_ids"}],staticClass:"ui dropdown partition_type",attrs:{multiple:""},on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.partition,"contract_ids",t.target.multiple?i:i[0])},function(t){e.$forceUpdate()}]}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.current_customer.contracts,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2):e._e()]),i("div",{staticClass:"eight wide red field",attrs:{"data-column":"material_identity"}},[i("label",[e._v("\n                    "+e._s(e.$t("models.attributes.partitions.material"))+"\n                    "),e.partition.material_identity?i("i",{staticClass:"pointer remove circle red icon clear_dropdown",on:{click:function(t){e.clear_dropdown(".ui.dropdown.material_identity")}}}):e._e()]),e.current_store.customers?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.partition.material_identity,expression:"partition.material_identity"}],staticClass:"ui dropdown material_identity",on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.partition,"material_identity",t.target.multiple?i:i[0])},function(t){e.$forceUpdate()}]}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.current_store.materials,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2):i("div",{staticClass:"ui inline active loader"})]),i("div",{staticClass:"eight wide red field"},[i("label",[e._v("\n                    "+e._s(e.$t("models.attributes.partitions.label_type"))+"\n                    "),e.partition.label_type?i("i",{staticClass:"pointer remove circle red icon clear_dropdown",on:{click:function(t){e.clear_dropdown(".ui.dropdown.label_type")}}}):e._e()]),i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.partition.label_type,expression:"partition.label_type"}],staticClass:"ui dropdown label_type",on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.partition,"label_type",t.target.multiple?i:i[0])},function(t){e.$forceUpdate()}]}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),i("option",{attrs:{value:"Label::Default"}},[e._v("TW568預設")]),"BY"==e.$store.state.provider.node.code?i("option",{attrs:{value:"Label::ByExpress"}},[e._v("博宇速運")]):e._e(),"CQF"==e.$store.state.provider.node.code?i("option",{attrs:{value:"Label::ChangQing"}},[e._v("長慶運通")]):e._e(),"FR"==e.$store.state.provider.node.code?i("option",{attrs:{value:"Label::FlyCargo"}},[e._v("飛樂航空")]):e._e(),i("option",{attrs:{value:"Label::HCT"}},[e._v("新竹物流")]),i("option",{attrs:{value:"Label::TCat"}},[e._v("統一速達")]),i("option",{attrs:{value:"Label::Pelican"}},[e._v("宅配通")]),i("option",{attrs:{value:"Label::Presco"}},[e._v("統一數網(7-ELEVEn)")]),i("option",{attrs:{value:"Label::FamilyMart"}},[e._v("日翊文化(全家)")])])]),i("div",{staticClass:"eight wide red field"},[i("label",[e._v("\n                    "+e._s(e.$t("models.attributes.partitions.numbers_rule"))+"\n                    "),e.partition.numbers_rule?i("i",{staticClass:"pointer remove circle red icon clear_dropdown",on:{click:function(t){e.clear_dropdown(".ui.dropdown.numbers_rule")}}}):e._e()]),i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.partition.numbers_rule,expression:"partition.numbers_rule"}],staticClass:"ui dropdown numbers_rule",on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.partition,"numbers_rule",t.target.multiple?i:i[0])},function(t){e.$forceUpdate()}]}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),i("option",{attrs:{value:"tcat_numbers_rule"}},[e._v("黑貓檢查碼")]),i("option",{attrs:{value:"hct_numbers_rule"}},[e._v("新竹檢查碼")]),i("option",{attrs:{value:"pelican_numbers_rule"}},[e._v("宅配通檢查碼")])])]),i("div",{staticClass:"eight wide red field"},[i("label",[e._v("\n                    "+e._s(e.$t("models.attributes.partitions.partition_type"))+"\n                    "),e.partition.partition_type?i("i",{staticClass:"pointer remove circle red icon clear_dropdown",on:{click:function(t){e.clear_dropdown(".ui.dropdown.partition_type")}}}):e._e()]),i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.partition.partition_type,expression:"partition.partition_type"}],staticClass:"ui dropdown partition_type",on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.partition,"partition_type",t.target.multiple?i:i[0])},function(t){e.$forceUpdate()}]}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),i("option",{attrs:{value:"Manual"}},[e._v("手動取號")]),i("option",{attrs:{value:"Auto"}},[e._v("自動取號")]),i("option",{attrs:{value:"Group"}},[e._v("區間群組")])])]),i("div",{staticClass:"sixteen wide red field",attrs:{"data-column":"note"}},[i("label",[e._v(e._s(e.$t("models.attributes.partitions.note")))]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.partition.note,expression:"partition.note"}],attrs:{rows:"4"},domProps:{value:e.partition.note},on:{input:function(t){t.target.composing||e.$set(e.partition,"note",t.target.value)}}})])]),e._l(e.trial_errors,function(t,n,s){return i("div",{staticClass:"ui negative message"},[i("h3",[e._v(e._s(e.$t("models.attributes.partitions."+n)))]),i("ul",e._l(t,function(t){return i("li",[e._v(e._s(t))])}))])}),!e.trialed_partition||e.trial_errors||e.is_trialling?e._e():i("div",{staticClass:"ui positive message"},[i("h2",[e._v("\n                "+e._s(e.$t("ui.general.verify"))+"\n                "+e._s(e.$t("ui.general.result"))+"\n            ")]),i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n                "+e._s(e.$t("models.attributes.partitions.numbers_from"))+"：\n            ")]),e._v("\n            "+e._s(e.trialed_partition.numbers_from)),i("br"),i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n                "+e._s(e.$t("models.attributes.partitions.numbers_to"))+"：\n            ")]),e._v("\n            "+e._s(e.trialed_partition.numbers_to)),i("br"),i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n                "+e._s(e.$t("ui.pages.partitions.total_amount"))+"：\n            ")]),e._v("\n            "+e._s(e.number_with_commas(e.trialed_partition.numbers_amount))),i("br"),i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n                "+e._s(e.$t("ui.pages.partitions.available_quantity"))+"：\n            ")]),e._v("\n            "+e._s(e.number_with_commas(e.trialed_partition.remaining_numbers))+"\n        ")]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui buttons"},[i("router-link",{staticClass:"ui button",attrs:{to:{name:"provider_partitions"}}},[e._v("\n                "+e._s(e.$t("ui.general.back"))+"\n            ")]),i("div",{staticClass:"or"}),e.is_trialling?i("a",{staticClass:"ui orange button",attrs:{href:"#"}},[e._v("\n                "+e._s(e.$t("ui.general.verifying"))+"...\n            ")]):i("a",{staticClass:"ui orange button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.trial_partition()}}},[e._v("\n                "+e._s(e.$t("ui.general.verify"))+"\n            ")]),i("div",{staticClass:"or"}),e.is_loading?i("a",{staticClass:"ui blue button",attrs:{href:"#"}},[e._v("\n                "+e._s(e.$t("ui.general.creating"))+"...\n            ")]):i("a",{staticClass:"ui blue button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.create_partition()}}},[e._v("\n                "+e._s(e.$t("ui.general.create"))+"\n            ")])],1)],2)])},Ku=[],Wu=n("6e3b"),Vu=n.n(Wu);function Xu(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function Qu(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){Xu(a,n,s,r,o,"next",e)}function o(e){Xu(a,n,s,r,o,"throw",e)}r(void 0)})}}var Zu={name:"NewPartition",mixins:[Vu.a],props:{},data:function(){return{is_loading:!1,partition:{contract_ids:[],partition_type:"Manual",label_type:"Label::Default"},is_trialling:!1,trialed_partition:null,trial_errors:null}},mounted:function(){},methods:{number_with_commas:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},clear_dropdown:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.partition.customer_identity=null,$(e).dropdown("clear")},string_rjust:function(e,t,i){var n=String(e);return n.length<=t?String(e).rjust(t,i):"".rjust(t,"-")},trial_partition:function(){var e=this;if(this.trial_errors=null,this.valid()){this.is_trialling=!0;var t=this.partition,i=new RestUrl(this.$store.state.provider.routes.api_v1_provider_partitions_trial).parse();return axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){console.log(t),"success"==t.data.status?(e.trialed_partition=t.data.partition,e.is_trialling=!1):(e.trial_errors=t.data.errors,e.$noty.error(e.$t("ui.notifications.error.verify__name",{name:e.$t("models.partitions")})),e.is_trialling=!1,Promise.reject())})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.verify__name",{name:e.$t("models.partitions")})),e.is_trialling=!1})}},create_partition:function(){var e=Qu(regeneratorRuntime.mark(function e(){var t,i,n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.valid()){e.next=8;break}return e.next=3,this.trial_partition();case 3:return this.is_loading=!0,t=this.partition,i=new RestUrl(this.$store.state.provider.routes.api_v1_provider_partitions_create).parse(),e.next=8,axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){"success"==e.data.status?(n.is_loading=!1,n.$store.commit("provider/partitions_module/add_partition",e.data.partition),n.$bus.$emit("out_of_date",n.$store.state.instance_identity,"partitions"),n.$router.push("/provider/partitions")):(n.$noty.error(n.$t("ui.notifications.error.create__name",{name:n.$t("models.partitions")})),n.is_loading=!1)})["catch"](function(e){n.$noty.error(n.$t("ui.notifications.error.create__name",{name:n.$t("models.partitions")})),n.is_loading=!1});case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},validator:{target:"partition",localize_key:"partitions",input_alert:!0,attributes:[{name:"name",required:!0},{name:"customer_identity",required:!1},{name:"material_identity",required:!0},{name:"numbers_from",required:!0},{name:"numbers_to",required:!0},{name:"note",required:!1}]},computed:{current_store:function(e){return e.$store.state.provider.partitions_module},current_customer:function(){var e=this;return _.findLast(this.current_store.customers,function(t){return t.identity==e.partition.customer_identity})}},components:{FileUploader:sc["a"],ErrorBox:B_}},Ju=Zu,ed=Object(Tt["a"])(Ju,Hu,Ku,!1,null,null,null),td=ed.exports,id=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.partition.identity?i("div",{staticClass:"ui segment",attrs:{id:"edit"}},[i("h1",{staticClass:"ui header"},[e._v("\n        "+e._s(e.$t("ui.page_titles.edit_provider_partition"))+"\n    ")]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui form"},[i("div",{staticClass:"ui grid",staticStyle:{"margin-top":"0","margin-bottom":"0"}},[i("div",{staticClass:"six wide red field",attrs:{"data-column":"name"}},[i("label",[e._v(e._s(e.$t("models.attributes.partitions.name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.partition.name,expression:"partition.name"}],attrs:{type:"text"},domProps:{value:e.partition.name},on:{input:function(t){t.target.composing||e.$set(e.partition,"name",t.target.value)}}})]),i("div",{staticClass:"five wide red field"},[i("label",[e._v(e._s(e.$t("models.attributes.partitions.numbers_from")))]),e.partition.count_of_core_waybills>0?i("input",{attrs:{type:"text",disabled:""},domProps:{value:e.partition.numbers_from}}):i("input",{directives:[{name:"model",rawName:"v-model",value:e.partition.numbers_from,expression:"partition.numbers_from"}],attrs:{type:"text"},domProps:{value:e.partition.numbers_from},on:{input:function(t){t.target.composing||e.$set(e.partition,"numbers_from",t.target.value)}}})]),i("div",{staticClass:"five wide red field"},[i("label",[e._v(e._s(e.$t("models.attributes.partitions.numbers_to")))]),e.partition.count_of_core_waybills>0?i("input",{attrs:{type:"text",disabled:""},domProps:{value:e.partition.numbers_to}}):i("input",{directives:[{name:"model",rawName:"v-model",value:e.partition.numbers_to,expression:"partition.numbers_to"}],attrs:{type:"text"},domProps:{value:e.partition.numbers_to},on:{input:function(t){t.target.composing||e.$set(e.partition,"numbers_to",t.target.value)}}})]),e.current_customer?i("div",{staticClass:"eight wide red field"},[i("label",[e._v(e._s(e.$t("models.attributes.partitions.customer")))]),i("input",{attrs:{disabled:""},domProps:{value:e.current_customer.company_short_name}})]):i("div",{staticClass:"eight wide red field"},[i("label",[e._v(e._s(e.$t("models.attributes.partitions.customer")))]),i("input",{attrs:{disabled:""},domProps:{value:e.$t("ui.general.no")}})]),i("div",{staticClass:"eight wide red field"},[i("label",[e._v(e._s(e.$t("models.attributes.partitions.contracts")))]),e.current_customer?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.partition.contract_ids,expression:"partition.contract_ids"}],staticClass:"ui dropdown partition_type",attrs:{multiple:"",disabled:""},on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.partition,"contract_ids",t.target.multiple?i:i[0])},function(t){e.$forceUpdate()}]}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.current_customer.contracts,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2):e._e()]),i("div",{staticClass:"eight wide red field",attrs:{"data-column":"material_identity"}},[i("label",[e._v("\n                    "+e._s(e.$t("models.attributes.partitions.material"))+"\n                    "),e.partition.material_identity?i("i",{staticClass:"pointer remove circle red icon clear_dropdown",on:{click:function(t){e.clear_dropdown(".ui.dropdown.material_identity")}}}):e._e()]),e.current_store.customers?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.partition.material_identity,expression:"partition.material_identity"}],staticClass:"ui dropdown material_identity",on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.partition,"material_identity",t.target.multiple?i:i[0])},function(t){e.$forceUpdate()}]}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.current_store.materials,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2):i("div",{staticClass:"ui inline active loader"})]),i("div",{staticClass:"eight wide red field"},[i("label",[e._v("\n                    "+e._s(e.$t("models.attributes.partitions.label_type"))+"\n                    "),e.partition.label_type?i("i",{staticClass:"pointer remove circle red icon clear_dropdown",on:{click:function(t){e.clear_dropdown(".ui.dropdown.label_type")}}}):e._e()]),i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.partition.label_type,expression:"partition.label_type"}],staticClass:"ui dropdown label_type",on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.partition,"label_type",t.target.multiple?i:i[0])},function(t){e.$forceUpdate()}]}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),i("option",{attrs:{value:"Label::Default"}},[e._v("TW568預設")]),"BY"==e.$store.state.provider.node.code?i("option",{attrs:{value:"Label::ByExpress"}},[e._v("博宇速運")]):e._e(),"CQF"==e.$store.state.provider.node.code?i("option",{attrs:{value:"Label::ChangQing"}},[e._v("長慶運通")]):e._e(),"FR"==e.$store.state.provider.node.code?i("option",{attrs:{value:"Label::FlyCargo"}},[e._v("飛樂航空")]):e._e(),i("option",{attrs:{value:"Label::HCT"}},[e._v("新竹物流")]),i("option",{attrs:{value:"Label::TCat"}},[e._v("統一速達")]),i("option",{attrs:{value:"Label::Pelican"}},[e._v("宅配通")]),i("option",{attrs:{value:"Label::Presco"}},[e._v("統一超商(統一數網)")]),i("option",{attrs:{value:"Label::PrescoInvoice"}},[e._v("統一超商含發票(統一數網)")]),i("option",{attrs:{value:"Label::FamilyMart"}},[e._v("全家便利商店(日翊文化)")]),i("option",{attrs:{value:"Label::FamilyMartInvoice"}},[e._v("全家便利商店含發票(日翊文化)")])])]),i("div",{staticClass:"eight wide red field"},[i("label",[e._v("\n                    "+e._s(e.$t("models.attributes.partitions.numbers_rule"))+"\n                    "),e.partition.numbers_rule?i("i",{staticClass:"pointer remove circle red icon clear_dropdown",on:{click:function(t){e.clear_dropdown(".ui.dropdown.numbers_rule")}}}):e._e()]),i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.partition.numbers_rule,expression:"partition.numbers_rule"}],staticClass:"ui dropdown numbers_rule",on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.partition,"numbers_rule",t.target.multiple?i:i[0])},function(t){e.$forceUpdate()}]}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),i("option",{attrs:{value:"tcat_numbers_rule"}},[e._v("黑貓檢查碼")]),i("option",{attrs:{value:"hct_numbers_rule"}},[e._v("新竹檢查碼")]),i("option",{attrs:{value:"pelican_numbers_rule"}},[e._v("宅配通檢查碼")])])]),i("div",{staticClass:"eight wide red field"},[i("label",[e._v("\n                    "+e._s(e.$t("models.attributes.partitions.partition_type"))+"\n                    "),e.partition.partition_type?i("i",{staticClass:"pointer remove circle red icon clear_dropdown",on:{click:function(t){e.clear_dropdown(".ui.dropdown.partition_type")}}}):e._e()]),i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.partition.partition_type,expression:"partition.partition_type"}],staticClass:"ui dropdown partition_type",on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.partition,"partition_type",t.target.multiple?i:i[0])},function(t){e.$forceUpdate()}]}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),i("option",{attrs:{value:"Manual"}},[e._v("手動取號")]),i("option",{attrs:{value:"Auto"}},[e._v("自動取號")]),i("option",{attrs:{value:"Group"}},[e._v("區間群組")])])]),i("div",{staticClass:"eight wide red field",attrs:{"data-column":"note"}},[i("label",[e._v(e._s(e.$t("models.attributes.partitions.note")))]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.partition.note,expression:"partition.note"}],attrs:{rows:"4"},domProps:{value:e.partition.note},on:{input:function(t){t.target.composing||e.$set(e.partition,"note",t.target.value)}}})]),i("div",{staticClass:"eight wide red field"},[i("label",[e._v("\n                    "+e._s(e.$t("ui.pages.partitions.statistics"))+"\n                ")]),e._v("\n                "+e._s(e.$t("models.attributes.partitions.numbers_from"))+"："+e._s(e.partition.numbers_from)),i("br"),e._v("\n                "+e._s(e.$t("models.attributes.partitions.numbers_to"))+"："+e._s(e.partition.numbers_to)),i("br"),e._v("\n                "+e._s(e.$t("ui.pages.partitions.total_amount"))+"："+e._s(e.number_with_commas(e.partition.numbers_amount))),i("br"),e._v("\n                "+e._s(e.$t("ui.pages.partitions.available_quantity"))+"："+e._s(e.number_with_commas(e.partition.remaining_numbers))+"\n            ")])]),e._l(e.trial_errors,function(t,n,s){return i("div",{staticClass:"ui negative message"},[i("h3",[e._v(e._s(e.$t("models.attributes.partitions."+n)))]),i("ul",e._l(t,function(t){return i("li",[e._v(e._s(t))])}))])}),!e.trialed_partition||e.trial_errors||e.is_trialling?e._e():i("div",{staticClass:"ui positive message"},[i("h2",[e._v("\n                "+e._s(e.$t("ui.general.verify"))+"\n                "+e._s(e.$t("ui.general.result"))+"\n            ")]),i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n                "+e._s(e.$t("models.attributes.partitions.numbers_from"))+"：\n            ")]),e._v("\n            "+e._s(e.trialed_partition.numbers_from)),i("br"),i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n                "+e._s(e.$t("models.attributes.partitions.numbers_to"))+"：\n            ")]),e._v("\n            "+e._s(e.trialed_partition.numbers_to)),i("br"),i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n                "+e._s(e.$t("ui.pages.partitions.total_amount"))+"：\n            ")]),e._v("\n            "+e._s(e.number_with_commas(e.trialed_partition.numbers_amount))),i("br"),i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n                "+e._s(e.$t("ui.pages.partitions.available_quantity"))+"：\n            ")]),e._v("\n            "+e._s(e.number_with_commas(e.trialed_partition.remaining_numbers))+"\n        ")]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui buttons"},[i("router-link",{staticClass:"ui button",attrs:{to:{name:"provider_partitions"}}},[e._v("\n                "+e._s(e.$t("ui.general.back"))+"\n            ")]),i("div",{staticClass:"or"}),e.is_trialling?i("a",{staticClass:"ui orange button",attrs:{href:"#"}},[e._v("\n                "+e._s(e.$t("ui.general.verifying"))+"...\n            ")]):i("a",{staticClass:"ui orange button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.trial_partition()}}},[e._v("\n                "+e._s(e.$t("ui.general.verify"))+"\n            ")]),i("div",{staticClass:"or"}),e.is_loading?i("a",{staticClass:"ui blue button",attrs:{href:"#"}},[e._v("\n                "+e._s(e.$t("ui.general.updating"))+"...\n            ")]):i("a",{staticClass:"ui blue button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.update_partition()}}},[e._v(e._s(e.$t("ui.general.update")))])],1)],2)]):e._e()},nd=[];function sd(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function ad(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){sd(a,n,s,r,o,"next",e)}function o(e){sd(a,n,s,r,o,"throw",e)}r(void 0)})}}var rd={name:"EditPartition",mixins:[Vu.a],props:{},data:function(){return{is_loading:!1,partition:{},is_trialling:!1,trialed_partition:null,trial_errors:null}},watch:{},mounted:function(){this.fetch_partition()},methods:{clear_dropdown:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.partition.customer_identity=null,$(e).dropdown("clear")},number_with_commas:function(e){return e?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"N/A"},fetch_partition:function(){var e=this,t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_partition).parse({partition_identity:this.$route.params.partition_identity});return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.partition=t.data.partition})["catch"](function(e){return Promise.reject(e)})},trial_partition:function(){var e=this;if(this.trial_errors=null,this.valid()){this.is_trialling=!0;var t=this.partition,i=new RestUrl(this.$store.state.provider.routes.api_v1_provider_partition_trial).parse({partition_identity:this.partition.identity});return axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.trialed_partition=t.data.partition,e.is_trialling=!1):(e.trial_errors=t.data.errors,e.$noty.error(e.$t("ui.notifications.error.verify__name",{name:e.$t("models.partitions")})),e.is_trialling=!1,Promise.reject())})["catch"](function(t){e.$noty.error(e.$t("ui.general.verify")+" "+e.$t("partition")+" "+e.$t("ui.general.error")),e.is_trialling=!1})}},update_partition:function(){var e=ad(regeneratorRuntime.mark(function e(){var t,i,n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.valid()){e.next=7;break}return e.next=3,this.trial_partition();case 3:return this.is_loading=!0,t=this.partition,i=new RestUrl(this.$store.state.provider.routes.api_v1_provider_partition_update).parse({partition_identity:this.partition.identity}),e.abrupt("return",axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){"success"==e.data.status?(n.$store.commit("provider/partitions_module/update_partition",e.data.partition),n.$bus.$emit("out_of_date",n.$store.state.instance_identity,"partitions"),n.$noty.success(n.$t("ui.notifications.success.update__name",{name:n.$t("models.partitions")})),n.$router.push("/provider/partitions"),n.is_loading=!1):(n.$noty.error(n.$t("ui.notifications.error.update__name",{name:n.$t("models.partitions")})),n.is_loading=!1)})["catch"](function(e){console.log(e),n.$noty.error(n.$t("ui.notifications.error.update__name",{name:n.$t("models.partitions")})),n.is_loading=!1}));case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},validator:{target:"partition",localize_key:"partitions",input_alert:!0,attributes:[{name:"name",required:!0},{name:"customer_identity",required:!1},{name:"numbers_from",required:!0},{name:"numbers_to",required:!0},{name:"note",required:!1}]},computed:{current_store:function(e){return e.$store.state.provider.partitions_module},current_customer:function(){var e=this;return _.findLast(this.current_store.customers,function(t){return t.identity==e.partition.customer_identity})}},components:{FileUploader:sc["a"]}},od=rd,cd=Object(Tt["a"])(od,id,nd,!1,null,null,null),_d=cd.exports,ld="provider_partitions",ud="provider_associated_partitions",dd="new_provider_partition",pd="edit_provider_partition",md=[{path:"",component:Eu,name:"provider_partitions",meta:{api_name:["api_v1_provider_partitions"],breadcrumb:[ld],btns:[dd,ud]}},{path:"associated_partitions",component:Gu,name:"provider_associated_partitions",meta:{api_name:["api_v1_provider_associated_partitions"],breadcrumb:[ld,ud],btns:[ld]}},{path:"new",component:td,name:"new_provider_partition",meta:{api_name:"api_v1_provider_partitions_create",breadcrumb:[ld,dd]}},{path:":partition_identity/edit",component:_d,name:"edit_provider_partition",meta:{api_name:"api_v1_provider_partition_update",breadcrumb:[ld,pd]}}],fd=md,hd=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"staffs_layout"}},[e.is_initialized?i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1):i("div",{staticClass:"ui active centered inline large loader"}),i("BackToTopButton",{tag:"div"})],1)},vd=[],gd=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("button",{staticClass:"ui icon blue button back-to-top",attrs:{"data-tooltip":e.$t("ui.toolbox.back_to_top_button.back_to_top")}},[i("i",{staticClass:"long arrow up icon"})])},bd=[],yd={name:"ToolBackToTopButtonMain",data:function(){return{}},mounted:function(){var e=this;$(".back-to-top").css("opacity",0),$(".back-to-top").on("click",function(e){e.preventDefault(),$("html, body").animate({scrollTop:0},300)}),$(window).scroll(function(){var t=$(e).scrollTop(),i=$(".back-to-top").css("opacity");t>400&&"0"==i?$(".back-to-top").animate({opacity:"1"},200):t<400&&"1"==i&&$(".back-to-top").animate({opacity:"0"},200)})}},wd=yd,$d=(n("5b42"),Object(Tt["a"])(wd,gd,bd,!1,null,null,null)),kd=$d.exports;function xd(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function Cd(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){xd(a,n,s,r,o,"next",e)}function o(e){xd(a,n,s,r,o,"throw",e)}r(void 0)})}}var Pd={name:"StaffsLayout",data:function(){return{is_initialized:!1}},created:function(){},mounted:function(){var e=this;this.init(),this.$bus.$off("init"),this.$bus.$on("init",function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.init()})},beforeDestroy:function(){this.$bus.$off("init")},watch:{},methods:{init:function(){var e=Cd(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!1,e()});case 2:return e.next=4,this.$store.dispatch("provider/staffs_module/fetch_roles");case 4:return e.next=6,new Promise(function(e){t.is_initialized=!0});case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{BackToTopButton:kd}},Sd=Pd,Nd=(n("85e5"),Object(Tt["a"])(Sd,hd,vd,!1,null,null,null)),qd=Nd.exports,Ad=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"staffs"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),i("Filters"),i("div",{staticClass:"ui segment"},[e.style.width<767?i("div",{staticStyle:{"margin-bottom":"1em"}},[e.is_loading?i("div",[i("div",{staticClass:"ui active centered inline loader"})]):e._l(e.staffs,function(t){return i("DataCard",{key:t.identity,attrs:{object:t,title:t.name,title_link:{name:"edit_staff",params:{identity:t.identity}},sub_title:e.data_card_sub_title(t),color:e.data_card_color(t),is_show_column:!0,keys:["username","phone","role","theme_name","station"],i_18n_key:"staffs"}},[i("span",{attrs:{slot:"role"},slot:"role"},["manager"==e.$store.state.provider.current_staff.theme_name?i("router-link",{attrs:{"data-tooltip":e.$t("ui.general.edit")+" "+e.$t("models.roles"),to:{name:"edit_role",params:{identity:t.role_identity}}}},[e._v("\n                        "+e._s(e.role_name(t))+"\n                    ")]):i("span",[e._v("\n                        "+e._s(e.role_name(t))+"\n                    ")])],1),i("span",{attrs:{slot:"theme_name"},slot:"theme_name"},[e._v("\n                    "+e._s(e.$t("ui.theme_names."+t.theme_name))+"\n                ")]),i("span",{attrs:{slot:"station"},slot:"station"},[e._v("\n                    "+e._s(e.station_name(t))+"\n                ")]),i("div",{attrs:{slot:"buttons"},slot:"buttons"},[i("router-link",{staticClass:"ui basic blue button",attrs:{to:{name:"appraisals",params:{staff_identity:t.identity}}}},[e._v("\n                        "+e._s(e.$t("ui.pages.staffs.appraisals"))+"\n                    ")]),i("button",{staticClass:"ui basic button",class:{positive:t.is_banned,negative:!t.is_banned},on:{click:function(i){e.toggle_is_banned(t)}}},[t.is_banned?i("span",[e._v("\n                            "+e._s(e.$t("ui.pages.staffs.unbanned"))+"\n                        ")]):i("span",[e._v("\n                            "+e._s(e.$t("ui.pages.staffs.banned"))+"\n                        ")])]),i("a",{staticClass:"ui basic red button",on:{click:function(i){i.preventDefault(),e.delete_staff(t)}}},[e._v("\n                        "+e._s(e.$t("ui.general.delete"))+"\n                    ")])],1)])}),e.staffs.length<=0?i("div",{staticClass:"ui center aligned red segment"},[i("h3",[e._v("\n                    "+e._s(e.$t("ui.general.no_data"))+"\n                ")])]):e._e()],2):i("table",{staticClass:"ui celled table"},[i("thead",{staticClass:"center aligned"},[i("tr",[i("th",[e._v(e._s(e.$t("models.attributes.staffs.username")))]),i("th",[e._v(e._s(e.$t("models.attributes.staffs.name")))]),i("th",[e._v(e._s(e.$t("models.attributes.staffs.phone")))]),i("th",[e._v(e._s(e.$t("models.attributes.staffs.role")))]),i("th",[e._v(e._s(e.$t("models.attributes.staffs.theme_name")))]),i("th",[e._v(e._s(e.$t("models.attributes.staffs.station")))]),i("th",[e._v(e._s(e.$t("ui.pages.staffs.banned")))]),i("th",[e._v(e._s(e.$t("ui.general.operate")))])])]),e.is_loading?i("tbody",{staticClass:"center aligned"},[e._m(0)]):i("tbody",{staticClass:"center aligned"},[e._l(e.staffs,function(e){return i("Staff",{key:e.identity,attrs:{staff:e}})}),e.staffs.length<=0?i("tr",{staticClass:"center aligned"},[i("td",{attrs:{colspan:"8"}},[i("h5",[e._v(e._s(e.$t("ui.general.no_data")))])])]):e._e()],2)]),i("Paginator",{tag:"div",attrs:{total_pages:Number(e.pagination.total_pages),current_page:Number(e.pagination.current_page),disabled:e.is_loading}})])],1)},Ed=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"loading"},[i("td",{attrs:{colspan:"6"}},[i("div",{staticClass:"ui active centered inline loader"})])])}],zd=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.staff?i("tr",[i("td",[e._v(" "+e._s(e.staff.username))]),i("td",[e._v(" "+e._s(e.staff.name))]),i("td",[e._v(" "+e._s(e.staff.phone))]),i("td",["manager"==e.$store.state.provider.current_staff.theme_name?i("router-link",{attrs:{"data-tooltip":e.$t("ui.general.edit")+" "+e.$t("models.roles"),to:{name:"edit_role",params:{identity:e.staff.role_identity}}}},[e._v("\n            "+e._s(e.$parent.role_name(e.staff))+"\n        ")]):i("span",[e._v("\n            "+e._s(e.$parent.role_name(e.staff))+"\n        ")])],1),i("td",[e._v("\n        "+e._s(e.$t("ui.theme_names."+e.staff.theme_name))+"\n    ")]),i("td",[e._v("\n        "+e._s(e.$parent.station_name(e.staff))+"\n    ")]),i("td",[e.staff.is_banned?e._e():i("span",[i("i",{staticClass:"check icon"}),e._v(" "+e._s(e.$t("ui.pages.staffs.normal"))+"\n        ")]),e.staff.is_banned?i("span",[i("i",{staticClass:"remove icon"}),e._v(" "+e._s(e.$t("ui.pages.staffs.banned"))+"\n        ")]):e._e()]),i("td",[i("router-link",{staticClass:"ui basic blue button",attrs:{to:{name:"appraisals",params:{staff_identity:e.staff.identity}}}},[e._v("\n            "+e._s(e.$t("ui.pages.staffs.appraisals"))+"\n        ")]),i("router-link",{staticClass:"ui basic green button",attrs:{to:{name:"edit_staff",params:{identity:e.staff.identity}}}},[e._v("\n            "+e._s(e.$t("ui.general.edit"))+"\n        ")]),i("button",{staticClass:"ui basic button",class:{positive:e.staff.is_banned,negative:!e.staff.is_banned},on:{click:function(t){e.$parent.toggle_is_banned(e.staff)}}},[e.staff.is_banned?i("span",[e._v("\n                "+e._s(e.$t("ui.pages.staffs.unbanned"))+"\n            ")]):i("span",[e._v("\n                "+e._s(e.$t("ui.pages.staffs.banned"))+"\n            ")])]),i("a",{staticClass:"ui basic red button",on:{click:function(t){t.preventDefault(),e.$parent.delete_staff(e.staff)}}},[e._v("\n            "+e._s(e.$t("ui.general.delete"))+"\n        ")])],1)]):e._e()},jd=[],Rd={name:"ProviderStaffsIndexItem",props:{staff:Object},data:function(){return{is_loading:!1}},computed:{},mounted:function(){},methods:{}},Od=Rd,Id=(n("b8af"),Object(Tt["a"])(Od,zd,jd,!1,null,"76267c41",null)),Dd=Id.exports,Ld=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{display:"flex","justify-content":"space-between"},attrs:{id:"staffs_filter"}},[i("div"),i("div",{staticClass:"ui segment",style:{width:e.filter.is_advanced_mode?"100%":"auto",margin:0}},[i("Header",{staticClass:"right floated"}),i("div",{staticClass:"clear"}),i("transition",{attrs:{name:"slide-fade",mode:"out-in"}},[e.filter.is_advanced_mode?i("Advanced"):e._e()],1)],1)])},Td=[],Bd=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"filter_advanced"}},[i("div",{staticClass:"ui form",on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$parent.$parent.staffs_filter()}}},[i("div",{staticClass:"three fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.username")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.username,expression:"filter.columns.username"}],attrs:{type:"text"},domProps:{value:e.filter.columns.username},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"username",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.name,expression:"filter.columns.name"}],attrs:{type:"text"},domProps:{value:e.filter.columns.name},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"name",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.is_banned")))]),i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.is_banned,expression:"filter.columns.is_banned"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.filter.columns.is_banned)?e._i(e.filter.columns.is_banned,null)>-1:e.filter.columns.is_banned},on:{change:function(t){var i=e.filter.columns.is_banned,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=e._i(i,a);n.checked?r<0&&e.$set(e.filter.columns,"is_banned",i.concat([a])):r>-1&&e.$set(e.filter.columns,"is_banned",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.filter.columns,"is_banned",s)}}}),i("label",[e._v(e._s(e.$t("ui.general.yes")))])])])]),i("div",{staticClass:"three fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.role_identity")))]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection fluid dropdown"},[e._l(e.roles,function(t){return e.filter.columns.role_identity==t.identity?i("div",{staticClass:"text"},[e._v("\n                        "+e._s(t.name)+"\n                    ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.roles,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.columns.role_identity==t.identity},on:{click:function(i){e.filter.columns.role_identity=t.identity}}},[e._v("\n                            "+e._s(t.name)+"\n                        ")])}))],2)]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.station_identity")))]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection fluid dropdown"},[e._l(e.stations,function(t){return e.filter.columns.station_identity==t.identity?i("div",{staticClass:"text"},[e._v("\n                        "+e._s(t.name)+"\n                    ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.stations,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.columns.station_identity==t.identity},on:{click:function(i){e.filter.columns.station_identity=t.identity}}},[e._v("\n                            "+e._s(t.name)+"\n                        ")])}))],2)]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.theme_name")))]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection fluid dropdown"},[e._l(e.theme_names,function(t){return e.filter.columns.theme_name==t?i("div",{staticClass:"text"},[i("span",t?[e._v("\n                            "+e._s(e.$t("ui.theme_names."+t))+"\n                        ")]:[e._v("\n                            "+e._s(e.$t("ui.general.please_select"))+"\n                        ")])]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.theme_names,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.columns.theme_name==t},on:{click:function(i){e.filter.columns.theme_name=t}}},[i("span",t?[e._v("\n                                "+e._s(e.$t("ui.theme_names."+t))+"\n                            ")]:[e._v("\n                                "+e._s(e.$t("ui.general.please_select"))+"\n                            ")])])}))],2)])])]),i("div",{staticClass:"ui icon blue button right floated",on:{click:function(t){e.$parent.$parent.staffs_filter()}}},[i("i",{staticClass:"search icon"}),e._v("\n        "+e._s(e.$t("ui.general.search"))+"\n    ")]),i("div",{staticClass:"clear"})])},Md=[],Ud={name:"StaffsFilterAdvanced",data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.provider.staffs_module},filter:function(){return this.current_store.filter},theme_names:function(){return[null].concat(this.$store.state.provider.theme_menu_keys)},roles:function(){return[{name:this.$t("ui.general.please_select"),identity:null}].concat(this.$store.state.provider.staffs_module.roles)},stations:function(){return[{name:this.$t("ui.general.please_select"),identity:null}].concat(this.$store.state.provider.stations)}},created:function(){},mounted:function(){},watch:{},methods:{},components:{}},Fd=Ud,Yd=(n("0919"),Object(Tt["a"])(Fd,Bd,Md,!1,null,"399da065",null)),Gd=Yd.exports,Hd=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{style:e.style.width<470?{textAlign:"right"}:{},attrs:{id:"filter_general"}},[e.filter.is_advanced_mode?e._e():i("div",{staticClass:"ui action input"},[e.style.width>470?i("HeaderInputs"):e._e(),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection dropdown no_search right_radius",staticStyle:{"min-width":"120px"}},[e._l(e.filter.shortcut_keys,function(t){return e.filter.current_shortcut_key==t?i("div",{staticClass:"text"},["is_banned"==e.filter.current_shortcut_key?i("span",[e._v("\n                    "+e._s(e.$t("ui.pages.staffs.is_banned"))+"\n                ")]):i("span",[e._v("\n                    "+e._s(e.$t("models.attributes.staffs."+t))+"\n                ")])]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.filter.shortcut_keys,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.current_shortcut_key==t},on:{click:function(i){e.set_quick_filter(t)}}},[i("span","is_banned"==t?[e._v("\n                        "+e._s(e.$t("ui.pages.staffs.is_banned"))+"\n                    ")]:[e._v("\n                        "+e._s(e.$t("models.attributes.staffs."+t))+"\n                    ")])])}))],2),i("div",{staticClass:"ui button icon",on:{click:function(t){e.$parent.$parent.staffs_filter()}}},[i("i",{staticClass:"search icon"})])],1),e.filter.is_advanced_mode?i("div",{staticClass:"ui basic red icon button",on:{click:function(t){e.$store.commit("provider/staffs_module/init_filter_columns")}}},[i("i",{staticClass:"close icon"}),e._v("\n        "+e._s(e.$t("ui.general.clear"))+"\n    ")]):e._e(),i("div",{staticClass:"ui button icon",style:{height:e.filter.is_advanced_mode?"auto":"38px",paddingTop:e.filter.is_advanced_mode?"":"13px",verticalAlign:e.filter.is_advanced_mode?"":"top",margin:"0 6px"},on:{click:function(t){e.filter.is_advanced_mode=!e.filter.is_advanced_mode}}},[i("i",{staticClass:"bars icon",class:{minus:e.filter.is_advanced_mode,bars:!e.filter.is_advanced_mode}})]),!e.filter.is_advanced_mode&&e.style.width<470&&"is_banned"!=e.filter.current_shortcut_key?i("div",{staticClass:"ui action input",staticStyle:{"padding-top":"9px",width:"100%"}},[i("HeaderInputs")],1):e._e()])},Kd=[],Wd=function(){var e=this,t=e.$createElement,i=e._self._c||t;return"role_identity"!=e.filter.current_shortcut_key&&"station_identity"!=e.filter.current_shortcut_key&&"theme_name"!=e.filter.current_shortcut_key&&"is_banned"!=e.filter.current_shortcut_key?i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns[e.filter.current_shortcut_key],expression:"filter.columns[filter.current_shortcut_key]"}],attrs:{placeholder:e.$t("ui.general.search__key",{key:e.$t("models.attributes.staffs."+e.filter.current_shortcut_key)}),type:"text"},domProps:{value:e.filter.columns[e.filter.current_shortcut_key]},on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$parent.$parent.$parent.staffs_filter()},input:function(t){t.target.composing||e.$set(e.filter.columns,e.filter.current_shortcut_key,t.target.value)}}}):"role_identity"==e.filter.current_shortcut_key?i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection fluid dropdown right_radius",staticStyle:{"min-width":"200px"}},[e._l(e.roles,function(t){return e.filter.columns.role_identity==t.identity?i("div",{staticClass:"text"},[e._v("\n        "+e._s(t.name)+"\n    ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.roles,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.columns.role_identity==t.identity},on:{click:function(i){e.filter.columns.role_identity=t.identity}}},[e._v("\n            "+e._s(t.name)+"\n        ")])}))],2):"station_identity"==e.filter.current_shortcut_key?i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection fluid dropdown right_radius",staticStyle:{"min-width":"200px"}},[e._l(e.stations,function(t){return e.filter.columns.station_identity==t.identity?i("div",{staticClass:"text"},[e._v("\n        "+e._s(t.name)+"\n    ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.stations,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.columns.station_identity==t.identity},on:{click:function(i){e.filter.columns.station_identity=t.identity}}},[e._v("\n            "+e._s(t.name)+"\n        ")])}))],2):"theme_name"==e.filter.current_shortcut_key?i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection fluid dropdown right_radius",staticStyle:{"min-width":"200px"}},[e._l(e.theme_names,function(t){return e.filter.columns.theme_name==t?i("div",{staticClass:"text"},[i("span",t?[e._v("\n            "+e._s(e.$t("ui.theme_names."+t))+"\n        ")]:[e._v("\n            "+e._s(e.$t("ui.general.please_select"))+"\n        ")])]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.theme_names,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.columns.theme_name==t},on:{click:function(i){e.filter.columns.theme_name=t}}},[i("span",t?[e._v("\n                "+e._s(e.$t("ui.theme_names."+t))+"\n            ")]:[e._v("\n                "+e._s(e.$t("ui.general.please_select"))+"\n            ")])])}))],2):e._e()},Vd=[],Xd={name:"StaffsFilterHeaderInputs",data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.provider.staffs_module},filter:function(){return this.current_store.filter},theme_names:function(){return[null].concat(this.$store.state.provider.theme_menu_keys)},roles:function(){return[{name:this.$t("ui.general.please_select"),identity:null}].concat(this.$store.state.provider.staffs_module.roles)},stations:function(){return[{name:this.$t("ui.general.please_select"),identity:null}].concat(this.$store.state.provider.stations)}},created:function(){},mounted:function(){},watch:{},methods:{},components:{}},Qd=Xd,Zd=Object(Tt["a"])(Qd,Wd,Vd,!1,null,null,null),Jd=Zd.exports,ep={name:"StaffsFilterHeader",data:function(){return{is_initialized:!1}},computed:{style:function(){return this.$store.state.style},current_store:function(){return this.$store.state.provider.staffs_module},filter:function(){return this.current_store.filter}},created:function(){},mounted:function(){},watch:{},methods:{set_quick_filter:function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{this.filter.current_shortcut_key=i,_.forEach(this.filter.shortcut_keys,function(e){t.filter.columns[e]=null}),"is_banned"==i&&(this.filter.columns.is_banned=!0)}catch(e){console.log(e)}}},components:{HeaderInputs:Jd}},tp=ep,ip=(n("07e0"),Object(Tt["a"])(tp,Hd,Kd,!1,null,"d21ff99e",null)),np=ip.exports,sp={name:"StaffsFilter",data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.provider.staffs_module},filter:function(){return this.current_store.filter}},created:function(){},mounted:function(){},watch:{"filter.is_advanced_mode":function(e){e||this.$store.commit("provider/staffs_module/init_filter_columns")}},methods:{},components:{Advanced:Gd,Header:np}},ap=sp,rp=Object(Tt["a"])(ap,Ld,Td,!1,null,null,null),op=rp.exports;function cp(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function _p(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){cp(a,n,s,r,o,"next",e)}function o(e){cp(a,n,s,r,o,"throw",e)}r(void 0)})}}var lp={name:"StaffsIndex",data:function(){return{is_initialized:!1,is_loading:!1,errors:[]}},computed:{style:function(){return this.$store.state.style},current_store:function(){return this.$store.state.provider.staffs_module},staffs:function(){return this.current_store.staffs},roles:function(){return this.current_store.roles},pagination:function(){return this.current_store.pagination},filter:function(){return this.current_store.filter}},created:function(){},mounted:function(){this.init()},watch:{$route:function(e,t){this.init(!1)}},methods:{init:function(){var e=_p(regeneratorRuntime.mark(function e(){var t,i=this,n=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=!(n.length>0&&void 0!==n[0])||n[0],e.prev=1,e.next=4,new Promise(function(e){i.is_initialized=!1,i.is_loading=!0,i.errors=[],e()});case 4:return e.next=6,this.$store.dispatch("provider/staffs_module/handle_query_to_filter",{query:this.$route.query});case 6:if(!t){e.next=9;break}return e.next=9,this.$store.dispatch("provider/staffs_module/handle_quick_filter_key");case 9:return e.next=11,this.$store.dispatch("provider/staffs_module/fetch_staffs");case 11:return e.next=13,new Promise(function(e){i.$noty.information(i.$t("ui.page_titles.staffs")+" "+i.$t("ui.general.initialize_complete"),300),e()});case 13:e.next=20;break;case 15:e.prev=15,e.t0=e["catch"](1),console.log("非預期的錯誤: ",e.t0),this.errors.push(e.t0),this.$noty.error(this.$t("ui.notifications.error.fetch__name",{name:this.$t("models.staffs"),reason:e.t0}));case 20:return e.prev=20,this.is_initialized=!0,this.is_loading=!1,e.finish(20);case 24:case"end":return e.stop()}},e,this,[[1,15,20,24]])}));function t(){return e.apply(this,arguments)}return t}(),staffs_filter:function(){console.log("staffs_filter");try{this.$router.push({name:this.$router.name,query:this.$store.getters["provider/staffs_module/filter_to_query"]})}catch(e){console.log(e)}},init_filter_columns:function(){this.$store.commit("provider/staffs_module/init_filter_columns"),$("#staffs .ui.dropdown").dropdown("clear")},toggle_filter:function(){this.$store.commit("provider/staffs_module/toggle_filter")},data_card_sub_title:function(e){return e.is_banned?'<i class="remove icon"></i> '.concat(this.$t("ui.pages.staffs.banned")):'<i class="check icon"></i> '.concat(this.$t("ui.pages.staffs.normal"))},data_card_color:function(e){return e.is_banned?"red":"green"},role_name:function(e){var t=_.find(this.$store.state.provider.staffs_module.roles,function(t){return t.identity==e.role_identity});return t?t.name:"-"},station_name:function(e){var t=_.find(this.$store.state.provider.stations,{identity:e.station_identity});return t?t.name:"-"},delete_staff:function(e){var t=this;if(confirm(this.$t("ui.notifications.warning.are_you_sure_to_delete_it"))){this.is_loading=!0;var i=new RestUrl(this.$store.state.provider.routes.api_v1_provider_staff_delete).parse({identity:e.identity});axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(i){"success"==i.data.status?(t.$noty.success(t.$t("ui.notifications.success.delete__name",{name:e.username})),t.init()):t.$noty.error(t.$t("ui.notifications.error.delete__name",{name:e.username}))})["catch"](function(e){console.log(e.response),t.$noty.error(t.$t("ui.notifications.error.delete__name",{name:t.staff.username}))})["finally"](function(){t.is_loading=!1})}},toggle_is_banned:function(e){var t=this,i=new RestUrl(this.$store.state.provider.routes.api_v1_provider_staff_update).parse({identity:e.identity});axios.post(i,{is_banned:!e.is_banned},{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(i){"success"==i.data.status?(e.is_banned=i.data.staff.is_banned,t.$noty.success(t.$t("ui.notifications.success.update__name",{name:t.$t("models.staffs")})),t.$forceUpdate()):t.$noty.error(t.$t("ui.notifications.error.update__name",{name:t.$t("models.staffs")}))})["catch"](function(e){console.log(e.response)})}},components:{Staff:Dd,Paginator:Ma,ErrorMessages:B_,DataCard:W_,Filters:op}},up=lp,dp=(n("02cd"),Object(Tt["a"])(up,Ad,Ed,!1,null,"35672da4",null)),pp=dp.exports,mp=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"new_staff"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),i("div",{staticClass:"contents"},[i("div",{staticClass:"ui form",class:{loading:e.is_loading}},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.username"))+" "),i("span",[e._v("*")])]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.username,expression:"staff.username"}],attrs:{type:"text",name:"username"},domProps:{value:e.staff.username},on:{input:function(t){t.target.composing||e.$set(e.staff,"username",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.password"))+" "),i("span",[e._v("*")])]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.password,expression:"staff.password"}],attrs:{type:"password",name:"password"},domProps:{value:e.staff.password},on:{input:function(t){t.target.composing||e.$set(e.staff,"password",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.password_confirmation"))+" "),i("span",[e._v("*")])]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.password_confirmation,expression:"staff.password_confirmation"}],attrs:{type:"password",autocomplete:"off",name:"password_confirmation"},domProps:{value:e.staff.password_confirmation},on:{input:function(t){t.target.composing||e.$set(e.staff,"password_confirmation",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.name"))+" "),i("span",[e._v("*")])]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.name,expression:"staff.name"}],attrs:{type:"text",name:"name"},domProps:{value:e.staff.name},on:{input:function(t){t.target.composing||e.$set(e.staff,"name",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.phone")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.phone,expression:"staff.phone"}],attrs:{type:"text",name:"phone"},domProps:{value:e.staff.phone},on:{input:function(t){t.target.composing||e.$set(e.staff,"phone",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.email")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.email,expression:"staff.email"}],attrs:{type:"email",name:"email"},domProps:{value:e.staff.email},on:{input:function(t){t.target.composing||e.$set(e.staff,"email",t.target.value)}}})]),e.roles?i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.role"))+" "),i("span",[e._v("*")])]),i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.staff.role_identity,expression:"staff.role_identity"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.staff,"role_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.$store.state.provider.staffs_module.roles,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2)]):e._e(),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.theme_name"))+" "),i("span",[e._v("*")])]),i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.staff.theme_name,expression:"staff.theme_name"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.staff,"theme_name",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.$store.state.provider.theme_menu_keys,function(t){return i("option",{domProps:{value:t}},[e._v(e._s(e.$t("ui.theme_names."+t)))])})],2)]),i("div",{staticClass:"field"},[i("label",[e._v("\n                    "+e._s(e.$t("models.attributes.staffs.station"))+"\n                    "),e.staff.station_identity?i("i",{staticClass:"pointer remove circle red icon clear_dropdown",on:{click:function(t){e.staff.station_identity=null,e.$(e.$refs.station_identity).dropdown("clear")}}}):e._e()]),i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.staff.station_identity,expression:"staff.station_identity"}],ref:"station_identity",staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.staff,"station_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.$store.state.provider.stations,function(t){return i("option",{domProps:{value:t.identity}},[e._v("\n                        "+e._s(t.name)+"\n                    ")])})],2)]),i("div",{staticClass:"ui basic positive button",on:{click:e.create_staff}},[e._v("\n                "+e._s(e.$t("ui.general.submit"))+"\n            ")]),i("router-link",{staticClass:"ui basic button",attrs:{to:{name:"staffs"}}},[i("i",{staticClass:"undo icon"}),e._v("\n                "+e._s(e.$t("ui.general.back"))+"\n            ")])],1)])],1)},fp=[],hp={name:"NewStaff",data:function(){return{is_loading:!1,staff:{name:null,username:null,email:null,phone:null,password:null,password_confirmation:null,role_identity:null,theme_name:null,station_identity:null},errors:[]}},mounted:function(){this.form_validation()},computed:{operator:function(){return this.$store.state.provider.staffs_module.operator},roles:function(){return this.$store.state.provider.staffs_module.roles}},methods:{create_staff:function(){var e=this,t=_.clone(this.staff);if(this.errors=[],t.username&&t.password&&t.password_confirmation&&t.name&&t.role_identity&&t.theme_name)if(t.password!=t.password_confirmation)this.errors.push("請檢查密碼與確認密碼是否一致");else{var i=this.$store.state.provider.routes.api_v1_provider_staffs_create;this.is_loading=!0,axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?e.$router.push({name:"staffs"}):(console.log(t.data),e.errors=t.data.errors,e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.staffs")})))})["catch"](function(e){console.log(e.response)}).then(function(){e.is_loading=!1})}else this.errors.push(this.$t("ui.notifications.error.please_check_to_write_in_the_required_fields_mark"))},form_validation:function(){$(".ui.form").form({on:"blur",fields:{username:"empty",password:"empty",password_confirmation:"empty",name:"empty",role_identity:"empty"}})}},components:{ErrorMessages:B_}},vp=hp,gp=(n("0d9b"),Object(Tt["a"])(vp,mp,fp,!1,null,"87fe7a1e",null)),bp=gp.exports,yp=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"edit_staff"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),e.is_initialized?i("div",{staticClass:"ui segment"},[e.is_loading?i("div",{staticClass:"ui active centered inline loader"}):i("div",{staticClass:"ui form"},[i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.username")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.username,expression:"staff.username"}],attrs:{type:"text",name:"username"},domProps:{value:e.staff.username},on:{input:function(t){t.target.composing||e.$set(e.staff,"username",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.password"))+" "),i("span",[e._v("*")])]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.password,expression:"staff.password"}],attrs:{type:"password",name:"password"},domProps:{value:e.staff.password},on:{input:function(t){t.target.composing||e.$set(e.staff,"password",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.password_confirmation"))+" "),i("span",[e._v("*")])]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.password_confirmation,expression:"staff.password_confirmation"}],attrs:{type:"password",autocomplete:"off",name:"password_confirmation"},domProps:{value:e.staff.password_confirmation},on:{input:function(t){t.target.composing||e.$set(e.staff,"password_confirmation",t.target.value)}}})]),i("div",{staticClass:"eight wide field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.name,expression:"staff.name"}],attrs:{type:"text",name:"name"},domProps:{value:e.staff.name},on:{input:function(t){t.target.composing||e.$set(e.staff,"name",t.target.value)}}})]),i("div",{staticClass:"eight wide field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.phone")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.phone,expression:"staff.phone"}],attrs:{type:"text",name:"phone"},domProps:{value:e.staff.phone},on:{input:function(t){t.target.composing||e.$set(e.staff,"phone",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.email")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.email,expression:"staff.email"}],attrs:{type:"text",name:"email"},domProps:{value:e.staff.email},on:{input:function(t){t.target.composing||e.$set(e.staff,"email",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.role"))+" "),i("span",[e._v("*")])]),i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.staff.role_identity,expression:"staff.role_identity"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.staff,"role_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.$store.state.provider.staffs_module.roles,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2)]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.theme_name"))+" "),i("span",[e._v("*")])]),i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.staff.theme_name,expression:"staff.theme_name"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.staff,"theme_name",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.$store.state.provider.theme_menu_keys,function(t){return i("option",{domProps:{value:t}},[e._v(e._s(e.$t("ui.theme_names."+t)))])})],2)]),i("div",{staticClass:"field"},[i("label",[e._v("\n                    "+e._s(e.$t("models.attributes.staffs.station"))+"\n                    "),e.staff.station_identity?i("i",{staticClass:"pointer remove circle red icon clear_dropdown",on:{click:function(t){e.staff.station_identity=null,e.$(e.$refs.station_identity).dropdown("clear")}}}):e._e()]),i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.staff.station_identity,expression:"staff.station_identity"}],ref:"station_identity",staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.staff,"station_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.$store.state.provider.stations,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2)]),i("div",{staticClass:"ui basic positive button",on:{click:e.update_staff}},[e._v("\n                "+e._s(e.$t("ui.general.submit"))+"\n            ")]),i("router-link",{staticClass:"ui basic button",attrs:{to:{name:"staffs"}}},[i("i",{staticClass:"undo icon"}),e._v("\n                "+e._s(e.$t("ui.general.back"))+"\n            ")])],1)]):e._e()],1)},wp=[];function $p(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function kp(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){$p(a,n,s,r,o,"next",e)}function o(e){$p(a,n,s,r,o,"throw",e)}r(void 0)})}}var xp={name:"EditStaff",data:function(){return{is_initialized:!1,is_loading:!1,errors:[],staff:{}}},computed:{},created:function(){this.init()},methods:{init:function(){var e=kp(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!1,e()});case 2:return e.next=4,this.fetch_staff();case 4:return e.next=6,this.form_validation();case 6:return e.next=8,new Promise(function(e){t.is_initialized=!0,e()});case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_staff:function(){var e=this,t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_staff).parse({identity:this.$route.params.identity});return this.is_loading=!0,axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.staff=t.data.staff,e.staff.password=null,e.staff.password_confirmation=null):e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.staffs")}))})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.staffs"),reason:": "+t}))}).then(function(){e.is_loading=!1})},form_validation:function(){$(".ui.form").form({on:"blur",fields:{name:"empty",username:"empty"}})},update_staff:function(){var e=this,t=this.staff;if(this.errors=[],""!=t.password&&t.password!=t.password_confirmation){var i="密碼錯誤";this.errors.push(i),this.$noty.error(i)}else{delete t.password_confirmation;var n=new RestUrl(this.$store.state.provider.routes.api_v1_provider_staff_update).parse({identity:this.$route.params.identity});this.is_loading=!0,axios.post(n,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.staff=t.data.staff,e.staff.password=null,e.staff.password_confirmation=null,e.$store.dispatch("provider/fetch_current_staff"),e.$store.dispatch("provider/fetch_current_staff_permissions"),e.$router.push({name:"staffs"})):e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.staffs")}))})["catch"](function(e){console.log(e.response)}).then(function(){setTimeout(function(){e.is_loading=!1},300)})}}},components:{ErrorMessages:B_}},Cp=xp,Pp=(n("fb72"),Object(Tt["a"])(Cp,yp,wp,!1,null,"27a0071c",null)),Sp=Pp.exports,Np="staffs",qp="new_staff",Ap="edit_staff",Ep=[{path:"/",component:pp,name:"staffs",meta:{api_name:"api_v1_provider_staffs",breadcrumb:[Np],btns:[qp]}},{path:"new",component:bp,name:"new_staff",meta:{api_name:"api_v1_provider_staffs_create",breadcrumb:[Np,qp]}},{path:":identity/edit",component:Sp,name:"edit_staff",meta:{api_name:"api_v1_provider_staff_update",breadcrumb:[Np,Ap]}}],zp=Ep,jp=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"roles_layout"}},[e.is_initialized?i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1):i("div",{staticClass:"ui active centered inline large loader"}),i("BackToTopButton",{tag:"div"})],1)},Rp=[];function Op(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function Ip(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){Op(a,n,s,r,o,"next",e)}function o(e){Op(a,n,s,r,o,"throw",e)}r(void 0)})}}var Dp={name:"RolesLayout",data:function(){return{is_initialized:!1,errors:[]}},computed:{},created:function(){},mounted:function(){var e=this;e.init(),e.$bus.$off("init"),e.$bus.$on("init",function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.init()}.bind(this))},beforeDestroy:function(){this.$bus.$off("init")},watch:{},methods:{init:function(){var e=Ip(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,new Promise(function(e){t.is_initialized=!1,e()});case 4:return e.next=6,t.$store.dispatch("provider/roles_module/fetch_permissions");case 6:return e.next=8,t.$store.dispatch("provider/roles_module/fetch_permission_groups");case 8:return e.next=10,new Promise(function(e){t.is_initialized=!0,t.$noty.information(t.$t("ui.page_titles.roles")+" "+t.$t("ui.general.initialize_complete"),300),e()});case 10:e.next=26;break;case 12:e.prev=12,e.t0=e["catch"](1),e.t1=e.t0,e.next="Failed to fetch Permissions."===e.t1?17:"Error to fetch Permissions."===e.t1?19:"Failed to fetch PermissionGroups."===e.t1?21:"Error to fetch PermissionGroups."===e.t1?23:25;break;case 17:return t.$noty.error("無法取得 權限列表"),e.abrupt("break",25);case 19:return t.$noty.error("無法取得 權限列表，狀態異常"),e.abrupt("break",25);case 21:return t.$noty.error("無法取得 權限群組"),e.abrupt("break",25);case 23:return t.$noty.error("無法取得 權限群組"),e.abrupt("break",25);case 25:t.is_initialized=!0;case 26:case"end":return e.stop()}},e,this,[[1,12]])}));function t(){return e.apply(this,arguments)}return t}()},components:{BackToTopButton:kd}},Lp=Dp,Tp=(n("89ed"),Object(Tt["a"])(Lp,jp,Rp,!1,null,null,null)),Bp=Tp.exports,Mp=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"roles"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),i("table",{staticClass:"ui celled table"},[i("thead",{staticClass:"center aligned"},[i("tr",[i("th",[e._v(e._s(e.$t("models.attributes.roles.name")))]),i("th")])]),e.is_loading?i("tbody",{staticClass:"center aligned"},[e._m(0)]):i("tbody",{staticClass:"center aligned"},[e._l(e.roles,function(e){return i("Role",{key:e.identity,attrs:{role:e}})}),e.roles.length<=0?i("tr",{staticClass:"center aligned"},[i("td",{attrs:{colspan:"2"}},[i("h5",[e._v(e._s(e.$t("ui.general.no_data")))])])]):e._e()],2)]),i("Paginator",{tag:"div",attrs:{total_pages:e.total_pages,current_page:e.current_page,change_page_channel:"index_page",disabled:e.is_loading}})],1)},Up=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"loading"},[i("td",{attrs:{colspan:"2"}},[i("div",{staticClass:"ui active centered inline loader"})])])}],Fp=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",[i("td",[e._v(" "+e._s(e.role.name))]),i("td",[e.$store.getters["provider/is_pass_permissons"](["api_v1_provider_role_update"])?i("router-link",{staticClass:"ui basic green button",attrs:{to:{name:"edit_role",params:{identity:e.role.identity}}}},[e._v("\n            "+e._s(e.$t("ui.general.edit"))+"\n        ")]):e._e(),e.$store.getters["provider/is_pass_permissons"](["api_v1_provider_role_delete"])?i("button",{staticClass:"ui basic red button",on:{click:function(t){t.preventDefault(),e.delete_role()}}},[e._v("\n            "+e._s(e.$t("ui.general.delete"))+"\n        ")]):e._e()],1)])},Yp=[],Gp={name:"ProviderRolesIndexItem",props:{role:Object},data:function(){return{}},computed:{},mounted:function(){},methods:{delete_role:function(){var e=this;if(e.$store.getters["provider/is_pass_permissons"](["api_v1_provider_role_delete"])&&confirm(this.$t("ui.notifications.warning.are_you_sure_to_delete_it"))){var t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_role_delete).parse({identity:e.role.identity});axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$parent.init(),e.$noty.success(e.$t("ui.notifications.success.delete__name",{name:e.role.name})),e.$store.dispatch("provider/fetch_current_staff"),e.$store.dispatch("provider/fetch_current_staff_permissions")):(console.log(t.data),e.$noty.error(e.$t("ui.notifications.error.delete__name",{name:e.role.name})))})["catch"](function(t){console.log(t.response),e.$noty.error(e.$t("ui.notifications.error.delete__name",{name:e.role.name}))})}}}},Hp=Gp,Kp=(n("2675"),Object(Tt["a"])(Hp,Fp,Yp,!1,null,"3b8c999c",null)),Wp=Kp.exports;function Vp(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function Xp(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){Vp(a,n,s,r,o,"next",e)}function o(e){Vp(a,n,s,r,o,"throw",e)}r(void 0)})}}var Qp={name:"RolesIndex",data:function(){return{is_initialized:!1,is_loading:!1,roles:[],errors:[]}},computed:{current_page:function(){return this.$store.state.provider.roles_module.pagination.current_page},total_pages:function(){return this.$store.state.provider.roles_module.pagination.total_pages}},created:function(){},mounted:function(){this.init()},watch:{},methods:{init:function(){var e=Xp(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,new Promise(function(e){t.is_initialized=!1,e()});case 4:return e.next=6,t.fetch_roles();case 6:return e.next=8,new Promise(function(e){t.is_initialized=!0,e()});case 8:e.next=13;break;case 10:switch(e.prev=10,e.t0=e["catch"](1),e.t0){default:t.$noty.error("非預期的錯誤: "+e.t0),console.log("非預期的錯誤: "),console.log(e.t0)}case 13:return e.prev=13,t.$bus.$off("index_page"),t.$bus.$on("index_page",function(e){t.fetch_roles(e)}.bind(this)),e.finish(13);case 17:case"end":return e.stop()}},e,this,[[1,10,13,17]])}));function t(){return e.apply(this,arguments)}return t}(),fetch_roles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this;if(0==t.is_loading){t.errors=[],t.is_loading=!0;var i=new RestUrl(t.$store.state.provider.routes.api_v1_provider_roles).parse({},"?page="+e);return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){"success"==e.data.status?(t.roles=e.data.roles,t.$store.commit("provider/roles_module/set_current_page",e.data.pagination.current_page),t.$store.commit("provider/roles_module/set_total_pages",e.data.pagination.total_pages)):(console.log(e.data),t.errors=e.data.errors,t.$noty.error(t.$t("ui.notifications.error.fetch__name",{name:t.$t("models.roles"),reason:": "+e.data.errors})))})["catch"](function(e){console.log(e.reponse),t.$noty.error(t.$t("ui.notifications.error.fetch__name",{name:t.$t("models.roles"),reason:": "+e}))}).then(function(){setTimeout(function(){t.is_loading=!1},300)})}}},components:{Role:Wp,Paginator:Ma,ErrorMessages:B_}},Zp=Qp,Jp=(n("624c"),Object(Tt["a"])(Zp,Mp,Up,!1,null,"771bcbb7",null)),em=Jp.exports,tm=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"edit_role"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),e.is_initialized?i("div",{staticClass:"contents"},[e.is_loading?i("div",{staticClass:"ui active centered inline loader"}):i("div",{staticClass:"ui form"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.roles.name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.role.name,expression:"role.name"}],staticClass:"name",attrs:{type:"text"},domProps:{value:e.role.name},on:{input:function(t){t.target.composing||e.$set(e.role,"name",t.target.value)}}})]),i("PermissionsTable",{tag:"div",attrs:{role:e.role}}),i("div",{staticClass:"ui basic positive button",on:{click:e.update_role}},[e._v("\n                "+e._s(e.$t("ui.general.submit"))+"\n            ")]),i("router-link",{staticClass:"ui basic button",attrs:{to:{name:"roles"}}},[i("i",{staticClass:"undo icon"}),e._v("\n                "+e._s(e.$t("ui.general.back"))+"\n            ")])],1)]):e._e()],1)},im=[],nm=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"permissions"}},[e.is_show_permission_groups?i("div",[e._m(0),e.permission_groups.length?i("div",{staticClass:"fields",staticStyle:{"flex-wrap":"wrap"}},e._l(e.permission_groups,function(t){return i("div",{staticClass:"field",staticStyle:{margin:"6px"}},[i("div",{staticClass:"ui slider checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.checked,expression:"permission_group.checked"}],attrs:{type:"checkbox",id:t.identity},domProps:{checked:Array.isArray(t.checked)?e._i(t.checked,null)>-1:t.checked},on:{click:function(i){e.toggle_permissions(i,t.permission_identities,!0)},change:function(i){var n=t.checked,s=i.target,a=!!s.checked;if(Array.isArray(n)){var r=null,o=e._i(n,r);s.checked?o<0&&e.$set(t,"checked",n.concat([r])):o>-1&&e.$set(t,"checked",n.slice(0,o).concat(n.slice(o+1)))}else e.$set(t,"checked",a)}}}),i("label",{staticStyle:{position:"relative"},attrs:{for:t.identity}},[e._v("\n                        "+e._s(t.name)+"\n                        "),t.identity?i("router-link",{staticStyle:{"font-size":"smaller"},attrs:{to:{name:"edit_permission_group",params:{identity:t.identity}}}},[e._v("\n                            ["+e._s(e.$t("ui.general.edit"))+"]\n                        ")]):e._e()],1)])])})):i("div",{staticClass:"fields"},[i("div",{staticClass:"field"}),i("div",{staticClass:"field"},[e._v("目前無任何群組")])])]):e._e(),e.is_initialized?i("div",{staticClass:"field"},[i("label",[e._v("細部權限")]),i("table",{staticClass:"ui striped table"},[i("tbody",e._l(e.grouped_permissions,function(t){return t.permissions.length?i("tr",[i("td",[i("div",{staticClass:"ui checkbox toggle"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.checked,expression:"grouped_permission.checked"}],attrs:{type:"checkbox",id:t.name},domProps:{checked:Array.isArray(t.checked)?e._i(t.checked,null)>-1:t.checked},on:{click:function(i){e.toggle_permissions(i,t.permissions)},change:function(i){var n=t.checked,s=i.target,a=!!s.checked;if(Array.isArray(n)){var r=null,o=e._i(n,r);s.checked?o<0&&e.$set(t,"checked",n.concat([r])):o>-1&&e.$set(t,"checked",n.slice(0,o).concat(n.slice(o+1)))}else e.$set(t,"checked",a)}}}),i("label",{attrs:{for:t.name}},[e._v("\n                                "+e._s(t.name)+"\n                            ")])])]),i("td",[i("div",{staticClass:"ui horizontal relaxed list"},e._l(t.permissions,function(t){return i("div",{staticClass:"item"},[i("div",{staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.role.permission_identities,expression:"role.permission_identities"}],attrs:{type:"checkbox",id:"check"+t.identity},domProps:{value:t.identity,checked:Array.isArray(e.role.permission_identities)?e._i(e.role.permission_identities,t.identity)>-1:e.role.permission_identities},on:{change:function(i){var n=e.role.permission_identities,s=i.target,a=!!s.checked;if(Array.isArray(n)){var r=t.identity,o=e._i(n,r);s.checked?o<0&&e.$set(e.role,"permission_identities",n.concat([r])):o>-1&&e.$set(e.role,"permission_identities",n.slice(0,o).concat(n.slice(o+1)))}else e.$set(e.role,"permission_identities",a)}}}),i("label",{attrs:{for:"check"+t.identity}},[e._v("\n                                        "+e._s(t.name)+"\n                                    ")])])])}))])]):e._e()}))])]):e._e()])},sm=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"field"},[i("label",[e._v("權限群組")])])}];function am(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function rm(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){am(a,n,s,r,o,"next",e)}function o(e){am(a,n,s,r,o,"throw",e)}r(void 0)})}}var om={name:"ProviderRolesPermissionsTable",props:{is_show_permission_groups:{type:Boolean,default:!0},role:Object},data:function(){return{is_initialized:!1,grouped_permissions:[],permission_groups:[],list:[]}},mounted:function(){var e=this;e.init()},watch:{role_permission_identities:function(){var e=this;e.permission_checkbox_switch_permissions_toggle()},permissions:function(){var e=this;e.init()}},computed:{role_permission_identities:function(){return this.role.permission_identities},permissions:function(){return this.$store.state.provider.roles_module.permissions}},methods:{init:function(){var e=rm(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,t.handle_service_config_menu_name();case 3:return e.next=5,t.init_grouped_permissions();case 5:return e.next=7,t.init_permission_groups();case 7:return e.next=9,t.permission_checkbox_switch_permissions_toggle();case 9:return e.next=11,new Promise(function(e){t.is_initialized=!0,e()});case 11:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),handle_service_config_menu_name:function(){var e=this;return e.list=[],_.forEach(e.$store.state.provider.service_config.menu,function(t){t.items?_.forEach(t.items,function(t){e.list.push({name:e.handle_list_name_remove_string_s(t.name)})}):e.list.push({name:e.handle_list_name_remove_string_s(t.name)})}),Promise.resolve()},handle_list_name_remove_string_s:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{if(!t)throw!1;var i=t.match(/(.+)s/i);return i?i[1]:t}catch(e){return!1}},init_grouped_permissions:function(){var e=this;return e.grouped_permissions_array=[],_.map(e.list,function(t){t.checked=!1;var i=[];_.forEach(e.permissions,function(n){var s=t.name;"user_log"==s&&(s="log"),"uploader"==s&&(s="file"),"-1"!=n.name.indexOf(s)&&(i.push(n),e.grouped_permissions_array.push(n))}),t.permissions=_.sortBy(i,[function(e){return e.name}])}),e.grouped_permissions=e.list,Promise.resolve()},init_permission_groups:function(){var e=this,t=$.extend(!0,[],e.$store.state.provider.roles_module.permission_groups);return _.map(t,function(e){e.checked=!1}),e.permission_groups=t,Promise.resolve()},toggle_permissions:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this,s=_.map(t,function(e){return e.identity});i&&(s=t);var a=n.role.permission_identities;a=e.target.checked?_.concat(a,s):_.pullAll(a,s),n.role.permission_identities=_.sortBy(_.union(a))},permission_checkbox_switch_permissions_toggle:function(){var e=this;return _.map(e.grouped_permissions,function(t){var i=[];_.map(t.permissions,function(t){i.push(_.findLast(e.role.permission_identities,function(e){return e==t.identity}))});var n=_.remove(i,_.isUndefined);0==n.length?t.checked=!0:t.checked=!1}),e.is_show_permission_groups&&e.toggle_permission_switch_toggle_permission_groups(),Promise.resolve()},toggle_permission_switch_toggle_permission_groups:function(){var e=this;_.map(e.permission_groups,function(t){var i=[];_.map(t.permission_identities,function(t){i.push(_.findLast(e.role.permission_identities,function(e){return e==t}))});var n=_.remove(i,_.isUndefined);0==n.length?t.checked=!0:t.checked=!1})}}},cm=om,_m=(n("4157"),Object(Tt["a"])(cm,nm,sm,!1,null,null,null)),lm=_m.exports;function um(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function dm(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){um(a,n,s,r,o,"next",e)}function o(e){um(a,n,s,r,o,"throw",e)}r(void 0)})}}var pm={name:"EditRole",data:function(){return{is_initialized:!1,is_loading:!1,errors:[],role:{}}},computed:{},created:function(){},mounted:function(){this.init()},methods:{init:function(){var e=dm(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,t.fetch_role();case 5:return e.next=7,new Promise(function(e){t.is_loading=!1,t.is_initialized=!0,e()});case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_role:function(){var e=this,t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_role).parse({identity:e.$route.params.identity});return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?e.role=t.data.role:(console.log(t.data),e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.roles")})))})["catch"](function(t){console.log(t),e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.roles"),reason:": "+t}))})},update_role:function(){var e=this,t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_role_update).parse({identity:e.$route.params.identity});e.errors=[],e.is_loading=!0,axios.post(t,e.role,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$noty.success(e.$t("ui.notifications.success.update__name",{name:e.$t("models.roles")})),e.$store.dispatch("provider/fetch_current_staff"),e.$store.dispatch("provider/fetch_current_staff_permissions"),e.$router.push({name:"roles"})):(console.log(reponse.data),e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.roles")})))})["catch"](function(t){console.log(t.reponse),e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.roles")}))}).then(function(){setTimeout(function(){e.is_loading=!1},300)})}},components:{PermissionsTable:lm,ErrorMessages:B_}};var mm=pm,fm=Object(Tt["a"])(mm,tm,im,!1,null,null,null),hm=fm.exports,vm=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"new"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),i("div",{staticClass:"contents"},[i("div",{staticClass:"ui form",class:{loading:e.is_loading}},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.roles.name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.role.name,expression:"role.name"}],staticClass:"name",attrs:{type:"text"},domProps:{value:e.role.name},on:{input:function(t){t.target.composing||e.$set(e.role,"name",t.target.value)}}})]),i("PermissionsTable",{tag:"div",attrs:{role:e.role}}),i("div",{staticClass:"ui basic positive button",on:{click:e.create}},[e._v("\n                "+e._s(e.$t("ui.general.submit"))+"\n            ")]),i("router-link",{staticClass:"ui basic button",attrs:{to:{name:"roles"}}},[i("i",{staticClass:"undo icon"}),e._v("\n                "+e._s(e.$t("ui.general.back"))+"\n            ")])],1)])],1)},gm=[],bm={name:"NewRole",data:function(){return{is_loading:!1,errors:[],role:{name:null,permission_identities:[]}}},mounted:function(){},computed:{},methods:{create:function(){var e=this,t=e.$store.state.provider.routes.api_v1_provider_role_create;e.errors=[],e.is_loading=!0,axios.post(t,e.role,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$noty.success(e.$t("ui.notifications.success.create__name",{name:e.$t("models.roles")})),e.$router.push({name:"roles"})):(console.log(reponse.data),e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.roles")})))})["catch"](function(t){console.log(t.response),e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.roles")}))}).then(function(){e.is_loading=!0})}},components:{PermissionsTable:lm,ErrorMessages:B_}},ym=bm,wm=Object(Tt["a"])(ym,vm,gm,!1,null,null,null),$m=wm.exports,km="roles",xm="new_role",Cm="edit_role",Pm=[{path:"/",component:em,name:"roles",meta:{api_name:"api_v1_provider_roles",breadcrumb:[km],btns:[xm]}},{path:"new",component:$m,name:"new_role",meta:{api_name:"api_v1_provider_role_create",breadcrumb:[km,xm]}},{path:":identity/edit",component:hm,name:"edit_role",meta:{api_name:"api_v1_provider_role_update",breadcrumb:[km,Cm]}}],Sm=Pm,Nm=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"distributions_layout"}},[e.is_initialized?i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1):e._e(),i("div",{staticClass:"ui inverted dimmer transition",class:{active:!e.is_initialized}},[i("div",{staticClass:"ui text loader"},[e._v(e._s(e.$t("ui.general.initializing")))])])],1)},qm=[];function Am(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function Em(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){Am(a,n,s,r,o,"next",e)}function o(e){Am(a,n,s,r,o,"throw",e)}r(void 0)})}}var zm={name:"DistributionsLayout",data:function(){return{is_initialized:!1,errors:[]}},computed:{},watch:{},created:function(){},mounted:function(){var e=this;this.init(),this.$bus.$off("init"),this.$bus.$on("init",function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.init()})},beforeDestroy:function(){this.$bus.$off("init")},methods:{init:function(){var e=Em(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!1,e()});case 2:return e.next=4,this.$store.dispatch("provider/distributions_module/fetch_materials");case 4:return e.next=6,new Promise(function(e){t.is_initialized=!0,t.$noty.information(t.$t("ui.page_titles.provider_distributions")+" "+t.$t("ui.general.initialize_complete"),300),e()});case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{}},jm=zm,Rm=Object(Tt["a"])(jm,Nm,qm,!1,null,null,null),Om=Rm.exports,Im=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"distributions"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),i("Filters"),i("div",{staticClass:"ui segment"},[e.style.width<767?i("div",{staticStyle:{"margin-bottom":"1em"}},[e.is_loading?i("div",[i("div",{staticClass:"ui active centered inline loader"})]):e._l(e.distributions,function(t){return i("DataCard",{key:t.identity,attrs:{object:t,title:t.name?t.name:"-",title_link:{name:"edit_provider_distribution",params:{identity:t.identity}},sub_title:e.data_card_sub_title(t),color:t.is_activated?"":"red",is_show_column:!0,keys:["priority","strategy","station","material"],i_18n_key:"distributions"}},[i("span",{attrs:{slot:"strategy"},slot:"strategy"},["direct"==t.strategy?i("span",[e._v("\n                        "+e._s(e.$t("ui.pages.distributions.filter.direct"))+"\n                    ")]):"intermodal"==t.strategy?i("span",[e._v("\n                        "+e._s(e.$t("ui.pages.distributions.filter.intermodal"))+"\n                    ")]):i("span",[e._v("\n                        "+e._s(t.strategy)+"\n                    ")])]),i("span",{attrs:{slot:"station"},slot:"station"},[e._v("\n                    "+e._s(t.station?t.station.name:"-")+"\n                ")]),i("span",{attrs:{slot:"material"},slot:"material"},[e._v("\n                    "+e._s(t.material?t.material.name:"-")+"\n                ")]),i("div",{attrs:{slot:"buttons"},slot:"buttons"},[i("div",{staticClass:"ui basic red button",on:{click:function(i){i.preventDefault(),e.delete_distribution(t)}}},[e._v("\n                        "+e._s(e.$t("ui.general.delete"))+"\n                    ")])])])}),!e.is_loading&&e.distributions.length<=0?i("div",{staticClass:"ui center aligned red segment"},[i("h3",[e._v("\n                    "+e._s(e.$t("ui.general.no_data"))+"\n                ")])]):e._e()],2):i("table",{staticClass:"ui compact celled table"},[i("thead",{staticClass:"center aligned"},[i("tr",[i("th",[e._v(e._s(e.$t("models.attributes.distributions.priority")))]),i("th",[e._v(e._s(e.$t("models.attributes.distributions.name")))]),i("th",[e._v(e._s(e.$t("models.attributes.distributions.strategy")))]),i("th",[e._v(e._s(e.$t("models.attributes.distributions.station")))]),i("th",[e._v(e._s(e.$t("models.attributes.distributions.material")))]),i("th",[e._v(e._s(e.$t("models.attributes.distributions.is_activated")))]),i("th",[e._v(e._s(e.$t("ui.general.operate")))])])]),e.is_loading?i("tbody",{staticClass:"center aligned"},[e._m(0)]):i("tbody",{staticClass:"center aligned"},[e._l(e.distributions,function(e){return i("Distribution",{key:e.identity,attrs:{distribution:e}})}),e.distributions.length<=0?i("tr",{staticClass:"center aligned"},[i("td",{attrs:{colspan:"7"}},[i("h5",[e._v(e._s(e.$t("ui.general.no_data")))])])]):e._e()],2)]),e.distributions.length>0?i("Paginator",{attrs:{total_pages:Number(e.pagination.total_pages),current_page:Number(e.pagination.current_page)}}):e._e()],1)],1)},Dm=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"loading"},[i("td",{attrs:{colspan:"7"}},[i("div",{staticClass:"ui active centered inline loader"})])])}],Lm=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{display:"flex","justify-content":"space-between"},attrs:{id:"distributions_filter"}},[i("div"),i("div",{staticClass:"ui segment",style:{width:e.filter.is_advanced_mode?"100%":"auto",margin:0}},[i("Header",{staticClass:"right floated"}),i("div",{staticClass:"clear"}),i("transition",{attrs:{name:"slide-fade",mode:"out-in"}},[e.filter.is_advanced_mode?i("Advanced"):e._e()],1)],1)])},Tm=[],Bm=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"filter_advanced"}},[i("div",{staticClass:"ui form",on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$parent.$parent.distributions_filter()}}},[i("div",{staticClass:"three fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.distributions.name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.name,expression:"filter.columns.name"}],attrs:{type:"text"},domProps:{value:e.filter.columns.name},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"name",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.distributions.strategy_value")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.strategy_value,expression:"filter.columns.strategy_value"}],attrs:{type:"text"},domProps:{value:e.filter.columns.strategy_value},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"strategy_value",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.distributions.strategy")))]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection fluid dropdown"},[e._l(e.strategies,function(t){return e.filter.columns.strategy==t.value?i("div",{staticClass:"text"},[e._v("\n                        "+e._s(t.name)+"\n                    ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.strategies,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.columns.strategy==t.value},on:{click:function(i){e.filter.columns.strategy=t.value}}},[e._v("\n                            "+e._s(t.name)+"\n                        ")])}))],2)])]),i("div",{staticClass:"four fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.distributions.priority")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.priority,expression:"filter.columns.priority"}],attrs:{type:"text"},domProps:{value:e.filter.columns.priority},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"priority",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.distributions.station_identity")))]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection fluid dropdown"},[e._l(e.stations,function(t){return e.filter.columns.station_identity==t.identity?i("div",{staticClass:"text"},[e._v("\n                        "+e._s(t.name)+"\n                    ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.stations,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.columns.station_identity==t.identity},on:{click:function(i){e.filter.columns.station_identity=t.identity}}},[e._v("\n                            "+e._s(t.name)+"\n                        ")])}))],2)]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.distributions.material_identity")))]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection fluid dropdown"},[e._l(e.materials,function(t){return e.filter.columns.material_identity==t.identity?i("div",{staticClass:"text"},[e._v("\n                        "+e._s(t.name)+"\n                    ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.materials,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.columns.material_identity==t.identity},on:{click:function(i){e.filter.columns.material_identity=t.identity}}},[e._v("\n                            "+e._s(t.name)+"\n                        ")])}))],2)]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.distributions.is_activated")))]),i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.is_activated,expression:"filter.columns.is_activated"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.filter.columns.is_activated)?e._i(e.filter.columns.is_activated,null)>-1:e.filter.columns.is_activated},on:{change:function(t){var i=e.filter.columns.is_activated,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=e._i(i,a);n.checked?r<0&&e.$set(e.filter.columns,"is_activated",i.concat([a])):r>-1&&e.$set(e.filter.columns,"is_activated",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.filter.columns,"is_activated",s)}}}),i("label",[e._v(e._s(e.$t("ui.general.yes")))])])])])]),i("div",{staticClass:"ui icon blue button right floated",on:{click:function(t){e.$parent.$parent.distributions_filter()}}},[i("i",{staticClass:"search icon"}),e._v("\n        "+e._s(e.$t("ui.general.search"))+"\n    ")]),i("div",{staticClass:"clear"})])},Mm=[],Um={name:"DistributionsFilterAdvanced",data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.provider.distributions_module},filter:function(){return this.current_store.filter},stations:function(){return[{name:this.$t("ui.general.please_select"),identity:null}].concat(this.$store.state.provider.stations)},materials:function(){return[{name:this.$t("ui.general.please_select"),identity:null}].concat(this.$store.state.provider.distributions_module.materials)},strategies:function(){return[{name:this.$t("ui.general.please_select"),value:null},{name:this.$t("ui.pages.distributions.filter.direct"),value:"direct"},{name:this.$t("ui.pages.distributions.filter.intermodal"),value:"intermodal"}]}},created:function(){},mounted:function(){},watch:{},methods:{},components:{}},Fm=Um,Ym=(n("5f74"),Object(Tt["a"])(Fm,Bm,Mm,!1,null,"1d67d8cc",null)),Gm=Ym.exports,Hm=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{style:e.style.width<470?{textAlign:"right"}:{},attrs:{id:"filter_general"}},[e.filter.is_advanced_mode?e._e():i("div",{staticClass:"ui action input"},[e.style.width>470?i("HeaderInputs"):e._e(),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection dropdown no_search right_radius",staticStyle:{"min-width":"120px"}},[e._l(e.filter.shortcut_keys,function(t){return e.filter.current_shortcut_key==t?i("div",{staticClass:"text"},[i("span","is_activated"==t?[e._v("\n                    "+e._s(e.$t("ui.pages.distributions.activated"))+"\n                ")]:[e._v("\n                    "+e._s(e.$t("models.attributes.distributions."+t))+"\n                ")])]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.filter.shortcut_keys,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.current_shortcut_key==t},on:{click:function(i){e.set_quick_filter(t)}}},[i("span","is_activated"==t?[e._v("\n                        "+e._s(e.$t("ui.pages.distributions.activated"))+"\n                    ")]:[e._v("\n                        "+e._s(e.$t("models.attributes.distributions."+t))+"\n                    ")])])}))],2),i("div",{staticClass:"ui button icon",on:{click:function(t){e.$parent.$parent.distributions_filter()}}},[i("i",{staticClass:"search icon"})])],1),e.filter.is_advanced_mode?i("div",{staticClass:"ui basic red icon button",on:{click:function(t){e.$store.commit("provider/distributions_module/init_filter_columns")}}},[i("i",{staticClass:"close icon"}),e._v("\n        "+e._s(e.$t("ui.general.clear"))+"\n    ")]):e._e(),i("div",{staticClass:"ui button icon",style:{height:e.filter.is_advanced_mode?"auto":"38px",paddingTop:e.filter.is_advanced_mode?"":"13px",verticalAlign:e.filter.is_advanced_mode?"":"top",margin:"0 6px"},on:{click:function(t){e.filter.is_advanced_mode=!e.filter.is_advanced_mode}}},[i("i",{staticClass:"bars icon",class:{minus:e.filter.is_advanced_mode,bars:!e.filter.is_advanced_mode}})]),!e.filter.is_advanced_mode&&e.style.width<470&&"is_activated"!=e.filter.current_shortcut_key?i("div",{staticClass:"ui action input",staticStyle:{"padding-top":"9px",width:"100%"}},[i("HeaderInputs")],1):e._e()])},Km=[],Wm=function(){var e=this,t=e.$createElement,i=e._self._c||t;return"station_identity"!=e.filter.current_shortcut_key&&"material_identity"!=e.filter.current_shortcut_key&&"is_activated"!=e.filter.current_shortcut_key&&"strategy"!=e.filter.current_shortcut_key?i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns[e.filter.current_shortcut_key],expression:"filter.columns[filter.current_shortcut_key]"}],attrs:{placeholder:e.$t("ui.general.search__key",{key:e.$t("models.attributes.distributions."+e.filter.current_shortcut_key)}),type:"text"},domProps:{value:e.filter.columns[e.filter.current_shortcut_key]},on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$parent.$parent.$parent.distributions_filter()},input:function(t){t.target.composing||e.$set(e.filter.columns,e.filter.current_shortcut_key,t.target.value)}}}):"station_identity"==e.filter.current_shortcut_key?i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection fluid dropdown right_radius",staticStyle:{"min-width":"200px"}},[e._l(e.stations,function(t){return e.filter.columns.station_identity==t.identity?i("div",{staticClass:"text"},[e._v("\n        "+e._s(t.name)+"\n    ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.stations,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.columns.station_identity==t.identity},on:{click:function(i){e.filter.columns.station_identity=t.identity}}},[e._v("\n            "+e._s(t.name)+"\n        ")])}))],2):"material_identity"==e.filter.current_shortcut_key?i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection fluid dropdown right_radius",staticStyle:{"min-width":"200px"}},[e._l(e.materials,function(t){return e.filter.columns.material_identity==t.identity?i("div",{staticClass:"text"},[e._v("\n        "+e._s(t.name)+"\n    ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.materials,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.columns.material_identity==t.identity},on:{click:function(i){e.filter.columns.material_identity=t.identity}}},[e._v("\n            "+e._s(t.name)+"\n        ")])}))],2):"strategy"==e.filter.current_shortcut_key?i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection fluid dropdown right_radius",staticStyle:{"min-width":"200px"}},[e._l(e.strategies,function(t){return e.filter.columns.strategy==t.value?i("div",{staticClass:"text"},[e._v("\n        "+e._s(t.name)+"\n    ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.strategies,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.columns.strategy==t.value},on:{click:function(i){e.filter.columns.strategy=t.value}}},[e._v("\n            "+e._s(t.name)+"\n        ")])}))],2):e._e()},Vm=[],Xm={name:"DistributionsFilterHeaderInputs",data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.provider.distributions_module},filter:function(){return this.current_store.filter},stations:function(){return[{name:this.$t("ui.general.please_select"),identity:null}].concat(this.$store.state.provider.stations)},materials:function(){return[{name:this.$t("ui.general.please_select"),identity:null}].concat(this.$store.state.provider.distributions_module.materials)},strategies:function(){return[{name:this.$t("ui.general.please_select"),value:null},{name:this.$t("ui.pages.distributions.filter.direct"),value:"direct"},{name:this.$t("ui.pages.distributions.filter.intermodal"),value:"intermodal"}]}},created:function(){},mounted:function(){},watch:{},methods:{},components:{}},Qm=Xm,Zm=Object(Tt["a"])(Qm,Wm,Vm,!1,null,null,null),Jm=Zm.exports,ef={name:"DistributionsFilterHeader",data:function(){return{is_initialized:!1}},computed:{style:function(){return this.$store.state.style},current_store:function(){return this.$store.state.provider.distributions_module},filter:function(){return this.current_store.filter}},created:function(){},mounted:function(){},watch:{},methods:{set_quick_filter:function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{this.filter.current_shortcut_key=i,_.forEach(this.filter.shortcut_keys,function(e){t.filter.columns[e]=null}),"is_activated"==i&&(this.filter.columns.is_activated=!0)}catch(e){console.log(e)}}},components:{HeaderInputs:Jm}},tf=ef,nf=(n("69d8"),Object(Tt["a"])(tf,Hm,Km,!1,null,"be99e106",null)),sf=nf.exports,af={name:"DistributionsFilter",data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.provider.distributions_module},filter:function(){return this.current_store.filter}},created:function(){},mounted:function(){},watch:{"filter.is_advanced_mode":function(e){e||this.$store.commit("provider/distributions_module/init_filter_columns")}},methods:{},components:{Advanced:Gm,Header:sf}},rf=af,of=Object(Tt["a"])(rf,Lm,Tm,!1,null,null,null),cf=of.exports,_f=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"center aligned"},[i("td",[e._v(" "+e._s(e.distribution.priority||"-")+" ")]),i("td",[e._v(" "+e._s(e.distribution.name||"-")+" ")]),i("td",["direct"==e.distribution.strategy?i("span",[e._v("\n            "+e._s(e.$t("ui.pages.distributions.filter.direct"))+"\n        ")]):"intermodal"==e.distribution.strategy?i("span",[e._v("\n            "+e._s(e.$t("ui.pages.distributions.filter.intermodal"))+"\n        ")]):i("span",[e._v("\n            "+e._s(e.distribution.strategy)+"\n        ")])]),i("td",[e._v(" "+e._s(e.distribution.station?e.distribution.station.name:"-")+" ")]),i("td",[e._v(" "+e._s(e.distribution.material?e.distribution.material.name:"-")+" ")]),i("td",[e.distribution.is_activated?i("i",{staticClass:"check icon"}):i("i",{staticClass:"remove icon"})]),i("td",{staticClass:"center aligned"},[i("router-link",{staticClass:"ui basic primary button",attrs:{to:{name:"edit_provider_distribution",params:{identity:e.distribution.identity}}}},[e._v("\n            "+e._s(e.$t("ui.general.detail"))+"\n        ")]),i("button",{staticClass:"ui basic negative button",class:{loading:e.distribution.is_processing},on:{click:function(t){e.$parent.delete_distribution(e.distribution)}}},[e._v("\n            "+e._s(e.$t("ui.general.delete"))+"\n        ")])],1)])},lf=[],uf={name:"ProviderDistributionsIndexItem",props:{distribution:Object},data:function(){return{is_processing:!1}},computed:{},created:function(){},mounted:function(){},watch:{},methods:{},components:{}},df=uf,pf=Object(Tt["a"])(df,_f,lf,!1,null,null,null),mf=pf.exports;function ff(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function hf(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){ff(a,n,s,r,o,"next",e)}function o(e){ff(a,n,s,r,o,"throw",e)}r(void 0)})}}var vf={name:"DistributionsIndex",data:function(){return{is_initialized:!1,is_loading:!1,errors:[]}},created:function(){},mounted:function(){this.init()},watch:{$route:function(e,t){this.init(!1)}},computed:{style:function(){return this.$store.state.style},current_store:function(){return this.$store.state.provider.distributions_module},distributions:function(){return this.current_store.distributions},pagination:function(){return this.current_store.pagination},filter:function(){return this.current_store.filter},current_page:function(){return this.current_store.pagination.current_page},total_pages:function(){return this.current_store.pagination.total_pages},stations:function(){return this.$store.state.provider.stations},materials:function(){return this.$store.state.provider.distributions_module.materials},strategies:function(){return[{name:this.$t("ui.pages.distributions.filter.direct"),value:"direct"},{name:this.$t("ui.pages.distributions.filter.intermodal"),value:"intermodal"}]}},methods:{init:function(){var e=hf(regeneratorRuntime.mark(function e(){var t,i=this,n=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=!(n.length>0&&void 0!==n[0])||n[0],e.prev=1,e.next=4,new Promise(function(e){i.is_initialized=!1,i.is_loading=!0,e()});case 4:return e.next=6,this.$store.dispatch("provider/distributions_module/handle_query_to_filter",{query:this.$route.query});case 6:if(!t){e.next=9;break}return e.next=9,this.$store.dispatch("provider/distributions_module/handle_quick_filter_key");case 9:return e.next=11,this.$store.dispatch("provider/distributions_module/fetch_distributions");case 11:e.next=16;break;case 13:switch(e.prev=13,e.t0=e["catch"](1),e.t0){default:this.$noty.error("非預期的錯誤: "+e.t0),console.log("非預期的錯誤: "),console.log(e.t0)}case 16:return e.prev=16,this.is_loading=!1,this.is_initialized=!0,e.finish(16);case 20:case"end":return e.stop()}},e,this,[[1,13,16,20]])}));function t(){return e.apply(this,arguments)}return t}(),distributions_filter:function(){console.log("distributions_filter");try{this.$router.push({name:this.$router.name,query:this.$store.getters["provider/distributions_module/filter_to_query"]})}catch(e){console.log(e)}},data_card_sub_title:function(e){var t=e.is_activated?"check":"remove";return'<i class="'.concat(t,' icon" style="margin: 0;"></i>')},delete_distribution:function(e){var t=this;if(confirm(this.$t("ui.notifications.warning.are_you_sure_to_delete_it"))){e.is_processing=!0;var i=new RestUrl(this.$store.state.provider.routes.api_v1_provider_distribution_delete).parse({distribution_identity:e.identity});axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(i){if("success"==i.data.status){t.$noty.success("轄區移除成功");var n=_.findIndex(t.distributions,function(t){return t.identity==e.identity});t.distributions.splice(n,1)}else t.$noty.error("轄區移除失敗")})["catch"](function(e){console.log(e),e.response?t.$noty.error(t.$t("ui.general.network_abnormality")+": "+e.response.status+e.response.data):t.$noty.error(t.$t("ui.general.network_abnormality")+": "+t.$t("ui.general.server_offline"))}),e.is_processing=!1}}},components:{Distribution:mf,Paginator:Ma,ErrorMessages:B_,DataCard:W_,Filters:cf}},gf=vf,bf=(n("6fd5"),Object(Tt["a"])(gf,Im,Dm,!1,null,"0bffcc49",null)),yf=bf.exports,wf=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"edit_distribution"}},[e.is_loading||!e.is_initialized?i("div",[i("div",{staticClass:"ui inverted dimmer transition visible active",staticStyle:{display:"block !important"}},[i("div",{staticClass:"ui text loader"},[e._v("\n                "+e._s(e.$t("ui.general.initializing"))+"\n            ")])])]):i("div",{staticClass:"contents"},[i("table",{staticClass:"ui fixed table form"},[i("thead",[i("tr",[i("th",{staticClass:"right aligned"},[i("h3",{staticClass:"ui header"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.distribution.name,expression:"distribution.name"}],attrs:{type:"text"},domProps:{value:e.distribution.name},on:{input:function(t){t.target.composing||e.$set(e.distribution,"name",t.target.value)}}})])]),i("th",{attrs:{colspan:"4"}}),i("th")])]),i("tbody",[i("tr",[i("td",{class:e.style.width<767?"":"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.distributions.strategy"))+"\n                    ")]),i("td",{staticStyle:{overflow:"visible"},attrs:{colspan:"5"}},[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.distribution.strategy,expression:"distribution.strategy"}],on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.distribution,"strategy",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.strategies,function(t){return i("option",{domProps:{value:t.value}},[e._v(e._s(t.name))])})],2)])]),"intermodal"==e.distribution.strategy?i("tr",[i("td",{class:e.style.width<767?"":"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.distributions.strategy_value"))+"\n                    ")]),i("td",{staticClass:"ui form",attrs:{colspan:"5"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.distribution.strategy_value,expression:"distribution.strategy_value"}],attrs:{type:"text"},domProps:{value:e.distribution.strategy_value},on:{input:function(t){t.target.composing||e.$set(e.distribution,"strategy_value",t.target.value)}}})])]):e._e(),i("tr",[i("td",{class:e.style.width<767?"":"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.distributions.priority"))+"\n                    ")]),i("td",{staticClass:"ui form",attrs:{colspan:"5"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.distribution.priority,expression:"distribution.priority"}],attrs:{type:"number"},domProps:{value:e.distribution.priority},on:{input:function(t){t.target.composing||e.$set(e.distribution,"priority",t.target.value)}}})])]),i("tr",[i("td",{class:e.style.width<767?"":"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.distributions.station"))+"\n                    ")]),i("td",{staticClass:"ui form",staticStyle:{overflow:"visible"},attrs:{colspan:"5"}},[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.distribution.station_identity,expression:"distribution.station_identity"}],ref:"station_selector",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.distribution,"station_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.stations,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2),i("button",{staticClass:"ui basic icon button",on:{click:function(t){e.distribution.station_identity=null,e.$(e.$refs.station_selector).dropdown("clear")}}},[i("i",{staticClass:"remove icon"})])])]),i("tr",[i("td",{class:e.style.width<767?"":"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.distributions.material"))+"\n                    ")]),i("td",{staticClass:"ui form",staticStyle:{overflow:"visible"},attrs:{colspan:"5"}},[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.distribution.material_identity,expression:"distribution.material_identity"}],ref:"material_selector",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.distribution,"material_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.materials,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2),i("button",{staticClass:"ui basic icon button",on:{click:function(t){e.distribution.material_identity=null,e.$(e.$refs.material_selector).dropdown("clear")}}},[i("i",{staticClass:"remove icon"})])])]),i("tr",[i("td",{class:e.style.width<767?"":"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.distributions.is_activated"))+"\n                    ")]),i("td",{staticClass:"ui form",attrs:{colspan:"5"}},[i("div",{staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.distribution.is_activated,expression:"distribution.is_activated"}],attrs:{type:"checkbox",id:"is_activated"},domProps:{checked:Array.isArray(e.distribution.is_activated)?e._i(e.distribution.is_activated,null)>-1:e.distribution.is_activated},on:{change:function(t){var i=e.distribution.is_activated,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=e._i(i,a);n.checked?r<0&&e.$set(e.distribution,"is_activated",i.concat([a])):r>-1&&e.$set(e.distribution,"is_activated",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.distribution,"is_activated",s)}}}),i("label",{staticClass:"pointer",attrs:{for:"is_activated"}},[e.distribution.is_activated?i("span",[e._v("\n                                    "+e._s(e.$t("ui.pages.distributions.activated"))+"\n                                ")]):i("span",[e._v("\n                                    "+e._s(e.$t("ui.pages.distributions.unactivated"))+"\n                                ")])])])])]),i("tr",[i("td",{attrs:{colspan:"6"}},[i("table",{staticClass:"ui three column table"},[i("thead",[i("tr",[i("th",[e._v(e._s(e.$t("ui.pages.distributions.condition_type")))]),i("th",[e._v(e._s(e.$t("ui.pages.distributions.content")))]),i("th",[i("button",{staticClass:"ui basic positive fluid button",on:{click:function(t){e.distribution.distribution_conditions.push({address_type:"administrative_area_level_1",address_name:"",_delete:!1})}}},[i("i",{staticClass:"plus icon"}),e._v(e._s(e.$t("ui.pages.distributions.add_condition"))+"\n                                        ")])])])]),i("tbody",e._l(e.distribution.distribution_conditions,function(t,n){return i("tr",{key:t.identity,class:{negative:t._delete}},[i("td",{class:{"disabled input":t._delete},staticStyle:{overflow:"visible"}},[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:t.address_type,expression:"condition.address_type"}],on:{change:function(i){var n=Array.prototype.filter.call(i.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(t,"address_type",i.target.multiple?n:n[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.address_types,function(t){return i("option",{domProps:{value:t.value}},[e._v(e._s(t.name))])})],2)]),i("td",{class:{"disabled input":t._delete}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.address_name,expression:"condition.address_name"}],attrs:{type:"text"},domProps:{value:t.address_name},on:{input:function(i){i.target.composing||e.$set(t,"address_name",i.target.value)}}})]),i("td",[i("button",{staticClass:"ui basic fluid button",class:{positive:t._delete,negative:!t._delete},on:{click:function(e){t._delete=!t._delete}}},[t._delete?i("span",[i("i",{staticClass:"refresh icon"}),e._v("\n                                                "+e._s(e.$t("ui.pages.distributions.undo"))+"\n                                            ")]):i("span",[i("i",{staticClass:"remove icon"}),e._v("\n                                                "+e._s(e.$t("ui.general.delete"))+"\n                                            ")])])])])})),i("tfoot",[i("tr",[i("td",{attrs:{colspan:"6"}},[i("div",{staticClass:"ui icon message"},[i("i",{staticClass:"info icon"}),i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                                                    "+e._s(e.$t("ui.pages.distributions.add_condition_help"))+"\n                                                ")]),i("p",[e._v(" "+e._s(e.$t("ui.pages.distributions.add_condition_help_content_1"))+" ")]),i("p",[e._v(" "+e._s(e.$t("ui.pages.distributions.add_condition_help_content_2"))+" ")])])])])])])])])]),i("tr",[i("td",{attrs:{colspan:"6"}},[i("button",{staticClass:"ui basic fluid positive button",on:{click:function(t){return t.preventDefault(),e.update_distribution(t)}}},[e._v(e._s(e.$t("ui.general.update")))])])])])])])])},$f=[];function kf(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function xf(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){kf(a,n,s,r,o,"next",e)}function o(e){kf(a,n,s,r,o,"throw",e)}r(void 0)})}}var Cf={name:"EditDistribution",props:{},data:function(){return{is_initialized:!1,is_loading:!1,distribution:{},errors:[]}},watch:{},created:function(){},mounted:function(){this.init()},computed:{style:function(){return this.$store.state.style},strategies:function(){return[{name:"站點直派",value:"direct"},{name:"轉聯運",value:"intermodal"}]},stations:function(){return this.$store.state.provider.stations},materials:function(){return this.$store.state.provider.distributions_module.materials},address_types:function(){return[{name:"Country",value:"country"},{name:"直轄市",value:"administrative_area_level_1"},{name:"縣/省轄市",value:"administrative_area_level_2"},{name:"直轄市區/省轄市區/縣轄鄉鎮市",value:"administrative_area_level_3"},{name:"路",value:"route"},{name:"郵遞區號",value:"postal_code"}]}},methods:{init:function(){var e=xf(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!1,e()});case 2:return e.next=4,this.fetch_distribution();case 4:return e.next=6,new Promise(function(e){t.is_initialized=!0,e()});case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_distribution:function(){var e=this;this.is_loading=!0;var t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_distribution).parse({distribution_identity:this.$route.params.identity});return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){return"success"==t.data.status?(e.distribution=t.data.distribution,_.forEach(e.distribution.distribution_conditions,function(t){e.$set(t,"_delete",!1)})):"failure"==t.data.status&&(e.errors=t.data.errors,e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.distributions"),reason:": "+t.data.errors}))),e.is_loading=!1,t})["catch"](function(t){return e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.distributions"),reason:": "+e.$t("ui.general.network_abnormality")+","+t.response.status})),Promise.reject(t)})},update_distribution:function(){var e=this;this.is_loading=!0;var t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_distribution_update).parse({distribution_identity:this.$route.params.identity}),i=_.cloneDeep(this.distribution);delete i.identity,delete i.node_identity,delete i.material,axios.post(t,i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$noty.success(e.$t("ui.notifications.success.update__name",{name:e.$t("models.distributions")})),e.init()):(e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.distributions"),reason:": "+t.data.errors})),e.errors=t.data.errors)})["catch"](function(t){console.log(t),e.$noty.error(e.$t("ui.general.network_abnormality"))})}},components:{}},Pf=Cf,Sf=Object(Tt["a"])(Pf,wf,$f,!1,null,"2358462b",null),Nf=Sf.exports,qf=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"new_distribution"}},[e.is_loading||!e.is_initialized?i("div",[i("div",{staticClass:"ui inverted dimmer transition visible active",staticStyle:{display:"block !important"}},[i("div",{staticClass:"ui text loader"},[e._v("\n                "+e._s(e.$t("ui.general.initializing"))+"\n            ")])])]):i("div",{staticClass:"contents"},[i("table",{staticClass:"ui fixed table form"},[i("thead",[i("tr",[i("th",{staticClass:"right aligned"},[i("h3",{staticClass:"ui header"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.distribution.name,expression:"distribution.name"}],attrs:{type:"text",placeholder:e.$t("models.attributes.distributions.name")},domProps:{value:e.distribution.name},on:{input:function(t){t.target.composing||e.$set(e.distribution,"name",t.target.value)}}})])]),i("th",{attrs:{colspan:"4"}}),i("th")])]),i("tbody",[i("tr",[i("td",{class:e.style.width<767?"":"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.distributions.strategy"))+"\n                    ")]),i("td",{staticStyle:{overflow:"visible"},attrs:{colspan:"5"}},[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.distribution.strategy,expression:"distribution.strategy"}],on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.distribution,"strategy",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.strategies,function(t){return i("option",{domProps:{value:t.value}},[e._v(e._s(t.name))])})],2)])]),"intermodal"==e.distribution.strategy?i("tr",[i("td",{class:e.style.width<767?"":"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.distributions.strategy_value"))+"\n                    ")]),i("td",{staticClass:"ui form",attrs:{colspan:"5"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.distribution.strategy_value,expression:"distribution.strategy_value"}],attrs:{type:"text"},domProps:{value:e.distribution.strategy_value},on:{input:function(t){t.target.composing||e.$set(e.distribution,"strategy_value",t.target.value)}}})])]):e._e(),i("tr",[i("td",{class:e.style.width<767?"":"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.distributions.priority"))+"\n                    ")]),i("td",{staticClass:"ui form",attrs:{colspan:"5"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.distribution.priority,expression:"distribution.priority"}],attrs:{type:"number"},domProps:{value:e.distribution.priority},on:{input:function(t){t.target.composing||e.$set(e.distribution,"priority",t.target.value)}}})])]),i("tr",[i("td",{class:e.style.width<767?"":"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.distributions.station"))+"\n                    ")]),i("td",{staticClass:"ui form",staticStyle:{overflow:"visible"},attrs:{colspan:"5"}},[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.distribution.station_identity,expression:"distribution.station_identity"}],ref:"station_selector",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.distribution,"station_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.stations,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2),i("button",{staticClass:"ui basic icon button",on:{click:function(t){e.distribution.station_identity=null,e.$(e.$refs.station_selector).dropdown("clear")}}},[i("i",{staticClass:"remove icon"})])])]),i("tr",[i("td",{class:e.style.width<767?"":"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.distributions.material"))+"\n                    ")]),i("td",{staticClass:"ui form",staticStyle:{overflow:"visible"},attrs:{colspan:"5"}},[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.distribution.material_identity,expression:"distribution.material_identity"}],ref:"material_selector",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.distribution,"material_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.materials,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2),i("button",{staticClass:"ui basic icon button",on:{click:function(t){e.distribution.material_identity=null,e.$(e.$refs.material_selector).dropdown("clear")}}},[i("i",{staticClass:"remove icon"})])])]),i("tr",[i("td",{class:e.style.width<767?"":"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.distributions.is_activated"))+"\n                    ")]),i("td",{staticClass:"ui form",attrs:{colspan:"5"}},[i("div",{staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.distribution.is_activated,expression:"distribution.is_activated"}],attrs:{type:"checkbox",id:"is_activated"},domProps:{checked:Array.isArray(e.distribution.is_activated)?e._i(e.distribution.is_activated,null)>-1:e.distribution.is_activated},on:{change:function(t){var i=e.distribution.is_activated,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=e._i(i,a);n.checked?r<0&&e.$set(e.distribution,"is_activated",i.concat([a])):r>-1&&e.$set(e.distribution,"is_activated",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.distribution,"is_activated",s)}}}),i("label",{staticClass:"pointer",attrs:{for:"is_activated"}},[e.distribution.is_activated?i("span",[e._v("\n                                    "+e._s(e.$t("ui.pages.distributions.activated"))+"\n                                ")]):i("span",[e._v("\n                                    "+e._s(e.$t("ui.pages.distributions.unactivated"))+"\n                                ")])])])])]),i("tr",[i("td",{attrs:{colspan:"6"}},[i("table",{staticClass:"ui three column table"},[i("thead",[i("tr",[i("th",[e._v(e._s(e.$t("ui.pages.distributions.condition_type")))]),i("th",[e._v(e._s(e.$t("ui.pages.distributions.content")))]),i("th",[i("button",{staticClass:"ui basic positive fluid button",on:{click:function(t){e.distribution.distribution_conditions.push({address_type:"administrative_area_level_1",address_name:"",_delete:!1})}}},[i("i",{staticClass:"plus icon"}),e._v(e._s(e.$t("ui.pages.distributions.add_condition"))+"\n                                        ")])])])]),i("tbody",e._l(e.distribution.distribution_conditions,function(t,n){return i("tr",{key:t.identity,class:{negative:t._delete}},[i("td",{class:{"disabled input":t._delete},staticStyle:{overflow:"visible"}},[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:t.address_type,expression:"condition.address_type"}],on:{change:function(i){var n=Array.prototype.filter.call(i.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(t,"address_type",i.target.multiple?n:n[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.address_types,function(t){return i("option",{domProps:{value:t.value}},[e._v(e._s(t.name))])})],2)]),i("td",{class:{"disabled input":t._delete}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.address_name,expression:"condition.address_name"}],attrs:{type:"text"},domProps:{value:t.address_name},on:{input:function(i){i.target.composing||e.$set(t,"address_name",i.target.value)}}})]),i("td",[i("button",{staticClass:"ui basic fluid button",class:{positive:t._delete,negative:!t._delete},on:{click:function(e){t._delete=!t._delete}}},[t._delete?i("span",[i("i",{staticClass:"refresh icon"}),e._v("\n                                                "+e._s(e.$t("ui.pages.distributions.undo"))+"\n                                            ")]):i("span",[i("i",{staticClass:"remove icon"}),e._v("\n                                                "+e._s(e.$t("ui.general.delete"))+"\n                                            ")])])])])})),i("tfoot",[i("tr",[i("td",{attrs:{colspan:"6"}},[i("div",{staticClass:"ui icon message"},[i("i",{staticClass:"info icon"}),i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                                                    "+e._s(e.$t("ui.pages.distributions.add_condition_help"))+"\n                                                ")]),i("p",[e._v(" "+e._s(e.$t("ui.pages.distributions.add_condition_help_content_1"))+" ")]),i("p",[e._v(" "+e._s(e.$t("ui.pages.distributions.add_condition_help_content_2"))+" ")])])])])])])])])]),i("tr",[i("td",{attrs:{colspan:"6"}},[i("button",{staticClass:"ui basic fluid positive button",on:{click:function(t){return t.preventDefault(),e.create_distribution(t)}}},[e._v(e._s(e.$t("ui.general.create")))])])])])])])])},Af=[];function Ef(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function zf(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){Ef(a,n,s,r,o,"next",e)}function o(e){Ef(a,n,s,r,o,"throw",e)}r(void 0)})}}var jf={name:"NewDistribution",props:{},data:function(){return{is_initialized:!1,is_loading:!1,distribution:{},errors:[]}},watch:{},created:function(){},mounted:function(){this.init()},computed:{style:function(){return this.$store.state.style},strategies:function(){return[{name:"站點直派",value:"direct"},{name:"轉聯運",value:"intermodal"}]},stations:function(){return this.$store.state.provider.stations},materials:function(){return this.$store.state.provider.distributions_module.materials},address_types:function(){return[{name:"直轄市",value:"administrative_area_level_1"},{name:"縣/省轄市",value:"administrative_area_level_2"},{name:"直轄市區/省轄市區/縣轄鄉鎮市",value:"administrative_area_level_3"},{name:"路",value:"route"},{name:"郵遞區號",value:"postal_code"}]}},methods:{init:function(){var e=zf(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!1,t.distribution={name:null,strategy:null,strategy_value:null,priority:null,station_identity:null,material_identity:null,is_activated:!0,distribution_conditions:[]},e()});case 2:return e.next=4,new Promise(function(e){t.is_initialized=!0,e()});case 4:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),create_distribution:function(){var e=this;this.is_loading=!0;var t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_distributions_create).parse({}),i=_.cloneDeep(this.distribution);axios.post(t,i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$noty.success(e.$t("ui.notifications.success.create__name",{name:e.$t("models.distributions")})),e.$router.push({name:"provider_distributions"})):(e.errors=t.data.errors,e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.distributions"),reason:": "+t.data.errors})))})["catch"](function(t){console.log(t),e.$noty.error(e.$t("ui.general.network_abnormality"))}).then(function(){setTimeout(function(){e.is_loading=!1},300)})}},components:{}},Rf=jf,Of=Object(Tt["a"])(Rf,qf,Af,!1,null,"1fa9168c",null),If=Of.exports,Df="provider_distributions",Lf="new_provider_distribution",Tf="edit_provider_distribution",Bf=[{path:"",component:yf,name:"provider_distributions",meta:{api_name:"api_v1_provider_materials",breadcrumb:[Df],btns:[Lf]}},{path:"edit/:identity",component:Nf,name:"edit_provider_distribution",meta:{api_name:"api_v1_provider_distribution_update",breadcrumb:[Df,Tf]}},{path:"new",component:If,name:"new_provider_distribution",meta:{api_name:"api_v1_provider_distributions_create",breadcrumb:[Df,Lf]}}],Mf=Bf,Uf=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"staffs_layout"}},[e.is_initialized?i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1):i("div",{staticClass:"ui active centered inline large loader"}),i("BackToTopButton",{tag:"div"})],1)},Ff=[];function Yf(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function Gf(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){Yf(a,n,s,r,o,"next",e)}function o(e){Yf(a,n,s,r,o,"throw",e)}r(void 0)})}}var Hf={name:"DriverCommissionsLayout",data:function(){return{is_initialized:!1,errors:[]}},computed:{},created:function(){},mounted:function(){var e=this;this.init(),this.$bus.$off("init"),this.$bus.$on("init",function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.init()})},beforeDestroy:function(){this.$bus.$off("init")},watch:{},methods:{init:function(){var e=Gf(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!1,e()});case 2:return e.next=4,this.$store.dispatch("provider/driver_commissions_module/fetch_staffs");case 4:return e.next=6,new Promise(function(e){t.is_initialized=!0,e()});case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{BackToTopButton:kd}},Kf=Hf,Wf=Object(Tt["a"])(Kf,Uf,Ff,!1,null,null,null),Vf=Wf.exports,Xf=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"x_scrollable",attrs:{id:"driver_commissions"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),i("Filters"),i("div",{staticClass:"ui segment"},[e.style.width<767?i("div",{staticStyle:{"margin-bottom":"1em"}},[e.is_loading?i("div",[i("div",{staticClass:"ui active centered inline loader"})]):e._l(e.driver_commissions,function(t){return i("DataCard",{key:t.identity,attrs:{object:t,title:t.staff?t.staff.name:"-",date:e.human_datetime(t.created_at),sub_title:e.data_card_sub_title(t),is_show_column:!0,keys:["core_waybill_number"],i_18n_key:"driver_commissions"}},[i("span",{attrs:{slot:"core_waybill_number"},slot:"core_waybill_number"},[t.core_waybill?i("router-link",{attrs:{to:{name:"edit_core_waybill",params:{identity:t.core_waybill.identity}}}},[e._v("\n                        "+e._s(t.core_waybill.number)+"\n                    ")]):i("span",[e._v("\n                        -\n                    ")])],1)])}),!e.is_loading&&e.driver_commissions.length<=0?i("div",{staticClass:"ui center aligned red segment"},[i("h3",[e._v("\n                    "+e._s(e.$t("ui.general.no_data"))+"\n                ")])]):e._e()],2):i("table",{staticClass:"ui compact celled table"},[i("thead",{staticClass:"center aligned"},[i("tr",[i("th",[e._v(e._s(e.$t("ui.pages.driver_commissions.driver")))]),i("th",[e._v(e._s(e.$t("ui.pages.driver_commissions.core_waybill_number")))]),i("th",[e._v(e._s(e.$t("models.attributes.driver_commissions.amount")))]),i("th",[e._v(e._s(e.$t("models.attributes.driver_commissions.created_at")))])])]),e.is_loading?i("tbody",{staticClass:"center aligned"},[e._m(0)]):i("tbody",{staticClass:"center aligned"},[e._l(e.driver_commissions,function(e){return i("DriverCommission",{key:e.identity,attrs:{driver_commission:e}})}),e.driver_commissions.length<=0?i("tr",{staticClass:"center aligned"},[i("td",{attrs:{colspan:"4"}},[i("h5",[e._v(e._s(e.$t("ui.general.no_data")))])])]):e._e()],2)]),i("Paginator",{attrs:{total_pages:e.pagination.total_pages,current_page:e.pagination.current_page,disabled:e.is_loading}})],1)],1)},Qf=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"loading"},[i("td",{attrs:{colspan:"4"}},[i("div",{staticClass:"ui active centered inline loader"})])])}],Zf=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{display:"flex","justify-content":"space-between"},attrs:{id:"operations_filter"}},[i("div"),i("div",{staticClass:"ui segment",style:{width:"100%",margin:0}},[i("Header",{staticClass:"right floated"})],1)])},Jf=[],eh=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{style:e.style.width<470?{textAlign:"right"}:{},attrs:{id:"filter_general"}},[e.filter.is_advanced_mode?e._e():i("div",{staticClass:"ui action input"},[e.style.width>470?i("HeaderInputs"):e._e(),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection dropdown no_search right_radius",staticStyle:{"min-width":"120px"}},[e._l(e.filter.shortcut_keys,function(t){return e.filter.current_shortcut_key==t?i("div",{staticClass:"text"},[i("span",[e._v("\n                    "+e._s(e.$t("ui.pages.driver_commissions."+("staff_identity"==t?"driver":t)))+"\n                ")])]):e._e()}),i("div",{staticClass:"menu"},e._l(e.filter.shortcut_keys,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.current_shortcut_key==t}},[e._v("\n                    "+e._s(e.$t("ui.pages.driver_commissions."+("staff_identity"==t?"driver":t)))+"\n                ")])}))],2),i("div",{staticClass:"ui button icon",on:{click:function(t){e.$parent.$parent.driver_commissions_filter()}}},[i("i",{staticClass:"search icon"})])],1),!e.filter.is_advanced_mode&&e.style.width<470&&"is_done"!=e.filter.current_shortcut_key&&"is_canceled"!=e.filter.current_shortcut_key?i("div",{staticClass:"ui action input",staticStyle:{"padding-top":"9px",width:"100%"}},[i("HeaderInputs")],1):e._e()])},th=[],ih=function(){var e=this,t=e.$createElement,i=e._self._c||t;return"staff_identity"!=e.filter.current_shortcut_key&&"driver_commission_policy_identity"!=e.filter.current_shortcut_key&&"amount"!=e.filter.current_shortcut_key&&"polarity"!=e.filter.current_shortcut_key?i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns[e.filter.current_shortcut_key],expression:"filter.columns[filter.current_shortcut_key]"}],attrs:{placeholder:e.$t("ui.general.search__key",{key:e.$t("models.attributes.driver_commissions."+e.filter.current_shortcut_key)}),type:"text"},domProps:{value:e.filter.columns[e.filter.current_shortcut_key]},on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$parent.$parent.$parent.driver_commissions_filter()},input:function(t){t.target.composing||e.$set(e.filter.columns,e.filter.current_shortcut_key,t.target.value)}}}):"staff_identity"==e.filter.current_shortcut_key?i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection fluid dropdown right_radius",staticStyle:{"min-width":"200px"}},[e._l(e.staffs,function(t){return e.filter.columns.staff_identity==t.identity?i("div",{staticClass:"text"},[e._v("\n        "+e._s(t.name)+"\n    ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.staffs,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.columns.staff_identity==t.identity},on:{click:function(i){e.filter.columns.staff_identity=t.identity}}},[e._v("\n            "+e._s(t.name)+"\n        ")])}))],2):e._e()},nh=[],sh={name:"DriverCcommissionsFilterHeaderInputs",data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.provider.driver_commissions_module},filter:function(){return this.current_store.filter},staffs:function(){return[{name:this.$t("ui.general.please_select"),identity:null}].concat(this.$store.state.provider.driver_commissions_module.staffs)}},created:function(){},mounted:function(){},watch:{},methods:{},components:{}},ah=sh,rh=Object(Tt["a"])(ah,ih,nh,!1,null,"56a6667b",null),oh=rh.exports,ch={name:"OperationsFilterHeader",data:function(){return{is_initialized:!1}},computed:{style:function(){return this.$store.state.style},current_store:function(){return this.$store.state.provider.driver_commissions_module},filter:function(){return this.current_store.filter}},created:function(){},mounted:function(){},watch:{},methods:{},components:{HeaderInputs:oh}},_h=ch,lh=Object(Tt["a"])(_h,eh,th,!1,null,"babfe398",null),uh=lh.exports,dh={name:"DriverCommissionsFilter",data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.provider.driver_commissions_module},filter:function(){return this.current_store.filter}},created:function(){},mounted:function(){},watch:{},methods:{},components:{Header:uh}},ph=dh,mh=Object(Tt["a"])(ph,Zf,Jf,!1,null,null,null),fh=mh.exports,hh=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",[i("td",[e._v(e._s(e.driver_commission.staff.name))]),i("td",[e.driver_commission.core_waybill?i("router-link",{attrs:{to:{name:"edit_core_waybill",params:{identity:e.driver_commission.core_waybill.identity}}}},[e._v("\n            "+e._s(e.driver_commission.core_waybill.number)+"\n        ")]):i("span",[e._v("\n            -\n        ")])],1),i("td",[e.driver_commission.driver_commission_report_identity?i("span",[0==e.driver_commission.polarity?i("i",{staticClass:"minus icon"}):e._e(),e._v("\n            "+e._s(e.driver_commission.amount)+"\n        ")]):i("span",[e._v("\n            "+e._s(e.$t("ui.pages.driver_commissions.no_done"))+"\n        ")])]),i("td",[e._v("\n        "+e._s(this.human_datetime(e.driver_commission.created_at))+"\n    ")])])},vh=[],gh={name:"ProviderDriverCommissionsIndexItem",props:{driver_commission:Object},data:function(){return{}},computed:{},mounted:function(){},methods:{}},bh=gh,yh=Object(Tt["a"])(bh,hh,vh,!1,null,"130aa0c6",null),wh=yh.exports;function $h(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function kh(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){$h(a,n,s,r,o,"next",e)}function o(e){$h(a,n,s,r,o,"throw",e)}r(void 0)})}}var xh={name:"DriverCommissionsIndex",data:function(){return{is_initialized:!1,is_loading:!1,errors:[]}},computed:{style:function(){return this.$store.state.style},current_store:function(){return this.$store.state.provider.driver_commissions_module},driver_commissions:function(){return this.current_store.driver_commissions},pagination:function(){return this.current_store.pagination},filter:function(){return this.current_store.filter}},created:function(){},mounted:function(){this.init()},watch:{$route:function(e,t){this.init(!1)}},methods:{init:function(){var e=kh(regeneratorRuntime.mark(function e(){var t,i=this,n=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=!(n.length>0&&void 0!==n[0])||n[0],e.prev=1,e.next=4,new Promise(function(e){i.is_initialized=!1,i.is_loading=!0,e()});case 4:return e.next=6,this.$store.dispatch("provider/driver_commissions_module/handle_query_to_filter",{query:this.$route.query});case 6:if(!t){e.next=9;break}return e.next=9,this.$store.dispatch("provider/driver_commissions_module/handle_quick_filter_key");case 9:return e.next=11,this.$store.dispatch("provider/driver_commissions_module/fetch_driver_commissions");case 11:return e.next=13,new Promise(function(e){i.$noty.information(i.$t("ui.page_titles.driver_commissions")+" "+i.$t("ui.general.initialize_complete"),300),e()});case 13:e.next=20;break;case 15:e.prev=15,e.t0=e["catch"](1),console.log(e.t0),this.error.push(e.t0),this.$noty.error(this.$t("ui.notifications.error.fetch__name",{name:this.$t("models.driver_commissions"),reason:e.t0}));case 20:return e.prev=20,this.is_initialized=!0,this.is_loading=!1,e.finish(20);case 24:case"end":return e.stop()}},e,this,[[1,15,20,24]])}));function t(){return e.apply(this,arguments)}return t}(),driver_commissions_filter:function(){console.log("driver_commissions_filter");try{this.$router.push({name:this.$router.name,query:this.$store.getters["provider/driver_commissions_module/filter_to_query"]})}catch(e){console.log(e)}},data_card_sub_title:function(e){if(e.driver_commission_report_identity){var t=0==e.polarity?'<i class="minus icon"></i>':"";return"<span>\n                    ".concat(t,"\n                    ").concat(e.amount,"\n                </span>")}return this.$t("ui.pages.driver_commissions.no_done")}},components:{DriverCommission:wh,ErrorMessages:B_,Paginator:Ma,DataCard:W_,Filters:fh}},Ch=xh,Ph=(n("f096"),Object(Tt["a"])(Ch,Xf,Qf,!1,null,"e0c2f25a",null)),Sh=Ph.exports,Nh="driver_commissions",qh=[{path:"/",component:Sh,name:"driver_commissions",meta:{api_name:"api_v1_provider_driver_commissions",breadcrumb:[Nh]}}],Ah=qh,Eh=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"customers_layout"}},[e.is_initialized?i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1):i("div",{staticClass:"ui active centered inline large loader"}),i("BackToTopButton",{tag:"div"})],1)},zh=[];function jh(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function Rh(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){jh(a,n,s,r,o,"next",e)}function o(e){jh(a,n,s,r,o,"throw",e)}r(void 0)})}}var Oh={name:"CustomersLayout",data:function(){return{is_initialized:!1,errors:[]}},computed:{},created:function(){},mounted:function(){var e=this;this.init(),this.$bus.$off("init"),this.$bus.$on("init",function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.init()})},beforeDestroy:function(){this.$bus.$off("init")},watch:{},methods:{init:function(){var e=Rh(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!1,e()});case 2:return e.next=4,this.$store.dispatch("provider/customers_module/fetch_provider_contracts");case 4:return e.next=6,new Promise(function(e){t.is_initialized=!0,e()});case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{BackToTopButton:kd}},Ih=Oh,Dh=Object(Tt["a"])(Ih,Eh,zh,!1,null,null,null),Lh=Dh.exports,Th=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"customers"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),i("Filters"),i("div",{staticClass:"ui segment"},[e.style.width<767?i("div",{staticStyle:{"margin-bottom":"1em"}},[e.is_loading?i("div",[i("div",{staticClass:"ui active centered inline loader"})]):e._l(e.customers,function(t){return i("DataCard",{key:t.identity,attrs:{object:t,title:t.company_name,title_link:{name:"provider_customer",params:{customer_identity:t.identity}},sub_title:e.data_card_sub_title(t),color:e.data_card_color(t),date:e.human_datetime(t.created_at),is_show_column:!0,keys:["username","password","company_name","email","authentication_token","contracts","fax"],i_18n_key:"customers"}},[i("pre",{staticClass:"token z-depth-1",attrs:{slot:"authentication_token"},slot:"authentication_token"},[e._v(e._s(t.authentication_token))]),t.contracts?i("span",{attrs:{slot:"contracts"},slot:"contracts"},e._l(t.contracts,function(n,s){return i("router-link",{key:n.identity,staticClass:"item",attrs:{to:{name:"provider_contract",params:{customer_identity:t.identity,contract_identity:n.identity}}}},[e._v("\n                        "+e._s(s+1)+". "+e._s(n.name)+"\n                         \n                    ")])})):e._e(),i("div",{attrs:{slot:"buttons"},slot:"buttons"},[i("a",{staticClass:"ui basic orange button",on:{click:function(i){e.proxy_login(t)}}},[e._v("\n                        "+e._s(e.$t("ui.pages.customers.proxy_login"))+"\n                    ")]),i("button",{staticClass:"ui basic button",class:[t.is_banned?"positive":"negative",t.is_loading?"loading":""],on:{click:function(i){e.toggle_is_banned(t)}}},[t.is_banned?i("span",[e._v(e._s(e.$t("ui.pages.customers.unbanned")))]):i("span",[e._v(e._s(e.$t("ui.pages.customers.banned")))])])])])}),!e.is_loading&&e.customers.length<=0?i("div",{staticClass:"ui center aligned red segment"},[i("h3",[e._v("\n                    "+e._s(e.$t("ui.general.no_data"))+"\n                ")])]):e._e()],2):i("table",{staticClass:"ui celled table"},[i("thead",{staticClass:"center aligned"},[i("tr",[i("th",[e._v(e._s(e.$t("models.attributes.customers.username")))]),i("th",[e._v(e._s(e.$t("models.attributes.customers.password")))]),i("th",[e._v(e._s(e.$t("models.attributes.customers.company_name")))]),i("th",[e._v(e._s(e.$t("models.attributes.customers.email")))]),i("th",[e._v(e._s(e.$t("models.attributes.customers.phone")))]),i("th",[e._v(e._s(e.$t("models.attributes.customers.authentication_token")))]),i("th",[e._v(e._s(e.$t("ui.pages.customers.contracts")))]),i("th",[e._v(e._s(e.$t("models.attributes.customers.fax")))]),i("th",[e._v(e._s(e.$t("ui.pages.customers.banned")))]),i("th",[e._v(e._s(e.$t("ui.general.operate")))])])]),e.is_loading?i("tbody",{staticClass:"center aligned"},[e._m(0)]):i("tbody",{staticClass:"center aligned"},[e._l(e.customers,function(e){return i("Row",{key:e.identity,attrs:{customer:e}})}),e.customers.length<=0?i("tr",{staticClass:"center aligned"},[i("td",{attrs:{colspan:"8"}},[i("h5",[e._v("\n                            "+e._s(e.$t("ui.general.no_data"))+"\n                        ")])])]):e._e()],2)]),i("Paginator",{attrs:{total_pages:Number(e.pagination.total_pages),current_page:Number(e.pagination.current_page),disabled:e.is_loading}})],1)],1)},Bh=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"loading"},[i("td",{attrs:{colspan:"8"}},[i("div",{staticClass:"ui active centered inline loader"})])])}],Mh=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.customer?i("tr",[i("td",[e._v(e._s(e.customer.username))]),i("td",[e._v(e._s(e.customer.password))]),i("td",[e._v(e._s(e.customer.company_name))]),i("td",[e._v(e._s(e.customer.email))]),i("td",[e._v(e._s(e.customer.phone))]),i("td",[i("pre",{staticClass:"token z-depth-1"},[e._v(e._s(e.customer.authentication_token))])]),i("td",[i("div",{staticClass:"ui items"},e._l(e.customer.contracts,function(t,n){return i("router-link",{key:t.identity,staticClass:"item",attrs:{to:{name:"provider_contract",params:{customer_identity:e.customer.identity,contract_identity:t.identity}}}},[e._v("\n                "+e._s(n+1)+". "+e._s(t.name)+"\n                 \n            ")])}))]),i("td",[e._v(e._s(e.customer.fax))]),i("td",[e.customer.is_banned?e._e():i("span",[i("i",{staticClass:"check icon"}),e._v(" "+e._s(e.$t("ui.pages.customers.normal"))+"\n        ")]),e.customer.is_banned?i("span",[i("i",{staticClass:"remove icon"}),e._v(" "+e._s(e.$t("ui.pages.customers.banned"))+"\n        ")]):e._e()]),i("td",[i("router-link",{staticClass:"ui basic primary button",attrs:{to:{name:"provider_customer",params:{customer_identity:e.customer.identity}}}},[e._v("\n            "+e._s(e.$t("ui.general.show"))+"\n        ")]),i("a",{staticClass:"ui basic orange button",on:{click:function(t){e.$parent.proxy_login(e.customer)}}},[e._v("\n            "+e._s(e.$t("ui.pages.customers.proxy_login"))+"\n        ")]),e.customer.customer_node?i("a",{staticClass:"ui basic red button",on:{click:function(t){e.$parent.associate_to_node(e.customer)}}},[e._v("\n            同步\n        ")]):e._e(),i("button",{staticClass:"ui basic button",class:[e.customer.is_banned?"positive":"negative",e.customer.is_loading?"loading":""],on:{click:function(t){e.$parent.toggle_is_banned(e.customer)}}},[e.customer.is_banned?i("span",[e._v(e._s(e.$t("ui.pages.customers.unbanned")))]):i("span",[e._v(e._s(e.$t("ui.pages.customers.banned")))])])],1)]):e._e()},Uh=[],Fh={name:"ProviderCustomersIndexItem",props:{customer:Object},data:function(){return{is_loading:!1}},watch:{},computed:{},mounted:function(){},methods:{delete_customer:function(){var e=this;if(confirm(this.$t("ui.notifications.warning.are_you_sure_to_delete_it"))){this.is_loading=!0;var t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_customer_delete).parse({customer_identity:this.customer.identity});axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$parent.fetch_customers(),e.$noty.success(e.$t("ui.notifications.success.delete__name",{name:e.$t("models.customers")}))):e.$noty.error(e.$t("ui.notifications.error.delete__name",{name:e.$t("models.contracts")}))})["catch"](function(t){console.log(t.response),e.$noty.error(e.$t("ui.notifications.error.delete__name",{name:e.$t("models.customers"),reason:": "+t.response}))})["finally"](function(){e.is_loading=!1})}},delete_contract:function(e){var t=this;if(confirm(this.$t("ui.notifications.warning.are_you_sure_to_delete_it"))){this.is_loading=!0;var i=new RestUrl(this.$store.state.provider.routes.api_v1_provider_contract_delete).parse({contract_identity:e});axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){"success"==e.data.status?(t.$parent.fetch_customers(),t.$bus.$emit("out_of_date",t.$store.state.instance_identity,"customers"),t.$noty.success(t.$t("ui.notifications.success.delete__name",{name:t.$t("models.contracts")}))):t.$noty.error(t.$t("ui.notifications.error.delete__name",{name:t.$t("models.contracts")}))})["catch"](function(e){console.log(e.response),t.$noty.error(t.$t("ui.notifications.error.delete__name",{name:t.$t("models.customers"),reason:": "+e.response}))})["finally"](function(){t.is_loading=!1})}}}},Yh=Fh,Gh=(n("bccc"),Object(Tt["a"])(Yh,Mh,Uh,!1,null,"770f7eb0",null)),Hh=Gh.exports,Kh=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{display:"flex","justify-content":"space-between"},attrs:{id:"customers_filter"}},[i("div"),i("div",{staticClass:"ui segment",style:{width:e.filter.is_advanced_mode?"100%":"auto",margin:0}},[i("Header",{staticClass:"right floated"}),i("div",{staticClass:"clear"}),i("transition",{attrs:{name:"slide-fade",mode:"out-in"}},[e.filter.is_advanced_mode?i("Advanced"):e._e()],1)],1)])},Wh=[],Vh=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"filter_advanced"}},[i("div",{staticClass:"ui form",on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$parent.$parent.customers_filter()}}},[i("div",{staticClass:"three fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.username")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.username,expression:"filter.columns.username"}],attrs:{type:"text"},domProps:{value:e.filter.columns.username},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"username",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.company_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.company_name,expression:"filter.columns.company_name"}],attrs:{type:"text"},domProps:{value:e.filter.columns.company_name},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"company_name",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.email")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.email,expression:"filter.columns.email"}],attrs:{type:"text"},domProps:{value:e.filter.columns.email},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"email",t.target.value)}}})])]),i("div",{staticClass:"four fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.phone")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.phone,expression:"filter.columns.phone"}],attrs:{type:"text"},domProps:{value:e.filter.columns.phone},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"phone",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.fax")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.fax,expression:"filter.columns.fax"}],attrs:{type:"text"},domProps:{value:e.filter.columns.fax},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"fax",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.is_banned")))]),i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.is_banned,expression:"filter.columns.is_banned"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.filter.columns.is_banned)?e._i(e.filter.columns.is_banned,null)>-1:e.filter.columns.is_banned},on:{change:function(t){var i=e.filter.columns.is_banned,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=e._i(i,a);n.checked?r<0&&e.$set(e.filter.columns,"is_banned",i.concat([a])):r>-1&&e.$set(e.filter.columns,"is_banned",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.filter.columns,"is_banned",s)}}}),i("label",[e._v(e._s(e.$t("ui.general.yes")))])])])])]),i("div",{staticClass:"ui icon blue button right floated",on:{click:function(t){e.$parent.$parent.customers_filter()}}},[i("i",{staticClass:"search icon"}),e._v("\n        "+e._s(e.$t("ui.general.search"))+"\n    ")]),i("div",{staticClass:"clear"})])},Xh=[],Qh={name:"CustomersFilterAdvanced",data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.provider.customers_module},filter:function(){return this.current_store.filter}},created:function(){},mounted:function(){},watch:{},methods:{},components:{}},Zh=Qh,Jh=Object(Tt["a"])(Zh,Vh,Xh,!1,null,"578463ec",null),ev=Jh.exports,tv=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{style:e.style.width<470?{textAlign:"right"}:{},attrs:{id:"filter_general"}},[e.filter.is_advanced_mode?e._e():i("div",{staticClass:"ui action input"},[e.style.width>470?i("HeaderInputs"):e._e(),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection dropdown no_search right_radius",staticStyle:{"min-width":"120px"}},[e._l(e.filter.shortcut_keys,function(t){return e.filter.current_shortcut_key==t?i("div",{staticClass:"text"},["is_banned"==e.filter.current_shortcut_key?i("span",[e._v("\n                    "+e._s(e.$t("ui.pages.customers.is_banned"))+"\n                ")]):i("span",[e._v("\n                    "+e._s(e.$t("models.attributes.customers."+t))+"\n                ")])]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.filter.shortcut_keys,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.current_shortcut_key==t},on:{click:function(i){e.set_quick_filter(t)}}},[i("span","is_banned"==t?[e._v("\n                        "+e._s(e.$t("ui.pages.customers.is_banned"))+"\n                    ")]:[e._v("\n                        "+e._s(e.$t("models.attributes.customers."+t))+"\n                    ")])])}))],2),i("div",{staticClass:"ui button icon",on:{click:function(t){e.$parent.$parent.customers_filter()}}},[i("i",{staticClass:"search icon"})])],1),e.filter.is_advanced_mode?i("div",{staticClass:"ui basic red icon button",on:{click:function(t){e.$store.commit("provider/customers_module/init_filter_columns")}}},[i("i",{staticClass:"close icon"}),e._v("\n        "+e._s(e.$t("ui.general.clear"))+"\n    ")]):e._e(),i("div",{staticClass:"ui button icon",style:{height:e.filter.is_advanced_mode?"auto":"38px",paddingTop:e.filter.is_advanced_mode?"":"13px",verticalAlign:e.filter.is_advanced_mode?"":"top",margin:"0 6px"},on:{click:function(t){e.filter.is_advanced_mode=!e.filter.is_advanced_mode}}},[i("i",{staticClass:"bars icon",class:{minus:e.filter.is_advanced_mode,bars:!e.filter.is_advanced_mode}})]),!e.filter.is_advanced_mode&&e.style.width<470&&"is_banned"!=e.filter.current_shortcut_key?i("div",{staticClass:"ui action input",staticStyle:{"padding-top":"9px",width:"100%"}},[i("HeaderInputs")],1):e._e()])},iv=[],nv=function(){var e=this,t=e.$createElement,i=e._self._c||t;return"is_banned"!=e.filter.current_shortcut_key?i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns[e.filter.current_shortcut_key],expression:"filter.columns[filter.current_shortcut_key]"}],attrs:{placeholder:e.$t("ui.general.search__key",{key:e.$t("models.attributes.customers."+e.filter.current_shortcut_key)}),type:"text"},domProps:{value:e.filter.columns[e.filter.current_shortcut_key]},on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$parent.$parent.$parent.customers_filter()},input:function(t){t.target.composing||e.$set(e.filter.columns,e.filter.current_shortcut_key,t.target.value)}}}):e._e()},sv=[],av={name:"CustomersFilterHeaderInputs",data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.provider.customers_module},filter:function(){return this.current_store.filter}},created:function(){},mounted:function(){},watch:{},methods:{},components:{}},rv=av,ov=Object(Tt["a"])(rv,nv,sv,!1,null,null,null),cv=ov.exports,_v={name:"CustomersFilterHeader",data:function(){return{is_initialized:!1}},computed:{style:function(){return this.$store.state.style},current_store:function(){return this.$store.state.provider.customers_module},filter:function(){return this.current_store.filter}},created:function(){},mounted:function(){},watch:{},methods:{set_quick_filter:function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{this.filter.current_shortcut_key=i,_.forEach(this.filter.shortcut_keys,function(e){t.filter.columns[e]=null}),"is_banned"==i&&(this.filter.columns.is_banned=!0)}catch(e){console.log(e)}}},components:{HeaderInputs:cv}},lv=_v,uv=(n("9e2b"),Object(Tt["a"])(lv,tv,iv,!1,null,"3278b9f9",null)),dv=uv.exports,pv={name:"CustomersFilter",data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.provider.customers_module},filter:function(){return this.current_store.filter}},created:function(){},mounted:function(){},watch:{"filter.is_advanced_mode":function(e){e||this.$store.commit("provider/customers_module/init_filter_columns")}},methods:{},components:{Advanced:ev,Header:dv}},mv=pv,fv=Object(Tt["a"])(mv,Kh,Wh,!1,null,null,null),hv=fv.exports;function vv(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function gv(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){vv(a,n,s,r,o,"next",e)}function o(e){vv(a,n,s,r,o,"throw",e)}r(void 0)})}}var bv={name:"CustomersIndex",data:function(){return{is_initialized:!1,is_loading:!1,errors:[]}},computed:{style:function(e){return e.$store.state.style},current_store:function(e){return e.$store.state.provider.customers_module},pagination:function(){return this.current_store.pagination},filter:function(){return this.current_store.filter},customers:function(){return this.current_store.customers},current_node_identity:function(){return this.node_index>0?ENV.VUE_APP_SECOND_NODE_IDENTITY:ENV.VUE_APP_FIRST_NODE_IDENTITY},login_url:function(){return console.log(this.$store.state.settings.login_url),"electron"==ENV.VUE_APP_BUILD_ENV?new RestUrl(this.$store.state.settings.login_url).parse({node_identity:window.LICENSE_KEY},"?captcha="+this.need_captcha):"development"==ENV.NODE_ENV?new RestUrl(this.$store.state.settings.login_url).parse({node_identity:this.current_node_identity},"?captcha="+this.need_captcha):new RestUrl(this.$store.state.settings.login_url).parse({node_identity:""},"?captcha=false")}},created:function(){},mounted:function(){this.init(),this.pagination.current_page=1},watch:{$route:function(e,t){this.init(!1)}},methods:{init:function(){var e=gv(regeneratorRuntime.mark(function e(){var t,i=this,n=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=!(n.length>0&&void 0!==n[0])||n[0],e.prev=1,e.next=4,new Promise(function(e){i.is_initialized=!1,i.is_loading=!0,e()});case 4:return e.next=6,this.$store.dispatch("provider/customers_module/handle_query_to_filter",{query:this.$route.query});case 6:if(!t){e.next=9;break}return e.next=9,this.$store.dispatch("provider/customers_module/handle_quick_filter_key");case 9:return e.next=11,this.$store.dispatch("provider/customers_module/fetch_customers");case 11:return e.next=13,new Promise(function(e){i.$noty.information(i.$t("ui.page_titles.provider_customers")+" "+i.$t("ui.general.initialize_complete"),300),e()});case 13:e.next=20;break;case 15:e.prev=15,e.t0=e["catch"](1),console.log("init error: "),console.log(e.t0),this.$noty.error(this.$t("ui.notifications.error.fetch__name",{name:this.$t("models.customers"),reason:e.t0}));case 20:return e.prev=20,this.is_initialized=!0,this.is_loading=!1,e.finish(20);case 24:case"end":return e.stop()}},e,this,[[1,15,20,24]])}));function t(){return e.apply(this,arguments)}return t}(),customers_filter:function(){console.log("customers_filter");try{this.$router.push({name:this.$router.name,query:this.$store.getters["provider/customers_module/filter_to_query"]})}catch(e){console.log(e)}},data_card_sub_title:function(e){return e.is_banned?'<i class="remove icon"></i> '.concat(this.$t("ui.pages.customers.banned")):'<i class="check icon"></i> '.concat(this.$t("ui.pages.customers.normal"))},data_card_color:function(e){return e.is_banned?"red":"green"},associate_to_node:function(e){var t=this;e.is_loading=!0;var i=new RestUrl(this.$store.state.provider.routes.api_v1_provider_customer_associate_to_node).parse({customer_identity:e.identity});axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(i){"success"==i.data.status?(t.$bus.$emit("out_of_date",t.$store.state.instance_identity,"customers"),t.$noty.success(t.$t("ui.notifications.success.update__name",{name:t.$t("models.customers")}))):t.$noty.error(t.$t("ui.notifications.error.update__name",{name:t.$t("models.customers")})),e.is_loading=!1})["catch"](function(i){console.log(i.response),e.is_loading=!1,t.$noty.error(t.$t("ui.notifications.error.update__name",{name:t.$t("models.customers")}))})["finally"](function(){t.$forceUpdate()})},proxy_login:function(e){var t=this,i={username:e.username,password:e.password,role:"customer"};axios.post(this.login_url,i,{headers:{Hostname:window.location.hostname}}).then(function(e){"success"==e.data.status&&(localStorage.setItem("customer_authentication_token",e.data.token),localStorage.setItem("customer_expired_at",t.$moment.utc(t.$moment().add(t.$store.state.global_setting.login_expiration_period,"second")).format()),window.open("/customer","new"))})["catch"](function(e){console.log(e)})},toggle_is_banned:function(e){var t=this;e.is_loading=!0;var i=new RestUrl(this.$store.state.provider.routes.api_v1_provider_customer_update).parse({customer_identity:e.identity});axios.post(i,{is_banned:!e.is_banned},{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(i){"success"==i.data.status?(e.is_banned=i.data.customer.is_banned,t.$bus.$emit("out_of_date",t.$store.state.instance_identity,"customers"),t.$noty.success(t.$t("ui.notifications.success.update__name",{name:t.$t("models.customers")}))):t.$noty.error(t.$t("ui.notifications.error.update__name",{name:t.$t("models.customers")})),e.is_loading=!1})["catch"](function(i){console.log(i.response),e.is_loading=!1,t.$noty.error(t.$t("ui.notifications.error.update__name",{name:t.$t("models.customers")}))})["finally"](function(){t.$forceUpdate()})},init_filter_columns:function(){this.$store.commit("provider/customers_module/init_filter_columns")}},components:{Row:Hh,Paginator:Ma,ErrorMessages:B_,DataCard:W_,Filters:hv}},yv=bv,wv=(n("623f"),Object(Tt["a"])(yv,Th,Bh,!1,null,"1bb2b816",null)),$v=wv.exports,kv=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"new_customer"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),i("div",{staticClass:"contents"},[e.is_loading?i("div",{staticClass:"ui active centered inline loader"}):i("div",{staticClass:"ui form"},[i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"user icon"}),e._v("\n                "+e._s(e.$t("ui.pages.customers.basic_information"))+"\n            ")])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide required field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.username")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.username,expression:"customer.username"}],attrs:{type:"text",name:"username"},domProps:{value:e.customer.username},on:{input:function(t){t.target.composing||e.$set(e.customer,"username",t.target.value)}}})]),i("div",{staticClass:"eight wide required field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.company_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.company_name,expression:"customer.company_name"}],attrs:{type:"text",name:"company_name"},domProps:{value:e.customer.company_name},on:{input:function(t){t.target.composing||e.$set(e.customer,"company_name",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field computer column"},[i("label",{attrs:{"data-tooltip":e.old_password}},[e._v(e._s(e.$t("models.attributes.customers.password")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.password,expression:"customer.password"}],attrs:{type:"password",name:"password"},domProps:{value:e.customer.password},on:{input:function(t){t.target.composing||e.$set(e.customer,"password",t.target.value)}}})]),i("div",{staticClass:"eight wide field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.password_confirmation")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.password_confirmation,expression:"customer.password_confirmation"}],attrs:{type:"password",autocomplete:"off",name:"password_confirmation"},domProps:{value:e.customer.password_confirmation},on:{input:function(t){t.target.composing||e.$set(e.customer,"password_confirmation",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.company_short_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.company_short_name,expression:"customer.company_short_name"}],attrs:{type:"text",name:"company_short_name"},domProps:{value:e.customer.company_short_name},on:{input:function(t){t.target.composing||e.$set(e.customer,"company_short_name",t.target.value)}}})]),i("div",{staticClass:"eight wide field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.company_en_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.company_en_name,expression:"customer.company_en_name"}],attrs:{type:"text",name:"company_en_name"},domProps:{value:e.customer.company_en_name},on:{input:function(t){t.target.composing||e.$set(e.customer,"company_en_name",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"six wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.email")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.email,expression:"customer.email"}],attrs:{type:"text",name:"email"},domProps:{value:e.customer.email},on:{input:function(t){t.target.composing||e.$set(e.customer,"email",t.target.value)}}})]),i("div",{staticClass:"five wide field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.phone")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.phone,expression:"customer.phone"}],attrs:{type:"text",name:"phone"},domProps:{value:e.customer.phone},on:{input:function(t){t.target.composing||e.$set(e.customer,"phone",t.target.value)}}})]),i("div",{staticClass:"five wide field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.email")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.fax,expression:"customer.fax"}],attrs:{type:"text",name:"fax"},domProps:{value:e.customer.fax},on:{input:function(t){t.target.composing||e.$set(e.customer,"fax",t.target.value)}}})])]),i("br"),i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"user icon"}),e._v("\n                "+e._s(e.$t("ui.pages.customers.common_sender_information"))+"\n            ")])]),i("br"),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_company_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_company_name,expression:"customer.default_sender_company_name"}],attrs:{type:"text",name:"default_sender_name"},domProps:{value:e.customer.default_sender_company_name},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_company_name",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_name,expression:"customer.default_sender_name"}],attrs:{type:"text",name:"default_sender_name"},domProps:{value:e.customer.default_sender_name},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_name",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_address")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_address,expression:"customer.default_sender_address"}],attrs:{type:"text",name:"default_sender_address"},domProps:{value:e.customer.default_sender_address},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_address",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_phone")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_phone,expression:"customer.default_sender_phone"}],attrs:{type:"text",name:"default_sender_phone"},domProps:{value:e.customer.default_sender_phone},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_phone",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"six wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_email")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_email,expression:"customer.default_sender_email"}],attrs:{type:"text",name:"default_sender_email"},domProps:{value:e.customer.default_sender_email},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_email",t.target.value)}}})]),i("div",{staticClass:"five wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_fax")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_fax,expression:"customer.default_sender_fax"}],attrs:{type:"text",name:"default_sender_fax"},domProps:{value:e.customer.default_sender_fax},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_fax",t.target.value)}}})]),i("div",{staticClass:"five wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_url")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_url,expression:"customer.default_sender_url"}],attrs:{type:"text",name:"default_sender_url"},domProps:{value:e.customer.default_sender_url},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_url",t.target.value)}}})])]),i("br"),i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"user icon"}),e._v("\n                "+e._s(e.$t("ui.pages.customers.common_consignee_information"))+"\n            ")])]),i("br"),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_consignee_company_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_consignee_company_name,expression:"customer.default_consignee_company_name"}],attrs:{type:"text",name:"default_sender_name"},domProps:{value:e.customer.default_consignee_company_name},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_consignee_company_name",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_consignee_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_consignee_name,expression:"customer.default_consignee_name"}],attrs:{type:"text",name:"default_consignee_name"},domProps:{value:e.customer.default_consignee_name},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_consignee_name",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_consignee_address")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_consignee_address,expression:"customer.default_consignee_address"}],attrs:{type:"text",name:"default_consignee_address"},domProps:{value:e.customer.default_consignee_address},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_consignee_address",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_consignee_phone")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_consignee_phone,expression:"customer.default_consignee_phone"}],attrs:{type:"text",name:"default_consignee_phone"},domProps:{value:e.customer.default_consignee_phone},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_consignee_phone",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_consignee_email")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_consignee_email,expression:"customer.default_consignee_email"}],attrs:{type:"text",name:"default_consignee_email"},domProps:{value:e.customer.default_consignee_email},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_consignee_email",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_consignee_fax")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_consignee_fax,expression:"customer.default_consignee_fax"}],attrs:{type:"text",name:"default_consignee_fax"},domProps:{value:e.customer.default_consignee_fax},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_consignee_fax",t.target.value)}}})])]),i("div",{staticClass:"eight wide field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.can_use_associated_partitions,expression:"customer.can_use_associated_partitions"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(e.customer.can_use_associated_partitions)?e._i(e.customer.can_use_associated_partitions,null)>-1:e.customer.can_use_associated_partitions},on:{change:function(t){var i=e.customer.can_use_associated_partitions,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=e._i(i,a);n.checked?r<0&&e.$set(e.customer,"can_use_associated_partitions",i.concat([a])):r>-1&&e.$set(e.customer,"can_use_associated_partitions",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.customer,"can_use_associated_partitions",s)}}}),i("label",[e._v("\n                        "+e._s(e.$t("ui.pages.customers.is_open_use_associated_partition"))+"\n                    ")])])]),i("div",{staticClass:"eight wide field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.can_use_provider_partitions,expression:"customer.can_use_provider_partitions"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(e.customer.can_use_provider_partitions)?e._i(e.customer.can_use_provider_partitions,null)>-1:e.customer.can_use_provider_partitions},on:{change:function(t){var i=e.customer.can_use_provider_partitions,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=e._i(i,a);n.checked?r<0&&e.$set(e.customer,"can_use_provider_partitions",i.concat([a])):r>-1&&e.$set(e.customer,"can_use_provider_partitions",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.customer,"can_use_provider_partitions",s)}}}),i("label",[e._v("\n                        "+e._s(e.$t("ui.pages.customers.is_open_use_use_yourself_partition"))+"\n                    ")])])]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui basic positive button",on:{click:e.create_customer}},[e._v("\n                "+e._s(e.$t("ui.general.submit"))+"\n            ")]),i("router-link",{staticClass:"ui basic button",attrs:{to:{name:"provider_customers"}}},[i("i",{staticClass:"undo icon"}),e._v("\n                "+e._s(e.$t("ui.general.back"))+"\n            ")])],1)])],1)},xv=[],Cv={name:"NewCustomer",data:function(){return{is_loading:!1,old_password:"",customer:{username:null,password:null,password_confirmation:null,company_name:null,company_short_name:null,company_en_name:null,email:null,phone:null,fax:null},errors:[]}},mounted:function(){this.form_validation()},computed:{},methods:{create_customer:function(){var e=this,t=_.clone(this.customer);if(this.errors=[],t.username&&t.password&&t.password_confirmation&&t.company_name)if(t.password!=t.password_confirmation){var i=this.$t("ui.pages.customers.helps.the_password_does_not_match_the_confirmation_password");this.errors.push(i),this.$noty.error(i)}else{var n=this.$store.state.provider.routes.api_v1_provider_customers_create;this.is_loading=!0,axios.post(n,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$bus.$emit("out_of_date",e.$store.state.instance_identity,"customers"),e.$noty.success(e.$t("ui.notifications.success.create__name",{name:e.$t("models.customers")})),e.$router.push({name:"provider_customer",params:{customer_identity:t.data.customer.identity}})):(console.log(t.data),e.errors=t.data.errors,e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.customers"),reason:": "+t.data.errors})))})["catch"](function(e){console.log(e.response)}).then(function(){e.is_loading=!1})}else this.errors.push(this.$t("ui.notifications.error.please_check_to_write_in_the_required_fields_mark"))},form_validation:function(){$(".ui.form").form({on:"blur",fields:{username:"empty",password:"empty",password_confirmation:"empty",company_name:"empty"}})}},components:{ErrorMessages:B_}},Pv=Cv,Sv=Object(Tt["a"])(Pv,kv,xv,!1,null,"61401bf8",null),Nv=Sv.exports,qv=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.is_initialized?i("div",{attrs:{id:"customer"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),i("div",{staticClass:"ui segments"},[i("div",{staticClass:"ui segment pointer",on:{click:function(t){e.div_toggle("basic_information")}}},[i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"user icon"}),e._v("\n                    "+e._s(e.$t("ui.pages.customers.basic_information"))+"\n                    "),i("i",{staticClass:"icon caret",class:[e.toggles.basic_information?"up":"down"]})])])]),i("transition",{attrs:{name:"slide-fade"}},[e.toggles.basic_information?e._e():i("div",{staticClass:"ui basic segment pointer",on:{click:function(t){e.div_toggle("basic_information")}}},[i("h4",[e._v(e._s(e.$t("ui.pages.customers.show_basic_information")))])])]),i("transition",{attrs:{name:"slide-fade"}},[e.toggles.basic_information?i("div",{staticClass:"ui segment"},[e.is_loading?i("div",{staticClass:"ui active centered inline loader"}):e.customer.identity?i("div",{staticClass:"ui form"},[i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide required field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.username")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.username,expression:"customer.username"}],attrs:{type:"text",name:"username"},domProps:{value:e.customer.username},on:{input:function(t){t.target.composing||e.$set(e.customer,"username",t.target.value)}}})]),i("div",{staticClass:"eight wide required field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.company_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.company_name,expression:"customer.company_name"}],attrs:{type:"text",name:"company_name"},domProps:{value:e.customer.company_name},on:{input:function(t){t.target.composing||e.$set(e.customer,"company_name",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field computer column"},[i("label",{attrs:{"data-tooltip":e.old_password}},[e._v(e._s(e.$t("models.attributes.customers.password")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.password,expression:"customer.password"}],attrs:{type:"password",name:"password"},domProps:{value:e.customer.password},on:{input:function(t){t.target.composing||e.$set(e.customer,"password",t.target.value)}}})]),i("div",{staticClass:"eight wide field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.password_confirmation")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.password_confirmation,expression:"customer.password_confirmation"}],attrs:{type:"password",autocomplete:"off",name:"password_confirmation"},domProps:{value:e.customer.password_confirmation},on:{input:function(t){t.target.composing||e.$set(e.customer,"password_confirmation",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.company_short_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.company_short_name,expression:"customer.company_short_name"}],attrs:{type:"text",name:"company_short_name"},domProps:{value:e.customer.company_short_name},on:{input:function(t){t.target.composing||e.$set(e.customer,"company_short_name",t.target.value)}}})]),i("div",{staticClass:"eight wide field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.company_en_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.company_en_name,expression:"customer.company_en_name"}],attrs:{type:"text",name:"company_en_name"},domProps:{value:e.customer.company_en_name},on:{input:function(t){t.target.composing||e.$set(e.customer,"company_en_name",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"six wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.email")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.email,expression:"customer.email"}],attrs:{type:"text",name:"email"},domProps:{value:e.customer.email},on:{input:function(t){t.target.composing||e.$set(e.customer,"email",t.target.value)}}})]),i("div",{staticClass:"five wide field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.phone")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.phone,expression:"customer.phone"}],attrs:{type:"text",name:"phone"},domProps:{value:e.customer.phone},on:{input:function(t){t.target.composing||e.$set(e.customer,"phone",t.target.value)}}})]),i("div",{staticClass:"five wide field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.fax")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.fax,expression:"customer.fax"}],attrs:{type:"text",name:"fax"},domProps:{value:e.customer.fax},on:{input:function(t){t.target.composing||e.$set(e.customer,"fax",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.can_use_associated_partitions,expression:"customer.can_use_associated_partitions"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(e.customer.can_use_associated_partitions)?e._i(e.customer.can_use_associated_partitions,null)>-1:e.customer.can_use_associated_partitions},on:{change:function(t){var i=e.customer.can_use_associated_partitions,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=e._i(i,a);n.checked?r<0&&e.$set(e.customer,"can_use_associated_partitions",i.concat([a])):r>-1&&e.$set(e.customer,"can_use_associated_partitions",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.customer,"can_use_associated_partitions",s)}}}),i("label",[e._v("\n                                "+e._s(e.$t("ui.pages.customers.is_open_use_associated_partition"))+"\n                            ")])])]),i("div",{staticClass:"eight wide field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.can_use_provider_partitions,expression:"customer.can_use_provider_partitions"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(e.customer.can_use_provider_partitions)?e._i(e.customer.can_use_provider_partitions,null)>-1:e.customer.can_use_provider_partitions},on:{change:function(t){var i=e.customer.can_use_provider_partitions,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=e._i(i,a);n.checked?r<0&&e.$set(e.customer,"can_use_provider_partitions",i.concat([a])):r>-1&&e.$set(e.customer,"can_use_provider_partitions",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.customer,"can_use_provider_partitions",s)}}}),i("label",[e._v("\n                                "+e._s(e.$t("ui.pages.customers.is_open_use_use_yourself_partition"))+"\n                            ")])])])]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"right floated"},[i("div",{staticClass:"ui positive button",on:{click:e.update_customer}},[e._v("\n                        "+e._s(e.$t("ui.general.update"))+"\n                    ")])]),i("div",{staticClass:"clear"})]):e._e()]):e._e()])],1),i("div",{staticClass:"ui segments"},[i("div",{staticClass:"ui segment pointer",on:{click:function(t){e.div_toggle("common_sender_information")}}},[i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"user icon"}),e._v("\n                    "+e._s(e.$t("ui.pages.customers.common_sender_information"))+"\n                    "),i("i",{staticClass:"icon caret",class:[e.toggles.common_sender_information?"up":"down"]})])])]),i("transition",{attrs:{name:"slide-fade"}},[e.toggles.common_sender_information?e._e():i("div",{staticClass:"ui basic segment pointer",on:{click:function(t){e.div_toggle("common_sender_information")}}},[i("h4",[e._v(e._s(e.$t("ui.pages.customers.show_common_sender_information")))])])]),i("transition",{attrs:{name:"slide-fade"}},[e.toggles.common_sender_information?i("div",{staticClass:"ui segment"},[e.is_loading?i("div",{staticClass:"ui active centered inline loader"}):e.customer.identity?i("div",{staticClass:"ui form"},[i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_company_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_company_name,expression:"customer.default_sender_company_name"}],attrs:{type:"text",name:"default_sender_name"},domProps:{value:e.customer.default_sender_company_name},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_company_name",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_name,expression:"customer.default_sender_name"}],attrs:{type:"text",name:"default_sender_name"},domProps:{value:e.customer.default_sender_name},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_name",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"three wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_zip_code")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_zip_code,expression:"customer.default_sender_zip_code"}],attrs:{type:"text",name:"default_sender_zip_code"},domProps:{value:e.customer.default_sender_zip_code},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_zip_code",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_address")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_address,expression:"customer.default_sender_address"}],attrs:{type:"text",name:"default_sender_address"},domProps:{value:e.customer.default_sender_address},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_address",t.target.value)}}})]),i("div",{staticClass:"five wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_phone")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_phone,expression:"customer.default_sender_phone"}],attrs:{type:"text",name:"default_sender_phone"},domProps:{value:e.customer.default_sender_phone},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_phone",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"six wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_email")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_email,expression:"customer.default_sender_email"}],attrs:{type:"text",name:"default_sender_email"},domProps:{value:e.customer.default_sender_email},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_email",t.target.value)}}})]),i("div",{staticClass:"five wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_fax")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_fax,expression:"customer.default_sender_fax"}],attrs:{type:"text",name:"default_sender_fax"},domProps:{value:e.customer.default_sender_fax},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_fax",t.target.value)}}})]),i("div",{staticClass:"five wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_url")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_url,expression:"customer.default_sender_url"}],attrs:{type:"text",name:"default_sender_url"},domProps:{value:e.customer.default_sender_url},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_url",t.target.value)}}})])]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"right floated"},[i("div",{staticClass:"ui positive button",on:{click:e.update_customer}},[e._v("\n                            "+e._s(e.$t("ui.general.update"))+"\n                        ")])]),i("div",{staticClass:"clear"})]):e._e()]):e._e()])],1),i("div",{staticClass:"ui segments"},[i("div",{staticClass:"ui segment pointer",on:{click:function(t){e.div_toggle("common_consignee_information")}}},[i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"user icon"}),e._v("\n                    "+e._s(e.$t("ui.pages.customers.common_consignee_information"))+"\n                    "),i("i",{staticClass:"icon caret",class:[e.toggles.common_consignee_information?"up":"down"]})])])]),i("transition",{attrs:{name:"slide-fade"}},[e.toggles.common_consignee_information?e._e():i("div",{staticClass:"ui basic segment pointer",on:{click:function(t){e.div_toggle("common_consignee_information")}}},[i("h4",[e._v(e._s(e.$t("ui.pages.customers.show_common_consignee_information")))])])]),i("transition",{attrs:{name:"slide-fade"}},[e.toggles.common_consignee_information?i("div",{staticClass:"ui segment"},[e.is_loading?i("div",{staticClass:"ui active centered inline loader"}):e.customer.identity?i("div",{staticClass:"ui form"},[i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_consignee_company_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_consignee_company_name,expression:"customer.default_consignee_company_name"}],attrs:{type:"text",name:"default_sender_name"},domProps:{value:e.customer.default_consignee_company_name},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_consignee_company_name",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_consignee_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_consignee_name,expression:"customer.default_consignee_name"}],attrs:{type:"text",name:"default_consignee_name"},domProps:{value:e.customer.default_consignee_name},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_consignee_name",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"three wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_consignee_zip_code")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_consignee_zip_code,expression:"customer.default_consignee_zip_code"}],attrs:{type:"text",name:"default_consignee_zip_code"},domProps:{value:e.customer.default_consignee_zip_code},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_consignee_zip_code",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_consignee_address")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_consignee_address,expression:"customer.default_consignee_address"}],attrs:{type:"text",name:"default_consignee_address"},domProps:{value:e.customer.default_consignee_address},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_consignee_address",t.target.value)}}})]),i("div",{staticClass:"five wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_consignee_phone")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_consignee_phone,expression:"customer.default_consignee_phone"}],attrs:{type:"text",name:"default_consignee_phone"},domProps:{value:e.customer.default_consignee_phone},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_consignee_phone",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_consignee_email")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_consignee_email,expression:"customer.default_consignee_email"}],attrs:{type:"text",name:"default_consignee_email"},domProps:{value:e.customer.default_consignee_email},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_consignee_email",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_consignee_fax")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_consignee_fax,expression:"customer.default_consignee_fax"}],attrs:{type:"text",name:"default_consignee_fax"},domProps:{value:e.customer.default_consignee_fax},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_consignee_fax",t.target.value)}}})])]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"right floated"},[i("div",{staticClass:"ui positive button",on:{click:e.update_customer}},[e._v("\n                            "+e._s(e.$t("ui.general.update"))+"\n                        ")])]),i("div",{staticClass:"clear"})]):e._e()]):e._e()])],1),i("div",{staticClass:"ui segments"},[i("div",{staticClass:"ui segment pointer",on:{click:function(t){e.div_toggle("contracts")}}},[i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"clipboard icon"}),e._v("\n                    "+e._s(e.$t("ui.pages.customers.contracts"))+"\n                    "),i("i",{staticClass:"icon caret",class:[e.toggles.contracts?"up":"down"]}),e.toggles.contracts?i("router-link",{attrs:{to:{name:"new_provider_contract",params:{customer_identity:e.customer.identity}}}},[i("i",{staticClass:"add icon"})]):e._e()],1)])]),i("transition",{attrs:{name:"slide-fade"}},[e.toggles.contracts?e._e():i("div",{staticClass:"ui basic segment pointer",on:{click:function(t){e.div_toggle("contracts")}}},[i("h4",[e._v(e._s(e.$t("ui.pages.customers.show_contracts")))])])]),i("transition",{attrs:{name:"slide-fade"}},[e.toggles.contracts?i("div",{staticClass:"ui basic segment pointer"},[e.is_loading?i("div",{staticClass:"ui active centered inline loader"}):e._e(),i("table",{staticClass:"ui table"},[i("thead",[i("tr",[i("th",[e._v(e._s(e.$t("ui.pages.customers.contract.name")))]),i("th",[e._v(e._s(e.$t("ui.pages.customers.contract.created_at")))]),i("th",[e._v(e._s(e.$t("ui.general.operate")))])])]),i("tbody",[e._l(e.customer.contracts,function(t){return i("tr",{key:t.identity,attrs:{contract:t}},[i("td",[e._v("\n                            "+e._s(t.name)+"\n                        ")]),i("td",[e._v(e._s(e.human_datetime(t.created_at)))]),i("td",[i("router-link",{key:t.identity,staticClass:"ui basic primary button",attrs:{to:{name:"provider_contract",params:{customer_identity:e.customer.identity,contract_identity:t.identity}}}},[e._v("\n                                "+e._s(e.$t("ui.general.show"))+"\n                            ")]),e.customer.contracts.length>1?i("a",{staticClass:"ui basic red button",attrs:{href:"#"},on:{click:function(i){i.preventDefault(),e.delete_contract(t.identity,t.name)}}},[e._v("\n                                "+e._s(e.$t("ui.general.delete"))+"\n                            ")]):e._e()],1)])}),e.customer.contracts.length?e._e():i("tr",{staticClass:"center aligned"},[i("td",{attrs:{colspan:"2"}},[i("h5",[e._v("\n                                "+e._s(e.$t("ui.general.no_data"))+"\n                            ")])])])],2)])]):e._e()])],1)],1):e._e()},Av=[];function Ev(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function zv(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){Ev(a,n,s,r,o,"next",e)}function o(e){Ev(a,n,s,r,o,"throw",e)}r(void 0)})}}var jv={name:"Customer",data:function(){return{is_initialized:!1,is_loading:!1,errors:[],customer:{},old_password:"",toggles:{basic_information:!0,common_sender_information:!1,common_consignee_information:!1,contracts:!1}}},computed:{},mounted:function(){this.init()},created:function(){},methods:{div_toggle:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";_.forEach(this.toggles,function(i,n){n!=t&&(e.toggles[n]=!1)}),t&&(this.toggles[t]=!this.toggles[t])},init:function(){var e=zv(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,this.fetch_customer();case 5:return e.next=7,new Promise(function(e){t.is_initialized=!0,e()});case 7:e.next=12;break;case 9:switch(e.prev=9,e.t0=e["catch"](0),e.t0){default:console.log("init error: "),console.log(e.t0)}case 12:return e.prev=12,e.next=15,this.form_validation();case 15:return e.finish(12);case 16:case"end":return e.stop()}},e,this,[[0,9,12,16]])}));function t(){return e.apply(this,arguments)}return t}(),fetch_customer:function(){var e=this,t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_customer).parse({customer_identity:this.$route.params.customer_identity});return this.is_loading=!0,axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return Promise.reject(t.data);e.old_password=t.data.customer.password,t.data.customer.password=null,e.customer=t.data.customer})["catch"](function(t){if(t.response){switch(t.response.status){default:e.errors.push(t.response.status+" "+t.response.statusText)}e.$noty.error(e.$t("ui.notifications.error.find__name",{name:e.$t("models.customers"),reason:": "+t.response.status+" "+t.response.statusText}))}else t.errors?e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.customers"),reason:": "+t.errors})):(e.errors.push(e.$t("ui.general.server_offline")),e.$noty.error(e.$t("ui.general.server_offline")));return Promise.reject(t)})["finally"](function(){e.is_loading=!1})},form_validation:function(){$(".ui.form").form({on:"blur",fields:{username:"empty",company_name:"empty"}})},update_customer:function(){var e=this,t=this.customer;if(this.errors=[],""!=t.password&&t.password!=t.password_confirmation){var i=this.$t("ui.pages.customers.helps.the_password_does_not_match_the_confirmation_password");this.errors.push(i),this.$noty.error(i)}else if(this.customer.username&&this.customer.company_name){delete t.password_confirmation;var n=new RestUrl(this.$store.state.provider.routes.api_v1_provider_customer_update).parse({customer_identity:this.$route.params.customer_identity});this.is_loading=!0,axios.post(n,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.customer=t.data.customer,e.customer.password=null,e.customer.password_confirmation=null,e.$bus.$emit("out_of_date",e.$store.state.instance_identity,"customers"),e.$noty.success(e.$t("ui.notifications.success.update__name",{name:e.$t("models.customers")})),e.$router.push({name:"provider_customers"})):e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.customers")}))})["catch"](function(t){if(t.response){switch(t.response.status){default:e.errors.push(t.response.status+" "+t.response.statusText)}e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.customers"),reason:": "+t.response.status+" "+t.response.statusText}))}else e.errors.push(e.$t("ui.general.server_offline")),e.$noty.error(e.$t("ui.general.server_offline"));return Promise.reject(t)})["finally"](function(){e.is_loading=!1})}else this.errors.push(this.$t("ui.notifications.error.please_check_to_write_in_the_required_fields_mark"))},delete_contract:function(e,t){var i=this,n=this.$t("ui.notifications.warning.are_you_sure_to_delete_it")+"\n\n"+this.customer.company_name+"["+t+"]";if(confirm(n)){this.is_loading=!0;var s=new RestUrl(this.$store.state.provider.routes.api_v1_provider_contract_delete).parse({contract_identity:e});axios.get(s,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){"success"==e.data.status?(i.$parent.fetch_customers(),i.$bus.$emit("out_of_date",i.$store.state.instance_identity,"customers"),i.$noty.success(i.$t("ui.notifications.success.delete__name",{name:i.$t("models.contracts")}))):i.$noty.error(i.$t("ui.notifications.error.delete__name",{name:i.$t("models.contracts")}))})["catch"](function(e){console.log(e.response),i.$noty.error(i.$t("ui.notifications.error.delete__name",{name:i.$t("models.customers"),reason:": "+e.response}))})["finally"](function(){i.is_loading=!1})}}},components:{ErrorMessages:B_}},Rv=jv,Ov=Object(Tt["a"])(Rv,qv,Av,!1,null,"bf8ac81e",null),Iv=Ov.exports,Dv=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"new"}},[i("h1",{staticClass:"ui header"},[e._v("\n        "+e._s(e.$t("ui.page_titles.new_contract"))+"\n    ")]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui form"},[i("div",{staticClass:"ui grid",staticStyle:{"margin-top":"0","margin-bottom":"0"}},[i("div",{staticClass:"eight wide field",attrs:{"data-column":"name"}},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.name,expression:"contract.name"}],attrs:{type:"text"},domProps:{value:e.contract.name},on:{input:function(t){t.target.composing||e.$set(e.contract,"name",t.target.value)}}})]),i("div",{staticClass:"eight wide field",attrs:{"data-column":"number"}},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.number")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.number,expression:"contract.number"}],attrs:{type:"text"},domProps:{value:e.contract.number},on:{input:function(t){t.target.composing||e.$set(e.contract,"number",t.target.value)}}})]),i("div",{staticClass:"eight wide field",attrs:{"data-column":"carrier_class"}},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.carrier_class")))]),e.$store.state.provider.node?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.contract.carrier_class,expression:"contract.carrier_class"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.contract,"carrier_class",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),i("option",{domProps:{value:e.$store.state.provider.node.carrier_class}},[e._v(e._s(e.$store.state.provider.node.company_short_name))]),i("option",{attrs:{value:"Carrier::LMSProxy"}},[e._v("自動轉運")])]):i("div",{staticClass:"ui inline active loader"})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.proxy_contract")))]),e.current_store.provider_contracts?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.contract.proxy_contract_identity,expression:"contract.proxy_contract_identity"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.contract,"proxy_contract_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.current_store.provider_contracts,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2):i("div",{staticClass:"ui inline active loader"})]),i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"code icon"}),e._v("\n                "+e._s(e.$t("ui.pages.customer_contracts.additional_information"))+"\n            ")])]),i("div",{staticClass:"sixteen wide red field"},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.note")))]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.contract.note,expression:"contract.note"}],attrs:{rows:"4"},domProps:{value:e.contract.note},on:{input:function(t){t.target.composing||e.$set(e.contract,"note",t.target.value)}}})]),i("div",{staticClass:"sixteen wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.third_party_api_data")))]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.third_party_api_data,expression:"third_party_api_data"}],attrs:{rows:"4"},domProps:{value:e.third_party_api_data},on:{input:function(t){t.target.composing||(e.third_party_api_data=t.target.value)}}})])]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui buttons"},[i("a",{staticClass:"ui button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.$router.go(-1)}}},[e._v("\n                "+e._s(e.$t("ui.general.back"))+"\n            ")]),i("div",{staticClass:"or"}),e.is_loading?i("a",{staticClass:"ui blue button",attrs:{href:"#"}},[e._v("\n                "+e._s(e.$t("ui.general.creating"))+"...\n            ")]):i("a",{staticClass:"ui blue button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.create_contract()}}},[e._v("\n                "+e._s(e.$t("ui.general.create"))+"\n            ")])])])])},Lv=[],Tv={name:"ProviderCustomersContractsNew",mixins:[Vu.a],props:{},data:function(){return{is_loading:!1,contract:{customer_identity:this.$route.params.customer_identity},third_party_api_data:""}},mounted:function(){},watch:{},methods:{create_contract:function(){var e=this;if(this.valid()){this.is_loading=!0,this.contract.third_party_api_data=JSON.parse(this.third_party_api_data);var t=this.contract,i=new RestUrl(this.$store.state.provider.routes.api_v1_provider_contracts_create).parse();return axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$noty.success(e.$t("ui.notifications.success.create__name",{name:e.$t("models.contracts")})),e.$router.push("/provider/customers"),e.is_loading=!1):(e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.contracts")})),e.is_loading=!1)})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.contracts")})),e.is_loading=!1})}}},validator:{target:"contract",localize_key:"contracts",input_alert:!0,attributes:[{name:"name",required:!0},{name:"number",required:!0},{name:"carrier_class",required:!0}]},computed:{current_store:function(){return this.$store.state.provider.customers_module}},components:{}},Bv=Tv,Mv=(n("c653"),Object(Tt["a"])(Bv,Dv,Lv,!1,null,null,null)),Uv=Mv.exports,Fv=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.quote_policy?i("div",{attrs:{id:"edit_quote_policy"}},[i("div",{staticClass:"ui segment"},[e._m(0),i("div",{staticClass:"ui form"},[i("div",{staticClass:"ui grid",staticStyle:{"margin-top":"0","margin-bottom":"0"}},[i("div",{staticClass:"eight wide field",attrs:{"data-column":"name"}},[i("label",[e._v("名稱")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.name,expression:"quote_policy.name"}],attrs:{type:"text"},domProps:{value:e.quote_policy.name},on:{input:function(t){t.target.composing||e.$set(e.quote_policy,"name",t.target.value)}}})]),i("div",{staticClass:"eight wide field",attrs:{"data-column":"note"}},[i("label",[e._v("備註")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.note,expression:"quote_policy.note"}],attrs:{type:"text"},domProps:{value:e.quote_policy.note},on:{input:function(t){t.target.composing||e.$set(e.quote_policy,"note",t.target.value)}}})]),i("div",{staticClass:"eight wide field",attrs:{"data-column":"required_material_class_name"}},[i("label",[e._v("條件物料")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.required_material_class_name,expression:"quote_policy.required_material_class_name"}],attrs:{type:"text"},domProps:{value:e.quote_policy.required_material_class_name},on:{input:function(t){t.target.composing||e.$set(e.quote_policy,"required_material_class_name",t.target.value)}}})]),i("div",{staticClass:"eight wide field",attrs:{"data-column":"required_condition"}},[i("label",[e._v("條件名稱")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.required_condition,expression:"quote_policy.required_condition"}],attrs:{type:"text"},domProps:{value:e.quote_policy.required_condition},on:{input:function(t){t.target.composing||e.$set(e.quote_policy,"required_condition",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.required_condition_polarity,expression:"quote_policy.required_condition_polarity"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(e.quote_policy.required_condition_polarity)?e._i(e.quote_policy.required_condition_polarity,null)>-1:e.quote_policy.required_condition_polarity},on:{change:function(t){var i=e.quote_policy.required_condition_polarity,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=e._i(i,a);n.checked?r<0&&e.$set(e.quote_policy,"required_condition_polarity",i.concat([a])):r>-1&&e.$set(e.quote_policy,"required_condition_polarity",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.quote_policy,"required_condition_polarity",s)}}}),i("label",[e._v("條件極性")])])]),i("div",{staticClass:"eight wide field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.is_activated,expression:"quote_policy.is_activated"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(e.quote_policy.is_activated)?e._i(e.quote_policy.is_activated,null)>-1:e.quote_policy.is_activated},on:{change:function(t){var i=e.quote_policy.is_activated,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=e._i(i,a);n.checked?r<0&&e.$set(e.quote_policy,"is_activated",i.concat([a])):r>-1&&e.$set(e.quote_policy,"is_activated",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.quote_policy,"is_activated",s)}}}),i("label",[e._v("是否啟用")])])])]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui buttons"},[i("a",{staticClass:"ui button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.$router.go(-1)}}},[e._v("\n                    "+e._s(e.$t("ui.general.back"))+"\n                ")]),i("div",{staticClass:"or"}),e.is_loading?i("a",{staticClass:"ui blue button",attrs:{href:"#"}},[e._v("\n                    "+e._s(e.$t("ui.general.updating"))+"...\n                ")]):i("a",{staticClass:"ui blue button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.update_quote_policy()}}},[e._v(e._s(e.$t("ui.general.update")))])])])]),i("div",{staticClass:"ui segment"},[e._m(1),i("table",{staticClass:"ui table"},[e._m(2),i("tbody",e._l(e.quote_policy.quote_conditions,function(t){return i("tr",[i("td",[e._v(e._s(t.name))]),i("td",[e._v(e._s("conditional"==t.quote_condition_type?"一般":"加收"))]),i("td",[e._v(e._s(t.priority||"-"))]),i("td",["attribute"==t.condition_type?i("span",[e._v("\n                            "+e._s(e.$t("models.attributes.core_waybills."+t.condition_attribute))+"\n                        ")]):i("span",[e._v("\n                            "+e._s(t.condition_value)+"\n                        ")]),e._v("\n                        ("+e._s(t.condition_unit)+")\n                         \n                        "+e._s(e.translate_logical_operator(t.logical_operator))+"\n                         \n                        "+e._s(t.result)+"\n                    ")]),i("td",[t.price_operator_1?i("span",[e._v("(")]):e._e(),t.price_operator_2?i("span",[e._v("(")]):e._e(),t.price_operator_3?i("span",[e._v("(")]):e._e(),t.price_operator_4?i("span",[e._v("(")]):e._e(),t.price_operator_5?i("span",[e._v("(")]):e._e(),"attribute"==t.price_type?i("span",[e._v("\n                            "+e._s(e.$t("models.attributes.core_waybills."+t.price_attribute))+"\n                            "),t.price_attribute_round_type?i("span",["round"==t.price_attribute_round_type?i("span",[e._v("(四捨五入)")]):e._e(),"floor"==t.price_attribute_round_type?i("span",[e._v("(無條件捨去)")]):e._e(),"ceil"==t.price_attribute_round_type?i("span",[e._v("(無條件進位)")]):e._e()]):e._e()]):i("span",[e._v("\n                            "+e._s(t.price_value)+"\n                        ")]),t.price_operator_1?i("span",[e._v("\n                            "+e._s(t.price_operator_1)+"\n                            "+e._s(t.price_operator_value_1)+" )\n                        ")]):e._e(),t.price_operator_2?i("span",[e._v("\n                            "+e._s(t.price_operator_2)+"\n                            "+e._s(t.price_operator_value_2)+" )\n                        ")]):e._e(),t.price_operator_3?i("span",[e._v("\n                            "+e._s(t.price_operator_3)+"\n                            "+e._s(t.price_operator_value_3)+" )\n                        ")]):e._e(),t.price_operator_4?i("span",[e._v("\n                            "+e._s(t.price_operator_4)+"\n                            "+e._s(t.price_operator_value_4)+" )\n                        ")]):e._e(),t.price_operator_5?i("span",[e._v("\n                            "+e._s(t.price_operator_5)+"\n                            "+e._s(t.price_operator_value_5)+" )\n                        ")]):e._e()])])}))])]),i("div",{staticClass:"ui segment"},[i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"list alternate icon"}),e._v("\n                報價單\n                "),i("router-link",{attrs:{to:{name:"new_provider_quotation",params:{quote_policy_identity:e.quote_policy.identity}}}},[i("i",{staticClass:"add icon"})])],1)]),i("table",{staticClass:"ui table"},[e._m(3),i("tbody",e._l(e.quote_policy.quotations,function(t){return i("tr",[i("td",[e._v(e._s(t.title))]),i("td",[e._v(e._s(t.identity))]),i("td",[e._v(e._s(e.human_datetime(t.quoted_from)))]),i("td",[e._v(e._s(e.human_datetime(t.quoted_to)))]),i("td",[t.file_url&&!e.is_caculating?i("a",{attrs:{href:t.file_url+"?authorization="+e.authentication_token}},[e._v("下載檔案")]):i("span",[e._v("-")])]),i("td",[i("a",{staticClass:"ui orange button",attrs:{href:"#"},on:{click:function(i){i.preventDefault(),e.caculate(t.identity)}}},[e.is_caculating||t.file_url?e.is_caculating?i("span",[e._v("計算中...")]):i("span",[e._v("重新計算")]):i("span",[e._v("計算")])])])])}))])])]):e._e()},Yv=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"edit icon"}),e._v("\n                編輯計價政策\n            ")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"list icon"}),e._v("\n                計價條件\n            ")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("thead",[i("tr",[i("th",[e._v("名稱")]),i("th",[e._v("計價屬性")]),i("th",[e._v("優先度")]),i("th",[e._v("計價條件")]),i("th",[e._v("價格公式")])])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("thead",[i("tr",[i("th",[e._v("名稱")]),i("th",[e._v("識別碼")]),i("th",[e._v("起")]),i("th",[e._v("訖")]),i("th",[e._v("檔案位址")]),i("th",[e._v("動作")])])])}],Gv={name:"ProviderEditQuotePolicy",mixins:[Vu.a],props:{},data:function(){return{is_loading:!1,is_caculating:!1,quote_policy:{}}},watch:{},mounted:function(){this.fetch_quote_policy()},methods:{human_datetime:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"lll";return T()(e).locale("zh-tw").format(t)},translate_logical_operator:function(e){switch(e){case"between?":return"介於";default:return e}},caculate:function(e){var t=this,i=new RestUrl(this.$store.state.provider.routes.api_v1_provider_quotation_caculate).parse({quotation_identity:e});return this.is_caculating=!0,axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(i){t.is_caculating=!1;var n=_.findIndex(t.quote_policy.quotations,function(t){return t.identity==e});t.quote_policy.quotations.splice(n,1,i.data.quotation)})["catch"](function(e){return t.is_caculating=!1,Promise.reject(e)})},fetch_quote_policy:function(){var e=this,t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_quote_policy).parse({quote_policy_identity:this.$route.params.quote_policy_identity});return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){console.log(t),e.quote_policy=t.data.quote_policy})["catch"](function(e){return Promise.reject(e)})},update_quote_policy:function(){var e=this;if(this.valid()){this.is_loading=!0;var t=this.quote_policy,i=new RestUrl(this.$store.state.provider.routes.api_v1_provider_quote_policy_update).parse({quote_policy_identity:this.quote_policy.identity});return axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$noty.success(e.$t("ui.notifications.success.update__name",{name:e.$t("models.quote_policys")})),e.is_loading=!1,e.$router.go(-1)):(e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.quote_policys")})),e.is_loading=!1)})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.quote_policys")})),e.is_loading=!1})}}},validator:{target:"quote_policy",localize_key:"quote_policys",input_alert:!0,attributes:[{name:"name",required:!0}]},computed:{current_store:function(){return this.$store.state.provider.customers_module},current_customer:function(){var e=this;return _.findLast(this.current_store.customers,function(t){return t.identity==e.quote_policy.customer_identity})},authentication_token:function(){return localStorage.getItem("authentication_token")}},components:{}},Hv=Gv,Kv=Object(Tt["a"])(Hv,Fv,Yv,!1,null,null,null),Wv=Kv.exports,Vv=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui segment",attrs:{id:"new"}},[i("h1",{staticClass:"ui header"},[e._v("\n        新增報價單\n    ")]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui form"},[i("div",{staticClass:"ui grid",staticStyle:{"margin-top":"0","margin-bottom":"0"}},[i("div",{staticClass:"sixteen wide field",attrs:{"data-column":"title"}},[i("label",[e._v("標題")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.quotation.title,expression:"quotation.title"}],attrs:{type:"text"},domProps:{value:e.quotation.title},on:{input:function(t){t.target.composing||e.$set(e.quotation,"title",t.target.value)}}})]),i("div",{staticClass:"eight wide field",attrs:{"data-column":"quoted_from"}},[i("label",[e._v("起")]),i("el-date-picker",{staticStyle:{width:"100%"},attrs:{"unlink-panels":"",type:"date"},model:{value:e.quotation.quoted_from,callback:function(t){e.$set(e.quotation,"quoted_from",t)},expression:"quotation.quoted_from"}})],1),i("div",{staticClass:"eight wide field",attrs:{"data-column":"quoted_to"}},[i("label",[e._v("訖")]),i("el-date-picker",{staticStyle:{width:"100%"},attrs:{"unlink-panels":"",type:"date"},model:{value:e.quotation.quoted_to,callback:function(t){e.$set(e.quotation,"quoted_to",t)},expression:"quotation.quoted_to"}})],1)]),i("div",{staticClass:"ui divider"}),e.is_loading?i("a",{staticClass:"ui blue button",attrs:{href:"#"}},[e._v("\n            "+e._s(e.$t("ui.general.creating"))+"...\n        ")]):i("a",{staticClass:"ui blue button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.create_quotation()}}},[e._v("\n            "+e._s(e.$t("ui.general.create"))+"\n        ")])])])},Xv=[],Qv={name:"ProviderNewQuotation",props:{},data:function(){return{is_loading:!1,quotation:{quote_policy_identity:this.$route.params.quote_policy_identity,contract_identity:this.$route.params.contract_identity}}},mounted:function(){},watch:{},methods:{create_quotation:function(){var e=this;this.is_loading=!0;var t=this.quotation;t.quoted_from=T()(t.quoted_from).startOf("day").format("YYYY-MM-DDTHH:mm:ss+08:00"),t.quoted_to=T()(t.quoted_to).endOf("day").format("YYYY-MM-DDTHH:mm:ss+08:00");var i=new RestUrl(this.$store.state.provider.routes.api_v1_provider_quotations_create).parse();return axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.is_loading=!1,"success"==t.data.status?e.$router.go(-1):e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.quotations")}))})["catch"](function(t){e.is_loading=!1,e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.quotations")}))})}},computed:{current_store:function(){return this.$store.state.provider.customers_module}},components:{}},Zv=Qv,Jv=(n("2efe"),Object(Tt["a"])(Zv,Vv,Xv,!1,null,null,null)),eg=Jv.exports,tg=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.quote_policy?i("div",{attrs:{id:"edit_quote_policy"}},[i("div",{staticClass:"ui segment"},[e._m(0),i("div",{staticClass:"ui form"},[i("div",{staticClass:"ui grid",staticStyle:{"margin-top":"0","margin-bottom":"0"}},[i("div",{staticClass:"eight wide field",attrs:{"data-column":"name"}},[i("label",[e._v("名稱")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.name,expression:"quote_policy.name"}],attrs:{type:"text"},domProps:{value:e.quote_policy.name},on:{input:function(t){t.target.composing||e.$set(e.quote_policy,"name",t.target.value)}}})]),i("div",{staticClass:"eight wide field",attrs:{"data-column":"note"}},[i("label",[e._v("備註")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.note,expression:"quote_policy.note"}],attrs:{type:"text"},domProps:{value:e.quote_policy.note},on:{input:function(t){t.target.composing||e.$set(e.quote_policy,"note",t.target.value)}}})]),i("div",{staticClass:"eight wide field",attrs:{"data-column":"required_material_class_name"}},[i("label",[e._v("條件物料")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.required_material_class_name,expression:"quote_policy.required_material_class_name"}],attrs:{type:"text"},domProps:{value:e.quote_policy.required_material_class_name},on:{input:function(t){t.target.composing||e.$set(e.quote_policy,"required_material_class_name",t.target.value)}}})]),i("div",{staticClass:"eight wide field",attrs:{"data-column":"required_condition"}},[i("label",[e._v("條件名稱")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.required_condition,expression:"quote_policy.required_condition"}],attrs:{type:"text"},domProps:{value:e.quote_policy.required_condition},on:{input:function(t){t.target.composing||e.$set(e.quote_policy,"required_condition",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.required_condition_polarity,expression:"quote_policy.required_condition_polarity"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(e.quote_policy.required_condition_polarity)?e._i(e.quote_policy.required_condition_polarity,null)>-1:e.quote_policy.required_condition_polarity},on:{change:function(t){var i=e.quote_policy.required_condition_polarity,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=e._i(i,a);n.checked?r<0&&e.$set(e.quote_policy,"required_condition_polarity",i.concat([a])):r>-1&&e.$set(e.quote_policy,"required_condition_polarity",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.quote_policy,"required_condition_polarity",s)}}}),i("label",[e._v("條件極性")])])]),i("div",{staticClass:"eight wide field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.is_activated,expression:"quote_policy.is_activated"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(e.quote_policy.is_activated)?e._i(e.quote_policy.is_activated,null)>-1:e.quote_policy.is_activated},on:{change:function(t){var i=e.quote_policy.is_activated,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=e._i(i,a);n.checked?r<0&&e.$set(e.quote_policy,"is_activated",i.concat([a])):r>-1&&e.$set(e.quote_policy,"is_activated",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.quote_policy,"is_activated",s)}}}),i("label",[e._v("是否啟用")])])])]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui buttons"},[i("a",{staticClass:"ui button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.$router.go(-1)}}},[e._v("\n                    "+e._s(e.$t("ui.general.back"))+"\n                ")]),i("div",{staticClass:"or"}),e.is_loading?i("a",{staticClass:"ui blue button",attrs:{href:"#"}},[e._v("\n                    "+e._s(e.$t("ui.general.updating"))+"...\n                ")]):i("a",{staticClass:"ui blue button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.update_quote_policy()}}},[e._v(e._s(e.$t("ui.general.update")))])])])]),i("div",{staticClass:"ui segment"},[e._m(1),i("table",{staticClass:"ui table"},[e._m(2),i("tbody",e._l(e.quote_policy.quote_conditions,function(t){return i("tr",[i("td",[e._v(e._s(t.name))]),i("td",[e._v(e._s("conditional"==t.quote_condition_type?"一般":"加收"))]),i("td",[e._v(e._s(t.priority||"-"))]),i("td",["attribute"==t.condition_type?i("span",[e._v("\n                            "+e._s(e.$t("models.attributes.core_waybills."+t.condition_attribute))+"\n                        ")]):i("span",[e._v("\n                            "+e._s(t.condition_value)+"\n                        ")]),e._v("\n                        ("+e._s(t.condition_unit)+")\n                         \n                        "+e._s(e.translate_logical_operator(t.logical_operator))+"\n                         \n                        "+e._s(t.result)+"\n                    ")]),i("td",["attribute"==t.price_type?i("span",[e._v("\n                            "+e._s(e.$t("models.attributes.core_waybills."+t.price_attribute))+"\n                        ")]):i("span",[e._v("\n                            "+e._s(t.price_value)+"\n                        ")]),e._v("\n                        "+e._s(t.price_operator)+"\n                        "+e._s(t.price_operator_value)+"\n                    ")])])}))])]),i("div",{staticClass:"ui segment"},[i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"list alternate icon"}),e._v("\n                報價單\n                "),i("router-link",{attrs:{to:{name:"new_provider_quotation",params:{quote_policy_identity:e.quote_policy.identity}}}},[i("i",{staticClass:"add icon"})])],1)]),i("table",{staticClass:"ui table"},[e._m(3),i("tbody",e._l(e.quote_policy.quotations,function(t){return i("tr",[i("td",[e._v(e._s(t.title))]),i("td",[e._v(e._s(e.human_datetime(t.quoted_from)))]),i("td",[e._v(e._s(e.human_datetime(t.quoted_to)))]),i("td",[t.file_url?i("a",{attrs:{href:t.file_url}},[e._v("下載檔案")]):i("span",[e._v("-")])]),i("td",[i("a",{staticClass:"ui orange button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.caculate()}}},[e._v("\n                            計算\n                        ")])])])}))])])]):e._e()},ig=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"edit icon"}),e._v("\n                編輯計價政策\n            ")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"list icon"}),e._v("\n                計價條件\n            ")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("thead",[i("tr",[i("th",[e._v("名稱")]),i("th",[e._v("計價屬性")]),i("th",[e._v("優先度")]),i("th",[e._v("計價條件")]),i("th",[e._v("價格公式")])])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("thead",[i("tr",[i("th",[e._v("名稱")]),i("th",[e._v("起")]),i("th",[e._v("訖")]),i("th",[e._v("檔案位址")]),i("th",[e._v("動作")])])])}],ng={name:"ProviderEditQuotePolicy",mixins:[Vu.a],props:{},data:function(){return{is_loading:!1,quote_policy:{},third_party_api_data:""}},watch:{},mounted:function(){this.fetch_quote_policy()},methods:{human_datetime:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"lll";return T()(e).locale("zh-tw").format(t)},translate_logical_operator:function(e){switch(e){case"between?":return"介於";default:return e}},fetch_quote_policy:function(e,t){var i=this,n=new RestUrl(this.$store.state.provider.routes.api_v1_provider_quote_policy).parse({quote_policy_identity:this.$route.params.quote_policy_identity});return axios.get(n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){console.log(e),i.quote_policy=e.data.quote_policy})["catch"](function(e){return Promise.reject(e)})},update_quote_policy:function(){var e=this;if(this.valid()){this.is_loading=!0;var t=this.quote_policy,i=new RestUrl(this.$store.state.provider.routes.api_v1_provider_quote_policy_update).parse({quote_policy_identity:this.quote_policy.identity});return axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$noty.success(e.$t("ui.notifications.success.update__name",{name:e.$t("models.quote_policys")})),e.is_loading=!1,e.$router.go(-1)):(e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.quote_policys")})),e.is_loading=!1)})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.quote_policys")})),e.is_loading=!1})}}},validator:{target:"quote_policy",localize_key:"quote_policys",input_alert:!0,attributes:[{name:"name",required:!0}]},computed:{current_store:function(){return this.$store.state.provider.customers_module},current_customer:function(){var e=this;return _.findLast(this.current_store.customers,function(t){return t.identity==e.quote_policy.customer_identity})}},components:{}},sg=ng,ag=Object(Tt["a"])(sg,tg,ig,!1,null,null,null),rg=(ag.exports,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"new"}},[i("h1",{staticClass:"ui header"},[e._v("\n        "+e._s(e.$t("ui.page_titles.new_contract"))+"\n    ")]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui form"},[i("div",{staticClass:"ui grid",staticStyle:{"margin-top":"0margin-bottom:0"}},[i("div",{staticClass:"eight wide field",attrs:{"data-column":"name"}},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.name,expression:"contract.name"}],attrs:{type:"text"},domProps:{value:e.contract.name},on:{input:function(t){t.target.composing||e.$set(e.contract,"name",t.target.value)}}})]),i("div",{staticClass:"eight wide field",attrs:{"data-column":"number"}},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.number")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.number,expression:"contract.number"}],attrs:{type:"text"},domProps:{value:e.contract.number},on:{input:function(t){t.target.composing||e.$set(e.contract,"number",t.target.value)}}})]),i("div",{staticClass:"eight wide field",attrs:{"data-column":"carrier_class"}},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.carrier_class")))]),e.$store.state.provider.node?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.contract.carrier_class,expression:"contract.carrier_class"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.contract,"carrier_class",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),i("option",{domProps:{value:e.$store.state.provider.node.carrier_class}},[e._v(e._s(e.$store.state.provider.node.company_short_name))]),i("option",{attrs:{value:"Carrier::LMSProxy"}},[e._v("自動轉運")])]):i("div",{staticClass:"ui inline active loader"})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.proxy_contract")))]),e.current_store.provider_contracts?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.contract.proxy_contract_identity,expression:"contract.proxy_contract_identity"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.contract,"proxy_contract_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.current_store.provider_contracts,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2):i("div",{staticClass:"ui inline active loader"})]),i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"code icon"}),e._v("\n                "+e._s(e.$t("ui.pages.customer_contracts.additional_information"))+"\n            ")])]),i("div",{staticClass:"sixteen wide red field"},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.note")))]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.contract.note,expression:"contract.note"}],attrs:{rows:"4"},domProps:{value:e.contract.note},on:{input:function(t){t.target.composing||e.$set(e.contract,"note",t.target.value)}}})]),i("div",{staticClass:"sixteen wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.third_party_api_data")))]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.third_party_api_data,expression:"third_party_api_data"}],attrs:{rows:"4"},domProps:{value:e.third_party_api_data},on:{input:function(t){t.target.composing||(e.third_party_api_data=t.target.value)}}})])]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui buttons"},[i("a",{staticClass:"ui button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.$router.go(-1)}}},[e._v("\n                "+e._s(e.$t("ui.general.back"))+"\n            ")]),i("div",{staticClass:"or"}),e.is_loading?i("a",{staticClass:"ui blue button",attrs:{href:"#"}},[e._v("\n                "+e._s(e.$t("ui.general.creating"))+"...\n            ")]):i("a",{staticClass:"ui blue button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.create_contract()}}},[e._v("\n                "+e._s(e.$t("ui.general.create"))+"\n            ")])])])])}),og=[],cg={name:"ProviderCustomersContractsNew",mixins:[Vu.a],props:{},data:function(){return{is_loading:!1,contract:{customer_identity:this.$route.params.customer_identity},third_party_api_data:""}},mounted:function(){},watch:{},methods:{create_contract:function(){var e=this;if(this.valid()){this.is_loading=!0,this.contract.third_party_api_data=JSON.parse(this.third_party_api_data);var t=this.contract,i=new RestUrl(this.$store.state.provider.routes.api_v1_provider_contracts_create).parse();return axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$noty.success(e.$t("ui.notifications.success.create__name",{name:e.$t("models.contracts")})),e.$router.push("/provider/customers"),e.is_loading=!1):(e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.contracts")})),e.is_loading=!1)})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.contracts")})),e.is_loading=!1})}}},validator:{target:"contract",localize_key:"contracts",input_alert:!0,attributes:[{name:"name",required:!0},{name:"number",required:!0},{name:"carrier_class",required:!0}]},computed:{current_store:function(){return this.$store.state.provider.customers_module}},components:{}},_g=cg,lg=(n("4e53"),Object(Tt["a"])(_g,rg,og,!1,null,null,null)),ug=(lg.exports,function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.quote_policy?i("div",{attrs:{id:"edit_quote_policy"}},[i("div",{staticClass:"ui segment"},[e._m(0),i("div",{staticClass:"ui form"},[i("div",{staticClass:"ui grid",staticStyle:{"margin-top":"0","margin-bottom":"0"}},[i("div",{staticClass:"eight wide field",attrs:{"data-column":"name"}},[i("label",[e._v("名稱")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.name,expression:"quote_policy.name"}],attrs:{type:"text"},domProps:{value:e.quote_policy.name},on:{input:function(t){t.target.composing||e.$set(e.quote_policy,"name",t.target.value)}}})]),i("div",{staticClass:"eight wide field",attrs:{"data-column":"note"}},[i("label",[e._v("備註")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.note,expression:"quote_policy.note"}],attrs:{type:"text"},domProps:{value:e.quote_policy.note},on:{input:function(t){t.target.composing||e.$set(e.quote_policy,"note",t.target.value)}}})]),i("div",{staticClass:"eight wide field",attrs:{"data-column":"required_material_class_name"}},[i("label",[e._v("條件物料")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.required_material_class_name,expression:"quote_policy.required_material_class_name"}],attrs:{type:"text"},domProps:{value:e.quote_policy.required_material_class_name},on:{input:function(t){t.target.composing||e.$set(e.quote_policy,"required_material_class_name",t.target.value)}}})]),i("div",{staticClass:"eight wide field",attrs:{"data-column":"required_condition"}},[i("label",[e._v("條件名稱")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.required_condition,expression:"quote_policy.required_condition"}],attrs:{type:"text"},domProps:{value:e.quote_policy.required_condition},on:{input:function(t){t.target.composing||e.$set(e.quote_policy,"required_condition",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.required_condition_polarity,expression:"quote_policy.required_condition_polarity"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(e.quote_policy.required_condition_polarity)?e._i(e.quote_policy.required_condition_polarity,null)>-1:e.quote_policy.required_condition_polarity},on:{change:function(t){var i=e.quote_policy.required_condition_polarity,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=e._i(i,a);n.checked?r<0&&e.$set(e.quote_policy,"required_condition_polarity",i.concat([a])):r>-1&&e.$set(e.quote_policy,"required_condition_polarity",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.quote_policy,"required_condition_polarity",s)}}}),i("label",[e._v("條件極性")])])]),i("div",{staticClass:"eight wide field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.is_activated,expression:"quote_policy.is_activated"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(e.quote_policy.is_activated)?e._i(e.quote_policy.is_activated,null)>-1:e.quote_policy.is_activated},on:{change:function(t){var i=e.quote_policy.is_activated,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=e._i(i,a);n.checked?r<0&&e.$set(e.quote_policy,"is_activated",i.concat([a])):r>-1&&e.$set(e.quote_policy,"is_activated",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.quote_policy,"is_activated",s)}}}),i("label",[e._v("是否啟用")])])])]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui buttons"},[i("a",{staticClass:"ui button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.$router.go(-1)}}},[e._v("\n                    "+e._s(e.$t("ui.general.back"))+"\n                ")]),i("div",{staticClass:"or"}),e.is_loading?i("a",{staticClass:"ui blue button",attrs:{href:"#"}},[e._v("\n                    "+e._s(e.$t("ui.general.updating"))+"...\n                ")]):i("a",{staticClass:"ui blue button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.update_quote_policy()}}},[e._v(e._s(e.$t("ui.general.update")))])])])]),i("div",{staticClass:"ui segment"},[e._m(1),i("table",{staticClass:"ui table"},[e._m(2),i("tbody",e._l(e.quote_policy.quote_conditions,function(t){return i("tr",[i("td",[e._v(e._s(t.name))]),i("td",[e._v(e._s("conditional"==t.quote_condition_type?"一般":"加收"))]),i("td",[e._v(e._s(t.priority||"-"))]),i("td",["attribute"==t.condition_type?i("span",[e._v("\n                            "+e._s(e.$t("models.attributes.core_waybills."+t.condition_attribute))+"\n                        ")]):i("span",[e._v("\n                            "+e._s(t.condition_value)+"\n                        ")]),e._v("\n                        ("+e._s(t.condition_unit)+")\n                         \n                        "+e._s(e.translate_logical_operator(t.logical_operator))+"\n                         \n                        "+e._s(t.result)+"\n                    ")]),i("td",[t.price_operator_1?i("span",[e._v("(")]):e._e(),t.price_operator_2?i("span",[e._v("(")]):e._e(),t.price_operator_3?i("span",[e._v("(")]):e._e(),t.price_operator_4?i("span",[e._v("(")]):e._e(),t.price_operator_5?i("span",[e._v("(")]):e._e(),"attribute"==t.price_type?i("span",[e._v("\n                            "+e._s(e.$t("models.attributes.core_waybills."+t.price_attribute))+"\n                            "),t.price_attribute_round_type?i("span",["round"==t.price_attribute_round_type?i("span",[e._v("(四捨五入)")]):e._e(),"floor"==t.price_attribute_round_type?i("span",[e._v("(無條件捨去)")]):e._e(),"ceil"==t.price_attribute_round_type?i("span",[e._v("(無條件進位)")]):e._e()]):e._e()]):i("span",[e._v("\n                            "+e._s(t.price_value)+"\n                        ")]),t.price_operator_1?i("span",[e._v("\n                            "+e._s(t.price_operator_1)+"\n                            "+e._s(t.price_operator_value_1)+" )\n                        ")]):e._e(),t.price_operator_2?i("span",[e._v("\n                            "+e._s(t.price_operator_2)+"\n                            "+e._s(t.price_operator_value_2)+" )\n                        ")]):e._e(),t.price_operator_3?i("span",[e._v("\n                            "+e._s(t.price_operator_3)+"\n                            "+e._s(t.price_operator_value_3)+" )\n                        ")]):e._e(),t.price_operator_4?i("span",[e._v("\n                            "+e._s(t.price_operator_4)+"\n                            "+e._s(t.price_operator_value_4)+" )\n                        ")]):e._e(),t.price_operator_5?i("span",[e._v("\n                            "+e._s(t.price_operator_5)+"\n                            "+e._s(t.price_operator_value_5)+" )\n                        ")]):e._e()])])}))])]),i("div",{staticClass:"ui segment"},[i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"list alternate icon"}),e._v("\n                報價單\n                "),i("router-link",{attrs:{to:{name:"new_provider_quotation",params:{quote_policy_identity:e.quote_policy.identity}}}},[i("i",{staticClass:"add icon"})])],1)]),i("table",{staticClass:"ui table"},[e._m(3),i("tbody",e._l(e.quote_policy.quotations,function(t){return i("tr",[i("td",[e._v(e._s(t.title))]),i("td",[e._v(e._s(e.human_datetime(t.quoted_from)))]),i("td",[e._v(e._s(e.human_datetime(t.quoted_to)))]),i("td",[t.file_url?i("a",{attrs:{href:t.file_url}},[e._v("下載檔案")]):i("span",[e._v("-")])]),i("td",[i("a",{staticClass:"ui orange button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.caculate()}}},[e._v("\n                            計算\n                        ")])])])}))])])]):e._e()}),dg=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"edit icon"}),e._v("\n                編輯計價政策\n            ")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"list icon"}),e._v("\n                計價條件\n            ")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("thead",[i("tr",[i("th",[e._v("名稱")]),i("th",[e._v("計價屬性")]),i("th",[e._v("優先度")]),i("th",[e._v("計價條件")]),i("th",[e._v("價格公式")])])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("thead",[i("tr",[i("th",[e._v("名稱")]),i("th",[e._v("起")]),i("th",[e._v("訖")]),i("th",[e._v("檔案位址")]),i("th",[e._v("動作")])])])}],pg={name:"ProviderEditQuotePolicy",mixins:[Vu.a],props:{},data:function(){return{is_loading:!1,quote_policy:{},third_party_api_data:""}},watch:{},mounted:function(){this.fetch_quote_policy()},methods:{human_datetime:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"lll";return T()(e).locale("zh-tw").format(t)},translate_logical_operator:function(e){switch(e){case"between?":return"介於";default:return e}},fetch_quote_policy:function(e,t){var i=this,n=new RestUrl(this.$store.state.provider.routes.api_v1_provider_quote_policy).parse({quote_policy_identity:this.$route.params.quote_policy_identity});return axios.get(n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){console.log(e),i.quote_policy=e.data.quote_policy})["catch"](function(e){return Promise.reject(e)})},update_quote_policy:function(){var e=this;if(this.valid()){this.is_loading=!0;var t=this.quote_policy,i=new RestUrl(this.$store.state.provider.routes.api_v1_provider_quote_policy_update).parse({quote_policy_identity:this.quote_policy.identity});return axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$noty.success(e.$t("ui.notifications.success.update__name",{name:e.$t("models.quote_policys")})),e.is_loading=!1,e.$router.go(-1)):(e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.quote_policys")})),e.is_loading=!1)})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.quote_policys")})),e.is_loading=!1})}}},validator:{target:"quote_policy",localize_key:"quote_policys",input_alert:!0,attributes:[{name:"name",required:!0}]},computed:{current_store:function(){return this.$store.state.provider.customers_module},current_customer:function(){var e=this;return _.findLast(this.current_store.customers,function(t){return t.identity==e.quote_policy.customer_identity})}},components:{}},mg=pg,fg=Object(Tt["a"])(mg,ug,dg,!1,null,null,null),hg=(fg.exports,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"new"}},[i("div",{staticClass:"ui segment"},[i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"clipboard icon"}),e._v("\n                "+e._s(e.$t("ui.page_titles.new_provider_contract"))+"\n            ")])]),i("div",{staticClass:"ui form"},[i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide required field",attrs:{"data-column":"name"}},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.name,expression:"contract.name"}],attrs:{type:"text"},domProps:{value:e.contract.name},on:{input:function(t){t.target.composing||e.$set(e.contract,"name",t.target.value)}}})]),i("div",{staticClass:"eight wide required field column",attrs:{"data-column":"number"}},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.number")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.number,expression:"contract.number"}],attrs:{type:"text"},domProps:{value:e.contract.number},on:{input:function(t){t.target.composing||e.$set(e.contract,"number",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide required field",attrs:{"data-column":"carrier_class"}},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.carrier_class")))]),e.$store.state.provider.node?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.contract.carrier_class,expression:"contract.carrier_class"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.contract,"carrier_class",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),i("option",{domProps:{value:e.$store.state.provider.node.carrier_class}},[e._v(e._s(e.$store.state.provider.node.company_short_name))]),i("option",{attrs:{value:"Carrier::LMSProxy"}},[e._v("自動轉運")])]):i("div",{staticClass:"ui inline active loader"})]),i("div",{staticClass:"eight wide field column"},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.proxy_contract")))]),e.current_store.provider_contracts?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.contract.proxy_contract_identity,expression:"contract.proxy_contract_identity"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.contract,"proxy_contract_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.current_store.provider_contracts,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2):i("div",{staticClass:"ui inline active loader"})])]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.is_automated_fetch_status,expression:"contract.is_automated_fetch_status"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(e.contract.is_automated_fetch_status)?e._i(e.contract.is_automated_fetch_status,null)>-1:e.contract.is_automated_fetch_status},on:{change:function(t){var i=e.contract.is_automated_fetch_status,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=e._i(i,a);n.checked?r<0&&e.$set(e.contract,"is_automated_fetch_status",i.concat([a])):r>-1&&e.$set(e.contract,"is_automated_fetch_status",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.contract,"is_automated_fetch_status",s)}}}),i("label",[e._v("\n                            是否自動同步貨況\n                        ")])])]),i("div",{staticClass:"eight wide field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.is_automated_send_data,expression:"contract.is_automated_send_data"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(e.contract.is_automated_send_data)?e._i(e.contract.is_automated_send_data,null)>-1:e.contract.is_automated_send_data},on:{change:function(t){var i=e.contract.is_automated_send_data,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=e._i(i,a);n.checked?r<0&&e.$set(e.contract,"is_automated_send_data",i.concat([a])):r>-1&&e.$set(e.contract,"is_automated_send_data",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.contract,"is_automated_send_data",s)}}}),i("label",[e._v("\n                            是否自動傳送EDI\n                        ")])])])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field",class:{required:e.contract.is_automated_fetch_status}},[i("label",[e._v("自動同步貨況設定")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.fetch_status_cron,expression:"contract.fetch_status_cron"}],attrs:{type:"text",disabled:!e.contract.is_automated_fetch_status},domProps:{value:e.contract.fetch_status_cron},on:{input:function(t){t.target.composing||e.$set(e.contract,"fetch_status_cron",t.target.value)}}}),e._l(e.human_readable_cron(e.contract.fetch_status_cron),function(t){return e.contract.fetch_status_cron?i("p",[i("i",[e._v("會於 "+e._s(t)+" 執行")])]):e._e()})],2),i("div",{staticClass:"eight wide field column",class:{required:e.contract.is_automated_send_data}},[i("label",[e._v("自動傳送EDI設定")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.send_data_cron,expression:"contract.send_data_cron"}],attrs:{type:"text",disabled:!e.contract.is_automated_send_data},domProps:{value:e.contract.send_data_cron},on:{input:function(t){t.target.composing||e.$set(e.contract,"send_data_cron",t.target.value)}}}),e._l(e.human_readable_cron(e.contract.send_data_cron),function(t){return e.contract.send_data_cron?i("p",[i("i",[e._v("會於 "+e._s(t)+" 執行")])]):e._e()})],2)])]),i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"code icon"}),e._v("\n                "+e._s(e.$t("ui.pages.customer_contracts.additional_information"))+"\n            ")])]),i("div",{staticClass:"ui form"},[i("div",{staticClass:"fields"},[i("div",{staticClass:"sixteen wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.note")))]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.contract.note,expression:"contract.note"}],attrs:{rows:"4"},domProps:{value:e.contract.note},on:{input:function(t){t.target.composing||e.$set(e.contract,"note",t.target.value)}}})]),i("div",{staticClass:"sixteen wide required field"},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.third_party_api_data")))]),i("codemirror",{attrs:{options:e.code_mirror_options},model:{value:e.contract.third_party_api_data,callback:function(t){e.$set(e.contract,"third_party_api_data",t)},expression:"contract.third_party_api_data"}})],1)])]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"right floated"},[i("a",{staticClass:"ui button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.$router.go(-1)}}},[e._v("\n                "+e._s(e.$t("ui.general.back"))+"\n            ")]),e.is_loading?i("a",{staticClass:"ui blue button",attrs:{href:"#"}},[e._v("\n                "+e._s(e.$t("ui.general.creating"))+"...\n            ")]):i("a",{staticClass:"ui blue button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.create_contract()}}},[e._v("\n                "+e._s(e.$t("ui.general.create"))+"\n            ")])]),i("div",{staticClass:"clear"})])])}),vg=[],gg=n("f8d8"),bg=n.n(gg),yg=n("8f94"),wg=(n("a7be"),n("8c2e"),n("f9d4"),{name:"ProviderCustomersContractsNew",mixins:[Vu.a],props:{},data:function(){return{is_loading:!1,contract:{customer_identity:this.$route.params.customer_identity,third_party_api_data:"{}"},code_mirror_options:{tabSize:4,smartIndent:!0,mode:"application/json",theme:"base16-dark",lineNumbers:!0,line:!0}}},mounted:function(){},watch:{},methods:{human_readable_cron:function(t){try{var i=bg.a.parseExpression(t,this.cron_parser_options),n=[];return n.push(T()(i.next().toString()).locale("zh-tw").format("lll")),n.push(T()(i.next().toString()).locale("zh-tw").format("lll")),n.push(T()(i.next().toString()).locale("zh-tw").format("lll")),n}catch(e){console.log(e)}},create_contract:function(){var e=this;if(this.valid()){this.is_loading=!0;var t=this.contract,i=new RestUrl(this.$store.state.provider.routes.api_v1_provider_contracts_create).parse();return axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$noty.success(e.$t("ui.notifications.success.create__name",{name:e.$t("models.contracts")})),e.is_loading=!1,e.$router.push({name:"provider_customers"})):(e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.contracts")})),e.is_loading=!1)})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.contracts")})),e.is_loading=!1})}}},validator:{target:"contract",localize_key:"contracts",input_alert:!0,attributes:[{name:"name",required:!0},{name:"number",required:!0},{name:"carrier_class",required:!0}]},computed:{current_store:function(){return this.$store.state.provider.customers_module}},components:{codemirror:yg["codemirror"]}}),$g=wg,kg=(n("388b"),Object(Tt["a"])($g,hg,vg,!1,null,null,null)),xg=kg.exports,Cg=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.contract.identity?i("div",{attrs:{id:"customer_contract_edit"}},[i("div",{staticClass:"ui segment"},[i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"clipboard icon"}),e._v("\n                "+e._s(e.$t("ui.pages.customers.contracts"))+"\n            ")])]),i("div",{staticClass:"ui form"},[i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide required field",attrs:{"data-column":"name"}},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.name,expression:"contract.name"}],attrs:{type:"text"},domProps:{value:e.contract.name},on:{input:function(t){t.target.composing||e.$set(e.contract,"name",t.target.value)}}})]),i("div",{staticClass:"eight wide required field column",attrs:{"data-column":"number"}},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.number")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.number,expression:"contract.number"}],attrs:{type:"text"},domProps:{value:e.contract.number},on:{input:function(t){t.target.composing||e.$set(e.contract,"number",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide required field",attrs:{"data-column":"carrier_class"}},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.carrier_class")))]),e.$store.state.provider.node?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.contract.carrier_class,expression:"contract.carrier_class"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.contract,"carrier_class",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),i("option",{domProps:{value:e.$store.state.provider.node.carrier_class}},[e._v(e._s(e.$store.state.provider.node.company_short_name))]),i("option",{attrs:{value:"Carrier::LMSProxy"}},[e._v("自動轉運")])]):i("div",{staticClass:"ui inline active loader"})]),i("div",{staticClass:"eight wide field column"},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.proxy_contract")))]),e.current_store.provider_contracts?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.contract.proxy_contract_identity,expression:"contract.proxy_contract_identity"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.contract,"proxy_contract_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.current_store.provider_contracts,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2):i("div",{staticClass:"ui inline active loader"})])]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.is_automated_fetch_status,expression:"contract.is_automated_fetch_status"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(e.contract.is_automated_fetch_status)?e._i(e.contract.is_automated_fetch_status,null)>-1:e.contract.is_automated_fetch_status},on:{change:function(t){var i=e.contract.is_automated_fetch_status,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=e._i(i,a);n.checked?r<0&&e.$set(e.contract,"is_automated_fetch_status",i.concat([a])):r>-1&&e.$set(e.contract,"is_automated_fetch_status",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.contract,"is_automated_fetch_status",s)}}}),i("label",[e._v("\n                            是否自動同步貨況\n                        ")])])]),i("div",{staticClass:"eight wide field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.is_automated_send_data,expression:"contract.is_automated_send_data"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(e.contract.is_automated_send_data)?e._i(e.contract.is_automated_send_data,null)>-1:e.contract.is_automated_send_data},on:{change:function(t){var i=e.contract.is_automated_send_data,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=e._i(i,a);n.checked?r<0&&e.$set(e.contract,"is_automated_send_data",i.concat([a])):r>-1&&e.$set(e.contract,"is_automated_send_data",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.contract,"is_automated_send_data",s)}}}),i("label",[e._v("\n                            是否自動傳送EDI\n                        ")])])])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field",class:{required:e.contract.is_automated_fetch_status}},[i("label",[e._v("自動同步貨況設定")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.fetch_status_cron,expression:"contract.fetch_status_cron"}],attrs:{type:"text",disabled:!e.contract.is_automated_fetch_status},domProps:{value:e.contract.fetch_status_cron},on:{input:function(t){t.target.composing||e.$set(e.contract,"fetch_status_cron",t.target.value)}}}),e._l(e.human_readable_cron(e.contract.fetch_status_cron),function(t){return e.contract.fetch_status_cron?i("p",[i("i",[e._v("會於 "+e._s(t)+" 執行")])]):e._e()})],2),i("div",{staticClass:"eight wide field column",class:{required:e.contract.is_automated_send_data}},[i("label",[e._v("自動傳送EDI設定")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.send_data_cron,expression:"contract.send_data_cron"}],attrs:{type:"text",disabled:!e.contract.is_automated_send_data},domProps:{value:e.contract.send_data_cron},on:{input:function(t){t.target.composing||e.$set(e.contract,"send_data_cron",t.target.value)}}}),e._l(e.human_readable_cron(e.contract.send_data_cron),function(t){return e.contract.send_data_cron?i("p",[i("i",[e._v("會於 "+e._s(t)+" 執行")])]):e._e()})],2)]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"right floated"},[e.is_loading?i("a",{staticClass:"ui blue button",attrs:{href:"#"}},[e._v("\n                    "+e._s(e.$t("ui.general.updating"))+"...\n                ")]):i("a",{staticClass:"ui blue button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.update_contract()}}},[e._v(e._s(e.$t("ui.general.update")))])]),i("div",{staticClass:"clear"})])]),i("div",{staticClass:"ui segment"},[i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"code icon"}),e._v("\n                "+e._s(e.$t("ui.pages.customer_contracts.additional_information"))+"\n            ")])]),i("div",{staticClass:"ui form"},[i("div",{staticClass:"fields"},[i("div",{staticClass:"sixteen wide red field"},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.note")))]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.contract.note,expression:"contract.note"}],attrs:{rows:"4"},domProps:{value:e.contract.note},on:{input:function(t){t.target.composing||e.$set(e.contract,"note",t.target.value)}}})]),i("div",{staticClass:"sixteen wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.third_party_api_data")))]),i("codemirror",{attrs:{options:e.code_mirror_options},model:{value:e.contract.third_party_api_data,callback:function(t){e.$set(e.contract,"third_party_api_data",t)},expression:"contract.third_party_api_data"}})],1)]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"right floated"},[e.is_loading?i("a",{staticClass:"ui blue button",attrs:{href:"#"}},[e._v("\n                    "+e._s(e.$t("ui.general.updating"))+"...\n                ")]):i("a",{staticClass:"ui blue button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.update_contract()}}},[e._v(e._s(e.$t("ui.general.update")))])]),i("div",{staticClass:"clear"})])]),i("div",{staticClass:"ui segment"},[i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"dollar sign icon"}),e._v("\n                "+e._s(e.$t("ui.page_titles.quote_policies"))+"\n            ")])]),i("table",{staticClass:"ui celled table"},[e._m(0),i("tbody",{staticClass:"center aligned"},e._l(e.contract.quote_policies,function(t){return i("tr",[i("td",[e._v(e._s(t.name))]),i("td",[e._v(e._s(e.human_datetime(t.begin_at)))]),i("td",[e._v(e._s(e.human_datetime(t.end_at)))]),i("td",[e._v(e._s(t.required_condition))]),i("td",[e._v(e._s(t.required_condition_polarity?"正":"負"))]),i("td",[e._v(e._s(t.required_material_class_name))]),i("td",[e._v(e._s(t.is_activated?"啟用":"不啟用"))]),i("td",[e._v(e._s(t.note))]),i("td",[i("router-link",{staticClass:"ui primary button",attrs:{to:{name:"provider_quote_policy",params:{customer_identity:e.$route.params.customer_identity,contract_identity:e.$route.params.contract_identity,quote_policy_identity:t.identity}}}},[e._v("\n                            檢視\n                        ")]),i("a",{staticClass:"ui orange button",on:{click:function(i){e.fetch_csv(t.identity)}}},[e._v("帳單")])],1)])}))])])]):e._e()},Pg=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("thead",{staticClass:"center aligned"},[i("tr",[i("th",[e._v("名稱")]),i("th",[e._v("開始於")]),i("th",[e._v("結束於")]),i("th",[e._v("條件名稱")]),i("th",[e._v("條件極性")]),i("th",[e._v("條件物料")]),i("th",[e._v("是否啟用")]),i("th",[e._v("備註")]),i("th",[e._v("動作")])])])}],Sg={name:"ProviderCustomersContractsEdit",mixins:[Vu.a],props:{},data:function(){return{is_loading:!1,contract:{},code_mirror_options:{tabSize:4,smartIndent:!0,mode:"application/json",theme:"base16-dark",lineNumbers:!0,line:!0},cron_parser_options:{currentDate:T()(),tz:"Asia/Taipei"}}},watch:{},mounted:function(){this.fetch_contract()},methods:{human_readable_cron:function(t){try{var i=bg.a.parseExpression(t,this.cron_parser_options),n=[];return n.push(T()(i.next().toString()).locale("zh-tw").format("lll")),n.push(T()(i.next().toString()).locale("zh-tw").format("lll")),n.push(T()(i.next().toString()).locale("zh-tw").format("lll")),n}catch(e){console.log(e)}},fetch_contract:function(){var e=this,t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_contract).parse({contract_identity:this.$route.params.contract_identity});return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.contract=t.data.contract,e.contract.third_party_api_data&&(e.contract.third_party_api_data=JSON.stringify(e.contract.third_party_api_data,void 0,4))})["catch"](function(e){return Promise.reject(e)})},update_contract:function(){var e=this;if(this.valid()){this.is_loading=!0;var t=this.contract,i=new RestUrl(this.$store.state.provider.routes.api_v1_provider_contract_update).parse({contract_identity:this.contract.identity});return axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$noty.success(e.$t("ui.notifications.success.update__name",{name:e.$t("models.contracts")})),e.is_loading=!1,e.$router.push({name:"provider_customers"})):(e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.contracts")})),e.is_loading=!1)})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.contracts")})),e.is_loading=!1})}}},validator:{target:"contract",localize_key:"customer_contracts",input_alert:!0,attributes:[{name:"name",required:!0},{name:"number",required:!0},{name:"carrier_class",required:!0}]},computed:{current_store:function(){return this.$store.state.provider.customers_module},current_customer:function(){var e=this;return _.findLast(this.current_store.customers,function(t){return t.identity==e.contract.customer_identity})}},components:{codemirror:yg["codemirror"]}},Ng=Sg,qg=Object(Tt["a"])(Ng,Cg,Pg,!1,null,null,null),Ag=qg.exports,Eg="provider_customers",zg="new_provider_customer",jg="provider_customer",Rg="new_provider_contract",Og="provider_contract",Ig="new_provider_quote_policy",Dg="provider_quote_policy",Lg="new_provider_quotation",Tg=[{path:"/",component:$v,name:"provider_customers",meta:{api_name:"api_v1_provider_customers",breadcrumb:[Eg],btns:[zg]}},{path:"new",component:Nv,name:"new_provider_customer",meta:{api_name:"api_v1_provider_customers_create",breadcrumb:[Eg,zg]}},{path:":customer_identity",component:Iv,name:"provider_customer",meta:{api_name:"api_v1_provider_customer",breadcrumb:[Eg,jg]}},{path:":customer_identity/contracts/new",component:xg,name:"new_provider_contract",meta:{api_name:"api_v1_provider_contracts_create",breadcrumb:[Eg,jg,Rg]}},{path:":customer_identity/contracts/:contract_identity",component:Ag,name:"provider_contract",meta:{api_name:"api_v1_provider_contract_update",breadcrumb:[Eg,jg,Og]}},{path:":customer_identity/contracts/:contract_identity/quote_policies/:quote_policy_identity",component:Wv,name:"provider_quote_policy",meta:{api_name:"api_v1_provider_quote_policy_update",breadcrumb:[Eg,jg,Og,Dg]}},{path:":customer_identity/contracts/:contract_identity/quote_policies/new",component:Uv,name:"new_provider_quote_policy",meta:{api_name:"api_v1_provider_quote_policy_create",breadcrumb:[Eg,jg,Og,Ig]}},{path:":customer_identity/contracts/:contract_identity/quote_policies/:quote_policy_identity/quotations/new",component:eg,name:"new_provider_quotation",meta:{api_name:"api_v1_provider_quotation_create",breadcrumb:[Eg,jg,Og,Dg,Lg]}}],Bg=Tg,Mg=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"index"}},[i("div",{staticClass:"ui middle aligned center aligned grid"},[i("div",{staticClass:"column"},[i("h1",{staticClass:"ui header"},[i("i",{staticClass:"icons"},[i("i",{staticClass:"red remove user large icon"}),i("span",[e._v("\n                        "+e._s(e.$t("ui.pages.partials.permission_denied.you_dont_permission"))+"\n                    ")])])]),e.back_two_page[1]?i("h2",{staticClass:"ui header"},[e._v("\n                "+e._s(e.$t("ui.general.cannot_use"))+"\n                "+e._s(e.$t("ui.page_titles."+e.back_two_page[0].name))+"\n                "+e._s(e.$t("page"))+"\n                "),i("br"),i("br"),"permission_denied"!=e.back_two_page[1].name?i("router-link",{staticClass:"ui big button",attrs:{to:{name:e.back_two_page[1].name}}},[e._v("\n                    "+e._s(e.$t("ui.general.back"))+" "+e._s(e.$t("ui.page_titles."+e.back_two_page[1].name))+"\n                ")]):i("router-link",{staticClass:"ui big button",attrs:{to:{name:"provider_index"}}},[e._v("\n                    "+e._s(e.$t("ui.general.back"))+"\n                    "+e._s(e.$t("ui.page_titles.index"))+"\n                ")])],1):e._e()])])])},Ug=[],Fg={props:{},data:function(){return{is_loading:!1}},mounted:function(){1==this.$store.state.back_two_page.length&&this.$router.push("/provider/")},watch:{},computed:{back_two_page:function(){return this.$store.state.back_two_page}},methods:{},components:{}},Yg=Fg,Gg=(n("dc72"),Object(Tt["a"])(Yg,Mg,Ug,!1,null,"e134fade",null)),Hg=Gg.exports,Kg=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"main"}},[i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1)],1)},Wg=[],Vg={props:{is_layout_data_fetched:Boolean},data:function(){return{is_loading:!1}},created:function(){var e=this;e.set_breadcrumbs(),e.init()},mounted:function(){},watch:{is_layout_data_fetched:function(e){var t=this;e&&t.init()}},methods:{init:function(){},set_breadcrumbs:function(){var e=this,t={route_name:"settings",name:"設定區"};switch(e.$route.name){case"settings":e.$store.state.breadcrumbs=[t];break;default:}}}},Xg=Vg,Qg=Object(Tt["a"])(Xg,Kg,Wg,!1,null,null,null),Zg=Qg.exports,Jg=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"uploader_layout"}},[e.is_initialized?i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1):i("div",[i("div",{staticClass:"ui inverted dimmer transition visible active",staticStyle:{display:"block !important"}},[i("div",{staticClass:"ui text loader"},[e._v(e._s(e.$t("ui.general.initializing")))])])])],1)},eb=[];function tb(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function ib(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){tb(a,n,s,r,o,"next",e)}function o(e){tb(a,n,s,r,o,"throw",e)}r(void 0)})}}var nb={name:"UploaderLayout",data:function(){return{is_initialized:!1}},computed:{},created:function(){this.init()},mounted:function(){},methods:{init:function(){var e=ib(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return console.log(this.$store),e.next=3,this.$store.dispatch("provider/uploader_module/set_urls");case 3:return e.next=5,new Promise(function(e){t.is_initialized=!0,e()});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{}},sb=nb,ab=Object(Tt["a"])(sb,Jg,eb,!1,null,null,null),rb=ab.exports,ob=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"assets_layout"}},[i("ErrorBox",{tag:"div",attrs:{errors:e.errors}}),i("div",{staticClass:"ui grid segment"},[i("div",{staticClass:"four wide column"},[i("div",{staticClass:"ui basic icon buttons"},[i("router-link",{directives:[{name:"popup",rawName:"v-popup"}],staticClass:"ui button",attrs:{to:{name:"new_asset"},"data-tooltip":e.$t("ui.page_titles.new_asset")}},[i("i",{staticClass:"plus icon"})])],1),i("div",{staticClass:"ui divider"}),e.is_initialized?i("div",{staticClass:"ui secondary fluid vertical pointing text menu"},[i("div",{staticClass:"item"},[i("h4",{staticClass:"ui grey header"},[e._v("\n                        "+e._s(e.$t("models.attributes.assets.category"))+"\n                    ")])]),e._l(e.categories,function(e){return i("LayoutMenuItem",{tag:"a",attrs:{category:e}})}),e.categories.length<1?i("div",{staticClass:"item"},[e._v("\n                    "+e._s(e.$t("ui.pages.assets.helps.no_anything_category"))+"\n                ")]):e._e()],2):e._e()]),i("div",{staticClass:"twelve wide column"},[e.is_initialized?i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1):i("div",[i("div",{staticClass:"ui inverted dimmer transition visible active",staticStyle:{display:"block !important"}},[i("div",{staticClass:"ui text loader"},[e._v("\n                        "+e._s(e.$t("ui.general.initializing"))+"\n                    ")])])])],1)])])},cb=[],_b=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"item"}},[i("router-link",{staticClass:"item",class:{active:e.is_activated},attrs:{to:{name:"assets_index",params:{category:e.category}}},nativeOn:{click:function(t){return e.set_current_category(t)}}},[e._v("\n        "+e._s(e.category)+"\n    ")])],1)},lb=[],ub={props:{category:String},data:function(){return{}},mounted:function(){},computed:{is_activated:function(){return this.category==this.$store.state.provider.assets_module.current_category}},methods:{set_current_category:function(){this.$store.state.provider.assets_module.current_category=this.category}},components:{}},db=ub,pb=Object(Tt["a"])(db,_b,lb,!1,null,"1f34ae0c",null),mb=pb.exports,fb=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"errors"},[e.errors.length>0?i("div",{staticClass:"ui red icon message"},[i("i",{staticClass:"warning icon"}),i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                "+e._s(e.$t("ui.notifications.error.please_handle_errors"))+"\n            ")]),e._l(e.errors,function(t,n){return i("p",[e._v(e._s(n+1)+". "+e._s(t))])})],2)]):e._e()])},hb=[],vb={props:{errors:Array},data:function(){return{}},mounted:function(){},computed:{},methods:{},components:{}},gb=vb,bb=Object(Tt["a"])(gb,fb,hb,!1,null,"53ad7b9d",null),yb=bb.exports;function wb(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function $b(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){wb(a,n,s,r,o,"next",e)}function o(e){wb(a,n,s,r,o,"throw",e)}r(void 0)})}}var kb={name:"AssetsLayout",data:function(){return{is_initialized:!1,errors:[]}},computed:{categories:function(){return this.$store.state.provider.assets_module.categories}},created:function(){},mounted:function(){var e=this;this.init(),this.$bus.$off("init"),this.$bus.$on("init",function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.init()})},beforeDestroy:function(){this.$bus.$off("init")},watch:{},methods:{init:function(){var e=$b(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fetch_categories();case 2:return e.next=4,new Promise(function(e){t.$noty.information(t.$t("ui.page_titles.assets")+" "+t.$t("ui.general.initialize_complete")),t.is_initialized=!0,e()});case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_categories:function(){var e=this,t=this.$store.state.provider.routes.api_v1_provider_assets;return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){return e.$store.state.provider.assets_module.categories=t.data.categories,t})["catch"](function(t){return e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("ui.pages.assets.categories"),reason:": "+t})),Promise.reject(t)})}},components:{LayoutMenuItem:mb,ErrorBox:yb}},xb=kb,Cb=Object(Tt["a"])(xb,ob,cb,!1,null,null,null),Pb=Cb.exports,Sb=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"status_prototypes_layout"}},[e.is_initialized?i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1):i("div",{staticClass:"ui active centered inline large loader"}),i("BackToTopButton",{tag:"div"})],1)},Nb=[];function qb(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function Ab(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){qb(a,n,s,r,o,"next",e)}function o(e){qb(a,n,s,r,o,"throw",e)}r(void 0)})}}var Eb={name:"StatusPrototypesLayout",data:function(){return{is_initialized:!1,errors:[]}},computed:{},created:function(){this.init()},mounted:function(){},watch:{},methods:{init:function(){var e=Ab(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!1,e()});case 2:return e.next=4,new Promise(function(e){t.is_initialized=!0,e()});case 4:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()},components:{BackToTopButton:kd}},zb=Eb,jb=Object(Tt["a"])(zb,Sb,Nb,!1,null,null,null),Rb=jb.exports,Ob=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"materials_layout"}},[e.is_initialized?i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1):i("div",{staticClass:"ui active centered inline large loader"})],1)},Ib=[];function Db(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function Lb(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){Db(a,n,s,r,o,"next",e)}function o(e){Db(a,n,s,r,o,"throw",e)}r(void 0)})}}var Tb={name:"MaterialsLayout",data:function(){return{is_initialized:!1,errors:[]}},computed:{},watch:{},created:function(){},mounted:function(){var e=this;this.init(),this.$bus.$off("init"),this.$bus.$on("init",function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.init()})},beforeDestroy:function(){this.$bus.$off("init")},methods:{init:function(){var e=Lb(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!1,e()});case 2:return e.next=4,new Promise(function(e){t.$noty.information(t.$t("ui.page_titles.materials")+" "+t.$t("ui.general.initialize_complete"),300),t.is_initialized=!0,e()});case 4:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()},components:{}},Bb=Tb,Mb=Object(Tt["a"])(Bb,Ob,Ib,!1,null,null,null),Ub=Mb.exports,Fb=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"layout"}},[i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view",{attrs:{data_fetched:e.data_fetched}})],1),i("BackToTopButton",{tag:"div"})],1)},Yb=[];function Gb(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function Hb(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){Gb(a,n,s,r,o,"next",e)}function o(e){Gb(a,n,s,r,o,"throw",e)}r(void 0)})}}var Kb={name:"PermissionGroupsLayout",props:{is_layout_data_fetched:Boolean},data:function(){return{errors:[],data_fetched:!1}},computed:{},created:function(){},mounted:function(){var e=this;e.init(),e.$bus.$off("init"),e.$bus.$on("init",function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.init()}.bind(this)),e.$bus.$off("index_page"),e.$bus.$on("index_page",function(t){e.$store.state.provider.permission_groups_module.current_page=t,e.get_permission_groups(t)}.bind(this))},beforeDestroy:function(){this.$bus.$off("init")},watch:{is_layout_data_fetched:function(e){var t=this;e&&t.init()}},methods:{refresh:function(){location.reload()},init:function(){var e=Hb(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,new Promise(function(e){t.is_initialized=!1,e()});case 4:return e.next=6,t.get_permissions();case 6:return e.next=8,t.get_permission_groups();case 8:return e.next=10,new Promise(function(e){t.is_initialized=!0,t.$noty.information(t.$t("ui.page_titles.permission_groups")+" "+t.$t("ui.general.initialize_complete"),300),e()});case 10:e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](1),console.log(e.t0);case 15:case"end":return e.stop()}},e,this,[[1,12]])}));function t(){return e.apply(this,arguments)}return t}(),get_permissions:function(){var e=this,t=e.$store.state.provider.routes.api_v1_provider_permissions;e.is_initializing=!0,axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"==t.data.status){var i=_.remove(t.data.permissions,function(e){return"api_v1_provider_me"!=e.name&&"api_v1_provider_routes"!=e.name});e.$store.state.provider.permission_groups_module.permissions=i}else e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.permissionss")}));e.is_initializing=!1})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.permissionss"),reason:": "+t})),e.is_initializing=!1})},get_permission_groups:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this,i=t.$store.state.provider.routes.api_v1_provider_permission_groups+"?page=";i=e?i+e:i+t.$store.state.provider.permission_groups_module.current_page,t.search&&(i=i+"&search="+t.search),t.is_initializing=!0,axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){if("success"==e.data.status){var i=t.$store.state.provider.permission_groups_module;i.permission_groups=e.data.permission_groups,i.current_page=e.data.pagination.current_page,i.total_pages=e.data.pagination.total_pages,t.data_fetched=!0}else t.$noty.error(t.$t("ui.notifications.error.fetch__name",{name:t.$t("models.permission_groups")}));t.is_initializing=!1})["catch"](function(e){t.$noty.error(t.$t("ui.notifications.error.fetch__name",{name:t.$t("models.permission_groups"),reason:": "+e})),t.is_initializing=!1})}},components:{BackToTopButton:kd}},Wb=Kb,Vb=(n("7a74"),Object(Tt["a"])(Wb,Fb,Yb,!1,null,null,null)),Xb=Vb.exports,Qb=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"operations_layout"}},[e.is_initialized?i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1):i("div",{staticClass:"ui active centered inline large loader"})],1)},Zb=[];function Jb(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function ey(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){Jb(a,n,s,r,o,"next",e)}function o(e){Jb(a,n,s,r,o,"throw",e)}r(void 0)})}}var ty={name:"CoreWaybillsLayout",data:function(){return{is_initialized:!1,errors:[]}},created:function(){this.init()},mounted:function(){},watch:{},computed:{},methods:{init:function(){var e=ey(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!1,e()});case 2:return e.next=4,new Promise(function(e){t.is_initialized=!0,e()});case 4:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()},components:{}},iy=ty,ny=Object(Tt["a"])(iy,Qb,Zb,!1,null,null,null),sy=ny.exports,ay=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"packer"}},[i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1)],1)},ry=[],oy={props:{},data:function(){return{}},created:function(){},mounted:function(){},watch:{},methods:{},components:{},computed:{}},cy=oy,_y=Object(Tt["a"])(cy,ay,ry,!1,null,"536574f5",null),ly=_y.exports,uy=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.is_initialized?i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1):e._e(),i("div",{staticClass:"ui inverted dimmer transition",class:{active:!e.is_initialized}},[i("div",{staticClass:"ui text loader"},[e._v("\n            "+e._s(e.$t("ui.general.initializing"))+"\n        ")])])],1)},dy=[];function py(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function my(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){py(a,n,s,r,o,"next",e)}function o(e){py(a,n,s,r,o,"throw",e)}r(void 0)})}}var fy={name:"OperationsLayout",data:function(){return{is_initialized:!1,errors:[]}},computed:{},watch:{},created:function(){},mounted:function(){var e=this;this.init(),this.$bus.$off("init"),this.$bus.$on("init",function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.init()})},beforeDestroy:function(){this.$bus.$off("init")},methods:{init:function(){var e=my(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!1,e()});case 2:return e.next=4,this.$store.dispatch("provider/operations_module/fetch_staffs");case 4:return e.next=6,new Promise(function(e){t.is_initialized=!0,t.$noty.information(t.$t("ui.page_titles.provider_operations")+" "+t.$t("ui.general.initialize_complete"),300),e()});case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{}},hy=fy,vy=Object(Tt["a"])(hy,uy,dy,!1,null,null,null),gy=vy.exports,by=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"appraisals_layout"}},[i("ErrorBox",{tag:"div",attrs:{errors:e.errors}}),e.is_initialized?i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1):i("div",{staticClass:"ui active centered inline large loader"})],1)},yy=[],wy=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"errors"},[e.errors.length>0?i("div",{staticClass:"ui red icon message"},[i("i",{staticClass:"warning icon"}),i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                "+e._s(e.$t("ui.notifications.error.please_handle_errors"))+"\n            ")]),e._l(e.errors,function(t,n){return i("p",[e._v(e._s(n+1)+". "+e._s(t))])})],2)]):e._e()])},$y=[],ky={props:{errors:Array},data:function(){return{}},mounted:function(){},computed:{},methods:{},components:{}},xy=ky,Cy=Object(Tt["a"])(xy,wy,$y,!1,null,"362812e0",null),Py=Cy.exports;function Sy(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function Ny(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){Sy(a,n,s,r,o,"next",e)}function o(e){Sy(a,n,s,r,o,"throw",e)}r(void 0)})}}var qy={data:function(){return{is_initialized:!1,errors:[]}},computed:{},watch:{},created:function(){this.init()},mounted:function(){},methods:{init:function(){var e=Ny(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,new Promise(function(e){t.$noty.information(t.$t("ui.page_titles.appraisals")+" "+t.$t("ui.general.initialize_complete"),300),t.is_initialized=!0,e()});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{ErrorBox:Py}},Ay=qy,Ey=Object(Tt["a"])(Ay,by,yy,!1,null,null,null),zy=Ey.exports,jy=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"user_logs_layout"}},[e.is_initialized?i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1):i("div",{staticClass:"ui active centered inline large loader"})],1)},Ry=[];function Oy(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function Iy(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){Oy(a,n,s,r,o,"next",e)}function o(e){Oy(a,n,s,r,o,"throw",e)}r(void 0)})}}var Dy={name:"UserLogsLayout",data:function(){return{is_initialized:!1,errors:[]}},computed:{},created:function(){this.init()},mounted:function(){},watch:{},methods:{init:function(){var e=Iy(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!1,e()});case 2:return e.next=4,new Promise(function(e){t.is_initialized=!0,e()});case 4:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()},components:{}},Ly=Dy,Ty=Object(Tt["a"])(Ly,jy,Ry,!1,null,null,null),By=Ty.exports,My=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"driver_commission_policies_layout"}},[i("ErrorBox",{tag:"div",attrs:{errors:e.errors}}),e.is_initialized?i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1):i("div",{staticClass:"ui active centered inline large loader"})],1)},Uy=[],Fy=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"errors"},[e.errors.length>0?i("div",{staticClass:"ui red icon message"},[i("i",{staticClass:"warning icon"}),i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                "+e._s(e.$t("ui.notifications.error.please_handle_errors"))+"\n            ")]),e._l(e.errors,function(t,n){return i("p",[e._v(e._s(n+1)+". "+e._s(t))])})],2)]):e._e()])},Yy=[],Gy={name:"ErrorBox",props:{errors:Array},data:function(){return{}},mounted:function(){},computed:{},methods:{},components:{}},Hy=Gy,Ky=Object(Tt["a"])(Hy,Fy,Yy,!1,null,"51ccce91",null),Wy=Ky.exports;function Vy(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function Xy(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){Vy(a,n,s,r,o,"next",e)}function o(e){Vy(a,n,s,r,o,"throw",e)}r(void 0)})}}var Qy={name:"DriverCommissionPoliciesLayout",data:function(){return{is_initialized:!1,errors:[]}},computed:{},watch:{},created:function(){this.init()},mounted:function(){},methods:{init:function(){var e=Xy(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!1,e()});case 2:return this.$noty.information(this.$t("ui.page_titles.driver_commission_policies")+" "+this.$t("ui.general.initialize_complete"),300),e.next=5,new Promise(function(e){t.is_initialized=!0,e()});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{ErrorBox:Wy}},Zy=Qy,Jy=Object(Tt["a"])(Zy,My,Uy,!1,null,null,null),ew=Jy.exports,tw=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"driver_commission_reports_layout"}},[i("ErrorBox",{tag:"div",attrs:{errors:e.errors}}),e.is_initialized?i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1):i("div",{staticClass:"ui active centered inline large loader"})],1)},iw=[],nw=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"errors"},[e.errors.length>0?i("div",{staticClass:"ui red icon message"},[i("i",{staticClass:"warning icon"}),i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                "+e._s(e.$t("ui.notifications.error.please_handle_errors"))+"\n            ")]),e._l(e.errors,function(t,n){return i("p",[e._v(e._s(n+1)+". "+e._s(t))])})],2)]):e._e()])},sw=[],aw={name:"ErrorBox",props:{errors:Array},data:function(){return{}},mounted:function(){},computed:{},methods:{},components:{}},rw=aw,ow=Object(Tt["a"])(rw,nw,sw,!1,null,"076d2d14",null),cw=ow.exports;function _w(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function lw(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){_w(a,n,s,r,o,"next",e)}function o(e){_w(a,n,s,r,o,"throw",e)}r(void 0)})}}var uw={name:"DriverCommissionReportsLayout",data:function(){return{is_initialized:!1,errors:[]}},computed:{},watch:{},created:function(){this.init()},mounted:function(){},methods:{init:function(){var e=lw(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!1,e()});case 2:return this.$noty.information(this.$t("ui.page_titles.driver_commission_reports")+" "+this.$t("ui.general.initialize_complete"),300),e.next=5,new Promise(function(e){t.is_initialized=!0,e()});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{ErrorBox:cw}},dw=uw,pw=Object(Tt["a"])(dw,tw,iw,!1,null,null,null),mw=pw.exports,fw=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"scan_action_prototypes_layout"}},[e.is_initialized?i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1):i("div",{staticClass:"ui active centered inline large loader"}),i("BackToTopButton",{tag:"div"})],1)},hw=[];function vw(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function gw(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){vw(a,n,s,r,o,"next",e)}function o(e){vw(a,n,s,r,o,"throw",e)}r(void 0)})}}var bw={name:"ScanActionPrototypesLayout",data:function(){return{is_initialized:!1,errors:[]}},computed:{},created:function(){this.init()},mounted:function(){},watch:{},methods:{init:function(){var e=gw(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!1,e()});case 2:return e.next=4,new Promise(function(e){t.is_initialized=!0,e()});case 4:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()},components:{BackToTopButton:kd}},yw=bw,ww=Object(Tt["a"])(yw,fw,hw,!1,null,null,null),$w=ww.exports,kw=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("ErrorBox",{tag:"div",attrs:{errors:e.errors}}),e.is_initialized?i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1):i("div",{staticClass:"ui active centered inline large loader"})],1)},xw=[],Cw=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"errors"},[e.errors.length>0?i("div",{staticClass:"ui red icon message"},[i("i",{staticClass:"warning icon"}),i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                "+e._s(e.$t("ui.notifications.error.please_handle_errors"))+"\n            ")]),e._l(e.errors,function(t,n){return i("p",[e._v(e._s(n+1)+". "+e._s(t))])})],2)]):e._e()])},Pw=[],Sw={name:"ErrorBox",props:{errors:Array},data:function(){return{}},mounted:function(){},computed:{},methods:{},components:{}},Nw=Sw,qw=Object(Tt["a"])(Nw,Cw,Pw,!1,null,"186befb8",null),Aw=qw.exports;function Ew(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function zw(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){Ew(a,n,s,r,o,"next",e)}function o(e){Ew(a,n,s,r,o,"throw",e)}r(void 0)})}}var jw={name:"ProviderNodeLayout",data:function(){return{is_initialized:!1,errors:[]}},computed:{},watch:{},created:function(){this.init()},mounted:function(){},methods:{init:function(){var e=zw(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!1,e()});case 2:return e.next=4,this.$noty.information(this.$t("ui.page_titles.provider_node")+" "+this.$t("ui.general.initialize_complete"),300);case 4:return e.next=6,new Promise(function(e){t.is_initialized=!0,e()});case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{ErrorBox:Aw}},Rw=jw,Ow=Object(Tt["a"])(Rw,kw,xw,!1,null,null,null),Iw=Ow.exports,Dw=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Lw=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"index"}},[i("div",{staticClass:"ui container"},[i("div",{staticClass:"ui stackable grid container"},[i("div",{staticClass:"seven wide column"},[e._v("\n                暫時無任何設定\n            ")])])])])}],Tw={components:{}},Bw=Tw,Mw=Object(Tt["a"])(Bw,Dw,Lw,!1,null,null,null),Uw=Mw.exports,Fw=[{path:"",component:Uw,name:"settings"}],Yw=Fw,Gw=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"uploader"}},[i("Steps",{tag:"div",attrs:{current_step:e.current_step,checked_count:e.checked_operation_count,uploaded_count:e.uploaded_operation_count,data_count:e.operations_count,is_processing:e.is_processing}}),i("div",{staticClass:"ui divider"}),e.is_processing?i("div",{staticClass:"ui indicating complete progress",attrs:{id:"index-progress-bar"}},[e._m(0)]):e._e(),i("ErrorBox",{attrs:{errors:e.errors}}),e.is_initialized?i("div",{staticClass:"basic_options"},[i("div",{staticClass:"ui top attached mini segment",class:{green:e.basic_options_setted,orange:!e.basic_options_setted}},[i("h3",{staticClass:"ui header"},[i("i",{staticClass:"upload icon"}),i("div",{staticClass:"content"},[e._v("\n                    "+e._s(e.$t("ui.pages.uploader.upload_operation_list"))+"\n                ")])])]),i("div",{staticClass:"ui bottom attached segment"},[i("div",{staticClass:"ui grid"},[i("div",{staticClass:"eight wide column"},[i("div",{staticClass:"ui segments"},[i("div",{staticClass:"ui segment"},[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.file.name"))+"：\n                            "),i("span",[e._v(e._s(e.file_name||"N/A"))])]),i("div",{staticClass:"ui segment"},[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.file.size"))+"：\n                            "),i("span",[e._v(e._s(e.file_size_in_bytes)+" Bytes / 1024000 Bytes")])]),i("div",{staticClass:"ui segment"},[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.file.path"))+"：\n                            "),e.is_file_uploaded?i("span",[i("a",{attrs:{href:e.file_s3_path}},[e._v(e._s(e.file_name))])]):i("span",[e._v("N/A")])]),i("div",{staticClass:"ui segment"},[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.file.upload"))+"：\n                            "),e.is_file_uploaded?i("span",[i("i",{staticClass:"check icon"}),e._v("\n                                "+e._s(e.$t("ui.pages.uploader.file.complete"))+"\n                            ")]):i("span",[i("i",{staticClass:"warning icon"}),e._v("\n                                "+e._s(e.$t("ui.pages.uploader.file.not_uploaded"))+"\n                            ")])])])]),e.basic_options_setted?i("div",{staticClass:"eight wide column ui form"},[i("div",{staticClass:"field"},[i("label",[e._v("\n                            "+e._s(e.$t("ui.general.please_select"))+"\n                            "),e._v("\n                            "+e._s(e.$t("ui.pages.uploader.operation_list"))+"\n                        ")]),i("span",[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.selected"))+"\n                            【"+e._s(e.file_name)+"】\n                        ")])]),i("div",{staticClass:"field"},[i("label",[e._v("\n                            "+e._s(e.$t("ui.general.please_select"))+"\n                            "+e._s(e.$t("models.attributes.core_waybills.sender"))+"\n                        ")]),i("span",[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.selected"))+"\n                            "+e._s(e.requester_node.company_name)+"\n                        ")])]),i("div",{staticClass:"field"},[i("label",[e._v("\n                            "+e._s(e.$t("ui.general.please_select"))+"\n                            "),e._v("\n                            "+e._s(e.$t("ui.pages.uploader.contract"))+"\n                        ")]),i("span",[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.selected"))+"\n                            "+e._s(e.requester_contract.name)+"\n                        ")])]),i("div",{staticClass:"field"},[i("label",[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.your_actions"))+"\n                        ")]),i("span",[e._v(e._s(e.current_converter.name))])])]):e._e()]),i("div",{staticClass:"ui divider"}),e.basic_options_setted?i("div",[(e.is_processing||!e.can_next_step)&&e.current_step<4?i("a",{staticClass:"ui large fluid primary button disabled"},[e._v("\n                    "+e._s(e.$t("ui.general.initializing"))+"\n                ")]):e.current_step<4?i("a",{staticClass:"ui large fluid primary button",on:{click:function(t){e.steps_callback_center(e.current_step)}}},[e._v("\n                    "+e._s(e.$t("ui.general.submit"))+"\n                ")]):e._e()]):e._e(),i("div",{staticClass:"clear"})])]):i("div",[i("div",{staticClass:"ui inverted dimmer transition visible active",staticStyle:{display:"block !important"}},[i("div",{staticClass:"ui text loader"},[e._v(e._s(e.$t("ui.general.initializing")))])])]),i("div",{staticClass:"ui divider"}),e.current_step>=4?i("div",[i("div",{staticClass:"ui icon positive message"},[i("i",{staticClass:"check icon"}),i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                    "+e._s(e.$t("ui.pages.uploader.upload_detail_completed"))+"\n                ")]),i("p",[i("button",{staticClass:"ui primary button",on:{click:e.init}},[e._v("\n                        "+e._s(e.$t("ui.pages.uploader.continue_next_file"))+"\n                    ")])])])])]):e._e(),i("div",{staticClass:"operations_dashboard"},e._l(e.receivers,function(e,t){return i("Operation",{tag:"div",attrs:{receiver:e,index:t}})})),e.is_initialized?i("div",{ref:"operation_target_selector",staticClass:"ui dimmer"},[i("div",{ref:"converters",staticClass:"content"},[i("h1",[e._v("\n                "+e._s(e.$t("ui.pages.uploader.dimmer.what_do_you_want_now"))+"...\n            ")]),i("div",{staticClass:"ui link cards"},e._l(e.converters,function(t){return i("div",{staticClass:"card"},[i("div",{staticClass:"content",on:{click:function(i){e.$store.commit(e.current_scope+"/uploader_module/set_current_converter",t),e.$(e.$refs.converters).hide(),e.$(e.$refs.file_selector).show()}}},[i("div",{staticClass:"header"},[e._v("\n                            "+e._s(t.name)+"\n                        ")]),i("div",{staticClass:"description"},[e._v("\n                            "+e._s(t.note)+"\n                        ")])]),t.sample_file_url?i("div",{staticClass:"extra content"},[i("a",{staticClass:"right floated star",attrs:{href:t.sample_file_url}},[e._m(1,!0),i("span",[e._v("\n                                "+e._s(e.$t("ui.pages.uploader.dimmer.download_sample_file"))+"\n                            ")])])]):e._e()])}))]),i("div",{ref:"file_selector",staticClass:"content",staticStyle:{display:"none"}},[i("h1",[e._v("\n                "+e._s(e.$t("ui.pages.uploader.dimmer.please_upload_your_file"))+"...\n            ")]),i("div",{staticClass:"ui link cards"},[i("div",{staticClass:"card"},[i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.dimmer.select_file"))+"\n                        ")]),i("div",{staticClass:"description"},[i("input",{ref:"file_input_field",attrs:{type:"file"},on:{change:function(t){e.select_file(t)}}})])])]),i("div",{staticClass:"card",on:{click:e.init}},[i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.redo"))+"\n                        ")]),i("div",{staticClass:"description"},[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.dimmer.clicked_this_card_redo"))+"\n                        ")])])])])]),i("div",{ref:"requester_selector",staticClass:"content",staticStyle:{display:"none"}},[i("h1",[e._v("\n                "+e._s(e.$t("ui.general.please_select"))+"\n                "+e._s(e.$t("models.attributes.core_waybills.sender"))+"...\n            ")]),i("div",{staticClass:"ui link cards"},[i("div",{staticClass:"card"},[i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection dropdown"},[i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"default text"},[e._v("\n                                    "+e._s(e.$t("ui.general.please_select"))+"\n                                    "+e._s(e.$t("models.attributes.core_waybills.sender"))+"\n                                ")]),i("div",{staticClass:"menu"},e._l(e.customers,function(t){return i("div",{staticClass:"item",on:{click:function(i){e.$store.commit(e.current_scope+"/uploader_module/set_requester_node",t),1==t.contracts.length&&(e.$store.commit(e.current_scope+"/uploader_module/set_requester_contract",t.contracts[0]),e.$(e.$refs.requester_selector).hide(),e.$(e.$refs.loader).show(),e.steps_callback_center(1))}}},[e._v("\n                                            "+e._s(t.company_name)+"\n                                    ")])}))])]),e.current_scoped_store.uploader_module.requester_node?i("div",{staticClass:"description"},[i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection dropdown"},[i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"default text"},[e._v("\n                                    "+e._s(e.$t("ui.general.please_select"))+"\n                                    "+e._s(e.$t("ui.pages.uploader.contract"))+"\n                                ")]),i("div",{staticClass:"menu"},e._l(e.current_scoped_store.uploader_module.requester_node.contracts,function(t){return i("div",{staticClass:"item",on:{click:function(i){e.$store.commit(e.current_scope+"/uploader_module/set_requester_contract",t),e.$(e.$refs.requester_selector).hide(),e.$(e.$refs.loader).show(),e.steps_callback_center(1)}}},[e._v("\n                                            "+e._s(t.name)+"\n                                    ")])}))])]):e._e()])]),i("div",{staticClass:"card",on:{click:e.init}},[i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.redo"))+"\n                        ")]),i("div",{staticClass:"description"},[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.dimmer.clicked_this_card_redo"))+"\n                        ")])])])])]),i("div",{ref:"loader",staticClass:"content",staticStyle:{display:"none"}},[i("div",{staticClass:"ui text loader"},[e._v("Loading")])])]):e._e(),i("BackToTopButton",{tag:"div"})],1)},Hw=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"bar"},[i("div",{staticClass:"progress"})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui circular icon button"},[i("i",{staticClass:"download icon"})])}],Kw=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"steps"}},[i("div",{staticClass:"ui fluid steps margin_center"},[i("div",{staticClass:"step",class:{active:1==e.current_step,disabled:e.current_step<1}},[i("div",{staticClass:"ui top left attached label button",on:{click:function(t){e.$parent.init()}}},[i("i",{staticClass:"refresh icon"}),e._v("\n                "+e._s(e.$t("ui.pages.uploader.redo"))+"\n            ")]),1==e.is_processing&&1==e.current_step?i("i",{staticClass:"notched circle loading icon"}):i("i",{staticClass:"attached pointing right icon"}),i("div",{staticClass:"content"},[i("div",{staticClass:"title"},[e._v("\n                    "+e._s(e.$t("ui.pages.uploader.steps.title.operation"))+"\n                ")]),i("div",{staticClass:"description"},[e._v("\n                    "+e._s(e.$t("ui.pages.uploader.steps.description.operation_content"))+"\n                ")])])]),i("div",{staticClass:"step",class:{active:2==e.current_step,disabled:e.current_step<2}},[1==e.is_processing&&2==e.current_step?i("i",{staticClass:"notched circle loading icon"}):i("i",{staticClass:"browser icon"}),i("div",{staticClass:"content"},[i("div",{staticClass:"title"},[e._v("\n                    "+e._s(e.$t("ui.pages.uploader.steps.title.confirm_data"))+"\n                    ("+e._s(e.checked_count)+"/"+e._s(e.data_count)+")\n                ")]),i("div",{staticClass:"description"},[e._v("\n                    "+e._s(e.$t("ui.pages.uploader.steps.description.confirm_data_is_correct"))+"\n                ")])])]),i("div",{staticClass:"step",class:{active:3==e.current_step,disabled:e.current_step<3}},[1==e.is_processing&&3==e.current_step?i("i",{staticClass:"notched circle loading icon"}):i("i",{staticClass:"cloud upload icon"}),i("div",{staticClass:"content"},[i("div",{staticClass:"title"},[e._v("\n                    "+e._s(e.$t("ui.pages.uploader.steps.title.upload_data"))+"\n                    ("+e._s(e.uploaded_count)+"/"+e._s(e.data_count)+")\n                ")]),i("div",{staticClass:"description"},[e._v("\n                    "+e._s(e.$t("ui.pages.uploader.steps.description.upload_data_to_server"))+"\n                ")])])])])])},Ww=[],Vw={name:"UploaderSteps",props:{current_step:Number,checked_count:Number,uploaded_count:Number,data_count:Number,is_processing:Boolean},data:function(){return{}},mounted:function(){},methods:{}},Xw=Vw,Qw=Object(Tt["a"])(Xw,Kw,Ww,!1,null,"1ea8343f",null),Zw=Qw.exports,Jw=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui container contents"},[e.errors.length>0?i("div",{staticClass:"ui red icon message"},[i("i",{staticClass:"warning icon"}),i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                    "+e._s(e.$t("ui.notifications.error.please_handle_errors"))+"\n                ")]),e._l(e.errors,function(t,n){return i("p",[e._v(e._s(n+1)+". "+e._s(t))])})],2)]):e._e(),e.is_initializing?i("div",{staticClass:"ui segment"},[i("div",{staticClass:"ui active inverted dimmer"},[i("div",{staticClass:"ui text loader"},[e._v("\n                    "+e._s(e.$t("ui.general.initializing"))+"\n                ")])])]):i("div",{staticClass:"dashboard"},[i("div",{staticClass:"ui top attached mini segment",class:{green:!e.is_processing&&null!=e.receiver_index,orange:!e.is_processing&&null==e.receiver_index}},[e.is_processing?i("div",{staticClass:"ui top attached green progress",attrs:{id:e.receiver+"-progress-bar"}},[i("div",{staticClass:"bar"})]):e._e(),i("h3",{staticClass:"ui header"},[e.is_processing?i("i",{staticClass:"notched circle loading icon"}):e.is_done?i("i",{staticClass:"check icon"}):i("i",{staticClass:"edit icon"}),i("div",{staticClass:"content"},[e.operation.identity?i("span",["provider"==e.current_scope?i("router-link",{attrs:{to:{name:"edit_provider_operation",params:{identity:e.operation.identity}},target:"_blank"}},[e._v("\n                                "+e._s(e.receiver)+" "+e._s(e.$t("models.operations"))+" "+e._s(e.operation.identity)+"\n                            ")]):e._e(),"customer"==e.current_scope?i("router-link",{attrs:{to:{name:"show_customer_operation",params:{identity:e.operation.identity}},target:"_blank"}},[e._v("\n                                "+e._s(e.receiver)+" "+e._s(e.$t("models.operations"))+" "+e._s(e.operation.identity)+"\n                            ")]):e._e()],1):i("span",[e._v("\n                            "+e._s(e.receiver)+" "+e._s(e.$t("models.operations"))+" "+e._s(e.operation.identity)+"\n                        ")])])])]),i("div",{staticClass:"ui attached mini segment"},[i("table",{staticClass:"ui very basic table"},[i("tr",[i("td",{staticClass:"center aligned"},[i("div",{staticClass:"ui gray label"},[i("span",[e._v(e._s(e.requester_node.company_name))])])]),e._m(0),i("td",{staticClass:"center aligned"},[i("h4",{staticClass:"operation_identity"},[i("div",{directives:[{name:"popup",rawName:"v-popup"}],staticClass:"ui orange label"},[e._v("\n                                    "+e._s(e.operator_node.company_name)+"\n                                ")])])]),e._m(1),i("td",{staticClass:"center aligned"},[i("div",{staticClass:"ui gray label",attrs:{title:e.receiver_index}},[i("span",[e._v("\n                                    "+e._s(e.$t("ui.pages.uploader.delivery"))+"\n                                ")])])])])])]),i("div",{staticClass:"ui attached segment form"},[i("div",{staticClass:"field",class:{disabled:e.$parent.is_processing}},[i("label",[e._v("\n                        "+e._s(e.$t("models.operations"))+"\n                        "+e._s(e.$t("ui.general.note"))+"\n                    ")]),e.is_operation_created||e.is_processing?i("span",[e._v(e._s(e.operation.operator_note||"-"))]):i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.operation.operator_note,expression:"operation.operator_note"}],attrs:{rows:"4",placeholder:e.$t("models.operations")+" "+e.$t("ui.general.note")},domProps:{value:e.operation.operator_note},on:{input:function(t){t.target.composing||e.$set(e.operation,"operator_note",t.target.value)}}})])]),i("div",{staticClass:"ui bottom attached segment"},[i("div",{directives:[{name:"accordion",rawName:"v-accordion"}],staticClass:"ui accordion",attrs:{id:e.receiver_index+"-waybills-accordion"}},[i("div",{staticClass:"active title"},[i("i",{staticClass:"dropdown icon"}),e._v("\n                        "+e._s(e.$t("ui.general.detail"))+"\n                    ")]),i("div",{staticClass:"active content",staticStyle:{"overflow-x":"scroll"}},[i("Waybills",{tag:"div",attrs:{operation_identity:e.operation.identity,group:e.receiver}})])])])])])])},e$=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{staticClass:"center aligned"},[i("i",{staticClass:"ui icon chevron right"})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{staticClass:"center aligned"},[i("i",{staticClass:"ui icon chevron right"})])}],t$=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("table",{staticClass:"ui celled selectable single line table cell_input_table"},[i("thead",[i("tr",[i("th",{staticStyle:{"white-space":"nowrap"}},[e._v("\n                "+e._s(e.$t("ui.pages.uploader.total__number",{number:e.waybill_raw_datas.length}))+"\n            ")]),e._l(e.conversions,function(t){return i("th",{staticStyle:{"white-space":"nowrap"}},[e._v("\n                "+e._s(t.header_text)+"\n            ")])})],2)]),i("tbody",e._l(e.waybill_raw_datas,function(t,n){return i("Waybill",{key:t.number,tag:"tr",attrs:{conversions:e.conversions,waybill_raw_data:t,"data-total-row":e.waybill_raw_datas.length,"data-total-column":e.conversions.length,"data-row":n+1,group:e.group}})})),i("tfoot",[i("tr",[i("th",[e._v("\n                "+e._s(e.$t("ui.pages.uploader.total__number",{number:e.waybill_raw_datas.length}))+"\n            ")]),i("th",{attrs:{colspan:e.conversions.length,align:"right"}},[e._v("\n                "+e._s(e.$t("ui.pages.uploader.total"))+"\n            ")])])])])},i$=[],n$=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{class:{negative:e.is_failed,positive:e.is_checked}},[i("td",[e.is_failed?i("div",{directives:[{name:"popup",rawName:"v-popup"}],staticClass:"ui basic negative icon button",attrs:{"data-tooltip":e.status}},[i("i",{staticClass:"remove icon"})]):i("div",[e.is_processing?i("div",{directives:[{name:"popup",rawName:"v-popup"}],staticClass:"ui basic icon button",attrs:{"data-tooltip":e.status}},[i("i",{staticClass:"notched circle loading icon"})]):i("div",[e.is_checked?i("div",[e.is_uploaded?i("div",{directives:[{name:"popup",rawName:"v-popup"}],staticClass:"ui positive icon button",attrs:{"data-tooltip":e.status}},[i("i",{staticClass:"icon checkmark box"})]):i("div",{directives:[{name:"popup",rawName:"v-popup"}],staticClass:"ui basic positive icon button",attrs:{"data-tooltip":e.status}},[i("i",{staticClass:"icon checkmark thin"})])]):i("div",{directives:[{name:"popup",rawName:"v-popup"}],staticClass:"ui basic icon button",attrs:{"data-tooltip":e.status}},[i("i",{staticClass:"icon square outline"})])])])]),e._l(e.conversions,function(t,n){return i("td",{class:{error:!e.column_verification(t)}.validated,attrs:{"data-column":n+1}},[i("span",{domProps:{innerHTML:e._s(e.column_verification(t).content)}})])})],2)},s$=[];function a$(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function r$(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){a$(a,n,s,r,o,"next",e)}function o(e){a$(a,n,s,r,o,"throw",e)}r(void 0)})}}var o$=n("982b"),c$=(new o$,{name:"UploaderWaybill",props:{conversions:Array,waybill_raw_data:Object,group:String},data:function(){return{is_checked:!1,is_uploaded:!1,is_processing:!1,is_failed:!1,status:"準備"}},mounted:function(){},computed:{current_scope:function(){return this.$store.state.current_scope},current_scoped_store:function(){return this.$store.state[this.current_scope]},validator:function(){return this.current_scoped_store.uploader_module.validator},required_columns:function(){return _.filter(this.waybill_raw_data.requiring_columns,function(e){return"required"==e.status})},unknown_material_columns:function(){return _.filter(this.waybill_raw_data.requiring_columns,function(e){return"unknown_material"==e.status})},required_attributes:function(){return _.map(this.required_columns,"attribute_name")},unknown_material_attributes:function(){return _.map(this.unknown_material_columns,"attribute_name")}},methods:{frontend_validation:function(){var e=r$(regeneratorRuntime.mark(function e(){var t,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=!0,e.next=3,new Promise(function(e){t?(i.is_failed=!1,i.is_checked=!0,i.status=i.$t("ui.pages.uploader.field_data_succeeded"),i.$bus.$emit(i.group+"add_checked_count")):(i.is_failed=!0,i.is_checked=!1,i.status=!1),e()});case 3:return e.next=5,new Promise(function(e){i.is_processing=!1,i.$bus.$emit(i.group+"add_complete_count"),e()});case 5:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),column_verification:function(e){return this.required_attributes.includes(e.attribute_name)?this.current_scoped_store.uploader_module.requester_node["default_"+e.attribute_name]?{validated:!0,content:this.current_scoped_store.uploader_module.requester_node["default_"+e.attribute_name]}:{validated:!1,content:'<i class="attention icon"></i>'+this.$t("ui.pages.uploader.column_verification.required_field")}:this.unknown_material_attributes.includes(e.attribute_name)?{validated:!1,content:'<i class="help circle icon"></i>'.concat(this.$t("ui.pages.uploader.column_verification.unknown_waybill"))}:{validated:!0,content:this.waybill_raw_data[e.attribute_name]}}}}),_$=c$,l$=Object(Tt["a"])(_$,n$,s$,!1,null,"3199462a",null),u$=l$.exports,d$={name:"UploaderWaybills",props:{operation_identity:String,group:String},data:function(){return{validated_counter:0,uploaded_counter:0,batch_counter:0,batch_limit:1}},mounted:function(){var e=this;this.$bus.$off(this.group+"broadcast_validate_waybills"),this.$bus.$on(this.group+"broadcast_validate_waybills",function(){e.validated_counter=0,e.group_validate_waybills()}),this.$bus.$off(this.group+"broadcast_create_waybills"),this.$bus.$on(this.group+"broadcast_create_waybills",function(){e.uploaded_counter=0,e.group_create_waybills()})},watch:{},computed:{current_scope:function(){return this.$store.state.current_scope},current_scoped_store:function(){return this.$store.state[this.current_scope]},waybill_raw_datas:function(){return this.current_scoped_store.uploader_module.waybill_raw_datas[this.group]},conversions:function(){return this.current_scoped_store.uploader_module.conversions},operation:function(){return this.$parent},validate_waybill_url:function(){return this.current_scoped_store.uploader_module.validate_waybill_url},use_waybill_url:function(){return this.current_scoped_store.uploader_module.use_waybill_url},requester_node:function(){return this.current_scoped_store.uploader_module.requester_node},requester_contract:function(){return this.current_scoped_store.uploader_module.requester_contract}},methods:{group_validate_waybills:function(){var e=this;switch(_.forEach(this.$children,function(e,t){e.is_processing=!0}),this.current_scope){case"customer":var t=localStorage.getItem("customer_authentication_token");break;case"provider":t=localStorage.getItem("authentication_token");break;default:}if(this.$store.state[this.current_scope].uploader_module.current_converter.skip_usable_validation&&this.$store.state[this.current_scope].uploader_module.current_converter.skip_operation_creation){var i={numbers:_.uniq(_.map(this.waybill_raw_datas,"number")),find_existed_core_waybills:!0};axios.post(this.validate_waybill_url,i,{headers:{Authorization:t}}).then(function(t){"success"==t.data.status?_.forEach(e.$children,function(i,n){-1!=t.data.found_core_waybills.indexOf(i.waybill_raw_data.number)?(i.is_failed=!1,i.is_checked=!0,i.status="查號成功",i.frontend_validation()):-1!=t.data.not_found_core_waybills.indexOf(i.waybill_raw_data.number)?(i.is_failed=!0,i.is_checked=!1,i.status="查號失敗",i.$bus.$emit(e.group+"add_errors",i.waybill_raw_data.number+" 查號失敗: 查無此單"),i.is_processing=!1,i.$bus.$emit(e.group+"add_complete_count")):(i.is_failed=!0,i.is_checked=!1,i.status="回應異常",i.$bus.$emit(e.group+"add_errors","查號失敗: 無法辨識的運單"),i.is_processing=!1,i.$bus.$emit(e.group+"add_complete_count"))}):(_.forEach(t.data.errors,function(t,i){_.forEach(t,function(t,i){e.operation.errors.push("查號失敗: "+t)})}),_.forEach(e.$children,function(t,i){t.is_failed=!0,t.is_checked=!1,t.status="查號失敗",t.is_processing=!1,t.$bus.$emit(e.group+"add_complete_count")}))})["catch"](function(t){console.log(t),e.operation.errors.push("查號異常")})}else{i={core_waybills:_.uniq(_.map(_.groupBy(this.waybill_raw_datas,"number_picker")["automatic"],function(e){return{number:e.number,material_class_name:e.material_class_name}})),automatic_number_picker:!0};axios.post(this.validate_waybill_url,i,{headers:{Authorization:t}}).then(function(t){"success"==t.data.status?_.forEach(e.$children,function(e,t){e.is_failed=!1,e.is_checked=!0,e.status="取號成功",e.frontend_validation()}):(e.operation.errors.push("取號失敗: "+t.data.errors),_.forEach(e.$children,function(t,i){t.is_failed=!0,t.is_checked=!1,t.status="取號失敗",t.is_processing=!1,t.$bus.$emit(e.group+"add_complete_count")}))})["catch"](function(t){console.log(t),e.operation.errors.push("取號異常")});i={core_waybills:_.uniq(_.map(_.groupBy(this.waybill_raw_datas,"number_picker")["manual"],function(e){return{number:e.number,material_class_name:e.material_class_name}})),customer_identity:this.requester_node.identity,contract_identity:this.requester_contract.identity};this.$store.state[this.current_scope].uploader_module.current_converter.ignore_customer_node&&(i.internal_only=!0),axios.post(this.validate_waybill_url,i,{headers:{Authorization:t}}).then(function(t){"success"==t.data.status?_.forEach(e.$children,function(i,n){-1!=t.data.usable_core_waybills.indexOf(i.waybill_raw_data.number)?(i.is_failed=!1,i.is_checked=!0,i.status="取號成功",i.frontend_validation()):-1!=t.data.unusable_core_waybills.indexOf(i.waybill_raw_data.number)&&(i.is_failed=!0,i.is_checked=!1,i.status="取號失敗",i.$bus.$emit(e.group+"add_errors",i.waybill_raw_data.number+" 取號失敗: 不可用的號碼(不存在或已經使用過)"),i.is_processing=!1,i.$bus.$emit(e.group+"add_complete_count"))}):(_.forEach(t.data.errors,function(t,i){_.forEach(t,function(t,i){e.operation.errors.push("取號失敗: "+t)})}),_.forEach(e.$children,function(t,i){t.is_failed=!0,t.is_checked=!1,t.status="取號失敗",t.is_processing=!1,t.$bus.$emit(e.group+"add_complete_count")}))})["catch"](function(t){console.log(t),e.operation.errors.push("取號異常")})}},group_create_waybills:function(){var e=this,t=0,i=_.groupBy(this.$children,"waybill_raw_data.house_number");_.forEach(i,function(i,n){var s=_.groupBy(i,"waybill_raw_data.number");_.forEach(s,function(i,n){var s={},a={number:n,child_core_waybills:_.map(i,function(e){var t={number:e.waybill_raw_data.sub_waybill_number};return t})},r=i[0].waybill_raw_data;delete r.sub_waybill_number,delete r.house_number,s=Object.assign({},a,r),setTimeout(function(){e.group_send_create(i,s)},250*t),t++})}),t=0},group_send_create:function(e,t){var i=this;console.log(t);var n=!0;if(_.forEach(e,function(e,t){e.is_processing=!0,e.is_failed=!1,1==e.is_uploaded&&(n=!1,e.is_processing=!1,e.$bus.$emit(i.group+"add_complete_count"))}),n){var s=new RestUrl(this.use_waybill_url).parse({operation_identity:this.operation_identity});if("provider"==this.$store.state.current_scope)var a=localStorage.getItem("authentication_token");else if("customer"==this.$store.state.current_scope)a=localStorage.getItem("customer_authentication_token");return new Promise(function(n,r){axios.post(s,t,{headers:{Authorization:a}}).then(function(t){"success"==t.data.status?(_.forEach(e,function(e,t){e.status="完成",e.is_failed=!1,e.is_uploaded=!0,i.$bus.$emit(i.group+"add_uploaded_count")}),_.forEach(e,function(e,t){e.is_processing=!1,i.$bus.$emit(i.group+"add_complete_count")})):(_.forEach(e,function(e,t){e.status="失敗",e.is_failed=!0,e.is_uploaded=!1,i.$bus.$emit(i.group+"add_errors",e.waybill_raw_data.number+"("+e.waybill_raw_data.sub_waybill_number+") 匯入運單失敗: "+res.errors)}),_.forEach(e,function(e,t){e.is_processing=!1,i.$bus.$emit(i.group+"add_complete_count")}))})["catch"](function(t){_.forEach(e,function(e,n){e.status=t.statusText,e.is_failed=!0,e.is_uploaded=!1,i.$bus.$emit(i.group+"add_errors",e.waybill_raw_data.number+"("+e.waybill_raw_data.sub_waybill_number+") 匯入運單失敗: "+t.status+" "+t.statusText)}),_.forEach(e,function(e,t){e.is_processing=!1,i.$bus.$emit(i.group+"add_complete_count")})})})}}},components:{Waybill:u$}},p$=d$,m$=Object(Tt["a"])(p$,t$,i$,!1,null,"9404e800",null),f$=m$.exports;function h$(e){return h$="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h$(e)}var v$={name:"UploaderOperation",props:{receiver:String,index:Number},data:function(){return{is_initializing:!0,is_processing:!1,is_operation_created:!1,is_done:!1,complete_count:0,uploaded_count:0,checked_count:0,current_step:1,receiver_index:null,operation:{receiver_node_identity:null,requester_node_identity:null,original_file_name:null,original_file_url:null,operator_note:"",identity:null},waybill_policy:{no_master:!0,no_house:!1,no_waybill:!1,no_subwaybill:!0},errors:[]}},computed:{current_scope:function(){return this.$store.state.current_scope},current_scoped_store:function(){return this.$store.state[this.current_scope]},requester_node:function(){return this.current_scoped_store.uploader_module.requester_node},requester_contract:function(){return this.current_scoped_store.uploader_module.requester_contract},is_customer_mode:function(){return this.$root.is_customer_mode},operator_node:function(){return this.current_scoped_store.uploader_module.operator_node},data_count:function(){return this.current_scoped_store.uploader_module.waybill_raw_datas[this.receiver].length},create_operation_url:function(){return this.current_scoped_store.uploader_module.create_operation_url},is_queue_mode:function(){return this.$parent.is_queue_mode}},mounted:function(){var e=this;this.init(),this.$bus.$off(this.receiver+"add_checked_count"),this.$bus.$on(this.receiver+"add_checked_count",function(){e.checked_count++,e.checked_count>0&&e.checked_count==e.data_count&&(e.$noty.success(e.$t("ui.pages.uploader.checking_waybill_data_ok")),e.steps_callback_center("validate_waybills"))}),this.$bus.$off(this.receiver+"add_uploaded_count"),this.$bus.$on(this.receiver+"add_uploaded_count",function(){e.uploaded_count++,e.uploaded_count>0&&e.uploaded_count==e.data_count&&(e.$noty.success(e.$t("ui.pages.uploader.checking_operation_data_ok")),e.steps_callback_center("create_waybills"))}),this.$bus.$off(this.receiver+"add_complete_count"),this.$bus.$on(this.receiver+"add_complete_count",function(){e.complete_count++,e.data_count>0&&e.complete_count==e.data_count&&(e.is_processing=!1,e.$bus.$emit("to_index","complete"),e.checked_count<e.complete_count&&e.$bus.$emit("to_index","interrupt")),$("#"+e.receiver+"-progress-bar").progress({duration:300,value:e.complete_count,total:e.data_count})}),this.$bus.$off(this.receiver+"add_errors"),this.$bus.$on(this.receiver+"add_errors",function(t){e.errors.push(t)}),this.$bus.$off("to_operations"),this.$bus.$on("to_operations",function(t,i){switch(t){case"validate_waybills":e.index==i&&e.validate_waybills();break;case"create_operation":e.index==i&&e.create_operation();break;default:}})},methods:{init:function(){var e=this;new Promise(function(t,i){t(),e.is_initializing=!1})},validate_waybills:function(){this.errors=[],this.complete_count=0,this.checked_count=0,this.is_processing=!0,this.$bus.$emit(this.receiver+"broadcast_validate_waybills")},create_operation:function(){var e=this;if(this.is_processing=!0,this.errors=[],null==this.operation.identity){if("provider"==this.current_scope)var t={contract_identity:this.requester_contract.identity,customer_identity:this.requester_node.identity,provider_note:this.operation.operator_note,original_file_name:this.$parent.file_name,original_file_url:this.$parent.file_s3_path,converter_identity:this.current_scoped_store.uploader_module.current_converter.identity},i=localStorage.getItem("authentication_token");else if("customer"==this.current_scope)t={contract_identity:this.requester_contract.identity,customer_identity:this.requester_node.identity,customer_note:this.operation.operator_note,original_file_name:this.$parent.file_name,original_file_url:this.$parent.file_s3_path,converter_identity:this.current_scoped_store.uploader_module.current_converter.identity},i=localStorage.getItem("customer_authentication_token");axios.post(this.create_operation_url,t,{headers:{Authorization:i}}).then(function(t){"success"==t.data.status?(e.operation=t.data.operation,e.is_operation_created=!0,e.$noty.success(e.$t("ui.pages.uploader.materialization_operation")),setTimeout(function(){e.steps_callback_center("create_operation")},1e3)):(_.forEach(t.data.errors,function(t){_.forEach(t,function(t){e.errors.push(t)})}),e.steps_callback_center("interrupt"))})["catch"](function(t){"object"==h$(t.response.data)?Object.keys(t.response.data.detail).forEach(function(i){e.errors.push(e.$t("ui.pages.uploader.materialization_operation")+" "+e.$t("ui.general.error")+": "+e.$t("models.attributes.operations."+i)+t.response.data.detail[i][0])}):e.errors.push(e.$t("ui.pages.uploader.materialization_operation")+" "+e.$t("ui.general.error")+": "+t.response.status+" "+t.response.data),e.steps_callback_center("interrupt")})}else this.steps_callback_center("create_operation")},create_waybills:function(){this.complete_count=0,this.$bus.$emit(this.receiver+"broadcast_create_waybills")},steps_callback_center:function(e){switch(console.log("Operation"+this.index+"步驟控制中心收到完成步驟："+e),e){case"validate_waybills":this.$bus.$emit("to_index","validate_waybills",this.index),this.is_processing=!1,this.current_step++;break;case"create_operation":this.is_queue_mode?this.steps_callback_center("create_waybills"):this.create_waybills();break;case"create_waybills":this.$bus.$emit("to_index","create_operation",this.index),$("#"+this.receiver_index+"-waybills-accordion").accordion("close",0),this.is_processing=!1,this.is_done=!0,this.current_step++;break;case"interrupt":this.is_processing=!1,this.$parent.is_processing=!1;break;default:}}},components:{Waybills:f$,Steps:Zw}},g$=v$,b$=Object(Tt["a"])(g$,Jw,e$,!1,null,null,null),y$=b$.exports,w$=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.errors.length>0?i("div",{staticClass:"errors"},[i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui red icon message"},[i("i",{staticClass:"warning icon"}),i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                "+e._s(e.$t("ui.notifications.error.please_handle_errors"))+"\n            ")]),e._l(e.errors,function(t,n){return i("p",[e._v(e._s(n+1)+". "+e._s(t))])})],2)]),i("div",{staticClass:"ui divider"})]):e._e()},$$=[],k$={name:"ErrorBox",props:{errors:Array},data:function(){return{}},mounted:function(){},computed:{},methods:{},components:{}},x$=k$,C$=Object(Tt["a"])(x$,w$,$$,!1,null,"cabfc0b8",null),P$=C$.exports;function S$(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function N$(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){S$(a,n,s,r,o,"next",e)}function o(e){S$(a,n,s,r,o,"throw",e)}r(void 0)})}}var q$={name:"UploaderIndex",data:function(){return{is_initialized:!1,is_processing:!1,can_next_step:!0,basic_options_setted:!1,operations_count:0,complete_operation_count:0,checked_operation_count:0,uploaded_operation_count:0,current_step:1,current_operation_index:0,excel_file:null,file_name:null,file_size_in_bytes:0,file_s3_path:null,is_file_uploaded:!1,is_queue_mode:!0,errors:[]}},computed:{current_scope:function(){return this.$store.state.current_scope},current_scoped_store:function(){return this.$store.state[this.current_scope]},receivers:function(){return this.current_scoped_store.uploader_module.receivers},customers:function(){return this.current_scoped_store.uploader_module.customers},requester_node:{get:function(){return this.current_scoped_store.uploader_module.requester_node},set:function(e){this.$store.commit(this.current_scope+"/uploader_module/set_requester_node",e)}},requester_contract:{get:function(){return this.current_scoped_store.uploader_module.requester_contract}},fetch_customers_url:function(){return this.current_scoped_store.uploader_module.fetch_customers_url},open_file_url:function(){return this.current_scoped_store.uploader_module.open_file_url},file_upload_url:function(){return this.current_scoped_store.uploader_module.file_upload_url},converters:function(){return this.current_scoped_store.uploader_module.converters},current_converter:function(){return this.current_scoped_store.uploader_module.current_converter||{name:null}}},created:function(){},mounted:function(){var e=this;this.init(),this.$bus.$off("init"),this.$bus.$on("init",function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.init()}),this.$bus.$off("to_index"),this.$bus.$on("to_index",function(t,i){switch(t){case"validate_waybills":e.checked_operation_count++,e.receivers[i+1]?(e.current_operation_index++,e.$bus.$emit("to_operations","validate_waybills",e.current_operation_index)):e.steps_callback_center("validate_waybills");break;case"create_operation":e.uploaded_operation_count++,e.receivers[i+1]?(e.current_operation_index++,e.$bus.$emit("to_operations","create_operation",e.current_operation_index)):e.steps_callback_center("create_operations");break;case"complete":e.complete_operation_count++,$("#index-progress-bar").progress({duration:300,value:e.complete_operation_count,total:e.operations_count});case"interrupt":e.steps_callback_center("interrupt");default:}})},beforeDestroy:function(){this.$bus.$off("init")},watch:{},methods:{init:function(){var e=N$(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){$(t.$refs.operation_target_selector).dimmer("hide"),e()});case 2:return e.next=4,new Promise(function(e){t.is_initialized=!1,t.is_processing=!1,t.can_next_step=!0,t.basic_options_setted=!1,t.operations_count=0,t.complete_operation_count=0,t.checked_operation_count=0,t.uploaded_operation_count=0,t.current_step=1,t.current_operation_index=0,t.excel_file=null,t.file_name=null,t.file_size_in_bytes=0,t.file_s3_path=null,t.is_file_uploaded=!1,t.is_queue_mode=!0,t.errors=[],e()});case 4:return e.next=6,this.$store.commit(this.current_scope+"/uploader_module/init");case 6:return e.next=8,this.$store.dispatch(this.current_scope+"/uploader_module/set_urls");case 8:return e.next=10,this.$store.dispatch(this.current_scope+"/uploader_module/fetch_customers");case 10:return e.next=12,this.$store.dispatch(this.current_scope+"/uploader_module/fetch_operator_node");case 12:return e.next=14,this.$store.dispatch(this.current_scope+"/uploader_module/fetch_converters");case 14:return e.next=16,new Promise(function(e){t.$noty.information(t.$t("ui.page_titles.uploader")+" "+t.$t("ui.general.initialize_complete")),t.is_initialized=!0,e()});case 16:return e.next=18,new Promise(function(e){$(t.$refs.operation_target_selector).dimmer("show"),e()});case 18:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),select_file:function(e){this.excel_file=e.target.files[0],this.file_name=this.excel_file.name,this.file_size_in_bytes=this.excel_file.size,$(this.$refs.file_input_field).val(""),$(this.$refs.file_selector).hide(),this.current_converter.ignore_customer_node?($(this.$refs.loader).show(),this.steps_callback_center(1)):$(this.$refs.requester_selector).show()},open_file:function(){var e=this;this.is_processing=!0,this.errors=[],null!=this.excel_file&&void 0!=this.excel_file||this.errors.push(this.$t("ui.pages.uploader.dimmer.select_file")),null==this.requester_node&&(this.$store.commit(this.current_scope+"/uploader_module/set_requester_node",{company_en_name:""}),this.$store.commit(this.current_scope+"/uploader_module/set_requester_contract",{name:""}));var t=new RestUrl(this.open_file_url).parse({converter_identity:this.$store.state.provider.uploader_module.current_converter.identity},"");if(0==this.errors.length){var i=new FormData;i.append("excel_file",this.excel_file),i.append("file_name",this.file_name),i.append("file_size_in_bytes",this.file_size_in_bytes),i.append("provider",this.current_converter.provider),i.append("category",this.current_converter.category),axios.post(t,i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"failure"==t.data.status?(_.forEach(t.data.errors,function(t,i){_.forEach(t,function(t,i){e.errors.push(e.$t("ui.pages.uploader.open_file")+" "+e.$t("ui.general.failure")+": "+t)})}),e.steps_callback_center("interrupt")):(e.$store.commit(e.current_scope+"/uploader_module/set_conversions",t.data.conversions),e.$store.commit(e.current_scope+"/uploader_module/set_waybill_raw_datas",{"託運":t.data.human_datas}),e.$store.commit(e.current_scope+"/uploader_module/set_waybill_processed_datas",{"託運":t.data.processed_datas}),e.$store.commit(e.current_scope+"/uploader_module/set_receivers",["託運"]),e.operations_count=e.receivers.length,e.basic_options_setted=!0,e.steps_callback_center("open_file"),$(e.$refs.operation_target_selector).dimmer("hide"),$(e.$refs.loader).hide(),$(e.$refs.converter_selector).show())})["catch"](function(t){_.forEach(response.data.errors,function(t,i){_.forEach(t,function(t,i){e.errors.push(e.$t("ui.pages.uploader.open_file")+" "+e.$t("ui.general.failure")+": "+t)})}),e.steps_callback_center("interrupt")})}else this.steps_callback_center("interrupt")},upload_file:function(e){var t=this;if(null!==this.excel_file&&void 0!==this.excel_file)if(1==this.is_file_uploaded)this.steps_callback_center("upload_file");else{var i=new FormData;i.append("file",this.excel_file),axios.post(this.file_upload_url,i).then(function(e){if(!e.data.link)return Promise.reject(e);t.is_file_uploaded=!0,t.file_s3_path=decodeURIComponent(e.data.link),t.$noty.success(t.$t("ui.notifications.success.upload__name",{name:t.$t("ui.general.file")})),t.steps_callback_center("upload_file")})["catch"](function(e){t.$noty.error(t.$t("ui.notifications.error.upload__name",{name:t.$t("ui.general.file")})),t.errors.push(t.$t("ui.notifications.error.upload__name",{name:t.$t("ui.general.file"),reason:": "+t.$t("ui.general.network_abnormality")})),t.steps_callback_center("interrupt")})}else this.errors.push(this.$t("ui.general.no")+" "+this.$t("ui.pages.uploader.dimmer.select_file")),this.steps_callback_center("interrupt")},validate_waybills:function(){this.$bus.$emit("to_operations","validate_waybills",this.current_operation_index)},create_operations:function(){this.$bus.$emit("to_operations","create_operation",this.current_operation_index)},steps_callback_center:function(e){var t=this;switch(e){case 1:this.is_processing=!0,this.open_file();break;case 2:this.is_processing=!0,this.validate_waybills();break;case 3:this.is_processing=!0,this.upload_file();break;case 4:var i=_.filter(this.$children,function(e){return"Operation"==e.$options._componentTag});1!=i.length||this.current_converter.skip_operation_creation&&this.current_converter.skip_usable_validation||this.$router.push({name:"edit_provider_operation",params:{identity:i[0].operation.identity}});break;case"open_file":this.current_step++,this.is_processing=!1,this.$nextTick(function(){t.steps_callback_center(2)});break;case"validate_waybills":this.current_operation_index=0,this.complete_operation_count=0,this.is_processing=!1,this.current_step++;break;case"upload_file":this.create_operations();break;case"create_operations":this.current_operation_index=0,this.complete_operation_count=0,this.is_processing=!1,this.current_step++,this.$nextTick(function(){t.steps_callback_center(4)});break;case"interrupt":$(this.$refs.operation_target_selector).dimmer("show"),$(this.$refs.operation_target_selector).dimmer("hide"),this.is_processing=!1;break;default:}}},components:{Steps:Zw,Operation:y$,ErrorBox:P$,BackToTopButton:kd}},A$=q$,E$=(n("47bd"),n("0531"),Object(Tt["a"])(A$,Gw,Hw,!1,null,"7685895d",null)),z$=E$.exports,j$="provider_uploader",R$=[{path:":operation_identity?",component:z$,name:"provider_uploader",meta:{api_name:["api_v1_provider_customer_nodes","api_v1_provider_operation_create","api_v1_provider_operation_use_core_waybill","api_v1_provider_operation_validate","api_v1_provider_file_converters","api_v1_provider_file_convert","api_v1_provider_file_converter_open"],breadcrumb:[j$]}}],O$=R$,I$=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"index"}},[i("ErrorBox",{tag:"div",attrs:{errors:e.errors}}),e.is_initialized?i("div",{staticClass:"contents"},[i("h3",{staticClass:"ui left floated header"},[e._v("\n\n            "+e._s(e.$t("ui.page_titles.assets"))+"-"+e._s(e.category)+"\n        ")]),i("router-link",{staticClass:"ui right floated basic button",attrs:{to:{name:"print_asset",params:{category:e.category}}}},[e._v("\n            "+e._s(e.$t("ui.pages.assets.print_barcode"))+"\n        ")]),e.assets.length<1?i("div",{staticClass:"ui icon message"},[i("i",{staticClass:"warning icon"}),i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                    "+e._s(e.$t("ui.pages.assets.helps.no_anything_assets"))+"\n                ")]),i("p",[e._v("\n                    "+e._s(e.$t("ui.pages.assets.helps.please_clicked_upper_left_new_asset_button"))+"\n                ")])])]):i("table",{staticClass:"ui celled table"},[i("thead",[i("tr",[i("th",[e._v(e._s(e.$t("models.attributes.assets.barcode")))]),i("th",[e._v(e._s(e.$t("models.attributes.assets.number")))]),i("th",[e._v(e._s(e.$t("models.attributes.assets.note")))]),i("th")])]),i("tbody",e._l(e.assets,function(e){return i("Item",{tag:"div",attrs:{asset:e}})}))])],1):i("div",[i("div",{staticClass:"ui inverted dimmer transition visible active",staticStyle:{display:"block !important"}},[i("div",{staticClass:"ui text loader"},[e._v("\n                "+e._s(e.$t("ui.general.initializing"))+"\n            ")])])])])},D$=[],L$=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",[i("td",[i("barcode",{attrs:{value:e.asset.number,format:"barcode-format",fontSize:10}},[e._v("\n            "+e._s(e.$t("ui.notifications.error.exception_error_please_contact_the_system_supplier"))+".\n        ")])],1),i("td",[e._v(e._s(e.asset.number))]),i("td",[e._v(e._s(e.asset.note))]),e.is_processing?i("td",[i("i",{staticClass:"notched circle loading icon"})]):i("td",[i("router-link",{staticClass:"ui basic primary button",attrs:{to:{name:"edit_asset",params:{id:e.asset.identity}}}},[e._v("\n            "+e._s(e.$t("ui.general.edit"))+"\n        ")]),i("button",{staticClass:"ui basic negative button",on:{click:function(t){t.preventDefault(),e.delete_asset()}}},[e._v("\n            "+e._s(e.$t("ui.general.delete"))+"\n        ")])],1)])},T$=[],B$=n("865e"),M$={props:{asset:Object},data:function(){return{is_processing:!1}},mounted:function(){},computed:{index:function(){return this.$parent},layout:function(){return this.$parent.$parent}},methods:{delete_asset:function(){var e=this,t=confirm(this.$t("ui.notifications.warning.are_you_sure_to_delete_it"));if(t){this.is_processing=!0,this.$parent.errors=[];var i=new RestUrl(this.$store.state.provider.routes.api_v1_provider_asset_delete).parse({asset_identity:this.asset.identity},"");axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.index.fetch_assets(),e.$noty.success(e.$t("ui.notifications.success.delete__name",{name:e.$t("models.assets")}))):(e.index.errors.push(t.data.errors),e.$noty.errors(e.$t("ui.notifications.error.delete__name",{name:e.$t("models.assets")})))})["catch"](function(t){e.index.errors.push(e.$t("ui.notifications.error.delete__name",{name:e.$t("models.assets"),reason:": "+t.response.status}))}),this.is_processing=!1}}},components:{barcode:B$["a"]}},U$=M$,F$=Object(Tt["a"])(U$,L$,T$,!1,null,"c90aac7a",null),Y$=F$.exports;function G$(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function H$(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){G$(a,n,s,r,o,"next",e)}function o(e){G$(a,n,s,r,o,"throw",e)}r(void 0)})}}var K$={name:"AssetsIndex",data:function(){return{is_initialized:!1,assets:[],errors:[]}},created:function(){this.init()},mounted:function(){},computed:{category:function(){return this.$route.params.category}},watch:{$route:function(e,t){"assets_index"==e.name&&this.init()}},methods:{init:function(){var e=H$(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fetch_assets();case 2:return e.next=4,new Promise(function(e){t.is_initialized=!0,e()});case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_assets:function(){var e=this,t=this.$store.state.provider.routes.api_v1_provider_assets+"?category="+this.$route.params.category;return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.assets=t.data.assets})["catch"](function(t){return e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.assets"),reason:": "+t})),Promise.reject(t)})}},components:{Item:Y$,ErrorBox:yb}},W$=K$,V$=Object(Tt["a"])(W$,I$,D$,!1,null,"05117f2e",null),X$=V$.exports,Q$=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"new"}},[i("div",{staticClass:"contents"},[e.is_processing||!e.is_initialized?i("div",{staticClass:"ui active inverted dimmer"},[i("div",{staticClass:"ui text loader"},[e._v("\n                "+e._s(e.$t("ui.general.initializing"))+"\n            ")])]):i("div",{staticClass:"ui form"},[i("h2",{staticClass:"ui header"},[e._v("\n                "+e._s(e.$t("ui.page_titles.new_asset"))+"\n            ")]),i("div",{staticClass:"eight wide field",class:{error:e.if_error("category")}},[i("label",[e._v("\n                    "+e._s(e.$t("models.attributes.assets.category"))+"\n                ")]),i("div",{staticClass:"ui right labeled action input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.asset.category,expression:"asset.category"}],attrs:{type:"text",placeholder:e.$t("ui.pages.assets.helps.write_or_use_category_list")},domProps:{value:e.asset.category},on:{input:function(t){t.target.composing||e.$set(e.asset,"category",t.target.value)}}}),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui dropdown label"},[i("div",{staticClass:"text"},[e._v("\n                            "+e._s(e.$t("ui.pages.assets.have_category"))+"\n                        ")]),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.$store.state.provider.assets_module.categories,function(t){return i("div",{staticClass:"item",on:{click:function(i){e.set_category(t)}}},[e._v(e._s(t))])}))]),i("div",{directives:[{name:"popup",rawName:"v-popup"}],staticClass:"ui icon button",attrs:{type:"submit","data-tooltip":e.$t("ui.pages.assets.clear_value")},on:{click:e.clear_category}},[i("i",{staticClass:"ui remove icon"})])]),e.if_error("category")?i("div",{staticClass:"ui pointing red basic label"},[e._v("\n                    "+e._s(e.error_message("category"))+"\n                ")]):e._e()]),i("div",{staticClass:"eight wide field",class:{error:e.if_error("number")}},[i("label",[e._v("\n                    "+e._s(e.$t("models.attributes.assets.number"))+"\n                ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.asset.number,expression:"asset.number"}],attrs:{type:"text",placeholder:e.$t("models.attributes.assets.number")},domProps:{value:e.asset.number},on:{input:function(t){t.target.composing||e.$set(e.asset,"number",t.target.value)}}}),e.if_error("number")?i("div",{staticClass:"ui pointing red basic label"},[e._v("\n                    "+e._s(e.error_message("number"))+"\n                ")]):e._e()]),i("div",{staticClass:"eight wide field",class:{error:e.if_error("note")}},[i("label",[e._v("\n                    "+e._s(e.$t("models.attributes.assets.note"))+"\n                ")]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.asset.note,expression:"asset.note"}],attrs:{rows:"8",cols:"80"},domProps:{value:e.asset.note},on:{input:function(t){t.target.composing||e.$set(e.asset,"note",t.target.value)}}}),e.if_error("note")?i("div",{staticClass:"ui pointing red basic label"},[e._v("\n                    "+e._s(e.error_message("note"))+"\n                ")]):e._e()]),i("div",{staticClass:"ui basic positive button",on:{click:e.create}},[e._v("\n                "+e._s(e.$t("ui.general.submit"))+"\n            ")])])])])},Z$=[];function J$(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function ek(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){J$(a,n,s,r,o,"next",e)}function o(e){J$(a,n,s,r,o,"throw",e)}r(void 0)})}}var tk={name:"NewAsset",prop:{},data:function(){return{is_initialized:!1,is_processing:!1,asset:{number:null,category:null,note:null},errors:[],error_columns:[]}},created:function(){this.init()},mounted:function(){},watch:{$route:function(e,t){"new_asset"==e.name&&this.init()}},computed:{layout:function(){return this.$parent}},methods:{init:function(){var e=ek(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.asset={number:null,category:null,note:null},e()});case 2:return e.next=4,new Promise(function(e){t.is_initialized=!0,e()});case 4:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),create:function(){var e=this;this.is_processing=!0,this.errors=[],this.error_columns=[],axios.post(this.$store.state.provider.routes.api_v1_provider_assets_create,this.asset,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(-1==e.$store.state.provider.assets_module.categories.indexOf(t.data.asset.category)&&e.$store.state.provider.assets_module.categories.push(t.data.asset.category),e.$store.state.provider.assets_module.current_category=t.data.asset.category,e.$router.push("/provider/assets/index/"+t.data.asset.category)):(e.errors=t.data.errors,e.error_columns=Object.keys(t.data.errors))})["catch"](function(t){e.errors.push(e.$t("ui.notifications.error.create__name",{name:e.$t("models.assets"),reason:": "+t}))}),this.is_processing=!1},set_category:function(e){this.asset.category=e},clear_category:function(){this.asset.category=null},if_error:function(e){return-1!=this.error_columns.indexOf(e)},error_message:function(e){return _.join(this.errors[e],", ")}},components:{ErrorBox:yb}},ik=tk,nk=Object(Tt["a"])(ik,Q$,Z$,!1,null,"28daa3b0",null),sk=nk.exports,ak=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"edit"}},[i("div",{staticClass:"contents"},[e.is_processing||!e.is_initialized?i("div",{staticClass:"ui active inverted dimmer"},[i("div",{staticClass:"ui text loader"},[e._v("\n                "+e._s(e.$t("ui.general.initializing"))+"\n            ")])]):i("div",{staticClass:"ui form"},[i("h2",{staticClass:"ui header"},[e._v("\n                "+e._s(e.$t("ui.page_titles.edit_asset"))+"\n            ")]),i("div",{staticClass:"eight wide field",class:{error:e.if_error("category")}},[i("label",[e._v("\n                    "+e._s(e.$t("models.attributes.assets.category"))+"\n                ")]),i("select",{directives:[{name:"model",rawName:"v-model",value:e.asset.category,expression:"asset.category"}],on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.asset,"category",t.target.multiple?i:i[0])}}},e._l(e.$store.state.provider.assets_module.categories,function(t){return i("option",{domProps:{value:t}},[e._v(e._s(t))])})),e.if_error("category")?i("div",{staticClass:"ui pointing red basic label"},[e._v("\n                    "+e._s(e.error_message("category"))+"\n                ")]):e._e()]),i("div",{staticClass:"eight wide field",class:{error:e.if_error("number")}},[i("label",[e._v("\n                    "+e._s(e.$t("models.attributes.assets.number"))+"\n                ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.asset.number,expression:"asset.number"}],attrs:{type:"text",placeholder:e.$t("models.attributes.assets.number")},domProps:{value:e.asset.number},on:{input:function(t){t.target.composing||e.$set(e.asset,"number",t.target.value)}}}),e.if_error("number")?i("div",{staticClass:"ui pointing red basic label"},[e._v("\n                    "+e._s(e.error_message("number"))+"\n                ")]):e._e()]),i("div",{staticClass:"eight wide field",class:{error:e.if_error("note")}},[i("label",[e._v("\n                    "+e._s(e.$t("models.attributes.assets.note"))+"\n                ")]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.asset.note,expression:"asset.note"}],attrs:{rows:"8",cols:"80"},domProps:{value:e.asset.note},on:{input:function(t){t.target.composing||e.$set(e.asset,"note",t.target.value)}}}),e.if_error("note")?i("div",{staticClass:"ui pointing red basic label"},[e._v("\n                    "+e._s(e.error_message("note"))+"\n                ")]):e._e()]),i("div",{staticClass:"ui basic positive button",on:{click:e.update}},[e._v("\n                "+e._s(e.$t("ui.general.submit"))+"\n            ")])])])])},rk=[];function ok(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function ck(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){ok(a,n,s,r,o,"next",e)}function o(e){ok(a,n,s,r,o,"throw",e)}r(void 0)})}}var _k={name:"EditAsset",props:{},data:function(){return{is_initialized:!1,is_processing:!1,asset:{},errors:[],error_columns:[]}},created:function(){this.init()},mounted:function(){},watch:{$route:function(e,t){"edit_asset"==e.name&&this.init()}},computed:{},methods:{init:function(){var e=ck(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!1,t.is_processing=!1,t.asset={},t.errors=[],t.error_columns=[],e()});case 2:return e.next=4,this.fetch_asset();case 4:return e.next=6,new Promise(function(e){t.is_initialized=!0,e()});case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_asset:function(){var e=this,t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_asset).parse({asset_identity:this.$route.params.id},"");return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.asset=t.data.asset,e.$noty.success(e.$t("ui.notifications.success.fetch__name",{name:e.$t("models.assets")}))})["catch"](function(t){return e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.assets"),reason:": "+t})),Promise.reject(t)})},update:function(){var e=this;this.is_processing=!0,this.errors=[],this.error_columns=[];var t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_asset_update).parse({asset_identity:this.asset.identity},"");axios.post(t,this.asset,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?e.$router.push("/provider/assets/index/"+t.data.asset.category):(e.errors=t.data.errors,e.error_columns=Object.keys(t.data.errors))})["catch"](function(e){}),this.is_processing=!1},if_error:function(e){return-1!=this.error_columns.indexOf(e)},error_message:function(e){return _.join(this.errors[e],", ")}},components:{}},lk=_k,uk=Object(Tt["a"])(lk,ak,rk,!1,null,"7f886d39",null),dk=uk.exports,pk=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"print"}},[i("table",{attrs:{id:"barcodes"}},[i("tbody",e._l(e.assets,function(t){return i("tr",[i("td",[i("barcode",{attrs:{value:t.number,tag:"svg",options:{background:"transparent",displayValue:!0,format:"CODE128",width:1,height:25}}},[e._v("\n                        "+e._s(e.$t("ui.notifications.error.exception_error_please_contact_the_system_supplier"))+".\n                    ")])],1)])}))])])},mk=[];function fk(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function hk(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){fk(a,n,s,r,o,"next",e)}function o(e){fk(a,n,s,r,o,"throw",e)}r(void 0)})}}var vk={name:"PrintAsset",props:{},data:function(){return{assets:[]}},watch:{},mounted:function(){this.init()},beforeDestroy:function(){},computed:{},methods:{init:function(){var e=hk(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fetch_assets();case 2:return e.next=4,this.$nextTick(function(){$(".print").html($("#barcodes").clone())});case 4:return e.next=6,new Promise(function(e){window.print(),e()});case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_assets:function(){var e=this,t=this.$store.state.provider.routes.api_v1_provider_assets+"?category="+this.$route.params.category;return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.assets=t.data.assets})["catch"](function(t){return e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.assets"),reason:": "+t})),Promise.reject(t)})}},components:{barcode:B$["a"]}},gk=vk,bk=(n("66a4"),Object(Tt["a"])(gk,pk,mk,!1,null,"dbec23d0",null)),yk=bk.exports,wk="assets",$k="new_asset",kk="edit_asset",xk="print_asset",Ck=[{path:"",name:"assets",meta:{api_name:"api_v1_provider_assets",breadcrumb:[wk],btns:[$k]}},{path:"index/:category/:page?",component:X$,name:"assets_index",meta:{breadcrumb:[wk]}},{path:"new",component:sk,name:"new_asset",meta:{api_name:"api_v1_provider_asset_create",breadcrumb:[wk,$k]}},{path:"edit/:id",component:dk,name:"edit_asset",meta:{api_name:"api_v1_provider_asset_update",breadcrumb:[wk,kk]}},{path:"print/:category/:page?",component:yk,name:"print_asset",meta:{breadcrumb:[wk,xk]}}],Pk=Ck,Sk=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"x_scrollable",attrs:{id:"status_prototypes"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),i("div",{staticClass:"ui segment"},[e.style.width<767?i("div",{staticStyle:{"margin-bottom":"1em"}},[e.is_loading?i("div",[i("div",{staticClass:"ui active centered inline loader"})]):e._l(e.status_prototypes,function(e){return i("DataCard",{key:e.identity,attrs:{object:e,title:e.name,title_link:{name:"edit_status_prototype",params:{identity:e.identity}},sub_title:e.scope,is_show_column:!0,keys:["material_class_name"],i_18n_key:"status_prototypes"}})}),!e.is_loading&&e.status_prototypes.length<=0?i("div",{staticClass:"ui center aligned red segment"},[i("h3",[e._v("\n                    "+e._s(e.$t("ui.general.no_data"))+"\n                ")])]):e._e()],2):i("table",{staticClass:"ui compact celled table"},[i("thead",{staticClass:"center aligned"},[i("tr",[i("th",[e._v("Scope")]),i("th",[e._v(e._s(e.$t("models.attributes.status_prototypes.name")))]),i("th",[e._v(e._s(e.$t("models.attributes.status_prototypes.material")))]),i("th")])]),e.is_loading?i("tbody",{staticClass:"center aligned"},[e._m(0)]):i("tbody",{staticClass:"center aligned"},e._l(e.status_prototypes,function(e){return i("StatusPrototype",{key:e.identity,attrs:{status_prototype:e}})}))]),i("Paginator",{attrs:{total_pages:e.total_pages,current_page:e.current_page}})],1)],1)},Nk=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"loading"},[i("td",{attrs:{colspan:"6"}},[i("div",{staticClass:"ui active centered inline loader"})])])}],qk=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",[i("td",[e._v("\n        "+e._s(e.status_prototype.scope)+"\n    ")]),i("td",[1==e.status_prototype.polarity?i("i",{staticClass:"plus icon"}):0==e.status_prototype.polarity?i("i",{staticClass:"minus icon"}):e._e(),e._v("\n        "+e._s(e.status_prototype.name)+"\n    ")]),i("td",[e._v("\n        "+e._s(e.status_prototype.material_class_name||"-")+"\n    ")]),i("td",[i("router-link",{staticClass:"ui basic positive button",attrs:{to:{name:"edit_status_prototype",params:{identity:e.status_prototype.identity}}}},[e._v("\n            "+e._s(e.$t("ui.general.edit"))+"\n        ")])],1)])},Ak=[],Ek={name:"ProviderStatusPrototypesIndexItem",props:{status_prototype:Object},data:function(){return{}},computed:{},created:function(){},mounted:function(){},watch:{},methods:{},components:{}},zk=Ek,jk=Object(Tt["a"])(zk,qk,Ak,!1,null,null,null),Rk=jk.exports;function Ok(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function Ik(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){Ok(a,n,s,r,o,"next",e)}function o(e){Ok(a,n,s,r,o,"throw",e)}r(void 0)})}}var Dk={name:"StatusPrototypesIndex",data:function(){return{is_initialized:!1,is_loading:!1,status_prototypes:[],errors:[]}},computed:{style:function(){return this.$store.state.style},current_store:function(){return this.$store.state.provider.status_prototypes_module},pagination:function(){return this.current_store.pagination},current_page:function(){return this.current_store.pagination.current_page},total_pages:function(){return this.current_store.pagination.total_pages},search_params:function(){return this.current_store.search_params},show_filter:function(){return this.current_store.show_filter}},created:function(){},mounted:function(){var e=this;this.init(),this.$bus.$off("init"),this.$bus.$on("init",function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.init()})},beforeDestroy:function(){this.$bus.$off("init"),this.search_params.page=1,this.pagination.current_page=1},watch:{$route:{handler:function(e,t){var i=e.query.page;i&&(this.search_params.page=Number(i),this.pagination.current_page=Number(i),this.$store.commit("provider/status_prototypes_module/set_current_page",i),this.fetch_status_prototypes())},immediate:!0}},methods:{init:function(){var e=Ik(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,this.fetch_status_prototypes();case 5:return e.next=7,new Promise(function(e){t.is_initialized=!0,t.$noty.information(t.$t("ui.page_titles.status_prototypes")+" "+t.$t("ui.general.initialize_complete"),300),e()});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),this.$noty.error(e.t0);case 12:return e.prev=12,e.finish(12);case 14:case"end":return e.stop()}},e,this,[[0,9,12,14]])}));function t(){return e.apply(this,arguments)}return t}(),fetch_status_prototypes:function(){var e=this;this.is_loading=!0;var t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_status_prototypes).parse({},"?"+object_to_query(this.search_params));return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.status_prototypes=_.orderBy(t.data.status_prototypes,["scope","name"],["asc","asc"]),e.$store.commit("provider/status_prototypes_module/set_current_page",t.data.pagination.current_page),e.$store.commit("provider/status_prototypes_module/set_total_pages",t.data.pagination.total_pages)):console.log(t.data)})["catch"](function(t){console.log(t.response),e.$noty.error("取得status_prototypes失敗")}).then(function(){setTimeout(function(){e.is_loading=!1},300)})}},components:{StatusPrototype:Rk,ErrorMessages:B_,Paginator:Ma,DataCard:W_}},Lk=Dk,Tk=Object(Tt["a"])(Lk,Sk,Nk,!1,null,null,null),Bk=Tk.exports,Mk=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"new_status_prototype"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),e.is_initialized?i("div",{staticClass:"contents ui container"},[e.is_loading?i("div",{staticClass:"ui active centered inline loader"}):i("div",{staticClass:"ui form"},[i("div",{staticClass:"field computer column"},[i("div",{staticClass:"ui radio checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.status_prototype.polarity,expression:"status_prototype.polarity"}],attrs:{type:"radio",id:"no_polarity"},domProps:{value:null,checked:e._q(e.status_prototype.polarity,null)},on:{change:function(t){e.$set(e.status_prototype,"polarity",null)}}}),i("label",{staticClass:"pointer",attrs:{for:"no_polarity"}},[i("i",{staticClass:"help icon"}),e._v("\n                        "+e._s(e.$t("models.attributes.status_prototypes.non_polarity"))+"\n                    ")])]),i("div",{staticClass:"ui radio checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.status_prototype.polarity,expression:"status_prototype.polarity"}],attrs:{type:"radio",id:"true_polarity"},domProps:{value:!0,checked:e._q(e.status_prototype.polarity,!0)},on:{change:function(t){e.$set(e.status_prototype,"polarity",!0)}}}),i("label",{staticClass:"pointer",attrs:{for:"true_polarity"}},[i("i",{staticClass:"plus icon"}),e._v("\n                        "+e._s(e.$t("models.attributes.status_prototypes.positive_polarity"))+"\n                    ")])]),i("div",{staticClass:"ui radio checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.status_prototype.polarity,expression:"status_prototype.polarity"}],attrs:{type:"radio",id:"false_polarity"},domProps:{value:!1,checked:e._q(e.status_prototype.polarity,!1)},on:{change:function(t){e.$set(e.status_prototype,"polarity",!1)}}}),i("label",{staticClass:"pointer",attrs:{for:"false_polarity"}},[i("i",{staticClass:"minus icon"}),e._v("\n                        "+e._s(e.$t("models.attributes.status_prototypes.negative_polarity"))+"\n                    ")])])]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.status_prototypes.name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.status_prototype.name,expression:"status_prototype.name"}],attrs:{type:"text",name:"name"},domProps:{value:e.status_prototype.name},on:{input:function(t){t.target.composing||e.$set(e.status_prototype,"name",t.target.value)}}})]),i("div",{staticClass:"field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.status_prototypes.description")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.status_prototype.description,expression:"status_prototype.description"}],attrs:{type:"text",name:"description"},domProps:{value:e.status_prototype.description},on:{input:function(t){t.target.composing||e.$set(e.status_prototype,"description",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v("Scope")]),i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.status_prototype.scope,expression:"status_prototype.scope"}],staticClass:"ui mini dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.status_prototype,"scope",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.scope_options,function(t){return i("option",{domProps:{value:t.scope}},[e._v(e._s(t.name))])})],2)]),i("div",{staticClass:"field"},[i("label",[e._v("MaterialClassName")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.status_prototype.material_class_name,expression:"status_prototype.material_class_name"}],attrs:{type:"text",name:"material_class_name"},domProps:{value:e.status_prototype.material_class_name},on:{input:function(t){t.target.composing||e.$set(e.status_prototype,"material_class_name",t.target.value)}}})]),i("div",{staticClass:"ui basic fluid positive button",on:{click:e.create_status_prototype}},[e._v("\n                "+e._s(e.$t("ui.general.submit"))+"\n            ")])])]):e._e()],1)},Uk=[];function Fk(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function Yk(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){Fk(a,n,s,r,o,"next",e)}function o(e){Fk(a,n,s,r,o,"throw",e)}r(void 0)})}}var Gk={name:"NewStatusPrototype",data:function(){return{is_initialized:!1,is_loading:!1,errors:[],status_prototype:{polarity:null,scope:"operator"}}},computed:{scope_options:function(){return[{name:this.$t("ui.status_scopes.system"),scope:"system"},{name:this.$t("ui.status_scopes.mark"),scope:"mark"},{name:this.$t("ui.status_scopes.condition"),scope:"condition"},{name:this.$t("ui.status_scopes.operator"),scope:"operator"},{name:this.$t("ui.status_scopes.forwarder"),scope:"forwarder"},{name:this.$t("ui.status_scopes.public"),scope:"public"}]}},created:function(){},mounted:function(){this.init()},methods:{init:function(){var e=Yk(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!1,e()});case 2:return e.next=4,new Promise(function(e){t.is_initialized=!0,e()});case 4:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),create_status_prototype:function(){var e=this;this.is_loading=!0,this.errors=[];var t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_status_prototypes_create).parse({status_prototype_identity:this.$route.params.identity});axios.post(t,this.status_prototype,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.status_prototype=t.data.status_prototype,e.$noty.success(e.$t("ui.notifications.success.create__name",{name:e.$t("models.status_prototypes")})),e.$router.push({name:"status_prototypes"})):(console.log(t.data),e.$noty.error(t.data))})["catch"](function(t){console.log(t.response),e.$noty.error(t.response)}).then(function(){setTimeout(function(){e.is_loading=!1},300)})}},components:{ErrorMessages:B_}},Hk=Gk,Kk=Object(Tt["a"])(Hk,Mk,Uk,!1,null,"714012ba",null),Wk=Kk.exports,Vk=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui segment",attrs:{id:"edit_status_prototype"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),e.is_initialized?i("div",{staticClass:"contents ui container"},[e.is_loading?i("div",{staticClass:"ui active centered inline loader"}):i("div",{staticClass:"ui form"},[i("div",{staticClass:"field computer column"},[i("div",{staticClass:"ui radio checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.status_prototype.polarity,expression:"status_prototype.polarity"}],attrs:{type:"radio",id:"no_polarity"},domProps:{value:null,checked:e._q(e.status_prototype.polarity,null)},on:{change:function(t){e.$set(e.status_prototype,"polarity",null)}}}),i("label",{staticClass:"pointer",attrs:{for:"no_polarity"}},[i("i",{staticClass:"help icon"}),e._v("\n                        "+e._s(e.$t("models.attributes.status_prototypes.non_polarity"))+"\n                    ")])]),i("div",{staticClass:"ui radio checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.status_prototype.polarity,expression:"status_prototype.polarity"}],attrs:{type:"radio",id:"true_polarity"},domProps:{value:!0,checked:e._q(e.status_prototype.polarity,!0)},on:{change:function(t){e.$set(e.status_prototype,"polarity",!0)}}}),i("label",{staticClass:"pointer",attrs:{for:"true_polarity"}},[i("i",{staticClass:"plus icon"}),e._v("\n                        "+e._s(e.$t("models.attributes.status_prototypes.positive_polarity"))+"\n                    ")])]),i("div",{staticClass:"ui radio checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.status_prototype.polarity,expression:"status_prototype.polarity"}],attrs:{type:"radio",id:"false_polarity"},domProps:{value:!1,checked:e._q(e.status_prototype.polarity,!1)},on:{change:function(t){e.$set(e.status_prototype,"polarity",!1)}}}),i("label",{staticClass:"pointer",attrs:{for:"false_polarity"}},[i("i",{staticClass:"minus icon"}),e._v("\n                        "+e._s(e.$t("models.attributes.status_prototypes.negative_polarity"))+"\n                    ")])])]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.status_prototypes.name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.status_prototype.name,expression:"status_prototype.name"}],attrs:{type:"text",name:"name"},domProps:{value:e.status_prototype.name},on:{input:function(t){t.target.composing||e.$set(e.status_prototype,"name",t.target.value)}}})]),i("div",{staticClass:"field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.status_prototypes.description")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.status_prototype.description,expression:"status_prototype.description"}],attrs:{type:"text",name:"description"},domProps:{value:e.status_prototype.description},on:{input:function(t){t.target.composing||e.$set(e.status_prototype,"description",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v("Scope")]),i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.status_prototype.scope,expression:"status_prototype.scope"}],staticClass:"ui mini dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.status_prototype,"scope",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.scope_options,function(t){return i("option",{domProps:{value:t.scope}},[e._v(e._s(t.name))])})],2)]),i("div",{staticClass:"field"},[i("label",[e._v("MaterialClassName")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.status_prototype.material_class_name,expression:"status_prototype.material_class_name"}],attrs:{type:"text",name:"material_class_name"},domProps:{value:e.status_prototype.material_class_name},on:{input:function(t){t.target.composing||e.$set(e.status_prototype,"material_class_name",t.target.value)}}})]),i("div",{staticClass:"ui basic fluid positive button",on:{click:e.update_status_prototype}},[e._v("\n                "+e._s(e.$t("ui.general.submit"))+"\n            ")])])]):e._e()],1)},Xk=[];function Qk(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function Zk(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){Qk(a,n,s,r,o,"next",e)}function o(e){Qk(a,n,s,r,o,"throw",e)}r(void 0)})}}var Jk={name:"editStatusPrototype",data:function(){return{is_initialized:!1,is_loading:!1,errors:[],status_prototype:{}}},computed:{scope_options:function(){return[{name:this.$t("ui.status_scopes.system"),scope:"system"},{name:this.$t("ui.status_scopes.mark"),scope:"mark"},{name:this.$t("ui.status_scopes.condition"),scope:"condition"},{name:this.$t("ui.status_scopes.operator"),scope:"operator"},{name:this.$t("ui.status_scopes.forwarder"),scope:"forwarder"},{name:this.$t("ui.status_scopes.public"),scope:"public"}]}},created:function(){},mounted:function(){this.init()},methods:{init:function(){var e=Zk(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!1,e()});case 2:return e.next=4,this.fetch_status_prototype();case 4:return e.next=6,new Promise(function(e){t.is_initialized=!0,e()});case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_status_prototype:function(){var e=this,t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_status_prototype).parse({status_prototype_identity:this.$route.params.identity});return this.is_loading=!0,axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?e.status_prototype=t.data.status_prototype:(console.log(t.data),e.$noty.error(t.data))})["catch"](function(t){console.log(t.response),e.$noty.error(t.response)}).then(function(){setTimeout(function(){e.is_loading=!1},300)})},update_status_prototype:function(){var e=this;this.is_loading=!0,this.errors=[];var t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_status_prototype_update).parse({status_prototype_identity:this.$route.params.identity});axios.post(t,this.status_prototype,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.status_prototype=t.data.status_prototype,e.$noty.success(e.$t("ui.notifications.success.update__name",{name:e.$t("models.status_prototypes")})),e.$router.push({name:"status_prototypes"})):(console.log(t.data),e.$noty.error(t.data))})["catch"](function(t){console.log(t.response),e.$noty.error(t.response)}).then(function(){setTimeout(function(){e.is_loading=!1},300)})}},components:{ErrorMessages:B_}},ex=Jk,tx=Object(Tt["a"])(ex,Vk,Xk,!1,null,"dc84a4e4",null),ix=tx.exports,nx="status_prototypes",sx="new_status_prototype",ax="edit_status_prototype",rx=[{path:"",component:Bk,name:"status_prototypes",meta:{api_name:"api_v1_provider_status_prototypes",breadcrumb:[nx],btns:[sx]}},{path:"new",component:Wk,name:"new_status_prototype",meta:{api_name:"api_v1_provider_status_prototypes_create",breadcrumb:[nx,sx]}},{path:":identity/edit",component:ix,name:"edit_status_prototype",meta:{api_name:"api_v1_provider_status_prototypes_create",breadcrumb:[nx,ax]}}],ox=rx,cx=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui segment",attrs:{id:"materials"}},[i("CRUDTemplate",{attrs:{columns:e.columns,header_buttons:e.header_buttons,module_scope:e.module_scope,module_name:e.module_name,paginator_channel_name:e.paginator_channel_name,fetch_index_items_url:e.fetch_index_items_url,edit_index_item_url:e.edit_index_item_url,update_index_item_url:e.update_index_item_url,authentication_token:e.authentication_token,index_item_name:e.index_item_name,api_response_corresponding_name_of_index_items:e.api_response_corresponding_name_of_index_items,api_response_corresponding_name_of_index_item:e.api_response_corresponding_name_of_index_item,blank_value_text:e.blank_value_text}})],1)},_x=[],lx=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"index_template",staticClass:"x_scrollable"},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),i("div",{attrs:{refs:"header_buttons"}},e._l(e.header_buttons,function(t){return i(t.is,{tag:"div",class:t.class,attrs:{to:t.to},on:{click:function(e){return e.preventDefault(),t.click(e)}}},[i("span",{domProps:{innerHTML:e._s(t.content)}})])})),i("table",{staticClass:"ui celled table"},[i("thead",{staticClass:"center aligned"},[i("tr",[e._l(e.columns,function(t){return i("th",[e._v(e._s(t.filter.human_name))])}),i("th",[i("div",{staticClass:"ui basic black icon button",on:{click:function(t){return t.preventDefault(),e.toggle_filter(t)}}},[e.show_filter?i("i",{staticClass:"double up angle icon"}):i("i",{staticClass:"double down angle icon"})])])],2),i("tr",{directives:[{name:"show",rawName:"v-show",value:e.show_filter,expression:"show_filter"}]},[e._l(e.columns,function(t){return i("th",["text"==t.filter.type?i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params[t.filter.attribute_name],expression:"search_params[column.filter.attribute_name]"}],attrs:{type:"text"},domProps:{value:e.search_params[t.filter.attribute_name]},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_index_items(t):null},input:function(i){i.target.composing||e.$set(e.search_params,t.filter.attribute_name,i.target.value)}}})]):e._e(),"number"==t.filter.type?i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params[t.filter.attribute_name],expression:"search_params[column.filter.attribute_name]"}],attrs:{type:"number"},domProps:{value:e.search_params[t.filter.attribute_name]},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_index_items(t):null},input:function(i){i.target.composing||e.$set(e.search_params,t.filter.attribute_name,i.target.value)}}})]):e._e(),"number_range"==t.filter.type?i("table",[i("tbody",[i("tr",[i("td",[e._v("\n                                    從\n                                    "),i("div",{staticClass:"ui input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params[t.filter.attribute_name_of_from],expression:"search_params[column.filter.attribute_name_of_from]"}],attrs:{type:"number"},domProps:{value:e.search_params[t.filter.attribute_name_of_from]},on:{keypress:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_index_items(t):null},input:function(i){i.target.composing||e.$set(e.search_params,t.filter.attribute_name_of_from,i.target.value)}}})])])]),i("tr",[i("td",[e._v("\n                                    到\n                                    "),i("div",{staticClass:"ui input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params[t.filter.attribute_name_of_to],expression:"search_params[column.filter.attribute_name_of_to]"}],attrs:{type:"number"},domProps:{value:e.search_params[t.filter.attribute_name_of_to]},on:{keypress:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_index_items(t):null},input:function(i){i.target.composing||e.$set(e.search_params,t.filter.attribute_name_of_to,i.target.value)}}})])])])])]):e._e(),"checkbox"==t.filter.type?i("div",{staticClass:"ui mini input"},[i("div",{staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params[t.filter.attribute_name],expression:"search_params[column.filter.attribute_name]"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.search_params[t.filter.attribute_name])?e._i(e.search_params[t.filter.attribute_name],null)>-1:e.search_params[t.filter.attribute_name]},on:{change:function(i){var n=e.search_params[t.filter.attribute_name],s=i.target,a=!!s.checked;if(Array.isArray(n)){var r=null,o=e._i(n,r);s.checked?o<0&&e.$set(e.search_params,t.filter.attribute_name,n.concat([r])):o>-1&&e.$set(e.search_params,t.filter.attribute_name,n.slice(0,o).concat(n.slice(o+1)))}else e.$set(e.search_params,t.filter.attribute_name,a)}}}),i("label",[e._v(e._s(t.filter.human_name))])])]):e._e(),"datetime"==t.filter.type?i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params[t.filter.attribute_name],expression:"search_params[column.filter.attribute_name]"}],attrs:{type:"datetime-local"},domProps:{value:e.search_params[t.filter.attribute_name]},on:{input:function(i){i.target.composing||e.$set(e.search_params,t.filter.attribute_name,i.target.value)}}})]):e._e(),"datetime_range"==t.filter.type?i("table",[i("tbody",[i("tr",[i("td",[e._v("從")]),i("td",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params[t.filter.attribute_name_of_from],expression:"search_params[column.filter.attribute_name_of_from]"}],attrs:{type:"datetime-local"},domProps:{value:e.search_params[t.filter.attribute_name_of_from]},on:{input:function(i){i.target.composing||e.$set(e.search_params,t.filter.attribute_name_of_from,i.target.value)}}})])])]),i("tr",[i("td",[e._v("到")]),i("td",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params[t.filter.attribute_name_of_to],expression:"search_params[column.filter.attribute_name_of_to]"}],attrs:{type:"datetime-local"},domProps:{value:e.search_params[t.filter.attribute_name_of_to]},on:{input:function(i){i.target.composing||e.$set(e.search_params,t.filter.attribute_name_of_to,i.target.value)}}})])])])])]):e._e()])}),i("th",[i("div",{staticClass:"ui buttons"},[i("div",{staticClass:"ui basic black icon button",on:{click:function(t){return t.preventDefault(),e.fetch_index_items(t)}}},[i("i",{staticClass:"search icon"})]),i("div",{staticClass:"ui basic black icon button",on:{click:function(t){return t.preventDefault(),e.init_search_params(t)}}},[i("i",{staticClass:"refresh icon"})])])])],2)]),e.is_loading?i("tbody",{staticClass:"center aligned"},[i("tr",{staticClass:"loading"},[i("td",{attrs:{colspan:e.columns.length+1}},[i("div",{staticClass:"ui active centered inline loader"})])])]):i("tbody",{staticClass:"center aligned"},[e._l(e.index_items,function(t){return i("Item",{key:t.identity,attrs:{index_item:t,columns:e.columns,edit_index_item_url:e.edit_index_item_url,delete_index_item_url:e.delete_index_item_url,update_index_item_url:e.update_index_item_url,authentication_token:e.authentication_token,index_item_name:e.index_item_name,api_response_corresponding_name_of_index_item:e.api_response_corresponding_name_of_index_item,blank_value_text:e.blank_value_text}})}),e.index_items.length<=0?i("tr",{staticClass:"center aligned"},[i("td",{attrs:{colspan:e.columns.length+1}},[i("h5",[e._v(e._s(e.$t("ui.general.no_data")))])])]):e._e()],2)]),e.pagination.total_pages||e.pagination.current_page?i("Paginator",{tag:"div",attrs:{total_pages:e.pagination.total_pages,current_page:e.pagination.current_page,change_page_channel:e.paginator_channel_name,disabled:e.is_loading}}):e._e()],1)},ux=[],dx=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.index_item?i("tr",[e._l(e.columns,function(t){return i("td",["text"==t.item.type?i("span",{domProps:{innerHTML:e._s(e.index_item[t.item.attribute_name]||e.blank_value_text)}}):e._e(),"selection"==t.item.type?i("span",{domProps:{innerHTML:e._s(e.selection_value(t)||e.blank_value_text)}}):e._e(),"boolean"==t.item.type?i("span",[t.show_toggle_button&&e.is_loading?i("div",[i("i",{staticClass:"circle notch loading icon"})]):t.show_toggle_button&&!e.is_loading?i("div",{on:{click:function(i){i.preventDefault(),e.toggle_attribute(t.item.attribute_name)}}},[e.index_item[t.item.attribute_name]?i("span",[i("i",{staticClass:"check icon"}),e._v(" 是\n                ")]):e._e(),e.index_item[t.item.attribute_name]?e._e():i("span",[i("i",{staticClass:"remove icon"}),e._v(" 否\n                ")])]):t.show_toggle_button?e._e():i("div",[e.index_item[t.item.attribute_name]?i("span",[i("i",{staticClass:"check icon"}),e._v(" 是\n                ")]):e._e(),e.index_item[t.item.attribute_name]?e._e():i("span",[i("i",{staticClass:"remove icon"}),e._v(" 否\n                ")])])]):e._e()])}),i("td",[e.is_loading?i("div",{staticClass:"ui vertical buttons"},[e.edit_index_item_url?i("div",{staticClass:"ui basic green loading button"},[e._v("\n                "+e._s(e.$t("ui.general.edit"))+"\n            ")]):e._e(),e.delete_index_item_url?i("a",{staticClass:"ui basic red loading button"},[e._v("\n                "+e._s(e.$t("ui.general.delete"))+"\n            ")]):e._e()]):i("div",{staticClass:"ui vertical buttons"},[e.edit_index_item_url?i("router-link",{staticClass:"ui basic green button",attrs:{to:e.convert_url_object(e.edit_index_item_url)}},[e._v("\n                "+e._s(e.$t("ui.general.edit"))+"\n            ")]):e._e(),e.delete_index_item_url?i("a",{staticClass:"ui basic red button",on:{click:function(t){return t.preventDefault(),e.delete_index_item(t)}}},[e._v("\n                "+e._s(e.$t("ui.general.delete"))+"\n            ")]):e._e()],1)])],2):e._e()},px=[],mx={name:"CRUDTemplatesIndexItem",props:{columns:{type:Array,default:function(){return[]}},index_item:Object,edit_index_item_url:Object,update_index_item_url:Object,delete_index_item_url:Object,authentication_token:String,index_item_name:String,api_response_corresponding_name_of_index_item:String,blank_value_text:{type:String,default:function(){return""}}},data:function(){return{is_loading:!1}},computed:{},mounted:function(){},methods:{delete_index_item:function(){var e=this;if(confirm(this.$t("ui.notifications.warning.are_you_sure_to_delete_it"))){this.is_loading=!0;var t=this.convert_url_object(this.delete_index_item_url);axios.get(t,{headers:{Authorization:this.authentication_token}}).then(function(t){"success"==t.data.status?(e.$parent.fetch_index_items(),e.$noty.success(e.$t("ui.notifications.success.delete__name",{name:e.index_item_name}))):(console.log(t.data),e.$noty.error(e.$t("ui.notifications.error.delete__name",{name:e.index_item_name})))})["catch"](function(t){console.log(t.response),e.$noty.error(e.$t("ui.notifications.error.delete__name",{name:e.index_item_name}))})["finally"](function(){e.is_loading=!1})}},toggle_attribute:function(e){var t=this;this.is_loading=!0;var i=this.convert_url_object(this.update_index_item_url);axios.post(i,{}[e]=!this.index_item[e],{headers:{Authorization:this.authentication_token}}).then(function(i){"success"==i.data.status?(t.index_item[e]=i.data[api_response_corresponding_name_of_index_item][e],t.$noty.success(t.$t("ui.notifications.success.update__name",{name:t.index_item_name}))):t.$noty.error(t.$t("ui.notifications.error.update__name",{name:t.index_item_name}))})["catch"](function(e){console.log(e.response)})["finally"](function(){t.is_loading=!1})},convert_url_object:function(e){var t={},i=!0,n=!1,s=void 0;try{for(var a,r=e.params[Symbol.iterator]();!(i=(a=r.next()).done);i=!0){var o=a.value;switch(o.source){case"index_item":t[o.key_name]=this.index_item[o.attribute_name];break;case"route_params":t[o.key_name]=this.$route.params[o.attribute_name];break}}}catch(c){n=!0,s=c}finally{try{i||null==r["return"]||r["return"]()}finally{if(n)throw s}}switch(e.type){case"vue":return{name:e.url,params:t};case"http":return new RestUrl(e.url).parse(t)}},selection_value:function(e){var t=this,i=_.find(e.item.options,function(i){return i[e.item.option_attribute_name]==t.index_item[e.item.attribute_name]});return i?i[e.item.option_human_name]:null}}},fx=mx,hx=Object(Tt["a"])(fx,dx,px,!1,null,"0204e19f",null),vx=hx.exports;function gx(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function bx(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){gx(a,n,s,r,o,"next",e)}function o(e){gx(a,n,s,r,o,"throw",e)}r(void 0)})}}var yx={name:"CRUDTemplatesIndex",props:{columns:{type:Array,default:function(){return[]}},header_buttons:{type:Array,default:function(){return[]}},module_scope:String,module_name:String,paginator_channel_name:String,fetch_index_items_url:{type:Object,default:function(){return{}}},edit_index_item_url:{type:Object},delete_index_item_url:{type:Object},update_index_item_url:{type:Object},authentication_token:String,index_item_name:String,api_response_corresponding_name_of_index_items:String,api_response_corresponding_name_of_index_item:String,blank_value_text:{type:String,default:function(){return""}}},data:function(){return{is_initialized:!1,is_loading:!1,is_search_params_changed:!1,index_items:[],errors:[]}},computed:{pagination:function(){return this.$store.state[this.module_scope][this.module_name].pagination},search_params:function(){return this.$store.state[this.module_scope][this.module_name].search_params},show_filter:function(){return this.$store.state[this.module_scope][this.module_name].show_filter}},created:function(){},mounted:function(){this.init()},watch:{search_params:{handler:function(e,t){this.is_search_params_changed=!0},deep:!0}},methods:{init:function(){var e=bx(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,this.$store.commit(this.module_scope+"/"+this.module_name+"/init_search_params");case 5:return e.next=7,this.fetch_index_items();case 7:return e.next=9,new Promise(function(e){t.is_initialized=!0,e()});case 9:e.next=14;break;case 11:switch(e.prev=11,e.t0=e["catch"](0),e.t0){default:console.log("init error: "),console.log(e.t0)}case 14:return e.prev=14,this.$bus.$off(this.paginator_channel_name),this.$bus.$on(this.paginator_channel_name,function(e){t.$store.commit(t.module_scope+"/"+t.module_name+"/set_current_page",e),t.fetch_index_items()}),e.finish(14);case 18:case"end":return e.stop()}},e,this,[[0,11,14,18]])}));function t(){return e.apply(this,arguments)}return t}(),fetch_index_items:function(){var e=this;if(0==this.is_loading){this.errors=[],this.is_loading=!0,this.is_search_params_changed&&(this.$store.commit(this.module_scope+"/"+this.module_name+"/set_current_page",null),this.is_search_params_changed=!1);var t=this.convert_url_object(this.fetch_index_items_url)+"?"+object_to_query(this.search_params)+"&"+object_to_query({page:this.pagination.current_page});return axios.get(t,{headers:{Authorization:this.authentication_token}}).then(function(t){if("success"!=t.data.status)return Promise.reject(t.data);e.index_items=t.data[e.api_response_corresponding_name_of_index_items],t.data.pagination&&(e.$store.commit(e.module_scope+"/"+e.module_name+"/set_current_page",t.data.pagination.current_page),e.$store.commit(e.module_scope+"/"+e.module_name+"/set_total_pages",t.data.pagination.total_pages))})["catch"](function(t){if(t.response){switch(t.response.status){default:e.errors.push(t.response.status+" "+t.response.statusText)}e.$noty.error("取得 "+e.index_item_name+" 失敗: "+t.response.status+" "+t.response.statusText)}else t.errors?(e.$noty.error("取得 "+e.index_item_name+" 失敗: "+t.errors),e.errors=response.data.errors):(e.errors.push(e.$t("ui.general.server_offline")),e.$noty.error(e.$t("ui.general.server_offline")));return Promise.reject(t)})["finally"](function(){setTimeout(function(){e.is_loading=!1},300)})}},init_search_params:function(){this.$store.commit(this.module_scope+"/"+this.module_name+"/init_search_params"),$(this.$refs.index_template).find(".ui.dropdown").dropdown("clear")},toggle_filter:function(){this.$store.commit(this.module_scope+"/"+this.module_name+"/toggle_filter")},convert_url_object:function(e){var t={},i=!0,n=!1,s=void 0;try{for(var a,r=e.params[Symbol.iterator]();!(i=(a=r.next()).done);i=!0){var o=a.value;switch(o.source){case"index_item":t[o.key_name]=this.index_item[o.attribute_name];break;case"route_params":t[o.key_name]=this.$route.params[o.attribute_name];break}}}catch(c){n=!0,s=c}finally{try{i||null==r["return"]||r["return"]()}finally{if(n)throw s}}switch(e.type){case"vue":return{name:e.url,params:t};case"http":return new RestUrl(e.url).parse(t)}}},components:{Item:vx,Paginator:Ma,ErrorMessages:B_}},wx=yx,$x=(n("f8a2"),Object(Tt["a"])(wx,lx,ux,!1,null,"be4294aa",null)),kx=$x.exports,xx={name:"MaterialsIndex",data:function(){return{columns:[{filter:{type:null,human_name:this.$t("models.attributes.materials.name"),attribute_name:"name"},item:{type:"text",attribute_name:"name"}},{filter:{type:null,human_name:this.$t("models.attributes.materials.en_name"),attribute_name:"en_name"},item:{type:"text",attribute_name:"en_name"}},{filter:{type:null,human_name:this.$t("models.attributes.materials.core_waybill_level"),attribute_name:"core_waybill_level"},item:{type:"text",attribute_name:"core_waybill_level"}},{filter:{type:null,human_name:this.$t("models.attributes.materials.class_name"),attribute_name:"class_name"},item:{type:"text",attribute_name:"class_name"}},{filter:{type:null,human_name:this.$t("models.attributes.materials.label_type"),attribute_name:"label_type"},item:{type:"text",attribute_name:"label_type"}}],header_buttons:[{is:"router-link",class:"ui basic positive button",content:"<i class='plus icon'></i>"+this.$t("ui.page_titles.new_material"),to:{name:"new_material"}}],module_scope:"provider",module_name:"materials_module",paginator_channel_name:"materials_index",fetch_index_items_url:{type:"http",url:this.$store.state.provider.routes.api_v1_provider_materials,params:[]},edit_index_item_url:{type:"vue",url:"edit_material",params:[{key_name:"material_identity",attribute_name:"identity",source:"index_item"}]},delete_index_item_url:{type:"http",url:this.$store.state.provider.routes.api_v1_provider_material_delete,params:[{key_name:"material_identity",attribute_name:"identity",source:"index_item"}]},update_index_item_url:{},authentication_token:localStorage.getItem("authentication_token"),index_item_name:this.$t("models.materials"),api_response_corresponding_name_of_index_items:"materials",api_response_corresponding_name_of_index_item:"material",blank_value_text:"<span style='color: red;'>-</span>"}},computed:{},created:function(){},mounted:function(){},watch:{},methods:{},components:{CRUDTemplate:kx}},Cx=xx,Px=Object(Tt["a"])(Cx,cx,_x,!1,null,null,null),Sx=Px.exports,Nx=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"new_material"}},[i("CRUDTemplate",{attrs:{columns:e.columns,create_index_item_url:e.create_index_item_url,authentication_token:e.authentication_token,index_item_name:e.index_item_name,api_response_corresponding_name_of_index_item:e.api_response_corresponding_name_of_index_item,after_create_url:e.after_create_url}})],1)},qx=[],Ax=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"new_template"},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),e.is_initialized?i("div",[i("table",{staticClass:"ui fixed table blue"},[i("thead",[i("tr",[i("th",{staticClass:"right aligned"},[i("h3",{staticClass:"ui header"},[e._v("\n                            "+e._s(e.$t("ui.toolbox.crud_templates.new"))+"\n                            "+e._s(e.index_item_name)+"\n                        ")])]),i("th",{attrs:{colspan:"4"}}),i("th")])]),i("tbody",{staticClass:"ui form"},[e._l(e.columns,function(t){return i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(t.human_name)+"\n                    ")]),i("td",{staticStyle:{overflow:"visible"},attrs:{colspan:"5"}},["text"==t.type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.index_item[t.attribute_name],expression:"index_item[column.attribute_name]"}],attrs:{type:"text",placeholder:t.placeholder},domProps:{value:e.index_item[t.attribute_name]},on:{input:function(i){i.target.composing||e.$set(e.index_item,t.attribute_name,i.target.value)}}}):e._e(),"number"==t.type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.index_item[t.attribute_name],expression:"index_item[column.attribute_name]"}],attrs:{type:"number",placeholder:t.placeholder},domProps:{value:e.index_item[t.attribute_name]},on:{input:function(i){i.target.composing||e.$set(e.index_item,t.attribute_name,i.target.value)}}}):e._e(),"textarea"==t.type?i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.index_item[t.attribute_name],expression:"index_item[column.attribute_name]"}],attrs:{placeholder:t.placeholder,rows:"5"},domProps:{value:e.index_item[t.attribute_name]},on:{input:function(i){i.target.composing||e.$set(e.index_item,t.attribute_name,i.target.value)}}}):e._e(),"selection"==t.type?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.index_item[t.attribute_name],expression:"index_item[column.attribute_name]"}],staticClass:"ui dropdown",on:{change:function(i){var n=Array.prototype.filter.call(i.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.index_item,t.attribute_name,i.target.multiple?n:n[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(t.options,function(n){return i("option",{domProps:{value:n[t.option_attribute_name]}},[e._v(e._s(n[t.option_human_name]))])})],2):e._e()])])}),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("ui.general.operate"))+"\n                    ")]),i("td",{staticStyle:{overflow:"visible"},attrs:{colspan:"5"}},[i("button",{staticClass:"ui basic positive button",on:{click:function(t){return t.preventDefault(),e.create_index_item(t)}}},[e._v(e._s(e.$t("ui.general.create")))])])])],2)])]):e._e()],1)},Ex=[];function zx(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function jx(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){zx(a,n,s,r,o,"next",e)}function o(e){zx(a,n,s,r,o,"throw",e)}r(void 0)})}}var Rx={name:"CRUDTemplatesNew",props:{columns:Array,authentication_token:String,index_item_name:String,api_response_corresponding_name_of_index_item:String,create_index_item_url:{type:Object,default:function(){return{}}},after_create_url:{type:Object,default:function(){return{}}}},data:function(){return{is_initialized:!1,is_loading:!1,index_item:{},errors:[]}},created:function(){},mounted:function(){this.init()},watch:{},computed:{},methods:{init:function(){var e=jx(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,new Promise(function(e){t.is_initialized=!0,e()});case 5:e.next=10;break;case 7:switch(e.prev=7,e.t0=e["catch"](0),e.t0){default:console.log("init error: "),console.log(e.t0)}case 10:return e.prev=10,e.finish(10);case 12:case"end":return e.stop()}},e,null,[[0,7,10,12]])}));function t(){return e.apply(this,arguments)}return t}(),create_index_item:function(){var e=this;this.is_loading=!0,this.errors=[];var t=this.index_item,i=this.convert_url_object(this.create_index_item_url);return axios.post(i,t,{headers:{Authorization:this.authentication_token}}).then(function(t){if("success"!=t.data.status)return Promise.reject(t.data);e.index_item=t.data[e.api_response_corresponding_name_of_index_item],e.$noty.success(e.$t("ui.notifications.success.create__name",{name:e.index_item_name})),e.$router.push(e.convert_url_object(e.after_create_url))})["catch"](function(t){if(t.response){switch(t.response.status){default:e.errors.push(t.response.status+" "+t.response.statusText)}e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.index_item_name,reason:": "+t.response.status+" "+t.response.statusText}))}else t.errors?(e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.index_item_name,reason:": "+t.errors})),e.errors=response.data.errors):(e.errors.push(e.$t("ui.general.server_offline")),e.$noty.error(e.$t("ui.general.server_offline")));return Promise.reject(t)})["finally"](function(){setTimeout(function(){e.is_loading=!1},300)})},convert_url_object:function(e){var t={},i=!0,n=!1,s=void 0;try{for(var a,r=e.params[Symbol.iterator]();!(i=(a=r.next()).done);i=!0){var o=a.value;switch(o.source){case"index_item":t[o.key_name]=this.index_item[o.attribute_name];break;case"route_params":t[o.key_name]=this.$route.params[o.attribute_name];break}}}catch(c){n=!0,s=c}finally{try{i||null==r["return"]||r["return"]()}finally{if(n)throw s}}switch(e.type){case"vue":return{name:e.url,params:t};case"http":return new RestUrl(e.url).parse(t)}}},components:{ErrorMessages:B_}},Ox=Rx,Ix=Object(Tt["a"])(Ox,Ax,Ex,!1,null,"701a1d86",null),Dx=Ix.exports,Lx={name:"NewMaterial",props:{},data:function(){return{columns:[{human_name:this.$t("models.attributes.materials.name"),attribute_name:"name",placeholder:this.$t("models.attributes.materials.name"),type:"text"},{human_name:this.$t("models.attributes.materials.en_name"),attribute_name:"en_name",placeholder:this.$t("models.attributes.materials.en_name"),type:"text"},{human_name:this.$t("models.attributes.materials.core_waybill_level"),attribute_name:"core_waybill_level",placeholder:this.$t("models.attributes.materials.core_waybill_level"),type:"number"},{human_name:this.$t("models.attributes.materials.class_name"),attribute_name:"class_name",placeholder:this.$t("models.attributes.materials.class_name"),type:"text"},{human_name:this.$t("models.attributes.materials.label_type"),attribute_name:"label_type",placeholder:this.$t("models.attributes.materials.label_type"),type:"selection",options:[{label_type:"Label::ByExpress",human_name:"Label::ByExpress"}],option_attribute_name:"label_type",option_human_name:"human_name"}],authentication_token:localStorage.getItem("authentication_token"),index_item_name:this.$t("models.materials"),api_response_corresponding_name_of_index_item:"material",create_index_item_url:{type:"http",url:this.$store.state.provider.routes.api_v1_provider_materials_create,params:[]},after_create_url:{type:"vue",url:"edit_material",params:[{key_name:"material_identity",attribute_name:"identity",source:"index_item"}]}}},created:function(){},mounted:function(){},watch:{},computed:{},methods:{},components:{CRUDTemplate:Dx}},Tx=Lx,Bx=Object(Tt["a"])(Tx,Nx,qx,!1,null,"19299acb",null),Mx=Bx.exports,Ux=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"edit_material"}},[i("CRUDTemplate",{attrs:{title_attribute:e.title_attribute,columns:e.columns,fetch_index_item_url:e.fetch_index_item_url,update_index_item_url:e.update_index_item_url,authentication_token:e.authentication_token,index_item_name:e.index_item_name,api_response_corresponding_name_of_index_item:e.api_response_corresponding_name_of_index_item,after_update_url:e.after_update_url}})],1)},Fx=[],Yx=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"new_template"},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),e.is_initialized?i("div",[i("table",{staticClass:"ui fixed table blue"},[i("thead",[i("tr",[i("th",{staticClass:"right aligned"},[i("h3",{staticClass:"ui header"},[e._v(e._s(e.index_item[e.title_attribute]))])]),i("th",{attrs:{colspan:"4"}}),i("th")])]),i("tbody",{staticClass:"ui form"},[e._l(e.columns,function(t){return i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(t.human_name)+"\n                    ")]),i("td",{staticStyle:{overflow:"visible"},attrs:{colspan:"5"}},["text"==t.type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.index_item[t.attribute_name],expression:"index_item[column.attribute_name]"}],attrs:{type:"text",placeholder:t.placeholder},domProps:{value:e.index_item[t.attribute_name]},on:{input:function(i){i.target.composing||e.$set(e.index_item,t.attribute_name,i.target.value)}}}):e._e(),"number"==t.type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.index_item[t.attribute_name],expression:"index_item[column.attribute_name]"}],attrs:{type:"number",placeholder:t.placeholder},domProps:{value:e.index_item[t.attribute_name]},on:{input:function(i){i.target.composing||e.$set(e.index_item,t.attribute_name,i.target.value)}}}):e._e(),"textarea"==t.type?i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.index_item[t.attribute_name],expression:"index_item[column.attribute_name]"}],attrs:{placeholder:t.placeholder,rows:"5"},domProps:{value:e.index_item[t.attribute_name]},on:{input:function(i){i.target.composing||e.$set(e.index_item,t.attribute_name,i.target.value)}}}):e._e(),"selection"==t.type?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.index_item[t.attribute_name],expression:"index_item[column.attribute_name]"}],staticClass:"ui dropdown",on:{change:function(i){var n=Array.prototype.filter.call(i.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.index_item,t.attribute_name,i.target.multiple?n:n[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(t.options,function(n){return i("option",{domProps:{value:n[t.option_attribute_name]}},[e._v(e._s(n[t.option_human_name]))])})],2):e._e()])])}),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("ui.general.operate"))+"\n                    ")]),i("td",{staticStyle:{overflow:"visible"},attrs:{colspan:"5"}},[i("button",{staticClass:"ui basic positive button",on:{click:function(t){return t.preventDefault(),e.update_index_item(t)}}},[e._v("\n                            "+e._s(e.$t("ui.general.update"))+"\n                        ")])])])],2)])]):e._e()],1)},Gx=[];function Hx(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function Kx(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){Hx(a,n,s,r,o,"next",e)}function o(e){Hx(a,n,s,r,o,"throw",e)}r(void 0)})}}var Wx={name:"CRUDTemplatesEdit",props:{title_attribute:String,columns:Array,authentication_token:String,index_item_name:String,api_response_corresponding_name_of_index_item:String,fetch_index_item_url:{type:Object,default:function(){return{}}},update_index_item_url:{type:Object,default:function(){return{}}},after_update_url:{type:Object,default:function(){return{}}}},data:function(){return{is_initialized:!1,is_loading:!1,index_item:{},errors:[]}},created:function(){},mounted:function(){this.init()},watch:{},computed:{},methods:{init:function(){var e=Kx(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,this.fetch_index_item();case 5:return e.next=7,new Promise(function(e){t.is_initialized=!0,e()});case 7:e.next=12;break;case 9:switch(e.prev=9,e.t0=e["catch"](0),e.t0){default:console.log("init error: "),console.log(e.t0)}case 12:return e.prev=12,e.finish(12);case 14:case"end":return e.stop()}},e,this,[[0,9,12,14]])}));function t(){return e.apply(this,arguments)}return t}(),fetch_index_item:function(){var e=this,t=this.convert_url_object(this.fetch_index_item_url);return this.is_loading=!0,axios.get(t,{headers:{Authorization:this.authentication_token}}).then(function(t){if("success"!=t.data.status)return Promise.reject(t.data);e.index_item=t.data[e.api_response_corresponding_name_of_index_item]})["catch"](function(t){if(t.response){switch(t.response.status){default:e.errors.push(t.response.status+" "+t.response.statusText)}e.$noty.error("取得 "+e.index_item_name+" 失敗: "+t.response.status+" "+t.response.statusText)}else t.errors?e.$noty.error("取得 "+e.index_item_name+" 失敗: "+t.errors):(e.errors.push(e.$t("ui.general.server_offline")),e.$noty.error(e.$t("ui.general.server_offline")));return Promise.reject(t)})["finally"](function(){e.is_loading=!1})},update_index_item:function(){var e=this;this.is_loading=!0,this.errors=[];var t=this.index_item,i=this.convert_url_object(this.update_index_item_url);return axios.post(i,t,{headers:{Authorization:this.authentication_token}}).then(function(t){if("success"!=t.data.status)return Promise.reject(t.data);e.index_item=t.data[e.api_response_corresponding_name_of_index_item],e.$noty.success("更新"+e.index_item_name+"成功"),e.$router.push(e.convert_url_object(e.after_update_url))})["catch"](function(t){if(t.response){switch(t.response.status){default:e.errors.push(t.response.status+" "+t.response.statusText)}e.$noty.error("取得 "+e.index_item_name+" 失敗: "+t.response.status+" "+t.response.statusText)}else t.errors?(e.$noty.error("取得 "+e.index_item_name+" 失敗: "+t.errors),e.errors=response.data.errors):(e.errors.push(e.$t("ui.general.server_offline")),e.$noty.error(e.$t("ui.general.server_offline")));return Promise.reject(t)})["finally"](function(){setTimeout(function(){e.is_loading=!1},300)})},convert_url_object:function(e){var t={},i=!0,n=!1,s=void 0;try{for(var a,r=e.params[Symbol.iterator]();!(i=(a=r.next()).done);i=!0){var o=a.value;switch(o.source){case"index_item":t[o.key_name]=this.index_item[o.attribute_name];break;case"route_params":t[o.key_name]=this.$route.params[o.attribute_name];break}}}catch(c){n=!0,s=c}finally{try{i||null==r["return"]||r["return"]()}finally{if(n)throw s}}switch(e.type){case"vue":return{name:e.url,params:t};case"http":return new RestUrl(e.url).parse(t)}}},components:{ErrorMessages:B_}},Vx=Wx,Xx=Object(Tt["a"])(Vx,Yx,Gx,!1,null,"770d907c",null),Qx=Xx.exports,Zx={name:"EditMaterial",props:{},data:function(){return{title_attribute:"name",columns:[{human_name:this.$t("models.attributes.materials.name"),attribute_name:"name",placeholder:this.$t("models.attributes.materials.name"),type:"text"},{human_name:this.$t("models.attributes.materials.en_name"),attribute_name:"en_name",placeholder:this.$t("models.attributes.materials.en_name"),type:"text"},{human_name:this.$t("models.attributes.materials.core_waybill_level"),attribute_name:"core_waybill_level",placeholder:this.$t("models.attributes.materials.core_waybill_level"),type:"number"},{human_name:this.$t("models.attributes.materials.class_name"),attribute_name:"class_name",placeholder:this.$t("models.attributes.materials.class_name"),type:"text"},{human_name:this.$t("models.attributes.materials.label_type"),attribute_name:"label_type",placeholder:this.$t("models.attributes.materials.label_type"),type:"selection",options:[{label_type:"Label::ByExpress",human_name:"Label::ByExpress"}],option_attribute_name:"label_type",option_human_name:"human_name"}],authentication_token:localStorage.getItem("authentication_token"),index_item_name:"物料",api_response_corresponding_name_of_index_item:"material",fetch_index_item_url:{type:"http",url:this.$store.state.provider.routes.api_v1_provider_material,params:[{key_name:"material_identity",attribute_name:"material_identity",source:"route_params"}]},update_index_item_url:{type:"http",url:this.$store.state.provider.routes.api_v1_provider_material_update,params:[{key_name:"material_identity",attribute_name:"identity",source:"index_item"}]},after_update_url:{type:"vue",url:"materials",params:[]}}},created:function(){},mounted:function(){},watch:{},computed:{},methods:{},components:{CRUDTemplate:Qx}},Jx=Zx,eC=Object(Tt["a"])(Jx,Ux,Fx,!1,null,"135e4c0b",null),tC=eC.exports,iC="materials",nC="new_material",sC="edit_material",aC=[{path:"",component:Sx,name:"materials",meta:{api_name:"api_v1_provider_materials",breadcrumb:[iC],btns:[nC]}},{path:"new",component:Mx,name:"new_material",meta:{api_name:"api_v1_provider_materials_create",breadcrumb:[iC,nC]}},{path:":material_identity/edit",component:tC,name:"edit_material",meta:{api_name:"api_v1_provider_material_update",breadcrumb:[iC,sC]}}],rC=aC,oC=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"index"}},[i("router-link",{staticClass:"ui green button",attrs:{to:{name:"new_permission_group"}}},[i("i",{staticClass:"plus icon"}),e._v("\n        "+e._s(e.$t("ui.page_titles.new_permission_group"))+"\n    ")]),i("table",{staticClass:"ui celled selectable table"},[i("thead",[i("tr",[i("th",[e._v(e._s(e.$t("models.attributes.permission_groups.name")))]),i("th",{attrs:{colspan:"3"}})])]),e.permission_groups&&e.permission_groups.length>0?i("tbody",e._l(e.permission_groups,function(e){return i("TableItem",{tag:"tr",attrs:{permission_group:e}})})):i("tbody",[i("tr",[i("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"100%"}},[e._v(e._s(e.$t("ui.general.no_data")))])])])]),i("Paginator",{tag:"div",attrs:{total_pages:e.total_pages,current_page:e.current_page,change_page_channel:"index_page"}})],1)},cC=[],_C=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.permission_group?i("tr",[i("td",[e._v(" "+e._s(e.permission_group.name))]),i("td",[i("router-link",{staticClass:"ui basic green button",attrs:{to:{name:"edit_permission_group",params:{identity:e.permission_group.identity}}}},[e._v("\n            "+e._s(e.$t("ui.general.edit"))+"\n        ")])],1),i("td",[i("a",{staticClass:"ui basic red button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.delete_permission_group()}}},[e._v(e._s(e.$t("ui.general.delete")))])])]):e._e()},lC=[],uC={name:"ProviderPermissionGroupsIndexTableItem",props:{permission_group:Object},computed:{},methods:{delete_permission_group:function(){var e=this;if(confirm(this.$t("ui.notifications.warning.are_you_sure_to_delete_it"))){var t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_permission_group_delete).parse({identity:e.permission_group.identity});axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$el.remove(),e.$noty.success(e.$t("ui.notifications.success.delete__name",{name:e.permission_group.name}))):e.$noty.error(e.$t("ui.notifications.error.delete__name",{name:e.permission_group.name}))})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.delete__name",{name:e.permission_group.name,reason:": "+t}))})}}}},dC=uC,pC=Object(Tt["a"])(dC,_C,lC,!1,null,"37107d34",null),mC=pC.exports,fC={name:"PermissionGroupsIndex",data:function(){return{is_initializing:!1,search:"",errors:[]}},mounted:function(){console.log("INDEX permission_groups"),this.$store.state.provider.permission_groups_module.current={name:"",permission_ids:[]}},computed:{permission_groups:function(){return this.$store.state.provider.permission_groups_module.permission_groups},current_permission_group:function(){return this.$store.state.provider.permission_groups_module.current_permission_group},current_page:function(){return this.$store.state.provider.permission_groups_module.current_page},total_pages:function(){return this.$store.state.provider.permission_groups_module.total_pages}},methods:{},components:{TableItem:mC,Paginator:Ma}},hC=fC,vC=Object(Tt["a"])(hC,oC,cC,!1,null,null,null),gC=vC.exports,bC=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"new"}},[e.errors.length>0?i("div",{staticClass:"ui red icon message"},[i("i",{staticClass:"warning icon"}),i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                "+e._s(e.$t("ui.notifications.error.please_handle_errors"))+"\n            ")]),e._l(e.errors,function(t,n){return i("p",[e._v(e._s(n+1)+". "+e._s(t))])})],2)]):e._e(),i("div",{staticClass:"contents"},[i("div",{staticClass:"ui form",class:{loading:e.is_processing}},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.permission_groups.name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.current_data.name,expression:"current_data.name"}],staticClass:"name",attrs:{type:"text"},domProps:{value:e.current_data.name},on:{input:function(t){t.target.composing||e.$set(e.current_data,"name",t.target.value)}}})]),i("PermissionsTable",{tag:"div",staticClass:"field"}),i("div",{staticClass:"ui basic positive button",on:{click:e.create}},[e._v("\n                "+e._s(e.$t("ui.general.submit"))+"\n            ")]),i("router-link",{staticClass:"ui basic button",attrs:{to:{name:"permission_groups"}}},[i("i",{staticClass:"undo icon"}),e._v("\n                "+e._s(e.$t("ui.general.back"))+"\n            ")])],1)])])},yC=[],wC=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"permissions"}},[e.is_initialized?i("div",{staticClass:"field"},[i("label",[e._v("\n            Permissions\n        ")]),i("table",{staticClass:"ui striped table"},[i("tbody",e._l(e.grouped_permissions,function(t){return t.permissions.length?i("tr",[i("td",[i("div",{staticClass:"ui checkbox toggle"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.checked,expression:"grouped_permission.checked"}],attrs:{type:"checkbox",id:t.name},domProps:{checked:Array.isArray(t.checked)?e._i(t.checked,null)>-1:t.checked},on:{click:function(i){e.toggle_permissions(i,t.permissions)},change:function(i){var n=t.checked,s=i.target,a=!!s.checked;if(Array.isArray(n)){var r=null,o=e._i(n,r);s.checked?o<0&&e.$set(t,"checked",n.concat([r])):o>-1&&e.$set(t,"checked",n.slice(0,o).concat(n.slice(o+1)))}else e.$set(t,"checked",a)}}}),i("label",{attrs:{for:t.name}},[e._v("\n                                "+e._s(t.name)+"\n                            ")])])]),i("td",[i("div",{staticClass:"ui horizontal relaxed list"},e._l(t.permissions,function(t){return i("div",{staticClass:"item"},[i("div",{staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.current_data.permission_identities,expression:"current_data.permission_identities"}],attrs:{type:"checkbox",id:"check"+t.identity},domProps:{value:t.identity,checked:Array.isArray(e.current_data.permission_identities)?e._i(e.current_data.permission_identities,t.identity)>-1:e.current_data.permission_identities},on:{change:function(i){var n=e.current_data.permission_identities,s=i.target,a=!!s.checked;if(Array.isArray(n)){var r=t.identity,o=e._i(n,r);s.checked?o<0&&e.$set(e.current_data,"permission_identities",n.concat([r])):o>-1&&e.$set(e.current_data,"permission_identities",n.slice(0,o).concat(n.slice(o+1)))}else e.$set(e.current_data,"permission_identities",a)}}}),i("label",{attrs:{for:"check"+t.identity}},[e._v("\n                                        "+e._s(t.name)+"\n                                    ")])])])}))])]):e._e()}))])]):e._e()])},$C=[];function kC(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function xC(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){kC(a,n,s,r,o,"next",e)}function o(e){kC(a,n,s,r,o,"throw",e)}r(void 0)})}}var CC={name:"ProviderPermissionGroupsPermissionsTable",data:function(){return{is_initialized:!1,grouped_permissions_array:[],grouped_permissions:[],list:[]}},mounted:function(){var e=this;e.init()},watch:{current_data_permission_identities:function(){var e=this;e.permission_checkbox_switch_permissions_toggle()},permissions:function(){var e=this;e.init()}},computed:{current_data_permission_identities:{cache:!1,get:function(){return this.$store.state.provider.permission_groups_module.current_data.permission_identities}},current_data:{cache:!1,get:function(){return this.$store.state.provider.permission_groups_module.current_data}},permissions:function(){return this.$store.state.provider.permission_groups_module.permissions}},methods:{init:function(){var e=xC(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,t.handle_service_config_menu_name();case 3:return e.next=5,t.init_grouped_permissions();case 5:return e.next=7,t.permission_checkbox_switch_permissions_toggle();case 7:return e.next=9,new Promise(function(e){t.is_initialized=!0,e()});case 9:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),handle_service_config_menu_name:function(){var e=this;return e.list=[],_.forEach(e.$store.state.provider.service_config.menu,function(t){t.items?_.forEach(t.items,function(t){e.list.push({name:e.handle_list_name_remove_string_s(t.name)})}):e.list.push({name:e.handle_list_name_remove_string_s(t.name)})}),Promise.resolve()},handle_list_name_remove_string_s:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{if(!t)throw!1;var i=t.match(/(.+)s/i);return i?i[1]:t}catch(e){return!1}},init_grouped_permissions:function(){var e=this;return e.grouped_permissions_array=[],_.map(e.list,function(t){t.checked=!1;var i=[];_.forEach(e.permissions,function(n){var s=t.name;"user_log"==s&&(s="log"),"uploader"==s&&(s="file"),"-1"!=n.name.indexOf(s)&&(i.push(n),e.grouped_permissions_array.push(n))}),t.permissions=_.sortBy(i,[function(e){return e.name}])}),e.grouped_permissions=e.list,Promise.resolve()},toggle_permissions:function(e,t){var i=this,n=_.map(t,function(e){return e.identity}),s=i.current_data.permission_identities;s=e.target.checked?_.concat(s,n):_.pullAll(s,n),i.current_data.permission_identities=_.sortBy(_.union(s))},permission_checkbox_switch_permissions_toggle:function(){var e=this;return _.map(e.grouped_permissions,function(t){var i=[];_.map(t.permissions,function(t){i.push(_.findLast(e.current_data.permission_identities,function(e){return e==t.identity}))});var n=_.remove(i,_.isUndefined);0==n.length?t.checked=!0:t.checked=!1}),console.log(e.current_data.permission_identities),Promise.resolve()}}},PC=CC,SC=(n("6f33"),Object(Tt["a"])(PC,wC,$C,!1,null,null,null)),NC=SC.exports,qC={name:"NewPermissionGroup",data:function(){return{show_permission_groups:!1,is_processing:!1,errors:[]}},mounted:function(){var e=this;e.$store.state.provider.permission_groups_module.current_data=""},computed:{current_data:function(){return this.$store.state.provider.permission_groups_module.current_data}},methods:{create:function(){var e=this,t=e.$store.state.provider.routes.api_v1_provider_permission_group_create;e.errors=[],e.is_processing=!0,axios.post(t,{permission_group:e.current_data},{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$bus.$emit("init"),e.$noty.success(e.$t("ui.notifications.success.create__name",{name:e.$t("models.permission_groups")})),e.$router.push({name:"permission_groups"})):e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.permission_groups")})),e.is_processing=!1})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.permission_groups")})),e.is_processing=!1})}},components:{PermissionsTable:NC}},AC=qC,EC=Object(Tt["a"])(AC,bC,yC,!1,null,null,null),zC=EC.exports,jC=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"edit"}},[e.errors.length>0?i("div",{staticClass:"ui red icon message"},[i("i",{staticClass:"warning icon"}),i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                "+e._s(e.$t("ui.notifications.error.please_handle_errors"))+"\n            ")]),e._l(e.errors,function(t,n){return i("p",[e._v(e._s(n+1)+". "+e._s(t))])})],2)]):e._e(),e.is_initializing?i("div",{staticClass:"contents"},[i("div",{staticClass:"ui form",class:{loading:e.is_processing}},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.permission_groups.name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.current_data.name,expression:"current_data.name"}],staticClass:"name",attrs:{type:"text"},domProps:{value:e.current_data.name},on:{input:function(t){t.target.composing||e.$set(e.current_data,"name",t.target.value)}}})]),i("PermissionsTable",{tag:"div",staticClass:"field"}),i("div",{staticClass:"ui basic positive button",on:{click:e.update}},[e._v("\n                "+e._s(e.$t("ui.general.submit"))+"\n            ")]),i("router-link",{staticClass:"ui basic button",attrs:{to:{name:"permission_groups"}}},[i("i",{staticClass:"undo icon"}),e._v("\n                "+e._s(e.$t("ui.general.back"))+"\n            ")]),"permission_groups"!=e.$store.state.back_two_page[0].name?i("a",{staticClass:"ui basic blue button",staticStyle:{"margin-left":"18px"},on:{click:function(t){t.preventDefault(),e.$router.back()}}},[i("i",{staticClass:"undo icon"}),e._v("\n                "+e._s(e.$t("back"))+"\n                "+e._s(e.$t(e.$store.state.back_two_page[0].name))+"\n            ")]):e._e()],1)]):e._e()])},RC=[];function OC(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function IC(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){OC(a,n,s,r,o,"next",e)}function o(e){OC(a,n,s,r,o,"throw",e)}r(void 0)})}}var DC={name:"EditPermissionGroup",data:function(){return{show_permission_groups:!1,is_initializing:!1,is_processing:!1,is_fetch:!1,errors:[]}},computed:{permission_groups:function(){return this.$store.state.provider.permission_groups_module.permission_groups},current_data:function(){return this.$store.state.provider.permission_groups_module.current_data},routes:function(){return this.$store.state.provider.routes}},created:function(){this.init()},methods:{init:function(){var e=IC(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,t.get_permissions();case 3:return e.next=5,new Promise(function(e){t.is_processing=!1,t.is_initializing=!0,e()});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),get_permissions:function(){var e=this,t=new RestUrl(e.routes.api_v1_provider_permission_group).parse({identity:e.$route.params.identity});return e.is_processing=!0,axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){console.log(t.data),"success"==t.data.status?e.$store.state.provider.permission_groups_module.current_data=t.data.permission_group:e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.permission_groups")}))})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.permission_groups"),reason:": "+t}))})},update:function(){var e=this;e.errors=[];var t=new RestUrl(e.routes.api_v1_provider_permission_group_update).parse({identity:e.$route.params.identity});e.is_processing=!0,axios.post(t,{permission_group:e.current_data},{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$bus.$emit("init"),e.$noty.success(e.$t("ui.notifications.success.update__name",{name:e.$t("models.permission_groups")}))):e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.permission_groups")})),e.is_processing=!1})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.permission_groups")})),e.errors.push(t),e.is_processing=!1})}},components:{PermissionsTable:NC}};var LC=DC,TC=Object(Tt["a"])(LC,jC,RC,!1,null,null,null),BC=TC.exports,MC="permission_groups",UC="new_permission_group",FC="edit_permission_group",YC=[{path:"/",component:gC,name:"permission_groups",meta:{api_name:"api_v1_provider_permission_groups",breadcrumb:[MC],btns:[UC]}},{path:"new",component:zC,name:"new_permission_group",meta:{api_name:"api_v1_provider_permission_group_create",breadcrumb:[MC,UC]}},{path:":identity/edit",component:BC,name:"edit_permission_group",meta:{api_name:"api_v1_provider_permission_group_update",breadcrumb:[MC,FC]}}],GC=YC,HC=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"core_waybills"}},[i("div",{staticClass:"ui segment"},[i("div",{staticStyle:{display:"flex","justify-content":"space-between","flex-wrap":"wrap"}},[!e.is_fetching_data&&e.node.company_en_name&&e.show_receipts?i("Receipts",{attrs:{show_buttons:!0,assigned_core_waybills:e.core_waybills,logo_url:"/images/"+e.node.company_en_name.replace(/(?:^|\.|\s?)([A-Z])/g,function(e,t){return"_"+t.toLowerCase()}).replace(/^_/,"")+"_logo.jpg",title:e.node.company_short_name+"客戶簽收單",sub_title:e.node.website_url,customer_service_hotline:e.node.customer_service_hotline,logistician:e.current_staff,location:""}}):i("div"),i("div",{style:!e.is_fetching_data&&e.node.company_en_name&&e.show_receipts&&e.style.width<(e.is_show_filter.detail?530:1020)?{width:"100%",marginTop:"9px",textAlign:"right"}:{}},[e.is_show_filter.detail?e._e():i("div",{staticStyle:{display:"inline"}},[i("div",{staticClass:"ui right labeled left icon input"},[i("i",{staticClass:"search icon"}),"operation_number"==e.current_store.quick_filter_key.number?i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.operation.number,expression:"filter.operation.number"}],attrs:{type:"text",placeholder:e.$t("ui.pages.core_waybills.filter.find__key",{key:e.$t("models.attributes.core_waybills."+e.current_store.quick_filter_key.number)})},domProps:{value:e.filter.operation.number},on:{change:function(t){e.$forceUpdate()},keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.core_waybills_filter()},input:function(t){t.target.composing||e.$set(e.filter.operation,"number",t.target.value)}}}):i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter[e.current_store.quick_filter_key.number],expression:"filter[current_store.quick_filter_key.number]"}],attrs:{type:"text",placeholder:e.$t("ui.pages.core_waybills.filter.find__key",{key:e.$t("models.attributes.core_waybills."+e.current_store.quick_filter_key.number)})},domProps:{value:e.filter[e.current_store.quick_filter_key.number]},on:{change:function(t){e.$forceUpdate()},keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.core_waybills_filter()},input:function(t){t.target.composing||e.$set(e.filter,e.current_store.quick_filter_key.number,t.target.value)}}}),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui dropdown label no_search"},[e._l(e.current_store.quick_filters.number,function(t){return e.current_store.quick_filter_key.number==t?i("div",{staticClass:"text"},[e._v("\n                                "+e._s(e.$t("models.attributes.core_waybills."+t))+"\n                            ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.current_store.quick_filters.number,function(t){return i("div",{staticClass:"item",class:{"selected active":e.current_store.quick_filter_key.number==t},on:{click:function(i){e.set_quick_filter_key("number",t)}}},[e._v("\n                                    "+e._s(e.$t("models.attributes.core_waybills."+t))+"\n                                ")])}))],2)])]),e.is_show_filter.detail?i("div",{staticStyle:{display:"inline"}},[i("div",{staticClass:"ui basic red icon button",on:{click:function(t){e.$store.dispatch("provider/core_waybills_module/clear_filter",{operation_number:e.$route.params.operation_number||null})}}},[i("i",{staticClass:"close icon"})])]):e._e(),i("div",{staticClass:"ui icon buttons",staticStyle:{"vertical-align":"top",margin:"0 6px",height:"37px"}},[i("div",{staticClass:"ui button",class:{active:e.is_show_filter.simple},attrs:{"data-tooltip":e.$t("ui.general.simple")},on:{click:function(t){e.toggle_filter("simple")}}},[i("i",{staticClass:"bars left icon"})]),i("div",{staticClass:"ui button",class:{active:e.is_show_filter.detail},attrs:{"data-tooltip":e.$t("ui.general.advanced")},on:{click:function(t){e.toggle_filter("detail")}}},[i("i",{staticClass:"file alternate icon"})]),e.is_show_filter.detail?e._e():i("div",{staticClass:"ui button",class:{active:e.current_store.is_filter_async},attrs:{"data-tooltip":e.$t("ui.pages.core_waybills.filter.asynchronous")},on:{click:function(t){e.current_store.is_filter_async=!e.current_store.is_filter_async}}},[i("i",{staticClass:"cloud icon",class:{upload:e.current_store.is_filter_async}})])])])],1),i("div",{style:{position:"relative",paddingTop:e.is_any_filter_show?"12px":null}},[i("transition",{attrs:{name:"slide-fade",mode:"out-in"}},[e.is_show_filter.detail?i("div",{staticClass:"ui top right attached label active",staticStyle:{top:"3px",right:"6px","border-radius":".2rem"}},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("i",{staticClass:"big cloud icon",staticStyle:{position:"absolute",top:"-5px",left:"-8px",color:"#acacac"}}),i("input",{directives:[{name:"model",rawName:"v-model",value:e.current_store.is_filter_async,expression:"current_store.is_filter_async"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(e.current_store.is_filter_async)?e._i(e.current_store.is_filter_async,null)>-1:e.current_store.is_filter_async},on:{change:function(t){var i=e.current_store.is_filter_async,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=e._i(i,a);n.checked?r<0&&e.$set(e.current_store,"is_filter_async",i.concat([a])):r>-1&&e.$set(e.current_store,"is_filter_async",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.current_store,"is_filter_async",s)}}}),i("label",[e._v(e._s(e.$t("ui.pages.core_waybills.filter.asynchronous")))])])]):e._e()]),i("transition",{attrs:{name:"slide-fade",mode:"out-in"}},[e.is_show_filter.simple?i("SimpleFilter"):e._e()],1),i("transition",{attrs:{name:"slide-fade",mode:"out-in"}},[e.is_show_filter.detail?i("DetailFilter"):e._e()],1)],1),e.is_any_filter_show?i("div",{staticClass:"right floated",style:{paddingTop:e.is_show_filter.simple?"12px":null}},[e.current_store.is_can_print_label&&!e.error_message?i("div",{staticStyle:{display:"inline-block","vertical-align":"bottom"}},[e.tool_label.numbers?i("div",{staticStyle:{display:"inline-block"}},[i("div",{staticStyle:{display:"inline-block","vertical-align":"bottom"}},["en-US"==e.$store.state.language?i("span",[e._v("\n                            Total: "+e._s(e.tool_label.core_waybill_length)+"\n                        ")]):i("span",[e._v("\n                            共 "+e._s(e.tool_label.core_waybill_length)+" 件\n                        ")])]),e.tool_label.numbers?i("CoreWaybillsLabelSvg",{staticStyle:{"text-align":"left",display:"inline-block","vertical-align":"middle"},attrs:{numbers:e.tool_label.numbers,label_name:e.tool_label.label_name,authentication_token:e.token,is_show_input:!1,is_post_method:!0,node_carrier_name:e.$store.state.provider.node.carrier_class}}):e._e()],1):i("div",{staticClass:"field",staticStyle:{display:"inline-block","vertical-align":"bottom"}},[i("label",[e._v(" ")]),i("div",{staticClass:"ui button",on:{click:function(t){e.fetch_core_waybills_pagination_false()}}},[i("i",{staticClass:"icon",class:e.is_processing_by_core_waybills_pagination_false?"circle notch loading":"print"}),e._v("\n                        "+e._s(e.$t("ui.pages.core_waybills.print_filter_result_labels"))+"\n                    ")])])]):e._e(),i("div",{staticClass:"ui button",on:{click:function(t){e.export_core_waybills()}}},[i("i",{staticClass:"file icon"}),e._v("\n                匯出報表\n            ")]),"forever.tw568.com"==e.hostname?i("div",{staticClass:"ui button",on:{click:function(t){e.fetch_core_waybills_csv("clearance")}}},[i("i",{staticClass:"file alternate outline icon"}),e._v("\n                "+e._s(e.$t("ui.pages.core_waybills.export_clearance_csv_file"))+"\n            ")]):e._e(),e.current_store.csv.url?i("a",{staticClass:"ui button",attrs:{href:e.current_store.csv.url}},[i("i",{staticClass:"download icon"}),e._v("\n                "+e._s(e.$t("ui.pages.core_waybills.download_daily_csv_file"))+"\n            ")]):e._e(),e.current_store.csv.url?i("div",{staticClass:"ui icon button",on:{click:function(t){e.current_store.csv.url=null}}},[i("i",{staticClass:"refresh icon"})]):"cqf.tw568.com"==e.hostname||"local.mynet.com.tw"==e.hostname?i("div",{staticClass:"ui button",class:{loading:e.current_store.csv.is_processing},on:{click:function(t){e.fetch_core_waybills_csv_new()}}},[e.current_store.csv.is_processing?e._e():i("span",{staticStyle:{position:"relative"}},[i("i",{staticClass:"file outline icon"}),i("i",{staticClass:"red small code icon",staticStyle:{position:"absolute",right:"4px",bottom:"0"}})]),e._v("\n                "+e._s(e.$t("ui.pages.core_waybills.export_daily_csv_file"))+"\n            ")]):e._e(),e.is_any_filter_show?i("div",{staticClass:"ui icon blue button",on:{click:function(){e.is_processing||e.core_waybills_filter()}}},[i("i",{staticClass:"icon",class:e.is_processing?"circle notch loading":"search"}),e._v("\n                "+e._s(e.$t("ui.general.search"))+"\n            ")]):e._e()]):e._e(),i("div",{staticClass:"clear"})]),!e.is_initialized||e.is_processing?i("div",{staticClass:"ui segments core_waybill",staticStyle:{"text-align":"center",height:"100px"}},[i("div",{staticClass:"ui active inverted dimmer"},[i("div",{staticClass:"ui text loader"},[i("h3",[e._v("\n                    "+e._s(e.$t("ui.general.initializing"))+"\n                ")])])])]):e.error_message?i("div",{staticClass:"ui red raised segment center aligned"},[i("h2",[e._v("\n            "+e._s(e.error_message)+"\n        ")])]):i("div",[e._l(e.core_waybills,function(t){return e.is_initialized?i("CoreWaybill",{key:t.identity,attrs:{core_waybill:t,template:"card",is_auto_print:!1,is_can_update:!1,is_can_print_label:!1,is_show_change_template_btns:!1,cant_update_field_names:[],active_button:{to_detail_route_name:e.$route.params.operation_number?"edit_core_waybill_operation":"edit_core_waybill"},card:{is_simple_form:!1,is_half_style:!0,is_show_note:!0,is_vertical:!0}}}):e._e()}),i("div",{staticClass:"clear"})],2),e.current_store.total_pages>1?i("Paginator",{attrs:{current_module_name:"core_waybills_module",total_pages:e.current_store.total_pages,current_page:e.current_store.current_page}}):e._e()],1)},KC=[],WC=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"filter"},[e.is_initialized?i("div",{staticClass:"ui form",on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$parent.core_waybills_filter()}}},[i("div",{staticClass:"ui list"},[i("div",{staticClass:"item"},[i("i",{staticClass:"barcode big icon pointer",on:{click:function(t){e.is_show_numbers=!e.is_show_numbers}}}),i("div",{staticClass:"content"},[i("div",{staticClass:"header pointer"},[i("h3",{staticStyle:{"z-index":"2"},on:{click:function(t){e.is_show_numbers=!e.is_show_numbers}}},[e._v("\n                            "+e._s(e.$t("ui.pages.core_waybills.filter.numbers"))+"\n                            "),i("i",{staticClass:"icon",class:{"caret down":!e.is_show_numbers,"caret up":e.is_show_numbers},staticStyle:{margin:"0"}})])]),i("transition",{attrs:{name:"slide-fade",mode:"out-in"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.is_show_numbers,expression:"is_show_numbers"}]},[i("div",{staticClass:"filter_border"}),i("div",{staticClass:"two fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.number")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.number,expression:"filter.number"}],attrs:{type:"text"},domProps:{value:e.filter.number},on:{input:function(t){t.target.composing||e.$set(e.filter,"number",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.operation_number")))]),e.$route.params.operation_number?i("div",{staticClass:"ui segment",staticStyle:{margin:"0",padding:"9px 12px"}},[e._v("\n                                    "+e._s(e.$route.params.operation_number)+"\n                                ")]):i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.operation.number,expression:"filter.operation.number"}],attrs:{type:"text"},domProps:{value:e.filter.operation.number},on:{input:function(t){t.target.composing||e.$set(e.filter.operation,"number",t.target.value)}}})])]),i("div",{staticClass:"three fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.original_number")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.original_number,expression:"filter.original_number"}],attrs:{type:"text"},domProps:{value:e.filter.original_number},on:{input:function(t){t.target.composing||e.$set(e.filter,"original_number",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.tracking_number")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.tracking_number,expression:"filter.tracking_number"}],attrs:{type:"text"},domProps:{value:e.filter.tracking_number},on:{input:function(t){t.target.composing||e.$set(e.filter,"tracking_number",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.flight_number")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.flight_number,expression:"filter.flight_number"}],attrs:{type:"text"},domProps:{value:e.filter.flight_number},on:{input:function(t){t.target.composing||e.$set(e.filter,"flight_number",t.target.value)}}})])])])])],1)]),i("div",{staticClass:"item"},[i("i",{staticClass:"file alternate big icon pointer",on:{click:function(t){e.is_show_info=!e.is_show_info}}}),i("div",{staticClass:"content"},[i("div",{staticClass:"header pointer"},[i("h3",{on:{click:function(t){e.is_show_info=!e.is_show_info}}},[e._v("\n                            "+e._s(e.$t("ui.pages.core_waybills.filter.waybill_content"))+"\n                            "),i("i",{staticClass:"icon",class:{"caret down":!e.is_show_info,"caret up":e.is_show_info},staticStyle:{margin:"0"}})])]),i("transition",{attrs:{name:"slide-fade",mode:"out-in"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.is_show_info,expression:"is_show_info"}]},[i("div",{staticClass:"filter_border"}),i("div",{staticClass:"two fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.sender_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.sender_name,expression:"filter.sender_name"}],attrs:{type:"text"},domProps:{value:e.filter.sender_name},on:{input:function(t){t.target.composing||e.$set(e.filter,"sender_name",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.sender_company_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.sender_company_name,expression:"filter.sender_company_name"}],attrs:{type:"text"},domProps:{value:e.filter.sender_company_name},on:{input:function(t){t.target.composing||e.$set(e.filter,"sender_company_name",t.target.value)}}})]),i("div",{staticClass:"field"},[i("div",{staticClass:"two fields"},[i("div",{staticClass:"field"},[i("label",[e._v(" "+e._s(e.$t("models.attributes.core_waybills.is_used")))]),i("div",{staticClass:"grouped fields"},e._l(e.filter_is_useds,function(t){return i("div",{staticClass:"field",on:{click:function(i){e.set_is_used(t.boolean)}}},[i("div",{ref:"filter_is_used",refInFor:!0,staticClass:"ui radio checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.is_used,expression:"filter.is_used"}],attrs:{type:"radio",name:"filter_is_used",id:t.name},domProps:{checked:e._q(e.filter.is_used,null)},on:{change:function(t){e.$set(e.filter,"is_used",null)}}}),i("label",{attrs:{for:t.name}},[e._v("\n                                                        "+e._s(t.name)+"\n                                                    ")])])])}))]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("ui.pages.core_waybills.filter.material")))]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection fluid dropdown"},[e._l(e.materials,function(t){return e.filter.material.class_names==t.class_name?i("div",{staticClass:"text"},[e._v("\n                                                "+e._s(t.name)+"\n                                            ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.materials,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.material.class_names==t.class_name},on:{click:function(i){e.filter.material.class_names=t.class_name}}},[e._v("\n                                                    "+e._s(t.name)+"\n                                                ")])}))],2)])])])]),i("div",{staticClass:"three fields"},[i("div",{staticClass:"field blue"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.consignee_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.consignee_name,expression:"filter.consignee_name"}],attrs:{type:"text"},domProps:{value:e.filter.consignee_name},on:{input:function(t){t.target.composing||e.$set(e.filter,"consignee_name",t.target.value)}}})]),i("div",{staticClass:"field blue"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.consignee_company_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.consignee_company_name,expression:"filter.consignee_company_name"}],attrs:{type:"text"},domProps:{value:e.filter.consignee_company_name},on:{input:function(t){t.target.composing||e.$set(e.filter,"consignee_company_name",t.target.value)}}})]),i("div",{staticClass:"field blue"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.consignee_phone")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.consignee_phone,expression:"filter.consignee_phone"}],attrs:{type:"text"},domProps:{value:e.filter.consignee_phone},on:{input:function(t){t.target.composing||e.$set(e.filter,"consignee_phone",t.target.value)}}})]),i("div",{staticClass:"field blue"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.consignee_address")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.consignee_address,expression:"filter.consignee_address"}],attrs:{type:"text"},domProps:{value:e.filter.consignee_address},on:{input:function(t){t.target.composing||e.$set(e.filter,"consignee_address",t.target.value)}}})])]),i("div",{staticClass:"three fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.created_at")))]),i("DatePicker",{key:"core_waybills_created_duration",staticStyle:{width:"100%"},attrs:{re_init:Boolean(e.filter.created_duration),type:"daterange",format:"YYYY-MM-DD"},model:{value:e.filter.created_duration,callback:function(t){e.$set(e.filter,"created_duration",t)},expression:"filter.created_duration"}})],1),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.note")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.note,expression:"filter.note"}],attrs:{type:"text"},domProps:{value:e.filter.note},on:{input:function(t){t.target.composing||e.$set(e.filter,"note",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.shipping_note")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.shipping_note,expression:"filter.shipping_note"}],attrs:{type:"text"},domProps:{value:e.filter.shipping_note},on:{input:function(t){t.target.composing||e.$set(e.filter,"shipping_note",t.target.value)}}})])])])])],1)]),i("div",{staticClass:"item"},[i("i",{staticClass:"shipping fast big icon pointer",on:{click:function(t){e.is_show_status=!e.is_show_status}}}),i("div",{staticClass:"content"},[i("div",{staticClass:"header pointer"},[i("h3",{on:{click:function(t){e.is_show_status=!e.is_show_status}}},[e._v("\n                            "+e._s(e.$t("ui.pages.core_waybills.filter.status"))+"\n                            "),i("i",{staticClass:"icon",class:{"caret down":!e.is_show_status,"caret up":e.is_show_status},staticStyle:{margin:"0"}})])]),i("transition",{attrs:{name:"slide-fade",mode:"out-in"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.is_show_status,expression:"is_show_status"}],staticClass:"status_filter"},[i("div",{staticClass:"filter_border"}),i("div",{staticClass:"field",staticStyle:{margin:"0 0 -.7em"}},[i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field"},[i("h4",{staticClass:"depiction"},[e._v("\n                                        "+e._s(e.$t("ui.pages.core_waybills.filter.status_depiction.now"))+"\n                                         \n                                    ")]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui fluid selection dropdown",staticStyle:{width:"30%"}},[e._l([{name:e.$t("ui.pages.core_waybills.filter.selected_polarity"),boolean:null},{name:e.$t("ui.pages.core_waybills.filter.polarity.positive"),boolean:"true"},{name:e.$t("ui.pages.core_waybills.filter.polarity.negative"),boolean:"false"}],function(t){return e.filter.condition.polarity==t.boolean?i("div",{staticClass:"text"},[e._v("\n                                            "+e._s(t.name)+"\n                                        ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},[i("div",{staticClass:"item",class:{"selected active":null==e.filter.condition.polarity},on:{click:function(t){e.filter.condition.polarity=null}}},[e._v("\n                                                "+e._s(e.$t("ui.pages.core_waybills.filter.selected_is_used"))+"\n                                            ")]),e._l([{name:e.$t("ui.pages.core_waybills.filter.polarity.positive"),boolean:"true"},{name:e.$t("ui.pages.core_waybills.filter.polarity.negative"),boolean:"false"}],function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.condition.polarity==t.boolean},on:{click:function(i){e.filter.condition.polarity=t.boolean}}},[e._v("\n                                                "+e._s(t.name)+"\n                                            ")])})],2)],2),i("span",{staticClass:"depiction"},[e._v(" ")]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui fluid selection dropdown",staticStyle:{width:"35%"}},[e._l(e.current_store.core_waybill_conditions,function(t){return e.filter.condition.name==t?i("div",{staticClass:"text"},[e._v("\n                                            "+e._s(e.$t('models.attributes.conditions["'+t+'"]'))+"\n                                        ")]):e._e()}),null==e.filter.condition.name?i("div",{staticClass:"text"},[e._v("\n                                            "+e._s(e.$t("ui.pages.core_waybills.filter.selected_status"))+"\n                                        ")]):e._e(),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},[i("div",{staticClass:"item",class:{"selected active":null==e.filter.condition.name},on:{click:function(t){e.filter.condition.name=null}}},[e._v("\n                                                "+e._s(e.$t("ui.pages.core_waybills.filter.selected_status"))+"\n                                            ")]),e._l(e.current_store.core_waybill_conditions,function(t){return"divider"!=t?i("div",{staticClass:"item",class:{"selected active":e.filter.condition.name==t},on:{click:function(i){e.filter.condition.name=t}}},[e._v("\n                                                "+e._s(e.$t('models.attributes.conditions["'+t+'"]'))+"\n                                            ")]):i("div",{staticClass:"divider",staticStyle:{margin:"0.2em 0"}})})],2)],2)]),i("div",{staticClass:"four wide field"},[i("h4",{staticClass:"depiction"},[e._v("\n                                        "+e._s(e.$t("ui.pages.core_waybills.filter.status_depiction.in_the"))+"\n                                         \n                                    ")]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui fluid selection dropdown",staticStyle:{width:"80%"}},[e._l(e.stations,function(t){return e.filter.condition.current_location==t.name?i("div",{staticClass:"text"},[e._v("\n                                            "+e._s(t.name||e.$t("ui.pages.core_waybills.filter.selected_station"))+"\n                                        ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.stations,function(t){return i("div",{key:t.identity,staticClass:"item",class:{"selected active":e.filter.condition.current_location==t.name},on:{click:function(i){e.filter.condition.current_location=t.name}}},[e._v("\n                                                "+e._s(t.name||e.$t("ui.pages.core_waybills.filter.selected_station"))+"\n                                            ")])}))],2)]),i("div",{staticClass:"four wide field"},[i("h4",{staticClass:"depiction"},[e._v("\n                                        "+e._s(e.$t("ui.pages.core_waybills.filter.status_depiction.by"))+"\n                                         \n                                    ")]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui fluid selection dropdown",staticStyle:{width:"70%"}},[e._l(e.staffs,function(t){return e.filter.condition.current_operator_identity==t.identity?i("div",{staticClass:"text"},[e._v("\n                                            "+e._s(t.name)+"\n                                        ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.staffs,function(t){return i("div",{key:t.identity,staticClass:"item",class:{"selected active":e.filter.condition.current_operator_identity==t.identity},on:{click:function(i){e.filter.condition.current_operator_identity=t.identity}}},[e._v("\n                                                "+e._s(t.name)+"\n                                            ")])}))],2),i("h4",{staticClass:"depiction"},[e._v("\n                                         \n                                        "),e._v("\n                                        "+e._s(e.$t("ui.pages.core_waybills.filter.status_depiction.handle"))+"\n                                    ")])])])]),i("div",{staticClass:"field",style:e.style.width>767?{textAlign:"right"}:{marginTop:"12px"}},[i("div",{staticStyle:{display:"inline-flex","align-items":"center"}},[i("h4",{staticStyle:{"margin-right":"9px"}},[e._v("\n                                    "+e._s(e.$t("ui.pages.core_waybills.filter.status_depiction.at_the"))+"\n                                ")]),i("DatePicker",{key:"core_waybills_condition_updated_duration",staticClass:"core_waybills_condition_updated_duration",style:e.style.width>767?{width:"90%"}:{width:"100%"},attrs:{is_row:!(e.style.width>767),re_init:Boolean(e.filter.condition.updated_duration),type:"datetimerange"},model:{value:e.filter.condition.updated_duration,callback:function(t){e.$set(e.filter.condition,"updated_duration",t)},expression:"filter.condition.updated_duration"}})],1),i("div",{staticClass:"sub_filter_border"})]),i("div",{staticClass:"field"},[i("div",{staticClass:"fields"},[i("div",{staticClass:"four wide field"},[i("h4",{staticClass:"depiction"},[e._v("\n                                        "+e._s(e.$t("ui.pages.core_waybills.filter.status_depiction.before_by"))+"\n                                         \n                                    ")]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui fluid selection dropdown",staticStyle:{width:"70%"}},[e._l(e.staffs,function(t){return e.filter.status.operator_identity==t.identity?i("div",{staticClass:"text"},[e._v("\n                                            "+e._s(t.name)+"\n                                        ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.staffs,function(t){return i("div",{key:t.identity,staticClass:"item",class:{"selected active":e.filter.status.operator_identity==t.identity},on:{click:function(i){e.filter.status.operator_identity=t.identity}}},[e._v("\n                                                "+e._s(t.name)+"\n                                            ")])}))],2)]),i("div",{staticClass:"six wide field"},[i("div",{staticStyle:{display:"inline-flex","align-items":"center"}},[i("h4",{staticStyle:{"margin-right":"9px"}},[e._v("\n                                            "+e._s(e.$t("ui.pages.core_waybills.filter.status_depiction.at_the"))+"\n                                        ")]),i("DatePicker",{key:"core_waybills_status_created_duration",style:e.style.width>767?{width:"90%"}:{width:"100%"},attrs:{re_init:Boolean(e.filter.status.created_duration),type:"daterange",format:"YYYY-MM-DD"},model:{value:e.filter.status.created_duration,callback:function(t){e.$set(e.filter.status,"created_duration",t)},expression:"filter.status.created_duration"}})],1)]),i("div",{staticClass:"six wide field"},[i("h4",{staticClass:"depiction"},[e._v("\n                                        "+e._s(e.$t("ui.pages.core_waybills.filter.status_depiction.added"))+"\n                                         \n                                    ")]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui fluid selection dropdown",staticStyle:{width:"35%"}},[e._l(["operator","forwarder","public"],function(t){return e.filter.status.scope==t?i("div",{staticClass:"text"},[e._v("\n                                            "+e._s(e.$t("ui.status_scopes."+t))+"\n                                        ")]):e._e()}),null==e.filter.status.scope?i("div",[e._v("\n                                            "+e._s(e.$t("ui.pages.core_waybills.filter.selected_status_scope"))+"\n                                        ")]):e._e(),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},[i("div",{staticClass:"item",class:{"selected active":null==e.filter.status.scope},on:{click:function(t){e.filter.status.scope=null}}},[e._v("\n                                                "+e._s(e.$t("ui.pages.core_waybills.filter.selected_status_scope"))+"\n                                            ")]),e._l(["operator","forwarder","public"],function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.status.scope==t},on:{click:function(i){e.filter.status.scope=t}}},[e._v("\n                                                "+e._s(e.$t("ui.status_scopes."+t))+"\n                                            ")])})],2)],2),i("span",{staticClass:"depiction"},[e._v(" ")]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui fluid selection dropdown",staticStyle:{width:"42%"}},[e._l(e.scan_action_prototypes,function(t,n){return e.filter.status.name==t.name?i("div",{staticClass:"text"},[e._v("\n                                            "+e._s(t.name)+"\n                                        ")]):e._e()}),null==e.filter.status.name?i("div",[e._v("\n                                            "+e._s(e.$t("ui.pages.core_waybills.filter.selected_status"))+"\n                                        ")]):e._e(),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},[i("div",{staticClass:"item",class:{"selected active":null==e.filter.status.name},on:{click:function(t){e.filter.status.name=null}}},[e._v("\n                                                "+e._s(e.$t("ui.pages.core_waybills.filter.selected_status"))+"\n                                            ")]),e._l(e.scan_action_prototypes,function(t,n){return i("div",{staticClass:"item",class:{"selected active":e.filter.status.name==t.name},on:{click:function(i){e.filter.status.name=t.name}}},[e._v("\n                                                "+e._s(t.name)+"\n                                            ")])})],2)],2)])])])])])],1)])])]):i("div",{staticClass:"ui active centered inline loader"})])},VC=[],XC=n("f881");function QC(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function ZC(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){QC(a,n,s,r,o,"next",e)}function o(e){QC(a,n,s,r,o,"throw",e)}r(void 0)})}}var JC={props:{},data:function(){return{is_show_numbers:!0,is_show_info:!0,is_show_status:!0,is_initialized:!1,is_processing:!1,filter_is_useds:[{name:this.$t("ui.pages.core_waybills.filter.is_used.flase"),boolean:"false"},{name:this.$t("ui.pages.core_waybills.filter.is_used.true"),boolean:"true"}]}},computed:{style:function(){return this.$store.state.style},current_store:function(){return this.$store.state.provider.core_waybills_module},filter:function(){return this.current_store.filter},staffs:function(){return[{name:this.$t("ui.pages.core_waybills.filter.selected_staff"),identity:null}].concat(this.current_store.staffs)},stations:function(){return[{name:null,identity:null}].concat(this.$store.state.provider.stations)},materials:function(){return[{name:this.$t("ui.pages.core_waybills.filter.selected_material"),class_name:null}].concat(this.current_store.materials)},scan_action_prototypes:function(){return this.current_store.scan_action_prototypes}},created:function(){},mounted:function(){this.init()},watch:{},methods:{init:function(){var e=ZC(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){var i=t.$store.getters["provider/core_waybills_module/filter_to_query"];Object.keys(i).length&&(t.filter.number||t.filter.operation.number||t.filter.original_number||t.filter.tracking_number||t.filter.flight_number||(t.is_show_numbers=!1),t.filter.sender_name||t.filter.sender_company_name||t.filter.is_used||t.filter.consignee_name||t.filter.consignee_company_name||t.filter.consignee_phone||t.filter.consignee_address||t.filter.created_duration||t.filter.note||t.filter.shipping_note||(t.is_show_info=!1),t.filter.sender_name||t.filter.is_used||t.filter.condition.name||t.filter.condition.current_location||t.filter.condition.current_operator_identity||t.filter.condition.updated_duration||t.filter.status.operator_identity||t.filter.status.created_duration||t.filter.status.scope||t.filter.status.name||(t.is_show_status=!1)),e()});case 2:return e.next=4,new Promise(function(e){t.is_initialized=!0,e()});case 4:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),set_is_used:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.filter.is_used=this.filter.is_used==e?null:e,null==this.filter.is_used&&$(this.$refs.filter_is_used).checkbox("uncheck")}},components:{DatePicker:XC["a"]}},eP=JC,tP=(n("62e1"),n("c197"),Object(Tt["a"])(eP,WC,VC,!1,null,"395277cd",null)),iP=tP.exports,nP=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"simple_filter"},[e.is_initialized?i("div",{staticClass:"right aligned",staticStyle:{"text-align":"right"},on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$parent.core_waybills_filter()}}},[i("div",{staticClass:"ui right labeled input",staticStyle:{display:"inline-flex"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter[e.quick_filter_key.info],expression:"filter[quick_filter_key.info]"}],attrs:{placeholder:e.$t("ui.pages.core_waybills.filter.find__key",{key:e.$t("models.attributes.core_waybills."+e.quick_filter_key.info)}),type:"text"},domProps:{value:e.filter[e.quick_filter_key.info]},on:{change:function(t){e.$forceUpdate()},input:function(t){t.target.composing||e.$set(e.filter,e.quick_filter_key.info,t.target.value)}}}),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui dropdown label no_search"},[e._l(e.quick_filters.info,function(t){return e.quick_filter_key.info==t?i("div",{staticClass:"text"},[e._v("\n                    "+e._s(e.$t("models.attributes.core_waybills."+t))+"\n                ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.quick_filters.info,function(t){return"divider"!=t?i("div",{staticClass:"item",class:{"selected active":e.quick_filter_key.info==t},on:{click:function(i){e.$parent.set_quick_filter_key("info",t)}}},[e._v("\n                        "+e._s(e.$t("models.attributes.core_waybills."+t))+"\n                    ")]):i("div",{staticClass:"divider",staticStyle:{margin:"0.2em 0"}})}))],2)]),i("span",{staticClass:"depiction"},[e._v(" ")]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui fluid selection dropdown",staticStyle:{width:"120px"}},[e._l(["operator","forwarder","public"],function(t){return e.filter.status.scope==t?i("div",{staticClass:"text"},[e._v("\n                "+e._s(e.$t("ui.status_scopes."+t))+"\n            ")]):e._e()}),null==e.filter.status.scope?i("div",[e._v("\n                "+e._s(e.$t("ui.pages.core_waybills.filter.selected_status_scope"))+"\n            ")]):e._e(),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},[i("div",{staticClass:"item",class:{"selected active":null==e.filter.status.scope},on:{click:function(t){e.filter.status.scope=null}}},[e._v("\n                    "+e._s(e.$t("ui.pages.core_waybills.filter.selected_status_scope"))+"\n                ")]),e._l(["operator","forwarder","public"],function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.status.scope==t},on:{click:function(i){e.filter.status.scope=t}}},[e._v("\n                    "+e._s(e.$t("ui.status_scopes."+t))+"\n                ")])})],2)],2),i("span",{staticClass:"depiction"},[e._v(" ")]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui fluid selection dropdown",staticStyle:{width:"240px"}},[e._l(e.scan_action_prototypes,function(t,n){return e.filter.status.name==t.name?i("div",{staticClass:"text"},[e._v("\n                "+e._s(t.name)+"\n            ")]):e._e()}),null==e.filter.status.name?i("div",[e._v("\n                "+e._s(e.$t("ui.pages.core_waybills.filter.selected_status"))+"\n            ")]):e._e(),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},[i("div",{staticClass:"item",class:{"selected active":null==e.filter.status.name},on:{click:function(t){e.filter.status.name=null}}},[e._v("\n                    "+e._s(e.$t("ui.pages.core_waybills.filter.selected_status"))+"\n                ")]),e._l(e.scan_action_prototypes,function(t,n){return i("div",{staticClass:"item",class:{"selected active":e.filter.status.name==t.name},on:{click:function(i){e.filter.status.name=t.name}}},[e._v("\n                    "+e._s(t.name)+"\n                ")])})],2)],2)]):i("div",{staticClass:"ui active centered inline loader"})])},sP=[];function aP(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function rP(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){aP(a,n,s,r,o,"next",e)}function o(e){aP(a,n,s,r,o,"throw",e)}r(void 0)})}}var oP={props:{},data:function(){return{is_show_numbers:!0,is_show_info:!0,is_show_status:!0,is_initialized:!1,is_processing:!1,filter_is_useds:[{name:this.$t("ui.pages.core_waybills.filter.is_used.flase"),boolean:"false"},{name:this.$t("ui.pages.core_waybills.filter.is_used.true"),boolean:"true"}]}},computed:{current_store:function(){return this.$store.state.provider.core_waybills_module},is_show_filter:function(){return this.current_store.is_show_filter},quick_filters:function(){return this.current_store.quick_filters},quick_filter_key:function(){return this.current_store.quick_filter_key},filter:function(){return this.current_store.filter},staffs:function(){return[{name:this.$t("ui.pages.core_waybills.filter.selected_staff"),identity:null}].concat(this.current_store.staffs)},stations:function(){return[{name:null,identity:null}].concat(this.$store.state.provider.stations)},materials:function(){return[{name:this.$t("ui.pages.core_waybills.filter.selected_material"),class_name:null}].concat(this.current_store.materials)},scan_action_prototypes:function(){return this.current_store.scan_action_prototypes}},created:function(){},mounted:function(){this.init()},watch:{},methods:{init:function(){var e=rP(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!0,e()});case 2:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),set_is_used:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.filter.is_used=this.filter.is_used==e?null:e,null==this.filter.is_used&&$(this.$refs.filter_is_used).checkbox("uncheck")}},components:{}},cP=oP,_P=(n("b2d6"),n("3454"),Object(Tt["a"])(cP,nP,sP,!1,null,"a8ee976e",null)),lP=_P.exports,uP=n("41a7");function dP(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function pP(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){dP(a,n,s,r,o,"next",e)}function o(e){dP(a,n,s,r,o,"throw",e)}r(void 0)})}}var mP={name:"CoreWaybillsIndex",data:function(){return{is_initialized:!1,is_fetching_data:!1,is_processing:!0,is_processing_by_core_waybills_pagination_false:!1,error_message:""}},computed:{hostname:function(){return window.location.hostname},style:function(){return this.$store.state.style},current_store:function(){return this.$store.state.provider.core_waybills_module},tool_label:function(){return this.current_store.tool_label},core_waybills:function(){return this.current_store.core_waybills},filter:function(){return this.current_store.filter},is_show_filter:function(){return this.current_store.is_show_filter},is_any_filter_show:function(){return this.is_show_filter.simple||this.is_show_filter.detail},node:function(){return this.$store.state.provider.node},current_staff:function(){return this.$store.state.provider.current_staff},token:function(){return localStorage.getItem("authentication_token")},current_service_name:function(){return this.$store.state.provider.node.service_name},show_receipts:function(){return["neuron","neuron_premium"].includes(this.current_service_name)}},created:function(){},mounted:function(){var e=this;this.init(),this.$bus.$off("init"),this.$bus.$on("init",function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.init()})},beforeDestroy:function(){this.$bus.$off("init"),this.current_store.current_page=1},watch:{$route:function(e,t){this.init(!1)},"is_show_filter.simple":function(e){e?(this.current_store.is_where_like_filter_mode=!1,this.is_show_filter.detail=!1):this.$store.dispatch("provider/core_waybills_module/set_filter_init")},"is_show_filter.detail":function(e){e?(this.current_store.is_where_like_filter_mode=!0,this.is_show_filter.simple=!1):(this.current_store.is_where_like_filter_mode=!1,this.$store.dispatch("provider/core_waybills_module/set_filter_init"))}},methods:{toggle_filter:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];0==e?(this.is_show_filter.simple=!1,this.is_show_filter.detail=!1):this.is_show_filter[e]=!this.is_show_filter[e]},init:function(){var e=pP(regeneratorRuntime.mark(function e(){var t,i,n=this,s=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=!(s.length>0&&void 0!==s[0])||s[0],e.prev=1,i="provider/core_waybills_module/",e.next=5,new Promise(function(e){n.is_initialized=!1,n.is_processing=!0,n.error_message="",e()});case 5:if(!t){e.next=10;break}return e.next=8,this.$store.dispatch(i+"set_filter_init");case 8:this.is_show_filter.simple=!1,this.is_show_filter.detail=!1;case 10:return e.next=12,new Promise(function(e){n.filter.operation.number=n.$route.params.operation_number||null,e()});case 12:return e.next=14,this.$store.dispatch(i+"handle_query_to_filter",{query:this.$route.query});case 14:if(!t){e.next=23;break}return e.next=17,this.$store.dispatch(i+"handle_quick_filter_key");case 17:return e.next=19,this.$store.dispatch(i+"fetch_staffs");case 19:return e.next=21,this.$store.dispatch(i+"fetch_materials");case 21:return e.next=23,this.$store.dispatch(i+"fetch_scan_action_prototypes");case 23:return e.next=25,this.$store.dispatch(i+"fetch_core_waybills");case 25:e.next=31;break;case 27:e.prev=27,e.t0=e["catch"](1),console.log(e.t0),this.handle_error_message(e.t0);case 31:return e.next=33,new Promise(function(e){n.is_initialized=!0,n.is_processing=!1,e()});case 33:case"end":return e.stop()}},e,this,[[1,27]])}));function t(){return e.apply(this,arguments)}return t}(),core_waybills_filter:function(){var e=pP(regeneratorRuntime.mark(function e(){var t,i,n,s=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(console.log("core_waybills_filter"),e.prev=1,t="provider/core_waybills_module/",i=this.$store.getters[t+"filter_to_api_query"](),n=this.current_store.before_api_query,this.current_store.is_filter_async){e.next=10;break}return e.next=8,new Promise(function(e){i!=n?s.$router.push({name:s.$router.name,query:s.$store.getters[t+"filter_to_query"]}):s.init(!1),s.current_store.before_api_query=_.cloneDeep(i),e()});case 8:e.next=12;break;case 10:return e.next=12,this.$store.dispatch(t+"fetch_core_waybills_by_async");case 12:e.next=18;break;case 14:e.prev=14,e.t0=e["catch"](1),console.log(e.t0),this.handle_error_message(e.t0);case 18:return e.next=20,new Promise(function(e){s.is_processing=!1,e()});case 20:case"end":return e.stop()}},e,this,[[1,14]])}));function t(){return e.apply(this,arguments)}return t}(),set_quick_filter_key:function(t,i){var n=this;try{this.current_store.quick_filter_key[t]=i,"status"!=t&&_.forEach(this.current_store.quick_filters[t],function(e){n.filter[e]=null})}catch(e){console.log(e)}},fetch_core_waybills_pagination_false:function(){var e=pP(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.is_processing_by_core_waybills_pagination_false=!0,e.next=4,this.$store.dispatch("provider/core_waybills_module/fetch_core_waybills_pagination_false");case 4:e.next=18;break;case 6:e.prev=6,e.t0=e["catch"](0),e.t1=e.t0,e.next="fetch_core_waybills_pagination_false nothing filter"===e.t1?11:"core_waybills_label_type_different"===e.t1?12:"fetch_core_waybills_pagination_false_error"===e.t1?14:16;break;case 11:return e.abrupt("break",17);case 12:return this.error_message=this.$t("ui.notifications.error.__name",{name:this.$t("models.core_waybills")+" "+this.$t("ui.toolbox.core_waybill.errors.label_type_error")}),e.abrupt("break",17);case 14:return this.error_message=this.$t("ui.notifications.error.find__name",{name:this.$t("ui.general.print")}),e.abrupt("break",17);case 16:this.error_message=this.$t("ui.notifications.error.exception_error_please_contact_the_system_supplier")+":"+e.t0;case 17:this.error_message&&this.$noty.error(this.error_message);case 18:return e.prev=18,this.is_processing_by_core_waybills_pagination_false=!1,e.finish(18);case 21:case"end":return e.stop()}},e,this,[[0,6,18,21]])}));function t(){return e.apply(this,arguments)}return t}(),handle_error_message:function(e){switch(e){case"Network Abnormality":this.error_message=this.$t("ui.general.network_abnormality")+": "+this.$t("ui.general.server_offline");break;case"fetch_core_waybills_no_anything_core_waybills":var t=this.current_store.is_where_like_filter_mode?"is_where_like_filter_mode":"is_not_where_like_filter_mode";this.error_message="".concat(this.$t("ui.pages.core_waybills."+t),"，").concat(this.$t("ui.notifications.error.no_data"));break;case"fetch_core_waybills_failure":this.error_message=this.$t("ui.notifications.error.find__name",{name:this.$t("models.core_waybills")});break;case"fetch_staffs_failure":this.error_message=this.$t("ui.notifications.error.find__name",{name:this.$t("models.staffs")});break;case"fetch_materials_failure":this.error_message=this.$t("ui.notifications.error.find__name",{name:this.$t("models.materials")});break;case"fetch_scan_action_prototypes_failure":this.error_message=this.$t("ui.notifications.error.find__name",{name:this.$t("ui.pages.core_waybills.have_contained_status")});break;case"fetch_condition_status_prototypes_failure":this.error_message=this.$t("ui.notifications.error.find__name",{name:this.$t("models.status_prototypes")});break;case"fetch_core_waybills_svg_error":this.error_message=this.$t("ui.notifications.error.__name",{name:this.$t("ui.pages.core_waybills.export_csv_file")});break;case"fetch_core_waybills_csv_error":this.error_message=this.$t("ui.notifications.error.__name",{name:"csv "+this.$t("ui.general.file")});break;case"fetch_core_waybills_csv_loading":this.error_message="csv loading";break;default:this.error_message=this.$t("ui.notifications.error.exception_error_please_contact_the_system_supplier")+"："+e}this.error_message&&this.$noty.error(this.error_message)},fetch_core_waybills_csv_new:function(){var e=pP(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$store.dispatch("provider/core_waybills_module/fetch_core_waybills_csv_new");case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),"success"==e.t0?this.$cable.subscriptions.create({channel:"DelayedJobChannel",instance_identity:this.$store.state.instance_identity},{connected:function(){console.log("DelayedJobChannel connected")},received:function(e){e.data.download_url&&(this.current_store.csv.is_processing=!1,this.current_store.csv.url=e.data.download_url)}}):(console.log(e.t0),this.handle_error_message(e.t0));case 8:return e.next=10,new Promise(function(e){t.is_processing=!1,e()});case 10:case"end":return e.stop()}},e,this,[[0,5]])}));function t(){return e.apply(this,arguments)}return t}(),export_core_waybills:function(){this.$store.dispatch("provider/core_waybills_module/export_core_waybills")},fetch_core_waybills_csv:function(){var e=pP(regeneratorRuntime.mark(function e(){var t,i=this,n=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:null,e.prev=1,e.next=4,this.$store.dispatch("provider/core_waybills_module/fetch_core_waybills_csv",{type:t});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e["catch"](1),console.log(e.t0),this.handle_error_message(e.t0);case 10:return e.next=12,new Promise(function(e){i.is_processing=!1,e()});case 12:case"end":return e.stop()}},e,this,[[1,6]])}));function t(){return e.apply(this,arguments)}return t}()},components:{CoreWaybillsLabelSvg:Zc,DetailFilter:iP,SimpleFilter:lP,CoreWaybill:uP["a"],Paginator:Ma,Receipts:Wo["a"],Supervisor:r_}},fP=mP,hP=(n("152b"),Object(Tt["a"])(fP,HC,KC,!1,null,"7fbe6c33",null)),vP=hP.exports,gP=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.is_initialized?i("div",{attrs:{id:"new_core_waybill"}},[e.is_get_core_waybill_number?i("div",[i("div",{staticClass:"ui right floated basic red button",staticStyle:{margin:"6px 0"},on:{click:function(t){e.undo()}}},[e._v("\n            "+e._s(e.$t("ui.pages.core_waybills.back_to_select_partition"))+"\n        ")]),i("div",{staticClass:"clear"}),e.create_core_waybill_error?i("div",{staticClass:"ui negative message"},[i("div",{staticClass:"header"},[e._v("\n                "+e._s(e.$t("ui.pages.core_waybills.create_core_waybill_error"))+"\n            ")]),i("p",[e._v("\n                "+e._s(e.create_core_waybill_error)+"\n            ")])]):e._e(),i("CoreWaybill",{attrs:{core_waybill:e.core_waybill,template:"detail",is_auto_print:!1,is_can_update:!0,is_can_print_label:!1,is_show_change_template_btns:!1,active_button:e.tool_core_waybill_active_button,detail:{is_show_receipt_file:!1,is_show_partition:!1,is_show_statuses:!1}}})],1):i("div",[e.partitions.length?i("div",[e._l(e.partitions_group_by_customer_identity,function(t,n){return i("div",{staticClass:"ui segment blue"},["null"!=n?i("h5",[e._v("\n                    "+e._s(e.$store.getters["provider/core_waybills_module/customer"](n).company_name||"-")+"\n                ")]):e._e(),i("div",{staticClass:"ui doubling two column grid"},e._l(t,function(t){return i("div",{staticClass:"column pointer",on:{click:function(i){e.set_current_partition(t)},dblclick:function(t){e.fetch_core_waybill_number_by_partition()}}},[i("div",{staticClass:"ui center aligned segment",class:{active:e.current_partition.identity==t.identity}},[i("div",{staticClass:"ui mini statistic"},[i("div",{staticClass:"value"},[i("span",{attrs:{"data-tooltip":"字軌","data-position":"bottom left"}},[e._v("\n                                        "+e._s(t.prefix)+"\n                                    ")]),i("span",{staticStyle:{"text-decoration":"underline"}},[i("span",{attrs:{"data-tooltip":e.$t("ui.pages.core_waybills.partition_number_from"),"data-position":"bottom center"}},[e._v("\n                                            "+e._s(t.numbers_from)+"\n                                        ")]),i("span",[e._v(" ~ ")]),i("span",{attrs:{"data-tooltip":e.$t("ui.pages.core_waybills.partition_number_to"),"data-position":"bottom center"}},[e._v("\n                                            "+e._s(t.numbers_to)+"\n                                        ")])])]),i("div",{staticClass:"label"},[e._v("\n                                    "+e._s(t.name)+"\n                                ")])])])])}))])}),i("div",{staticClass:"ui center aligned segment"},[e.current_partition.identity?i("div",[i("button",{staticClass:"ui basic blue button",on:{click:function(t){e.fetch_core_waybill_number_by_partition()}}},[e._v("\n                        "+e._s(e.$t("ui.page_titles.new_core_waybill"))+"\n                    ")])]):i("h3",[e._v("\n                    "+e._s(e.$t("ui.pages.core_waybills.please_select_partition"))+"\n                ")])])],2):i("div",{staticClass:"ui red raised segment center aligned"},[i("h2",[e._v("\n                "+e._s(e.$t("ui.pages.core_waybills.errors.no_anything_partitions_can_use"))+"\n            ")])])])]):e._e()},bP=[];function yP(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function wP(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){yP(a,n,s,r,o,"next",e)}function o(e){yP(a,n,s,r,o,"throw",e)}r(void 0)})}}var $P={name:"NewCoreWaybill",components:{CoreWaybill:uP["a"]},props:{},data:function(){return{is_initialized:!1,is_processing:!1,partitions:[],current_partition:{},partitions_group_by_customer_identity:{},core_waybill:{},is_get_core_waybill_number:!1,tool_core_waybill_active_button:{content:this.$t("ui.general.create"),channel:"tool_core_waybill_create_channel"},create_core_waybill_error:""}},created:function(){},mounted:function(){var e=this;this.init(),this.$bus.$off("tool_core_waybill_create_channel"),this.$bus.$on("tool_core_waybill_create_channel",function(){e.create_core_waybill()})},watch:{},computed:{},methods:{undo:function(){this.is_get_core_waybill_number=!1,this.create_core_waybill_error="",this.core_waybill={}},init:function(){var e=wP(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fetch_partitions();case 2:return e.next=4,this.fetch_associated_partitions();case 4:return e.next=6,this.fetch_customers();case 6:return e.next=8,new Promise(function(e){t.is_initialized=!0});case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_partitions:function(){var e=this,t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_partitions),i=t.parse({},"?pagination=false");return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.partitions"),reason:": "+t.data.error})),Promise.reject(t.data.error);e.partitions=e.partitions.concat(t.data.partitions)})},fetch_associated_partitions:function(){var e=this,t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_associated_partitions),i=t.parse({},"?pagination=false");return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("ui.page_titles.associated_partitions"),reason:": "+t.data.error})),Promise.reject(t.data.error);e.partitions=e.partitions.concat(t.data.associated_partitions)})},fetch_customers:function(){var e=this;return this.partitions_group_by_customer_identity=_.groupBy(this.partitions,"customer_identity"),_.forEach(this.partitions_group_by_customer_identity,function(t,i){"null"!=i&&e.$store.dispatch("provider/core_waybills_module/fetch_customer",{customer_identity:i})}),Promise.resolve()},fetch_core_waybill_number_by_partition:function(){var e=this,t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_partition_get_usable_numbers),i=t.parse({partition_identity:this.current_partition.identity,amount:1});axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.core_waybill={number:t.data.usable_numbers[0],material_identity:e.current_partition.material_identity,partition_identity:e.current_partition.identity,is_used:!0,original_number:null,tracking_number:null,sender_company_name:null,sender_address:null,sender_name:null,sender_phone:null,sender_email:null,sender_url:null,sender_fax:null,consignee_company_name:null,consignee_address:null,consignee_name:null,consignee_phone:null,consignee_email:null,consignee_fax:null,temperature:null,goods_name:null,flight_number:null,note:null,note_2:null,note_3:null,serial:1,pieces:1,payment_type:null,measurement:null,weight_in_kilo:null,receipt_file_url:null,is_collected:0,collection:null,collection_fee:0,simplified_declaration_form_fee:0,declaration_form_fee:0,declaration_form_extra_fee:0,tax:0,price:0,insurance:0,material_fee:0,consignee_tax_point:0,sender_tax_point:0,warehouse_fee:0,fuel_surcharge:0,value_added_service_fee:0,overlength_fee:0,overweight_fee:0,extra_fee:0,shipping_date:null,shipping_period:null,shipping_note:null,cvs_store_number:null,cvs_store_name:null,cvs_store_address:null,cvs_store_phone:null,station_code:null,declared_valu:null},e.is_get_core_waybill_number=!0):e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.attributes.core_waybills.number")}))})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.attributes.core_waybills.number")}))})},set_current_partition:function(e){this.current_partition={},this.current_partition=e},create_core_waybill:function(){var e=this,t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_core_waybills_create).parse({});return axios.post(t,this.core_waybill,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){return"success"==t.data.status?(e.$noty.success(e.$t("ui.notifications.success.create__name",{name:e.$t("models.core_waybills")})),e.$router.push({name:"edit_core_waybill",params:{identity:t.data.core_waybill.identity}})):(e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.core_waybills"),reason:": "+t.data.errors})),e.create_core_waybill_error=t.data.errors),Promise.reject(t.data.errors)})}}},kP=$P,xP=(n("c429"),Object(Tt["a"])(kP,gP,bP,!1,null,"3cad6ac6",null)),CP=xP.exports,PP=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui segment",attrs:{id:"edit_core_waybill"}},[e.is_initialized?i("CoreWaybill",{attrs:{core_waybill:e.core_waybill,template:"detail",is_force_print:!0,is_auto_print:!1,is_can_update:!0,is_can_print_label:!0,is_show_change_template_btns:!1,detail:{is_show_blood_related:!0,is_show_receipt_file:!0,is_show_partition:!0,is_show_statuses:!0}}}):e._e(),i("Comments",{attrs:{commentable_type:"CoreWaybill",commentable_identity:e.core_waybill.identity,scope:"provider"}})],1)},SP=[],NP=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"comments"},[i("h3",[e._v("\n        "+e._s(e.$t("ui.toolbox.bulletin_board.name"))+"\n\n        "),i("i",{staticClass:"refresh icon",attrs:{title:e.$t("ui.general.update")},on:{click:e.fetch_comments}})]),i("div",{staticClass:"ui divider"}),e.is_processing||!e.is_initialized?i("div",[i("div",{staticClass:"ui inverted dimmer transition visible active",staticStyle:{display:"block !important"}},[i("div",{staticClass:"ui text loader"},[e._v("\n                "+e._s(e.$t("ui.general.initializing"))+"\n            ")])])]):i("div",{staticClass:"contents"},[i("div",{staticClass:"ui comments"},[0==e.comments.length?i("div",[e._v("\n                "+e._s(e.$t("ui.toolbox.bulletin_board.no_messages"))+"\n            ")]):e._e(),e._l(e.comments,function(e){return i("Comment",{key:e.identity,attrs:{comment:e}})}),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"comment"},[i("div",{staticClass:"content"},[i("a",{staticClass:"author"},[e._v("\n                        "+e._s(e.commentor)+"\n                    ")]),e._m(0),i("div",{staticClass:"text ui form"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.new_comment,expression:"new_comment"}],ref:"comment_input",attrs:{type:"text",placeholder:e.$t("ui.toolbox.bulletin_board.talk_your_comment"),rows:"1"},domProps:{value:e.new_comment},on:{keydown:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.add_comment(t):null},input:function(t){t.target.composing||(e.new_comment=t.target.value)}}})])])])],2)]),e.comments.length>0?i("Paginator",{attrs:{total_pages:e.pagination.total_pages,current_page:e.pagination.current_page,change_page_channel:e.commentable_type+e.commentable_identity}}):e._e()],1)},qP=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"metadata"},[i("span",{staticClass:"date"})])}],AP=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"comment"},[i("div",{staticClass:"content"},[i("a",{staticClass:"author"},[e._v(e._s(e.comment.name))]),i("div",{staticClass:"metadata"},[i("span",{staticClass:"date"},[e._v(e._s(e.human_datetime(e.comment.created_at)))])]),i("div",{staticClass:"text"},[e._v("\n            "+e._s(e.comment.content||"-")+"\n        ")])])])},EP=[];function zP(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function jP(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){zP(a,n,s,r,o,"next",e)}function o(e){zP(a,n,s,r,o,"throw",e)}r(void 0)})}}var RP={props:{comment:Object},data:function(){return{is_initialized:!1,is_processing:!1,errors:[]}},watch:{},created:function(){},mounted:function(){this.init()},computed:{avatar:function(){return this.comment.staff_identity?"https://semantic-ui.com/images/avatar/small/matt.jpg":this.comment.customer_identity?"https://semantic-ui.com/images/avatar/small/elliot.jpg":void 0}},methods:{init:function(){var e=jP(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!1,e()});case 2:return e.next=4,new Promise(function(e){t.is_initialized=!0,e()});case 4:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()},components:{}},OP=RP,IP=Object(Tt["a"])(OP,AP,EP,!1,null,"431bb51e",null),DP=IP.exports;function LP(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function TP(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){LP(a,n,s,r,o,"next",e)}function o(e){LP(a,n,s,r,o,"throw",e)}r(void 0)})}}var BP={name:"ToolBulletinBoardComments",props:{commentable_type:String,commentable_identity:String,scope:String},data:function(){return{is_initialized:!1,is_processing:!1,new_comment:null,comments:[],pagination:{total_pages:null,current_page:null},errors:[],settings:{fetch_comments_url:null,add_comment_url:null,token:null}}},watch:{},created:function(){},mounted:function(){this.init()},computed:{commentor:function(){return"provider"==this.scope?this.$store.state.provider.current_staff.name:"customer"==this.scope?this.$store.state.customer.customer.company_name:void 0},avatar:function(){return"provider"==this.scope?"https://semantic-ui.com/images/avatar/small/matt.jpg":"customer"==this.scope?"https://semantic-ui.com/images/avatar/small/elliot.jpg":void 0}},methods:{init:function(){var e=TP(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!1,"provider"==t.scope?(t.settings.fetch_comments_url=t.$store.state.provider.routes.api_v1_provider_comments,t.settings.add_comment_url=t.$store.state.provider.routes.api_v1_provider_comments_create,t.settings.token=localStorage.getItem("authentication_token")):"customer"==t.scope&&(t.settings.fetch_comments_url=t.$store.state.customer.routes.api_v1_customer_comments,t.settings.add_comment_url=t.$store.state.customer.routes.api_v1_customer_comments_create,t.settings.token=localStorage.getItem("customer_authentication_token")),e()});case 2:return e.next=4,this.fetch_comments();case 4:return e.next=6,new Promise(function(e){t.is_initialized=!0,e()});case 6:this.$bus.$off(this.commentable_type+this.commentable_identity),this.$bus.$on(this.commentable_type+this.commentable_identity,function(e){t.pagination.current_page=e,t.fetch_comments()});case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_comments:function(){var e=this;this.is_processing=!0;var t=new RestUrl(this.settings.fetch_comments_url).parse({commentable_type:this.commentable_type,commentable_identity:this.commentable_identity},"?"+object_to_query({page:this.pagination.current_page}));return axios.get(t,{headers:{Authorization:this.settings.token}}).then(function(t){return"success"==t.data.status?(e.comments=t.data.comments,e.pagination=t.data.pagination):"failure"==t.data.status&&(e.errors=t.data.errors,e.errors.push(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.comments"),reason:": "+t.data.errors}))),e.is_processing=!1,t})["catch"](function(t){return e.errors.push(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.comments"),reason:": "+e.$t("ui.general.network_abnormality")+","+t.response.status})),Promise.reject(t)})},add_comment:function(){var e=this;if(this.new_comment){this.is_processing=!0;var t=new RestUrl(this.settings.add_comment_url).parse({}),i={commentable_type:this.commentable_type,commentable_identity:this.commentable_identity,content:this.new_comment};return this.new_comment=null,axios.post(t,i,{headers:{Authorization:this.settings.token}}).then(function(t){return"success"==t.data.status?e.fetch_comments():"failure"==t.data.status&&(e.errors=t.data.errors,e.$noty.error($t("ui.toolbox.bulletin_board.message")+" "+e.$t("ui.general.fetch"))),e.is_processing=!1,t})["catch"](function(t){return e.$noty.error($t("ui.toolbox.bulletin_board.message")+" "+e.$t("ui.general.fetch")+": "+t.response.status),Promise.reject(t)}).then(function(){$(e.$refs.comment_input).focus()})}}},components:{Comment:DP,Paginator:Ma}},MP=BP,UP=(n("dbbd"),Object(Tt["a"])(MP,NP,qP,!1,null,"323dfdb7",null)),FP=UP.exports;function YP(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function GP(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){YP(a,n,s,r,o,"next",e)}function o(e){YP(a,n,s,r,o,"throw",e)}r(void 0)})}}var HP={name:"EditCoreWaybill",components:{CoreWaybill:uP["a"],Comments:FP},props:{},data:function(){return{is_initialized:!1,is_processing:!1,core_waybill:{},errors:[]}},created:function(){},mounted:function(){this.init()},watch:{$route:function(e,t){"edit_core_waybill"==e.name&&this.init()}},computed:{},methods:{init:function(){var e=GP(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!1,t.is_processing=!1,t.core_waybill={},t.errors=[],e()});case 2:return e.next=4,this.fetch_core_waybill();case 4:return e.next=6,new Promise(function(e){t.$store.state.provider.core_waybills_module.current_core_waybill=t.core_waybill,t.is_initialized=!0});case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_core_waybill:function(){var e=this,t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_core_waybill).parse({core_waybill_identity:this.$route.params.identity});return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.core_waybill=t.data.core_waybill})["catch"](function(t){return e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.core_waybills"),reason:": "+t})),Promise.reject(t)})}}},KP=HP,WP=(n("4ab4"),Object(Tt["a"])(KP,PP,SP,!1,null,"26741119",null)),VP=WP.exports,XP="core_waybills",QP="new_core_waybill",ZP="edit_core_waybill",JP="core_waybills_operation",eS=[{path:"",component:vP,name:"core_waybills",meta:{api_name:"api_v1_provider_core_waybills",breadcrumb:[XP],btns:[QP]}},{path:"new",component:CP,name:"new_core_waybill",meta:{api_name:"api_v1_provider_core_waybill_create",breadcrumb:[XP,QP]}},{path:"edit/:identity",component:VP,name:"edit_core_waybill",meta:{api_name:"api_v1_provider_core_waybill_update",breadcrumb:[XP,ZP]}},{path:"operation/:operation_number",component:vP,name:"core_waybills_operation",meta:{api_name:"api_v1_provider_core_waybills",breadcrumb:[XP,JP]}},{path:"operation/:operation_number/edit/:identity",component:VP,name:"edit_core_waybill_operation",meta:{api_name:"api_v1_provider_core_waybill_update",breadcrumb:[XP,JP,ZP]}}],tS=eS,iS=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"packer_layout"}},[e.is_initialized?i("div",[i("div",{staticClass:"ui equal width grid"},[i("div",{staticClass:"column"},[i("CommandPanel",{attrs:{is_processing:e.is_processing,scanner_modes:e.scanner_modes,current_scanner_mode:e.current_scanner_mode}}),i("div",{staticClass:"ui divider"}),i("CurrentPack",{attrs:{current_pack:e.current_pack,parent_pack:e.current_pack_parent_pack}}),i("div",{staticClass:"ui divider"}),i("SelectedPack",{attrs:{selected_pack:e.selected_pack,parent_pack:e.selected_pack_parent_pack}})],1),i("div",{staticClass:"column"},[i("Workspace",{attrs:{packs:e.packs,selected_pack:e.selected_pack,all_packs:e.packer_store.packs,is_processing:e.is_processing}})],1)])]):i("div",{staticClass:"ui active centered inline large loader"})])},nS=[],sS=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"packer_workspace"}},[i("div",{staticClass:"ui cards"},e._l(e.packs,function(t){return i("Pack",{key:t.identity,attrs:{pack:t,selected_pack:e.selected_pack,all_packs:e.all_packs}})}))])},aS=[],rS=n("1a5e"),oS={props:{packs:Array,selected_pack:Object,all_packs:Array,is_processing:Boolean},data:function(){return{}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{},components:{Pack:rS["default"]}},cS=oS,_S=Object(Tt["a"])(cS,sS,aS,!1,null,null,null),lS=_S.exports,uS=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"packer_command_center"}},[i("div",{staticClass:"ui card"},[e.is_processing?i("div",{staticClass:"ui buttons"},e._l(e.scanner_modes,function(t){return i("button",{staticClass:"ui basic button",class:{active:e.current_scanner_mode==t},attrs:{scanner_mode:t}},[e._v("\n                "+e._s(e.$t("packer."+t))+"\n            ")])})):i("div",{staticClass:"ui top attached buttons"},e._l(e.scanner_modes,function(t){return i("button",{staticClass:"ui basic button",class:{primary:e.current_scanner_mode==t},attrs:{scanner_mode:t},on:{click:function(i){e.change_scanner_mode(t)}}},[e._v("\n                "+e._s(e.$t("packer."+t))+"\n            ")])})),i("div",{staticClass:"content"},[e.is_processing?i("div",{staticClass:"ui fluid disabled input"},[i("input",{attrs:{type:"text",placeholder:e.$t("packer.command_placeholder")}})]):i("div",{staticClass:"ui fluid input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.barcode,expression:"barcode"}],attrs:{id:"command_input_field",type:"text",placeholder:e.$t("packer.command_placeholder")},domProps:{value:e.barcode},on:{keyup:[function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?(t.preventDefault(),e.commands(t)):null},function(t){if(!("button"in t)&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"]))return null;e.change_scanner_mode("up")},function(t){if(!("button"in t)&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"]))return null;e.change_scanner_mode("down")}],input:function(t){t.target.composing||(e.barcode=t.target.value)}}})])]),i("div",{staticClass:"extra content"},[e.is_processing?i("button",{staticClass:"ui right floated basic positive loading button"},[e._v("送出結果")]):i("button",{staticClass:"ui right floated basic positive button",on:{click:e.submit}},[e._v("送出結果")])])])])},dS=[],pS={props:{is_processing:Boolean,scanner_modes:Array,current_scanner_mode:String},data:function(){return{barcode:null}},computed:{},watch:{},created:function(){$(document).on("keypress",function(){$("#command_input_field").focus()})},mounted:function(){},methods:{commands:function(){var e=this,t=e.barcode;e.barcode=null,e.$bus.$emit("packer_command_center","commands",t)},change_scanner_mode:function(e){var t=this;t.$bus.$emit("packer_command_center","change_scanner_mode",e)},submit:function(){var e=this;e.$bus.$emit("packer_command_center","submit",null)}},components:{}},mS=pS,fS=Object(Tt["a"])(mS,uS,dS,!1,null,null,null),hS=fS.exports,vS=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"packer_current_pack"}},[i("div",{staticClass:"ui card"},[e._m(0),i("div",{staticClass:"content"},[i("table",{staticClass:"ui celled table"},[e._m(1),i("tbody",[i("tr",[i("td",{staticClass:"center aligned"},[e._v("號碼")]),i("td",{staticClass:"center aligned"},[e._v(e._s(e.current_pack.core_waybill_number))])]),i("tr",[i("td",{staticClass:"center aligned"},[e._v("親包號碼")]),i("td",{staticClass:"center aligned"},[e.parent_pack?i("span",[e._v("\n                                "+e._s(e.parent_pack.core_waybill_number)+"\n                            ")]):e._e()])])])])])])])},gS=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"content"},[i("h2",{staticClass:"ui header"},[i("i",{staticClass:"info icon"}),i("div",{staticClass:"content"},[e._v("\n                    目前包裹\n                ")])])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("thead",[i("tr",[i("th",{staticClass:"six wide center aligned"},[e._v("欄位")]),i("th",{staticClass:"ten wide center aligned"},[e._v("內容")])])])}],bS={props:{current_pack:Object,parent_pack:Object},data:function(){return{}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{},components:{}},yS=bS,wS=Object(Tt["a"])(yS,vS,gS,!1,null,null,null),$S=wS.exports,kS=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"packer_selected_pack"}},[i("div",{staticClass:"ui card"},[e._m(0),i("div",{staticClass:"content"},[Object.keys(e.selected_pack).length>0?i("table",{staticClass:"ui celled table"},[e._m(1),i("tbody",[i("tr",[i("td",{staticClass:"center aligned"},[e._v("號碼")]),i("td",{staticClass:"center aligned"},[e._v(e._s(e.selected_pack.core_waybill_number))])]),i("tr",[i("td",{staticClass:"center aligned"},[e._v("親包號碼")]),i("td",{staticClass:"center aligned"},[e.parent_pack?i("span",[e._v("\n                                "+e._s(e.parent_pack.core_waybill_number)+"\n                            ")]):e._e()])])])]):i("div",{staticClass:"ui icon message"},[i("i",{staticClass:"question icon"}),i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                        尚未選擇任何包\n                    ")]),i("p",[e._v('點選左上角指令列的"'+e._s(e.$t("packer.selection"))+'"開始作業')])])])])])])},xS=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"content"},[i("h2",{staticClass:"ui header"},[i("i",{staticClass:"info circle icon"}),i("div",{staticClass:"content"},[e._v("\n                    選擇中的包裹\n                ")])])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("thead",[i("tr",[i("th",{staticClass:"six wide center aligned"},[e._v("欄位")]),i("th",{staticClass:"ten wide center aligned"},[e._v("內容")])])])}],CS={props:{selected_pack:Object,parent_pack:Object},data:function(){return{}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{},components:{}},PS=CS,SS=Object(Tt["a"])(PS,kS,xS,!1,null,null,null),NS=SS.exports,qS={data:function(){return{is_initialized:!1,errors:[]}},computed:{packer_store:function(){return this.$store.state.packer_module.pack_mode},scanner_modes:function(){return this.packer_store.scanner_modes},current_scanner_mode:function(){return this.packer_store.current_scanner_mode},packs:function(){return _.filter(this.packer_store.packs,{packed_by_number:null})},selected_pack:function(){return this.packer_store.selected_pack},selected_pack_parent_pack:function(){return _.find(this.packer_store.packs,{core_waybill_number:this.packer_store.selected_pack.packed_by_number})},current_pack:function(){return this.packer_store.current_pack},current_pack_parent_pack:function(){return _.find(this.packer_store.packs,{core_waybill_number:this.packer_store.current_pack.packed_by_number})},is_processing:function(){return this.packer_store.is_processing}},watch:{$route:function(e,t){this.set_breadcrumbs()}},created:function(){this.init(),this.set_breadcrumbs()},mounted:function(){var e=this;e.$bus.$off("packer_command_center"),e.$bus.$on("packer_command_center",function(t,i){switch(console.log("packer_command_center:"+t+i),t){case"commands":e.commands(i);break;case"change_scanner_mode":e.change_scanner_mode(i);break;case"packing":e.packing(i);break;case"selection":e.selection(i);break;case"remove_pack":e.remove_pack(i);break;case"escape_pack":e.escape_pack(i);break;case"submit":e.submit();break;default:}}.bind(this))},methods:{init:function(){var e=this,t=new Promise(function(e,t){e()});t.then(function(){e.is_initialized=!1}).then(function(){e.change_scanner_mode(e.scanner_modes[0])}).then(function(){e.packer_store.workspace_identity=e.$store.state.provider.stations[4].workspaces[0].identity}).then(function(){return e.get_packs()}).then(function(){e.$noty.information("打包界面初始化完畢"),e.is_initialized=!0})["catch"](function(e){switch(e){default:}})},get_packs:function(){var e=this,t=new RestUrl(e.$store.state.shipper_routes.api_v1_provider_workspace_workflows).parse({workspace_identity:e.packer_store.workspace_identity},"?authorization="+e.$store.state.shipper.authorization);return axios.get(t).then(function(t){e.packer_store.packs=_.map(t.data.workflows,function(e){return _.extend({},e,{packed_by_number:null})}),e.$noty.success("已抓取workflows.")})["catch"](function(t){e.$noty.error("Failed to fetch workflows.")})},set_breadcrumbs:function(){var e=this,t={route_name:"packer",name:"打包界面"};switch(e.$route.name){case"packer":e.$store.state.breadcrumbs=[t];break}},commands:function(e){var t=this;switch(e){case"##tally":t.change_scanner_mode("tally");break;case"##addition":t.change_scanner_mode("addition");break;case"##selection":t.change_scanner_mode("selection");break;case"##packing":t.change_scanner_mode("packing");break;default:switch(t.packer_store.current_scanner_mode){case"tally":t.tally(e);break;case"addition":t.addition(e);break;case"selection":t.selection(e);break;case"packing":t.packing(e);break;default:t.$noty.error("尚未選擇模式")}}},change_scanner_mode:function(e){var t=this;switch(e){case"down":var i=_.indexOf(t.scanner_modes,t.packer_store.current_scanner_mode);t.scanner_modes[i+1]?t.packer_store.current_scanner_mode=t.scanner_modes[i+1]:t.packer_store.current_scanner_mode=_.head(t.scanner_modes),t.$noty.success("切換模式："+t.$t("packer."+t.packer_store.current_scanner_mode));break;case"up":i=_.indexOf(t.scanner_modes,t.packer_store.current_scanner_mode);t.scanner_modes[i-1]?t.packer_store.current_scanner_mode=t.scanner_modes[i-1]:t.packer_store.current_scanner_mode=_.last(t.scanner_modes),t.$noty.success("切換模式："+t.$t("packer."+t.packer_store.current_scanner_mode));break;default:t.packer_store.current_scanner_mode=e,t.$noty.success("切換模式："+t.$t("packer."+e))}},tally:function(e){var t=this;if(t.is_legal_input(e)){var i=_.find(this.packer_store.packs,{core_waybill_number:e});i?t.$noty.information("此貨物已點"):(t.packer_store.packs.push({number:e,packed_by_number:null}),t.packer_store.current_pack=_.find(this.packer_store.packs,{core_waybill_number:e}))}},addition:function(e){var t=this;if(t.is_legal_input(e)){var i=_.find(this.packer_store.packs,{core_waybill_number:e});i?t.$noty.information("此包已存在"):(t.packer_store.packs.push({core_waybill_number:e,packed_by_number:null}),t.packer_store.current_pack=_.find(this.packer_store.packs,{core_waybill_number:e}))}},selection:function(e){var t=this;if(t.is_legal_input(e)){var i=_.find(t.packer_store.packs,{core_waybill_number:e});i?(t.packer_store.selected_pack=i,t.packer_store.current_pack=i):t.$noty.error("此號碼尚未進入工作區，請以點貨或加包模式加入後再繼續")}},packing:function(e){var t=this;if(t.is_legal_input(e))if(0!=Object.keys(t.packer_store.selected_pack).length)if(e!=t.packer_store.selected_pack.core_waybill_number)if(t.is_packable(e)){var i=_.find(t.packer_store.packs,{core_waybill_number:e});i?(i.packed_by_number=t.packer_store.selected_pack.core_waybill_number,t.packer_store.current_pack=i):t.$noty.error("查無此貨")}else t.$noty.error("子不可包親");else t.$noty.error("不能自己包裝自己");else t.$noty.error("請先選包")},remove_pack:function(e){var t=this,i=_.find(t.packer_store.packs,{core_waybill_number:e});if(t.is_legal_input(e)&&confirm("刪除包裝會釋放出底下的子包，確定刪除？")){t.packer_store.selected_pack==i&&(t.packer_store.selected_pack={});var n=_.filter(t.packer_store.packs,{packed_by_number:i.core_waybill_number});_.forEach(n,function(e){e.packed_by_number=null}),t.packer_store.packs.splice(t.packer_store.packs.indexOf(i),1)}},escape_pack:function(e){var t=this;if(t.is_legal_input(e)){var i=_.find(t.packer_store.packs,{core_waybill_number:e});null==i.packed_by_number?t.$noty.information(i.core_waybill_number+"不在任何包裝裡"):i.packed_by_number=null}},is_packable:function(e){var t=this,i=t.packer_store.selected_pack;if(!i.packed_by_number)return!0;while(i.packed_by_number){if(i.packed_by_number==e)return!1;if(i=_.find(t.packer_store.packs,{core_waybill_number:i.packed_by_number}),!i.packed_by_number)return!0}},is_legal_input:function(e){var t=this;return e?!!e.replace(/\s/g,"").length||(t.$noty.error("無效的輸入"),!1):(t.$noty.error("請輸入號碼"),!1)},submit:function(){var e=this;e.packer_store.is_processing=!0;var t=new RestUrl(e.$store.state.shipper_routes.api_v1_provider_workspace_packing).parse({workspace_identity:e.packer_store.workspace_identity},"?authorization="+e.$store.state.shipper.authorization),i=_.map(e.packer_store.packs,function(e){return _.extend({},{core_waybill_number:e.core_waybill_number,packed_by_number:e.packed_by_number},{})});console.log(i),axios.post(t,{packs:i}).then(function(t){"success"==t.data.status?(e.packer_store.is_processing=!1,e.$noty.success("打包成功")):(e.packer_store.is_processing=!1,e.$noty.error("打包失敗"))})["catch"](function(t){t.response?(e.packer_store.is_processing=!1,e.$noty.error(e.$t("ui.general.network_abnormality")+": "+t.response.status+t.response.data)):(e.packer_store.is_processing=!1,e.$noty.error(e.$t("ui.general.network_abnormality")+": "+e.$t("ui.general.server_offline")))})}},components:{Workspace:lS,CommandPanel:hS,CurrentPack:$S,SelectedPack:NS}},AS=qS,ES=Object(Tt["a"])(AS,iS,nS,!1,null,null,null),zS=ES.exports,jS=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"packer_layout"}},[e.is_initialized?i("div",[i("div",{staticClass:"ui equal width grid"},[i("div",{staticClass:"column"},[i("CommandPanel",{attrs:{scanner_modes:e.scanner_modes,current_scanner_mode:e.current_scanner_mode}}),i("div",{staticClass:"ui divider"}),i("CurrentPack",{attrs:{current_pack:e.current_pack}})],1),i("div",{staticClass:"column"},[i("Workspace",{attrs:{packs:e.packs,current_pack:e.current_pack,all_packs:e.packer_store.packs}})],1)])]):i("div",{staticClass:"ui active centered inline large loader"})])},RS=[],OS=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"unpack_workspace"}},e._l(e.packs,function(t){return i("Pack",{key:t.identity,attrs:{pack:t,current_pack:e.current_pack,all_packs:e.all_packs}})}))},IS=[],DS=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui card",class:[e.current_pack==e.pack?"raised":""]},[i("div",{staticClass:"content"},[e.is_processing?i("a",{staticClass:"ui ribbon label",class:[e.current_pack==e.pack?"teal":"grey"]},[e._v(e._s(e.pack.core_waybill_number))]):i("a",{staticClass:"ui ribbon label",class:[e.current_pack==e.pack?"teal":"grey"],on:{click:e.show}},[e._v(e._s(e.pack.core_waybill_number))])]),i("div",{staticClass:"ui bottom attached buttons"},[1==e.is_processing?i("div",{staticClass:"ui basic primary disabled button"},[e._v("拆包")]):i("div",{staticClass:"ui basic primary button",on:{click:e.unpacking}},[e._v("拆包")])])])},LS=[],TS={props:{pack:Object,current_pack:Object,all_packs:Array},data:function(){return{is_processing:!1}},computed:{},watch:{},beforeCreate:function(){},created:function(){},mounted:function(){},methods:{show:function(){var e=this,t=e.pack.core_waybill_number;e.$bus.$emit("packer_command_center","show",t)},unpacking:function(){var e=this,t=e.pack.core_waybill_number;e.$bus.$emit("packer_command_center","unpacking",t)}},components:{}},BS=TS,MS=Object(Tt["a"])(BS,DS,LS,!1,null,null,null),US=MS.exports,FS={props:{packs:Array,current_pack:Object,all_packs:Array},data:function(){return{}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{},components:{Pack:US}},YS=FS,GS=Object(Tt["a"])(YS,OS,IS,!1,null,null,null),HS=GS.exports,KS=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"packer_command_center"}},[i("div",{staticClass:"ui card"},[i("div",{staticClass:"ui top attached buttons"},e._l(e.scanner_modes,function(t){return i("button",{staticClass:"ui basic button",class:{primary:e.current_scanner_mode==t},attrs:{scanner_mode:t},on:{click:function(i){e.change_scanner_mode(t)}}},[e._v("\n                "+e._s(e.$t("packer."+t))+"\n            ")])})),i("div",{staticClass:"content"},[i("div",{staticClass:"ui fluid input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.barcode,expression:"barcode"}],attrs:{id:"command_input_field",type:"text",placeholder:e.$t("packer.command_placeholder")},domProps:{value:e.barcode},on:{keyup:[function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?(t.preventDefault(),e.commands(t)):null},function(t){if(!("button"in t)&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"]))return null;e.change_scanner_mode("up")},function(t){if(!("button"in t)&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"]))return null;e.change_scanner_mode("down")}],input:function(t){t.target.composing||(e.barcode=t.target.value)}}})])])])])},WS=[],VS={props:{scanner_modes:Array,current_scanner_mode:String},data:function(){return{barcode:null}},computed:{},watch:{},created:function(){$(document).on("keypress",function(){$("#command_input_field").focus()})},mounted:function(){},methods:{commands:function(){var e=this,t=e.barcode;e.barcode=null,e.$bus.$emit("packer_command_center","commands",t)},change_scanner_mode:function(e){var t=this;t.$bus.$emit("packer_command_center","change_scanner_mode",e)}},components:{}},XS=VS,QS=Object(Tt["a"])(XS,KS,WS,!1,null,null,null),ZS=QS.exports,JS=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"packer_current_pack"}},[i("div",{staticClass:"ui card"},[e._m(0),i("div",{staticClass:"content"},[Object.keys(e.current_pack).length>0?i("div",[i("table",{staticClass:"ui celled table"},[e._m(1),i("tbody",[i("tr",[i("td",{staticClass:"center aligned"},[e._v("號碼")]),i("td",{staticClass:"center aligned"},[e._v(e._s(e.current_pack.core_waybill_number))])])])]),i("h3",{staticClass:"ui header"},[e._v("包裹內容")]),e._m(2)]):i("div",{staticClass:"ui icon message"},[i("i",{staticClass:"question icon"}),i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                        尚未選擇任何包\n                    ")]),i("p",[e._v('點選"'+e._s(e.$t("packer.show"))+'"開始作業')])])])])])])},eN=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"content"},[i("h2",{staticClass:"ui header"},[i("i",{staticClass:"info circle icon"}),i("div",{staticClass:"content"},[e._v("\n                    目前包裹\n                ")])])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("thead",[i("tr",[i("th",{staticClass:"six wide center aligned"},[e._v("欄位")]),i("th",{staticClass:"ten wide center aligned"},[e._v("內容")])])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("table",{staticClass:"ui celled table"},[i("thead",[i("tr",[i("th",{staticClass:"six wide center aligned"},[e._v("序號")]),i("th",{staticClass:"ten wide center aligned"},[e._v("運單號")])])]),i("tbody",[i("tr",[i("td",{staticClass:"center aligned"}),i("td",{staticClass:"center aligned"})])])])}],tN={props:{current_pack:Object},data:function(){return{}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{},components:{}},iN=tN,nN=Object(Tt["a"])(iN,JS,eN,!1,null,null,null),sN=nN.exports,aN={data:function(){return{is_initialized:!1,errors:[]}},computed:{packer_store:function(){return this.$store.state.packer_module.unpack_mode},scanner_modes:function(){return this.packer_store.scanner_modes},current_scanner_mode:function(){return this.packer_store.current_scanner_mode},packs:function(){return _.filter(this.packer_store.packs,{packed_by_number:null})},current_pack:function(){return this.packer_store.current_pack}},watch:{$route:function(e,t){this.set_breadcrumbs()}},created:function(){this.init(),this.set_breadcrumbs()},mounted:function(){var e=this;e.$bus.$off("packer_command_center"),e.$bus.$on("packer_command_center",function(t,i){switch(console.log("packer_command_center:"+t+i),t){case"commands":e.commands(i);break;case"change_scanner_mode":e.change_scanner_mode(i);break;case"unpacking":e.unpacking(i);break;case"show":e.show(i);break;default:}}.bind(this))},methods:{init:function(){var e=this,t=new Promise(function(e,t){e()});t.then(function(){e.is_initialized=!1}).then(function(){e.change_scanner_mode(e.scanner_modes[0])}).then(function(){e.packer_store.workspace_identity=e.$store.state.stations[4].workspaces[0].identity}).then(function(){return e.get_packs()}).then(function(){e.$noty.information("拆包界面初始化完畢"),e.is_initialized=!0})["catch"](function(e){switch(e){default:}})},get_packs:function(){var e=this,t=new RestUrl(e.$store.state.shipper_routes.api_v1_provider_workspace_workflows).parse({workspace_identity:e.packer_store.workspace_identity},"?authorization="+e.$store.state.shipper.authorization);return axios.get(t).then(function(t){e.packer_store.packs=_.map(t.data.workflows,function(e){return _.extend({},e,{packed_by_number:null})}),e.$noty.success("已抓取workflows.")})["catch"](function(t){e.$noty.error("Failed to fetch workflows.")})},set_breadcrumbs:function(){var e=this,t={route_name:"unpack",name:"拆包界面"};switch(e.$route.name){case"unpack":e.$store.state.breadcrumbs=[t];break}},commands:function(e){var t=this;switch(e){case"##show":t.change_scanner_mode("show");break;case"##unpacking":t.change_scanner_mode("unpacking");break;default:switch(t.packer_store.scanner_mode){case"show":t.show(e);break;case"unpacking":t.unpacking(e);break;default:t.$noty.error("尚未選擇模式")}}},change_scanner_mode:function(e){var t=this;switch(e){case"up":var i=_.indexOf(t.scanner_modes,t.packer_store.current_scanner_mode);t.scanner_modes[i+1]?t.packer_store.current_scanner_mode=t.scanner_modes[i+1]:t.packer_store.current_scanner_mode=_.head(t.scanner_modes),t.$noty.success("切換模式："+t.$t("packer."+t.packer_store.current_scanner_mode));break;case"down":i=_.indexOf(t.scanner_modes,t.packer_store.current_scanner_mode);t.scanner_modes[i-1]?t.packer_store.current_scanner_mode=t.scanner_modes[i-1]:t.packer_store.current_scanner_mode=_.last(t.scanner_modes),t.$noty.success("切換模式："+t.$t("packer."+t.packer_store.current_scanner_mode));break;default:t.packer_store.current_scanner_mode=e,t.$noty.success("切換模式："+t.$t("packer."+e))}},show:function(e){var t=this;if(t.is_legal_input(e)){var i=_.find(t.packer_store.packs,{core_waybill_number:e});i?t.packer_store.current_pack=i:t.$noty.error("此號碼尚未進入工作區，請以點貨或加包模式加入後再繼續")}},unpacking:function(e){var t=this;t.is_legal_input(e)&&console.log(e+"拆包")},is_legal_input:function(e){var t=this;return e?!!e.replace(/\s/g,"").length||(t.$noty.error("無效的輸入"),!1):(t.$noty.error("請輸入號碼"),!1)}},components:{Workspace:HS,CommandPanel:ZS,CurrentPack:sN}},rN=aN,oN=Object(Tt["a"])(rN,jS,RS,!1,null,null,null),cN=oN.exports,_N=[{path:"/packer/pack",component:zS,name:"pack"},{path:"/packer/unpack",component:cN,name:"unpack"}],lN=_N,uN=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"operations"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),i("Filters"),i("div",{staticClass:"ui segment"},[e.style.width<767?i("div",{staticStyle:{"margin-bottom":"1em"}},[e.is_loading?i("div",[i("div",{staticClass:"ui active centered inline loader"})]):e._l(e.operations,function(t){return i("DataCard",{key:t.identity,attrs:{object:t,title:t.number,title_link:{name:"edit_provider_operation",params:{identity:t.identity}},date:e.human_datetime(t.created_at),sub_title:e.data_card_sub_title(t),color:e.data_card_color(t),is_show_column:!0,keys:["customer","customer_note","provider_note","file_name"],i_18n_key:"operations"}},[t.customer?i("span",{attrs:{slot:"customer"},slot:"customer"},[e._v("\n                    "+e._s(t.customer.company_name)+"\n                ")]):e._e(),i("a",{attrs:{slot:"file_name",href:t.original_file_url},slot:"file_name"},[e._v("\n                    "+e._s(t.original_file_name)+"\n                ")])])}),!e.is_loading&&e.operations.length<=0?i("div",{staticClass:"ui center aligned red segment"},[i("h3",[e._v("\n                    "+e._s(e.$t("ui.general.no_data"))+"\n                ")])]):e._e()],2):i("table",{staticClass:"ui compact celled table"},[i("thead",{staticClass:"center aligned"},[i("tr",[i("th",[e._v(e._s(e.$t("ui.general.date")))]),i("th",[e._v(e._s(e.$t("models.attributes.operations.number")))]),i("th",[e._v(e._s(e.$t("models.attributes.operations.customer")))]),i("th",[e._v(e._s(e.$t("models.attributes.operations.customer_note")))]),i("th",[e._v(e._s(e.$t("models.attributes.operations.provider_note")))]),i("th",[e._v("\n                        "+e._s(e.$t("ui.pages.operations.table.finish"))+"/\n                        "+e._s(e.$t("ui.pages.operations.table.total"))+"\n                    ")]),i("th",[e._v(e._s(e.$t("models.attributes.operations.status")))]),i("th",[e._v(e._s(e.$t("models.attributes.operations.file_name")))]),i("th",[e._v(e._s(e.$t("ui.general.operate")))])])]),e.is_loading?i("tbody",{staticClass:"center aligned"},[e._m(0)]):i("tbody",[e._l(e.operations,function(e){return i("Operation",{key:e.identity,attrs:{operation:e}})}),e.operations.length<=0?i("tr",{staticClass:"center aligned"},[i("td",{attrs:{colspan:"9"}},[i("h5",[e._v(e._s(e.$t("ui.general.no_data")))])])]):e._e()],2)]),e.operations.length>0?i("Paginator",{attrs:{total_pages:Number(e.pagination.total_pages),current_page:Number(e.pagination.current_page),disabled:e.is_loading}}):e._e()],1)],1)},dN=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"loading"},[i("td",{attrs:{colspan:"9"}},[i("div",{staticClass:"ui active centered inline loader"})])])}],pN=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{display:"flex","justify-content":"space-between"},attrs:{id:"operations_filter"}},[i("div"),i("div",{staticClass:"ui segment",style:{width:e.filter.is_advanced_mode?"100%":"auto",margin:0}},[i("Header",{staticClass:"right floated"}),i("div",{staticClass:"clear"}),i("transition",{attrs:{name:"slide-fade",mode:"out-in"}},[e.filter.is_advanced_mode?i("Advanced"):e._e()],1)],1)])},mN=[],fN=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"filter_advanced"}},[i("div",{staticClass:"ui form",on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$parent.$parent.operations_filter()}}},[i("div",{staticClass:"three fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.operations.created_at")))]),i("DatePicker",{key:"advanced_created_at",attrs:{format:"YYYY-MM-DD",type:"daterange",re_init:Boolean(e.filter.columns.created_duration)},model:{value:e.filter.columns.created_duration,callback:function(t){e.$set(e.filter.columns,"created_duration",t)},expression:"filter.columns.created_duration"}})],1),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.operations.number")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.number,expression:"filter.columns.number"}],attrs:{type:"text"},domProps:{value:e.filter.columns.number},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"number",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.operations.customer_identity")))]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection fluid dropdown"},[e._l(e.customers,function(t){return e.filter.columns.customer_identity==t.identity?i("div",{staticClass:"text"},[e._v("\n                        "+e._s(t.company_name)+"\n                    ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.customers,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.columns.customer_identity==t.identity},on:{click:function(i){e.filter.columns.customer_identity=t.identity}}},[e._v("\n                            "+e._s(t.company_name)+"\n                        ")])}))],2)])]),i("div",{staticClass:"four fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.operations.provider_note")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.provider_note,expression:"filter.columns.provider_note"}],attrs:{type:"text"},domProps:{value:e.filter.columns.provider_note},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"provider_note",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.operations.customer_note")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.customer_note,expression:"filter.columns.customer_note"}],attrs:{type:"text"},domProps:{value:e.filter.columns.customer_note},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"customer_note",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.operations.original_file_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.original_file_name,expression:"filter.columns.original_file_name"}],attrs:{type:"text"},domProps:{value:e.filter.columns.original_file_name},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"original_file_name",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.operations.status")))]),i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.is_done,expression:"filter.columns.is_done"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.filter.columns.is_done)?e._i(e.filter.columns.is_done,null)>-1:e.filter.columns.is_done},on:{change:function(t){var i=e.filter.columns.is_done,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=e._i(i,a);n.checked?r<0&&e.$set(e.filter.columns,"is_done",i.concat([a])):r>-1&&e.$set(e.filter.columns,"is_done",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.filter.columns,"is_done",s)}}}),i("label",[e._v(e._s(e.$t("models.attributes.operations.is_done")))])]),i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.is_canceled,expression:"filter.columns.is_canceled"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.filter.columns.is_canceled)?e._i(e.filter.columns.is_canceled,null)>-1:e.filter.columns.is_canceled},on:{change:function(t){var i=e.filter.columns.is_canceled,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=e._i(i,a);n.checked?r<0&&e.$set(e.filter.columns,"is_canceled",i.concat([a])):r>-1&&e.$set(e.filter.columns,"is_canceled",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.filter.columns,"is_canceled",s)}}}),i("label",[e._v(e._s(e.$t("models.attributes.operations.is_canceled")))])])])])]),i("div",{staticClass:"ui icon blue button right floated",on:{click:function(t){e.$parent.$parent.operations_filter()}}},[i("i",{staticClass:"search icon"}),e._v("\n        "+e._s(e.$t("ui.general.search"))+"\n    ")]),i("div",{staticClass:"clear"})])},hN=[],vN={name:"OperationsFilterAdvanced",data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.provider.operations_module},filter:function(){return this.current_store.filter},customers:function(){return[{company_name:this.$t("ui.general.please_select"),identity:null}].concat(this.$store.state.provider.customers)}},created:function(){},mounted:function(){},watch:{},methods:{},components:{DatePicker:XC["a"]}},gN=vN,bN=Object(Tt["a"])(gN,fN,hN,!1,null,null,null),yN=bN.exports,wN=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{style:e.style.width<470?{textAlign:"right"}:{},attrs:{id:"filter_general"}},[e.filter.is_advanced_mode?e._e():i("div",{staticClass:"ui action input"},[e.style.width>470?i("HeaderInputs"):e._e(),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection dropdown no_search right_radius",staticStyle:{"min-width":"120px"}},[e._l(e.filter.shortcut_keys,function(t){return e.filter.current_shortcut_key==t?i("div",{staticClass:"text"},[i("span",[e._v("\n                    "+e._s(e.$t("models.attributes.operations."+("created_duration"==t?"created_at":t)))+"\n                ")])]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.filter.shortcut_keys,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.current_shortcut_key==t},on:{click:function(i){e.set_quick_filter(t)}}},[e._v("\n                    "+e._s(e.$t("models.attributes.operations."+("created_duration"==t?"created_at":t)))+"\n                ")])}))],2),i("div",{staticClass:"ui button icon",on:{click:function(t){e.$parent.$parent.operations_filter()}}},[i("i",{staticClass:"search icon"})])],1),e.filter.is_advanced_mode?i("div",{staticClass:"ui basic red icon button",on:{click:function(t){e.$store.commit("provider/operations_module/init_filter_columns")}}},[i("i",{staticClass:"close icon"}),e._v("\n        "+e._s(e.$t("ui.general.clear"))+"\n    ")]):e._e(),i("div",{staticClass:"ui button icon",style:{height:e.filter.is_advanced_mode?"auto":"38px",paddingTop:e.filter.is_advanced_mode?"":"13px",verticalAlign:e.filter.is_advanced_mode?"":"top",margin:"0 6px"},on:{click:function(t){e.filter.is_advanced_mode=!e.filter.is_advanced_mode}}},[i("i",{staticClass:"bars icon",class:{minus:e.filter.is_advanced_mode,bars:!e.filter.is_advanced_mode}})]),!e.filter.is_advanced_mode&&e.style.width<470&&"is_done"!=e.filter.current_shortcut_key&&"is_canceled"!=e.filter.current_shortcut_key?i("div",{staticClass:"ui action input",staticStyle:{"padding-top":"9px",width:"100%"}},[i("HeaderInputs")],1):e._e()])},$N=[],kN=function(){var e=this,t=e.$createElement,i=e._self._c||t;return"is_done"!=e.filter.current_shortcut_key&&"is_canceled"!=e.filter.current_shortcut_key&&"customer_identity"!=e.filter.current_shortcut_key&&"created_duration"!=e.filter.current_shortcut_key?i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns[e.filter.current_shortcut_key],expression:"filter.columns[filter.current_shortcut_key]"}],attrs:{placeholder:e.$t("ui.general.search__key",{key:e.$t("models.attributes.operations."+e.filter.current_shortcut_key)}),type:"text"},domProps:{value:e.filter.columns[e.filter.current_shortcut_key]},on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$parent.$parent.$parent.operations_filter()},input:function(t){t.target.composing||e.$set(e.filter.columns,e.filter.current_shortcut_key,t.target.value)}}}):"created_duration"==e.filter.current_shortcut_key?i("DatePicker",{key:"created_duration",staticStyle:{"min-width":"200px",width:"100%"},attrs:{type:"daterange",format:"YYYY-MM-DD"},model:{value:e.filter.columns.created_duration,callback:function(t){e.$set(e.filter.columns,"created_duration",t)},expression:"filter.columns.created_duration"}}):"customer_identity"==e.filter.current_shortcut_key?i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection fluid dropdown right_radius",staticStyle:{"min-width":"200px"}},[e._l(e.customers,function(t){return e.filter.columns.customer_identity==t.identity?i("div",{staticClass:"text"},[e._v("\n        "+e._s(t.company_name)+"\n    ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.customers,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.columns.customer_identity==t.identity},on:{click:function(i){e.filter.columns.customer_identity=t.identity}}},[e._v("\n            "+e._s(t.company_name)+"\n        ")])}))],2):e._e()},xN=[],CN={name:"OperationsFilterHeaderInputs",data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.provider.operations_module},filter:function(){return this.current_store.filter},customers:function(){return[{company_name:this.$t("ui.general.please_select"),identity:null}].concat(this.$store.state.provider.customers)}},created:function(){},mounted:function(){},watch:{},methods:{},components:{DatePicker:XC["a"]}},PN=CN,SN=(n("d680"),Object(Tt["a"])(PN,kN,xN,!1,null,"7f81a1a0",null)),NN=SN.exports,qN={name:"OperationsFilterHeader",data:function(){return{is_initialized:!1}},computed:{style:function(){return this.$store.state.style},current_store:function(){return this.$store.state.provider.operations_module},filter:function(){return this.current_store.filter}},created:function(){},mounted:function(){},watch:{},methods:{set_quick_filter:function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{this.filter.current_shortcut_key=i,this.filter.columns.created_duration="",_.forEach(this.filter.shortcut_keys,function(e){t.filter.columns[e]=null}),"is_done"==i&&(this.filter.columns.is_done=!0),"is_canceled"==i&&(this.filter.columns.is_canceled=!0)}catch(e){console.log(e)}}},components:{HeaderInputs:NN}},AN=qN,EN=(n("0be3"),Object(Tt["a"])(AN,wN,$N,!1,null,"551954cb",null)),zN=EN.exports,jN={name:"OperationsFilter",data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.provider.operations_module},filter:function(){return this.current_store.filter}},created:function(){},mounted:function(){},watch:{"filter.is_advanced_mode":function(e){e||this.$store.commit("provider/operations_module/init_filter_columns")}},methods:{},components:{Advanced:yN,Header:zN}},RN=jN,ON=Object(Tt["a"])(RN,pN,mN,!1,null,null,null),IN=ON.exports,DN=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"center aligned"},[i("td",[e._v(" "+e._s(e.human_datetime(e.operation.created_at)))]),i("td",[e._v(" "+e._s(e.operation.number||"-")+" ")]),i("td",[e._v(" "+e._s(e.operation.customer?e.operation.customer.company_name:"-")+" ")]),i("td",[e._v(" "+e._s(e.operation.customer_note||"-")+" ")]),i("td",[e._v(" "+e._s(e.operation.provider_note||"-")+" ")]),i("td",{class:{negative:0==e.operation.core_waybills.length,positive:0!=e.operation.core_waybills.length&&e.operation.core_waybills.length==e.$parent.done_core_waybills(e.operation).length}},[e._v("\n        "+e._s(e.$parent.done_core_waybills(e.operation).length)+" / "+e._s(e.operation.core_waybills.length)+"\n    ")]),i("td",[e.operation.is_canceled?i("span",[i("span",[i("i",{staticClass:"stop icon"}),e._v("\n                "+e._s(e.$t("models.attributes.operations.is_canceled"))+"\n                ")])]):e.operation.is_done?i("span",[i("i",{staticClass:"check icon"}),e._v("\n            "+e._s(e.$t("models.attributes.operations.is_done"))+"\n            ")]):i("span",[i("i",{staticClass:"play icon"}),e._v("\n                "+e._s(e.$t("ui.pages.operations.processing"))+"\n                ")])]),i("td",[i("a",{attrs:{href:e.operation.original_file_url}},[e._v(e._s(e.operation.original_file_name))])]),i("td",{staticClass:"center aligned"},[i("router-link",{staticClass:"ui basic primary button",attrs:{to:{name:"edit_provider_operation",params:{identity:e.operation.identity}}}},[e._v("\n            "+e._s(e.$t("ui.general.detail"))+"\n        ")])],1)])},LN=[],TN={name:"ProviderOperationsIndexItem",props:{operation:Object},data:function(){return{}},computed:{},created:function(){},mounted:function(){},watch:{},methods:{},components:{}},BN=TN,MN=Object(Tt["a"])(BN,DN,LN,!1,null,null,null),UN=MN.exports;function FN(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function YN(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){FN(a,n,s,r,o,"next",e)}function o(e){FN(a,n,s,r,o,"throw",e)}r(void 0)})}}var GN={name:"OperationsIndex",data:function(){return{is_initialized:!1,is_loading:!1,errors:[]}},computed:{style:function(){return this.$store.state.style},current_store:function(){return this.$store.state.provider.operations_module},operations:function(){return this.current_store.operations},pagination:function(){return this.current_store.pagination}},created:function(){},mounted:function(){this.init()},watch:{$route:function(e,t){this.init(!1)}},methods:{init:function(){var e=YN(regeneratorRuntime.mark(function e(){var t,i=this,n=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=!(n.length>0&&void 0!==n[0])||n[0],e.prev=1,e.next=4,new Promise(function(e){i.is_initialized=!1,i.is_loading=!0,e()});case 4:return e.next=6,this.$store.dispatch("provider/operations_module/handle_query_to_filter",{query:this.$route.query});case 6:if(!t){e.next=9;break}return e.next=9,this.$store.dispatch("provider/operations_module/handle_quick_filter_key");case 9:return e.next=11,this.$store.dispatch("provider/operations_module/fetch_operations");case 11:e.next=18;break;case 13:e.prev=13,e.t0=e["catch"](1),console.log("init error: "),console.log(e.t0),this.$noty.error(this.$t("ui.notifications.error.fetch__name",{name:this.$t("models.operations"),reason:e.t0}));case 18:return e.prev=18,this.is_initialized=!0,this.is_loading=!1,e.finish(18);case 22:case"end":return e.stop()}},e,this,[[1,13,18,22]])}));function t(){return e.apply(this,arguments)}return t}(),operations_filter:function(){console.log("operations_filter");try{this.$router.push({name:this.$router.name,query:this.$store.getters["provider/operations_module/filter_to_query"]})}catch(e){console.log(e)}},data_card_sub_title:function(e){return this.done_core_waybills(e).length+" / "+e.core_waybills.length+" "+this.status(e)},data_card_color:function(e){return 0==e.core_waybills.length?"red":0!=e.core_waybills.length&&e.core_waybills.length==this.done_core_waybills(e).length?"green":void 0},done_core_waybills:function(e){return _.filter(e.core_waybills,function(e){return 1==e.is_done})},status:function(e){return e.is_canceled?this.$t("models.attributes.operations.is_canceled"):e.is_done?this.$t("models.attributes.operations.is_canceled"):this.$t("ui.pages.operations.processing")}},components:{Operation:UN,Paginator:Ma,ErrorMessages:B_,Filters:IN,DataCard:W_}},HN=GN,KN=(n("158bf"),Object(Tt["a"])(HN,uN,dN,!1,null,"4480a9bd",null)),WN=KN.exports,VN=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"show"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"user icon"}),e._v("\n            "+e._s(e.$t("ui.pages.operations.content"))+"\n        ")])]),i("div",{staticClass:"ui horizontal segments"},[i("div",{staticClass:"ui segment"},[i("div",{staticClass:"ui divided items"},[i("div",{staticClass:"item"},[i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v(e._s(e.$t("models.attributes.operations.number")))]),i("div",{staticClass:"description"},[e._v("\n                            "+e._s(e.operation.number)+"\n                        ")])])]),i("div",{staticClass:"item"},[i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v(e._s(e.$t("models.attributes.operations.created_at")))]),i("div",{staticClass:"description"},[e._v("\n                            "+e._s(e.human_datetime(e.operation.created_at))+"\n                        ")])])]),i("div",{staticClass:"item"},[i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v(e._s(e.$t("models.attributes.operations.status")))]),i("div",{staticClass:"description"},[e.operation.is_done?i("span",[e._v("\n                                "+e._s(e.$t("models.attributes.operations.is_done_true"))+"\n                            ")]):i("span",[e._v("\n                                "+e._s(e.$t("models.attributes.operations.is_done_false"))+"\n                            ")])])])])])]),i("div",{staticClass:"ui segment"},[i("div",{staticClass:"ui divided items"},[i("div",{staticClass:"item"},[i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v(e._s(e.$t("models.attributes.operations.number")))]),i("div",{staticClass:"description"},[e._v("\n                            "+e._s(e.operation.number)+"\n                        ")])])]),i("div",{staticClass:"item"},[i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v(e._s(e.$t("models.attributes.operations.created_at")))]),i("div",{staticClass:"description"},[e._v("\n                            "+e._s(e.human_datetime(e.operation.created_at))+"\n                        ")])])]),i("div",{staticClass:"item"},[i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v(e._s(e.$t("models.attributes.operations.status")))]),i("div",{staticClass:"description"},[e.operation.is_done?i("span",[e._v("\n                                "+e._s(e.$t("models.attributes.operations.is_done_true"))+"\n                            ")]):i("span",[e._v("\n                                "+e._s(e.$t("models.attributes.operations.is_done_false"))+"\n                            ")])])])])])])]),e.is_initialized?i("div",[e.is_loading?i("div",{staticClass:"ui active centered inline loader"}):e.operation.identity?i("table",{staticClass:"ui fixed table blue"},[i("thead",[i("tr",[i("th",{class:e.style.width<767?"":"right aligned",staticStyle:{"text-overflow":"initial"}},[e._v("\n                        "+e._s(e.operation.number)+"\n                    ")]),i("th",{attrs:{colspan:"4"}}),i("th",[e._v("\n                        "+e._s(e.human_datetime(e.operation.created_at))+"\n                    ")])])]),i("tbody",[i("tr",[i("td",{class:e.style.width<767?"":"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.operations.status"))+"\n                    ")]),i("td",{attrs:{colspan:"5"}},[i("div",{staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.operation.is_done,expression:"operation.is_done"}],attrs:{type:"checkbox",id:"is_done"},domProps:{checked:Array.isArray(e.operation.is_done)?e._i(e.operation.is_done,null)>-1:e.operation.is_done},on:{change:function(t){var i=e.operation.is_done,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=e._i(i,a);n.checked?r<0&&e.$set(e.operation,"is_done",i.concat([a])):r>-1&&e.$set(e.operation,"is_done",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.operation,"is_done",s)}}}),i("label",{staticClass:"pointer",attrs:{for:"is_done"}},[e.operation.is_done?i("span",[e._v("\n                                    "+e._s(e.$t("models.attributes.operations.is_done_true"))+"\n                                ")]):i("span",[e._v("\n                                    "+e._s(e.$t("models.attributes.operations.is_done_false"))+"\n                                ")])])])])]),e.operation.is_canceled?i("tr",[i("td",{class:e.style.width<767?"":"right aligned"},[e._v("\n                        取消原因\n                    ")]),i("td",{staticClass:"ui form",attrs:{colspan:"5"}},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.operation.cancel_reason,expression:"operation.cancel_reason"}],domProps:{value:e.operation.cancel_reason},on:{input:function(t){t.target.composing||e.$set(e.operation,"cancel_reason",t.target.value)}}})])]):e._e(),i("tr",[i("td",{class:e.style.width<767?"":"right aligned"},[e._v("\n                        "+e._s(e.$t("ui.pages.operations.schedule"))+"\n                    ")]),i("td",{attrs:{colspan:"5"}},[i("div",{directives:[{name:"progress",rawName:"v-progress"}],staticClass:"ui indicating progress",attrs:{"data-value":e.done_core_waybills.length,"data-total":e.operation.core_waybills.length}},[e._m(0),i("div",{staticClass:"label"},[e._v(e._s(e.done_core_waybills.length)+" / "+e._s(e.operation.core_waybills.length))])])])]),i("tr",[i("td",{class:e.style.width<767?"":"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.operations.station"))+"\n                    ")]),i("td",{staticClass:"ui form",staticStyle:{overflow:"visible"},attrs:{colspan:"5"}},[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.operation.station_identity,expression:"operation.station_identity"}],ref:"station_identity",staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.operation,"station_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.$store.state.provider.stations,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2),i("button",{staticClass:"ui basic icon button",on:{click:function(t){e.operation.station_identity=null,e.$(e.$refs.station_identity).dropdown("clear")}}},[i("i",{staticClass:"remove icon"})])])]),i("tr",[i("td",{class:e.style.width<767?"":"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.operations.staffs"))+"\n                    ")]),i("td",{staticClass:"ui form",staticStyle:{overflow:"visible"},attrs:{colspan:"5"}},[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.operation.staff_identities,expression:"operation.staff_identities"}],ref:"staff_identities",staticClass:"ui dropdown",attrs:{multiple:""},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.operation,"staff_identities",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.$store.state.provider.operations_module.staffs,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2),i("button",{staticClass:"ui basic icon button",staticStyle:{"vertical-align":"bottom"},on:{click:function(t){e.operation.staff_identities=null,e.$(e.$refs.staff_identities).dropdown("clear")}}},[i("i",{staticClass:"remove icon"})])])]),i("tr",[i("td",{class:e.style.width<767?"":"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.operations.your_note"))+"\n                    ")]),i("td",{staticClass:"ui form",attrs:{colspan:"5"}},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.operation.provider_note,expression:"operation.provider_note"}],domProps:{value:e.operation.provider_note},on:{input:function(t){t.target.composing||e.$set(e.operation,"provider_note",t.target.value)}}})])]),i("tr",[i("td",{class:e.style.width<767?"":"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.operations.customer"))+"\n                    ")]),i("td",{staticClass:"ui form",staticStyle:{overflow:"visible"},attrs:{colspan:"5"}},[i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],ref:"customer_identity",staticClass:"ui selection dropdown"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.operation.customer_identity,expression:"operation.customer_identity"}],attrs:{type:"hidden"},domProps:{value:e.operation.customer_identity},on:{input:function(t){t.target.composing||e.$set(e.operation,"customer_identity",t.target.value)}}}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"default text"},[e._v("\n                                "+e._s(e.$t("ui.general.please_select"))+"\n                            ")]),i("div",{staticClass:"menu"},e._l(e.customers,function(t){return i("div",{staticClass:"item",attrs:{"data-value":t.identity},on:{click:function(i){e.selected_customer=t,e.operation.customer_identity=t.identity,e.operation.contract_identity=t.contracts[0].identity}}},[e._v("\n                                        "+e._s(t.company_name)+"\n                                ")])}))]),e.selected_customer?i("div",{staticStyle:{display:"inline-block"}},[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.operation.contract_identity,expression:"operation.contract_identity"}],on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.operation,"contract_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v("\n                                    "+e._s(e.$t("ui.general.please_select"))+"\n                                    "),e._v("\n                                    "+e._s(e.$t("ui.pages.operations.contract"))+"\n                                ")]),e._l(e.selected_customer.contracts,function(t){return i("option",{attrs:{contract:t},domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2)]):e._e(),i("button",{staticClass:"ui basic icon button",on:{click:function(t){e.selected_customer=null,e.operation.customer_identity=null,e.operation.contract_identity=null,e.$(e.$refs.customer_identity).dropdown("clear")}}},[i("i",{staticClass:"remove icon"})])])]),i("tr",[i("td",{class:e.style.width<767?"":"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.operations.customer_note"))+"\n                    ")]),i("td",{attrs:{colspan:"5"}},[e._v("\n                        "+e._s(e.operation.customer_note||"-")+"\n                    ")])]),i("tr",[i("td",{class:e.style.width<767?"":"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.operations.file"))+"\n                    ")]),i("td",{attrs:{colspan:"5"}},[i("a",{attrs:{href:e.operation.original_file_url}},[e._v(e._s(e.operation.original_file_name))])])]),i("tr",[i("td",{class:e.style.width<767?"":"right aligned"},[e._v("\n                        "+e._s(e.$t("ui.pages.operations.print_coew_waybill_labels"))+"\n                    ")]),i("td",{staticStyle:{overflow:"visible"},attrs:{colspan:"5"}},[i("CoreWaybillsLabelSvg",{attrs:{numbers:e.dot_separated_numbers,authentication_token:e.token,scope:"provider",printing_type:e.printing_type_grouped_core_waybills,channel:e.print_label_channel,is_show_input:!1}})],1)]),i("tr",[i("td",{class:e.style.width<767?"":"right aligned"},[e._v("\n                        "+e._s(e.$t("ui.pages.operations.print_coew_waybill_checklist"))+"\n                    ")]),i("td",{attrs:{colspan:"5"}},[i("OrderSummary",{attrs:{channel_name:"my_order_summaray",default_search_params:{pagination:!1,operation:{identity:e.operation.identity}},title:e.$t("ui.pages.operations._name_operation_list",{name:e.$store.state.provider.node.company_short_name}),sub_title:e.$store.state.provider.node.website_url,customer_service_hotline:e.$store.state.provider.node.customer_service_hotline,logistician:{name:"9999999 配送人員"},logo_url:"/images/"+e.$store.state.provider.node.company_en_name.replace(/(?:^|\.|\s?)([A-Z])/g,function(e,t){return"_"+t.toLowerCase()}).replace(/^_/,"")+"_logo.jpg",show_buttons:!0,show_contents:!1,scope:"provider"}})],1)]),e.show_receipts?i("tr",[i("td",{class:e.style.width<767?"":"right aligned"},[e._v("\n                        "+e._s(e.$t("ui.pages.operations.print_receipt"))+"\n                    ")]),i("td",{attrs:{colspan:"5"}},[i("Receipts",{staticStyle:{display:"inline-block"},attrs:{show_buttons:!0,default_search_params:{operation_identity:e.operation.identity,pagination:!1,materials:"Waybill"},logo_url:"/images/"+e.node.company_en_name.replace(/(?:^|\.|\s?)([A-Z])/g,function(e,t){return"_"+t.toLowerCase()}).replace(/^_/,"")+"_logo.jpg",title:e.$t("ui.pages.operations._name_customer_receipt",{name:e.node.company_short_name}),sub_title:e.node.website_url,customer_service_hotline:e.node.customer_service_hotline,logistician:e.current_staff,location:""}})],1)]):e._e(),i("tr",[i("td",{class:e.style.width<767?"":"right aligned"},[e._v("\n                        "+e._s(e.$t("ui.general.operate"))+"\n                    ")]),i("td",{attrs:{colspan:"5"}},[i("button",{staticClass:"ui basic positive button",on:{click:function(t){t.preventDefault(),e.update_operation()}}},[e._v("\n                            "+e._s(e.$t("ui.general.update"))+"\n                        ")]),i("button",{staticClass:"ui basic negative button",on:{click:function(t){t.preventDefault(),e.delete_operation()}}},[e._v("\n                            "+e._s(e.$t("ui.general.delete"))+"\n                        ")]),e.operation.is_done?e._e():i("button",{staticClass:"ui basic orange button",on:{click:function(t){t.preventDefault(),e.done_operation()}}},[e._v("\n                            完成訂單\n                        ")])])]),i("tr",[i("td",{staticClass:"x_scrollable",attrs:{colspan:"6"}},[i("CoreWaybills",{attrs:{default_search_params:{operation_identity:e.operation.identity,include_is_deleted:!0},scope:"provider",show_delete_button:!0,show_update_button:!0,show_export_csv_button:!0,csv_file_name:e.operation.number,columns:e.core_waybill_columns,updater_columns:e.updater_columns}})],1)])])]):e._e(),e.operation.identity?i("div",{staticClass:"ui segment"},[i("Comments",{attrs:{commentable_type:"Operation",commentable_identity:e.operation.identity,scope:"provider"}})],1):e._e()]):i("div",{staticClass:"ui active inverted dimmer"},[i("div",{staticClass:"ui text loader"},[e._v(e._s(e.$t("ui.general.initializing")))])])],1)},XN=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"bar"},[i("div",{staticClass:"progress"})])}],QN=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"core_waybills"},[i("table",{staticClass:"ui compact celled selectable table"},[i("thead",{staticClass:"center aligned"},[i("tr",{staticClass:"center aligned"},[e.show_update_button?i("th",[e._v("\n                    "+e._s(e.$t("ui.toolbox.core_waybills.quick_update"))+"\n                ")]):e._e(),e._l(e.columns,function(t){return i("th",[e._v(e._s(t.human_name))])}),i("th",[i("div",{staticClass:"ui basic icon button",on:{click:function(t){e.show_filter=!e.show_filter}}},[e.show_filter?i("i",{staticClass:"angle double up icon"}):i("i",{staticClass:"angle double down icon"})])])],2),i("tr",{directives:[{name:"show",rawName:"v-show",value:e.show_filter,expression:"show_filter"}],staticClass:"center aligned"},[e.show_update_button?i("th",[i("button",{staticClass:"ui basic positive icon button",on:{click:e.add_all_to_quick_update}},[i("i",{staticClass:"plus icon"})])]):e._e(),e._l(e.columns,function(t){return i("th",{staticStyle:{overflow:"visible"}},[t.input_type?i("div",{staticClass:"ui mini input"},["text"==t.input_type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params[t.name],expression:"search_params[column.name]"}],attrs:{type:"text"},domProps:{value:e.search_params[t.name]},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_core_waybills(t):null},input:function(i){i.target.composing||e.$set(e.search_params,t.name,i.target.value)}}}):e._e(),"number"==t.input_type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params[t.name],expression:"search_params[column.name]"}],attrs:{type:"number"},domProps:{value:e.search_params[t.name]},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_core_waybills(t):null},input:function(i){i.target.composing||e.$set(e.search_params,t.name,i.target.value)}}}):e._e(),"materials"==t.input_type?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.search_params.material.class_names,expression:"search_params.material.class_names"}],on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.search_params.material,"class_names",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.materials,function(t){return i("option",{domProps:{value:t.class_name}},[e._v(e._s(t.name))])})],2):e._e(),"checkbox"==t.input_type?i("div",{staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params[t.name],expression:"search_params[column.name]"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.search_params[t.name])?e._i(e.search_params[t.name],null)>-1:e.search_params[t.name]},on:{change:function(i){var n=e.search_params[t.name],s=i.target,a=!!s.checked;if(Array.isArray(n)){var r=null,o=e._i(n,r);s.checked?o<0&&e.$set(e.search_params,t.name,n.concat([r])):o>-1&&e.$set(e.search_params,t.name,n.slice(0,o).concat(n.slice(o+1)))}else e.$set(e.search_params,t.name,a)}}}),i("label")]):e._e()]):e._e()])}),i("th",[i("div",{staticClass:"ui icon mini buttons"},[i("div",{staticClass:"ui black basic button",attrs:{title:"搜尋"},on:{click:function(t){return t.preventDefault(),e.fetch_core_waybills(t)}}},[i("i",{staticClass:"search icon"})]),i("div",{staticClass:"ui black basic button",attrs:{title:"清除搜尋條件"},on:{click:function(t){return t.preventDefault(),e.init_search_params(t)}}},[i("i",{staticClass:"refresh icon"})]),e.show_export_csv_button?i("div",{staticClass:"ui black basic button",attrs:{title:"匯出csv"},on:{click:function(t){t.preventDefault(),e.fetch_core_waybills("csv")}}},[i("i",{staticClass:"file alternate icon"})]):e._e()])])],2)]),e.show_core_waybills?i("tbody",[e._l(e.core_waybills,function(t){return i("CoreWaybill",{key:t.identity,attrs:{core_waybill:t,columns:e.columns,scope:e.scope,show_delete_button:e.show_delete_button,show_update_button:e.show_update_button}})}),e.core_waybills.length<=0?i("tr",{staticClass:"center aligned"},[i("td",{attrs:{colspan:"8"}},[i("h5",[e._v(e._s(e.$t("ui.general.no_data")))])])]):e._e()],2):i("tbody",[e._m(0)])]),e.core_waybills.length>0?i("Paginator",{attrs:{total_pages:e.pagination.total_pages,current_page:e.pagination.current_page,change_page_channel:"core_waybills_pagination"}}):e._e(),i("Updater",{attrs:{core_waybills:e.quick_update_core_waybills,updater_columns:e.updater_columns}})],1)},ZN=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"loading"},[i("td",{attrs:{colspan:"8"}},[i("div",{staticClass:"ui active centered inline loader"})])])}],JN=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"core_waybill center aligned",class:{negative:e.core_waybill.is_deleted}},[e.show_update_button?i("td",[e.core_waybill.is_deleted?e._e():i("button",{staticClass:"ui basic positive icon button",on:{click:e.add_to_quick_update}},[i("i",{staticClass:"plus icon"})])]):e._e(),e._l(e.columns,function(t){return i("td",["text"==t.display_type?i("span",[e._v(e._s(e.core_waybill[t.name]||"-"))]):e._e(),"status"==t.display_type?i("span",[i("div",{staticClass:"ui list"},[i("div",{staticClass:"item"},[e._v(e._s(e.human_status(e.core_waybill.latest_status)||e.$t("ui.toolbox.core_waybills.no_station")))]),e._l(e.core_waybill.parent_core_waybills,function(t){return i("div",{staticClass:"item"},[e._v("\n                    "+e._s(e.$t("ui.toolbox.core_waybills.packed_in"))+"\n                    "),i("router-link",{attrs:{to:e.router_link_params(e.core_waybill)}},[e._v("\n                        "+e._s(t.number)+"\n                    ")]),e._v("\n                    : "+e._s(e.human_status(t.latest_status)||e.$t("ui.toolbox.core_waybills.no_station"))+"\n                ")],1)})],2)]):e._e(),"material"==t.display_type?i("span",[e._v(e._s(e.material(t)||"-"))]):e._e(),"boolean"==t.display_type?i("span",[1==e.core_waybill[t.name]?i("i",{staticClass:"check icon"}):e._e(),0==e.core_waybill[t.name]?i("i",{staticClass:"remove icon"}):e._e()]):e._e()])}),e.is_loading?i("td",[i("div",{staticClass:"ui active centered inline loader"})]):i("td",[e.core_waybill.is_deleted?i("span",[e._v("\n            "+e._s(e.$t("ui.toolbox.core_waybills.deleted"))+"\n        ")]):e._e(),i("div",{staticClass:"ui vertical buttons"},[e.core_waybill.is_deleted?e._e():i("router-link",{staticClass:"ui basic primary button",attrs:{to:e.router_link_params(e.core_waybill)}},[e._v("\n                "+e._s(e.$t("ui.general.detail"))+"\n            ")]),e.show_delete_button&&0==e.core_waybill.is_deleted?i("button",{staticClass:"ui basic negative button",on:{click:function(t){t.preventDefault(),e.delete_core_waybill()}}},[e._v("\n                "+e._s(e.$t("ui.general.delete"))+"\n            ")]):e._e()],1)])],2)},eq=[],tq={props:{columns:Array,theme:{type:String,default:"default"},core_waybill:{type:Object,default:function(){return{}}},scope:String,show_delete_button:Boolean,show_update_button:Boolean},data:function(){return{is_loading:!1}},mounted:function(){},computed:{},methods:{human_status:function(t){try{return t.name}catch(e){return null}},material:function(t){try{return this.core_waybill.material.name}catch(e){return null}},router_link_params:function(e){switch(this.scope){case"provider":return{name:"edit_core_waybill",params:{identity:e.identity}};case"customer":return{name:"customer_show_core_waybill",params:{identity:e.identity}}}},delete_core_waybill:function(){var e=this;if(confirm(this.$t("ui.notifications.warning.are_you_sure_to_delete_it")+"\n"+this.$t("ui.general.delete")+" "+this.core_waybill.number+"？")){this.is_loading=!0;var t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_core_waybill_delete).parse({core_waybill_identity:this.core_waybill.identity},""),i=localStorage.getItem("authentication_token");axios.get(t,{headers:{Authorization:i}}).then(function(t){"success"==t.data.status?(e.core_waybill.is_deleted=!0,e.$noty.success(e.$t("ui.notifications.success.delete__name",{name:e.core_waybill.number}))):(console.log(t.data),e.$noty.error(e.$t("ui.notifications.error.delete__name",{name:e.core_waybill.number})))})["catch"](function(t){console.log(t.response),e.$noty.error(e.$t("ui.notifications.error.delete__name",{name:e.core_waybill.number}))})["finally"](function(){e.is_loading=!1})}},add_to_quick_update:function(){var e=this;_.find(this.$parent.quick_update_core_waybills,function(t){return t.identity==e.core_waybill.identity})||(this.$parent.quick_update_core_waybills.push(_.cloneDeep(this.core_waybill)),this.$noty.success(this.core_waybill.number+" "+this.$t("ui.toolbox.core_waybills.add_table")))}},components:{}},iq=tq,nq=Object(Tt["a"])(iq,JN,eq,!1,null,"29d8b0bb",null),sq=nq.exports,aq=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("table",{directives:[{name:"show",rawName:"v-show",value:e.core_waybills.length>0,expression:"core_waybills.length > 0"}],staticClass:"ui celled compact selectable table"},[i("thead",{staticClass:"center aligned"},[i("tr",{staticClass:"ui form"},[i("th",{attrs:{colspan:e._.filter(e.updater_columns,function(e){return e.toggle}).length+3}},[i("h3",{staticClass:"ui header"},[e._v("\n                    "+e._s(e.$t("ui.toolbox.core_waybills.quick_update_table"))+"\n                ")]),i("div",{staticClass:"inline fields"},e._l(e.updater_columns,function(t){return i("div",{staticClass:"inline field"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.toggle,expression:"column.toggle"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0",id:"quick_"+t.header_text},domProps:{checked:Array.isArray(t.toggle)?e._i(t.toggle,null)>-1:t.toggle},on:{change:function(i){var n=t.toggle,s=i.target,a=!!s.checked;if(Array.isArray(n)){var r=null,o=e._i(n,r);s.checked?o<0&&e.$set(t,"toggle",n.concat([r])):o>-1&&e.$set(t,"toggle",n.slice(0,o).concat(n.slice(o+1)))}else e.$set(t,"toggle",a)}}}),i("label",{attrs:{for:"quick_"+t.header_text}},[e._v(e._s(t.header_text))])])}))])]),i("tr",[i("th",[e._v("\n                "+e._s(e.$t("models.materials"))+"\n            ")]),i("th",[e._v("\n                "+e._s(e.$t("models.attributes.core_waybills.number"))+"\n            ")]),e._l(e._.filter(e.updater_columns,function(e){return e.toggle}),function(t){return i("th",[e._v("\n                "+e._s(t.header_text)+"\n            ")])}),i("th",[e.is_loading?e._e():i("button",{staticClass:"ui basic negative icon button",on:{click:e.remove_all_core_waybills}},[i("i",{staticClass:"remove icon"})])])],2)]),i("tbody",{staticClass:"center aligned ui form"},[i("tr",{staticClass:"warning"},[i("td",{attrs:{colspan:"2"}},[i("h3",{staticClass:"ui header"},[e._v("\n                    "+e._s(e.$t("ui.toolbox.core_waybills.batch_edit"))+"\n                ")])]),e._l(e._.filter(e.updater_columns,function(e){return e.toggle}),function(t){return i("td",[e.is_loading?i("span",[e._v(e._s(e.batch_update_core_waybill[t.attribute_name]))]):"checkbox"===t.type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.batch_update_core_waybill[t.attribute_name],expression:"batch_update_core_waybill[column.attribute_name]"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.batch_update_core_waybill[t.attribute_name])?e._i(e.batch_update_core_waybill[t.attribute_name],null)>-1:e.batch_update_core_waybill[t.attribute_name]},on:{change:function(i){var n=e.batch_update_core_waybill[t.attribute_name],s=i.target,a=!!s.checked;if(Array.isArray(n)){var r=null,o=e._i(n,r);s.checked?o<0&&e.$set(e.batch_update_core_waybill,t.attribute_name,n.concat([r])):o>-1&&e.$set(e.batch_update_core_waybill,t.attribute_name,n.slice(0,o).concat(n.slice(o+1)))}else e.$set(e.batch_update_core_waybill,t.attribute_name,a)}}}):"radio"===t.type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.batch_update_core_waybill[t.attribute_name],expression:"batch_update_core_waybill[column.attribute_name]"}],attrs:{type:"radio"},domProps:{checked:e._q(e.batch_update_core_waybill[t.attribute_name],null)},on:{change:function(i){e.$set(e.batch_update_core_waybill,t.attribute_name,null)}}}):i("input",{directives:[{name:"model",rawName:"v-model",value:e.batch_update_core_waybill[t.attribute_name],expression:"batch_update_core_waybill[column.attribute_name]"}],attrs:{type:t.type},domProps:{value:e.batch_update_core_waybill[t.attribute_name]},on:{input:function(i){i.target.composing||e.$set(e.batch_update_core_waybill,t.attribute_name,i.target.value)}}})])}),i("td")],2),e._l(e.core_waybills,function(t){return i("tr",[i("td",[e._v(e._s(t.material.name))]),i("td",[e._v(e._s(t.number))]),e._l(e._.filter(e.updater_columns,function(e){return e.toggle}),function(n){return i("td",[e.is_loading?i("span",[e._v(e._s(t[n.attribute_name]))]):"checkbox"===n.type?i("input",{directives:[{name:"model",rawName:"v-model",value:t[n.attribute_name],expression:"cw[column.attribute_name]"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t[n.attribute_name])?e._i(t[n.attribute_name],null)>-1:t[n.attribute_name]},on:{change:function(i){var s=t[n.attribute_name],a=i.target,r=!!a.checked;if(Array.isArray(s)){var o=null,c=e._i(s,o);a.checked?c<0&&e.$set(t,n.attribute_name,s.concat([o])):c>-1&&e.$set(t,n.attribute_name,s.slice(0,c).concat(s.slice(c+1)))}else e.$set(t,n.attribute_name,r)}}}):"radio"===n.type?i("input",{directives:[{name:"model",rawName:"v-model",value:t[n.attribute_name],expression:"cw[column.attribute_name]"}],attrs:{type:"radio"},domProps:{checked:e._q(t[n.attribute_name],null)},on:{change:function(i){e.$set(t,n.attribute_name,null)}}}):i("input",{directives:[{name:"model",rawName:"v-model",value:t[n.attribute_name],expression:"cw[column.attribute_name]"}],attrs:{type:n.type},domProps:{value:t[n.attribute_name]},on:{input:function(i){i.target.composing||e.$set(t,n.attribute_name,i.target.value)}}})])}),i("td",[e.is_loading?e._e():i("button",{staticClass:"ui basic negative icon button",on:{click:function(i){e.remove_core_waybill(t.identity)}}},[i("i",{staticClass:"remove icon"})])])],2)})],2),i("tfoot",{staticClass:"center aligned"},[e.is_loading?i("tr",[i("th",{attrs:{colspan:e._.filter(e.updater_columns,function(e){return e.toggle}).length+3}},[i("div",{staticClass:"ui active centered inline loader"})])]):i("tr",[i("th",{attrs:{colspan:e._.filter(e.updater_columns,function(e){return e.toggle}).length+3}},[i("button",{staticClass:"ui basic positive button",on:{click:e.update_all}},[e._v("\n                    "+e._s(e.$t("ui.general.update"))+"\n                ")]),i("button",{staticClass:"ui basic negative button",on:{click:e.remove_all_core_waybills}},[e._v("\n                    "+e._s(e.$t("ui.general.cancel"))+"\n                ")])])])])])},rq=[];function oq(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function cq(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){oq(a,n,s,r,o,"next",e)}function o(e){oq(a,n,s,r,o,"throw",e)}r(void 0)})}}var _q={props:{core_waybills:Array,updater_columns:Array},data:function(){return{is_loading:!1,batch_update_core_waybill:{}}},mounted:function(){},computed:{},watch:{batch_update_core_waybill:{handler:function(e,t){var i=!0,n=!1,s=void 0;try{for(var a,r=this.core_waybills[Symbol.iterator]();!(i=(a=r.next()).done);i=!0){var o=a.value,c=!0,l=!1,u=void 0;try{for(var d,p=_.filter(this.updater_columns,function(e){return e.toggle})[Symbol.iterator]();!(c=(d=p.next()).done);c=!0){var m=d.value;e[m.attribute_name]&&(o[m.attribute_name]=e[m.attribute_name])}}catch(f){l=!0,u=f}finally{try{c||null==p["return"]||p["return"]()}finally{if(l)throw u}}}}catch(f){n=!0,s=f}finally{try{i||null==r["return"]||r["return"]()}finally{if(n)throw s}}},deep:!0},core_waybills:{handler:function(e,t){0==e.length&&(this.batch_update_core_waybill={})}}},methods:{update_all:function(){var e=cq(regeneratorRuntime.mark(function e(){var t,i,n,s,a,r,o,c,l,u,d,p,m,f,h,v=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t={},e.next=3,new Promise(function(e){v.is_loading=!0,e()});case 3:i=!0,n=!1,s=void 0,e.prev=6,a=regeneratorRuntime.mark(function e(){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i=o.value,e.next=3,new Promise(function(e){var n=_.filter(v.updater_columns,function(e){return e.toggle});t[i.identity]={},_.map(n,function(e){t[i.identity][e.attribute_name]=i[e.attribute_name]}),e()});case 3:case"end":return e.stop()}},e)}),r=this.core_waybills[Symbol.iterator]();case 9:if(i=(o=r.next()).done){e.next=14;break}return e.delegateYield(a(),"t0",11);case 11:i=!0,e.next=9;break;case 14:e.next=20;break;case 16:e.prev=16,e.t1=e["catch"](6),n=!0,s=e.t1;case 20:e.prev=20,e.prev=21,i||null==r["return"]||r["return"]();case 23:if(e.prev=23,!n){e.next=26;break}throw s;case 26:return e.finish(23);case 27:return e.finish(20);case 28:c=!0,l=!1,u=void 0,e.prev=31,d=regeneratorRuntime.mark(function e(){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i=m.value,f=new RestUrl(v.$store.state.provider.routes.api_v1_provider_core_waybill_update).parse({core_waybill_identity:i.identity},""),h=localStorage.getItem("authentication_token"),e.next=5,axios.post(f,t[i.identity],{headers:{Authorization:h}}).then(function(e){return"success"==e.data.status?(v.remove_core_waybill(i.identity),Promise.resolve()):Promise.reject(e.data)})["catch"](function(e){console.log(e.response),v.$noty.error(v.$t("ui.notifications.error.update__name",{name:i.number}))})["finally"](function(){});case 5:case"end":return e.stop()}},e)}),p=this.core_waybills[Symbol.iterator]();case 34:if(c=(m=p.next()).done){e.next=39;break}return e.delegateYield(d(),"t2",36);case 36:c=!0,e.next=34;break;case 39:e.next=45;break;case 41:e.prev=41,e.t3=e["catch"](31),l=!0,u=e.t3;case 45:e.prev=45,e.prev=46,c||null==p["return"]||p["return"]();case 48:if(e.prev=48,!l){e.next=51;break}throw u;case 51:return e.finish(48);case 52:return e.finish(45);case 53:return e.next=55,new Promise(function(e){v.is_loading=!1,v.$parent.fetch_core_waybills(),e()});case 55:case"end":return e.stop()}},e,this,[[6,16,20,28],[21,,23,27],[31,41,45,53],[46,,48,52]])}));function t(){return e.apply(this,arguments)}return t}(),remove_core_waybill:function(e){this.$parent.quick_update_core_waybills=_.filter(this.$parent.quick_update_core_waybills,function(t){return t.identity!=e})},remove_all_core_waybills:function(){var e=!0,t=!1,i=void 0;try{for(var n,s=this.core_waybills[Symbol.iterator]();!(e=(n=s.next()).done);e=!0){var a=n.value;this.remove_core_waybill(a.identity)}}catch(r){t=!0,i=r}finally{try{e||null==s["return"]||s["return"]()}finally{if(t)throw i}}}},components:{}},lq=_q,uq=Object(Tt["a"])(lq,aq,rq,!1,null,"d8187936",null),dq=uq.exports;function pq(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function mq(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){pq(a,n,s,r,o,"next",e)}function o(e){pq(a,n,s,r,o,"throw",e)}r(void 0)})}}var fq={name:"ToolCoreWaybillsMain",props:{columns:{type:Array,default:function(){return[{input_type:"materials",display_type:"material",name:"materials",human_name:"類型"},{input_type:"text",display_type:"text",name:"number",human_name:"單號"},{input_type:"text",display_type:"text",name:"consignee_phone",human_name:"收件人電話"},{input_type:"number",display_type:"text",name:"weight_in_kilo",human_name:"重量"},{input_type:"number",display_type:"text",name:"collection",human_name:"代收貨款"},{input_type:null,display_type:"status",name:"latest_status",human_name:"貨況"},{input_type:"checkbox",display_type:"boolean",name:"is_done",human_name:"完成",default_value:!1}]}},updater_columns:{type:Array,default:function(){return[{toggle:!1,header_text:"原單號",attribute_name:"original_number",type:"text"},{toggle:!1,header_text:"追蹤號碼(聯運單號)",attribute_name:"tracking_number",type:"text"},{toggle:!1,header_text:"寄件人姓名",attribute_name:"sender_name",type:"text"},{toggle:!1,header_text:"寄件人地址",attribute_name:"sender_address",type:"text"},{toggle:!1,header_text:"寄件人電話",attribute_name:"sender_phone",type:"text"},{toggle:!1,header_text:"收件人姓名",attribute_name:"consignee_name",type:"text"},{toggle:!1,header_text:"收件人地址",attribute_name:"consignee_address",type:"text"},{toggle:!1,header_text:"收件人電話",attribute_name:"consignee_phone",type:"text"},{toggle:!1,header_text:"重量",attribute_name:"weight_in_kilo",type:"number"},{toggle:!1,header_text:"代收貨款",attribute_name:"collection",type:"number"}]}},theme:{type:String,default:"default"},default_search_params:{type:Object,default:function(){return{}}},scope:String,show_delete_button:{type:Boolean,default:!1},show_update_button:{type:Boolean,default:!1},show_export_csv_button:{type:Boolean,default:!1},csv_file_name:{type:String,default:"data"}},data:function(){return{is_initialized:!1,is_processing:!1,show_filter:!0,show_core_waybills:!1,core_waybills:[],materials:[],search_params:{number:null,material:{class_names:null}},pagination:{total_pages:null,current_page:null},quick_update_core_waybills:[]}},computed:{},mounted:function(){this.init()},methods:{init:function(){var e=mq(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!1,e()});case 2:return e.next=4,this.init_search_params();case 4:return e.next=6,this.fetch_materials();case 6:return e.next=8,this.fetch_core_waybills();case 8:return e.next=10,new Promise(function(e){t.is_initialized=!0,e()});case 10:this.$bus.$off("core_waybills_pagination"),this.$bus.$on("core_waybills_pagination",function(e){t.pagination.current_page=e,t.fetch_core_waybills()});case 12:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_core_waybills:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"json",i=_.cloneDeep(this.search_params);switch(_.forEach(["number","flight_number","original_number","tracking_number","sender_name","consignee_name","consignee_address","consignee_phone","note"],function(e){i[e]&&(i[e]="%"+i[e]+"%")}),this.show_core_waybills=!1,this.scope){case"provider":if("csv"==t)var n=new RestUrl(this.$store.state.provider.routes.api_v1_provider_core_waybills+"."+t).parse({},"?"+object_to_query(this.default_search_params));else n=new RestUrl(this.$store.state.provider.routes.api_v1_provider_core_waybills_filter).parse({},"?"+object_to_query(this.default_search_params)+"&"+object_to_query(i)+"&"+object_to_query({page:this.pagination.current_page}));var s=localStorage.getItem("authentication_token");break;case"customer":n=new RestUrl(this.$store.state.customer.routes.api_v1_customer_core_waybills_filter).parse({},"?"+object_to_query(this.default_search_params)+"&"+object_to_query(i)+"&"+object_to_query({page:this.pagination.current_page})),s=localStorage.getItem("customer_authentication_token");break}return axios.get(n,{headers:{Authorization:s}}).then(function(i){if("success"==i.data.status)if("csv"==t){var n=document.createElement("a"),s=new Blob(["\ufeff",i.data.csv]),a=URL.createObjectURL(s);n.href=a,n.download=e.csv_file_name+".csv",document.body.appendChild(n),n.click(),document.body.removeChild(n)}else e.core_waybills=i.data.core_waybills,e.pagination=i.data.pagination;else"failure"==i.data.status&&e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.core_waybills"),reason:": "+i.data.errors}));return i})["catch"](function(t){return e.errors.push(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.core_waybills"),reason:": "+e.$t("ui.general.network_abnormality")+","+t.response.status})),Promise.reject(t)}).then(function(){e.show_core_waybills=!0})},init_search_params:function(){$(".core_waybills .ui.dropdown").dropdown("clear"),this.search_params={number:null,material:{class_names:null}};var e=!0,t=!1,i=void 0;try{for(var n,s=this.columns[Symbol.iterator]();!(e=(n=s.next()).done);e=!0){var a=n.value;null!=a.default_value&&(this.search_params[a.name]=a.default_value)}}catch(r){t=!0,i=r}finally{try{e||null==s["return"]||s["return"]()}finally{if(t)throw i}}},fetch_materials:function(){var e=this;switch(this.scope){case"provider":var t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_materials).parse({},""),i=localStorage.getItem("authentication_token");return axios.get(t,{headers:{Authorization:i}}).then(function(t){e.materials=t.data.materials})["catch"](function(t){return e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.materials"),reason:": "+t.response.status})),Promise.reject(t)});case"customer":i=localStorage.getItem("customer_authentication_token");return Promise.resolve()}},add_all_to_quick_update:function(){var e=!0,t=!1,i=void 0;try{for(var n,s=_.filter(this.$children,function(e){return"CoreWaybill"==e.$options._componentTag})[Symbol.iterator]();!(e=(n=s.next()).done);e=!0){var a=n.value;a.add_to_quick_update()}}catch(r){t=!0,i=r}finally{try{e||null==s["return"]||s["return"]()}finally{if(t)throw i}}},remove_all_core_waybills:function(){var e=!0,t=!1,i=void 0;try{for(var n,s=this.core_waybills[Symbol.iterator]();!(e=(n=s.next()).done);e=!0){var a=n.value;this.$parent.remove_core_waybill(a.identity)}}catch(r){t=!0,i=r}finally{try{e||null==s["return"]||s["return"]()}finally{if(t)throw i}}}},components:{CoreWaybill:sq,Paginator:Ma,Updater:dq}},hq=fq,vq=Object(Tt["a"])(hq,QN,ZN,!1,null,"8ba7fe0a",null),gq=vq.exports;function bq(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function yq(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){bq(a,n,s,r,o,"next",e)}function o(e){bq(a,n,s,r,o,"throw",e)}r(void 0)})}}var wq={name:"EditOperation",props:{},data:function(){return{is_initialized:!1,is_loading:!1,operation:{},selected_customer:null,errors:[],print_label_channel:"operation_print_label_channel",core_waybill_columns:[{input_type:"materials",display_type:"material",name:"materials",human_name:this.$t("models.materials")},{input_type:"text",display_type:"text",name:"number",human_name:this.$t("models.attributes.core_waybills.number")},{input_type:"text",display_type:"text",name:"original_number",human_name:this.$t("models.attributes.core_waybills.original_number")},{input_type:"text",display_type:"text",name:"tracking_number",human_name:this.$t("models.attributes.core_waybills.tracking_number")},{input_type:"text",display_type:"text",name:"sender_name",human_name:this.$t("models.attributes.core_waybills.sender_name")},{input_type:"text",display_type:"text",name:"consignee_name",human_name:this.$t("models.attributes.core_waybills.consignee_name")},{input_type:"text",display_type:"text",name:"consignee_phone",human_name:this.$t("models.attributes.core_waybills.consignee_phone")},{input_type:"number",display_type:"text",name:"weight_in_kilo",human_name:this.$t("models.attributes.core_waybills.weight_in_kilo")},{input_type:"number",display_type:"text",name:"collection",human_name:this.$t("models.attributes.core_waybills.collection")},{input_type:null,display_type:"status",name:"latest_status",human_name:this.$t("models.attributes.core_waybills.latest_status")},{input_type:"checkbox",display_type:"boolean",name:"is_done",human_name:this.$t("ui.pages.core_waybills.done"),default_value:!1}],updater_columns:[{toggle:!1,header_text:this.$t("models.attributes.core_waybills.original_number"),attribute_name:"original_number",type:"text"},{toggle:!1,header_text:this.$t("models.attributes.core_waybills.tracking_number"),attribute_name:"tracking_number",type:"text"},{toggle:!1,header_text:this.$t("models.attributes.core_waybills.sender_name"),attribute_name:"sender_name",type:"text"},{toggle:!1,header_text:this.$t("models.attributes.core_waybills.sender_address"),attribute_name:"sender_address",type:"text"},{toggle:!1,header_text:this.$t("models.attributes.core_waybills.sender_phone"),attribute_name:"sender_phone",type:"text"},{toggle:!1,header_text:this.$t("models.attributes.core_waybills.consignee_name"),attribute_name:"consignee_name",type:"text"},{toggle:!1,header_text:this.$t("models.attributes.core_waybills.consignee_address"),attribute_name:"consignee_address",type:"text"},{toggle:!1,header_text:this.$t("models.attributes.core_waybills.consignee_phone"),attribute_name:"consignee_phone",type:"text"},{toggle:!1,header_text:this.$t("models.attributes.core_waybills.weight_in_kilo"),attribute_name:"weight_in_kilo",type:"number"},{toggle:!1,header_text:this.$t("models.attributes.core_waybills.collection"),attribute_name:"collection",type:"number"}]}},watch:{$route:function(e,t){e!=t&&this.init()}},created:function(){this.init()},mounted:function(){},computed:{current_store:function(e){return e.$store.state.provider.operations_module},material_grouped_core_waybills:function(){return _.groupBy(this.operation.core_waybills,"material.class_name")},dot_separated_numbers:function(){return _.map(this.material_grouped_core_waybills.Waybill,"number").toString()+","+_.map(this.material_grouped_core_waybills.Goods,"number").toString()},printing_type_grouped_core_waybills:function(){var e=_.groupBy(this.operation.core_waybills,"label_type"),t=Object.keys(e);return"undefined"!=t[0]?t[0]:null},token:function(){return localStorage.getItem("authentication_token")},style:function(){return this.$store.state.style},customers:function(){return this.$store.state.provider.customers},node:function(){return this.$store.state.provider.node},current_staff:function(){return this.$store.state.provider.current_staff},done_core_waybills:function(){return _.filter(this.operation.core_waybills,function(e){return 1==e.is_done})},current_service_name:function(){return this.$store.state.provider.node.service_name},show_receipts:function(){return["neuron","neuron_premium"].includes(this.current_service_name)}},methods:{init:function(){var e=yq(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,this.fetch_operation();case 5:return e.next=7,new Promise(function(e){t.operation.customer_identity&&(t.selected_customer=_.find(t.customers,function(e){return e.identity==t.operation.customer_identity})),e()});case 7:return e.next=9,new Promise(function(e){t.is_initialized=!0,e()});case 9:e.next=14;break;case 11:switch(e.prev=11,e.t0=e["catch"](0),e.t0){default:console.log("init error: "),console.log(e.t0)}case 14:return e.prev=14,e.finish(14);case 16:case"end":return e.stop()}},e,this,[[0,11,14,16]])}));function t(){return e.apply(this,arguments)}return t}(),fetch_operation:function(){var e=this;this.is_loading=!0;var t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_operation).parse({operation_identity:this.$route.params.identity});return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"==t.data.status)e.operation=t.data.operation;else if("failure"==t.data.status)return Promise.reject(t.data)})["catch"](function(t){if(t.response){switch(t.response.status){default:e.errors.push(t.response.status+" "+t.response.statusText)}e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.operations"),reason:": "+t.response.status+" "+t.response.statusText}))}else t.errors?(e.errors.push(t.errors),e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.operations"),reason:": "+t.errors}))):(e.errors.push(e.$t("ui.general.server_offline")),e.$noty.error(e.$t("ui.general.server_offline")))})["finally"](function(){e.is_loading=!1})},done_operation:function(){var e=this;if(confirm("確定完成此訂單？")){this.is_loading=!0;var t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_operation_done).parse({operation_identity:this.$route.params.identity});axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$noty.success(e.$t("ui.notifications.success.update__name",{name:e.$t("models.operations")})),e.current_store.pagination.current_page?e.$router.push({name:"provider_operations",query:{page:e.current_store.pagination.current_page}}):e.$router.push({name:"provider_operations"})):(e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.operations"),reason:": "+t.data.errors})),e.errors=t.data.errors)})["catch"](function(t){console.log(t.response),t.response?e.$noty.error(e.$t("ui.general.network_abnormality")+": "+t.response.data.errors):e.$noty.error(e.$t("ui.general.network_abnormality")+": "+e.$t("ui.general.server_offline"))})["finally"](function(){e.is_loading=!1})}},update_operation:function(){var e=this;this.is_loading=!0;var t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_operation_update).parse({operation_identity:this.$route.params.identity}),i=this.operation;delete i["identity"],delete i["number"],delete i["created_at"],delete i["file_name"],delete i["file_url"],delete i["customer_note"],delete i["instantiate_note"],delete i["is_instantiated"],delete i["is_operable"],delete i["is_operated"],delete i["is_ready"],delete i["core_waybills"],delete i["customer_node"],delete i["station"],delete i["staffs"],delete i["operation_identity"],axios.post(t,i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.init(),e.$noty.success(e.$t("ui.notifications.success.create__name",{name:e.$t("models.operations")}))):(e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.operations"),reason:": "+t.data.errors})),e.errors=t.data.errors)})["catch"](function(t){console.log(t),t.response?e.$noty.error(e.$t("ui.general.network_abnormality")+": "+t.response.status+t.response.data):e.$noty.error(e.$t("ui.general.network_abnormality")+": "+e.$t("ui.general.server_offline"))})["finally"](function(){e.is_loading=!1})},delete_operation:function(){var e=this;if(confirm(this.$t("ui.pages.operations.delete_help")+"\n"+this.$t("ui.notifications.warning.are_you_sure_to_delete_it"))){this.is_loading=!0;var t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_operation_delete).parse({operation_identity:this.$route.params.identity});axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return Promise.reject(t.data);e.$router.push({name:"provider_operations"}),e.$noty.success(e.$t("ui.notifications.success.delete__name",{name:e.$t("models.operations")}))})["catch"](function(t){if(t.response){switch(t.response.status){default:e.errors.push(t.response.status+" "+t.response.statusText)}e.$noty.error(e.$t("ui.notifications.error.delete__name",{name:e.$t("models.operations"),reason:": "+t.response.status+" "+t.response.statusText}))}else t.errors?(e.$noty.error(e.$t("ui.notifications.error.delete__name",{name:e.$t("models.operations"),reason:": "+response.data.errors})),e.errors=response.data.errors):(e.errors.push(e.$t("ui.general.server_offline")),e.$noty.error(e.$t("ui.general.server_offline")));return Promise.reject(t)})["finally"](function(){setTimeout(function(){e.is_loading=!1},300)})}}},components:{CoreWaybillsLabelSvg:Zc,OrderSummary:ic,Comments:FP,Receipts:Wo["a"],CoreWaybills:gq,ErrorMessages:B_}},$q=wq,kq=Object(Tt["a"])($q,VN,XN,!1,null,"87f7c944",null),xq=kq.exports,Cq=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"new_operation"}},[e.is_initialized?i("div",[i("table",{staticClass:"ui fixed table blue"},[i("thead",[i("tr",[i("th",{staticClass:"right aligned"},[i("h3",{staticClass:"ui header"},[e._v("\n                            "+e._s(e.$t("ui.page_titles.new_provider_operation"))+"\n                        ")])]),i("th",{attrs:{colspan:"4"}}),i("th")])]),i("tbody",{staticClass:"ui form"},[i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.operations.customer"))+"\n                    ")]),i("td",{staticStyle:{overflow:"visible"},attrs:{colspan:"5"}},[i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],ref:"customer_identity",staticClass:"ui selection dropdown"},[i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"default text"},[e._v(e._s(e.$t("ui.general.please_select")))]),i("div",{staticClass:"menu"},e._l(e.customers,function(t){return i("div",{staticClass:"item",on:{click:function(i){e.selected_customer=t,e.operation.customer_identity=t.identity,e.operation.contract_identity=t.contracts[0].identity}}},[e._v("\n                                        "+e._s(t.company_name)+"\n                                ")])}))]),e.selected_customer?i("div",{staticStyle:{display:"inline-block"}},[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.operation.contract_identity,expression:"operation.contract_identity"}],on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.operation,"contract_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.selected_customer.contracts,function(t){return i("option",{attrs:{contract:t},domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2)]):e._e(),i("button",{staticClass:"ui basic icon button",on:{click:function(t){e.selected_customer=null,e.operation.customer_identity=null,e.operation.contract_identity=null,e.$(e.$refs.customer_identity).dropdown("clear")}}},[i("i",{staticClass:"remove icon"})])])]),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.operations.station"))+"\n                    ")]),i("td",{staticStyle:{overflow:"visible"},attrs:{colspan:"5"}},[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.operation.station_identity,expression:"operation.station_identity"}],ref:"station_identity",staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.operation,"station_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v("\n                                "+e._s(e.$t("ui.general.please_select"))+"\n                            ")]),e._l(e.$store.state.provider.stations,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2),i("button",{staticClass:"ui basic icon button",on:{click:function(t){e.operation.station_identity=null,e.$(e.$refs.station_identity).dropdown("clear")}}},[i("i",{staticClass:"remove icon"})])])]),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.operations.staffs"))+"\n                    ")]),i("td",{staticStyle:{overflow:"visible"},attrs:{colspan:"5"}},[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.operation.staff_identities,expression:"operation.staff_identities"}],ref:"staff_identities",staticClass:"ui dropdown",attrs:{multiple:""},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.operation,"staff_identities",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.$store.state.provider.operations_module.staffs,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2),i("button",{staticClass:"ui basic icon button",staticStyle:{"vertical-align":"bottom"},on:{click:function(t){e.operation.staff_identities=null,e.$(e.$refs.staff_identities).dropdown("clear")}}},[i("i",{staticClass:"remove icon"})])])]),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.operations.your_note"))+"\n                    ")]),i("td",{staticStyle:{overflow:"visible"},attrs:{colspan:"5"}},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.operation.provider_note,expression:"operation.provider_note"}],attrs:{type:"text",placeholder:e.$t("models.attributes.operations.provider_note")},domProps:{value:e.operation.provider_note},on:{input:function(t){t.target.composing||e.$set(e.operation,"provider_note",t.target.value)}}})])]),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("ui.general.operate"))+"\n                    ")]),i("td",{staticStyle:{overflow:"visible"},attrs:{colspan:"5"}},[i("button",{staticClass:"ui basic positive button",on:{click:function(t){return t.preventDefault(),e.create(t)}}},[e._v("\n                            "+e._s(e.$t("ui.general.create"))+"\n                        ")])])])])])]):e._e()])},Pq=[];function Sq(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function Nq(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){Sq(a,n,s,r,o,"next",e)}function o(e){Sq(a,n,s,r,o,"throw",e)}r(void 0)})}}var qq={name:"NewOperation",props:{},data:function(){return{is_initialized:!1,is_processing:!1,operation:{},selected_customer:null,errors:[]}},created:function(){this.init()},mounted:function(){},watch:{$route:function(e,t){"new_operation"==e.name&&this.init()},language:function(e){this.operation.provider_note=this.$t("ui.pages.operations.provider_note_value")}},computed:{language:function(){return this.$store.state.language},customers:function(){return this.$store.state.provider.customers}},methods:{init:function(){var e=Nq(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!1,t.is_processing=!1,t.operation={provider_note:t.$t("ui.pages.operations.provider_note_value"),staff_identities:[],customer_identity:null,contract_identity:null},t.selected_customer=null,t.errors=[],e()});case 2:return e.next=4,new Promise(function(e){t.is_initialized=!0,e()});case 4:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),create:function(){var e=this;if(null==this.operation.customer_identity||this.operation.customer_identity&&this.operation.contract_identity){this.is_processing=!0,this.errors=[];var t=this.operation,i=new RestUrl(this.$store.state.provider.routes.api_v1_provider_operations_create).parse({},"");return axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.is_processing=!1,e.$noty.success(e.$t("ui.notifications.success.create__name",{name:e.$t("models.operations")})),e.$router.push({name:"edit_provider_operation",params:{identity:t.data.operation.identity}})):(e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.operations")})),e.is_processing=!1)})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.operations")})),e.is_processing=!1})}this.$noty.error(this.$t("ui.pages.operations.helps.please_confirm_sender_and_contract_are_selected"))}},components:{}},Aq=qq,Eq=Object(Tt["a"])(Aq,Cq,Pq,!1,null,"bed68ffc",null),zq=Eq.exports,jq="provider_operations",Rq="new_provider_operation",Oq="edit_provider_operation",Iq=[{path:"",component:WN,name:"provider_operations",meta:{api_name:"api_v1_provider_operations",breadcrumb:[jq],btns:[Rq]}},{path:"new",component:zq,name:"new_provider_operation",meta:{api_name:"api_v1_provider_operations_create",breadcrumb:[jq,Rq]}},{path:"edit/:identity",component:xq,name:"edit_provider_operation",meta:{api_name:"api_v1_provider_operation_update",breadcrumb:[jq,Oq]}}],Dq=Iq,Lq=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"appraisals"}},[i("router-link",{staticClass:"ui basic positive button",attrs:{to:{name:"new_appraisal",params:{}}}},[i("i",{staticClass:"plus icon"}),e._v("\n        "+e._s(e.$t("ui.page_titles.new_appraisal"))+"\n    ")]),i("table",{staticClass:"ui celled table"},[i("thead",[i("tr",[i("th",[e._v(e._s(e.$t("ui.pages.appraisals.point")))]),i("th",[e._v(e._s(e.$t("ui.pages.appraisals.reason")))]),i("th",[e._v(e._s(e.$t("ui.pages.appraisals.registrant_identity")))]),i("th")])]),i("tbody",e._l(e.appraisals,function(t){return e.is_initialized?i("appraisal",{key:t.identity,attrs:{appraisal:t}}):e._e()}))])],1)},Tq=[],Bq=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",[i("td",[e._v("\n        "+e._s(e.appraisal.point)+"\n    ")]),i("td",[e._v("\n        "+e._s(e.appraisal.reason)+"\n    ")]),i("td",[e._v("\n        "+e._s(e.appraisal.registrant.name)+"\n    ")]),i("td",[i("router-link",{staticClass:"ui basic primary button",attrs:{to:{name:"edit_appraisal",params:{identity:e.appraisal.identity}}}},[e._v("\n            "+e._s(e.$t("ui.general.edit"))+"\n        ")]),i("button",{staticClass:"ui basic negative button",on:{click:function(t){t.preventDefault(),e.delete_appraisal()}}},[e._v("\n            "+e._s(e.$t("ui.general.delete"))+"\n        ")])],1)])},Mq=[],Uq={props:{appraisal:Object},data:function(){return{is_processing:!1}},computed:{},created:function(){},mounted:function(){},watch:{},methods:{delete_appraisal:function(){if(confirm(this.$t("ui.notifications.warning.are_you_sure_to_delete_it"))){var e=this;e.is_processing=!0;var t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_appraisal_delete).parse({appraisal_identity:e.appraisal.identity},"");axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$parent.init(),e.$noty.success(e.$t("ui.notifications.success.delete__name",{name:e.$t("models.appraisals")}))):e.$noty.error("考績刪除失敗")})["catch"](function(t){t.response?e.$noty.error(e.$t("ui.general.network_abnormality")+": "+t.response.status+t.response.data):e.$noty.error(e.$t("ui.general.network_abnormality")+": "+e.$t("ui.general.server_offline"))}),e.is_processing=!1}}},components:{}},Fq=Uq,Yq=Object(Tt["a"])(Fq,Bq,Mq,!1,null,null,null),Gq=Yq.exports;function Hq(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function Kq(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){Hq(a,n,s,r,o,"next",e)}function o(e){Hq(a,n,s,r,o,"throw",e)}r(void 0)})}}var Wq={data:function(){return{appraisals:[],is_initialized:!1}},computed:{},created:function(){var e=this;e.init()},mounted:function(){},watch:{$route:function(e,t){"appraisals"==e.name&&this.init()}},methods:{init:function(){var e=Kq(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,t.fetch_appraisals();case 5:return e.next=7,new Promise(function(e){t.is_initialized=!0,e()});case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_appraisals:function(){var e=this,t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_staff_appraisals).parse({identity:e.$route.params.staff_identity},"");return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){return e.appraisals=t.data.appraisals,t})["catch"](function(t){return e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.appraisals"),reason:": "+t})),Promise.reject(t)})}},components:{appraisal:Gq}},Vq=Wq,Xq=Object(Tt["a"])(Vq,Lq,Tq,!1,null,null,null),Qq=Xq.exports,Zq=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"new_appraisal"}},[i("h1",{staticClass:"ui header"},[e._v("\n        "+e._s(e.$t("ui.page_titles.new_appraisal"))+"\n    ")]),e.is_initialized?i("div",[i("form",{staticClass:"ui form"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("ui.pages.appraisals.point")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.appraisal.point,expression:"appraisal.point"}],attrs:{type:"number"},domProps:{value:e.appraisal.point},on:{input:function(t){t.target.composing||e.$set(e.appraisal,"point",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("ui.pages.appraisals.reason")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.appraisal.reason,expression:"appraisal.reason"}],attrs:{type:"text"},domProps:{value:e.appraisal.reason},on:{input:function(t){t.target.composing||e.$set(e.appraisal,"reason",t.target.value)}}})]),i("button",{staticClass:"ui basic positive button",on:{click:function(t){return t.preventDefault(),e.create(t)}}},[e._v("\n                "+e._s(e.$t("ui.general.create"))+"\n            ")])])]):e._e()])},Jq=[];function eA(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function tA(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){eA(a,n,s,r,o,"next",e)}function o(e){eA(a,n,s,r,o,"throw",e)}r(void 0)})}}var iA={props:{},data:function(){return{is_initialized:!1,is_processing:!1,appraisal:{},errors:[]}},created:function(){this.init()},mounted:function(){},watch:{$route:function(e,t){"new_appraisal"==e.name&&this.init()}},computed:{},methods:{init:function(){var e=tA(regeneratorRuntime.mark(function e(){var t,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,t.is_processing=!1,t.appraisal={point:0,reason:i.$t("ui.pages.appraisals.reason"),staff_identity:t.$route.params.staff_identity},t.errors=[],e()});case 3:return e.next=5,new Promise(function(e){t.is_initialized=!0});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),create:function(){var e=this;e.is_processing=!0,e.errors=[];var t=e.appraisal,i=new RestUrl(e.$store.state.provider.routes.api_v1_provider_appraisal_create).parse({},"");axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$router.push("/provider/appraisals/"+e.$route.params.staff_identity),e.$noty.success(e.$t("ui.notifications.success.create__name",{name:e.$t("models.appraisals")}))):(e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.appraisals"),reason:": "+t.data.errors})),e.errors=t.data.errors)})["catch"](function(t){t.response?e.$noty.error(e.$t("ui.general.network_abnormality")+": "+t.response.status+t.response.data):e.$noty.error(e.$t("ui.general.network_abnormality")+": "+e.$t("ui.general.server_offline"))}),e.is_processing=!1}},components:{}},nA=iA,sA=Object(Tt["a"])(nA,Zq,Jq,!1,null,"f9b106ea",null),aA=sA.exports,rA=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"edit_appraisal"}},[i("h1",{staticClass:"ui header"},[e._v("\n        "+e._s(e.$t("ui.page_titles.edit_appraisal"))+"\n    ")]),e.is_initialized?i("div",[i("form",{staticClass:"ui form"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("ui.pages.appraisals.point")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.appraisal.point,expression:"appraisal.point"}],attrs:{type:"number"},domProps:{value:e.appraisal.point},on:{input:function(t){t.target.composing||e.$set(e.appraisal,"point",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("ui.pages.appraisals.point")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.appraisal.reason,expression:"appraisal.reason"}],attrs:{type:"text"},domProps:{value:e.appraisal.reason},on:{input:function(t){t.target.composing||e.$set(e.appraisal,"reason",t.target.value)}}})]),i("button",{staticClass:"ui basic positive button",on:{click:function(t){return t.preventDefault(),e.update(t)}}},[e._v(e._s(e.$t("ui.general.update")))])])]):e._e()])},oA=[];function cA(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function _A(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){cA(a,n,s,r,o,"next",e)}function o(e){cA(a,n,s,r,o,"throw",e)}r(void 0)})}}var lA={props:{},data:function(){return{is_initialized:!1,is_processing:!1,appraisal:{},errors:[]}},created:function(){this.init()},mounted:function(){},watch:{$route:function(e,t){"edit_appraisal"==e.name&&this.init()}},computed:{},methods:{init:function(){var e=_A(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,t.is_processing=!1,t.appraisal={},t.errors=[],e()});case 3:return e.next=5,t.fetch_appraisal();case 5:return e.next=7,new Promise(function(e){t.is_initialized=!0});case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_appraisal:function(){var e=this,t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_appraisal).parse({appraisal_identity:e.$route.params.identity},"");return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.appraisal=t.data.appraisal})["catch"](function(t){return e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.appraisals"),reason:": "+t})),Promise.reject(t)})},update:function(){var e=this;e.is_processing=!0,e.errors=[];var t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_appraisal_update).parse({appraisal_identity:e.$route.params.identity},""),i=e.appraisal;axios.post(t,i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$parent.init(),e.$router.push("/provider/appraisals/"+e.$route.params.staff_identity),e.$noty.success(e.$t("ui.notifications.success.update__name",{name:e.$t("models.appraisals")}))):(e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.appraisals"),reason:": "+t.data.errors})),e.errors=t.data.errors)})["catch"](function(t){t.response?e.$noty.error(e.$t("ui.general.network_abnormality")+": "+t.response.status+t.response.data):e.$noty.error(e.$t("ui.general.network_abnormality")+": "+e.$t("ui.general.server_offline"))}),e.is_processing=!1}},components:{}},uA=lA,dA=Object(Tt["a"])(uA,rA,oA,!1,null,"b2b58c3a",null),pA=dA.exports,mA="staffs",fA="appraisals",hA="new_appraisal",vA="edit_appraisal",gA=[{path:":staff_identity",component:Qq,name:"appraisals",meta:{api_name:"api_v1_provider_staffs_appraisals",breadcrumb:[mA,fA]}},{path:":staff_identity/new",component:aA,name:"new_appraisal",meta:{api_name:"api_v1_provider_appraisal_create",breadcrumb:[mA,hA]}},{path:":staff_identity/:identity/edit",component:pA,name:"edit_appraisal",breadcrumb:[mA,vA]}],bA=gA,yA=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"user_logs"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),i("Filters"),i("div",{staticClass:"ui segment"},[e.style.width<767?i("div",{staticStyle:{"margin-bottom":"1em"}},[e.is_loading?i("div",[i("div",{staticClass:"ui active centered inline loader"})]):e._l(e.user_logs,function(t){return i("DataCard",{key:t.identity,attrs:{object:t,title:t.loggable_type,title_link:{name:"user_log",params:{identity:t.identity}},date:e.human_datetime(t.created_at),sub_title:t.code,is_show_column:!0,keys:["title","action_type","operator"],i_18n_key:"user_logs"}})}),!e.is_loading&&e.user_logs.length<=0?i("div",{staticClass:"ui center aligned red segment"},[i("h3",[e._v("\n                    "+e._s(e.$t("ui.general.no_data"))+"\n                ")])]):e._e()],2):i("table",{staticClass:"ui celled table"},[i("thead",{staticClass:"center aligned"},[i("tr",[i("th",[e._v(e._s(e.$t("ui.pages.user_logs.record_object")))]),i("th",[e._v(e._s(e.$t("models.attributes.user_logs.title")))]),i("th",[e._v(e._s(e.$t("models.attributes.user_logs.action_type")))]),i("th",[e._v(e._s(e.$t("ui.pages.user_logs.operator")))]),i("th",[e._v(e._s(e.$t("models.attributes.user_logs.created_at")))]),i("th",[e._v(e._s(e.$t("ui.general.operate")))])])]),e.is_loading?i("tbody",{staticClass:"center aligned"},[e._m(0)]):i("tbody",{staticClass:"center aligned"},[e._l(e.user_logs,function(e){return i("UserLog",{key:e.identity,attrs:{user_log:e}})}),e.user_logs.length<=0?i("tr",{staticClass:"center aligned"},[i("td",{attrs:{colspan:"6"}},[i("h5",[e._v(e._s(e.$t("ui.general.no_data")))])])]):e._e()],2)]),i("Paginator",{attrs:{total_pages:e.total_pages,current_page:e.current_page,disabled:e.is_loading}})],1)],1)},wA=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"loading"},[i("td",{attrs:{colspan:"6"}},[i("div",{staticClass:"ui active centered inline loader"})])])}],$A=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",[i("td",[e._v("\n        "+e._s(e.user_log.loggable_type)+"\n    ")]),i("td",[e._v("\n        "+e._s(e.user_log.title)+"\n    ")]),i("td",[e._v("\n        "+e._s(e.user_log.action_type)+"\n    ")]),i("td",[e._v("\n        "+e._s(e.user_log.operator_name)+"\n    ")]),i("td",[e._v("\n        "+e._s(this.human_datetime(e.user_log.created_at))+"\n    ")]),i("td",[i("router-link",{staticClass:"ui basic primary button",attrs:{to:{name:"user_log",params:{identity:e.user_log.identity}}}},[e._v("\n            "+e._s(e.$t("ui.general.detail"))+"\n        ")])],1)])},kA=[],xA={name:"ProviderUserLogsIndexItem",props:{user_log:Object},data:function(){return{is_processing:!1}},computed:{},created:function(){},mounted:function(){},watch:{},methods:{},components:{}},CA=xA,PA=Object(Tt["a"])(CA,$A,kA,!1,null,null,null),SA=PA.exports,NA=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{display:"flex","justify-content":"space-between"},attrs:{id:"user_logs_filter"}},[i("div"),i("div",{staticClass:"ui segment",style:{width:e.filter.is_advanced_mode?"100%":"auto",margin:0}},[i("Header",{staticClass:"right floated"}),i("div",{staticClass:"clear"}),i("transition",{attrs:{name:"slide-fade",mode:"out-in"}},[e.filter.is_advanced_mode?i("Advanced"):e._e()],1)],1)])},qA=[],AA=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"filter_advanced"}},[i("div",{staticClass:"ui form",on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$parent.$parent.user_logs_filter()}}},[i("div",{staticClass:"three fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.user_logs.loggable_type")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.loggable_type,expression:"filter.columns.loggable_type"}],attrs:{type:"text"},domProps:{value:e.filter.columns.loggable_type},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"loggable_type",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("ui.pages.user_logs.operator")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.staff_name,expression:"filter.columns.staff_name"}],attrs:{type:"text"},domProps:{value:e.filter.columns.staff_name},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"staff_name",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.user_logs.title")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.title,expression:"filter.columns.title"}],attrs:{type:"text"},domProps:{value:e.filter.columns.title},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"title",t.target.value)}}})])]),i("div",{staticClass:"two fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.user_logs.action_type")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.action_type,expression:"filter.columns.action_type"}],attrs:{type:"text"},domProps:{value:e.filter.columns.action_type},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"action_type",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.user_logs.created_at")))]),i("DatePicker",{key:"user_logs_advanced_created_at",attrs:{format:"YYYY-MM-DD",type:"daterange",re_init:Boolean(e.filter.columns.created_duration)},model:{value:e.filter.columns.created_duration,callback:function(t){e.$set(e.filter.columns,"created_duration",t)},expression:"filter.columns.created_duration"}})],1)])]),i("div",{staticClass:"ui icon blue button right floated",on:{click:function(t){e.$parent.$parent.user_logs_filter()}}},[i("i",{staticClass:"search icon"}),e._v("\n        "+e._s(e.$t("ui.general.search"))+"\n    ")]),i("div",{staticClass:"clear"})])},EA=[],zA={name:"CustomersFilterAdvanced",data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.provider.user_logs_module},filter:function(){return this.current_store.filter}},created:function(){},mounted:function(){},watch:{},methods:{},components:{DatePicker:XC["a"]}},jA=zA,RA=(n("60b7"),Object(Tt["a"])(jA,AA,EA,!1,null,null,null)),OA=RA.exports,IA=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{style:e.style.width<470?{textAlign:"right"}:{},attrs:{id:"filter_general"}},[e.filter.is_advanced_mode?e._e():i("div",{staticClass:"ui action input"},[e.style.width>470?i("HeaderInputs"):e._e(),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection dropdown no_search right_radius",staticStyle:{"min-width":"120px"}},[e._l(e.filter.shortcut_keys,function(t){return e.filter.current_shortcut_key==t?i("div",{staticClass:"text"},["staff_name"==e.filter.current_shortcut_key?i("span",[e._v("\n                        "+e._s(e.$t("ui.pages.user_logs.operator"))+"\n                ")]):i("span","created_duration"==t?[e._v("\n                    "+e._s(e.$t("models.attributes.user_logs.created_at"))+"\n                ")]:[e._v("\n                    "+e._s(e.$t("models.attributes.user_logs."+t))+"\n                ")])]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.filter.shortcut_keys,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.current_shortcut_key==t},on:{click:function(i){e.set_quick_filter(t)}}},[i("span","staff_name"==t?[e._v("\n                        "+e._s(e.$t("ui.pages.user_logs.operator"))+"\n                    ")]:"created_duration"==t?[e._v("\n                        "+e._s(e.$t("models.attributes.user_logs.created_at"))+"\n                    ")]:[e._v("\n                        "+e._s(e.$t("models.attributes.user_logs."+t))+"\n                    ")])])}))],2),i("div",{staticClass:"ui button icon",on:{click:function(t){e.$parent.$parent.user_logs_filter()}}},[i("i",{staticClass:"search icon"})])],1),e.filter.is_advanced_mode?i("div",{staticClass:"ui basic red icon button",on:{click:function(t){e.$store.commit("provider/user_logs_module/init_filter_columns")}}},[i("i",{staticClass:"close icon"}),e._v("\n        "+e._s(e.$t("ui.general.clear"))+"\n    ")]):e._e(),i("div",{staticClass:"ui button icon",style:{height:e.filter.is_advanced_mode?"auto":"38px",paddingTop:e.filter.is_advanced_mode?"":"13px",verticalAlign:e.filter.is_advanced_mode?"":"top",margin:"0 6px"},on:{click:function(t){e.filter.is_advanced_mode=!e.filter.is_advanced_mode}}},[i("i",{staticClass:"bars icon",class:{minus:e.filter.is_advanced_mode,bars:!e.filter.is_advanced_mode}})]),!e.filter.is_advanced_mode&&e.style.width<470?i("div",{staticClass:"ui action input",staticStyle:{"padding-top":"9px",width:"100%"}},[i("HeaderInputs")],1):e._e()])},DA=[],LA=function(){var e=this,t=e.$createElement,i=e._self._c||t;return"staff_name"!=e.filter.current_shortcut_key&&"created_duration"!=e.filter.current_shortcut_key?i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns[e.filter.current_shortcut_key],expression:"filter.columns[filter.current_shortcut_key]"}],attrs:{placeholder:e.$t("ui.general.search__key",{key:e.$t("models.attributes.user_logs."+e.filter.current_shortcut_key)}),type:"text"},domProps:{value:e.filter.columns[e.filter.current_shortcut_key]},on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$parent.$parent.$parent.user_logs_filter()},input:function(t){t.target.composing||e.$set(e.filter.columns,e.filter.current_shortcut_key,t.target.value)}}}):"staff_name"==e.filter.current_shortcut_key?i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.staff_name,expression:"filter.columns.staff_name"}],attrs:{placeholder:e.$t("ui.general.search__key",{key:e.$t("ui.pages.user_logs.operator")}),type:"text"},domProps:{value:e.filter.columns.staff_name},on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$parent.$parent.$parent.user_logs_filter()},input:function(t){t.target.composing||e.$set(e.filter.columns,"staff_name",t.target.value)}}}):"created_duration"==e.filter.current_shortcut_key?i("DatePicker",{key:"user_logs_created_at",staticStyle:{"min-width":"200px",width:"100%"},attrs:{type:"daterange",format:"YYYY-MM-DD"},model:{value:e.filter.columns.created_duration,callback:function(t){e.$set(e.filter.columns,"created_duration",t)},expression:"filter.columns.created_duration"}}):e._e()},TA=[],BA={name:"UserLogsFilterHeaderInputs",data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.provider.user_logs_module},filter:function(){return this.current_store.filter}},created:function(){},mounted:function(){},watch:{},methods:{},components:{DatePicker:XC["a"]}},MA=BA,UA=Object(Tt["a"])(MA,LA,TA,!1,null,null,null),FA=UA.exports,YA={name:"UserLogsFilterHeader",data:function(){return{is_initialized:!1}},computed:{style:function(){return this.$store.state.style},current_store:function(){return this.$store.state.provider.user_logs_module},filter:function(){return this.current_store.filter}},created:function(){},mounted:function(){},watch:{},methods:{set_quick_filter:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var i=this;i.filter.current_shortcut_key=t,_.forEach(i.filter.shortcut_keys,function(e){i.filter.columns[e]=null})}catch(e){console.log(e)}}},components:{HeaderInputs:FA}},GA=YA,HA=(n("cde8"),Object(Tt["a"])(GA,IA,DA,!1,null,"0aaf0d2c",null)),KA=HA.exports,WA={name:"UserLogsFilter",data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.provider.user_logs_module},filter:function(){return this.current_store.filter}},created:function(){},mounted:function(){},watch:{"filter.is_advanced_mode":function(e){e||this.$store.commit("provider/user_logs_module/init_filter_columns")}},methods:{},components:{Advanced:OA,Header:KA}},VA=WA,XA=Object(Tt["a"])(VA,NA,qA,!1,null,null,null),QA=XA.exports;function ZA(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function JA(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){ZA(a,n,s,r,o,"next",e)}function o(e){ZA(a,n,s,r,o,"throw",e)}r(void 0)})}}var eE={name:"UserLogsIndex",data:function(){return{is_initialized:!1,is_loading:!1,errors:[]}},computed:{style:function(){return this.$store.state.style},current_store:function(){return this.$store.state.provider.user_logs_module},user_logs:function(){return this.current_store.user_logs},pagination:function(){return this.current_store.pagination},current_page:function(){return this.current_store.pagination.current_page},total_pages:function(){return this.current_store.pagination.total_pages},filter:function(){return this.current_store.filter}},created:function(){},mounted:function(){var e=this;this.init(),this.$bus.$off("init"),this.$bus.$on("init",function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.init()})},beforeDestroy:function(){this.$bus.$off("init"),this.pagination.current_page=1},watch:{$route:function(e,t){this.init(!1)}},methods:{init:function(){var e=JA(regeneratorRuntime.mark(function e(){var t,i=this,n=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=!(n.length>0&&void 0!==n[0])||n[0],e.prev=1,e.next=4,new Promise(function(e){i.is_initialized=!1,i.is_loading=!0,e()});case 4:return e.next=6,this.$store.dispatch("provider/user_logs_module/handle_query_to_filter",{query:this.$route.query});case 6:if(!t){e.next=9;break}return e.next=9,this.$store.dispatch("provider/user_logs_module/handle_quick_filter_key");case 9:return e.next=11,this.$store.dispatch("provider/user_logs_module/fetch_user_logs");case 11:return e.next=13,new Promise(function(e){i.$noty.information(i.$t("ui.page_titles.user_logs")+" "+i.$t("ui.general.initialize_complete"),300),e()});case 13:e.next=20;break;case 15:e.prev=15,e.t0=e["catch"](1),console.log(e.t0),this.$noty.error("非預期的錯誤: "+e.t0),this.$noty.error(this.$t("ui.notifications.error.fetch__name",{name:this.$t("models.user_logs"),reason:e.t0}));case 20:return e.prev=20,this.is_initialized=!0,this.is_loading=!1,e.finish(20);case 24:case"end":return e.stop()}},e,this,[[1,15,20,24]])}));function t(){return e.apply(this,arguments)}return t}(),user_logs_filter:function(){console.log("user_logs_filter");try{this.$router.push({name:this.$router.name,query:this.$store.getters["provider/user_logs_module/filter_to_query"]})}catch(e){console.log(e)}}},components:{UserLog:SA,Paginator:Ma,ErrorMessages:B_,DataCard:W_,Filters:QA}},tE=eE,iE=(n("6c9f"),Object(Tt["a"])(tE,yA,wA,!1,null,"3c5051b4",null)),nE=iE.exports,sE=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"user_log"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!1}}),e.is_initialized?i("div",[i("h1",{staticClass:"ui header"},[e._v("\n            "+e._s(e.$t("ui.page_titles.user_log"))+"\n        ")]),e.is_loading?i("div",{staticClass:"ui active centered inline loader"}):i("div",[i("table",{staticClass:"ui table"},[i("thead",[i("tr",{class:e.style.width>767?"center aligned":""},[i("th",{staticClass:"eight wide"},[e._v(e._s(e.$t("ui.pages.user_logs.field_name")))]),i("th",{staticClass:"eight wide"},[e._v(e._s(e.$t("ui.pages.user_logs.value")))])])]),i("tbody",[i("tr",{class:e.style.width>767?"center aligned":""},[i("td",[e._v(e._s(e.$t("models.attributes.user_logs.identity")))]),i("td",[e._v(e._s(e.user_log.identity))])]),i("tr",{class:e.style.width>767?"center aligned":""},[i("td",[e._v(e._s(e.$t("models.attributes.user_logs.title")))]),i("td",[e._v(e._s(e.user_log.title))])]),i("tr",{class:e.style.width>767?"center aligned":""},[i("td",[e._v(e._s(e.$t("ui.pages.user_logs.record_object")))]),i("td",[e._v(e._s(e.user_log.loggable_type)+"("+e._s(e.user_log.loggable_identity)+")")])]),i("tr",{class:e.style.width>767?"center aligned":""},[i("td",[e._v(e._s(e.$t("models.attributes.user_logs.operator_identity")))]),i("td",[e._v(e._s(e.user_log.operator_identity))])]),i("tr",{class:e.style.width>767?"center aligned":""},[i("td",[e._v(e._s(e.$t("models.attributes.user_logs.action_type")))]),i("td",[e._v(e._s(e.user_log.action_type))])]),i("tr",{class:e.style.width>767?"center aligned":""},[i("td",[e._v(e._s(e.$t("models.attributes.user_logs.created_at")))]),i("td",[e._v(e._s(this.human_datetime(e.user_log.created_at)))])]),i("tr",{class:e.style.width>767?"center aligned":""},[i("td",[e._v(e._s(e.$t("models.attributes.user_logs.description")))]),i("td",[e._v(e._s(e.user_log.description||"-"))])]),i("tr",{class:e.style.width>767?"center aligned":""},[i("td",[e._v(e._s(e.$t("models.attributes.user_logs.level")))]),i("td",[e._v(e._s(e.user_log.level))])]),i("tr",[i("td",{class:e.style.width>767?"center aligned":""},[e._v("\n                            "+e._s(e.$t("models.attributes.user_logs.modified_attributes"))+"\n                        ")]),i("td",[i("pre",{domProps:{innerHTML:e._s(e.JSONparse(e.user_log.modified_attributes))}},[e._v("                            ")])])]),i("tr",{class:e.style.width>767?"center aligned":""},[i("td",[e._v(e._s(e.$t("models.attributes.user_logs.node_identity")))]),i("td",[e._v(e._s(e.user_log.node_identity))])]),i("tr",{class:e.style.width>767?"center aligned":""},[i("td",[e._v(e._s(e.$t("models.attributes.user_logs.is_undid")))]),i("td",[e._v("\n                            "+e._s(e.user_log.is_undid?e.$t("ui.pages.user_logs.yes"):e.$t("ui.pages.user_logs.no"))+"\n                        ")])]),i("tr",{class:e.style.width>767?"center aligned":""},[i("td",[e._v(e._s(e.$t("models.attributes.user_logs.undid_at")))]),i("td",[e._v(e._s(e.user_log.undid_at||"-"))])])])])])]):e._e()],1)},aE=[];function rE(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function oE(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){rE(a,n,s,r,o,"next",e)}function o(e){rE(a,n,s,r,o,"throw",e)}r(void 0)})}}var cE={name:"ShowUserLog",props:{},data:function(){return{is_initialized:!1,is_loading:!1,user_log:{},errors:[]}},created:function(){},mounted:function(){this.init()},watch:{},computed:{style:function(){return this.$store.state.style}},methods:{init:function(){var e=oE(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise(function(e){t.is_initialized=!1,t.is_loading=!1,t.user_log={},t.errors=[],e()});case 3:return e.next=5,this.fetch_user_log();case 5:return e.next=7,new Promise(function(e){t.is_initialized=!0});case 7:e.next=15;break;case 9:e.prev=9,e.t0=e["catch"](0),e.t1=e.t0,e.next=""===e.t1?14:15;break;case 14:return e.abrupt("break",15);case 15:return e.prev=15,e.finish(15);case 17:case"end":return e.stop()}},e,this,[[0,9,15,17]])}));function t(){return e.apply(this,arguments)}return t}(),fetch_user_log:function(){var e=this,t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_log).parse({log_identity:this.$route.params.identity},"");return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.user_logs"),reason:": "+t.data.errors})),Promise.reject(t.data.errors);e.user_log=t.data.log,e.is_loading=!1})["catch"](function(e){console.log(e.response)})},JSONparse:function(e){return"string"!=typeof e&&(e=JSON.stringify(e,void 0,2)),e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),e.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,function(e){var t="number";return/^"/.test(e)?t=/:$/.test(e)?"key":"string":/true|false/.test(e)?t="boolean":/null/.test(e)&&(t="null"),'<span class="'.concat(t,'"> ').concat(e," </span>")})}},components:{ErrorMessages:B_}},_E=cE,lE=(n("603e"),Object(Tt["a"])(_E,sE,aE,!1,null,"daf96a96",null)),uE=lE.exports,dE="user_logs",pE="user_log",mE=[{path:"",component:nE,name:"user_logs",meta:{api_name:"api_v1_provider_logs",breadcrumb:[dE]}},{path:"show/:identity",component:uE,name:"user_log",meta:{api_name:"api_v1_provider_log",breadcrumb:[dE,pE]}}],fE=mE,hE=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"x_scrollable",attrs:{id:"driver_commission_policies"}},[i("div",{staticClass:"ui segment"},[e.style.width<767?i("div",{staticStyle:{"margin-bottom":"1em"}},[e.is_initialized?e._l(e.driver_commission_policies,function(t,n){return i("DataCard",{key:t.identity,attrs:{object:t,title:n+1+".",title_link:{name:"driver_commission_policy",params:{identity:t.identity}},sub_title:t.is_activated?"<i class='ui icon check'></i>":"",color:t.is_activated?"green":"",is_show_column:!0,keys:["table.general_pickup","table.general_delivery","table.bag_pick","table.bag_delivery"],i_18n_key:"driver_commission_policies"}},[i("span",{attrs:{slot:"table.general_pickup"},slot:"table.general_pickup"},[e._v("\n                    "+e._s(e.$t("ui.pages.driver_commission_policies.table.first_weight"))+": "+e._s(t.pick_up_first_weight)+" /\n                    "),e._v("\n                    "+e._s(e.$t("ui.pages.driver_commission_policies.table.first_price"))+": "+e._s(t.pick_up_first_price)+" /\n                    "),e._v("\n                    "+e._s(e.$t("ui.pages.driver_commission_policies.table.follow_up_weight"))+": "+e._s(t.pick_up_follow_up_weight)+" /\n                    "),e._v("\n                    "+e._s(e.$t("ui.pages.driver_commission_policies.table.follow_up_price"))+": "+e._s(t.pick_up_follow_up_price)+"\n                ")]),i("span",{attrs:{slot:"table.general_delivery"},slot:"table.general_delivery"},[e._v("\n                    "+e._s(e.$t("ui.pages.driver_commission_policies.table.first_weight"))+": "+e._s(t.delivery_first_weight)+" /\n                    "),e._v("\n                    "+e._s(e.$t("ui.pages.driver_commission_policies.table.first_price"))+": "+e._s(t.delivery_first_price)+" /\n                    "),e._v("\n                    "+e._s(e.$t("ui.pages.driver_commission_policies.table.follow_up_weight"))+": "+e._s(t.delivery_follow_up_weight)+" /\n                    "),e._v("\n                    "+e._s(e.$t("ui.pages.driver_commission_policies.table.follow_up_price"))+": "+e._s(t.delivery_follow_up_price)+"\n                ")]),i("span",{attrs:{slot:"table.bag_pick"},slot:"table.bag_pick"},[e._v("\n                    "+e._s(e.$t("ui.pages.driver_commission_policies.table.first_weight"))+": "+e._s(t.house_pick_up_first_weight)+" /\n                    "),e._v("\n                    "+e._s(e.$t("ui.pages.driver_commission_policies.table.first_price"))+": "+e._s(t.house_pick_up_first_price)+" /\n                    "),e._v("\n                    "+e._s(e.$t("ui.pages.driver_commission_policies.table.follow_up_weight"))+": "+e._s(t.house_pick_up_follow_up_weight)+" /\n                    "),e._v("\n                    "+e._s(e.$t("ui.pages.driver_commission_policies.table.follow_up_price"))+": "+e._s(t.house_pick_up_follow_up_price)+"\n                ")]),i("span",{attrs:{slot:"table.bag_delivery"},slot:"table.bag_delivery"},[e._v("\n                    "+e._s(e.$t("ui.pages.driver_commission_policies.table.first_weight"))+": "+e._s(t.house_delivery_first_weight)+" /\n                    "),e._v("\n                    "+e._s(e.$t("ui.pages.driver_commission_policies.table.first_price"))+": "+e._s(t.house_delivery_first_price)+" /\n                    "),e._v("\n                    "+e._s(e.$t("ui.pages.driver_commission_policies.table.follow_up_weight"))+": "+e._s(t.house_delivery_follow_up_weight)+" /\n                    "),e._v("\n                    "+e._s(e.$t("ui.pages.driver_commission_policies.table.follow_up_price"))+": "+e._s(t.house_delivery_follow_up_price)+"\n                ")]),i("div",{attrs:{slot:"buttons"},slot:"buttons"},[i("button",{staticClass:"ui basic primary button",on:{click:function(i){i.preventDefault(),e.toggle_activation(t)}}},[e._v("\n                        "+e._s(e.$t("ui.pages.driver_commission_policies.activated_switch"))+"\n                    ")])])])}):i("div",[i("div",{staticClass:"ui active centered inline loader"})])],2):i("table",{staticClass:"ui structured celled table"},[i("thead",[i("tr",[i("th",{staticClass:"center aligned",attrs:{colspan:"4"}},[e._v("\n                        "+e._s(e.$t("ui.pages.driver_commission_policies.table.general_pickup"))+"\n                    ")]),i("th",{staticClass:"center aligned",attrs:{colspan:"4"}},[e._v("\n                        "+e._s(e.$t("ui.pages.driver_commission_policies.table.general_delivery"))+"\n                    ")]),i("th",{staticClass:"center aligned",attrs:{colspan:"4"}},[e._v("\n                        "+e._s(e.$t("ui.pages.driver_commission_policies.table.bag_pick"))+"\n                    ")]),i("th",{staticClass:"center aligned",attrs:{colspan:"4"}},[e._v("\n                        "+e._s(e.$t("ui.pages.driver_commission_policies.table.bag_delivery"))+"\n                    ")]),i("th",{attrs:{rowspan:"2"}},[e._v("\n                        "+e._s(e.$t("ui.pages.driver_commission_policies.activated"))+"\n                    ")]),i("th",{attrs:{rowspan:"2"}})]),i("tr",[i("th",[e._v("\n                        "+e._s(e.$t("ui.pages.driver_commission_policies.table.first_weight"))+"\n                    ")]),i("th",[e._v("\n                        "+e._s(e.$t("ui.pages.driver_commission_policies.table.first_price"))+"\n                    ")]),i("th",[e._v("\n                        "+e._s(e.$t("ui.pages.driver_commission_policies.table.follow_up_weight"))+"\n                    ")]),i("th",[e._v("\n                        "+e._s(e.$t("ui.pages.driver_commission_policies.table.follow_up_price"))+"\n                    ")]),i("th",[e._v(e._s(e.$t("ui.pages.driver_commission_policies.table.first_weight")))]),i("th",[e._v(e._s(e.$t("ui.pages.driver_commission_policies.table.first_price")))]),i("th",[e._v(e._s(e.$t("ui.pages.driver_commission_policies.table.follow_up_weight")))]),i("th",[e._v(e._s(e.$t("ui.pages.driver_commission_policies.table.follow_up_price")))]),i("th",[e._v(e._s(e.$t("ui.pages.driver_commission_policies.table.first_weight")))]),i("th",[e._v(e._s(e.$t("ui.pages.driver_commission_policies.table.first_price")))]),i("th",[e._v(e._s(e.$t("ui.pages.driver_commission_policies.table.follow_up_weight")))]),i("th",[e._v(e._s(e.$t("ui.pages.driver_commission_policies.table.follow_up_price")))]),i("th",[e._v(e._s(e.$t("ui.pages.driver_commission_policies.table.first_weight")))]),i("th",[e._v(e._s(e.$t("ui.pages.driver_commission_policies.table.first_price")))]),i("th",[e._v(e._s(e.$t("ui.pages.driver_commission_policies.table.follow_up_weight")))]),i("th",[e._v(e._s(e.$t("ui.pages.driver_commission_policies.table.follow_up_price")))])])]),i("tbody",e._l(e.driver_commission_policies,function(t){return e.is_initialized?i("DriverCommissionPolicy",{key:t.identity,attrs:{driver_commission_policy:t}}):e._e()}))])])])},vE=[],gE=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",[i("td",[e._v("\n        "+e._s(e.driver_commission_policy.pick_up_first_weight)+"\n    ")]),i("td",[e._v("\n        "+e._s(e.driver_commission_policy.pick_up_first_price)+"\n    ")]),i("td",[e._v("\n        "+e._s(e.driver_commission_policy.pick_up_follow_up_weight)+"\n    ")]),i("td",[e._v("\n        "+e._s(e.driver_commission_policy.pick_up_follow_up_price)+"\n    ")]),i("td",[e._v("\n        "+e._s(e.driver_commission_policy.delivery_first_weight)+"\n    ")]),i("td",[e._v("\n        "+e._s(e.driver_commission_policy.delivery_first_price)+"\n    ")]),i("td",[e._v("\n        "+e._s(e.driver_commission_policy.delivery_follow_up_weight)+"\n    ")]),i("td",[e._v("\n        "+e._s(e.driver_commission_policy.delivery_follow_up_price)+"\n    ")]),i("td",[e._v("\n        "+e._s(e.driver_commission_policy.house_pick_up_first_weight)+"\n    ")]),i("td",[e._v("\n        "+e._s(e.driver_commission_policy.house_pick_up_first_price)+"\n    ")]),i("td",[e._v("\n        "+e._s(e.driver_commission_policy.house_pick_up_follow_up_weight)+"\n    ")]),i("td",[e._v("\n        "+e._s(e.driver_commission_policy.house_pick_up_follow_up_price)+"\n    ")]),i("td",[e._v("\n        "+e._s(e.driver_commission_policy.house_delivery_first_weight)+"\n    ")]),i("td",[e._v("\n        "+e._s(e.driver_commission_policy.house_delivery_first_price)+"\n    ")]),i("td",[e._v("\n        "+e._s(e.driver_commission_policy.house_delivery_follow_up_weight)+"\n    ")]),i("td",[e._v("\n        "+e._s(e.driver_commission_policy.house_delivery_follow_up_price)+"\n    ")]),i("td",[e.driver_commission_policy.is_activated?i("i",{staticClass:"ui icon check"}):i("i",{staticClass:"ui icon cross"})]),i("td",[i("button",{staticClass:"ui basic primary button",on:{click:function(t){t.preventDefault(),e.$parent.toggle_activation(e.driver_commission_policy)}}},[e._v("\n            "+e._s(e.$t("ui.pages.driver_commission_policies.activated_switch"))+"\n        ")])])])},bE=[],yE={name:"ProviderDriverCommissionPoliciesIndexItem",props:{driver_commission_policy:Object},data:function(){return{is_processing:!1}},computed:{},created:function(){},mounted:function(){},watch:{},methods:{delete:function(){var e=this;if(confirm(this.$t("ui.notifications.warning.are_you_sure_to_delete_it"))){this.is_processing=!0;var t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_driver_commission_policy_delete).parse({driver_commission_policy_identity:this.driver_commission_policy.identity},"?authorization="+this.$store.state.provider.node.authorization);axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$parent.init(),e.$noty.success(e.$t("ui.notifications.success.delete__name",{name:e.$t("models.driver_commission_policies")}))):e.$noty.error("收派件提成政策刪除失敗")})["catch"](function(t){console.log(t),t.response?e.$noty.error(e.$t("ui.general.network_abnormality")+": "+t.response.status+t.response.data):e.$noty.error(e.$t("ui.general.network_abnormality")+": "+e.$t("ui.general.server_offline"))}),this.is_processing=!1}}},components:{}},wE=yE,$E=Object(Tt["a"])(wE,gE,bE,!1,null,null,null),kE=$E.exports;function xE(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function CE(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){xE(a,n,s,r,o,"next",e)}function o(e){xE(a,n,s,r,o,"throw",e)}r(void 0)})}}var PE={name:"DriverCommissionPoliciesIndex",data:function(){return{driver_commission_policies:[],is_initialized:!1}},computed:{style:function(){return this.$store.state.style}},created:function(){},mounted:function(){var e=this;this.init(),this.$bus.$off("init"),this.$bus.$on("init",function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.init()})},beforeDestroy:function(){this.$bus.$off("init")},watch:{$route:function(e,t){"driver_commission_policies"==e.name&&this.init()}},methods:{init:function(){var e=CE(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!1,e()});case 2:return e.next=4,this.fetch_driver_commission_policies();case 4:return e.next=6,new Promise(function(e){t.is_initialized=!0,e()});case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_driver_commission_policies:function(){var e=this,t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_driver_commission_policies).parse({},"");return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.driver_commission_policies=t.data.driver_commission_policies})["catch"](function(e){})},toggle_activation:function(e){var t=this,i=new RestUrl(this.$store.state.provider.routes.api_v1_provider_driver_commission_policy_update).parse({driver_commission_policy_identity:e.identity},"");axios.post(i,{is_activated:!e.is_activated},{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){"success"==e.data.status?(t.$noty.success(t.$t("ui.notifications.success.update__name",{name:t.$t("models.driver_commission_policies")})),t.$parent.init()):(t.$noty.error(t.$t("ui.notifications.error.update__name",{name:t.$t("models.driver_commission_policies"),reason:": "+e.data.errors})),t.errors=e.data.errors)})["catch"](function(e){console.log(e),e.response?t.$noty.error(t.$t("ui.general.network_abnormality")+": "+e.response.status+e.response.data):t.$noty.error(t.$t("ui.general.network_abnormality")+": "+t.$t("ui.general.server_offline"))})}},components:{DriverCommissionPolicy:kE,DataCard:W_}},SE=PE,NE=Object(Tt["a"])(SE,hE,vE,!1,null,null,null),qE=NE.exports,AE=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui segment",attrs:{id:"new_driver_commission_policy"}},[i("h1",{staticClass:"ui header"},[e._v("\n        "+e._s(e.$t("ui.page_titles.new_driver_commission_policy"))+"\n    ")]),e.is_initialized?i("div",[i("form",{staticClass:"ui form"},[i("div",{staticClass:"field"},[i("div",{staticClass:"ui slider checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.is_activated,expression:"driver_commission_policy.is_activated"}],attrs:{type:"checkbox",id:"is_activated"},domProps:{checked:Array.isArray(e.driver_commission_policy.is_activated)?e._i(e.driver_commission_policy.is_activated,null)>-1:e.driver_commission_policy.is_activated},on:{change:function(t){var i=e.driver_commission_policy.is_activated,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=e._i(i,a);n.checked?r<0&&e.$set(e.driver_commission_policy,"is_activated",i.concat([a])):r>-1&&e.$set(e.driver_commission_policy,"is_activated",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.driver_commission_policy,"is_activated",s)}}}),i("label",{staticClass:"pointer",attrs:{for:"is_activated"}},[e._v("\n                        "+e._s(e.$t("ui.pages.driver_commission_policies.activated"))+"\n                    ")])])]),i("h3",{staticClass:"ui header"},[e._v("\n                "+e._s(e.$t("ui.pages.driver_commission_policies.pickup"))+"\n            ")]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.driver_commission_policies.pick_up_first_weight"))+" ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.pick_up_first_weight,expression:"driver_commission_policy.pick_up_first_weight"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.pick_up_first_weight},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"pick_up_first_weight",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.driver_commission_policies.pick_up_first_price")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.pick_up_first_price,expression:"driver_commission_policy.pick_up_first_price"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.pick_up_first_price},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"pick_up_first_price",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.driver_commission_policies.pick_up_follow_up_weight"))+" ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.pick_up_follow_up_weight,expression:"driver_commission_policy.pick_up_follow_up_weight"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.pick_up_follow_up_weight},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"pick_up_follow_up_weight",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.driver_commission_policies.pick_up_follow_up_price")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.pick_up_follow_up_price,expression:"driver_commission_policy.pick_up_follow_up_price"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.pick_up_follow_up_price},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"pick_up_follow_up_price",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.driver_commission_policies.delivery_first_weight"))+" ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.delivery_first_weight,expression:"driver_commission_policy.delivery_first_weight"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.delivery_first_weight},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"delivery_first_weight",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.driver_commission_policies.delivery_first_price")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.delivery_first_price,expression:"driver_commission_policy.delivery_first_price"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.delivery_first_price},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"delivery_first_price",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.driver_commission_policies.delivery_follow_up_weight")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.delivery_follow_up_weight,expression:"driver_commission_policy.delivery_follow_up_weight"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.delivery_follow_up_weight},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"delivery_follow_up_weight",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.driver_commission_policies.delivery_follow_up_price")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.delivery_follow_up_price,expression:"driver_commission_policy.delivery_follow_up_price"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.delivery_follow_up_price},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"delivery_follow_up_price",t.target.value)}}})]),i("div",{staticClass:"ui divider"}),i("h3",{staticClass:"ui header"},[e._v("\n                "+e._s(e.$t("ui.pages.driver_commission_policies.bag"))+"\n            ")]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.driver_commission_policies.house_pick_up_first_weight"))+" ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.house_pick_up_first_weight,expression:"driver_commission_policy.house_pick_up_first_weight"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.house_pick_up_first_weight},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"house_pick_up_first_weight",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.driver_commission_policies.house_pick_up_first_price")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.house_pick_up_first_price,expression:"driver_commission_policy.house_pick_up_first_price"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.house_pick_up_first_price},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"house_pick_up_first_price",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.driver_commission_policies.house_pick_up_follow_up_weight"))+" ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.house_pick_up_follow_up_weight,expression:"driver_commission_policy.house_pick_up_follow_up_weight"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.house_pick_up_follow_up_weight},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"house_pick_up_follow_up_weight",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.driver_commission_policies.house_pick_up_follow_up_price")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.house_pick_up_follow_up_price,expression:"driver_commission_policy.house_pick_up_follow_up_price"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.house_pick_up_follow_up_price},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"house_pick_up_follow_up_price",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.driver_commission_policies.house_delivery_first_weight"))+" ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.house_delivery_first_weight,expression:"driver_commission_policy.house_delivery_first_weight"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.house_delivery_first_weight},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"house_delivery_first_weight",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.driver_commission_policies.house_delivery_first_price")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.house_delivery_first_price,expression:"driver_commission_policy.house_delivery_first_price"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.house_delivery_first_price},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"house_delivery_first_price",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.driver_commission_policies.house_delivery_follow_up_weight"))+" ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.house_delivery_follow_up_weight,expression:"driver_commission_policy.house_delivery_follow_up_weight"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.house_delivery_follow_up_weight},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"house_delivery_follow_up_weight",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.driver_commission_policies.house_delivery_follow_up_price")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.house_delivery_follow_up_price,expression:"driver_commission_policy.house_delivery_follow_up_price"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.house_delivery_follow_up_price},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"house_delivery_follow_up_price",t.target.value)}}})]),i("div",{staticClass:"field"},[i("button",{staticClass:"ui basic fluid positive button",on:{click:function(t){return t.preventDefault(),e.create(t)}}},[e._v(e._s(e.$t("ui.general.create")))])])])]):e._e()])},EE=[];function zE(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function jE(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){zE(a,n,s,r,o,"next",e)}function o(e){zE(a,n,s,r,o,"throw",e)}r(void 0)})}}var RE={name:"NewDriverCommissionPolicy",props:{},data:function(){return{is_initialized:!1,is_processing:!1,driver_commission_policy:{},errors:[]}},created:function(){this.init()},mounted:function(){},watch:{$route:function(e,t){"new_driver_commission_policy"==e.name&&this.init()}},computed:{},methods:{init:function(){var e=jE(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!1,t.is_processing=!1,t.driver_commission_policy={pick_up_first_weight:0,pick_up_first_price:0,pick_up_follow_up_weight:0,pick_up_follow_up_price:0,delivery_first_weight:0,delivery_first_price:0,delivery_follow_up_weight:0,delivery_follow_up_price:0,house_pick_up_first_weight:0,house_pick_up_first_price:0,house_pick_up_follow_up_weight:0,house_pick_up_follow_up_price:0,house_delivery_first_weight:0,house_delivery_first_price:0,house_delivery_follow_up_weight:0,house_delivery_follow_up_price:0,is_activated:!1},t.errors=[],e()});case 2:return e.next=4,new Promise(function(e){t.is_initialized=!0,e()});case 4:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),create:function(){var e=this;this.is_processing=!0,this.errors=[];var t=this.driver_commission_policy,i=new RestUrl(this.$store.state.provider.routes.api_v1_provider_driver_commission_policies_create).parse({},"");return axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.is_processing=!1,e.$noty.success(e.$t("ui.notifications.success.create__name",{name:e.$t("models.driver_commission_policies")})),e.$router.push("/provider/driver_commission_policies")):(e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.driver_commission_policies")})),e.is_processing=!1)})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.driver_commission_policies")})),e.is_processing=!1})}},components:{}},OE=RE,IE=Object(Tt["a"])(OE,AE,EE,!1,null,"072fabf7",null),DE=IE.exports,LE=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"edit_driver_commission_policy"}},[i("h1",{staticClass:"ui header"},[e._v("收派件提成政策")]),e.is_initialized?i("div",[i("form",{staticClass:"ui form"},[i("div",{staticClass:"field"},[i("div",{staticClass:"ui slider checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.is_activated,expression:"driver_commission_policy.is_activated"}],attrs:{type:"checkbox",id:"is_activated"},domProps:{checked:Array.isArray(e.driver_commission_policy.is_activated)?e._i(e.driver_commission_policy.is_activated,null)>-1:e.driver_commission_policy.is_activated},on:{change:function(t){var i=e.driver_commission_policy.is_activated,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=e._i(i,a);n.checked?r<0&&e.$set(e.driver_commission_policy,"is_activated",i.concat([a])):r>-1&&e.$set(e.driver_commission_policy,"is_activated",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.driver_commission_policy,"is_activated",s)}}}),i("label",{attrs:{for:"is_activated"}},[e._v("\n                        啟用\n                    ")])])]),i("h3",{staticClass:"ui header"},[e._v("一般件")]),i("div",{staticClass:"field"},[i("label",[e._v("取件首重重量(KG)")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.pick_up_first_weight,expression:"driver_commission_policy.pick_up_first_weight"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.pick_up_first_weight},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"pick_up_first_weight",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v("取件首重提成金額")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.pick_up_first_price,expression:"driver_commission_policy.pick_up_first_price"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.pick_up_first_price},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"pick_up_first_price",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v("取件續重重量單位(KG)")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.pick_up_follow_up_weight,expression:"driver_commission_policy.pick_up_follow_up_weight"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.pick_up_follow_up_weight},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"pick_up_follow_up_weight",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v("取件續重單價")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.pick_up_follow_up_price,expression:"driver_commission_policy.pick_up_follow_up_price"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.pick_up_follow_up_price},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"pick_up_follow_up_price",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v("送件首重重量(KG)")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.delivery_first_weight,expression:"driver_commission_policy.delivery_first_weight"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.delivery_first_weight},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"delivery_first_weight",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v("送件首重提成金額")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.delivery_first_price,expression:"driver_commission_policy.delivery_first_price"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.delivery_first_price},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"delivery_first_price",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v("送件續重重量單位(KG)")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.delivery_follow_up_weight,expression:"driver_commission_policy.delivery_follow_up_weight"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.delivery_follow_up_weight},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"delivery_follow_up_weight",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v("送件續重單價")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.delivery_follow_up_price,expression:"driver_commission_policy.delivery_follow_up_price"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.delivery_follow_up_price},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"delivery_follow_up_price",t.target.value)}}})]),i("div",{staticClass:"ui divider"}),i("h3",{staticClass:"ui header"},[e._v("袋裝")]),i("div",{staticClass:"field"},[i("label",[e._v("取件首重重量(KG)")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.house_pick_up_first_weight,expression:"driver_commission_policy.house_pick_up_first_weight"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.house_pick_up_first_weight},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"house_pick_up_first_weight",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v("取件首重提成金額")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.house_pick_up_first_price,expression:"driver_commission_policy.house_pick_up_first_price"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.house_pick_up_first_price},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"house_pick_up_first_price",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v("取件續重重量單位(KG)")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.house_pick_up_follow_up_weight,expression:"driver_commission_policy.house_pick_up_follow_up_weight"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.house_pick_up_follow_up_weight},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"house_pick_up_follow_up_weight",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v("取件續重單價")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.house_pick_up_follow_up_price,expression:"driver_commission_policy.house_pick_up_follow_up_price"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.house_pick_up_follow_up_price},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"house_pick_up_follow_up_price",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v("送件首重重量(KG)")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.house_delivery_first_weight,expression:"driver_commission_policy.house_delivery_first_weight"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.house_delivery_first_weight},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"house_delivery_first_weight",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v("送件首重提成金額")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.house_delivery_first_price,expression:"driver_commission_policy.house_delivery_first_price"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.house_delivery_first_price},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"house_delivery_first_price",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v("送件續重重量單位(KG)")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.house_delivery_follow_up_weight,expression:"driver_commission_policy.house_delivery_follow_up_weight"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.house_delivery_follow_up_weight},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"house_delivery_follow_up_weight",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v("送件續重單價")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.house_delivery_follow_up_price,expression:"driver_commission_policy.house_delivery_follow_up_price"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.house_delivery_follow_up_price},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"house_delivery_follow_up_price",t.target.value)}}})]),i("button",{staticClass:"ui basic positive button",on:{click:function(t){return t.preventDefault(),e.update(t)}}},[e._v(e._s(e.$t("ui.general.update")))])])]):e._e()])},TE=[];function BE(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function ME(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){BE(a,n,s,r,o,"next",e)}function o(e){BE(a,n,s,r,o,"throw",e)}r(void 0)})}}var UE={name:"EditDriverCommissionPolicy",props:{},data:function(){return{is_initialized:!1,is_processing:!1,driver_commission_policy:{},errors:[]}},created:function(){this.init()},mounted:function(){},watch:{$route:function(e,t){"edit_driver_commission_policy"==e.name&&this.init()}},computed:{},methods:{init:function(){var e=ME(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!1,t.is_processing=!1,t.driver_commission_policy={},t.errors=[],e()});case 2:return e.next=4,this.fetch_driver_commission_policy();case 4:return e.next=6,new Promise(function(e){t.is_initialized=!0,e()});case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_driver_commission_policy:function(){var e=this,t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_driver_commission_policy).parse({driver_commission_policy_identity:this.$route.params.identity},"");return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){return e.driver_commission_policy=t.data.driver_commission_policy,Promise.resolve()})["catch"](function(e){console.log("Failed to fetch driver_commission_policy.")})},update:function(){var e=this;this.is_processing=!0,this.errors=[];var t=this.driver_commission_policy,i=new RestUrl(this.$store.state.provider.routes.api_v1_provider_driver_commission_policy_update).parse({driver_commission_policy_identity:this.$route.params.identity},"");axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$noty.success(e.$t("ui.notifications.success.update__name",{name:e.$t("models.driver_commission_policies")})),e.$router.push("/provider/driver_commission_policies")):(e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.driver_commission_policies"),reason:": "+t.data.errors})),e.errors=t.data.errors)})["catch"](function(t){console.log(t),t.response?e.$noty.error(e.$t("ui.general.network_abnormality")+": "+t.response.status+t.response.data):e.$noty.error(e.$t("ui.general.network_abnormality")+": "+e.$t("ui.general.server_offline"))}),this.is_processing=!1}},components:{}},FE=UE,YE=Object(Tt["a"])(FE,LE,TE,!1,null,"665c2efc",null),GE=(YE.exports,"driver_commission_policies"),HE="new_driver_commission_policy",KE=[{path:"",component:qE,name:"driver_commission_policies",meta:{api_name:"api_v1_provider_driver_commission_policies",breadcrumb:[GE],btns:[HE]}},{path:"new",component:DE,name:"new_driver_commission_policy",meta:{api_name:"api_v1_provider_driver_commission_policy_create",breadcrumb:[GE,HE]}}],WE=KE,VE=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"driver_commission_reports"}},[i("div",{staticClass:"ui buttons"},[i("button",{staticClass:"ui basic grey button",on:{click:function(t){return t.preventDefault(),e.print(t)}}},[i("i",{staticClass:"print icon"}),e._v(e._s(e.$t("ui.pages.driver_commission_reports.print"))+"\n        ")]),i("button",{staticClass:"ui basic grey button",on:{click:function(t){return t.preventDefault(),e.toggle_setting_panel(t)}}},[i("i",{staticClass:"setting icon"}),e._v(e._s(e.$t("ui.pages.driver_commission_reports.setting"))+"\n        ")])]),i("transition",{attrs:{name:"fade",mode:"out-in"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.visibility.setting_panel,expression:"visibility.setting_panel"}],staticClass:"ui segment"},[i("table",{staticClass:"ui very basic table"},[i("thead",[i("tr",[i("th",[e._v(e._s(e.$t("ui.pages.driver_commission_reports.print_setting")))])])]),i("tbody",[i("tr",[i("td",{staticClass:"ui checkbox"},[i("div",{staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.settings.print.is_detailed_mode,expression:"settings.print.is_detailed_mode"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.settings.print.is_detailed_mode)?e._i(e.settings.print.is_detailed_mode,null)>-1:e.settings.print.is_detailed_mode},on:{change:function(t){var i=e.settings.print.is_detailed_mode,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=e._i(i,a);n.checked?r<0&&e.$set(e.settings.print,"is_detailed_mode",i.concat([a])):r>-1&&e.$set(e.settings.print,"is_detailed_mode",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.settings.print,"is_detailed_mode",s)}}}),i("label",[e._v(e._s(e.$t("ui.pages.driver_commission_reports.detailed_mode")))])])])])])])])]),i("Filters"),i("div",{staticClass:"ui segment"},[i("table",{staticClass:"ui celled compact table"},[i("thead",[i("tr",[i("th"),i("th",[e._v(e._s(e.$t("models.attributes.driver_commission_reports.staff")))]),i("th",[e._v(e._s(e.$t("models.attributes.driver_commission_reports.begin_at")))]),i("th",[e._v(e._s(e.$t("models.attributes.driver_commission_reports.begin_at")))]),i("th",[e._v(e._s(e.$t("ui.pages.driver_commission_reports.total_amount_of_commission")))]),i("th",[e._v(e._s(e.$t("models.attributes.driver_commission_reports.created_at")))]),i("th")])]),i("tbody",["default"==e.status||"fetching"==e.status?i("tr",[e._m(0)]):e._e(),e._l(e.driver_commission_reports,function(t){return"initialized"==e.status?i("DriverCommissionReport",{key:t.identity,attrs:{driver_commission_report:t,is_detailed_mode:e.settings.print.is_detailed_mode}}):e._e()})],2)]),i("Paginator",{attrs:{total_pages:e.pagination.total_pages,current_page:e.pagination.current_page}})],1)],1)},XE=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{attrs:{colspan:"7"}},[i("div",{staticClass:"ui active centered inline loader"})])}],QE=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{class:{warning:e.is_selected}},[i("td",{staticClass:"collapsing"},[i("div",{staticClass:"ui fitted checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.is_selected,expression:"is_selected"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.is_selected)?e._i(e.is_selected,null)>-1:e.is_selected},on:{change:function(t){var i=e.is_selected,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=e._i(i,a);n.checked?r<0&&(e.is_selected=i.concat([a])):r>-1&&(e.is_selected=i.slice(0,r).concat(i.slice(r+1)))}else e.is_selected=s}}}),i("label")])]),i("td",[e._v("\n        "+e._s(e.driver_commission_report.driver_name)+"\n    ")]),i("td",[e._v("\n        "+e._s(e.human_datetime(e.driver_commission_report.begin_at))+"\n    ")]),i("td",[e._v("\n        "+e._s(e.human_datetime(e.driver_commission_report.end_at))+"\n    ")]),i("td",[e._v("\n        "+e._s(e.driver_commission_report.total_amount)+"\n    ")]),i("td",[e._v("\n        "+e._s(e.human_datetime(e.driver_commission_report.created_at))+"\n    ")]),i("td",[i("router-link",{staticClass:"ui basic primary button",attrs:{to:{name:"driver_commission_report",params:{identity:e.driver_commission_report.identity}}}},[e._v("\n            "+e._s(e.$t("ui.general.detail"))+"\n        ")]),e.is_processing?e._e():i("a",{staticClass:"ui basic red button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.delete_driver_commission_report()}}},[e._v("\n            "+e._s(e.$t("ui.general.delete"))+"\n        ")]),e.is_selected?i("div",{staticClass:"driver_commission_report_print",staticStyle:{display:"none"}},[i("div",{ref:"printable",staticClass:"divided A4"},[i("h1",{staticClass:"ui header center aligned"},[e._v("提成報告")]),i("table",{staticClass:"ui celled small compact table"},[i("tbody",[i("tr",[i("td",{staticClass:"collapsing right aligned"},[e._v("\n                                人     員\n                            ")]),i("td",[e._v(e._s(e.driver_commission_report.driver_name))]),e._m(0)]),i("tr",[i("td",{staticClass:"collapsing right aligned"},[e._v("\n                                期     間\n                            ")]),i("td",[e._v(e._s(e.human_datetime(e.driver_commission_report.begin_at))+" 至 "+e._s(e.human_datetime(e.driver_commission_report.end_at)))]),i("td",{staticClass:"top aligned",attrs:{colspan:"4",rowspan:"3"}})]),i("tr",[i("td",{staticClass:"collapsing right aligned"},[e._v("\n                                總  金  額\n                            ")]),i("td",[e._v(e._s(e.driver_commission_report.total_amount)+" 元")])]),i("tr",[i("td",{staticClass:"collapsing right aligned"},[e._v("\n                                產 生 日 期\n                            ")]),i("td",[e._v(e._s(e.human_datetime(e.driver_commission_report.created_at)))])])])]),i("table",{staticClass:"ui celled small compact table"},[i("thead",[i("tr",[i("th",{staticClass:"center aligned",attrs:{colspan:e.is_detailed_mode?5:4}},[i("h3",{staticClass:"ui header"},[e._v("取 件 明 細")])])]),e.is_detailed_mode?i("tr",[i("th",{staticClass:"collapsing"},[e._v("序號")]),i("th",[e._v("單號")]),i("th",[e._v("日期")]),i("th",[e._v("重量")]),i("th",[e._v("提成(元)")])]):i("tr",[i("th",[e._v("總運單數")]),i("th",[e._v("總重量")]),i("th",[e._v("總提成(元)")])])]),i("tbody",e._l(e.driver_commission_report.pick_up_driver_commissions,function(t,n){return e.is_detailed_mode?i("tr",[i("td",[e._v(e._s(n+1))]),i("td",[e._v(e._s(t.core_waybill.number))]),i("td",[e._v(e._s(e.human_datetime(t.created_at)))]),i("td",[e._v(e._s(t.core_waybill.weight_in_kilo))]),i("td",[e._v(e._s(t.amount))])]):e._e()})),i("tfoot",[e.is_detailed_mode?i("tr",[i("th",{staticClass:"center aligned",attrs:{colspan:"3"}},[e._v("總計")]),i("th",[e._v(e._s(e.sum_weights(e.driver_commission_report.pick_up_driver_commissions)))]),i("th",[e._v(e._s(e.sum_amounts(e.driver_commission_report.pick_up_driver_commissions)))])]):e._e(),e.is_detailed_mode?e._e():i("tr",[i("th",[e._v(e._s(e.driver_commission_report.pick_up_driver_commissions.length))]),i("th",[e._v(e._s(e.sum_weights(e.driver_commission_report.pick_up_driver_commissions)))]),i("th",[e._v(e._s(e.sum_amounts(e.driver_commission_report.pick_up_driver_commissions)))])])])]),i("table",{staticClass:"ui celled small compact table"},[i("thead",[i("tr",[i("th",{staticClass:"center aligned",attrs:{colspan:e.is_detailed_mode?5:4}},[i("h3",{staticClass:"ui header"},[e._v("派 件 明 細")])])]),e.is_detailed_mode?i("tr",[i("th",{staticClass:"collapsing"},[e._v("序號")]),i("th",[e._v("單號")]),i("th",[e._v("日期")]),i("th",[e._v("重量")]),i("th",[e._v("提成(元)")])]):i("tr",[i("th",[e._v("總運單數")]),i("th",[e._v("總重量")]),i("th",[e._v("總提成(元)")])])]),i("tbody",e._l(e.driver_commission_report.delivery_driver_commissions,function(t,n){return e.is_detailed_mode?i("tr",[i("td",[e._v(e._s(n+1))]),i("td",[e._v(e._s(t.core_waybill.number))]),i("td",[e._v(e._s(e.human_datetime(t.created_at)))]),i("td",[e._v(e._s(t.core_waybill.weight_in_kilo))]),i("td",[e._v(e._s(t.amount))])]):e._e()})),i("tfoot",[e.is_detailed_mode?i("tr",[i("th",{staticClass:"center aligned",attrs:{colspan:"3"}},[e._v("總計")]),i("th",[e._v(e._s(e.sum_weights(e.driver_commission_report.delivery_driver_commissions)))]),i("th",[e._v(e._s(e.sum_amounts(e.driver_commission_report.delivery_driver_commissions)))])]):e._e(),e.is_detailed_mode?e._e():i("tr",[i("th",[e._v(e._s(e.driver_commission_report.delivery_driver_commissions.length))]),i("th",[e._v(e._s(e.sum_weights(e.driver_commission_report.delivery_driver_commissions)))]),i("th",[e._v(e._s(e.sum_amounts(e.driver_commission_report.delivery_driver_commissions)))])])])])])]):e._e()],1)])},ZE=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{staticClass:"top aligned",attrs:{colspan:"4",rowspan:"1"}},[i("h3",{staticClass:"ui header center aligned"},[e._v("簽名欄")])])}],JE={name:"ProviderDriverCommissionReportsIndexItem",props:{driver_commission_report:Object,is_detailed_mode:Boolean},data:function(){return{is_processing:!1,is_selected:!1}},computed:{},created:function(){},mounted:function(){},watch:{},methods:{delete_driver_commission_report:function(){var e=this;if(confirm(this.$t("ui.notifications.warning.are_you_sure_to_delete_it"))){this.is_processing=!0;var t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_driver_commission_report_delete).parse({driver_commission_report_identity:this.driver_commission_report.identity},"?authorization="+this.$store.state.provider.node.authorization);axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$parent.init(),e.$noty.success(e.$t("ui.notifications.success.delete__name",{name:e.$t("models.driver_commission_reports")}))):e.$noty.error(e.$t("ui.notifications.error.delete__name",{name:e.$t("models.driver_commission_reports")}))})["catch"](function(t){console.log(t),t.response?e.$noty.error(e.$t("ui.general.network_abnormality")+": "+t.response.status+t.response.data):e.$noty.error(e.$t("ui.general.network_abnormality")+": "+e.$t("ui.general.server_offline"))}),this.is_processing=!1}},human_datetime:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"lll";return T()(e).locale("zh-tw").format(t)},sum_amounts:function(e){return _.sumBy(e,function(e){var t=e.amount;return parseFloat(t)}).toFixed(2)},sum_weights:function(e){return _.sumBy(e,function(e){var t=e.core_waybill.weight_in_kilo;return e.amount<0?parseFloat(-1*t):parseFloat(t)}).toFixed(2)}},components:{}},ez=JE,tz=Object(Tt["a"])(ez,QE,ZE,!1,null,null,null),iz=tz.exports,nz=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{display:"flex","justify-content":"space-between"},attrs:{id:"distributions_filter"}},[i("div"),i("div",{staticClass:"ui segment",style:{width:e.filter.is_advanced_mode?"100%":"auto",margin:0}},[i("Header",{staticClass:"right floated"}),i("div",{staticClass:"clear"}),i("transition",{attrs:{name:"slide-fade",mode:"out-in"}},[e.filter.is_advanced_mode?i("Advanced"):e._e()],1)],1)])},sz=[],az=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"filter_advanced"}},[i("div",{staticClass:"ui form",on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$parent.$parent.driver_commission_reports_filter()}}},[i("div",{staticClass:"three fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("ui.pages.driver_commission_reports.filter.staff_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.staff_name,expression:"filter.columns.staff_name"}],attrs:{type:"text"},domProps:{value:e.filter.columns.staff_name},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"staff_name",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("ui.pages.driver_commission_reports.filter.begin_at")))]),i("DatePicker",{key:"advanced_begin_at",attrs:{re_init:Boolean(e.filter.columns.begin_at),type:"datetime"},model:{value:e.filter.columns.begin_at,callback:function(t){e.$set(e.filter.columns,"begin_at",t)},expression:"filter.columns.begin_at"}})],1),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("ui.pages.driver_commission_reports.filter.end_at")))]),i("DatePicker",{key:"advanced_end_at",attrs:{re_init:Boolean(e.filter.columns.end_at),type:"datetime"},model:{value:e.filter.columns.end_at,callback:function(t){e.$set(e.filter.columns,"end_at",t)},expression:"filter.columns.end_at"}})],1)]),i("div",{staticClass:"three fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("ui.pages.driver_commission_reports.filter.total_amount_from")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.total_amount_from,expression:"filter.columns.total_amount_from"}],attrs:{type:"text"},domProps:{value:e.filter.columns.total_amount_from},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"total_amount_from",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("ui.pages.driver_commission_reports.filter.total_amount_to")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.total_amount_to,expression:"filter.columns.total_amount_to"}],attrs:{type:"text"},domProps:{value:e.filter.columns.total_amount_to},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"total_amount_to",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("ui.pages.driver_commission_reports.filter.created_at")))]),i("DatePicker",{key:"advanced_created_duration",attrs:{re_init:Boolean(e.filter.columns.created_duration),type:"daterange",format:"YYYY-MM-DD"},model:{value:e.filter.columns.created_duration,callback:function(t){e.$set(e.filter.columns,"created_duration",t)},expression:"filter.columns.created_duration"}})],1)])]),i("div",{staticClass:"ui icon blue button right floated",on:{click:function(t){e.$parent.$parent.driver_commission_reports_filter()}}},[i("i",{staticClass:"search icon"}),e._v("\n        "+e._s(e.$t("ui.general.search"))+"\n    ")]),i("div",{staticClass:"clear"})])},rz=[],oz={name:"OperationsFilterAdvanced",data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.provider.driver_commission_reports_module},filter:function(){return this.current_store.filter}},created:function(){},mounted:function(){},watch:{},methods:{},components:{DatePicker:XC["a"]}},cz=oz,_z=(n("1f1c"),Object(Tt["a"])(cz,az,rz,!1,null,"13a7ed58",null)),lz=_z.exports,uz=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{style:e.style.width<470?{textAlign:"right"}:{},attrs:{id:"filter_general"}},[e.filter.is_advanced_mode?e._e():i("div",{staticClass:"ui action input"},[e.style.width>470?i("HeaderInputs"):e._e(),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection dropdown no_search right_radius",staticStyle:{"min-width":"120px"}},[e._l(e.filter.shortcut_keys,function(t){return e.filter.current_shortcut_key==t?i("div",{staticClass:"text"},[i("span","created_duration"==t?[e._v("\n                    "+e._s(e.$t("ui.pages.driver_commission_reports.filter.created_at"))+"\n                ")]:[e._v("\n                    "+e._s(e.$t("ui.pages.driver_commission_reports.filter."+t))+"\n                ")])]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.filter.shortcut_keys,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.current_shortcut_key==t},on:{click:function(i){e.set_quick_filter(t)}}},[i("span","created_duration"==t?[e._v("\n                        "+e._s(e.$t("ui.pages.driver_commission_reports.filter.created_at"))+"\n                    ")]:[e._v("\n                        "+e._s(e.$t("ui.pages.driver_commission_reports.filter."+t))+"\n                    ")])])}))],2),i("div",{staticClass:"ui button icon",on:{click:function(t){e.$parent.$parent.driver_commission_reports_filter()}}},[i("i",{staticClass:"search icon"})])],1),e.filter.is_advanced_mode?i("div",{staticClass:"ui basic red icon button",on:{click:function(t){e.$store.commit("provider/driver_commission_reports_module/init_filter_columns")}}},[i("i",{staticClass:"close icon"}),e._v("\n        "+e._s(e.$t("ui.general.clear"))+"\n    ")]):e._e(),i("div",{staticClass:"ui button icon",style:{height:e.filter.is_advanced_mode?"auto":"38px",paddingTop:e.filter.is_advanced_mode?"":"13px",verticalAlign:e.filter.is_advanced_mode?"":"top",margin:"0 6px"},on:{click:function(t){e.filter.is_advanced_mode=!e.filter.is_advanced_mode}}},[i("i",{staticClass:"bars icon",class:{minus:e.filter.is_advanced_mode,bars:!e.filter.is_advanced_mode}})]),!e.filter.is_advanced_mode&&e.style.width<470?i("div",{staticClass:"ui action input",staticStyle:{"padding-top":"9px",width:"100%"}},[i("HeaderInputs")],1):e._e()])},dz=[],pz=function(){var e=this,t=e.$createElement,i=e._self._c||t;return"begin_at"!=e.filter.current_shortcut_key&&"end_at"!=e.filter.current_shortcut_key&&"created_duration"!=e.filter.current_shortcut_key?i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns[e.filter.current_shortcut_key],expression:"filter.columns[filter.current_shortcut_key]"}],attrs:{placeholder:e.$t("ui.general.search__key",{key:e.$t("ui.pages.driver_commission_reports.filter."+e.filter.current_shortcut_key)}),type:"text"},domProps:{value:e.filter.columns[e.filter.current_shortcut_key]},on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$parent.$parent.$parent.driver_commission_reports_filter()},input:function(t){t.target.composing||e.$set(e.filter.columns,e.filter.current_shortcut_key,t.target.value)}}}):"created_duration"==e.filter.current_shortcut_key?i("DatePicker",{key:"created_duration",staticStyle:{"min-width":"200px",width:"100%"},attrs:{type:"daterange",format:"YYYY-MM-DD"},model:{value:e.filter.columns.created_duration,callback:function(t){e.$set(e.filter.columns,"created_duration",t)},expression:"filter.columns.created_duration"}}):"begin_at"==e.filter.current_shortcut_key?i("DatePicker",{key:"begin_at",staticStyle:{"min-width":"200px",width:"100%"},attrs:{type:"datetime"},model:{value:e.filter.columns.begin_at,callback:function(t){e.$set(e.filter.columns,"begin_at",t)},expression:"filter.columns.begin_at"}}):"end_at"==e.filter.current_shortcut_key?i("DatePicker",{key:"end_at",staticStyle:{"min-width":"200px",width:"100%"},attrs:{type:"datetime"},model:{value:e.filter.columns.end_at,callback:function(t){e.$set(e.filter.columns,"end_at",t)},expression:"filter.columns.end_at"}}):e._e()},mz=[],fz={name:"DriverCommissionReportsFilterHeaderInputs",data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.provider.driver_commission_reports_module},filter:function(){return this.current_store.filter}},created:function(){},mounted:function(){},watch:{},methods:{},components:{DatePicker:XC["a"]}},hz=fz,vz=Object(Tt["a"])(hz,pz,mz,!1,null,null,null),gz=vz.exports,bz={name:"DriverCommissionReportsFilter",data:function(){return{is_initialized:!1}},computed:{style:function(){return this.$store.state.style},current_store:function(){return this.$store.state.provider.driver_commission_reports_module},filter:function(){return this.current_store.filter}},created:function(){},mounted:function(){},watch:{"filter.current_shortcut_key":function(e){this.$forceUpdate()}},methods:{set_quick_filter:function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{this.filter.current_shortcut_key=i,this.filter.columns.created_duration="",_.forEach(this.filter.shortcut_keys,function(e){t.filter.columns[e]=null})}catch(e){console.log(e)}}},components:{HeaderInputs:gz}},yz=bz,wz=(n("2f42"),Object(Tt["a"])(yz,uz,dz,!1,null,"3e4e05f4",null)),$z=wz.exports,kz={name:"DriverCommissionReportsFilter",data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.provider.driver_commission_reports_module},filter:function(){return this.current_store.filter}},created:function(){},mounted:function(){},watch:{"filter.is_advanced_mode":function(e){e||this.$store.commit("provider/driver_commission_reports_module/init_filter_columns")}},methods:{},components:{Advanced:lz,Header:$z}},xz=kz,Cz=Object(Tt["a"])(xz,nz,sz,!1,null,null,null),Pz=Cz.exports;function Sz(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function Nz(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){Sz(a,n,s,r,o,"next",e)}function o(e){Sz(a,n,s,r,o,"throw",e)}r(void 0)})}}var qz={name:"DriverCommissionReportsIndex",data:function(){return{status:"default",visibility:{setting_panel:!1},settings:{print:{is_detailed_mode:!1}}}},computed:{current_store:function(){return this.$store.state.provider.driver_commission_reports_module},driver_commission_reports:function(){return this.current_store.driver_commission_reports},pagination:function(){return this.current_store.pagination},is_selected:function(){return this.current_store.is_selected},filter:function(){return this.current_store.filter}},created:function(){},mounted:function(){var e=this;this.init(),this.$bus.$off("init"),this.$bus.$on("init",function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.init()})},beforeDestroy:function(){this.$bus.$off("init")},watch:{$route:function(e,t){this.init(!1)}},methods:{init:function(){var e=Nz(regeneratorRuntime.mark(function e(){var t,i=this,n=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=!(n.length>0&&void 0!==n[0])||n[0],e.prev=1,e.next=4,new Promise(function(e){i.is_initialized=!1,i.status="default",e()});case 4:return e.next=6,this.$store.dispatch("provider/driver_commission_reports_module/handle_query_to_filter",{query:this.$route.query});case 6:if(!t){e.next=9;break}return e.next=9,this.$store.dispatch("provider/driver_commission_reports_module/handle_quick_filter_key");case 9:return e.next=11,this.$store.dispatch("provider/driver_commission_reports_module/fetch_driver_commission_reports");case 11:e.next=18;break;case 13:e.prev=13,e.t0=e["catch"](1),console.log("init error: "),console.log(e.t0),this.$noty.error(this.$t("ui.notifications.error.fetch__name",{name:this.$t("models.driver_commission_reports"),reason:e.t0}));case 18:return e.prev=18,this.status="initialized",e.finish(18);case 21:case"end":return e.stop()}},e,this,[[1,13,18,21]])}));function t(){return e.apply(this,arguments)}return t}(),driver_commission_reports_filter:function(){console.log("driver_commission_reports_filter");try{this.$router.push({name:this.$router.name,query:this.$store.getters["provider/driver_commission_reports_module/filter_to_query"]})}catch(e){console.log(e)}},multiple_select:function(){var e=this,t=_.filter(this.$children,function(e){return"DriverCommissionReport"==e.$options._componentTag});_.forEach(t,function(t,i){t.is_selected=e.is_selected})},print:function(){var e=Nz(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=_.filter(this.$children,function(e){return"DriverCommissionReport"==e.$options._componentTag}),$("div#print").html(""),e.next=4,new Promise(function(e){_.forEach(t,function(i,n){1==i.is_selected&&$("div#print").append(i.$refs.printable),n==t.length-1&&e()})});case 4:return e.next=6,new Promise(function(e){window.print(),e()});case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),toggle_setting_panel:function(){this.visibility.setting_panel=!this.visibility.setting_panel}},components:{Filters:Pz,DriverCommissionReport:iz,Paginator:Ma}},Az=qz,Ez=(n("9a0a"),n("3dcc"),Object(Tt["a"])(Az,VE,XE,!1,null,null,null)),zz=Ez.exports,jz=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui segment",attrs:{id:"new_driver_commission_report"}},[i("h1",{staticClass:"ui header"},[e._v("\n        "+e._s(e.$t("ui.page_titles.new_driver_commission_report"))+"\n        "),i("div",{staticClass:"sub header"},[i("button",{staticClass:"ui basic positive button",on:{click:function(t){return t.preventDefault(),e.start(t)}}},[e._v("\n                "+e._s(e.$t("ui.pages.driver_commission_reports.start_all"))+"\n            ")])])]),"before_initialized"!=e.status?i("div",[i("form",{staticClass:"ui form"},[i("div",{staticClass:"field",class:{disabled:"locked"==e.status}},[i("label",[e._v(e._s(e.$t("models.attributes.driver_commission_reports.staff")))]),i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.selected_driver_identities,expression:"selected_driver_identities"}],staticClass:"ui dropdown",attrs:{multiple:""},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.selected_driver_identities=t.target.multiple?i:i[0]}}},e._l(e.staffs,function(t){return i("option",{attrs:{staff:t},domProps:{value:t.identity}},[e._v(e._s(t.name))])}))]),i("div",{staticClass:"field",class:{disabled:"locked"==e.status}},[i("label",[e._v(e._s(e.$t("models.attributes.driver_commission_reports.begin_at")))]),i("el-date-picker",{attrs:{type:"datetime",placeholder:e.$t("ui.el.datepicker.selectDateTime")},model:{value:e.general_params.begin_at,callback:function(t){e.$set(e.general_params,"begin_at",t)},expression:"general_params.begin_at"}})],1),i("div",{staticClass:"field",class:{disabled:"locked"==e.status}},[i("label",[e._v(e._s(e.$t("models.attributes.driver_commission_reports.end_at")))]),i("el-date-picker",{attrs:{type:"datetime",placeholder:e.$t("ui.el.datepicker.selectDateTime")},model:{value:e.general_params.end_at,callback:function(t){e.$set(e.general_params,"end_at",t)},expression:"general_params.end_at"}})],1)]),i("table",{staticClass:"ui celled table"},[i("thead",[i("tr",{staticClass:"center aligned"},[i("th",[e._v(e._s(e.$t("models.attributes.driver_commission_reports.staff")))]),i("th",[e._v(e._s(e.$t("models.attributes.driver_commission_reports.begin_at")))]),i("th",[e._v(e._s(e.$t("models.attributes.driver_commission_reports.end_at")))]),i("th",[e._v(e._s(e.$t("ui.pages.driver_commission_reports.status")))]),i("th")])]),i("tbody",e._l(e.selected_drivers,function(t){return i("Item",{key:t.identity,attrs:{driver:t,begin_at:e.$moment(e.general_params.begin_at).format("YYYY-MM-DDTHH:mm:ss+08:00"),end_at:e.$moment(e.general_params.end_at).format("YYYY-MM-DDTHH:mm:ss+08:00")}})}))])]):e._e()])},Rz=[],Oz=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"center aligned",class:{error:"canceled"==e.status}},[i("td",[e._v("\n        "+e._s(e.driver.name)+"\n    ")]),i("td",[e._v("\n        "+e._s(e.human_datetime(e.begin_at))+"\n    ")]),i("td",[e._v("\n        "+e._s(e.human_datetime(e.end_at))+"\n    ")]),i("td",["waiting"==e.status?i("div",[i("i",{staticClass:"wait large icon"}),e._v("\n                "+e._s(e.$t("ui.general.ready"))+"\n        ")]):e._e(),"processing"==e.status?i("div",[i("i",{staticClass:"notched circle loading large icon"}),e._v("\n            "+e._s(e.$t("ui.general.handling"))+"\n        ")]):e._e(),"done"==e.status?i("div",[i("i",{staticClass:"check large icon"}),e._v("\n            "+e._s(e.$t("ui.general.success"))+"\n        ")]):e._e(),"failed"==e.status?i("div",[i("i",{staticClass:"remove large icon"}),e._v("\n            "+e._s(e.$t("ui.general.failure"))+"\n        ")]):e._e(),"canceled"==e.status?i("div",[i("i",{staticClass:"remove large icon"}),e._v("\n            "+e._s(e.$t("ui.general.cancel"))+"\n        ")]):e._e()]),i("td",{staticClass:"left aligned"},["done"==e.status?i("router-link",{staticClass:"ui basic primary button",attrs:{to:{name:"driver_commission_report",params:{identity:e.report_identity}},target:"_blank"}},[e._v("\n            "+e._s(e.$t("ui.pages.driver_commission_reports.go_to_report"))+"\n        ")]):e._e(),"failed"==e.status?i("div",{staticClass:"ui basic negative button",on:{click:function(t){return t.preventDefault(),e.cancel(t)}}},[e._v("\n            "+e._s(e.$t("ui.general.cancel"))+"\n        ")]):e._e(),"failed"!=e.status&&"done"!=e.status?i("div",{staticClass:"ui basic disabled negative button"},[e._v("\n            "+e._s(e.$t("ui.general.cancel"))+"\n        ")]):e._e()],1)])},Iz=[],Dz={name:"ProviderDriverCommissionReportsNewItem",props:{driver:Object,begin_at:String,end_at:String},data:function(){return{status:"waiting",report_identity:null,errors:[]}},computed:{},created:function(){},mounted:function(){},watch:{},methods:{cancel:function(){this.status="canceled"},human_datetime:function(e){return e&&"Invalid date"!=e?T()(e).locale(this.$store.state.language||"zh-tw").format("lll"):this.$t("ui.pages.driver_commission_reports.no_select_date")}},components:{}},Lz=Dz,Tz=Object(Tt["a"])(Lz,Oz,Iz,!1,null,null,null),Bz=Tz.exports;function Mz(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function Uz(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){Mz(a,n,s,r,o,"next",e)}function o(e){Mz(a,n,s,r,o,"throw",e)}r(void 0)})}}var Fz={name:"NewDriverCommissionReport",props:{},data:function(){return{status:"before_initialized",staffs:[],selected_driver_identities:[],selected_drivers:[],general_params:{},errors:[]}},created:function(){this.init()},mounted:function(){},watch:{$route:function(e,t){"new_driver_commission_report"==e.name&&this.init()},selected_driver_identities:function(e,t){var i=this;this.selected_drivers=[],this.selected_drivers=_.filter(this.staffs,function(e){return i.selected_driver_identities.includes(e.identity)})}},computed:{},methods:{init:function(){var e=Uz(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.general_params={begin_at:"",end_at:""},t.errors=[],e()});case 2:return e.next=4,this.fetch_staffs();case 4:return e.next=6,new Promise(function(e){t.status="initialized",e()});case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_staffs:function(){var e=this,t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_staffs).parse({},"?"+object_to_query({pagination:!1}));return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?e.staffs=t.data.staffs:e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.staffs")}))})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.staffs"),reason:": "+errors}))})},start:function(){var e=Uz(regeneratorRuntime.mark(function e(){var t,i,n,s,a,r,o,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!(this.selected_drivers.length>0)){e.next=37;break}if(!this.general_params.begin_at||!this.general_params.end_at){e.next=34;break}this.status="locked",t=!0,i=!1,n=void 0,e.prev=6,s=this.$children[Symbol.iterator]();case 8:if(t=(a=s.next()).done){e.next=18;break}if(r=a.value,!r.driver){e.next=15;break}return o=this.$store.state.provider.routes.api_v1_provider_driver_commission_reports_create,c={staff_identity:r.driver.identity,begin_at:this.$moment(this.general_params.begin_at).format("YYYY-MM-DDTHH:mm:ss+08:00"),end_at:this.$moment(this.general_params.end_at).format("YYYY-MM-DDTHH:mm:ss+08:00")},e.next=15,this.create(o,c,r);case 15:t=!0,e.next=8;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e["catch"](6),i=!0,n=e.t0;case 24:e.prev=24,e.prev=25,t||null==s["return"]||s["return"]();case 27:if(e.prev=27,!i){e.next=30;break}throw n;case 30:return e.finish(27);case 31:return e.finish(24);case 32:e.next=35;break;case 34:this.$noty.error(this.$t("ui.general.please_select")+" 起訖日");case 35:e.next=38;break;case 37:this.$noty.error(this.$t("ui.general.please_select")+" 對象");case 38:case"end":return e.stop()}},e,this,[[6,20,24,32],[25,,27,31]])}));function t(){return e.apply(this,arguments)}return t}(),create:function(e,t,i){if("done"!=i.status&&"canceled"!=i.status)return i.status="processing",axios.post(e,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){"success"==e.data.status?(i.status="done",i.report_identity=e.data.driver_commission_report.identity):i.status="failed"})["catch"](function(e){i.status="failed"})}},components:{Item:Bz}},Yz=Fz,Gz=(n("d1f7"),Object(Tt["a"])(Yz,jz,Rz,!1,null,"033319bf",null)),Hz=Gz.exports,Kz=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui segment",attrs:{id:"edit_driver_commission_report"}},[i("h1",{staticClass:"ui header"},[e._v("\n        "+e._s(e.$t("ui.page_titles.driver_commission_report"))+"\n    ")]),e.is_initialized?i("div",[i("table",{staticClass:"ui very basic celled table"},[i("tbody",[i("tr",[i("td",{staticClass:"collapsing right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.driver_commission_reports.staff"))+"\n                    ")]),i("td",[e._v(e._s(e.driver_commission_report.driver_name))])]),i("tr",[i("td",{staticClass:"collapsing right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.driver_commission_reports.time"))+"\n                    ")]),i("td",[e._v("\n                        "+e._s(e.human_datetime(e.driver_commission_report.begin_at))+"\n                         "+e._s(e.$t("ui.pages.driver_commission_reports.to"))+" \n                        "+e._s(e.human_datetime(e.driver_commission_report.end_at))+"\n                    ")])]),i("tr",[i("td",{staticClass:"collapsing right aligned"},[e._v("\n                        "+e._s(e.$t("ui.pages.driver_commission_reports.total_amount_of_commission"))+"\n                    ")]),i("td",[e._v(e._s(e.driver_commission_report.total_amount)+" 元")])]),i("tr",[i("td",{staticClass:"collapsing right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.driver_commission_reports.created_at"))+"\n                    ")]),i("td",[e._v(e._s(e.human_datetime(e.driver_commission_report.created_at)))])])])]),i("div",{staticClass:"ui equal width grid"},[i("div",{staticClass:"column"},[i("h3",{staticClass:"ui header"},[e._v("\n                    "+e._s(e.$t("ui.pages.driver_commission_reports.table.pickup_details"))+"\n                ")]),i("table",{staticClass:"ui celled table"},[i("thead",[i("tr",[i("th",{staticClass:"collapsing"},[e._v("\n                                "+e._s(e.$t("ui.pages.driver_commission_reports.table.No"))+"\n                            ")]),i("th",[e._v("\n                                "+e._s(e.$t("ui.pages.driver_commission_reports.table.number"))+"\n                            ")]),i("th",[e._v("\n                                "+e._s(e.$t("ui.pages.driver_commission_reports.table.weight"))+"\n                            ")]),i("th",[e._v("\n                                "+e._s(e.$t("ui.pages.driver_commission_reports.table.date"))+"\n                            ")]),i("th",[e._v("\n                                "+e._s(e.$t("ui.pages.driver_commission_reports.table.commission"))+"\n                            ")])])]),i("tbody",e._l(e.driver_commission_report.pick_up_driver_commissions,function(t,n){return i("tr",[i("td",[e._v(e._s(n+1))]),i("td",[e._v(e._s(t.core_waybill.number))]),i("td",[e._v(e._s(t.core_waybill.weight_in_kilo))]),i("td",[e._v(e._s(e.human_datetime(t.created_at)))]),i("td",[e._v(e._s(t.amount))])])})),i("tfoot",[i("tr",[i("th",{staticClass:"center aligned",attrs:{colspan:"4"}},[e._v("\n                                    "+e._s(e.$t("ui.pages.driver_commission_reports.table.total"))+"\n                                ")]),i("th",[e._v(e._s(e.total_amount(e.driver_commission_report.pick_up_driver_commissions)))])])])])]),i("div",{staticClass:"column"},[i("h3",{staticClass:"ui header"},[e._v("\n                    "+e._s(e.$t("ui.pages.driver_commission_reports.table.dispatch_details"))+"\n                ")]),i("table",{staticClass:"ui celled table"},[i("thead",[i("tr",[i("th",{staticClass:"collapsing"},[e._v("\n                                "+e._s(e.$t("ui.pages.driver_commission_reports.table.No"))+"\n                            ")]),i("th",[e._v("\n                                "+e._s(e.$t("ui.pages.driver_commission_reports.table.number"))+"\n                            ")]),i("th",[e._v("\n                                "+e._s(e.$t("ui.pages.driver_commission_reports.table.weight"))+"\n                            ")]),i("th",[e._v("\n                                "+e._s(e.$t("ui.pages.driver_commission_reports.table.date"))+"\n                            ")]),i("th",[e._v("\n                                "+e._s(e.$t("ui.pages.driver_commission_reports.table.commission"))+"\n                            ")])])]),i("tbody",e._l(e.driver_commission_report.delivery_driver_commissions,function(t,n){return i("tr",[i("td",[e._v(e._s(n+1))]),i("td",[e._v(e._s(t.core_waybill.number))]),i("td",[e._v(e._s(t.core_waybill.weight_in_kilo))]),i("td",[e._v(e._s(e.human_datetime(t.created_at)))]),i("td",[e._v(e._s(t.amount))])])})),i("tfoot",[i("tr",[i("th",{staticClass:"center aligned",attrs:{colspan:"4"}},[e._v("\n                                    "+e._s(e.$t("ui.pages.driver_commission_reports.table.total"))+"\n                                ")]),i("th",[e._v(e._s(e.total_amount(e.driver_commission_report.delivery_driver_commissions)))])])])])])])]):e._e()])},Wz=[];function Vz(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function Xz(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){Vz(a,n,s,r,o,"next",e)}function o(e){Vz(a,n,s,r,o,"throw",e)}r(void 0)})}}var Qz={name:"ShowDriverCommissionReport",props:{},data:function(){return{is_initialized:!1,is_processing:!1,driver_commission_report:{},errors:[]}},created:function(){this.init()},mounted:function(){},watch:{$route:function(e,t){"edit_driver_commission_report"==e.name&&this.init()}},computed:{},methods:{init:function(){var e=Xz(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!1,t.is_processing=!1,t.driver_commission_report={},t.errors=[],e()});case 2:return e.next=4,this.fetch_driver_commission_report();case 4:return e.next=6,new Promise(function(e){t.is_initialized=!0,e()});case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_driver_commission_report:function(){var e=this,t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_driver_commission_report).parse({driver_commission_report_identity:this.$route.params.identity},"");return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){return e.driver_commission_report=t.data.driver_commission_report,Promise.resolve()})["catch"](function(e){console.log("Failed to fetch driver_commission_report.")})},total_amount:function(e){return _.sumBy(e,function(e){return parseInt(e.amount)})}},components:{}},Zz=Qz,Jz=Object(Tt["a"])(Zz,Kz,Wz,!1,null,"b7e1f7da",null),ej=Jz.exports,tj="driver_commission_reports",ij="new_driver_commission_report",nj="driver_commission_report",sj=[{path:"",component:zz,name:"driver_commission_reports",meta:{api_name:"api_v1_provider_driver_commission_reports",breadcrumb:[tj],btns:[ij]}},{path:"new",component:Hz,name:"new_driver_commission_report",meta:{api_name:"api_v1_provider_driver_commission_report_create",breadcrumb:[tj,ij]}},{path:":identity",component:ej,name:"driver_commission_report",meta:{api_name:"api_v1_provider_driver_commission_report",breadcrumb:[tj,nj]}}],aj=sj,rj=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"x_scrollable",attrs:{id:"scan_action_prototypes"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),e.is_initialized?i("div",{staticClass:"right floated ui button",on:{click:function(t){e.print_scan_action_prototypes()}}},[i("i",{staticClass:"print icon"}),e._v("\n        "+e._s(e.$t("ui.pages.scan_action_prototypes.print_barcodes"))+"\n    ")]):e._e(),e.is_initialized?i("Print",{staticClass:"printarea",attrs:{scan_action_prototypes:e.scan_action_prototypes}}):e._e(),i("div",{staticClass:"clear"}),i("div",{staticClass:"ui segment"},[e.style.width<767?i("div",{staticStyle:{"margin-bottom":"1em"}},[e.is_loading?i("div",[i("div",{staticClass:"ui active centered inline loader"})]):e._l(e.scan_action_prototypes,function(t){return i("DataCard",{key:t.identity,attrs:{object:t,title:t.name,title_link:{name:"scan_action_prototype",params:{identity:t.identity}},sub_title:t.barcode,is_show_column:!1,keys:["barcode"],i_18n_key:"scan_action_prototypes"}},[i("div",{staticStyle:{"text-align":"center"},attrs:{slot:"barcode"},slot:"barcode"},[i("barcode",{attrs:{value:t.barcode,tag:"svg",options:{background:"transparent",displayValue:!0,format:"CODE128",width:1,height:25}}},[e._v("\n                        看見此資訊請通知系統工程師。\n                    ")])],1)])}),!e.is_loading&&e.scan_action_prototypes.length<=0?i("div",{staticClass:"ui center aligned red segment"},[i("h3",[e._v("\n                    "+e._s(e.$t("ui.general.no_data"))+"\n                ")])]):e._e()],2):i("table",{staticClass:"ui compact celled table"},[i("thead",{staticClass:"center aligned"},[i("tr",[i("th",{attrs:{colspan:"2"}},[e._v(e._s(e.$t("models.attributes.scan_action_prototypes.barcode")))]),i("th",[e._v(e._s(e.$t("models.attributes.scan_action_prototypes.name")))]),i("th")])]),e.is_loading?i("tbody",{staticClass:"center aligned"},[e._m(0)]):i("tbody",{staticClass:"center aligned"},e._l(e.scan_action_prototypes,function(e){return i("ScanActionPrototype",{key:e.identity,attrs:{scan_action_prototype:e}})}))])])],1)},oj=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"loading"},[i("td",{attrs:{colspan:"6"}},[i("div",{staticClass:"ui active centered inline loader"})])])}],cj=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",[i("td",[e._v("\n        "+e._s(e.scan_action_prototype.barcode)+"\n    ")]),i("td",[i("barcode",{attrs:{value:e.scan_action_prototype.barcode,tag:"svg",options:{background:"transparent",displayValue:!0,format:"CODE128",width:1,height:25}}},[e._v("\n            看見此資訊請通知系統工程師。\n        ")])],1),i("td",[e._v("\n        "+e._s(e.scan_action_prototype.name)+"\n    ")]),i("td",[e._e(),i("router-link",{staticClass:"ui basic positive button",attrs:{to:{name:"edit_scan_action_prototype",params:{identity:e.scan_action_prototype.identity}}}},[e._v("\n            "+e._s(e.$t("ui.general.edit"))+"\n        ")])],1)])},_j=[],lj={name:"ProviderScanActionPrototypesIndexItem",props:{scan_action_prototype:Object},data:function(){return{is_processing:!1}},computed:{env:function(){return ENV.NODE_ENV}},created:function(){},mounted:function(){},watch:{},methods:{human_time:function(e){return this.$moment(e).locale("zh-tw").format("lll")}},components:{barcode:B$["a"]}},uj=lj,dj=Object(Tt["a"])(uj,cj,_j,!1,null,null,null),pj=dj.exports,mj=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",e._l(e.scan_action_prototypes,function(e){return i("Item",{key:e.identity,attrs:{scan_action_prototype:e}})}))},fj=[],hj=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"item"},[i("div",{staticClass:"name"},[e._v("\n            "+e._s(e.scan_action_prototype.name)+"\n        ")]),i("div",{staticClass:"barcode"},[i("barcode",{attrs:{value:"@@"+e.scan_action_prototype.barcode+"@@",tag:"svg",options:{background:"transparent",displayValue:!1,format:"CODE128",width:"5vw",height:"120vh"}}},[e._v("\n                看見此資訊請通知系統工程師。\n            ")])],1),i("div",{staticClass:"barcode_name"},[e._v("\n            "+e._s(e.scan_action_prototype.barcode)+"\n        ")])]),i("div",{staticClass:"divided"})])},vj=[],gj={props:{scan_action_prototype:Object},data:function(){return{}},computed:{env:function(){return ENV.NODE_ENV}},created:function(){},mounted:function(){},watch:{},methods:{},components:{barcode:B$["a"]}},bj=gj,yj=(n("f051"),Object(Tt["a"])(bj,hj,vj,!1,null,"a3f3b18a",null)),wj=yj.exports,$j={props:{scan_action_prototypes:Array},data:function(){return{is_processing:!1}},computed:{},created:function(){},mounted:function(){},watch:{},methods:{},components:{Item:wj}},kj=$j,xj=Object(Tt["a"])(kj,mj,fj,!1,null,null,null),Cj=xj.exports;function Pj(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function Sj(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){Pj(a,n,s,r,o,"next",e)}function o(e){Pj(a,n,s,r,o,"throw",e)}r(void 0)})}}var Nj={name:"ScanActionPrototypesIndex",data:function(){return{is_initialized:!1,is_loading:!1,scan_action_prototypes:[],errors:[]}},computed:{style:function(){return this.$store.state.style},current_page:function(){return this.$store.state.provider.scan_action_prototypes_module.pagination.current_page},total_pages:function(){return this.$store.state.provider.scan_action_prototypes_module.pagination.total_pages},search_params:function(){return this.$store.state.provider.scan_action_prototypes_module.search_params},show_filter:function(){return this.$store.state.provider.scan_action_prototypes_module.show_filter}},created:function(){},mounted:function(){var e=this;this.init(),this.$bus.$off("init"),this.$bus.$on("init",function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.init()})},beforeDestroy:function(){this.$bus.$off("init")},watch:{},methods:{init:function(){var e=Sj(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,this.fetch_scan_action_prototypes();case 5:return e.next=7,new Promise(function(e){t.is_initialized=!0,t.$noty.information(t.$t("ui.page_titles.scan_action_prototypes")+" "+t.$t("ui.general.initialize_complete"),300),e()});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),this.$noty.error(e.t0);case 12:return e.prev=12,this.is_loading=!1,this.$bus.$off("index_page"),this.$bus.$on("index_page",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t.fetch_scan_action_prototypes(e)}),e.finish(12);case 17:case"end":return e.stop()}},e,this,[[0,9,12,17]])}));function t(){return e.apply(this,arguments)}return t}(),fetch_scan_action_prototypes:function(){var e=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.is_loading=!0;var t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_scan_action_prototypes).parse({},"?"+object_to_query({simple:!0}));return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?e.scan_action_prototypes=_.orderBy(t.data.scan_action_prototypes,["barcode","name"],["asc","asc"]):console.log(t.data)})["catch"](function(t){console.log(t.response),e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.roles"),reason:": "+t.response}))}).then(function(){setTimeout(function(){e.is_loading=!1},300)})},print_scan_action_prototypes:function(){var e=Sj(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){$("div#print").html(""),e()});case 2:return e.next=4,new Promise(function(e){$(".printarea").clone().appendTo("div#print"),e()});case 4:return e.next=6,new Promise(function(e){window.print(),t.is_printing=!1,e()});case 6:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()},components:{barcode:B$["a"],ScanActionPrototype:pj,ErrorMessages:B_,Paginator:Ma,DataCard:W_,Print:Cj}},qj=Nj,Aj=Object(Tt["a"])(qj,rj,oj,!1,null,null,null),Ej=Aj.exports,zj=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"show_scan_action_prototype"}},[i("h1",{staticClass:"ui header"},[e._v("ScanActionPrototype "+e._s(e.scan_action_prorotype.name))]),e.is_initialized?i("div",[i("table",{staticClass:"ui table"},[e._m(0),i("tbody",{staticClass:"center aligned"},[i("tr",[i("td",[e._v("Barcode")]),i("td",[e._v(e._s(e.scan_action_prorotype.barcode))])]),i("tr",[i("td",[e._v("Name")]),i("td",[e._v(e._s(e.scan_action_prorotype.name))])]),i("tr",[i("td",[e._v("Identity")]),i("td",[e._v(e._s(e.scan_action_prorotype.identity))])]),i("tr",[i("td",[e._v("RequiredCondition")]),i("td",[e._v(e._s(e.scan_action_prorotype.required_ability_identity||"null"))])]),i("tr",[i("td",{attrs:{colspan:"2"}},e._l(e.scope_grouped_status_prototypes,function(t,n){return i("table",{staticClass:"ui six column stack table",attrs:{status_prototypes:t}},[i("thead",[i("tr",[i("th",[e._v(e._s(e.human_scope(n)))]),i("th",[e._v("綁定物料")])])]),i("tbody",e._l(t,function(t){return i("tr",{attrs:{status_prototype:t}},[i("td",[1==t.polarity?i("i",{staticClass:"plus icon"}):0==t.polarity?i("i",{staticClass:"minus icon"}):e._e(),e._v("\n                                        "+e._s(t.name||"-")+"\n                                    ")]),i("td",[e._v(e._s(t.material_class_name||"無"))])])}))])}))])])])]):e._e()])},jj=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("thead",{staticClass:"center aligned"},[i("tr",[i("th",{staticClass:"eight wide"},[e._v("欄位名")]),i("th",{staticClass:"eight wide"},[e._v("數值")])])])}];function Rj(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function Oj(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){Rj(a,n,s,r,o,"next",e)}function o(e){Rj(a,n,s,r,o,"throw",e)}r(void 0)})}}var Ij={name:"ProviderScanActionPrototypesShow",props:{},data:function(){return{is_initialized:!1,is_processing:!1,scan_action_prorotype:{},errors:[]}},created:function(){this.init()},mounted:function(){},watch:{$route:function(e,t){"scan_action_prorotype"==e.name&&this.init()}},computed:{scope_grouped_status_prototypes:function(){return _.groupBy(this.scan_action_prorotype.status_prototypes,"scope")}},methods:{init:function(){var e=Oj(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!1,t.is_processing=!1,t.scan_action_prorotype={},t.errors=[],e()});case 2:return e.next=4,this.fetch_scan_action_prototype();case 4:return e.next=6,new Promise(function(e){t.is_initialized=!0});case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_scan_action_prototype:function(){var e=this,t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_scan_action_prototype).parse({scan_action_prototype_identity:this.$route.params.identity},"");return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){console.log(t),e.scan_action_prorotype=t.data.scan_action_prototype})["catch"](function(t){return e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.scan_action_prototypes"),reason:": "+t})),Promise.reject(t)})},human_scope:function(e){switch(e){case"operator":return"內部貨況";case"forwarder":return"客戶貨況";case"public":return"公開貨況";case"mark":return"標記";case"condition":return"流程控制";default:return"不明"}}},components:{}},Dj=Ij,Lj=(n("f64b"),Object(Tt["a"])(Dj,zj,jj,!1,null,"83b21c6c",null)),Tj=Lj.exports,Bj=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"new_scan_action_prototype"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),e.is_loading?i("div",{staticClass:"ui active centered inline loader"}):i("div",{staticClass:"ui container"},[i("h1",{staticClass:"ui header"},[e._v(e._s(e.scan_action_prorotype.barcode)+e._s(e.scan_action_prorotype.name))]),i("table",{staticClass:"ui celled table"},[i("thead",{staticClass:"center aligned"},[i("tr",[i("th",{staticClass:"eight wide"},[e._v("\n                        "+e._s(e.$t("ui.pages.scan_action_prototypes.field_name"))+"\n                    ")]),i("th",{staticClass:"eight wide"},[e._v("\n                        "+e._s(e.$t("ui.pages.scan_action_prototypes.value"))+"\n                    ")])])]),i("tbody",{staticClass:"center aligned ui form"},[i("tr",[i("td",[e._v(e._s(e.$t("models.attributes.scan_action_prototypes.barcode")))]),i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.scan_action_prorotype.barcode,expression:"scan_action_prorotype.barcode"}],attrs:{type:"text",name:"barcode"},domProps:{value:e.scan_action_prorotype.barcode},on:{input:function(t){t.target.composing||e.$set(e.scan_action_prorotype,"barcode",t.target.value)}}})])]),i("tr",[i("td",[e._v(e._s(e.$t("models.attributes.scan_action_prototypes.name")))]),i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.scan_action_prorotype.name,expression:"scan_action_prorotype.name"}],attrs:{type:"text",name:"name"},domProps:{value:e.scan_action_prorotype.name},on:{input:function(t){t.target.composing||e.$set(e.scan_action_prorotype,"name",t.target.value)}}})])]),i("tr",[i("td",[e._v(e._s(e.$t("models.attributes.scan_action_prototypes.is_default"))+"？")]),i("td",{staticClass:"left aligned"},[i("div",{staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.scan_action_prorotype.is_default,expression:"scan_action_prorotype.is_default"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.scan_action_prorotype.is_default)?e._i(e.scan_action_prorotype.is_default,null)>-1:e.scan_action_prorotype.is_default},on:{change:function(t){var i=e.scan_action_prorotype.is_default,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=e._i(i,a);n.checked?r<0&&e.$set(e.scan_action_prorotype,"is_default",i.concat([a])):r>-1&&e.$set(e.scan_action_prorotype,"is_default",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.scan_action_prorotype,"is_default",s)}}}),i("label")])])]),i("tr",[i("td",[e._v(e._s(e.$t("models.attributes.scan_action_prototypes.required_condition")))]),i("td",[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.scan_action_prorotype.required_condition_identity,expression:"scan_action_prorotype.required_condition_identity"}],staticClass:"ui fluid dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.scan_action_prorotype,"required_condition_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.condition_status_prototypes,function(t){return i("option",{domProps:{value:t.identity}},[e._v("\n                                "+e._s(t.polarity?"+ ":"- ")+e._s(t.name)+"\n                            ")])})],2)])]),i("tr",[i("td",[e._v(e._s(e.$t("models.attributes.scan_action_prototypes.before_actions")))]),i("td",[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.scan_action_prorotype.before_actions,expression:"scan_action_prorotype.before_actions"}],attrs:{name:"before_actions",rows:"8",cols:"80"},domProps:{value:e.scan_action_prorotype.before_actions},on:{input:function(t){t.target.composing||e.$set(e.scan_action_prorotype,"before_actions",t.target.value)}}})])]),i("tr",[i("td",[e._v(e._s(e.$t("models.attributes.scan_action_prototypes.description_required_scope")))]),i("td",[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.scan_action_prorotype.description_required_scope,expression:"scan_action_prorotype.description_required_scope"}],attrs:{name:"description_required_scope",rows:"8",cols:"80"},domProps:{value:e.scan_action_prorotype.description_required_scope},on:{input:function(t){t.target.composing||e.$set(e.scan_action_prorotype,"description_required_scope",t.target.value)}}})])]),i("tr",[i("td",[e._v(e._s(e.$t("models.attributes.scan_action_prototypes.description_options")))]),i("td",[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.scan_action_prorotype.description_options,expression:"scan_action_prorotype.description_options"}],attrs:{name:"description_options",rows:"8",cols:"80"},domProps:{value:e.scan_action_prorotype.description_options},on:{input:function(t){t.target.composing||e.$set(e.scan_action_prorotype,"description_options",t.target.value)}}})])]),i("tr",[i("td",{attrs:{colspan:"2"}},e._l(e.scope_grouped_status_prototypes,function(t,n){return i("table",{staticClass:"ui two column celled table",attrs:{status_prototypes:t}},[i("thead",[i("tr",[i("th",[e._v(e._s(e.human_scope(n)))]),i("th",[e._v("\n                                        "+e._s(e.$t("ui.pages.scan_action_prototypes.binding_material"))+"\n                                    ")])])]),i("tbody",e._l(t,function(t){return i("tr",{attrs:{status_prototype:t}},[i("td",[i("div",{staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.scan_action_prorotype.status_prototype_identities,expression:"scan_action_prorotype.status_prototype_identities"}],attrs:{type:"checkbox"},domProps:{value:t.identity,checked:Array.isArray(e.scan_action_prorotype.status_prototype_identities)?e._i(e.scan_action_prorotype.status_prototype_identities,t.identity)>-1:e.scan_action_prorotype.status_prototype_identities},on:{change:function(i){var n=e.scan_action_prorotype.status_prototype_identities,s=i.target,a=!!s.checked;if(Array.isArray(n)){var r=t.identity,o=e._i(n,r);s.checked?o<0&&e.$set(e.scan_action_prorotype,"status_prototype_identities",n.concat([r])):o>-1&&e.$set(e.scan_action_prorotype,"status_prototype_identities",n.slice(0,o).concat(n.slice(o+1)))}else e.$set(e.scan_action_prorotype,"status_prototype_identities",a)}}}),i("label",[1==t.polarity?i("i",{staticClass:"plus icon"}):0==t.polarity?i("i",{staticClass:"minus icon"}):e._e(),e._v("\n                                                "+e._s(t.name||"-")+"\n                                            ")])])]),i("td",[e._v(e._s(t.material_class_name||e.$t("ui.general.no")))])])}))])}))])])]),i("button",{staticClass:"ui positive basic fluid button",on:{click:function(t){return t.preventDefault(),e.create_scan_action_prototype(t)}}},[e._v("\n            "+e._s(e.$t("ui.general.create"))+"\n        ")])])],1)},Mj=[];function Uj(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function Fj(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){Uj(a,n,s,r,o,"next",e)}function o(e){Uj(a,n,s,r,o,"throw",e)}r(void 0)})}}var Yj={name:"NewScanActionPrototype",props:{},data:function(){return{is_initialized:!1,is_loading:!1,scan_action_prorotype:{},status_prototypes:[],errors:[]}},created:function(){},mounted:function(){this.init()},watch:{},computed:{scope_grouped_status_prototypes:function(){return _.groupBy(this.status_prototypes,"scope")},condition_status_prototypes:function(){return _.filter(this.status_prototypes,function(e){return"condition"==e.scope})}},methods:{init:function(){var e=Fj(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!1,t.is_loading=!1,t.scan_action_prorotype={name:"",required_condition_identity:null,barcode:"",before_actions:null,is_default:!1,description_required_scope:null,description_options:null,related_columns:[],status_prototype_identities:[]},t.errors=[],e()});case 2:return e.next=4,this.fetch_status_prototypes();case 4:return e.next=6,new Promise(function(e){t.is_initialized=!0});case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_status_prototypes:function(){var e=this;this.is_loading=!0;var t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_status_prototypes).parse({},"?"+object_to_query({pagination:!1}));return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?e.status_prototypes=t.data.status_prototypes:(console.log(t.data),e.$noty.error(t.data))})["catch"](function(t){console.log(t.response),e.$noty.error(t.response)}).then(function(){e.is_loading=!1})},create_scan_action_prototype:function(){var e=this;this.is_loading=!0;var t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_scan_action_prototypes_create).parse({},"");return axios.post(t,this.scan_action_prorotype,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$router.push({name:"scan_action_prototypes"}),e.$noty.success(e.$t("ui.notifications.success.create__name",{name:e.$t("models.scan_action_prototypes")}))):(console.log(t.data),e.$noty.error(t.data))})["catch"](function(t){console.log(t.response),e.$noty.error(t.response)}).then(function(){setTimeout(function(){e.is_loading=!1},300)})},human_scope:function(e){switch(e){case"operator":return"內部貨況(Operator)";case"forwarder":return"客戶貨況(Forwarder)";case"public":return"公開貨況(Public)";case"mark":return"標記(Mark)";case"condition":return"流程控制(Condition)";case"system":return"系統(System)";default:return"不明(Unknown)"}}},components:{ErrorMessages:B_}},Gj=Yj,Hj=Object(Tt["a"])(Gj,Bj,Mj,!1,null,null,null),Kj=Hj.exports,Wj=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"edit_scan_action_prototype"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),e.is_loading?i("div",{staticClass:"ui active centered inline loader"}):i("div",{staticClass:"ui container"},[i("div",{staticClass:"ui segment"},[i("h1",{staticClass:"ui header"},[e._v("\n                "+e._s(e.scan_action_prorotype.barcode)+e._s(e.scan_action_prorotype.name)+"\n            ")])]),i("table",{staticClass:"ui celled table"},[i("thead",{staticClass:"center aligned"},[i("tr",[i("th",{staticClass:"eight wide"},[e._v("\n                        "+e._s(e.$t("ui.pages.scan_action_prototypes.field_name"))+"\n                    ")]),i("th",{staticClass:"eight wide"},[e._v("\n                        "+e._s(e.$t("ui.pages.scan_action_prototypes.value"))+"\n                    ")])])]),i("tbody",{staticClass:"center aligned ui form"},[i("tr",[i("td",[e._v(e._s(e.$t("models.attributes.scan_action_prototypes.barcode")))]),i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.scan_action_prorotype.barcode,expression:"scan_action_prorotype.barcode"}],attrs:{type:"text",name:"barcode"},domProps:{value:e.scan_action_prorotype.barcode},on:{input:function(t){t.target.composing||e.$set(e.scan_action_prorotype,"barcode",t.target.value)}}})])]),i("tr",[i("td",[e._v(e._s(e.$t("models.attributes.scan_action_prototypes.name")))]),i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.scan_action_prorotype.name,expression:"scan_action_prorotype.name"}],attrs:{type:"text",name:"name"},domProps:{value:e.scan_action_prorotype.name},on:{input:function(t){t.target.composing||e.$set(e.scan_action_prorotype,"name",t.target.value)}}})])]),i("tr",[i("td",[e._v(e._s(e.$t("models.attributes.scan_action_prototypes.is_default"))+"？")]),i("td",{staticClass:"left aligned"},[i("div",{staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.scan_action_prorotype.is_default,expression:"scan_action_prorotype.is_default"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.scan_action_prorotype.is_default)?e._i(e.scan_action_prorotype.is_default,null)>-1:e.scan_action_prorotype.is_default},on:{change:function(t){var i=e.scan_action_prorotype.is_default,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=e._i(i,a);n.checked?r<0&&e.$set(e.scan_action_prorotype,"is_default",i.concat([a])):r>-1&&e.$set(e.scan_action_prorotype,"is_default",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.scan_action_prorotype,"is_default",s)}}}),i("label")])])]),i("tr",[i("td",[e._v(e._s(e.$t("models.attributes.scan_action_prototypes.required_condition")))]),i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.scan_action_prorotype.required_condition,expression:"scan_action_prorotype.required_condition"}],attrs:{type:"text",name:"name"},domProps:{value:e.scan_action_prorotype.required_condition},on:{input:function(t){t.target.composing||e.$set(e.scan_action_prorotype,"required_condition",t.target.value)}}})])]),i("tr",[i("td",[e._v(e._s(e.$t("models.attributes.scan_action_prototypes.required_condition_polarity")))]),i("td",{staticClass:"left aligned"},[i("div",{staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.scan_action_prorotype.required_condition_polarity,expression:"scan_action_prorotype.required_condition_polarity"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.scan_action_prorotype.required_condition_polarity)?e._i(e.scan_action_prorotype.required_condition_polarity,null)>-1:e.scan_action_prorotype.required_condition_polarity},on:{change:function(t){var i=e.scan_action_prorotype.required_condition_polarity,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=e._i(i,a);n.checked?r<0&&e.$set(e.scan_action_prorotype,"required_condition_polarity",i.concat([a])):r>-1&&e.$set(e.scan_action_prorotype,"required_condition_polarity",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.scan_action_prorotype,"required_condition_polarity",s)}}}),i("label")])])]),i("tr",[i("td",[e._v(e._s(e.$t("models.attributes.scan_action_prototypes.before_actions")))]),i("td",[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.scan_action_prorotype.before_actions,expression:"scan_action_prorotype.before_actions"}],attrs:{name:"before_actions",rows:"8",cols:"80"},domProps:{value:e.scan_action_prorotype.before_actions},on:{input:function(t){t.target.composing||e.$set(e.scan_action_prorotype,"before_actions",t.target.value)}}})])]),i("tr",[i("td",[e._v(e._s(e.$t("models.attributes.scan_action_prototypes.description_required_scope")))]),i("td",{on:{click:function(t){e.objectized_description_required_scope.length<=0&&e.add_element(e.objectized_description_required_scope,"scope_name_0")}}},e._l(e.objectized_description_required_scope,function(t,n){return i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"scope_name.value"}],ref:"scope_name_"+n,refInFor:!0,domProps:{value:t.value},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete"]))return null;e.remove_element(e.objectized_description_required_scope,n,"scope_name_"+(n-1))},keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.add_element(e.objectized_description_required_scope,"scope_name_"+(n+1))},input:function(i){i.target.composing||e.$set(t,"value",i.target.value)}}})])}))]),i("tr",[i("td",[e._v(e._s(e.$t("models.attributes.scan_action_prototypes.description_options")))]),i("td",{on:{click:function(t){e.objectized_description_options.length<=0&&e.add_element(e.objectized_description_options,"description_option_0")}}},e._l(e.objectized_description_options,function(t,n){return i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"description_option.value"}],ref:"description_option_"+n,refInFor:!0,domProps:{value:t.value},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete"]))return null;e.remove_element(e.objectized_description_options,n,"description_option_"+(n-1))},keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.add_element(e.objectized_description_options,"description_option_"+(n+1))},input:function(i){i.target.composing||e.$set(t,"value",i.target.value)}}})])}))]),i("tr",[i("td",{attrs:{colspan:"2"}},e._l(e.scope_grouped_status_prototypes,function(t,n){return i("table",{staticClass:"ui two column celled table",attrs:{status_prototypes:t}},[i("thead",[i("tr",[i("th",[e._v(e._s(e.human_scope(n)))]),i("th",[e._v("\n                                        "+e._s(e.$t("ui.pages.scan_action_prototypes.binding_material"))+"\n                                    ")])])]),i("tbody",e._l(t,function(t){return i("tr",{attrs:{status_prototype:t}},[i("td",[i("div",{staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.scan_action_prorotype.status_prototype_identities,expression:"scan_action_prorotype.status_prototype_identities"}],attrs:{type:"checkbox"},domProps:{value:t.identity,checked:Array.isArray(e.scan_action_prorotype.status_prototype_identities)?e._i(e.scan_action_prorotype.status_prototype_identities,t.identity)>-1:e.scan_action_prorotype.status_prototype_identities},on:{change:function(i){var n=e.scan_action_prorotype.status_prototype_identities,s=i.target,a=!!s.checked;if(Array.isArray(n)){var r=t.identity,o=e._i(n,r);s.checked?o<0&&e.$set(e.scan_action_prorotype,"status_prototype_identities",n.concat([r])):o>-1&&e.$set(e.scan_action_prorotype,"status_prototype_identities",n.slice(0,o).concat(n.slice(o+1)))}else e.$set(e.scan_action_prorotype,"status_prototype_identities",a)}}}),i("label",[1==t.polarity?i("i",{staticClass:"plus icon"}):0==t.polarity?i("i",{staticClass:"minus icon"}):e._e(),e._v("\n                                                "+e._s(t.name||"-")+"\n                                            ")])])]),i("td",[e._v(e._s(t.material_class_name||e.$t("ui.general.no")))])])}))])}))])])]),i("button",{staticClass:"ui positive basic fluid button",on:{click:function(t){return t.preventDefault(),e.update_scan_action_prototype(t)}}},[e._v("\n            "+e._s(e.$t("ui.general.update"))+"\n        ")])])],1)},Vj=[];function Xj(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function Qj(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){Xj(a,n,s,r,o,"next",e)}function o(e){Xj(a,n,s,r,o,"throw",e)}r(void 0)})}}var Zj={name:"EditScanActionPrototype",props:{},data:function(){return{is_initialized:!1,is_loading:!1,scan_action_prorotype:{description_required_scope:[]},status_prototypes:[],errors:[],objectized_description_required_scope:[],objectized_description_options:[]}},created:function(){},mounted:function(){this.init()},watch:{objectized_description_required_scope:{handler:function(e,t){var i=_.map(e,function(e){return e.value});this.scan_action_prorotype&&(this.scan_action_prorotype.description_required_scope=i)},deep:!0},objectized_description_options:{handler:function(e,t){var i=_.map(e,function(e){return e.value});this.scan_action_prorotype&&(this.scan_action_prorotype.description_options=i)},deep:!0}},computed:{scope_grouped_status_prototypes:function(){return _.groupBy(this.status_prototypes,"scope")},condition_status_prototypes:function(){return _.filter(this.status_prototypes,function(e){return"condition"==e.scope})}},methods:{init:function(){var e=Qj(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!1,t.is_loading=!1,t.scan_action_prorotype={},t.errors=[],e()});case 2:return e.next=4,this.fetch_status_prototypes();case 4:return e.next=6,this.fetch_scan_action_prototype();case 6:return e.next=8,new Promise(function(e){t.is_initialized=!0});case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_scan_action_prototype:function(){var e=this;this.is_loading=!0;var t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_scan_action_prototype).parse({scan_action_prototype_identity:this.$route.params.identity},"");return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.scan_action_prorotype=t.data.scan_action_prototype,e.scan_action_prorotype.status_prototype_identities=_.map(e.scan_action_prorotype.status_prototypes,"identity"),e.objectized_description_required_scope=_.map(e.scan_action_prorotype.description_required_scope,function(e){return{value:e}}),e.objectized_description_options=_.map(e.scan_action_prorotype.description_options,function(e){return{value:e}})):(console.log(t.data),e.$noty.error(t.data))})["catch"](function(t){console.log(t.response),e.$noty.error(t.response)}).then(function(){setTimeout(function(){e.is_loading=!1},300)})},fetch_status_prototypes:function(){var e=this;this.is_loading=!0;var t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_status_prototypes).parse({},"?"+object_to_query({pagination:!1}));return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?e.status_prototypes=t.data.status_prototypes:(console.log(t.data),e.$noty.error(t.data))})["catch"](function(t){console.log(t.response),e.$noty.error(t.response)}).then(function(){e.is_loading=!1})},update_scan_action_prototype:function(){var e=this;this.is_loading=!0;var t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_scan_action_prototype_update).parse({scan_action_prototype_identity:this.$route.params.identity},"");return axios.post(t,this.scan_action_prorotype,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$router.push({name:"scan_action_prototypes"}),e.$noty.success(e.$t("ui.notifications.success.update__name",{name:e.$t("models.scan_action_prototypes")}))):(console.log(t.data),e.$noty.error(t.data))})["catch"](function(t){console.log(t.response),e.$noty.error(t.response)}).then(function(){setTimeout(function(){e.is_loading=!1},300)})},add_element:function(e,t){var i=this;e.push({value:""}),this.$nextTick(function(){$(i.$refs[t]).focus()})},remove_element:function(e,t,i){var n=this;""==e[t].value&&(this.$delete(e,t),this.$nextTick(function(){$(n.$refs[i]).focus()}))},human_scope:function(e){switch(e){case"operator":return"內部貨況(Operator)";case"forwarder":return"客戶貨況(Forwarder)";case"public":return"公開貨況(Public)";case"mark":return"標記(Mark)";case"condition":return"流程控制(Condition)";case"system":return"系統(System)";default:return"不明(Unknown)"}}},components:{ErrorMessages:B_}},Jj=Zj,eR=Object(Tt["a"])(Jj,Wj,Vj,!1,null,null,null),tR=eR.exports,iR="scan_action_prototypes",nR="new_scan_action_prototype",sR="edit_scan_action_prototype",aR="scan_action_prototype",rR=[{path:"",component:Ej,name:"scan_action_prototypes",meta:{api_name:"api_v1_provider_scan_action_prototypes",breadcrumb:[iR],btns:[nR]}},{path:"new",component:Kj,name:"new_scan_action_prototype",meta:{api_name:"api_v1_provider_scan_action_prototype_create",breadcrumb:[iR,nR]}},{path:":identity/edit",component:tR,name:"edit_scan_action_prototype",meta:{api_name:"api_v1_provider_scan_action_prototype_update",breadcrumb:[iR,sR]}},{path:"show/:identity",component:Tj,name:"scan_action_prototype",meta:{api_name:"api_v1_provider_scan_action_prototype",breadcrumb:[iR,aR]}}],oR=rR,cR=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui segment",attrs:{id:"provider"}},[i("h1",{staticClass:"ui header"},[e._v("\n        "+e._s(e.$t("ui.pages.nodes.company_information"))+"\n    ")]),i("div",{staticClass:"ui divider"}),e.is_initialized?i("div",{staticClass:"ui form"},[i("div",{staticClass:"ui grid",staticStyle:{"margin-top":"0","margin-bottom":"0"}},[i("div",{staticClass:"wide field",class:e.style.width>767?"eight":"sixteen"},[i("label",[e._v(e._s(e.$t("models.attributes.nodes.tax")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.provider_node.tax,expression:"provider_node.tax"}],attrs:{type:"text"},domProps:{value:e.provider_node.tax},on:{input:function(t){t.target.composing||e.$set(e.provider_node,"tax",t.target.value)}}})]),i("div",{staticClass:"wide field",class:e.style.width>767?"eight":"sixteen"},[i("label",[e._v(e._s(e.$t("models.attributes.nodes.company_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.provider_node.company_name,expression:"provider_node.company_name"}],attrs:{type:"text"},domProps:{value:e.provider_node.company_name},on:{input:function(t){t.target.composing||e.$set(e.provider_node,"company_name",t.target.value)}}})]),i("div",{staticClass:"wide field",class:e.style.width>767?"eight":"sixteen"},[i("label",[e._v(e._s(e.$t("models.attributes.nodes.company_short_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.provider_node.company_short_name,expression:"provider_node.company_short_name"}],attrs:{type:"text"},domProps:{value:e.provider_node.company_short_name},on:{input:function(t){t.target.composing||e.$set(e.provider_node,"company_short_name",t.target.value)}}})]),i("div",{staticClass:"wide field",class:e.style.width>767?"eight":"sixteen"},[i("label",[e._v(e._s(e.$t("models.attributes.nodes.company_en_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.provider_node.company_en_name,expression:"provider_node.company_en_name"}],attrs:{type:"text"},domProps:{value:e.provider_node.company_en_name},on:{input:function(t){t.target.composing||e.$set(e.provider_node,"company_en_name",t.target.value)}}})]),i("div",{staticClass:"wide field",class:e.style.width>767?"eight":"sixteen"},[i("label",[e._v(e._s(e.$t("models.attributes.nodes.email")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.provider_node.email,expression:"provider_node.email"}],attrs:{type:"text"},domProps:{value:e.provider_node.email},on:{input:function(t){t.target.composing||e.$set(e.provider_node,"email",t.target.value)}}})]),i("div",{staticClass:"wide field",class:e.style.width>767?"eight":"sixteen"},[i("label",[e._v(e._s(e.$t("models.attributes.nodes.phone")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.provider_node.phone,expression:"provider_node.phone"}],attrs:{type:"text"},domProps:{value:e.provider_node.phone},on:{input:function(t){t.target.composing||e.$set(e.provider_node,"phone",t.target.value)}}})]),i("div",{staticClass:"wide field",class:e.style.width>767?"eight":"sixteen"},[i("label",[e._v(e._s(e.$t("models.attributes.nodes.fax")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.provider_node.fax,expression:"provider_node.fax"}],attrs:{type:"text"},domProps:{value:e.provider_node.fax},on:{input:function(t){t.target.composing||e.$set(e.provider_node,"fax",t.target.value)}}})]),i("div",{staticClass:"wide field",class:e.style.width>767?"eight":"sixteen"},[i("label",[e._v(e._s(e.$t("models.attributes.nodes.customer_service_hotline")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.provider_node.customer_service_hotline,expression:"provider_node.customer_service_hotline"}],attrs:{type:"text"},domProps:{value:e.provider_node.customer_service_hotline},on:{input:function(t){t.target.composing||e.$set(e.provider_node,"customer_service_hotline",t.target.value)}}})]),i("div",{staticClass:"wide field",class:e.style.width>767?"eight":"sixteen"},[i("label",[e._v(e._s(e.$t("models.attributes.nodes.website_url")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.provider_node.website_url,expression:"provider_node.website_url"}],attrs:{type:"text"},domProps:{value:e.provider_node.website_url},on:{input:function(t){t.target.composing||e.$set(e.provider_node,"website_url",t.target.value)}}})])]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui blue button",on:{click:e.update_provider_node}},[e._v("\n            "+e._s(e.$t("ui.general.update"))+"\n        ")])]):i("div",{staticClass:"ui active inverted dimmer"},[i("div",{staticClass:"ui text loader"},[e._v("\n            "+e._s(e.$t("ui.general.initializing"))+"\n        ")])])])},_R=[];function lR(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function uR(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){lR(a,n,s,r,o,"next",e)}function o(e){lR(a,n,s,r,o,"throw",e)}r(void 0)})}}var dR={name:"ProviderNodeMain",data:function(){return{is_initialized:!1,provider_node:{}}},computed:{style:function(){return this.$store.state.style}},created:function(){},mounted:function(){var e=this;this.init(),this.$bus.$off("init"),this.$bus.$on("init",function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.init()})},beforeDestroy:function(){this.$bus.$off("init")},watch:{},methods:{init:function(){var e=uR(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!1,e()});case 2:return e.next=4,this.fetch_provider_node();case 4:return e.next=6,new Promise(function(e){t.is_initialized=!0,e()});case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_provider_node:function(){var e=this,t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_me).parse({},"");return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.provider_node=t.data.node})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.nodes"),reason:": "+t}))})},update_provider_node:function(){var e=this,t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_me_update).parse({},""),i=this.provider_node;return axios.post(t,i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$noty.success(e.$t("ui.notifications.success.update__name",{name:e.$t("models.nodes")})),e.provider_node=t.data.node,e.$store.dispatch("provider/fetch_node")):e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.nodes")}))})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.nodes")}))})}},components:{}},pR=dR,mR=Object(Tt["a"])(pR,cR,_R,!1,null,null,null),fR=mR.exports,hR="provider_node",vR=[{path:"",component:fR,name:"provider_node",meta:{api_name:"api_v1_provider_update",breadcrumb:[hR]}}],gR=vR;a["default"].use(Rt["a"]);var bR=[{path:"",component:Yo,name:"provider_index"},{path:"demo",component:l_,name:"provider_demo"},{path:"settings",component:Zg,children:Yw},{path:"partitions",component:uu,children:fd},{path:"uploader",component:rb,children:O$},{path:"assets",component:Pb,children:Pk},{path:"stations",component:x_,children:nu},{path:"status_prototypes",component:Rb,children:ox},{path:"materials",component:Ub,children:rC},{path:"staffs",component:qd,children:zp},{path:"permission_groups",component:Xb,children:GC},{path:"roles",component:Bp,children:Sm},{path:"core_waybills",component:sy,children:tS},{path:"packer",component:ly,children:lN},{path:"operations",component:gy,children:Dq},{path:"appraisals",component:zy,children:bA},{path:"user_logs",component:By,children:fE},{path:"driver_commission_policies",component:ew,children:WE},{path:"driver_commission_reports",component:mw,children:aj},{path:"scan_action_prototypes",component:$w,children:oR},{path:"provider_node",component:Iw,children:gR},{path:"distributions",component:Om,children:Mf},{path:"driver_commissions",component:Vf,children:Ah},{path:"customers",component:Lh,children:Bg},{path:"routes",component:h_,name:"routes"},{path:"permission_denied",component:Hg,name:"permission_denied"}],yR=bR,wR=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"index"}},[i("h3",[e._v("\n        "+e._s(e.$t("ui.pages.customer_home.title"))+"\n    ")])])},$R=[],kR={props:{},data:function(){return{is_loading:!1}},mounted:function(){this.set_breadcrumbs()},watch:{$route:function(e,t){this.set_breadcrumbs()}},methods:{set_breadcrumbs:function(){this.$store.state.breadcrumbs=[]}},components:{},computed:{}},xR=kR,CR=Object(Tt["a"])(xR,wR,$R,!1,null,"d1ae20a8",null),PR=CR.exports,SR=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"uploader_layout"}},[e.is_initialized?i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1):i("div",[i("div",{staticClass:"ui inverted dimmer transition visible active",staticStyle:{display:"block !important"}},[i("div",{staticClass:"ui text loader"},[e._v(e._s(e.$t("ui.general.initializing")))])])])],1)},NR=[];function qR(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function AR(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){qR(a,n,s,r,o,"next",e)}function o(e){qR(a,n,s,r,o,"throw",e)}r(void 0)})}}var ER={name:"CustomerUploaderLayout",data:function(){return{is_initialized:!1}},computed:{},created:function(){this.init()},mounted:function(){},methods:{init:function(){var e=AR(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return console.log(this.$store),e.next=3,this.$store.dispatch("customer/uploader_module/set_urls");case 3:return e.next=5,new Promise(function(e){t.is_initialized=!0,e()});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{}},zR=ER,jR=Object(Tt["a"])(zR,SR,NR,!1,null,null,null),RR=jR.exports,OR=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"uploader"}},[i("Steps",{tag:"div",attrs:{current_step:e.current_step,checked_count:e.checked_operation_count,uploaded_count:e.uploaded_operation_count,data_count:e.operations_count,is_processing:e.is_processing}}),i("div",{staticClass:"ui divider"}),e.is_processing?i("div",{staticClass:"ui indicating complete progress",attrs:{id:"index-progress-bar"}},[e._m(0)]):e._e(),i("ErrorBox",{attrs:{errors:e.errors}}),e.is_initialized?i("div",{staticClass:"basic_options"},[i("div",{staticClass:"ui top attached mini segment",class:{green:e.basic_options_setted,orange:!e.basic_options_setted}},[i("h3",{staticClass:"ui header"},[i("i",{staticClass:"upload icon"}),i("div",{staticClass:"content"},[e._v("\n                    "+e._s(e.$t("ui.pages.uploader.upload_operation_list"))+"\n                ")])])]),i("div",{staticClass:"ui bottom attached segment"},[i("div",{staticClass:"ui grid"},[i("div",{staticClass:"eight wide column"},[i("div",{staticClass:"ui segments"},[i("div",{staticClass:"ui segment"},[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.file.name"))+"：\n                            "),i("span",[e._v(e._s(e.file_name||"N/A"))])]),i("div",{staticClass:"ui segment"},[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.file.size"))+"：\n                            "),i("span",[e._v(e._s(e.file_size_in_bytes)+" Bytes / 1024000 Bytes")])]),i("div",{staticClass:"ui segment"},[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.file.path"))+"：\n                            "),e.is_file_uploaded?i("span",[i("a",{attrs:{href:e.file_s3_path}},[e._v(e._s(e.file_name))])]):i("span",[e._v("N/A")])]),i("div",{staticClass:"ui segment"},[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.file.upload"))+"：\n                            "),e.is_file_uploaded?i("span",[i("i",{staticClass:"check icon"}),e._v("\n                                "+e._s(e.$t("ui.pages.uploader.file.complete"))+"\n                            ")]):i("span",[i("i",{staticClass:"warning icon"}),e._v("\n                                "+e._s(e.$t("ui.pages.uploader.file.not_uploaded"))+"\n                            ")])])])]),e.basic_options_setted?i("div",{staticClass:"eight wide column ui form"},[i("div",{staticClass:"field"},[i("label",[e._v("\n                            "+e._s(e.$t("ui.general.please_select"))+"\n                            "),e._v("\n                            "+e._s(e.$t("ui.pages.uploader.operation_list"))+"\n                        ")]),i("span",[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.selected"))+"\n                            【"+e._s(e.file_name)+"】\n                        ")])]),i("div",{staticClass:"field"},[i("label",[e._v("\n                            "+e._s(e.$t("ui.general.please_select"))+"\n                            "),e._v("\n                            "+e._s(e.$t("ui.pages.uploader.contract"))+"\n                        ")]),i("span",[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.selected"))+"\n                            "+e._s(e.requester_contract.name)+"\n                        ")])]),i("div",{staticClass:"field"},[i("label",[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.your_actions"))+"\n                        ")]),i("span",[e._v(e._s(e.current_converter.name))])])]):e._e()]),i("div",{staticClass:"ui divider"}),e.basic_options_setted?i("div",[(e.is_processing||!e.can_next_step)&&e.current_step<4?i("a",{staticClass:"ui large fluid primary button disabled"},[e._v("\n                    "+e._s(e.$t("ui.general.initializing"))+"\n                ")]):e.current_step<4?i("a",{staticClass:"ui large fluid primary button",on:{click:function(t){e.steps_callback_center(e.current_step)}}},[e._v("\n                    "+e._s(e.$t("ui.general.submit"))+"\n                ")]):e._e()]):e._e(),i("div",{staticClass:"clear"})])]):i("div",[i("div",{staticClass:"ui inverted dimmer transition visible active",staticStyle:{display:"block !important"}},[i("div",{staticClass:"ui text loader"},[e._v(e._s(e.$t("ui.general.initializing")))])])]),i("div",{staticClass:"ui divider"}),e.current_step>=4?i("div",[i("div",{staticClass:"ui icon positive message"},[i("i",{staticClass:"check icon"}),i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                    "+e._s(e.$t("ui.pages.uploader.upload_detail_completed"))+"\n                ")]),i("p",[i("button",{staticClass:"ui primary button",on:{click:e.init}},[e._v("\n                        "+e._s(e.$t("ui.pages.uploader.continue_next_file"))+"\n                    ")])])])])]):e._e(),i("div",{staticClass:"operations_dashboard"},e._l(e.receivers,function(e,t){return i("Operation",{tag:"div",attrs:{receiver:e,index:t}})})),e.is_initialized?i("div",{ref:"operation_target_selector",staticClass:"ui dimmer"},[i("div",{ref:"converters",staticClass:"content"},[i("h1",[e._v("\n                "+e._s(e.$t("ui.pages.uploader.dimmer.what_do_you_want_now"))+"...\n            ")]),i("div",{staticClass:"ui link cards"},e._l(e.converters,function(t){return i("div",{staticClass:"card"},[i("div",{staticClass:"content",on:{click:function(i){e.$store.commit(e.current_scope+"/uploader_module/set_current_converter",t),e.$(e.$refs.converters).hide(),e.$(e.$refs.file_selector).show()}}},[i("div",{staticClass:"header"},[e._v("\n                            "+e._s(t.name)+"\n                        ")]),i("div",{staticClass:"description"},[e._v("\n                            "+e._s(t.note)+"\n                        ")])]),t.sample_file_url?i("div",{staticClass:"extra content"},[i("a",{staticClass:"right floated star",attrs:{href:t.sample_file_url}},[e._m(1,!0),i("span",[e._v("\n                                "+e._s(e.$t("ui.pages.uploader.dimmer.download_sample_file"))+"\n                            ")])])]):e._e()])}))]),i("div",{ref:"file_selector",staticClass:"content",staticStyle:{display:"none"}},[i("h1",[e._v("\n                "+e._s(e.$t("ui.pages.uploader.dimmer.please_upload_your_file"))+"...\n            ")]),i("div",{staticClass:"ui link cards"},[i("div",{staticClass:"card"},[i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.dimmer.select_file"))+"\n                        ")]),i("div",{staticClass:"description"},[i("input",{ref:"file_input_field",attrs:{type:"file"},on:{change:function(t){e.select_file(t)}}})])])]),i("div",{staticClass:"card",on:{click:e.init}},[i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.redo"))+"\n                        ")]),i("div",{staticClass:"description"},[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.dimmer.clicked_this_card_redo"))+"\n                        ")])])])])]),i("div",{ref:"cotract_selector",staticClass:"content",staticStyle:{display:"none"}},[i("h1",[e._v("\n                "+e._s(e.$t("ui.general.please_select"))+"\n                "+e._s(e.$t("models.attributes.core_waybills.sender"))+"...\n            ")]),i("div",{staticClass:"ui link cards"},[i("div",{staticClass:"card"},[i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection dropdown"},[i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"default text"},[e._v("\n                                    "+e._s(e.$t("ui.general.please_select"))+"\n                                    "+e._s(e.$t("models.attributes.core_waybills.sender"))+"\n                                ")]),i("div",{staticClass:"menu"},e._l(e.contracts,function(t){return i("div",{staticClass:"item",on:{click:function(i){e.$store.commit(e.current_scope+"/uploader_module/set_requester_contract",t),e.$(e.$refs.cotract_selector).hide(),e.$(e.$refs.loader).show(),e.steps_callback_center(1)}}},[e._v("\n                                            "+e._s(t.name)+"\n                                    ")])}))])])])]),i("div",{staticClass:"card",on:{click:e.init}},[i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.redo"))+"\n                        ")]),i("div",{staticClass:"description"},[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.dimmer.clicked_this_card_redo"))+"\n                        ")])])])])]),i("div",{ref:"loader",staticClass:"content",staticStyle:{display:"none"}},[i("div",{staticClass:"ui text loader"},[e._v("Loading")])])]):e._e(),i("BackToTopButton",{tag:"div"})],1)},IR=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"bar"},[i("div",{staticClass:"progress"})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui circular icon button"},[i("i",{staticClass:"download icon"})])}];function DR(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function LR(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){DR(a,n,s,r,o,"next",e)}function o(e){DR(a,n,s,r,o,"throw",e)}r(void 0)})}}var TR={name:"CustomerUploaderLayout",data:function(){return{is_initialized:!1,is_processing:!1,can_next_step:!0,basic_options_setted:!1,operations_count:0,complete_operation_count:0,checked_operation_count:0,uploaded_operation_count:0,current_step:1,current_operation_index:0,excel_file:null,file_name:null,file_size_in_bytes:0,file_s3_path:null,is_file_uploaded:!1,is_queue_mode:!0,errors:[]}},computed:{current_scope:function(){return this.$store.state.current_scope},current_scoped_store:function(){return this.$store.state[this.current_scope]},receivers:function(){return this.current_scoped_store.uploader_module.receivers},open_file_url:function(){return this.current_scoped_store.uploader_module.open_file_url},file_upload_url:function(){return this.current_scoped_store.uploader_module.file_upload_url},converters:function(){return this.current_scoped_store.uploader_module.converters},current_converter:function(){return this.current_scoped_store.uploader_module.current_converter},requester_contract:function(){return this.current_scoped_store.uploader_module.requester_contract},contracts:function(){return this.current_scoped_store.customer.contracts}},created:function(){},mounted:function(){var e=this;this.init(),this.$bus.$off("init"),this.$bus.$on("init",function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.init()}),this.$bus.$off("to_index"),this.$bus.$on("to_index",function(t,i){switch(t){case"validate_waybills":e.checked_operation_count++,e.receivers[i+1]?(e.current_operation_index++,e.$bus.$emit("to_operations","validate_waybills",e.current_operation_index)):e.steps_callback_center("validate_waybills");break;case"create_operation":e.uploaded_operation_count++,e.receivers[i+1]?(e.current_operation_index++,e.$bus.$emit("to_operations","create_operation",e.current_operation_index)):e.steps_callback_center("create_operations");break;case"complete":e.complete_operation_count++,$("#index-progress-bar").progress({duration:300,value:e.complete_operation_count,total:e.operations_count});case"interrupt":e.steps_callback_center("interrupt");default:}})},beforeDestroy:function(){this.$bus.$off("init")},methods:{init:function(){var e=LR(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){$(t.$refs.operation_target_selector).dimmer("hide"),e()});case 2:return e.next=4,new Promise(function(e){t.is_initialized=!1,t.is_processing=!1,t.can_next_step=!0,t.basic_options_setted=!1,t.operations_count=0,t.complete_operation_count=0,t.checked_operation_count=0,t.uploaded_operation_count=0,t.current_step=1,t.current_operation_index=0,t.excel_file=null,t.file_name=null,t.file_size_in_bytes=0,t.file_s3_path=null,t.is_file_uploaded=!1,t.is_queue_mode=!0,t.errors=[],e()});case 4:return e.next=6,this.$store.commit(this.current_scope+"/uploader_module/init");case 6:return e.next=8,this.$store.dispatch(this.current_scope+"/uploader_module/set_urls");case 8:return e.next=10,this.$store.dispatch(this.current_scope+"/uploader_module/fetch_requester_node");case 10:return e.next=12,this.$store.dispatch(this.current_scope+"/uploader_module/fetch_operator_node");case 12:return e.next=14,this.$store.dispatch(this.current_scope+"/uploader_module/fetch_converters");case 14:return e.next=16,new Promise(function(e){t.$noty.information(t.$t("ui.page_titles.uploader")+" "+t.$t("ui.general.initialize_complete")),t.is_initialized=!0,e()});case 16:return e.next=18,new Promise(function(e){$(t.$refs.operation_target_selector).dimmer("show"),e()});case 18:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),select_file:function(e){this.excel_file=e.target.files[0],this.file_name=this.excel_file.name,this.file_size_in_bytes=this.excel_file.size,$(this.$refs.file_input_field).val(""),$(this.$refs.file_selector).hide(),1==this.contracts.length?(this.$store.commit(this.current_scope+"/uploader_module/set_requester_contract",this.contracts[0]),$(this.$refs.loader).show(),this.steps_callback_center(1)):$(this.$refs.cotract_selector).show()},open_file:function(){var e=this;this.is_processing=!0,this.errors=[],null!=this.excel_file&&void 0!=this.excel_file||this.errors.push("請先選擇檔案");var t=new RestUrl(this.open_file_url).parse({converter_identity:this.$store.state.customer.uploader_module.current_converter.identity},"");if(0==this.errors.length){var i=new FormData;i.append("excel_file",this.excel_file),i.append("file_name",this.file_name),i.append("file_size_in_bytes",this.file_size_in_bytes),i.append("provider",this.current_converter.provider),i.append("category",this.current_converter.category),axios.post(t,i,{headers:{Authorization:localStorage.getItem("customer_authentication_token")}}).then(function(t){"failure"==t.data.status?(_.forEach(t.data.errors,function(t,i){_.forEach(t,function(t,i){e.errors.push("開啟文件失敗: "+t)})}),e.steps_callback_center("interrupt")):(e.$store.commit(e.current_scope+"/uploader_module/set_conversions",t.data.conversions),e.$store.commit(e.current_scope+"/uploader_module/set_waybill_raw_datas",{"託運":t.data.human_datas}),e.$store.commit(e.current_scope+"/uploader_module/set_waybill_processed_datas",{"託運":t.data.processed_datas}),e.$store.commit(e.current_scope+"/uploader_module/set_receivers",["託運"]),e.operations_count=e.receivers.length,e.basic_options_setted=!0,e.steps_callback_center("open_file"),$(e.$refs.operation_target_selector).dimmer("hide"),$(e.$refs.loader).hide(),$(e.$refs.converter_selector).show())})["catch"](function(t){_.forEach(response.data.errors,function(t,i){_.forEach(t,function(t,i){e.errors.push(e.$t("ui.pages.uploader.open_file")+" "+e.$t("ui.general.failure")+": "+t)})}),e.steps_callback_center("interrupt")})}else this.steps_callback_center("interrupt")},upload_file:function(e){var t=this;if(null!==this.excel_file&&void 0!==this.excel_file)if(1==this.is_file_uploaded)this.steps_callback_center("upload_file");else{var i=new FormData;i.append("file",this.excel_file),axios.post(this.file_upload_url,i).then(function(e){t.is_file_uploaded=!0,t.file_s3_path=decodeURIComponent(e.data.link),t.$noty.success(t.$t("ui.notifications.success.upload__name",{name:t.$t("ui.general.file")})),t.steps_callback_center("upload_file")})["catch"](function(e){t.$noty.error(t.$t("ui.notifications.error.upload__name",{name:t.$t("ui.general.file")})),t.errors.push(t.$t("ui.notifications.error.upload__name",{name:t.$t("ui.general.file"),reason:": "+t.$t("ui.general.network_abnormality")})),t.steps_callback_center("interrupt")})}else this.errors.push(this.$t("ui.general.no")+" "+this.$t("ui.pages.uploader.dimmer.select_file")),this.steps_callback_center("interrupt")},validate_waybills:function(){this.$bus.$emit("to_operations","validate_waybills",this.current_operation_index)},create_operations:function(){this.$bus.$emit("to_operations","create_operation",this.current_operation_index)},steps_callback_center:function(e){var t=this;switch(e){case 1:this.is_processing=!0,this.open_file();break;case 2:this.is_processing=!0,this.validate_waybills();break;case 3:this.is_processing=!0,this.upload_file();break;case 4:var i=_.filter(this.$children,function(e){return"Operation"==e.$options._componentTag});1==i.length&&this.$router.push({name:"show_customer_operation",params:{identity:i[0].operation.identity},query:{print_label:!0}});break;case"open_file":this.current_step++,this.is_processing=!1,this.$nextTick(function(){t.steps_callback_center(2)});break;case"validate_waybills":this.current_operation_index=0,this.complete_operation_count=0,this.is_processing=!1,this.current_step++;break;case"upload_file":this.create_operations();break;case"create_operations":this.current_operation_index=0,this.complete_operation_count=0,this.is_processing=!1,this.current_step++,this.$nextTick(function(){t.steps_callback_center(4)});break;case"interrupt":$(this.$refs.operation_target_selector).dimmer("show"),$(this.$refs.operation_target_selector).dimmer("hide"),this.is_processing=!1;break;default:}}},components:{Steps:Zw,Operation:y$,ErrorBox:P$,BackToTopButton:kd}},BR=TR,MR=(n("4a3e"),n("54a2"),Object(Tt["a"])(BR,OR,IR,!1,null,"213f83ce",null)),UR=MR.exports,FR="uploader",YR=[{path:":operation_identity?",component:UR,name:"customer_uploader",meta:{breadcrumb:[FR]}}],GR=YR,HR=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"operations_layout"}},[i("ErrorBox",{tag:"div",attrs:{errors:e.errors}}),e.is_initialized?i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1):i("div",{staticClass:"ui active centered inline large loader"})],1)},KR=[],WR=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"errors"},[e.errors.length>0?i("div",{staticClass:"ui red icon message"},[i("i",{staticClass:"warning icon"}),i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                "+e._s(e.$t("ui.notifications.error.please_handle_errors"))+"\n            ")]),e._l(e.errors,function(t,n){return i("p",[e._v(e._s(n+1)+". "+e._s(t))])})],2)]):e._e()])},VR=[],XR={props:{errors:Array},data:function(){return{}},mounted:function(){},computed:{},methods:{},components:{}},QR=XR,ZR=Object(Tt["a"])(QR,WR,VR,!1,null,"2814055e",null),JR=ZR.exports;function eO(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function tO(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){eO(a,n,s,r,o,"next",e)}function o(e){eO(a,n,s,r,o,"throw",e)}r(void 0)})}}var iO={data:function(){return{is_initialized:!1,errors:[]}},created:function(){this.init()},mounted:function(){},watch:{},computed:{},methods:{init:function(){var e=tO(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!1,e()});case 2:return e.next=4,new Promise(function(e){t.is_initialized=!0,e()});case 4:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()},components:{ErrorBox:JR}},nO=iO,sO=Object(Tt["a"])(nO,HR,KR,!1,null,null,null),aO=sO.exports,rO=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"core_waybills"}},[i("div",{staticClass:"ui segment"},[i("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[i("div"),i("div",[e.is_show_filter?e._e():i("div",{staticStyle:{display:"inline"}},[i("div",{staticClass:"ui right labeled left icon input"},[i("i",{staticClass:"search icon",on:{click:function(t){e.core_waybills_filter()}}}),"operation_number"==e.current_store.quick_filter_key.number?i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.operation.number,expression:"filter.operation.number"}],attrs:{type:"text"},domProps:{value:e.filter.operation.number},on:{change:function(t){e.$forceUpdate()},keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.core_waybills_filter()},input:function(t){t.target.composing||e.$set(e.filter.operation,"number",t.target.value)}}}):i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter[e.current_store.quick_filter_key.number],expression:"filter[current_store.quick_filter_key.number]"}],attrs:{type:"text"},domProps:{value:e.filter[e.current_store.quick_filter_key.number]},on:{change:function(t){e.$forceUpdate()},keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.core_waybills_filter()},input:function(t){t.target.composing||e.$set(e.filter,e.current_store.quick_filter_key.number,t.target.value)}}}),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui dropdown label no_search"},[e._l(e.current_store.quick_filters.number,function(t){return e.current_store.quick_filter_key.number==t?i("div",{staticClass:"text"},[e._v("\n                                "+e._s(e.$t("models.attributes.core_waybills."+t))+"\n                            ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.current_store.quick_filters.number,function(t){return i("div",{staticClass:"item",class:{"selected active":e.current_store.quick_filter_key.number==t},on:{click:function(i){e.set_quick_filter_key("number",t)}}},[e._v("\n                                    "+e._s(e.$t("models.attributes.core_waybills."+t))+"\n                                ")])}))],2)])]),e.is_show_filter?i("div",{staticStyle:{display:"inline"}},[i("div",{staticClass:"ui basic red icon button",on:{click:function(t){e.$store.dispatch("customer/core_waybills_module/clear_filter",{operation_number:e.$route.params.operation_number||null})}}},[i("i",{staticClass:"close icon"}),e._v("\n                        "+e._s(e.$t("ui.general.clear"))+"\n                    ")])]):e._e(),i("div",{staticClass:"ui icon buttons",staticStyle:{"vertical-align":"top","margin-left":"6px",height:"37px"}},[i("div",{staticClass:"ui button",class:{active:e.is_show_filter},attrs:{"data-tooltip":e.$t("ui.general.advanced")},on:{click:function(t){e.current_store.is_show_filter=!e.is_show_filter}}},[i("i",{staticClass:"icon",class:{minus:e.is_show_filter,bars:!e.is_show_filter}})])])])]),i("transition",{attrs:{name:"slide-fade",mode:"out-in"}},[e.is_show_filter?i("CustomerDetailFilter"):e._e()],1),e.is_show_filter?i("div",{staticClass:"right floated"},[i("div",{staticClass:"ui button",on:{click:function(t){e.fetch_core_waybills_csv()}}},[i("i",{staticClass:"file icon"}),e._v("\n                "+e._s(e.$t("ui.pages.core_waybills.export_csv_file"))+"\n            ")]),i("div",{staticClass:"ui button",on:{click:function(t){e.fetch_core_waybills_csv("clearance")}}},[i("i",{staticClass:"file alternate outline icon"}),e._v("\n                "+e._s(e.$t("ui.pages.core_waybills.export_clearance_csv_file"))+"\n            ")]),i("div",{staticClass:"ui button",on:{click:function(t){e.export_core_waybills()}}},[i("i",{staticClass:"file icon"}),e._v("\n                匯出報表\n            ")]),i("div",{staticClass:"ui icon blue button",on:{click:function(t){e.core_waybills_filter()}}},[i("i",{staticClass:"search icon"}),e._v("\n                "+e._s(e.$t("ui.general.search"))+"\n            ")])]):e._e(),i("div",{staticClass:"clear"})],1),i("div",{staticStyle:{margin:"6px 0"}},e._l(e.core_waybills,function(t){return e.is_initialized?i("CoreWaybill",{key:t.identity,attrs:{core_waybill:t,template:"card",is_auto_print:!1,is_can_update:!1,is_can_print_label:!1,is_show_change_template_btns:!1,cant_update_field_names:[],active_button:{to_detail_route_name:e.$route.params.operation_number?"customer_show_core_waybill_operation":"customer_show_core_waybill"},card:{is_simple_form:!1,is_half_style:!0,is_vertical:!0,is_show_note:!0}}}):e._e()})),!e.is_initialized||e.is_processing?i("div",{staticClass:"ui segments core_waybill",staticStyle:{"text-align":"center",height:"100px"}},[i("div",{staticClass:"ui active inverted dimmer"},[i("div",{staticClass:"ui text loader"},[i("h3",[e._v("\n                    "+e._s(e.$t("ui.general.initializing"))+"\n                ")])])])]):e.error_message?i("div",{staticClass:"ui red raised segment center aligned"},[i("h2",[e._v("\n            "+e._s(e.error_message)+"\n        ")])]):e._e(),i("div",{staticClass:"clear"}),e.core_waybills.length?i("Paginator",{attrs:{total_pages:e.current_store.total_pages,current_page:e.current_store.current_page}}):e._e()],1)},oO=[],cO=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"filter"},[i("div",{staticClass:"ui form",on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$parent.core_waybills_filter()}}},[i("div",{staticClass:"ui list"},[i("div",{staticClass:"item"},[i("i",{staticClass:"barcode big icon pointer",on:{click:function(t){e.is_show_numbers=!e.is_show_numbers}}}),i("div",{staticClass:"content"},[i("div",{staticClass:"header pointer"},[i("h3",{staticStyle:{"z-index":"2"},on:{click:function(t){e.is_show_numbers=!e.is_show_numbers}}},[e._v("\n                            "+e._s(e.$t("ui.pages.core_waybills.filter.numbers"))+"\n                            "),i("i",{staticClass:"icon",class:{"caret down":!e.is_show_numbers,"caret up":e.is_show_numbers},staticStyle:{margin:"0"}})])]),i("transition",{attrs:{name:"slide-fade",mode:"out-in"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.is_show_numbers,expression:"is_show_numbers"}]},[i("div",{staticClass:"filter_border"}),i("div",{staticClass:"two fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.number")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.number,expression:"filter.number"}],attrs:{type:"text"},domProps:{value:e.filter.number},on:{input:function(t){t.target.composing||e.$set(e.filter,"number",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.operation_number")))]),e.$route.params.operation_number?i("div",{staticClass:"ui segment",staticStyle:{margin:"0",padding:"9px 12px"}},[e._v("\n                                    "+e._s(e.$route.params.operation_number)+"\n                                ")]):i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.operation.number,expression:"filter.operation.number"}],attrs:{type:"text"},domProps:{value:e.filter.operation.number},on:{input:function(t){t.target.composing||e.$set(e.filter.operation,"number",t.target.value)}}})])]),i("div",{staticClass:"two fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.original_number")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.original_number,expression:"filter.original_number"}],attrs:{type:"text"},domProps:{value:e.filter.original_number},on:{input:function(t){t.target.composing||e.$set(e.filter,"original_number",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.tracking_number")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.tracking_number,expression:"filter.tracking_number"}],attrs:{type:"text"},domProps:{value:e.filter.tracking_number},on:{input:function(t){t.target.composing||e.$set(e.filter,"tracking_number",t.target.value)}}})])])])])],1)]),i("div",{staticClass:"item"},[i("i",{staticClass:"file alternate big icon pointer",on:{click:function(t){e.is_show_info=!e.is_show_info}}}),i("div",{staticClass:"content"},[i("div",{staticClass:"header pointer"},[i("h3",{on:{click:function(t){e.is_show_info=!e.is_show_info}}},[e._v("\n                            "+e._s(e.$t("ui.pages.core_waybills.filter.waybill_content"))+"\n                            "),i("i",{staticClass:"icon",class:{"caret down":!e.is_show_info,"caret up":e.is_show_info},staticStyle:{margin:"0"}})])]),i("transition",{attrs:{name:"slide-fade",mode:"out-in"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.is_show_info,expression:"is_show_info"}]},[i("div",{staticClass:"filter_border"}),i("div",{staticClass:"two fields"},[i("div",{staticClass:"field blue"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.consignee_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.consignee_name,expression:"filter.consignee_name"}],attrs:{type:"text"},domProps:{value:e.filter.consignee_name},on:{input:function(t){t.target.composing||e.$set(e.filter,"consignee_name",t.target.value)}}})]),i("div",{staticClass:"field blue"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.consignee_address")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.consignee_address,expression:"filter.consignee_address"}],attrs:{type:"text"},domProps:{value:e.filter.consignee_address},on:{input:function(t){t.target.composing||e.$set(e.filter,"consignee_address",t.target.value)}}})])]),i("div",{staticClass:"three fields"},[i("div",{staticClass:"field blue"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.consignee_phone")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.consignee_phone,expression:"filter.consignee_phone"}],attrs:{type:"text"},domProps:{value:e.filter.consignee_phone},on:{input:function(t){t.target.composing||e.$set(e.filter,"consignee_phone",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.note")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.note,expression:"filter.note"}],attrs:{type:"text"},domProps:{value:e.filter.note},on:{input:function(t){t.target.composing||e.$set(e.filter,"note",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("ui.pages.core_waybills.filter.is_used.true")))]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection dropdown",on:{change:function(t){e.$forceUpdate()}}},[e._l(e.filter_is_used_selections,function(t){return t.boolean==e.filter.is_used?i("div",{staticClass:"text"},[e._v("\n                                        "+e._s(t.name)+"\n                                    ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.filter_is_used_selections,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.is_used==t.boolean},on:{click:function(i){e.filter.is_used=t.boolean}}},[e._v("\n                                            "+e._s(t.name)+"\n                                        ")])}))],2)])]),i("div",{staticClass:"two fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.created_at")))]),i("DatePicker",{key:"core_waybills_created_duration",staticStyle:{width:"100%"},attrs:{re_init:Boolean(e.filter.created_duration),type:"daterange",format:"YYYY-MM-DD"},model:{value:e.filter.created_duration,callback:function(t){e.$set(e.filter,"created_duration",t)},expression:"filter.created_duration"}})],1),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("ui.pages.core_waybills.filter.clearance_date")))]),i("DatePicker",{key:"core_waybills_status_created_duration",staticStyle:{width:"100%"},attrs:{re_init:Boolean(e.filter.status.created_duration),type:"daterange",format:"YYYY-MM-DD"},model:{value:e.filter.status.created_duration,callback:function(t){e.$set(e.filter.status,"created_duration",t)},expression:"filter.status.created_duration"}})],1)])])])],1)])])])])},_O=[];function lO(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function uO(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){lO(a,n,s,r,o,"next",e)}function o(e){lO(a,n,s,r,o,"throw",e)}r(void 0)})}}var dO={props:{},data:function(){return{is_show_numbers:!0,is_show_info:!0,is_initialized:!1,is_processing:!1,filter_is_used_selections:[{name:this.$t("ui.pages.core_waybills.filter.selected_is_used"),boolean:null},{name:this.$t("ui.pages.core_waybills.filter.is_used.flase"),boolean:"false"},{name:this.$t("ui.pages.core_waybills.filter.is_used.true"),boolean:"true"}]}},computed:{current_store:function(){return this.$store.state.customer.core_waybills_module},filter:function(){return this.current_store.filter}},created:function(){},mounted:function(){this.init()},watch:{},methods:{init:function(){var e=uO(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){var i=t.$store.getters["customer/core_waybills_module/filter_to_query"];Object.keys(i).length&&(t.filter.number||t.filter.operation.number||t.filter.original_number||t.filter.tracking_number||(t.is_show_numbers=!1)),e()});case 2:return e.next=4,new Promise(function(e){t.is_initialized=!0,e()});case 4:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()},components:{DatePicker:XC["a"]}},pO=dO,mO=(n("c3af"),n("5c66"),Object(Tt["a"])(pO,cO,_O,!1,null,"5294dd4b",null)),fO=mO.exports;function hO(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function vO(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){hO(a,n,s,r,o,"next",e)}function o(e){hO(a,n,s,r,o,"throw",e)}r(void 0)})}}var gO={data:function(){return{is_initialized:!1,is_fetching_data:!1,is_processing:!0,error_message:""}},computed:{current_store:function(){return this.$store.state.customer.core_waybills_module},current_operation:function(){return this.current_store.current_operation},core_waybills:function(){return this.current_store.core_waybills},is_show_filter:function(){return this.current_store.is_show_filter},filter:function(){return this.current_store.filter},current_staff:function(){return this.$store.state.customer.current_staff}},created:function(){},mounted:function(){var e=this;this.init(),this.$bus.$off("init"),this.$bus.$on("init",function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.init()})},beforeDestroy:function(){this.$bus.$off("init"),this.current_store.current_page=1},watch:{$route:function(e,t){this.init(!1)},is_show_filter:function(e){e||this.$store.dispatch("customer/core_waybills_module/set_filter_init")}},methods:{init:function(){var e=vO(regeneratorRuntime.mark(function e(){var t,i,n=this,s=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=!(s.length>0&&void 0!==s[0])||s[0],e.prev=1,i="customer/core_waybills_module/",e.next=5,new Promise(function(e){n.is_initialized=!1,n.is_processing=!0,n.error_message="",e()});case 5:if(!t){e.next=8;break}return e.next=8,this.$store.dispatch(i+"set_filter_init");case 8:return e.next=10,new Promise(function(e){n.filter.operation.number=n.$route.params.operation_number||null,e()});case 10:return e.next=12,this.$store.dispatch(i+"handle_query_to_filter",{query:this.$route.query});case 12:if(!t){e.next=15;break}return e.next=15,this.$store.dispatch(i+"handle_quick_filter_key");case 15:return e.next=17,this.$store.dispatch(i+"fetch_core_waybills");case 17:return e.next=19,new Promise(function(e){n.$noty.information(n.$t("ui.page_titles.core_waybills")+" "+n.$t("ui.general.initialize_complete"),300),e()});case 19:e.next=25;break;case 21:e.prev=21,e.t0=e["catch"](1),this.handle_error_message(e.t0),this.is_initialized=!0;case 25:return e.next=27,new Promise(function(e){n.is_initialized=!0,n.is_processing=!1,e()});case 27:case"end":return e.stop()}},e,this,[[1,21]])}));function t(){return e.apply(this,arguments)}return t}(),export_core_waybills:function(){this.$store.dispatch("customer/core_waybills_module/export_core_waybills")},core_waybills_filter:function(){var e=vO(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return console.log("core_waybills_filter"),e.prev=1,e.next=4,new Promise(function(e){t.$router.push({name:t.$router.name,query:t.$store.getters["customer/core_waybills_module/filter_to_query"]}),e()});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e["catch"](1),console.log(e.t0),this.handle_error_message(e.t0);case 10:return e.next=12,new Promise(function(e){t.is_processing=!1,e()});case 12:case"end":return e.stop()}},e,this,[[1,6]])}));function t(){return e.apply(this,arguments)}return t}(),handle_error_message:function(e){switch(e){case"fetch_core_waybills_no_anything_core_waybills":this.error_message=this.$t("ui.notifications.error.no_data");break;case"fetch_core_waybills_failure":this.error_message=this.$t("ui.pages.core_waybills.errors.fetch_core_waybills_failure");break;case"fetch_staffs_failure":this.error_message=this.$t("ui.pages.core_waybills.errors.fetch_staffs_failure");break;case"fetch_materials_failure":this.error_message=this.$t("ui.pages.core_waybills.errors.fetch_materials_failure");break;case"fetch_scan_action_prototypes_failure":this.error_message=this.$t("ui.pages.core_waybills.errors.fetch_scan_action_prototypes_failure");break;case"fetch_condition_status_prototypes_failure":this.error_message=this.$t("ui.pages.core_waybills.errors.fetch_condition_status_prototypes_failure");break;case"fetch_core_waybills_svg_error":this.error_message=this.$t("ui.pages.core_waybills.errors.fetch_core_waybills_svg_error");break;default:this.error_message=this.$t("ui.notifications.error.exception_error_please_contact_the_system_supplier")+": "+e}},fetch_core_waybills_csv:function(){var e=vO(regeneratorRuntime.mark(function e(){var t,i=this,n=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:null,e.prev=1,e.next=4,this.$store.dispatch("customer/core_waybills_module/fetch_core_waybills_csv",{type:t});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e["catch"](1),console.log(e.t0),this.handle_error_message(e.t0);case 10:return e.next=12,new Promise(function(e){i.is_processing=!1,e()});case 12:case"end":return e.stop()}},e,this,[[1,6]])}));function t(){return e.apply(this,arguments)}return t}(),set_quick_filter_key:function(t,i){var n=this;try{this.current_store.quick_filter_key[t]=i,"status"!=t&&_.forEach(this.current_store.quick_filters[t],function(e){n.filter[e]=null})}catch(e){console.log(e)}}},components:{CustomerDetailFilter:fO,CoreWaybill:uP["a"],Paginator:Ma}},bO=gO,yO=(n("e8f9"),Object(Tt["a"])(bO,rO,oO,!1,null,"70768e17",null)),wO=yO.exports,$O=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"customer_show_core_waybill"}},[e.is_initialized?i("CoreWaybill",{attrs:{core_waybill:e.core_waybill,template:"detail",scope:"customer",statuses:e.statuses,is_auto_print:!1,is_can_update:!1,is_can_print_label:!0,is_show_change_template_btns:!1,detail:{is_show_blood_related:!0,is_show_receipt_file:!0,is_show_partition:!0,is_show_statuses:!0}}}):e._e()],1)},kO=[];function xO(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function CO(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){xO(a,n,s,r,o,"next",e)}function o(e){xO(a,n,s,r,o,"throw",e)}r(void 0)})}}var PO={components:{CoreWaybill:uP["a"]},props:{},data:function(){return{is_initialized:!1,is_processing:!1,core_waybill:{},statuses:[],errors:[]}},created:function(){this.init()},mounted:function(){},watch:{$route:function(e,t){"customer_show_core_waybill"==e.name&&this.init()}},computed:{},methods:{init:function(){var e=CO(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!1,t.is_processing=!1,t.core_waybill={},t.statuses=[],t.errors=[],e()});case 2:return e.next=4,this.fetch_core_waybill();case 4:return e.next=6,this.fetch_statuses();case 6:return e.next=8,new Promise(function(e){t.$store.state.customer.core_waybills_module.current_core_waybill=t.core_waybill,t.is_initialized=!0});case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_core_waybill:function(){var e=this,t=new RestUrl(this.$store.state.customer.routes.api_v1_customer_core_waybill).parse({core_waybill_identity:this.$route.params.identity});return axios.get(t,{headers:{Authorization:localStorage.getItem("customer_authentication_token")}}).then(function(t){e.core_waybill=t.data.core_waybill})["catch"](function(t){return e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.core_waybills"),reason:": "+t})),Promise.reject(t)})},fetch_statuses:function(){var e=this,t=new RestUrl(this.$store.state.customer.routes.api_v1_customer_statuses),i=t.parse({core_waybill_identity:this.$route.params.identity},"");return axios.get(i,{headers:{Authorization:localStorage.getItem("customer_authentication_token")}}).then(function(t){if("success"!=t.data.status)return Promise.reject("查無 貨況資訊");e.statuses=t.data.core_waybill_statuses})}}},SO=PO,NO=Object(Tt["a"])(SO,$O,kO,!1,null,null,null),qO=NO.exports,AO="customer_core_waybills",EO="customer_show_core_waybill",zO="customer_core_waybills_operation",jO=[{path:"",component:wO,name:"customer_core_waybills",meta:{breadcrumb:[AO]}},{path:"show/:identity",component:qO,name:"customer_show_core_waybill",meta:{breadcrumb:[AO,EO]}},{path:"operation/:operation_number",component:wO,name:"customer_core_waybills_operation",meta:{breadcrumb:[AO,zO]}},{path:"operation/:operation_number/show/:identity",component:qO,name:"customer_show_core_waybill_operation",meta:{breadcrumb:[AO,zO,EO]}}],RO=jO,OO=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"partitions"}},[i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1)],1)},IO=[],DO={props:{},data:function(){return{}},created:function(){this.set_breadcrumbs()},mounted:function(){},watch:{},methods:{set_breadcrumbs:function(){var e=this,t={route_name:"customer_partitions",name:"號碼區間"};e.$store.state.breadcrumbs=[t]}},components:{},computed:{}},LO=DO,TO=Object(Tt["a"])(LO,OO,IO,!1,null,"e4741654",null),BO=TO.exports,MO=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"partitions_layout"}},[0==e.customer_partitions.length?i("div",[e._m(0)]):i("div",[i("div",{staticClass:"ui segment blue"},[i("h5",[e._v("可用的號碼區間")]),i("div",{staticClass:"ui doubling two column grid"},e._l(e.customer_partitions,function(t){return i("div",{staticClass:"column"},[i("div",{staticClass:"ui center aligned segment"},[i("div",{staticClass:"ui mini statistic"},[i("div",{staticClass:"value"},[i("span",{attrs:{"data-tooltip":"字軌","data-position":"bottom left"}},[e._v("\n                                    "+e._s(t.prefix)+"\n                                ")]),i("span",{staticStyle:{"text-decoration":"underline"}},[i("span",{attrs:{"data-tooltip":"起始號碼","data-position":"bottom center"}},[e._v("\n                                        "+e._s(e.integer_rjust(t.from_number,t.digit,"0"))+"\n                                    ")]),i("span",[e._v(" ~ ")]),i("span",{attrs:{"data-tooltip":"結束號碼","data-position":"bottom center"}},[e._v("\n                                        "+e._s(e.integer_rjust(t.to_number,t.digit,"0"))+"\n                                    ")])])]),i("div",{staticClass:"label"},[e._v("\n                                共"+e._s(t.to_number-t.from_number+1)+"筆\n                            ")])])])])}))]),i("div",{staticClass:"ui center aligned segment",class:e.search_result_color},[i("h5",{staticClass:"left floated"},[e._v("搜尋號碼是否已使用")]),i("div",{staticClass:"clear"}),e.customer_partitions?i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection dropdown"},[i("div",{staticClass:"text"},[e._v("\n                    "+e._s(e.search_prefix)+"\n                ")]),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.customer_partitions,function(t){return i("div",{staticClass:"item",class:{"selected active":e.search_prefix==t.prefix},on:{click:function(i){e.search_prefix=t.prefix}}},[e._v("\n                        "+e._s(t.prefix)+"\n                    ")])}))]):e._e(),i("div",{staticClass:"ui action input",on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.searching()}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_number,expression:"search_number"}],attrs:{type:"text",placeholder:"流水號"},domProps:{value:e.search_number},on:{input:function(t){t.target.composing||(e.search_number=t.target.value)}}}),i("button",{staticClass:"ui icon button",on:{click:e.searching}},[i("i",{staticClass:"search icon"})])]),i("p",[e._v("\n                "+e._s(e.search_result)+"\n            ")]),e.not_useds.length+e.useds.length?i("div",{staticClass:"ui two column grid"},[i("div",{staticClass:"column"},[i("p",[e._v("未使用號碼")]),i("div",{staticClass:"ui blue segment"},[e._l(e.not_useds,function(t){return i("p",[e._v("\n                            "+e._s(t)+"\n                        ")])}),e.not_useds.length>2?i("div",{staticClass:"ui basic vertical animated button",attrs:{tabindex:"0"},on:{click:function(t){e.sort_not_useds()}}},[i("div",{staticClass:"hidden content"},[e._v("排序")]),e._m(1)]):e._e()],2)]),i("div",{staticClass:"column"},[i("p",[e._v("已使用號碼")]),i("div",{staticClass:"ui green segment"},[e._l(e.useds,function(t){return i("p",[e._v("\n                            "+e._s(t)+"\n                        ")])}),e.useds.length>2?i("div",{staticClass:"ui basic vertical animated button",attrs:{tabindex:"0"},on:{click:function(t){e.sort_useds()}}},[i("div",{staticClass:"hidden content"},[e._v("排序")]),e._m(2)]):e._e()],2)])]):e._e()])])])},UO=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui center aligned red segment"},[i("h5",[e._v("\n                您尚未被受理任何 號碼區間\n            ")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"visible content"},[i("i",{staticClass:"sort numeric ascending icon"})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"visible content"},[i("i",{staticClass:"sort numeric ascending icon"})])}],FO={data:function(){return{is_initialized:!1,search_result_color:"olive",search_result:"",search_prefix:"",search_number:""}},computed:{customer_partitions:function(){return this.$store.state.customer.customer_partitions},not_useds:function(){return this.$store.state.customer.partitions_module.not_useds},useds:function(){return this.$store.state.customer.partitions_module.useds}},watch:{},created:function(){var e=this;e.init(),e.set_breadcrumbs()},mounted:function(){var e=this;e.search_prefix=e.customer_partitions.length>0?e.customer_partitions[0].prefix:""},methods:{integer_rjust:function(e,t,i){return e.toString().rjust(t,i)},init:function(){var e=this,t=new Promise(function(e,t){e()});t.then(function(){e.is_initialized=!1}).then(function(){e.$noty.information(e.$t("ui.page_titles.customer_partitions")+" "+e.$t("ui.general.initialize_complete"),300),e.is_initialized=!0})["catch"](function(e){switch(e){default:}})},searching:function(){var e=this;if(e.validate_number()){e.search_result="",e.search_result_color="green";var t=_.find(e.customer_partitions,function(t){return t.prefix==e.search_prefix}),i=e.integer_rjust(e.search_number,t.digit,"0"),n=e.$store.state.customer.routes.api_v1_provider_core_waybill_search;axios.post(n,{number:e.search_prefix+i},{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"==t.data.status){var n=e.search_prefix+" "+i;t.data.core_waybill.is_used?(e.search_result="已使用",e.useds.push(n)):(e.not_useds.push(n),e.search_result="未使用")}else e.search_result="查詢運單失敗"})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.core_waybills"),reason:": "+t}))})}else e.search_result=e.search_number?"非合法號碼":"請輸入流水號號",e.search_result_color="red"},validate_number:function(){var e=this,t=_.find(e.customer_partitions,function(t){return t.prefix==e.search_prefix});return!!t&&(e.search_number>=t.from_number&&t.to_number>=e.search_number)},sort_not_useds:function(){var e=this;e.$store.state.customer.partitions_module.not_useds=_(e.not_useds).sortBy().sortedUniq().value()},sort_useds:function(){var e=this;e.$store.state.customer.partitions_module.useds=_(e.useds).sortBy().sortedUniq().value()},set_breadcrumbs:function(){var e=this,t={route_name:"partitions",name:"號碼區間"};switch(e.$route.name){case"partitions":e.$store.state.breadcrumbs=[t];break;default:}}},components:{}},YO=FO,GO=(n("8e94"),Object(Tt["a"])(YO,MO,UO,!1,null,"68cfe58d",null)),HO=GO.exports,KO=[{path:"",component:HO,name:"customer_partitions"}],WO=KO,VO=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.is_initialized?i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1):e._e(),i("div",{staticClass:"ui inverted dimmer transition",class:{active:!e.is_initialized}},[i("div",{staticClass:"ui text loader"},[e._v(e._s(e.$t("ui.general.initializing")))])])],1)},XO=[];function QO(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function ZO(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){QO(a,n,s,r,o,"next",e)}function o(e){QO(a,n,s,r,o,"throw",e)}r(void 0)})}}var JO={name:"CustomerOperationsLayout",data:function(){return{is_initialized:!1,errors:[]}},computed:{},watch:{},created:function(){this.init()},mounted:function(){},methods:{init:function(){var e=ZO(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!1,e()});case 2:return e.next=4,new Promise(function(e){t.is_initialized=!0,e()});case 4:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()},components:{}},eI=JO,tI=Object(Tt["a"])(eI,VO,XO,!1,null,null,null),iI=tI.exports,nI=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"operations"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),i("Filters"),i("div",{staticClass:"ui segment"},[e.style.width<767?i("div",{staticStyle:{"margin-bottom":"1em"}},[e.is_loading?i("div",[i("div",{staticClass:"ui active centered inline loader"})]):e._l(e.operations,function(t){return i("DataCard",{key:t.identity,attrs:{object:t,title:t.number,title_link:{name:"show_customer_operation",params:{identity:t.identity}},date:e.human_datetime(t.created_at),sub_title:e.data_card_sub_title(t),color:e.data_card_color(t),is_show_column:!0,keys:["your_note","file"],i_18n_key:"operations"}},[t.customer_note?i("span",{attrs:{slot:"your_note"},slot:"your_note"},[e._v("\n                    "+e._s(t.customer_note)+"\n                ")]):e._e(),i("a",{attrs:{slot:"file",href:t.original_file_url},slot:"file"},[e._v("\n                    "+e._s(t.original_file_name)+"\n                ")])])}),!e.is_loading&&e.operations.length<=0?i("div",{staticClass:"ui center aligned red segment"},[i("h3",[e._v("\n                    "+e._s(e.$t("ui.general.no_data"))+"\n                ")])]):e._e()],2):i("table",{staticClass:"ui compact celled table"},[i("thead",{staticClass:"center aligned"},[i("tr",[i("th",[e._v(e._s(e.$t("ui.general.date")))]),i("th",[e._v(e._s(e.$t("models.attributes.operations.number")))]),i("th",[e._v(e._s(e.$t("models.attributes.operations.your_note")))]),i("th",[e._v("\n                        "+e._s(e.$t("ui.pages.operations.table.finish"))+"/\n                        "+e._s(e.$t("ui.pages.operations.table.total"))+"\n                    ")]),i("th",[e._v(e._s(e.$t("models.attributes.operations.status")))]),i("th",[e._v(e._s(e.$t("models.attributes.operations.file")))]),i("th",[e._v(e._s(e.$t("ui.general.operate")))])])]),e.is_loading?i("tbody",{staticClass:"center aligned"},[e._m(0)]):i("tbody",[e._l(e.operations,function(e){return i("Operation",{key:e.identity,attrs:{operation:e}})}),e.operations.length<=0?i("tr",{staticClass:"center aligned"},[i("td",{attrs:{colspan:"7"}},[i("h5",[e._v(e._s(e.$t("ui.general.no_data")))])])]):e._e()],2)]),e.operations.length>0?i("Paginator",{attrs:{total_pages:e.pagination.total_pages,current_page:e.pagination.current_page,disabled:e.is_loading}}):e._e()],1)],1)},sI=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"loading"},[i("td",{attrs:{colspan:"7"}},[i("div",{staticClass:"ui active centered inline loader"})])])}],aI=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{display:"flex","justify-content":"space-between"},attrs:{id:"operations_filter"}},[i("div"),i("div",{staticClass:"ui segment",style:{width:e.filter.is_advanced_mode?"100%":"auto",margin:0}},[i("Header",{staticClass:"right floated"}),i("div",{staticClass:"clear"}),i("transition",{attrs:{name:"slide-fade",mode:"out-in"}},[e.filter.is_advanced_mode?i("Advanced"):e._e()],1)],1)])},rI=[],oI=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"filter_advanced"}},[i("div",{staticClass:"ui form",on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$parent.$parent.operations_filter()}}},[i("div",{staticClass:"three fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.operations.created_at")))]),i("DatePicker",{key:"advanced_created_at",attrs:{format:"YYYY-MM-DD",type:"daterange",re_init:Boolean(e.filter.columns.created_duration)},model:{value:e.filter.columns.created_duration,callback:function(t){e.$set(e.filter.columns,"created_duration",t)},expression:"filter.columns.created_duration"}})],1),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.operations.number")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.number,expression:"filter.columns.number"}],attrs:{type:"text"},domProps:{value:e.filter.columns.number},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"number",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.operations.your_note")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.customer_note,expression:"filter.columns.customer_note"}],attrs:{type:"text"},domProps:{value:e.filter.columns.customer_note},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"customer_note",t.target.value)}}})])]),i("div",{staticClass:"three fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.operations.original_file_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.original_file_name,expression:"filter.columns.original_file_name"}],attrs:{type:"text"},domProps:{value:e.filter.columns.original_file_name},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"original_file_name",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.operations.status")))]),i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.is_done,expression:"filter.columns.is_done"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.filter.columns.is_done)?e._i(e.filter.columns.is_done,null)>-1:e.filter.columns.is_done},on:{change:function(t){var i=e.filter.columns.is_done,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=e._i(i,a);n.checked?r<0&&e.$set(e.filter.columns,"is_done",i.concat([a])):r>-1&&e.$set(e.filter.columns,"is_done",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.filter.columns,"is_done",s)}}}),i("label",[e._v(e._s(e.$t("models.attributes.operations.is_done")))])])])])]),i("div",{staticClass:"ui icon blue button right floated",on:{click:function(t){e.$parent.$parent.operations_filter()}}},[i("i",{staticClass:"search icon"}),e._v("\n        "+e._s(e.$t("ui.general.search"))+"\n    ")]),i("div",{staticClass:"clear"})])},cI=[],_I={name:"OperationsFilterAdvanced",data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.customer.operations_module},filter:function(){return this.current_store.filter}},created:function(){},mounted:function(){},watch:{},methods:{},components:{DatePicker:XC["a"]}},lI=_I,uI=(n("145f"),Object(Tt["a"])(lI,oI,cI,!1,null,"f01907d0",null)),dI=uI.exports,pI=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{style:e.style.width<500?{textAlign:"right"}:{},attrs:{id:"filter_general"}},[e.filter.is_advanced_mode?e._e():i("div",{staticClass:"ui action input"},[e.style.width>=500?i("HeaderInputs"):e._e(),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection dropdown no_search right_radius",staticStyle:{"min-width":"120px"}},[e._l(e.filter.shortcut_keys,function(t){return e.filter.current_shortcut_key==t?i("div",{staticClass:"text"},[i("span","customer_note"==t?[e._v("\n                    "+e._s(e.$t("models.attributes.operations.your_note"))+"\n                ")]:"created_duration"==t?[e._v("\n                    "+e._s(e.$t("models.attributes.operations.created_at"))+"\n                ")]:[e._v("\n                    "+e._s(e.$t("models.attributes.operations."+t))+"\n                ")])]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.filter.shortcut_keys,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.current_shortcut_key==t},on:{click:function(i){e.set_quick_filter(t)}}},[i("span","customer_note"==t?[e._v("\n                        "+e._s(e.$t("models.attributes.operations.your_note"))+"\n                    ")]:"created_duration"==t?[e._v("\n                        "+e._s(e.$t("models.attributes.operations.created_at"))+"\n                    ")]:[e._v("\n                        "+e._s(e.$t("models.attributes.operations."+t))+"\n                    ")])])}))],2),i("div",{staticClass:"ui button icon",on:{click:function(t){e.$parent.$parent.operations_filter()}}},[i("i",{staticClass:"search icon"})])],1),e.filter.is_advanced_mode?i("div",{staticClass:"ui basic red icon button",on:{click:function(t){e.$store.commit("customer/operations_module/init_filter_columns")}}},[i("i",{staticClass:"close icon"}),e._v("\n        "+e._s(e.$t("ui.general.clear"))+"\n    ")]):e._e(),i("div",{staticClass:"ui button icon",style:{height:e.filter.is_advanced_mode?"auto":"38px",paddingTop:e.filter.is_advanced_mode?"":"13px",verticalAlign:e.filter.is_advanced_mode?"":"top",margin:"0 6px"},on:{click:function(t){e.filter.is_advanced_mode=!e.filter.is_advanced_mode}}},[i("i",{staticClass:"bars icon",class:{minus:e.filter.is_advanced_mode,bars:!e.filter.is_advanced_mode}})]),!e.filter.is_advanced_mode&&e.style.width<500&&"is_done"!=e.filter.current_shortcut_key?i("div",{staticClass:"ui action input",staticStyle:{"padding-top":"9px",width:"100%"}},[i("HeaderInputs")],1):e._e()])},mI=[],fI=function(){var e=this,t=e.$createElement,i=e._self._c||t;return"is_done"!=e.filter.current_shortcut_key&&"created_duration"!=e.filter.current_shortcut_key?i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns[e.filter.current_shortcut_key],expression:"filter.columns[filter.current_shortcut_key]"}],attrs:{placeholder:e.$t("ui.general.search__key",{key:e.$t("models.attributes.operations."+("customer_note"!=e.filter.current_shortcut_key?e.filter.current_shortcut_key:"your_note"))}),type:"text"},domProps:{value:e.filter.columns[e.filter.current_shortcut_key]},on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$parent.$parent.$parent.operations_filter()},input:function(t){t.target.composing||e.$set(e.filter.columns,e.filter.current_shortcut_key,t.target.value)}}}):"created_duration"==e.filter.current_shortcut_key?i("DatePicker",{key:"created_duration",staticStyle:{"min-width":"200px",width:"100%"},attrs:{type:"daterange",format:"YYYY-MM-DD"},model:{value:e.filter.columns.created_duration,callback:function(t){e.$set(e.filter.columns,"created_duration",t)},expression:"filter.columns.created_duration"}}):e._e()},hI=[],vI={name:"OperationsFilterHeaderInputs",data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.customer.operations_module},filter:function(){return this.current_store.filter}},created:function(){},mounted:function(){},watch:{},methods:{},components:{DatePicker:XC["a"]}},gI=vI,bI=Object(Tt["a"])(gI,fI,hI,!1,null,null,null),yI=bI.exports,wI={name:"OperationsFilterHeader",data:function(){return{is_initialized:!1}},computed:{style:function(){return this.$store.state.style},current_store:function(){return this.$store.state.customer.operations_module},filter:function(){return this.current_store.filter}},created:function(){},mounted:function(){},watch:{},methods:{set_quick_filter:function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{this.filter.current_shortcut_key=i,this.filter.columns.created_duration="",_.forEach(this.filter.shortcut_keys,function(e){t.filter.columns[e]=null}),"is_done"==i&&(this.filter.columns.is_done=!0)}catch(e){console.log(e)}}},components:{HeaderInputs:yI}},$I=wI,kI=(n("4261"),Object(Tt["a"])($I,pI,mI,!1,null,"06129c64",null)),xI=kI.exports,CI={name:"OperationsFilter",data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.customer.operations_module},filter:function(){return this.current_store.filter}},created:function(){},mounted:function(){},watch:{"filter.is_advanced_mode":function(e){e||this.$store.commit("customer/operations_module/init_filter_columns")}},methods:{},components:{Advanced:dI,Header:xI}},PI=CI,SI=Object(Tt["a"])(PI,aI,rI,!1,null,null,null),NI=SI.exports,qI=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"center aligned"},[i("td",[e._v(" "+e._s(e.human_datetime(e.operation.created_at)))]),i("td",[e._v(" "+e._s(e.operation.number||"-")+" ")]),i("td",[e._v(" "+e._s(e.operation.customer_note||"-")+" ")]),i("td",{class:{negative:0==e.operation.core_waybills.length,positive:0!=e.operation.core_waybills.length&&e.operation.core_waybills.length==e.done_core_waybills.length}},[e._v("\n        "+e._s(e.done_core_waybills.length)+" / "+e._s(e.operation.core_waybills.length)+"\n    ")]),i("td",[e.operation.is_canceled?i("span",[i("span",[i("i",{staticClass:"stop icon"}),e._v("\n                "+e._s(e.$t("models.attributes.operations.is_canceled"))+"\n                ")])]):e.operation.is_done?i("span",[i("i",{staticClass:"check icon"}),e._v("\n            "+e._s(e.$t("models.attributes.operations.is_done"))+"\n            ")]):i("span",[i("i",{staticClass:"play icon"}),e._v("\n            "+e._s(e.$t("ui.pages.operations.processing"))+"\n            ")])]),i("td",[i("a",{attrs:{href:e.operation.original_file_url}},[e._v(e._s(e.operation.original_file_name))])]),i("td",{staticClass:"center aligned"},[i("router-link",{staticClass:"ui basic primary button",attrs:{to:{name:"show_customer_operation",params:{identity:e.operation.identity}}}},[e._v("\n            "+e._s(e.$t("ui.general.detail"))+"\n        ")])],1)])},AI=[],EI={name:"CustomerOperationsIndexItem",props:{operation:Object},data:function(){return{}},computed:{done_core_waybills:function(){return _.filter(this.operation.core_waybills,function(e){return 1==e.is_done})}},created:function(){},mounted:function(){},watch:{},methods:{},components:{}},zI=EI,jI=Object(Tt["a"])(zI,qI,AI,!1,null,null,null),RI=jI.exports;function OI(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function II(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){OI(a,n,s,r,o,"next",e)}function o(e){OI(a,n,s,r,o,"throw",e)}r(void 0)})}}var DI={name:"CustomerOperationsIndex",data:function(){return{is_initialized:!1,is_loading:!1,is_search_params_changed:!1,errors:[]}},computed:{style:function(){return this.$store.state.style},current_store:function(){return this.$store.state.customer.operations_module},operations:function(){return this.current_store.operations},pagination:function(){return this.current_store.pagination}},created:function(){},mounted:function(){var e=this;this.init(),this.$bus.$off("init"),this.$bus.$on("init",function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.init()})},beforeDestroy:function(){this.$bus.$off("init"),this.pagination.current_page=1},watch:{$route:function(e,t){this.init(!1)}},methods:{init:function(){var e=II(regeneratorRuntime.mark(function e(){var t,i=this,n=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=!(n.length>0&&void 0!==n[0])||n[0],e.prev=1,e.next=4,new Promise(function(e){i.errors=[],i.is_initialized=!1,i.is_loading=!0,e()});case 4:return e.next=6,this.$store.dispatch("customer/operations_module/handle_query_to_filter",{query:this.$route.query});case 6:if(!t){e.next=9;break}return e.next=9,this.$store.dispatch("customer/operations_module/handle_quick_filter_key");case 9:return e.next=11,this.$store.dispatch("customer/operations_module/fetch_operations");case 11:e.next=19;break;case 13:e.prev=13,e.t0=e["catch"](1),console.log("init error: "),console.log(e.t0),this.$noty.error(this.$t("ui.notifications.error.fetch__name",{name:this.$t("models.operations"),reason:e.t0})),this.errors.push(e.t0);case 19:return e.prev=19,this.is_initialized=!0,this.is_loading=!1,e.finish(19);case 23:case"end":return e.stop()}},e,this,[[1,13,19,23]])}));function t(){return e.apply(this,arguments)}return t}(),operations_filter:function(){console.log("operations_filter");try{this.$router.push({name:this.$router.name,query:this.$store.getters["customer/operations_module/filter_to_query"]})}catch(e){console.log(e)}},data_card_sub_title:function(e){return this.done_core_waybills(e).length+" / "+e.core_waybills.length+" "+this.status(e)},data_card_color:function(e){return 0==e.core_waybills.length?"red":0!=e.core_waybills.length&&e.core_waybills.length==this.done_core_waybills(e).length?"green":void 0},done_core_waybills:function(e){return _.filter(e.core_waybills,function(e){return 1==e.is_done})},status:function(e){return e.is_canceled?this.$t("models.attributes.operations.is_canceled"):e.is_done?this.$t("models.attributes.operations.is_canceled"):this.$t("ui.pages.operations.processing")}},components:{Operation:RI,Paginator:Ma,DataCard:W_,ErrorMessages:B_,Filters:NI}},LI=DI,TI=(n("b84a"),Object(Tt["a"])(LI,nI,sI,!1,null,"466bed3e",null)),BI=TI.exports,MI=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"show"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),e.is_initialized?i("div",[e.is_loading?i("div",{staticClass:"ui active centered inline loader"}):e.operation.identity?i("table",{staticClass:"ui fixed table blue"},[i("thead",[i("tr",[i("th",{class:e.style.width<767?"":"right aligned"},[i("h3",{staticClass:"ui header"},[e._v(e._s(e.operation.number))])]),i("th",{attrs:{colspan:"4"}}),i("th",[e._v("\n                        "+e._s(e.human_datetime(e.operation.created_at))+"\n                    ")])])]),i("tbody",[i("tr",[i("td",{class:e.style.width<767?"":"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.operations.status"))+"\n                    ")]),i("td",{attrs:{colspan:"5"}},[e.operation.is_done?i("span",[i("i",{staticClass:"check icon"}),e._v("\n                            "+e._s(e.$t("models.attributes.operations.is_done"))+"\n                            ")]):i("span",[i("i",{staticClass:"play icon"}),e._v("\n                            "+e._s(e.$t("ui.pages.operations.processing"))+"\n                            ")])])]),i("tr",[i("td",{class:e.style.width<767?"":"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.operations.your_note"))+"\n                    ")]),i("td",{attrs:{colspan:"5"}},[e._v("\n                        "+e._s(e.operation.customer_note||"-")+"\n                    ")])]),i("tr",[i("td",{class:e.style.width<767?"":"right aligned"},[e._v("\n                        "+e._s(e.$t("ui.pages.operations.contract"))+"\n                    ")]),i("td",{attrs:{colspan:"5"}},[e._v("\n                        "+e._s(e.operation.contract.name||"-")+"\n                    ")])]),i("tr",[i("td",{class:e.style.width<767?"":"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.operations.file"))+"\n                    ")]),i("td",{attrs:{colspan:"5"}},[i("a",{attrs:{href:e.operation.original_file_url}},[e._v(e._s(e.operation.original_file_name))])])]),i("tr",[i("td",{class:e.style.width<767?"":"right aligned"},[e._v("\n                        "+e._s(e.$t("ui.pages.operations.print_coew_waybill_labels"))+"\n                    ")]),i("td",{staticStyle:{overflow:"visible"},attrs:{colspan:"5"}},[i("CoreWaybillsLabelSvg",{attrs:{numbers:e.dot_separated_numbers,authentication_token:e.token,scope:"customer",printing_type:e.printing_type_grouped_core_waybills,channel:e.print_label_channel,is_show_input:!1}})],1)]),i("tr",[i("td",{class:e.style.width<767?"":"right aligned"},[e._v("\n                        "+e._s(e.$t("ui.pages.operations.print_coew_waybill_checklist"))+"\n                    ")]),i("td",{attrs:{colspan:"5"}},[i("OrderSummary",{attrs:{channel_name:"my_order_summaray",default_search_params:{operation_identity:e.operation.identity,pagination:!1},title:e.$store.state.customer.customer.provider_node.company_short_name+"託運總表",sub_title:e.$store.state.customer.customer.provider_node.website_url,customer_service_hotline:e.$store.state.customer.customer.provider_node.customer_service_hotline,logistician:{name:"9999999 配送人員"},logo_url:"/images/"+e.$store.state.customer.customer.provider_node.company_en_name.replace(/(?:^|\.|\s?)([A-Z])/g,function(e,t){return"_"+t.toLowerCase()}).replace(/^_/,"")+"_logo.jpg",show_buttons:!0,show_contents:!1,scope:"customer"}})],1)]),i("tr",[i("td",{staticClass:"x_scrollable",attrs:{colspan:"6"}},[i("CoreWaybills",{attrs:{default_search_params:{operation_identity:e.operation.identity},columns:[{input_type:null,display_type:"material",name:"materials",human_name:e.$t("models.materials")},{input_type:"text",display_type:"text",name:"number",human_name:e.$t("models.attributes.core_waybills.number")},{input_type:"text",display_type:"text",name:"consignee_name",human_name:e.$t("models.attributes.core_waybills.consignee_name")},{input_type:"number",display_type:"text",name:"weight_in_kilo",human_name:e.$t("models.attributes.core_waybills.weight_in_kilo")},{input_type:"number",display_type:"text",name:"collection",human_name:e.$t("models.attributes.core_waybills.collection")},{input_type:null,display_type:"status",name:"latest_status",human_name:e.$t("models.attributes.core_waybills.latest_status")}],scope:"customer"}})],1)])])]):e._e(),e.operation.identity?i("div",{staticClass:"ui segment"},[i("Comments",{attrs:{commentable_type:"Operation",commentable_identity:e.operation.identity,scope:"customer"}})],1):e._e()]):i("div",{staticClass:"ui active inverted dimmer"},[i("div",{staticClass:"ui text loader"},[e._v(e._s(e.$t("ui.general.initializing")))])])],1)},UI=[];function FI(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function YI(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){FI(a,n,s,r,o,"next",e)}function o(e){FI(a,n,s,r,o,"throw",e)}r(void 0)})}}var GI={name:"CustomerOperationsShow",props:{},data:function(){return{is_initialized:!1,is_loading:!1,operation:{},errors:[],print_label_channel:"operation_print_label_channel",label_urls_array:[]}},watch:{label_urls_array:function(e,t){e.length>0&&1==this.$route.query.print_label&&_.forEach(e,function(e){window.open(e,"_blank")})}},created:function(){var e=this;this.$bus.$on(this.print_label_channel,function(t){e.label_urls_array=t})},mounted:function(){this.init()},computed:{style:function(){return this.$store.state.style},material_grouped_core_waybills:function(){return _.groupBy(this.operation.core_waybills,"material.class_name")},dot_separated_numbers:function(){return _.map(this.material_grouped_core_waybills.Waybill,"number").toString()+","+_.map(this.material_grouped_core_waybills.Goods,"number").toString()},printing_type_grouped_core_waybills:function(){var e=_.groupBy(this.operation.core_waybills,"label_type"),t=Object.keys(e);return"undefined"!=t[0]?t[0]:null},token:function(){return localStorage.getItem("customer_authentication_token")}},methods:{init:function(){var e=YI(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,this.fetch_operation();case 5:return e.next=7,new Promise(function(e){t.is_initialized=!0,e()});case 7:e.next=12;break;case 9:switch(e.prev=9,e.t0=e["catch"](0),e.t0){default:console.log("init error: "),console.log(e.t0)}case 12:return e.prev=12,e.finish(12);case 14:case"end":return e.stop()}},e,this,[[0,9,12,14]])}));function t(){return e.apply(this,arguments)}return t}(),fetch_operation:function(){var e=this;this.is_loading=!0;var t=new RestUrl(this.$store.state.customer.routes.api_v1_customer_operation).parse({operation_identity:this.$route.params.identity});return axios.get(t,{headers:{Authorization:localStorage.getItem("customer_authentication_token")}}).then(function(t){if("success"==t.data.status)e.operation=t.data.operation;else if("failure"==t.data.status)return Promise.reject(t.data)})["catch"](function(t){if(t.response){switch(t.response.status){default:e.errors.push(t.response.status+" "+t.response.statusText)}e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.operations"),reason:": "+t.response.status+" "+t.response.statusText}))}else t.errors?e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.operations"),reason:": "+t.errors})):(e.errors.push(e.$t("ui.general.server_offline")),e.$noty.error(e.$t("ui.general.server_offline")))})["finally"](function(){e.is_loading=!1})}},components:{CoreWaybillsLabelSvg:Zc,OrderSummary:ic,Comments:FP,CoreWaybills:gq,ErrorMessages:B_}},HI=GI,KI=Object(Tt["a"])(HI,MI,UI,!1,null,"4b79cb9e",null),WI=KI.exports,VI="customer_operations",XI="show_customer_operation",QI=[{path:"",component:BI,name:"customer_operations",meta:{breadcrumb:[VI]}},{path:":identity",component:WI,name:"show_customer_operation",meta:{breadcrumb:[VI,XI]}}],ZI=QI;a["default"].use(Rt["a"]);var JI=[{path:"",component:PR,name:"customer_index"},{path:"uploader",component:RR,children:GR},{path:"core_waybills",component:aO,children:RO},{path:"partitions",component:BO,children:WO},{path:"operations",component:iI,children:ZI}],eD=JI,tD=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"index"}})},iD=[],nD={name:"StationIndex",props:{},data:function(){return{is_loading:!1,current_component:""}},computed:{current_staff:function(){return this.$store.state.station.current_staff}},mounted:function(){this.set_breadcrumbs()},watch:{$route:function(e,t){this.set_breadcrumbs()}},methods:{set_breadcrumbs:function(){this.$store.state.breadcrumbs=[]}},components:{}},sD=nD,aD=Object(Tt["a"])(sD,tD,iD,!1,null,"13842210",null),rD=aD.exports,oD=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui segment",attrs:{id:"demo"}},[i("h4",[e._v("\n        Current Scan: "+e._s(e.results[e.results.length-1])+"\n    ")]),i("video",{staticStyle:{border:"1px solid gray"},attrs:{id:"video",width:"256",height:"193"},on:{click:function(t){t.preventDefault(),e.reset()}}}),i("h4",[e._v("\n        Recent Scan:\n        "),i("ol",e._l(e.results,function(t){return i("li",[e._v(e._s(t))])}))])])},cD=[],_D=n("e588");function lD(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function uD(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){lD(a,n,s,r,o,"next",e)}function o(e){lD(a,n,s,r,o,"throw",e)}r(void 0)})}}var dD=new _D["BrowserBarcodeReader"],pD={name:"StationDemo",props:{},data:function(){return{is_loading:!1,current_component:"",selected_device_id:null,results:[]}},computed:{current_staff:function(){return this.$store.state.station.current_staff}},mounted:function(){this.set_breadcrumbs(),this.scan()},watch:{$route:function(e,t){this.set_breadcrumbs()}},methods:{scan:function(){var e=uD(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,dD.decodeFromInputVideoDevice(void 0,"video").then(function(e){t.results.push(e.text)})["catch"](function(e){return console.error(e)});case 2:return e.next=4,this.reset();case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),reset:function(){var e=uD(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){dD.reset(),t.scan(),e()});case 2:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),set_breadcrumbs:function(){this.$store.state.breadcrumbs=[]}},components:{}},mD=pD,fD=Object(Tt["a"])(mD,oD,cD,!1,null,"34ef2726",null),hD=fD.exports,vD=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.is_initialized?i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1):e._e(),i("div",{staticClass:"ui inverted dimmer transition",class:{active:!e.is_initialized}},[i("div",{staticClass:"ui text loader"},[e._v("\n            "+e._s(e.$t("ui.general.initializing"))+"\n        ")])])],1)},gD=[];function bD(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function yD(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){bD(a,n,s,r,o,"next",e)}function o(e){bD(a,n,s,r,o,"throw",e)}r(void 0)})}}var wD={name:"PartitionsLayout",data:function(){return{is_initialized:!1}},computed:{},watch:{},created:function(){},mounted:function(){var e=this;this.init(),this.$bus.$off("init"),this.$bus.$on("init",function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.init()})},beforeDestroy:function(){this.$bus.$off("init")},methods:{init:function(){var e=yD(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!1,e()});case 2:return e.next=4,this.$store.dispatch("station/partitions_module/fetch_associated_partitions",{page:1});case 4:return e.next=6,this.$store.dispatch("station/partitions_module/fetch_customers");case 6:return e.next=8,this.$store.dispatch("station/partitions_module/fetch_materials");case 8:return e.next=10,new Promise(function(e){t.is_initialized=!0,t.$noty.information(t.$t("ui.page_titles.station_partitions")+" "+t.$t("ui.general.initialize_complete"),300),e()});case 10:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{}},$D=wD,kD=Object(Tt["a"])($D,vD,gD,!1,null,null,null),xD=kD.exports,CD=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("Index")],1)},PD=[],SD=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"ui inverted dimmer transition",class:{active:e.is_loading}},[i("div",{staticClass:"ui text loader"},[e._v("\n            "+e._s(e.$t("ui.general.initializing"))+"\n        ")])]),i("div",{staticClass:"clear"}),i("div",{staticClass:"ui segment"},[i("table",{staticClass:"ui celled table"},[i("thead",[i("tr",[i("th",[e._v(e._s(e.$t("models.attributes.partitions.name")))]),i("th",[e._v(e._s(e.$t("models.attributes.partitions.numbers")))]),i("th",[e._v(e._s(e.$t("models.attributes.partitions.parent")))]),i("th",[e._v(e._s(e.$t("models.attributes.partitions.customer")))]),i("th",[e._v(e._s(e.$t("models.attributes.partitions.contracts")))]),i("th",[e._v(e._s(e.$t("models.attributes.partitions.material")))]),i("th",[e._v(e._s(e.$t("models.attributes.partitions.note")))]),i("th",{staticClass:"center aligned"},[e._v(e._s(e.$t("ui.general.operate")))])])]),i("tbody",e._l(e.parent_partitions,function(t){return e.is_initialized?i("Row",{key:t.identity,attrs:{partition:t}}):e._e()}))]),i("div",{staticClass:"right floated"},[i("Paginator",{attrs:{total_pages:e.current_store.pagination.total_pages,current_page:e.current_store.pagination.current_page}})],1),i("div",{staticClass:"clear"})])])},ND=[],qD=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",[i("td",[e._v("\n        "+e._s(e.partition.name)+"\n        "),e.partition.grouped_partitions?i("div",{staticClass:"items"},e._l(e.partition.grouped_partitions,function(t){return i("div",{staticClass:"item"},[e._v("\n                "+e._s(t.name)+"\n            ")])})):e._e()]),i("td",[i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n            "+e._s(e.$t("models.attributes.partitions.numbers_from"))+"：\n        ")]),e._v("\n        "+e._s(e.partition.numbers_from)),i("br"),i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n            "+e._s(e.$t("models.attributes.partitions.numbers_to"))+"：\n        ")]),e._v("\n        "+e._s(e.partition.numbers_to)),i("br"),i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n            "+e._s(e.$t("ui.pages.partitions.total_amount"))+"：\n        ")]),e._v("\n        "+e._s(e.number_with_commas(e.partition.numbers_amount))),i("br"),i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n            "+e._s(e.$t("ui.pages.partitions.available_quantity"))+"：\n        ")]),e._v("\n        "+e._s(e.number_with_commas(e.partition.remaining_numbers))+"\n    ")]),i("td",[i("div",{staticClass:"ui items"},e._l(e.partition.child_partitions,function(t,n){return i("router-link",{key:t.identity,staticClass:"item",attrs:{to:{name:"edit_partition",params:{partition_identity:t.identity}}}},[e._v("\n                "+e._s(n+1)+". "+e._s(t.name)+"\n            ")])}))]),i("td",[e.current_customer?i("router-link",{attrs:{to:{name:"customer",params:{customer_identity:e.current_customer.identity}}}},[e._v("\n            "+e._s(e.current_customer.company_short_name||e.current_customer.identity)+"\n        ")]):i("div",[e._v("\n            "+e._s("Auto"==e.partition.partition_type?e.$t("ui.pages.partitions.automatic_number"):e.$t("ui.pages.partitions.use_yourself"))+"\n        ")])],1),i("td",[e.current_customer?i("div",{staticClass:"ui items"},e._l(e.partition.contracts,function(t,n){return i("router-link",{key:t.identity,staticClass:"item",attrs:{to:{name:"station_contract",params:{customer_identity:e.current_customer.identity,contract_identity:t.identity}}}},[e._v("\n                "+e._s(n+1)+". "+e._s(t.name)+"\n            ")])})):e._e()]),i("td",[e.current_material?i("router-link",{attrs:{to:{name:"edit_material",params:{material_identity:e.current_material.identity}}}},[e._v("\n            "+e._s(e.current_material.name)+"\n        ")]):e._e()],1),i("td",[e._v(e._s(e.partition.note))]),i("td",[i("router-link",{staticClass:"ui basic green button",attrs:{to:{name:"edit_station_partition",params:{partition_identity:e.partition.identity}}}},[e._v("\n            "+e._s(e.$t("ui.general.edit"))+"\n        ")]),e.is_deleting?i("a",{staticClass:"ui basic red button",attrs:{href:"#"}},[e._v("\n            "+e._s(e.$t("ui.general.deleteing"))+"...\n        ")]):i("a",{staticClass:"ui basic red button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.delete_partition()}}},[e._v("\n            "+e._s(e.$t("ui.general.delete"))+"\n        ")])],1)])},AD=[],ED={name:"PartitionRow",props:{partition:Object},data:function(){return{is_loading:!1,is_deleting:!1}},created:function(){},mounted:function(){},watch:{},methods:{number_with_commas:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},delete_partition:function(){var e=this;if(confirm(this.$t("ui.notifications.warning.are_you_sure_to_delete_it"))){var t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_partition_delete).parse({partition_identity:this.partition.identity});return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$noty.success(e.$t("ui.notifications.success.delete__name",{name:e.$t("models.partitions")})),e.$store.commit("provider/partitions_module/remove_partition",e.partition),e.$bus.$emit("out_of_date",e.$store.state.instance_identity,"partitions"),e.is_deleting=!1):(e.$noty.error(e.$t("ui.notifications.error.delete__name",{name:e.$t("models.partitions")})),e.is_deleting=!1)})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.delete__name",{name:e.$t("models.partitions")})),e.is_deleting=!1})}}},computed:{current_store:function(){return this.$store.state.provider.partitions_module},current_customer:function(){var e=this;return _.findLast(this.current_store.customers,function(t){return t.identity==e.partition.customer_identity})},current_material:function(){var e=this;return _.findLast(this.current_store.materials,function(t){return t.identity==e.partition.material_identity})}},components:{}},zD=ED,jD=Object(Tt["a"])(zD,qD,AD,!1,null,null,null),RD=jD.exports;function OD(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function ID(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){OD(a,n,s,r,o,"next",e)}function o(e){OD(a,n,s,r,o,"throw",e)}r(void 0)})}}var DD={name:"PartitionsIndex",data:function(){return{is_initialized:!1,is_loading:!1}},created:function(){this.init()},mounted:function(){},beforeDestroy:function(){this.current_store.pagination.current_page=1},watch:{$route:{handler:function(){var e=ID(regeneratorRuntime.mark(function e(t,i){var n,s=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.query.page,!n){e.next=9;break}return this.current_store.pagination.current_page=Number(n),e.next=5,new Promise(function(e){s.is_loading=!0,e()});case 5:return e.next=7,this.$store.dispatch("station/partitions_module/fetch_partitions",{page:n});case 7:return e.next=9,new Promise(function(e){s.is_loading=!1,e()});case 9:case"end":return e.stop()}},e,this)}));function t(t,i){return e.apply(this,arguments)}return t}(),immediate:!0}},methods:{init:function(){var e=ID(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,t.$store.dispatch("station/partitions_module/fetch_partitions",{page:t.current_store.pagination.current_page});case 5:return e.next=7,new Promise(function(e){t.is_initialized=!0,e()});case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},computed:{current_store:function(e){return e.$store.state.station.partitions_module},parent_partitions:function(){var e=this;return _.filter(e.current_store.partitions,function(e){return null==e.parent_identity})}},components:{Row:RD,Paginator:Ma}},LD=DD,TD=Object(Tt["a"])(LD,SD,ND,!1,null,null,null),BD=TD.exports,MD={name:"PartitionsMain",data:function(){return{is_initialized:!1}},computed:{},created:function(){},mounted:function(){},watch:{},methods:{},components:{Index:BD}},UD=MD,FD=Object(Tt["a"])(UD,CD,PD,!1,null,null,null),YD=FD.exports,GD=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"ui inverted dimmer transition",class:{active:e.is_loading}},[i("div",{staticClass:"ui text loader"},[e._v("\n            "+e._s(e.$t("ui.general.initializing"))+"\n        ")])]),i("div",{staticClass:"clear"}),i("table",{staticClass:"ui celled table"},[i("thead",[i("tr",[i("th",[e._v(e._s(e.$t("models.attributes.partitions.name")))]),i("th",[e._v(e._s(e.$t("models.attributes.partitions.numbers")))]),i("th",[e._v(e._s(e.$t("models.attributes.partitions.parent")))]),i("th",[e._v(e._s(e.$t("models.attributes.partitions.customer")))]),i("th",[e._v(e._s(e.$t("models.attributes.partitions.note")))])])]),i("tbody",e._l(e.parent_partitions,function(t){return e.is_initialized?i("Row",{key:t.identity,attrs:{partition:t}}):e._e()}))]),i("div",{staticClass:"right floated"},[i("Paginator",{attrs:{total_pages:e.current_store.pagination.total_pages,current_page:e.current_store.pagination.current_page}})],1),i("div",{staticClass:"clear"})])},HD=[],KD=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",[i("td",[e._v("\n        "+e._s(e.partition.name)+"\n        "),e.partition.grouped_partitions?i("div",{staticClass:"items"},e._l(e.partition.grouped_partitions,function(t){return i("div",{staticClass:"item"},[e._v("\n                "+e._s(t.name)+"\n            ")])})):e._e()]),i("td",[i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n            "+e._s(e.$t("models.attributes.partitions.numbers_from"))+"：\n        ")]),e._v(e._s(e.partition.numbers_from)),i("br"),i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n            "+e._s(e.$t("models.attributes.partitions.numbers_to"))+"：\n        ")]),e._v(e._s(e.partition.numbers_to)),i("br"),i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n            "+e._s(e.$t("ui.pages.partitions.total_amount"))+"：\n        ")]),e._v(e._s(e.number_with_commas(e.partition.numbers_amount))),i("br"),i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n            "+e._s(e.$t("ui.pages.partitions.available_quantity"))+"：\n        ")]),e._v(e._s(e.number_with_commas(e.partition.remaining_numbers))+"\n\n    ")]),i("td",[i("div",{staticClass:"ui items"},e._l(e.partition.child_partitions,function(t,n){return i("router-link",{key:t.identity,staticClass:"item",attrs:{to:{name:"edit_partition",params:{partition_identity:t.identity}}}},[e._v("\n                "+e._s(n+1)+". "+e._s(t.name)+"\n            ")])}))]),i("td",[e.current_customer?i("router-link",{attrs:{to:{name:"customer",params:{customer_identity:e.current_customer.identity}}}},[e._v("\n            "+e._s(e.current_customer.company_short_name||e.current_customer.identity)+"\n        ")]):i("div",[e._v("\n            "+e._s("Auto"==e.partition.partition_type?e.$t("ui.pages.partitions.automatic_number"):e.provider_node.company_short_name)+"\n        ")])],1),i("td",[e._v(e._s(e.partition.note))])])},WD=[],VD={name:"AssociatedPartitionRow",props:{partition:Object},data:function(){return{is_loading:!1,is_deleting:!1}},created:function(){},mounted:function(){},watch:{},methods:{number_with_commas:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},delete_partition:function(){var e=this;if(confirm(this.$t("ui.notifications.warning.are_you_sure_to_delete_it"))){e.is_deleting=!0;var t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_partition_delete).parse({partition_identity:e.partition.identity});return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$noty.success(e.$t("ui.notifications.success.delete__name",{name:e.$t("models.partitions")})),e.$store.commit("provider/partitions_module/remove_partition",e.partition),e.is_deleting=!1):(e.$noty.error(e.$t("ui.notifications.error.delete__name",{name:e.$t("models.partitions")})),e.is_deleting=!1)})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.delete__name",{name:e.$t("models.partitions")})),e.is_deleting=!1})}}},computed:{current_store:function(){return this.$store.state.provider.partitions_module},provider_node:function(){return this.$store.state.provider.node},current_customer:function(){var e=this;return _.findLast(e.current_store.customers,function(t){return t.identity==e.partition.customer_identity})}},components:{}},XD=VD,QD=Object(Tt["a"])(XD,KD,WD,!1,null,null,null),ZD=QD.exports;function JD(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function eL(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){JD(a,n,s,r,o,"next",e)}function o(e){JD(a,n,s,r,o,"throw",e)}r(void 0)})}}var tL={name:"AssociatedPartitionsIndex",data:function(){return{is_initialized:!1,is_loading:!1}},created:function(){this.init()},mounted:function(){},beforeDestroy:function(){this.current_store.pagination.current_page=1},watch:{$route:{handler:function(){var e=eL(regeneratorRuntime.mark(function e(t,i){var n,s=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.query.page,!n){e.next=9;break}return this.current_store.pagination.current_page=Number(n),e.next=5,new Promise(function(e){s.is_loading=!0,e()});case 5:return e.next=7,this.$store.dispatch("provider/partitions_module/fetch_associated_partitions",{page:n});case 7:return e.next=9,new Promise(function(e){s.is_loading=!1,e()});case 9:"partitions"==t.name&&this.init();case 10:case"end":return e.stop()}},e,this)}));function t(t,i){return e.apply(this,arguments)}return t}(),immediate:!0}},methods:{init:function(){var e=eL(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,new Promise(function(e){t.is_initialized=!0,e()});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},computed:{current_store:function(e){return e.$store.state.provider.partitions_module},parent_partitions:function(){var e=this;return _.filter(e.current_store.associated_partitions,function(e){return null==e.parent_identity})}},components:{Row:ZD,Paginator:Ma}},iL=tL,nL=Object(Tt["a"])(iL,GD,HD,!1,null,null,null),sL=nL.exports,aL=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui segment",attrs:{id:"new"}},[i("h1",{staticClass:"ui header"},[e._v("\n        "+e._s(e.$t("ui.page_titles.new_partition"))+"\n    ")]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui form"},[i("div",{staticClass:"ui grid",staticStyle:{"margin-top":"0","margin-bottom":"0"}},[i("div",{staticClass:"six wide red field",attrs:{"data-column":"name"}},[i("label",[e._v(e._s(e.$t("models.attributes.partitions.name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.partition.name,expression:"partition.name"}],attrs:{type:"text"},domProps:{value:e.partition.name},on:{input:function(t){t.target.composing||e.$set(e.partition,"name",t.target.value)}}})]),i("div",{staticClass:"five wide red field",attrs:{"data-column":"numbers_from"}},[i("label",[e._v(e._s(e.$t("models.attributes.partitions.numbers_from")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.partition.numbers_from,expression:"partition.numbers_from"}],attrs:{type:"text"},domProps:{value:e.partition.numbers_from},on:{change:function(t){e.$forceUpdate()},input:function(t){t.target.composing||e.$set(e.partition,"numbers_from",t.target.value)}}})]),i("div",{staticClass:"five wide red field",attrs:{"data-column":"numbers_to"}},[i("label",[e._v(e._s(e.$t("models.attributes.partitions.numbers_to")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.partition.numbers_to,expression:"partition.numbers_to"}],attrs:{type:"text"},domProps:{value:e.partition.numbers_to},on:{change:function(t){e.$forceUpdate()},input:function(t){t.target.composing||e.$set(e.partition,"numbers_to",t.target.value)}}})]),i("div",{staticClass:"eight wide red field",attrs:{"data-column":"customer_identity"}},[i("label",[e._v("\n                    "+e._s(e.$t("models.attributes.partitions.customer"))+"\n                    "),e.partition.customer_identity?i("i",{staticClass:"pointer remove circle red icon clear_dropdown",on:{click:function(t){e.clear_dropdown(".ui.dropdown.customer_identity")}}}):e._e()]),e.current_store.customers?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.partition.customer_identity,expression:"partition.customer_identity"}],staticClass:"ui dropdown customer_identity",on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.partition,"customer_identity",t.target.multiple?i:i[0])},function(t){e.$forceUpdate()}]}},[i("option",{attrs:{value:""}},[e._v("\n                        "+e._s(e.$t("ui.general.please_select"))+"，\n                        "+e._s(e.$t("ui.pages.partitions.if_use_it_yourself_do_not_write"))+"\n                    ")]),e._l(e.current_store.customers,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.company_short_name||t.tax))])})],2):i("div",{staticClass:"ui inline active loader"})]),i("div",{staticClass:"eight wide red field"},[i("label",[e._v("可用合約")]),e.current_customer?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.partition.contract_ids,expression:"partition.contract_ids"}],staticClass:"ui dropdown partition_type",attrs:{multiple:""},on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.partition,"contract_ids",t.target.multiple?i:i[0])},function(t){e.$forceUpdate()}]}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.current_customer.contracts,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2):e._e()]),i("div",{staticClass:"eight wide red field",attrs:{"data-column":"material_identity"}},[i("label",[e._v("\n                    "+e._s(e.$t("models.attributes.partitions.material"))+"\n                    "),e.partition.material_identity?i("i",{staticClass:"pointer remove circle red icon clear_dropdown",on:{click:function(t){e.clear_dropdown(".ui.dropdown.material_identity")}}}):e._e()]),e.current_store.customers?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.partition.material_identity,expression:"partition.material_identity"}],staticClass:"ui dropdown material_identity",on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.partition,"material_identity",t.target.multiple?i:i[0])},function(t){e.$forceUpdate()}]}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.current_store.materials,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2):i("div",{staticClass:"ui inline active loader"})]),i("div",{staticClass:"eight wide red field"},[i("label",[e._v("\n                    標籤種類\n                    "),e.partition.label_type?i("i",{staticClass:"pointer remove circle red icon clear_dropdown",on:{click:function(t){e.clear_dropdown(".ui.dropdown.label_type")}}}):e._e()]),i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.partition.label_type,expression:"partition.label_type"}],staticClass:"ui dropdown label_type",on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.partition,"label_type",t.target.multiple?i:i[0])},function(t){e.$forceUpdate()}]}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),i("option",{attrs:{value:"Label::Default"}},[e._v("TW568預設")]),"BY"==e.$store.state.provider.node.code?i("option",{attrs:{value:"Label::ByExpress"}},[e._v("博宇速運")]):e._e(),"CQF"==e.$store.state.provider.node.code?i("option",{attrs:{value:"Label::ChangQing"}},[e._v("長慶運通")]):e._e(),"FR"==e.$store.state.provider.node.code?i("option",{attrs:{value:"Label::FlyCargo"}},[e._v("飛樂航空")]):e._e(),i("option",{attrs:{value:"Label::HCT"}},[e._v("新竹物流")]),i("option",{attrs:{value:"Label::TCat"}},[e._v("統一速達")]),i("option",{attrs:{value:"Label::Pelican"}},[e._v("宅配通")]),i("option",{attrs:{value:"Label::Presco"}},[e._v("統一數網(7-ELEVEn)")]),i("option",{attrs:{value:"Label::FamilyMart"}},[e._v("日翊文化(全家)")])])]),i("div",{staticClass:"eight wide red field"},[i("label",[e._v("\n                    號碼規則\n                    "),e.partition.numbers_rule?i("i",{staticClass:"pointer remove circle red icon clear_dropdown",on:{click:function(t){e.clear_dropdown(".ui.dropdown.numbers_rule")}}}):e._e()]),i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.partition.numbers_rule,expression:"partition.numbers_rule"}],staticClass:"ui dropdown numbers_rule",on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.partition,"numbers_rule",t.target.multiple?i:i[0])},function(t){e.$forceUpdate()}]}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),i("option",{attrs:{value:"tcat_numbers_rule"}},[e._v("黑貓檢查碼")]),i("option",{attrs:{value:"hct_numbers_rule"}},[e._v("新竹檢查碼")]),i("option",{attrs:{value:"pelican_numbers_rule"}},[e._v("宅配通檢查碼")])])]),i("div",{staticClass:"eight wide red field"},[i("label",[e._v("\n                    區間類型\n                    "),e.partition.partition_type?i("i",{staticClass:"pointer remove circle red icon clear_dropdown",on:{click:function(t){e.clear_dropdown(".ui.dropdown.partition_type")}}}):e._e()]),i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.partition.partition_type,expression:"partition.partition_type"}],staticClass:"ui dropdown partition_type",on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.partition,"partition_type",t.target.multiple?i:i[0])},function(t){e.$forceUpdate()}]}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),i("option",{attrs:{value:"Manual"}},[e._v("手動取號")]),i("option",{attrs:{value:"Auto"}},[e._v("自動取號")]),i("option",{attrs:{value:"Group"}},[e._v("區間群組")])])]),i("div",{staticClass:"sixteen wide red field",attrs:{"data-column":"note"}},[i("label",[e._v(e._s(e.$t("models.attributes.partitions.note")))]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.partition.note,expression:"partition.note"}],attrs:{rows:"4"},domProps:{value:e.partition.note},on:{input:function(t){t.target.composing||e.$set(e.partition,"note",t.target.value)}}})])]),e._l(e.trial_errors,function(t,n,s){return i("div",{staticClass:"ui negative message"},[i("h3",[e._v(e._s(e.$t("models.attributes.partitions."+n)))]),i("ul",e._l(t,function(t){return i("li",[e._v(e._s(t))])}))])}),!e.trialed_partition||e.trial_errors||e.is_trialling?e._e():i("div",{staticClass:"ui positive message"},[i("h2",[e._v("\n                "+e._s(e.$t("ui.general.verify"))+"\n                "+e._s(e.$t("ui.general.result"))+"\n            ")]),i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n                "+e._s(e.$t("models.attributes.partitions.numbers_from"))+"：\n            ")]),e._v("\n            "+e._s(e.trialed_partition.numbers_from)),i("br"),i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n                "+e._s(e.$t("models.attributes.partitions.numbers_to"))+"：\n            ")]),e._v("\n            "+e._s(e.trialed_partition.numbers_to)),i("br"),i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n                "+e._s(e.$t("ui.pages.partitions.total_amount"))+"：\n            ")]),e._v("\n            "+e._s(e.number_with_commas(e.trialed_partition.numbers_amount))),i("br"),i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n                "+e._s(e.$t("ui.pages.partitions.available_quantity"))+"：\n            ")]),e._v("\n            "+e._s(e.number_with_commas(e.trialed_partition.remaining_numbers))+"\n        ")]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui buttons"},[i("router-link",{staticClass:"ui button",attrs:{to:{name:"partitions"}}},[e._v("\n                "+e._s(e.$t("ui.general.back"))+"\n            ")]),i("div",{staticClass:"or"}),e.is_trialling?i("a",{staticClass:"ui orange button",attrs:{href:"#"}},[e._v("\n                "+e._s(e.$t("ui.general.verifying"))+"...\n            ")]):i("a",{staticClass:"ui orange button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.trial_partition()}}},[e._v("\n                "+e._s(e.$t("ui.general.verify"))+"\n            ")]),i("div",{staticClass:"or"}),e.is_loading?i("a",{staticClass:"ui blue button",attrs:{href:"#"}},[e._v("\n                "+e._s(e.$t("ui.general.creating"))+"...\n            ")]):i("a",{staticClass:"ui blue button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.create_partition()}}},[e._v("\n                "+e._s(e.$t("ui.general.create"))+"\n            ")])],1)],2)])},rL=[];function oL(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function cL(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){oL(a,n,s,r,o,"next",e)}function o(e){oL(a,n,s,r,o,"throw",e)}r(void 0)})}}var _L={name:"NewPartition",mixins:[Vu.a],props:{},data:function(){return{is_loading:!1,partition:{contract_ids:[],partition_type:"Manual",label_type:"Label::Default"},is_trialling:!1,trialed_partition:null,trial_errors:null}},mounted:function(){},methods:{number_with_commas:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},clear_dropdown:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.partition.customer_identity=null,$(e).dropdown("clear")},string_rjust:function(e,t,i){var n=String(e);return n.length<=t?String(e).rjust(t,i):"".rjust(t,"-")},trial_partition:function(){var e=this;if(this.trial_errors=null,this.valid()){this.is_trialling=!0;var t=this.partition,i=new RestUrl(this.$store.state.provider.routes.api_v1_provider_partitions_trial).parse();return axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){console.log(t),"success"==t.data.status?(e.trialed_partition=t.data.partition,e.is_trialling=!1):(e.trial_errors=t.data.errors,e.$noty.error(e.$t("ui.notifications.error.verify__name",{name:e.$t("models.partitions")})),e.is_trialling=!1,Promise.reject())})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.verify__name",{name:e.$t("models.partitions")})),e.is_trialling=!1})}},create_partition:function(){var e=cL(regeneratorRuntime.mark(function e(){var t,i,n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.valid()){e.next=8;break}return e.next=3,this.trial_partition();case 3:return this.is_loading=!0,t=this.partition,i=new RestUrl(this.$store.state.provider.routes.api_v1_provider_partitions_create).parse(),e.next=8,axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){"success"==e.data.status?(n.is_loading=!1,n.$store.commit("provider/partitions_module/add_partition",e.data.partition),n.$bus.$emit("out_of_date",n.$store.state.instance_identity,"partitions"),n.$router.push("/provider/partitions")):(n.$noty.error(n.$t("ui.notifications.error.create__name",{name:n.$t("models.partitions")})),n.is_loading=!1)})["catch"](function(e){n.$noty.error(n.$t("ui.notifications.error.create__name",{name:n.$t("models.partitions")})),n.is_loading=!1});case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},validator:{target:"partition",localize_key:"partitions",input_alert:!0,attributes:[{name:"name",required:!0},{name:"customer_identity",required:!1},{name:"material_identity",required:!0},{name:"numbers_from",required:!0},{name:"numbers_to",required:!0},{name:"note",required:!1}]},computed:{current_store:function(){return this.$store.state.provider.partitions_module},current_customer:function(){var e=this;return _.findLast(this.current_store.customers,function(t){return t.identity==e.partition.customer_identity})}},components:{FileUploader:sc["a"],ErrorBox:B_}},lL=_L,uL=Object(Tt["a"])(lL,aL,rL,!1,null,null,null),dL=uL.exports,pL=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.partition.identity?i("div",{staticClass:"ui segment",attrs:{id:"edit"}},[i("h1",{staticClass:"ui header"},[e._v("\n        "+e._s(e.$t("ui.page_titles.edit_partition"))+"\n    ")]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui form"},[i("div",{staticClass:"ui grid",staticStyle:{"margin-top":"0","margin-bottom":"0"}},[i("div",{staticClass:"six wide red field",attrs:{"data-column":"name"}},[i("label",[e._v(e._s(e.$t("models.attributes.partitions.name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.partition.name,expression:"partition.name"}],attrs:{type:"text"},domProps:{value:e.partition.name},on:{input:function(t){t.target.composing||e.$set(e.partition,"name",t.target.value)}}})]),i("div",{staticClass:"five wide red field"},[i("label",[e._v(e._s(e.$t("models.attributes.partitions.numbers_from")))]),e.partition.count_of_core_waybills>0?i("input",{attrs:{type:"text",disabled:""},domProps:{value:e.partition.numbers_from}}):i("input",{directives:[{name:"model",rawName:"v-model",value:e.partition.numbers_from,expression:"partition.numbers_from"}],attrs:{type:"text"},domProps:{value:e.partition.numbers_from},on:{input:function(t){t.target.composing||e.$set(e.partition,"numbers_from",t.target.value)}}})]),i("div",{staticClass:"five wide red field"},[i("label",[e._v(e._s(e.$t("models.attributes.partitions.numbers_to")))]),e.partition.count_of_core_waybills>0?i("input",{attrs:{type:"text",disabled:""},domProps:{value:e.partition.numbers_to}}):i("input",{directives:[{name:"model",rawName:"v-model",value:e.partition.numbers_to,expression:"partition.numbers_to"}],attrs:{type:"text"},domProps:{value:e.partition.numbers_to},on:{input:function(t){t.target.composing||e.$set(e.partition,"numbers_to",t.target.value)}}})]),e.current_customer?i("div",{staticClass:"eight wide red field"},[i("label",[e._v(e._s(e.$t("models.attributes.partitions.customer")))]),i("input",{attrs:{disabled:""},domProps:{value:e.current_customer.company_short_name}})]):i("div",{staticClass:"eight wide red field"},[i("label",[e._v(e._s(e.$t("models.attributes.partitions.customer")))]),i("input",{attrs:{disabled:""},domProps:{value:e.$t("ui.general.no")}})]),i("div",{staticClass:"eight wide red field"},[i("label",[e._v("可用合約")]),e.current_customer?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.partition.contract_ids,expression:"partition.contract_ids"}],staticClass:"ui dropdown partition_type",attrs:{multiple:"",disabled:""},on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.partition,"contract_ids",t.target.multiple?i:i[0])},function(t){e.$forceUpdate()}]}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.current_customer.contracts,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2):e._e()]),i("div",{staticClass:"eight wide red field",attrs:{"data-column":"material_identity"}},[i("label",[e._v("\n                    "+e._s(e.$t("models.attributes.partitions.material"))+"\n                    "),e.partition.material_identity?i("i",{staticClass:"pointer remove circle red icon clear_dropdown",on:{click:function(t){e.clear_dropdown(".ui.dropdown.material_identity")}}}):e._e()]),e.current_store.customers?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.partition.material_identity,expression:"partition.material_identity"}],staticClass:"ui dropdown material_identity",on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.partition,"material_identity",t.target.multiple?i:i[0])},function(t){e.$forceUpdate()}]}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.current_store.materials,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2):i("div",{staticClass:"ui inline active loader"})]),i("div",{staticClass:"eight wide red field"},[i("label",[e._v("\n                    標籤種類\n                    "),e.partition.label_type?i("i",{staticClass:"pointer remove circle red icon clear_dropdown",on:{click:function(t){e.clear_dropdown(".ui.dropdown.label_type")}}}):e._e()]),i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.partition.label_type,expression:"partition.label_type"}],staticClass:"ui dropdown label_type",on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.partition,"label_type",t.target.multiple?i:i[0])},function(t){e.$forceUpdate()}]}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),i("option",{attrs:{value:"Label::Default"}},[e._v("TW568預設")]),"BY"==e.$store.state.provider.node.code?i("option",{attrs:{value:"Label::ByExpress"}},[e._v("博宇速運")]):e._e(),"CQF"==e.$store.state.provider.node.code?i("option",{attrs:{value:"Label::ChangQing"}},[e._v("長慶運通")]):e._e(),"FR"==e.$store.state.provider.node.code?i("option",{attrs:{value:"Label::FlyCargo"}},[e._v("飛樂航空")]):e._e(),i("option",{attrs:{value:"Label::HCT"}},[e._v("新竹物流")]),i("option",{attrs:{value:"Label::TCat"}},[e._v("統一速達")]),i("option",{attrs:{value:"Label::Pelican"}},[e._v("宅配通")]),i("option",{attrs:{value:"Label::Presco"}},[e._v("統一超商(統一數網)")]),i("option",{attrs:{value:"Label::PrescoInvoice"}},[e._v("統一超商含發票(統一數網)")]),i("option",{attrs:{value:"Label::FamilyMart"}},[e._v("全家便利商店(日翊文化)")]),i("option",{attrs:{value:"Label::FamilyMartInvoice"}},[e._v("全家便利商店含發票(日翊文化)")])])]),i("div",{staticClass:"eight wide red field"},[i("label",[e._v("\n                    號碼規則\n                    "),e.partition.numbers_rule?i("i",{staticClass:"pointer remove circle red icon clear_dropdown",on:{click:function(t){e.clear_dropdown(".ui.dropdown.numbers_rule")}}}):e._e()]),i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.partition.numbers_rule,expression:"partition.numbers_rule"}],staticClass:"ui dropdown numbers_rule",on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.partition,"numbers_rule",t.target.multiple?i:i[0])},function(t){e.$forceUpdate()}]}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),i("option",{attrs:{value:"tcat_numbers_rule"}},[e._v("黑貓檢查碼")]),i("option",{attrs:{value:"hct_numbers_rule"}},[e._v("新竹檢查碼")]),i("option",{attrs:{value:"pelican_numbers_rule"}},[e._v("宅配通檢查碼")])])]),i("div",{staticClass:"eight wide red field"},[i("label",[e._v("\n                    區間類型\n                    "),e.partition.partition_type?i("i",{staticClass:"pointer remove circle red icon clear_dropdown",on:{click:function(t){e.clear_dropdown(".ui.dropdown.partition_type")}}}):e._e()]),i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.partition.partition_type,expression:"partition.partition_type"}],staticClass:"ui dropdown partition_type",on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.partition,"partition_type",t.target.multiple?i:i[0])},function(t){e.$forceUpdate()}]}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),i("option",{attrs:{value:"Manual"}},[e._v("手動取號")]),i("option",{attrs:{value:"Auto"}},[e._v("自動取號")]),i("option",{attrs:{value:"Group"}},[e._v("區間群組")])])]),i("div",{staticClass:"eight wide red field",attrs:{"data-column":"note"}},[i("label",[e._v(e._s(e.$t("models.attributes.partitions.note")))]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.partition.note,expression:"partition.note"}],attrs:{rows:"4"},domProps:{value:e.partition.note},on:{input:function(t){t.target.composing||e.$set(e.partition,"note",t.target.value)}}})]),i("div",{staticClass:"eight wide red field"},[i("label",[e._v("\n                    "+e._s(e.$t("ui.pages.partitions.statistics"))+"\n                ")]),e._v("\n                "+e._s(e.$t("models.attributes.partitions.numbers_from"))+"："+e._s(e.partition.numbers_from)),i("br"),e._v("\n                "+e._s(e.$t("models.attributes.partitions.numbers_to"))+"："+e._s(e.partition.numbers_to)),i("br"),e._v("\n                "+e._s(e.$t("ui.pages.partitions.total_amount"))+"："+e._s(e.number_with_commas(e.partition.numbers_amount))),i("br"),e._v("\n                "+e._s(e.$t("ui.pages.partitions.available_quantity"))+"："+e._s(e.number_with_commas(e.partition.remaining_numbers))+"\n            ")])]),e._l(e.trial_errors,function(t,n,s){return i("div",{staticClass:"ui negative message"},[i("h3",[e._v(e._s(e.$t("models.attributes.partitions."+n)))]),i("ul",e._l(t,function(t){return i("li",[e._v(e._s(t))])}))])}),!e.trialed_partition||e.trial_errors||e.is_trialling?e._e():i("div",{staticClass:"ui positive message"},[i("h2",[e._v("\n                "+e._s(e.$t("ui.general.verify"))+"\n                "+e._s(e.$t("ui.general.result"))+"\n            ")]),i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n                "+e._s(e.$t("models.attributes.partitions.numbers_from"))+"：\n            ")]),e._v("\n            "+e._s(e.trialed_partition.numbers_from)),i("br"),i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n                "+e._s(e.$t("models.attributes.partitions.numbers_to"))+"：\n            ")]),e._v("\n            "+e._s(e.trialed_partition.numbers_to)),i("br"),i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n                "+e._s(e.$t("ui.pages.partitions.total_amount"))+"：\n            ")]),e._v("\n            "+e._s(e.number_with_commas(e.trialed_partition.numbers_amount))),i("br"),i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n                "+e._s(e.$t("ui.pages.partitions.available_quantity"))+"：\n            ")]),e._v("\n            "+e._s(e.number_with_commas(e.trialed_partition.remaining_numbers))+"\n        ")]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui buttons"},[i("router-link",{staticClass:"ui button",attrs:{to:{name:"partitions"}}},[e._v("\n                "+e._s(e.$t("ui.general.back"))+"\n            ")]),i("div",{staticClass:"or"}),e.is_trialling?i("a",{staticClass:"ui orange button",attrs:{href:"#"}},[e._v("\n                "+e._s(e.$t("ui.general.verifying"))+"...\n            ")]):i("a",{staticClass:"ui orange button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.trial_partition()}}},[e._v("\n                "+e._s(e.$t("ui.general.verify"))+"\n            ")]),i("div",{staticClass:"or"}),e.is_loading?i("a",{staticClass:"ui blue button",attrs:{href:"#"}},[e._v("\n                "+e._s(e.$t("ui.general.updating"))+"...\n            ")]):i("a",{staticClass:"ui blue button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.update_partition()}}},[e._v(e._s(e.$t("ui.general.update")))])],1)],2)]):e._e()},mL=[];function fL(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function hL(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){fL(a,n,s,r,o,"next",e)}function o(e){fL(a,n,s,r,o,"throw",e)}r(void 0)})}}var vL={name:"EditPartition",mixins:[Vu.a],props:{},data:function(){return{is_loading:!1,partition:{},is_trialling:!1,trialed_partition:null,trial_errors:null}},watch:{},mounted:function(){this.fetch_partition()},methods:{clear_dropdown:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.partition.customer_identity=null,$(e).dropdown("clear")},number_with_commas:function(e){return e?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"N/A"},fetch_partition:function(){var e=this,t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_partition).parse({partition_identity:this.$route.params.partition_identity});return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.partition=t.data.partition})["catch"](function(e){return Promise.reject(e)})},trial_partition:function(){var e=this;if(this.trial_errors=null,this.valid()){this.is_trialling=!0;var t=this.partition,i=new RestUrl(this.$store.state.provider.routes.api_v1_provider_partition_trial).parse({partition_identity:this.partition.identity});return axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.trialed_partition=t.data.partition,e.is_trialling=!1):(e.trial_errors=t.data.errors,e.$noty.error(e.$t("ui.notifications.error.verify__name",{name:e.$t("models.partitions")})),e.is_trialling=!1,Promise.reject())})["catch"](function(t){e.$noty.error(e.$t("ui.general.verify")+" "+e.$t("partition")+" "+e.$t("ui.general.error")),e.is_trialling=!1})}},update_partition:function(){var e=hL(regeneratorRuntime.mark(function e(){var t,i,n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.valid()){e.next=7;break}return e.next=3,this.trial_partition();case 3:return this.is_loading=!0,t=this.partition,i=new RestUrl(this.$store.state.provider.routes.api_v1_provider_partition_update).parse({partition_identity:this.partition.identity}),e.abrupt("return",axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){"success"==e.data.status?(n.$store.commit("provider/partitions_module/update_partition",e.data.partition),n.$bus.$emit("out_of_date",n.$store.state.instance_identity,"partitions"),n.$noty.success(n.$t("ui.notifications.success.update__name",{name:n.$t("models.partitions")})),n.$router.push("/provider/partitions"),n.is_loading=!1):(n.$noty.error(n.$t("ui.notifications.error.update__name",{name:n.$t("models.partitions")})),n.is_loading=!1)})["catch"](function(e){console.log(e),n.$noty.error(n.$t("ui.notifications.error.update__name",{name:n.$t("models.partitions")})),n.is_loading=!1}));case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},validator:{target:"partition",localize_key:"partitions",input_alert:!0,attributes:[{name:"name",required:!0},{name:"customer_identity",required:!1},{name:"numbers_from",required:!0},{name:"numbers_to",required:!0},{name:"note",required:!1}]},computed:{current_store:function(){return this.$store.state.provider.partitions_module},current_customer:function(){var e=this;return _.findLast(this.current_store.customers,function(t){return t.identity==e.partition.customer_identity})}},components:{FileUploader:sc["a"]}},gL=vL,bL=Object(Tt["a"])(gL,pL,mL,!1,null,null,null),yL=bL.exports,wL="station_partitions",$L="station_associated_partitions",kL="new_station_partition",xL="edit_station_partition",CL=[{path:"",component:YD,name:"station_partitions",meta:{breadcrumb:[wL],btns:[kL,$L]}},{path:"station_associated_partitions",component:sL,name:"associated_partitions",meta:{breadcrumb:[wL,$L],btns:[wL]}},{path:"new",component:dL,name:"new_station_partition",meta:{breadcrumb:[wL,kL]}},{path:":partition_identity/edit",component:yL,name:"edit_station_partition",meta:{breadcrumb:[wL,xL]}}],PL=CL,SL=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"staffs_layout"}},[e.is_initialized?i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1):i("div",{staticClass:"ui active centered inline large loader"}),i("BackToTopButton",{tag:"div"})],1)},NL=[];function qL(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function AL(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){qL(a,n,s,r,o,"next",e)}function o(e){qL(a,n,s,r,o,"throw",e)}r(void 0)})}}var EL={name:"StaffsLayout",data:function(){return{is_initialized:!1,errors:[]}},created:function(){},mounted:function(){var e=this;e.init(),e.$bus.$off("init"),e.$bus.$on("init",function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.init()}.bind(this))},beforeDestroy:function(){this.$bus.$off("init")},watch:{},methods:{init:function(){var e=AL(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,new Promise(function(e){t.is_initialized=!0,t.$noty.information(t.$t("ui.page_titles.staffs")+" "+t.$t("ui.general.initialize_complete"),300),e()});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{BackToTopButton:kd}},zL=EL,jL=(n("e825"),Object(Tt["a"])(zL,SL,NL,!1,null,null,null)),RL=jL.exports,OL=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"staffs"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),i("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[i("div"),i("div",{staticClass:"ui segment",style:{width:e.filter.is_advanced_mode?"100%":"auto",margin:0}},[i("FilterHeader",{staticClass:"right floated"}),i("div",{staticClass:"clear"}),i("FilterAdvanced",{staticClass:"ui transition hidden filter"})],1)]),i("div",{staticClass:"ui segment"},[i("table",{staticClass:"ui celled table"},[i("thead",{staticClass:"center aligned"},[i("tr",[i("th",[e._v(e._s(e.$t("models.attributes.staffs.username")))]),i("th",[e._v(e._s(e.$t("models.attributes.staffs.name")))]),i("th",[e._v(e._s(e.$t("models.attributes.staffs.phone")))]),i("th",[e._v(e._s(e.$t("models.attributes.staffs.role")))]),i("th",[e._v(e._s(e.$t("models.attributes.staffs.theme_name")))]),i("th",[e._v(e._s(e.$t("models.attributes.staffs.station")))]),i("th",[e._v(e._s(e.$t("ui.pages.staffs.banned")))]),i("th",[e._v(e._s(e.$t("ui.general.operate")))])])]),e.is_loading?i("tbody",{staticClass:"center aligned"},[e._m(0)]):i("tbody",{staticClass:"center aligned"},[e._l(e.staffs,function(e){return i("Staff",{key:e.identity,attrs:{staff:e}})}),e.staffs.length<=0?i("tr",{staticClass:"center aligned"},[i("td",{attrs:{colspan:"6"}},[i("h5",[e._v(e._s(e.$t("ui.general.no_data")))])])]):e._e()],2)]),i("Paginator",{tag:"div",attrs:{total_pages:e.pagination.total_pages,current_page:e.pagination.current_page,disabled:e.is_loading}})])],1)},IL=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"loading"},[i("td",{attrs:{colspan:"6"}},[i("div",{staticClass:"ui active centered inline loader"})])])}],DL=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.staff?i("tr",[i("td",[e._v(" "+e._s(e.staff.username))]),i("td",[e._v(" "+e._s(e.staff.name))]),i("td",[e._v(" "+e._s(e.staff.phone))]),i("td",["manager"==e.$store.state.station.current_staff.theme_name?i("router-link",{attrs:{"data-tooltip":e.$t("ui.general.edit")+" "+e.$t("models.roles"),to:{name:"edit_role",params:{identity:e.staff.role_identity}}}},[e._v("\n            "+e._s(e.role_name)+"\n        ")]):i("span",[e._v("\n            "+e._s(e.role_name)+"\n        ")])],1),i("td",[e._v("\n        "+e._s(e.$t("ui.theme_names."+e.staff.theme_name))+"\n    ")]),i("td",[e._v("\n        "+e._s(e.station_name)+"\n    ")]),i("td",[e.staff.is_banned?e._e():i("span",[i("i",{staticClass:"check icon"}),e._v(" "+e._s(e.$t("ui.pages.staffs.normal"))+"\n        ")]),e.staff.is_banned?i("span",[i("i",{staticClass:"remove icon"}),e._v(" "+e._s(e.$t("ui.pages.staffs.banned"))+"\n        ")]):e._e()]),i("td",[i("router-link",{staticClass:"ui basic blue button",attrs:{to:{name:"appraisals",params:{staff_identity:e.staff.identity}}}},[e._v("\n            "+e._s(e.$t("ui.pages.staffs.appraisals"))+"\n        ")]),i("router-link",{staticClass:"ui basic green button",attrs:{to:{name:"edit_staff",params:{identity:e.staff.identity}}}},[e._v("\n            "+e._s(e.$t("ui.general.edit"))+"\n        ")]),i("button",{staticClass:"ui basic button",class:{positive:e.staff.is_banned,negative:!e.staff.is_banned},on:{click:e.toggle_is_banned}},[e.staff.is_banned?i("span",[e._v("\n                "+e._s(e.$t("ui.pages.staffs.unbanned"))+"\n            ")]):i("span",[e._v("\n                "+e._s(e.$t("ui.pages.staffs.banned"))+"\n            ")])]),i("a",{staticClass:"ui basic red button",on:{click:function(t){t.preventDefault(),e.delete_staff()}}},[e._v("\n            "+e._s(e.$t("ui.general.delete"))+"\n        ")])],1)]):e._e()},LL=[],TL={name:"ProviderStaffsIndexItem",props:{staff:Object},data:function(){return{is_loading:!1}},computed:{station_name:function(){var e=_.find(this.$store.state.station.stations,{identity:this.staff.station_identity});return e?e.name:"-"},role_name:function(){var e=this,t=_.find(this.$store.state.station.staffs_module.roles,function(t){return t.identity==e.staff.role_identity});return t?t.name:"-"}},mounted:function(){},methods:{delete_staff:function(){var e=this;if(confirm(this.$t("ui.notifications.warning.are_you_sure_to_delete_it"))){this.is_loading=!0;var t=new RestUrl(this.$store.state.station.routes.api_v1_station_staff_delete).parse({identity:this.staff.identity});axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$parent.init(),e.$noty.success(e.$t("ui.notifications.success.delete__name",{name:e.staff.username})),e.$store.dispatch("station/fetch_current_staff"),e.$store.dispatch("station/fetch_current_staff_permissions")):(console.log(t.data),e.$noty.error(e.$t("ui.notifications.error.delete__name",{name:e.staff.username})))})["catch"](function(t){console.log(t.response),e.$noty.error(e.$t("ui.notifications.error.delete__name",{name:e.staff.username}))})["finally"](function(){e.is_loading=!1})}},toggle_is_banned:function(){var e=this;this.is_loading=!0;var t=new RestUrl(this.$store.state.station.routes.api_v1_station_staff_update).parse({identity:this.staff.identity});axios.post(t,{is_banned:!this.staff.is_banned},{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.staff.is_banned=t.data.staff.is_banned,e.$noty.success(e.$t("ui.notifications.success.update__name",{name:e.$t("models.staffs")}))):e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.staffs")}))})["catch"](function(e){console.log(e.response)})["finally"](function(){e.is_loading=!1})}}},BL=TL,ML=(n("332e"),Object(Tt["a"])(BL,DL,LL,!1,null,"7ae076e4",null)),UL=ML.exports,FL=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"filter_advanced"}},[i("div",{staticClass:"ui form",on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$parent.fetch_staffs(1)}}},[i("div",{staticClass:"three fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.username")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.username,expression:"filter.columns.username"}],attrs:{type:"text"},domProps:{value:e.filter.columns.username},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"username",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.name,expression:"filter.columns.name"}],attrs:{type:"text"},domProps:{value:e.filter.columns.name},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"name",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.is_banned")))]),i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.is_banned,expression:"filter.columns.is_banned"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.filter.columns.is_banned)?e._i(e.filter.columns.is_banned,null)>-1:e.filter.columns.is_banned},on:{change:function(t){var i=e.filter.columns.is_banned,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=e._i(i,a);n.checked?r<0&&e.$set(e.filter.columns,"is_banned",i.concat([a])):r>-1&&e.$set(e.filter.columns,"is_banned",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.filter.columns,"is_banned",s)}}}),i("label",[e._v(e._s(e.$t("ui.general.yes")))])])])]),i("div",{staticClass:"three fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.role_identity")))]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection fluid dropdown"},[e._l(e.roles,function(t){return e.filter.columns.role_identity==t.identity?i("div",{staticClass:"text"},[e._v("\n                        "+e._s(t.name)+"\n                    ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.roles,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.columns.role_identity==t.identity},on:{click:function(i){e.filter.columns.role_identity=t.identity}}},[e._v("\n                            "+e._s(t.name)+"\n                        ")])}))],2)]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.station_identity")))]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection fluid dropdown"},[e._l(e.stations,function(t){return e.filter.columns.station_identity==t.identity?i("div",{staticClass:"text"},[e._v("\n                        "+e._s(t.name)+"\n                    ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.stations,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.columns.station_identity==t.identity},on:{click:function(i){e.filter.columns.station_identity=t.identity}}},[e._v("\n                            "+e._s(t.name)+"\n                        ")])}))],2)]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.theme_name")))]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection fluid dropdown"},[e._l(e.theme_names,function(t){return e.filter.columns.theme_name==t?i("div",{staticClass:"text"},[i("span",t?[e._v("\n                            "+e._s(e.$t("ui.theme_names."+t))+"\n                        ")]:[e._v("\n                            "+e._s(e.$t("ui.general.please_select"))+"\n                        ")])]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.theme_names,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.columns.theme_name==t},on:{click:function(i){e.filter.columns.theme_name=t}}},[i("span",t?[e._v("\n                                "+e._s(e.$t("ui.theme_names."+t))+"\n                            ")]:[e._v("\n                                "+e._s(e.$t("ui.general.please_select"))+"\n                            ")])])}))],2)])])]),i("div",{staticClass:"ui icon blue button right floated",on:{click:function(t){e.$parent.fetch_staffs(1)}}},[i("i",{staticClass:"search icon"}),e._v("\n        "+e._s(e.$t("ui.general.search"))+"\n    ")]),i("div",{staticClass:"clear"})])},YL=[],GL={name:"StaffsFilterAdvanced",data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.station.staffs_module},filter:function(){return this.current_store.filter},theme_names:function(){return[null].concat(this.$store.state.station.theme_menu_keys)},roles:function(){return[{name:this.$t("ui.general.please_select"),identity:null}].concat(this.$store.state.station.staffs_module.roles)},stations:function(){return[{name:this.$t("ui.general.please_select"),identity:null}].concat(this.$store.state.station.stations)}},created:function(){},mounted:function(){},watch:{},methods:{},components:{}},HL=GL,KL=(n("dbcc"),Object(Tt["a"])(HL,FL,YL,!1,null,"1742b754",null)),WL=KL.exports,VL=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"filter_general"}},[e.filter.is_advanced_mode?e._e():i("div",{staticClass:"ui action input"},["role_identity"!=e.filter.current_shortcut_key&&"station_identity"!=e.filter.current_shortcut_key&&"theme_name"!=e.filter.current_shortcut_key&&"is_banned"!=e.filter.current_shortcut_key?i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns[e.filter.current_shortcut_key],expression:"filter.columns[filter.current_shortcut_key]"}],attrs:{placeholder:e.$t("ui.general.search__key",{key:e.$t("models.attributes.staffs."+e.filter.current_shortcut_key)}),type:"text"},domProps:{value:e.filter.columns[e.filter.current_shortcut_key]},on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$parent.fetch_staffs(1)},input:function(t){t.target.composing||e.$set(e.filter.columns,e.filter.current_shortcut_key,t.target.value)}}}):"role_identity"==e.filter.current_shortcut_key?i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection fluid dropdown right_radius",staticStyle:{"min-width":"200px"}},[e._l(e.roles,function(t){return e.filter.columns.role_identity==t.identity?i("div",{staticClass:"text"},[e._v("\n                "+e._s(t.name)+"\n            ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.roles,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.columns.role_identity==t.identity},on:{click:function(i){e.filter.columns.role_identity=t.identity}}},[e._v("\n                    "+e._s(t.name)+"\n                ")])}))],2):"station_identity"==e.filter.current_shortcut_key?i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection fluid dropdown right_radius",staticStyle:{"min-width":"200px"}},[e._l(e.stations,function(t){return e.filter.columns.station_identity==t.identity?i("div",{staticClass:"text"},[e._v("\n                "+e._s(t.name)+"\n            ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.stations,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.columns.station_identity==t.identity},on:{click:function(i){e.filter.columns.station_identity=t.identity}}},[e._v("\n                    "+e._s(t.name)+"\n                ")])}))],2):"theme_name"==e.filter.current_shortcut_key?i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection fluid dropdown right_radius",staticStyle:{"min-width":"200px"}},[e._l(e.theme_names,function(t){return e.filter.columns.theme_name==t?i("div",{staticClass:"text"},[i("span",t?[e._v("\n                    "+e._s(e.$t("ui.theme_names."+t))+"\n                ")]:[e._v("\n                    "+e._s(e.$t("ui.general.please_select"))+"\n                ")])]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.theme_names,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.columns.theme_name==t},on:{click:function(i){e.filter.columns.theme_name=t}}},[i("span",t?[e._v("\n                        "+e._s(e.$t("ui.theme_names."+t))+"\n                    ")]:[e._v("\n                        "+e._s(e.$t("ui.general.please_select"))+"\n                    ")])])}))],2):e._e(),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection dropdown no_search right_radius",staticStyle:{"min-width":"120px"}},[e._l(e.filter.shortcut_keys,function(t){return e.filter.current_shortcut_key==t?i("div",{staticClass:"text"},["is_banned"==e.filter.current_shortcut_key?i("span",[e._v("\n                    "+e._s(e.$t("ui.pages.staffs.is_banned"))+"\n                ")]):i("span",[e._v("\n                    "+e._s(e.$t("models.attributes.staffs."+t))+"\n                ")])]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.filter.shortcut_keys,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.current_shortcut_key==t},on:{click:function(i){e.set_quick_filter(t)}}},[i("span","is_banned"==t?[e._v("\n                        "+e._s(e.$t("ui.pages.staffs.is_banned"))+"\n                    ")]:[e._v("\n                        "+e._s(e.$t("models.attributes.staffs."+t))+"\n                    ")])])}))],2),i("div",{staticClass:"ui button icon",on:{click:function(t){e.$parent.fetch_staffs(1)}}},[i("i",{staticClass:"search icon"})])]),e.filter.is_advanced_mode?i("div",{staticClass:"ui basic red icon button",on:{click:function(t){e.$store.commit("station/staffs_module/init_filter_columns")}}},[i("i",{staticClass:"close icon"}),e._v("\n        "+e._s(e.$t("ui.general.clear"))+"\n    ")]):e._e(),i("div",{staticClass:"ui button icon",style:{height:e.filter.is_advanced_mode?"auto":"38px",paddingTop:e.filter.is_advanced_mode?"":"13px",verticalAlign:e.filter.is_advanced_mode?"":"top",margin:"0 6px"},on:{click:function(t){e.filter.is_advanced_mode=!e.filter.is_advanced_mode}}},[i("i",{staticClass:"bars icon",class:{minus:e.filter.is_advanced_mode,bars:!e.filter.is_advanced_mode}})])])},XL=[],QL={name:"StaffsFilterHeader",data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.station.staffs_module},filter:function(){return this.current_store.filter},theme_names:function(){return[null].concat(this.$store.state.station.theme_menu_keys)},roles:function(){return[{name:this.$t("ui.general.please_select"),identity:null}].concat(this.$store.state.station.staffs_module.roles)},stations:function(){return[{name:this.$t("ui.general.please_select"),identity:null}].concat(this.$store.state.station.stations)}},created:function(){},mounted:function(){},watch:{},methods:{set_quick_filter:function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{this.filter.current_shortcut_key=i,_.forEach(this.filter.shortcut_keys,function(e){t.filter.columns[e]=null}),"is_banned"==i&&(this.filter.columns.is_banned=!0)}catch(e){console.log(e)}}},components:{}},ZL=QL,JL=(n("0fb2"),Object(Tt["a"])(ZL,VL,XL,!1,null,"f1604634",null)),eT=JL.exports;function tT(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function iT(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){tT(a,n,s,r,o,"next",e)}function o(e){tT(a,n,s,r,o,"throw",e)}r(void 0)})}}var nT={name:"StaffsIndex",data:function(){return{is_initialized:!1,is_loading:!1,is_search_params_changed:!1,staffs:[],roles:[],errors:[]}},computed:{current_store:function(){return this.$store.state.station.staffs_module},pagination:function(){return this.current_store.pagination},filter:function(){return this.current_store.filter}},created:function(){},mounted:function(){this.init(),this.pagination.current_page=1},watch:{$route:{handler:function(e,t){var i=e.query.page;i&&(this.pagination.current_page=Number(i),this.$store.commit("station/staffs_module/set_current_page",i),this.fetch_staffs())},immediate:!0},"filter.is_advanced_mode":function(e){$("#staffs .ui.transition.filter").transition(e?"fade down":"hide"),e||this.$store.commit("station/staffs_module/init_filter_columns")}},methods:{init:function(){var e=iT(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,this.fetch_staffs();case 5:return e.next=7,new Promise(function(e){t.filter.is_advanced_mode&&$("#staffs .ui.transition.filter").transition("fade down"),t.is_initialized=!0,e()});case 7:e.next=12;break;case 9:switch(e.prev=9,e.t0=e["catch"](0),e.t0){default:this.$noty.error("非預期的錯誤: "+e.t0),console.log("非預期的錯誤: "),console.log(e.t0)}case 12:return e.prev=12,e.finish(12);case 14:case"end":return e.stop()}},e,this,[[0,9,12,14]])}));function t(){return e.apply(this,arguments)}return t}(),fetch_staffs:function(e){var t=this;if(1==e&&(this.pagination.current_page=1,this.$route.query.page=1),0==this.is_loading){this.errors=[],this.is_loading=!0,this.is_search_params_changed&&(this.$store.commit("station/staffs_module/set_current_page",null),this.is_search_params_changed=!1);var i=new RestUrl(this.$store.state.station.routes.api_v1_station_staffs).parse({},"?"+object_to_query(this.filter.columns)+"&"+object_to_query({page:this.pagination.current_page}));return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){if("success"!=e.data.status)return Promise.reject(e.data);t.staffs=e.data.staffs,t.$store.commit("station/staffs_module/set_current_page",e.data.pagination.current_page),t.$store.commit("station/staffs_module/set_total_pages",e.data.pagination.total_pages)})["catch"](function(e){if(e.response){switch(e.response.status){default:t.errors.push(e.response.status+" "+e.response.statusText)}t.$noty.error(t.$t("ui.notifications.error.fetch__name",{name:t.$t("models.staffs"),reason:": "+e.response.status+" "+e.response.statusText}))}else e.errors?(t.$noty.error(t.$t("ui.notifications.error.fetch__name",{name:t.$t("models.staffs"),reason:": "+e.errors})),t.errors=response.data.errors):(t.errors.push(t.$t("ui.general.server_offline")),t.$noty.error(t.$t("ui.general.server_offline")));return Promise.reject(e)})["finally"](function(){setTimeout(function(){t.is_loading=!1},300)})}},init_filter_columns:function(){this.$store.commit("station/staffs_module/init_filter_columns"),$("#staffs .ui.dropdown").dropdown("clear")},toggle_filter:function(){this.$store.commit("station/staffs_module/toggle_filter")}},components:{Staff:UL,Paginator:Ma,ErrorMessages:B_,FilterAdvanced:WL,FilterHeader:eT}},sT=nT,aT=(n("0f50"),Object(Tt["a"])(sT,OL,IL,!1,null,"261e4ee1",null)),rT=aT.exports,oT=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"new_staff"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),i("div",{staticClass:"contents"},[i("div",{staticClass:"ui form",class:{loading:e.is_loading}},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.username"))+" "),i("span",[e._v("*")])]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.username,expression:"staff.username"}],attrs:{type:"text",name:"username"},domProps:{value:e.staff.username},on:{input:function(t){t.target.composing||e.$set(e.staff,"username",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.password"))+" "),i("span",[e._v("*")])]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.password,expression:"staff.password"}],attrs:{type:"password",name:"password"},domProps:{value:e.staff.password},on:{input:function(t){t.target.composing||e.$set(e.staff,"password",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.password_confirmation"))+" "),i("span",[e._v("*")])]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.password_confirmation,expression:"staff.password_confirmation"}],attrs:{type:"password",autocomplete:"off",name:"password_confirmation"},domProps:{value:e.staff.password_confirmation},on:{input:function(t){t.target.composing||e.$set(e.staff,"password_confirmation",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.name"))+" "),i("span",[e._v("*")])]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.name,expression:"staff.name"}],attrs:{type:"text",name:"name"},domProps:{value:e.staff.name},on:{input:function(t){t.target.composing||e.$set(e.staff,"name",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.phone")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.phone,expression:"staff.phone"}],attrs:{type:"text",name:"phone"},domProps:{value:e.staff.phone},on:{input:function(t){t.target.composing||e.$set(e.staff,"phone",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.email")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.email,expression:"staff.email"}],attrs:{type:"email",name:"email"},domProps:{value:e.staff.email},on:{input:function(t){t.target.composing||e.$set(e.staff,"email",t.target.value)}}})]),e.roles?i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.role"))+" "),i("span",[e._v("*")])]),i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.staff.role_identity,expression:"staff.role_identity"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.staff,"role_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.$store.state.station.staffs_module.roles,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2)]):e._e(),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.theme_name"))+" "),i("span",[e._v("*")])]),i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.staff.theme_name,expression:"staff.theme_name"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.staff,"theme_name",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.$store.state.station.theme_menu_keys,function(t){return i("option",{domProps:{value:t}},[e._v(e._s(e.$t("ui.theme_names."+t)))])})],2)]),i("div",{staticClass:"field"},[i("label",[e._v("\n                    "+e._s(e.$t("models.attributes.staffs.station"))+"\n                    "),e.staff.station_identity?i("i",{staticClass:"pointer remove circle red icon clear_dropdown",on:{click:function(t){e.staff.station_identity=null,e.$(e.$refs.station_identity).dropdown("clear")}}}):e._e()]),i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.staff.station_identity,expression:"staff.station_identity"}],ref:"station_identity",staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.staff,"station_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.$store.state.station.stations,function(t){return i("option",{domProps:{value:t.identity}},[e._v("\n                        "+e._s(t.name)+"\n                    ")])})],2)]),i("div",{staticClass:"ui basic positive button",on:{click:e.create_staff}},[e._v("\n                "+e._s(e.$t("ui.general.submit"))+"\n            ")]),i("router-link",{staticClass:"ui basic button",attrs:{to:{name:"staffs"}}},[i("i",{staticClass:"undo icon"}),e._v("\n                "+e._s(e.$t("ui.general.back"))+"\n            ")])],1)])],1)},cT=[],_T={name:"NewStaff",data:function(){return{is_loading:!1,staff:{name:null,username:null,email:null,phone:null,password:null,password_confirmation:null,role_identity:null,theme_name:null,station_identity:null},errors:[]}},mounted:function(){this.form_validation()},computed:{operator:function(){return this.$store.state.station.staffs_module.operator},roles:function(){return this.$store.state.station.staffs_module.roles}},methods:{create_staff:function(){var e=this,t=_.clone(this.staff);if(this.errors=[],t.username&&t.password&&t.password_confirmation&&t.name&&t.role_identity&&t.theme_name)if(t.password!=t.password_confirmation)this.errors.push("請檢查密碼與確認密碼是否一致");else{var i=this.$store.state.station.routes.api_v1_station_staffs_create;this.is_loading=!0,axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?e.$router.push({name:"staffs"}):(console.log(t.data),e.errors=t.data.errors,e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.staffs")})))})["catch"](function(e){console.log(e.response)}).then(function(){e.is_loading=!1})}else this.errors.push(this.$t("ui.notifications.error.please_check_to_write_in_the_required_fields_mark"))},form_validation:function(){$(".ui.form").form({on:"blur",fields:{username:"empty",password:"empty",password_confirmation:"empty",name:"empty",role_identity:"empty"}})}},components:{ErrorMessages:B_}},lT=_T,uT=(n("4e47"),Object(Tt["a"])(lT,oT,cT,!1,null,"a831427e",null)),dT=uT.exports,pT=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"edit_staff"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),e.is_initialized?i("div",{staticClass:"contents"},[e.is_loading?i("div",{staticClass:"ui active centered inline loader"}):i("div",{staticClass:"ui form"},[i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.username")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.username,expression:"staff.username"}],attrs:{type:"text",name:"username"},domProps:{value:e.staff.username},on:{input:function(t){t.target.composing||e.$set(e.staff,"username",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.password"))+" "),i("span",[e._v("*")])]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.password,expression:"staff.password"}],attrs:{type:"password",name:"password"},domProps:{value:e.staff.password},on:{input:function(t){t.target.composing||e.$set(e.staff,"password",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.password_confirmation"))+" "),i("span",[e._v("*")])]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.password_confirmation,expression:"staff.password_confirmation"}],attrs:{type:"password",autocomplete:"off",name:"password_confirmation"},domProps:{value:e.staff.password_confirmation},on:{input:function(t){t.target.composing||e.$set(e.staff,"password_confirmation",t.target.value)}}})]),i("div",{staticClass:"eight wide field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.name,expression:"staff.name"}],attrs:{type:"text",name:"name"},domProps:{value:e.staff.name},on:{input:function(t){t.target.composing||e.$set(e.staff,"name",t.target.value)}}})]),i("div",{staticClass:"eight wide field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.phone")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.phone,expression:"staff.phone"}],attrs:{type:"text",name:"phone"},domProps:{value:e.staff.phone},on:{input:function(t){t.target.composing||e.$set(e.staff,"phone",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.email")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.email,expression:"staff.email"}],attrs:{type:"text",name:"email"},domProps:{value:e.staff.email},on:{input:function(t){t.target.composing||e.$set(e.staff,"email",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.role"))+" "),i("span",[e._v("*")])]),i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.staff.role_identity,expression:"staff.role_identity"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.staff,"role_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.$store.state.station.staffs_module.roles,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2)]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.theme_name"))+" "),i("span",[e._v("*")])]),i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.staff.theme_name,expression:"staff.theme_name"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.staff,"theme_name",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.$store.state.station.theme_menu_keys,function(t){return i("option",{domProps:{value:t}},[e._v(e._s(e.$t("ui.theme_names."+t)))])})],2)]),i("div",{staticClass:"field"},[i("label",[e._v("\n                    "+e._s(e.$t("models.attributes.staffs.station"))+"\n                    "),e.staff.station_identity?i("i",{staticClass:"pointer remove circle red icon clear_dropdown",on:{click:function(t){e.staff.station_identity=null,e.$(e.$refs.station_identity).dropdown("clear")}}}):e._e()]),i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.staff.station_identity,expression:"staff.station_identity"}],ref:"station_identity",staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.staff,"station_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.$store.state.station.stations,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2)]),i("div",{staticClass:"ui basic positive button",on:{click:e.update_staff}},[e._v("\n                "+e._s(e.$t("ui.general.submit"))+"\n            ")]),i("router-link",{staticClass:"ui basic button",attrs:{to:{name:"staffs"}}},[i("i",{staticClass:"undo icon"}),e._v("\n                "+e._s(e.$t("ui.general.back"))+"\n            ")])],1)]):e._e()],1)},mT=[];function fT(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function hT(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){fT(a,n,s,r,o,"next",e)}function o(e){fT(a,n,s,r,o,"throw",e)}r(void 0)})}}var vT={name:"EditStaff",data:function(){return{is_initialized:!1,is_loading:!1,errors:[],staff:{}}},computed:{},created:function(){this.init()},methods:{init:function(){var e=hT(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!1,e()});case 2:return e.next=4,this.fetch_staff();case 4:return e.next=6,this.form_validation();case 6:return e.next=8,new Promise(function(e){t.is_initialized=!0,e()});case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_staff:function(){var e=this,t=new RestUrl(this.$store.state.station.routes.api_v1_station_staff).parse({identity:this.$route.params.identity});return this.is_loading=!0,axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.staff=t.data.staff,e.staff.password=null,e.staff.password_confirmation=null):e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.staffs")}))})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.staffs"),reason:": "+t}))}).then(function(){e.is_loading=!1})},form_validation:function(){$(".ui.form").form({on:"blur",fields:{name:"empty",username:"empty"}})},update_staff:function(){var e=this,t=this.staff;if(this.errors=[],""!=t.password&&t.password!=t.password_confirmation){var i="密碼錯誤";this.errors.push(i),this.$noty.error(i)}else{delete t.password_confirmation;var n=new RestUrl(this.$store.state.station.routes.api_v1_station_staff_update).parse({identity:this.$route.params.identity});this.is_loading=!0,axios.post(n,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.staff=t.data.staff,e.staff.password=null,e.staff.password_confirmation=null,e.$store.dispatch("station/fetch_current_staff"),e.$store.dispatch("station/fetch_current_staff_permissions"),e.$router.push({name:"staffs"})):e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.staffs")}))})["catch"](function(e){console.log(e.response)}).then(function(){setTimeout(function(){e.is_loading=!1},300)})}}},components:{ErrorMessages:B_}},gT=vT,bT=(n("97c0"),Object(Tt["a"])(gT,pT,mT,!1,null,"b30bb9aa",null)),yT=bT.exports,wT="station_staffs",$T="new_station_staff",kT="edit_station_staff",xT=[{path:"/",component:rT,name:"station_staffs",meta:{api_name:"api_v1_station_staffs",breadcrumb:[wT],btns:[$T]}},{path:"new",component:dT,name:"new_station_staff",meta:{api_name:"api_v1_station_staffs_create",breadcrumb:[wT,$T]}},{path:":identity/edit",component:yT,name:"edit_station_staff",meta:{api_name:"api_v1_station_staff_update",breadcrumb:[wT,kT]}}],CT=xT,PT=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"customers_layout"}},[e.is_initialized?i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1):i("div",{staticClass:"ui active centered inline large loader"}),i("BackToTopButton",{tag:"div"})],1)},ST=[];function NT(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function qT(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){NT(a,n,s,r,o,"next",e)}function o(e){NT(a,n,s,r,o,"throw",e)}r(void 0)})}}var AT={name:"CustomersLayout",data:function(){return{is_initialized:!1,errors:[]}},computed:{},created:function(){},mounted:function(){var e=this;e.init(),e.$bus.$off("init"),e.$bus.$on("init",function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.init()}.bind(this))},beforeDestroy:function(){this.$bus.$off("init")},watch:{},methods:{init:function(){var e=qT(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,t.$store.dispatch("station/customers_module/fetch_provider_contracts");case 5:return e.next=7,new Promise(function(e){t.is_initialized=!0,t.$noty.information(t.$t("ui.page_titles.station_customers")+" "+t.$t("ui.general.initialize_complete"),300),e()});case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{BackToTopButton:kd}},ET=AT,zT=Object(Tt["a"])(ET,PT,ST,!1,null,null,null),jT=zT.exports,RT=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"customers"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),i("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[i("div"),i("div",{staticClass:"ui segment",style:{width:e.filter.is_advanced_mode?"100%":"auto",margin:0}},[i("FilterHeader",{staticClass:"right floated"}),i("div",{staticClass:"clear"}),i("FilterAdvanced",{staticClass:"ui transition hidden filter"})],1)]),i("div",{staticClass:"ui segment"},[i("table",{staticClass:"ui celled table"},[i("thead",{staticClass:"center aligned"},[i("tr",[i("th",[e._v(e._s(e.$t("models.attributes.customers.username")))]),i("th",[e._v(e._s(e.$t("models.attributes.customers.password")))]),i("th",[e._v(e._s(e.$t("models.attributes.customers.company_name")))]),i("th",[e._v(e._s(e.$t("models.attributes.customers.email")))]),i("th",[e._v(e._s(e.$t("models.attributes.customers.phone")))]),i("th",[e._v(e._s(e.$t("models.attributes.customers.authentication_token")))]),i("th",[e._v(e._s(e.$t("ui.pages.customers.contracts")))]),i("th",[e._v(e._s(e.$t("models.attributes.customers.fax")))]),i("th",[e._v(e._s(e.$t("ui.pages.customers.banned")))]),i("th",[e._v(e._s(e.$t("ui.general.operate")))])])]),e.is_loading?i("tbody",{staticClass:"center aligned"},[e._m(0)]):i("tbody",{staticClass:"center aligned"},[e._l(e.customers,function(e){return i("Row",{key:e.identity,attrs:{customer:e}})}),e.customers.length<=0?i("tr",{staticClass:"center aligned"},[i("td",{attrs:{colspan:"8"}},[i("h5",[e._v("\n                            "+e._s(e.$t("ui.general.no_data"))+"\n                        ")])])]):e._e()],2)]),i("Paginator",{staticClass:"right floated",attrs:{total_pages:e.pagination.total_pages,current_page:e.pagination.current_page,disabled:e.is_loading}}),i("div",{staticClass:"clear"})],1)],1)},OT=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"loading"},[i("td",{attrs:{colspan:"8"}},[i("div",{staticClass:"ui active centered inline loader"})])])}],IT=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.customer?i("tr",[i("td",[e._v(e._s(e.customer.username))]),i("td",[e._v(e._s(e.customer.password))]),i("td",[e._v(e._s(e.customer.company_name))]),i("td",[e._v(e._s(e.customer.email))]),i("td",[e._v(e._s(e.customer.phone))]),i("td",[i("pre",{staticClass:"token z-depth-1"},[e._v(e._s(e.customer.authentication_token))])]),i("td",[i("div",{staticClass:"ui items"},e._l(e.customer.contracts,function(t,n){return i("router-link",{key:t.identity,staticClass:"item",attrs:{to:{name:"station_contract",params:{customer_identity:e.customer.identity,contract_identity:t.identity}}}},[e._v("\n                "+e._s(n+1)+". "+e._s(t.name)+"\n                 \n            ")])}))]),i("td",[e._v(e._s(e.customer.fax))]),i("td",[e.customer.is_banned?e._e():i("span",[i("i",{staticClass:"check icon"}),e._v(" "+e._s(e.$t("ui.pages.customers.normal"))+"\n        ")]),e.customer.is_banned?i("span",[i("i",{staticClass:"remove icon"}),e._v(" "+e._s(e.$t("ui.pages.customers.banned"))+"\n        ")]):e._e()]),i("td",[i("router-link",{staticClass:"ui basic primary button",attrs:{to:{name:"station_customer",params:{customer_identity:e.customer.identity}}}},[e._v("\n            "+e._s(e.$t("ui.general.show"))+"\n        ")]),i("a",{staticClass:"ui basic orange button",on:{click:function(t){e.proxy_login()}}},[e._v("\n            "+e._s(e.$t("ui.pages.customers.proxy_login"))+"\n        ")]),i("button",{staticClass:"ui basic button",class:{positive:e.customer.is_banned,negative:!e.customer.is_banned},on:{click:e.toggle_is_banned}},[e.customer.is_banned?i("span",[e._v(e._s(e.$t("ui.pages.customers.unbanned")))]):i("span",[e._v(e._s(e.$t("ui.pages.customers.banned")))])])],1)]):e._e()},DT=[],LT={name:"ProviderCustomersIndexItem",props:{customer:Object},data:function(){return{is_loading:!1}},computed:{node_index:function(){return parseInt(new RestUrl(location.href).get_query_string("node_index")||0)},current_node_identity:function(){return this.node_index>0?ENV.VUE_APP_SECOND_NODE_IDENTITY:ENV.VUE_APP_FIRST_NODE_IDENTITY},login_url:function(){return"electron"==ENV.VUE_APP_BUILD_ENV?new RestUrl(this.$store.state.settings.login_url).parse({node_identity:window.LICENSE_KEY},"?captcha="+this.need_captcha):"development"==ENV.NODE_ENV?new RestUrl(this.$store.state.settings.login_url).parse({node_identity:this.current_node_identity},"?captcha="+this.need_captcha):new RestUrl(this.$store.state.settings.login_url).parse({node_identity:""},"?captcha=false")}},mounted:function(){},methods:{proxy_login:function(){var e=this,t={username:this.customer.username,password:this.customer.password,role:"customer"};axios.post(this.login_url,t,{headers:{Hostname:window.location.hostname}}).then(function(t){"success"==t.data.status&&(localStorage.setItem("customer_authentication_token",t.data.token),localStorage.setItem("customer_expired_at",e.$moment.utc(e.$moment().add(e.$store.state.global_setting.login_expiration_period,"second")).format()),window.open("/customer","new"))})["catch"](function(e){console.log(e)})},delete_customer:function(){var e=this;if(confirm(this.$t("ui.notifications.warning.are_you_sure_to_delete_it"))){this.is_loading=!0;var t=new RestUrl(this.$store.state.station.routes.api_v1_station_customer_delete).parse({customer_identity:this.customer.identity});axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$parent.fetch_customers(),e.$noty.success(e.$t("ui.notifications.success.delete__name",{name:e.$t("models.customers")}))):e.$noty.error(e.$t("ui.notifications.error.delete__name",{name:e.$t("models.contracts")}))})["catch"](function(t){console.log(t.response),e.$noty.error(e.$t("ui.notifications.error.delete__name",{name:e.$t("models.customers"),reason:": "+t.response}))})["finally"](function(){e.is_loading=!1})}},delete_contract:function(e){var t=this;if(confirm(this.$t("ui.notifications.warning.are_you_sure_to_delete_it"))){this.is_loading=!0;var i=new RestUrl(this.$store.state.station.routes.api_v1_station_contract_delete).parse({contract_identity:e});axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){"success"==e.data.status?(t.$parent.fetch_customers(),t.$bus.$emit("out_of_date",t.$store.state.instance_identity,"customers"),t.$noty.success(t.$t("ui.notifications.success.delete__name",{name:t.$t("models.contracts")}))):t.$noty.error(t.$t("ui.notifications.error.delete__name",{name:t.$t("models.contracts")}))})["catch"](function(e){console.log(e.response),t.$noty.error(t.$t("ui.notifications.error.delete__name",{name:t.$t("models.customers"),reason:": "+e.response}))})["finally"](function(){t.is_loading=!1})}},toggle_is_banned:function(){var e=this;this.is_loading=!0;var t=new RestUrl(this.$store.state.station.routes.api_v1_station_customer_update).parse({customer_identity:this.customer.identity});axios.post(t,{is_banned:!this.customer.is_banned},{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.customer.is_banned=t.data.customer.is_banned,e.$bus.$emit("out_of_date",e.$store.state.instance_identity,"customers"),e.$noty.success(e.$t("ui.notifications.success.update__name",{name:e.$t("models.customers")}))):e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.customers")}))})["catch"](function(e){console.log(e.response)})["finally"](function(){e.is_loading=!1})}}},TT=LT,BT=(n("c009"),Object(Tt["a"])(TT,IT,DT,!1,null,"c5786f56",null)),MT=BT.exports,UT=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"filter_advanced"}},[i("div",{staticClass:"ui form",on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$parent.fetch_customers(1)}}},[i("div",{staticClass:"three fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.username")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.username,expression:"filter.columns.username"}],attrs:{type:"text"},domProps:{value:e.filter.columns.username},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"username",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.company_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.company_name,expression:"filter.columns.company_name"}],attrs:{type:"text"},domProps:{value:e.filter.columns.company_name},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"company_name",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.email")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.email,expression:"filter.columns.email"}],attrs:{type:"text"},domProps:{value:e.filter.columns.email},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"email",t.target.value)}}})])]),i("div",{staticClass:"four fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.phone")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.phone,expression:"filter.columns.phone"}],attrs:{type:"text"},domProps:{value:e.filter.columns.phone},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"phone",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.fax")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.fax,expression:"filter.columns.fax"}],attrs:{type:"text"},domProps:{value:e.filter.columns.fax},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"fax",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.is_banned")))]),i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.is_banned,expression:"filter.columns.is_banned"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.filter.columns.is_banned)?e._i(e.filter.columns.is_banned,null)>-1:e.filter.columns.is_banned},on:{change:function(t){var i=e.filter.columns.is_banned,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=e._i(i,a);n.checked?r<0&&e.$set(e.filter.columns,"is_banned",i.concat([a])):r>-1&&e.$set(e.filter.columns,"is_banned",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.filter.columns,"is_banned",s)}}}),i("label",[e._v(e._s(e.$t("ui.general.yes")))])])])])]),i("div",{staticClass:"ui icon blue button right floated",on:{click:function(t){e.$parent.fetch_customers(1)}}},[i("i",{staticClass:"search icon"}),e._v("\n        "+e._s(e.$t("ui.general.search"))+"\n    ")]),i("div",{staticClass:"clear"})])},FT=[],YT={name:"CustomersFilterAdvanced",data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.station.customers_module},is_show_filter:function(){return this.current_store.is_show_filter},filter:function(){return this.current_store.filter}},created:function(){},mounted:function(){},watch:{},methods:{},components:{}},GT=YT,HT=Object(Tt["a"])(GT,UT,FT,!1,null,"65017eac",null),KT=HT.exports,WT=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"filter_general"}},[e.filter.is_advanced_mode?e._e():i("div",{staticClass:"ui action input"},["is_banned"!=e.filter.current_shortcut_key?i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns[e.filter.current_shortcut_key],expression:"filter.columns[filter.current_shortcut_key]"}],attrs:{placeholder:e.$t("ui.general.search__key",{key:e.$t("models.attributes.customers."+e.filter.current_shortcut_key)}),type:"text"},domProps:{value:e.filter.columns[e.filter.current_shortcut_key]},on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$parent.fetch_customers(1)},input:function(t){t.target.composing||e.$set(e.filter.columns,e.filter.current_shortcut_key,t.target.value)}}}):e._e(),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection dropdown no_search right_radius",staticStyle:{"min-width":"120px"}},[e._l(e.filter.shortcut_keys,function(t){return e.filter.current_shortcut_key==t?i("div",{staticClass:"text"},["is_banned"==e.filter.current_shortcut_key?i("span",[e._v("\n                    "+e._s(e.$t("ui.pages.customers.is_banned"))+"\n                ")]):i("span",[e._v("\n                    "+e._s(e.$t("models.attributes.customers."+t))+"\n                ")])]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.filter.shortcut_keys,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.current_shortcut_key==t},on:{click:function(i){e.set_quick_filter(t)}}},[i("span","is_banned"==t?[e._v("\n                        "+e._s(e.$t("ui.pages.customers.is_banned"))+"\n                    ")]:[e._v("\n                        "+e._s(e.$t("models.attributes.customers."+t))+"\n                    ")])])}))],2),i("div",{staticClass:"ui button icon",on:{click:function(t){e.$parent.fetch_customers(1)}}},[i("i",{staticClass:"search icon"})])]),e.filter.is_advanced_mode?i("div",{staticClass:"ui basic red icon button",on:{click:function(t){e.$store.commit("station/customers_module/init_filter_columns")}}},[i("i",{staticClass:"close icon"}),e._v("\n        "+e._s(e.$t("ui.general.clear"))+"\n    ")]):e._e(),i("div",{staticClass:"ui button icon",style:{height:e.filter.is_advanced_mode?"auto":"38px",paddingTop:e.filter.is_advanced_mode?"":"13px",verticalAlign:e.filter.is_advanced_mode?"":"top",margin:"0 6px"},on:{click:function(t){e.filter.is_advanced_mode=!e.filter.is_advanced_mode}}},[i("i",{staticClass:"bars icon",class:{minus:e.filter.is_advanced_mode,bars:!e.filter.is_advanced_mode}})])])},VT=[],XT={name:"CustomersFilterHeader",data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.station.customers_module},filter:function(){return this.current_store.filter}},created:function(){},mounted:function(){},watch:{},methods:{set_quick_filter:function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{this.filter.current_shortcut_key=i,_.forEach(this.filter.shortcut_keys,function(e){t.filter.columns[e]=null}),"is_banned"==i&&(this.filter.columns.is_banned=!0)}catch(e){console.log(e)}}},components:{}},QT=XT,ZT=(n("14d9"),Object(Tt["a"])(QT,WT,VT,!1,null,"4e217f1a",null)),JT=ZT.exports;function eB(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function tB(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){eB(a,n,s,r,o,"next",e)}function o(e){eB(a,n,s,r,o,"throw",e)}r(void 0)})}}var iB={name:"CustomersIndex",data:function(){return{is_initialized:!1,is_loading:!1,is_filter_changed:!1,customers:[],errors:[]}},computed:{current_store:function(){return this.$store.state.station.customers_module},pagination:function(){return this.current_store.pagination},filter:function(){return this.current_store.filter}},created:function(){},mounted:function(){this.init(),this.pagination.current_page=1},watch:{$route:{handler:function(e,t){var i=e.query.page;i&&(this.pagination.current_page=Number(i),this.$store.commit("station/customers_module/set_current_page",i),this.fetch_customers())},immediate:!0},filter:{handler:function(e,t){this.is_filter_changed=!0},deep:!0},"filter.is_advanced_mode":function(e){$("#customers .ui.transition.filter").transition(e?"fade down":"hide"),e||this.$store.commit("station/customers_module/init_filter_columns")}},methods:{init:function(){var e=tB(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,this.fetch_customers();case 5:return e.next=7,new Promise(function(e){t.filter.is_advanced_mode&&$("#customers .ui.transition.filter").transition("fade down"),t.is_initialized=!0,e()});case 7:e.next=12;break;case 9:switch(e.prev=9,e.t0=e["catch"](0),e.t0){default:console.log("init error: "),console.log(e.t0)}case 12:return e.prev=12,e.finish(12);case 14:case"end":return e.stop()}},e,this,[[0,9,12,14]])}));function t(){return e.apply(this,arguments)}return t}(),fetch_customers:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(1==t&&(this.pagination.current_page=1,this.$route.query.page=1),0==this.is_loading){this.errors=[],this.is_loading=!0,this.is_filter_changed&&(this.$store.commit("station/customers_module/set_current_page",null),this.is_filter_changed=!1);var i=new RestUrl(this.$store.state.station.routes.api_v1_station_customers).parse({},"?"+object_to_query(this.filter.columns)+"&"+object_to_query({page:this.pagination.current_page}));return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return Promise.reject(t.data);e.customers=t.data.customers,e.$store.commit("station/customers_module/set_current_page",t.data.pagination.current_page),e.$store.commit("station/customers_module/set_total_pages",t.data.pagination.total_pages)})["catch"](function(t){if(t.response){switch(t.response.status){default:e.errors.push(t.response.status+" "+t.response.statusText)}e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.customers"),reason:": "+t.response.status+" "+t.response.statusText}))}else t.errors?(e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.customers"),reason:": "+t.errors})),e.errors=response.data.errors):(e.errors.push(e.$t("ui.general.server_offline")),e.$noty.error(e.$t("ui.general.server_offline")));return Promise.reject(t)})["finally"](function(){setTimeout(function(){e.is_loading=!1},300)})}},init_filter_columns:function(){this.$store.commit("station/customers_module/init_filter_columns")}},components:{Row:MT,Paginator:Ma,ErrorMessages:B_,FilterAdvanced:KT,FilterHeader:JT}},nB=iB,sB=(n("592e"),Object(Tt["a"])(nB,RT,OT,!1,null,"591b3170",null)),aB=sB.exports,rB=function(){var e=this,t=e.$createElement,i=e._self._c||t;return this.current_station.identity?i("div",{attrs:{id:"new_customer"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),i("div",{staticClass:"contents"},[e.is_loading?i("div",{staticClass:"ui active centered inline loader"}):i("div",{staticClass:"ui form"},[i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"user icon"}),e._v("\n                "+e._s(e.$t("ui.pages.customers.basic_information"))+"\n            ")])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide required field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.username")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.username,expression:"customer.username"}],attrs:{type:"text",name:"username"},domProps:{value:e.customer.username},on:{input:function(t){t.target.composing||e.$set(e.customer,"username",t.target.value)}}})]),i("div",{staticClass:"eight wide required field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.company_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.company_name,expression:"customer.company_name"}],attrs:{type:"text",name:"company_name"},domProps:{value:e.customer.company_name},on:{input:function(t){t.target.composing||e.$set(e.customer,"company_name",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field computer column"},[i("label",{attrs:{"data-tooltip":e.old_password}},[e._v(e._s(e.$t("models.attributes.customers.password")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.password,expression:"customer.password"}],attrs:{type:"password",name:"password"},domProps:{value:e.customer.password},on:{input:function(t){t.target.composing||e.$set(e.customer,"password",t.target.value)}}})]),i("div",{staticClass:"eight wide field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.password_confirmation")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.password_confirmation,expression:"customer.password_confirmation"}],attrs:{type:"password",autocomplete:"off",name:"password_confirmation"},domProps:{value:e.customer.password_confirmation},on:{input:function(t){t.target.composing||e.$set(e.customer,"password_confirmation",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.company_short_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.company_short_name,expression:"customer.company_short_name"}],attrs:{type:"text",name:"company_short_name"},domProps:{value:e.customer.company_short_name},on:{input:function(t){t.target.composing||e.$set(e.customer,"company_short_name",t.target.value)}}})]),i("div",{staticClass:"eight wide field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.company_en_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.company_en_name,expression:"customer.company_en_name"}],attrs:{type:"text",name:"company_en_name"},domProps:{value:e.customer.company_en_name},on:{input:function(t){t.target.composing||e.$set(e.customer,"company_en_name",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"six wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.email")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.email,expression:"customer.email"}],attrs:{type:"text",name:"email"},domProps:{value:e.customer.email},on:{input:function(t){t.target.composing||e.$set(e.customer,"email",t.target.value)}}})]),i("div",{staticClass:"five wide field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.phone")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.phone,expression:"customer.phone"}],attrs:{type:"text",name:"phone"},domProps:{value:e.customer.phone},on:{input:function(t){t.target.composing||e.$set(e.customer,"phone",t.target.value)}}})]),i("div",{staticClass:"five wide field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.email")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.fax,expression:"customer.fax"}],attrs:{type:"text",name:"fax"},domProps:{value:e.customer.fax},on:{input:function(t){t.target.composing||e.$set(e.customer,"fax",t.target.value)}}})])]),i("br"),i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"user icon"}),e._v("\n                "+e._s(e.$t("ui.pages.customers.common_sender_information"))+"\n            ")])]),i("br"),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_company_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_company_name,expression:"customer.default_sender_company_name"}],attrs:{type:"text",name:"default_sender_name"},domProps:{value:e.customer.default_sender_company_name},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_company_name",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_name,expression:"customer.default_sender_name"}],attrs:{type:"text",name:"default_sender_name"},domProps:{value:e.customer.default_sender_name},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_name",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_address")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_address,expression:"customer.default_sender_address"}],attrs:{type:"text",name:"default_sender_address"},domProps:{value:e.customer.default_sender_address},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_address",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_phone")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_phone,expression:"customer.default_sender_phone"}],attrs:{type:"text",name:"default_sender_phone"},domProps:{value:e.customer.default_sender_phone},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_phone",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"six wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_email")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_email,expression:"customer.default_sender_email"}],attrs:{type:"text",name:"default_sender_email"},domProps:{value:e.customer.default_sender_email},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_email",t.target.value)}}})]),i("div",{staticClass:"five wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_fax")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_fax,expression:"customer.default_sender_fax"}],attrs:{type:"text",name:"default_sender_fax"},domProps:{value:e.customer.default_sender_fax},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_fax",t.target.value)}}})]),i("div",{staticClass:"five wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_url")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_url,expression:"customer.default_sender_url"}],attrs:{type:"text",name:"default_sender_url"},domProps:{value:e.customer.default_sender_url},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_url",t.target.value)}}})])]),i("br"),i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"user icon"}),e._v("\n                "+e._s(e.$t("ui.pages.customers.common_consignee_information"))+"\n            ")])]),i("br"),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_consignee_company_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_consignee_company_name,expression:"customer.default_consignee_company_name"}],attrs:{type:"text",name:"default_sender_name"},domProps:{value:e.customer.default_consignee_company_name},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_consignee_company_name",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_consignee_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_consignee_name,expression:"customer.default_consignee_name"}],attrs:{type:"text",name:"default_consignee_name"},domProps:{value:e.customer.default_consignee_name},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_consignee_name",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_consignee_address")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_consignee_address,expression:"customer.default_consignee_address"}],attrs:{type:"text",name:"default_consignee_address"},domProps:{value:e.customer.default_consignee_address},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_consignee_address",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_consignee_phone")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_consignee_phone,expression:"customer.default_consignee_phone"}],attrs:{type:"text",name:"default_consignee_phone"},domProps:{value:e.customer.default_consignee_phone},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_consignee_phone",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_consignee_email")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_consignee_email,expression:"customer.default_consignee_email"}],attrs:{type:"text",name:"default_consignee_email"},domProps:{value:e.customer.default_consignee_email},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_consignee_email",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_consignee_fax")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_consignee_fax,expression:"customer.default_consignee_fax"}],attrs:{type:"text",name:"default_consignee_fax"},domProps:{value:e.customer.default_consignee_fax},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_consignee_fax",t.target.value)}}})])]),i("div",{staticClass:"eight wide field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.can_use_associated_partitions,expression:"customer.can_use_associated_partitions"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(e.customer.can_use_associated_partitions)?e._i(e.customer.can_use_associated_partitions,null)>-1:e.customer.can_use_associated_partitions},on:{change:function(t){var i=e.customer.can_use_associated_partitions,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=e._i(i,a);n.checked?r<0&&e.$set(e.customer,"can_use_associated_partitions",i.concat([a])):r>-1&&e.$set(e.customer,"can_use_associated_partitions",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.customer,"can_use_associated_partitions",s)}}}),i("label",[e._v("\n                        "+e._s(e.$t("ui.pages.customers.is_open_use_associated_partition"))+"\n                    ")])])]),i("div",{staticClass:"eight wide field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.can_use_provider_partitions,expression:"customer.can_use_provider_partitions"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(e.customer.can_use_provider_partitions)?e._i(e.customer.can_use_provider_partitions,null)>-1:e.customer.can_use_provider_partitions},on:{change:function(t){var i=e.customer.can_use_provider_partitions,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=e._i(i,a);n.checked?r<0&&e.$set(e.customer,"can_use_provider_partitions",i.concat([a])):r>-1&&e.$set(e.customer,"can_use_provider_partitions",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.customer,"can_use_provider_partitions",s)}}}),i("label",[e._v("\n                        "+e._s(e.$t("ui.pages.customers.is_open_use_use_yourself_partition"))+"\n                    ")])])]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui basic positive button",on:{click:e.create_customer}},[e._v("\n                "+e._s(e.$t("ui.general.submit"))+"\n            ")]),i("router-link",{staticClass:"ui basic button",attrs:{to:{name:"station_customers"}}},[i("i",{staticClass:"undo icon"}),e._v("\n                "+e._s(e.$t("ui.general.back"))+"\n            ")])],1)])],1):e._e()},oB=[],cB={name:"NewCustomer",data:function(){return{is_loading:!1,old_password:"",customer:{username:null,password:null,password_confirmation:null,company_name:null,company_short_name:null,company_en_name:null,email:null,phone:null,fax:null,station:null},errors:[]}},mounted:function(){this.form_validation()},computed:{current_store:function(){return this.$store.state.station},current_staff:function(){return this.current_store.current_staff},current_station:function(){return this.current_store.current_station}},methods:{create_customer:function(){var e=this,t=_.clone(this.customer);if(t.station_identity=this.current_station.identity["this"].errors=[],t.username&&t.password&&t.password_confirmation&&t.company_name)if(t.password!=t.password_confirmation){var i=this.$t("ui.pages.customers.helps.the_password_does_not_match_the_confirmation_password");this.errors.push(i),this.$noty.error(i)}else{var n=this.$store.state.station.routes.api_v1_station_customers_create;this.is_loading=!0,axios.post(n,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$bus.$emit("out_of_date",e.$store.state.instance_identity,"customers"),e.$noty.success(e.$t("ui.notifications.success.create__name",{name:e.$t("models.customers")})),e.$router.push({name:"station_customers"})):(console.log(t.data),e.errors=t.data.errors,e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.customers"),reason:": "+t.data.errors})))})["catch"](function(e){console.log(e.response)}).then(function(){e.is_loading=!1})}else this.errors.push(this.$t("ui.notifications.error.please_check_to_write_in_the_required_fields_mark"))},form_validation:function(){$(".ui.form").form({on:"blur",fields:{username:"empty",password:"empty",password_confirmation:"empty",company_name:"empty"}})}},components:{ErrorMessages:B_}},_B=cB,lB=Object(Tt["a"])(_B,rB,oB,!1,null,"7d93e46e",null),uB=lB.exports,dB=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.is_initialized?i("div",{attrs:{id:"customer"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),i("div",{staticClass:"ui segments"},[i("div",{staticClass:"ui segment pointer",on:{click:function(t){e.div_toggle("basic_information")}}},[i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"user icon"}),e._v("\n                    "+e._s(e.$t("ui.pages.customers.basic_information"))+"\n                    "),i("i",{staticClass:"icon caret",class:[e.toggles.basic_information?"up":"down"]})])])]),e.toggles.basic_information?i("div",{staticClass:"ui segment"},[e.is_loading?i("div",{staticClass:"ui active centered inline loader"}):e.customer.identity?i("div",{staticClass:"ui form"},[i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide required field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.username")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.username,expression:"customer.username"}],attrs:{type:"text",name:"username"},domProps:{value:e.customer.username},on:{input:function(t){t.target.composing||e.$set(e.customer,"username",t.target.value)}}})]),i("div",{staticClass:"eight wide required field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.company_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.company_name,expression:"customer.company_name"}],attrs:{type:"text",name:"company_name"},domProps:{value:e.customer.company_name},on:{input:function(t){t.target.composing||e.$set(e.customer,"company_name",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field computer column"},[i("label",{attrs:{"data-tooltip":e.old_password}},[e._v(e._s(e.$t("models.attributes.customers.password")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.password,expression:"customer.password"}],attrs:{type:"password",name:"password"},domProps:{value:e.customer.password},on:{input:function(t){t.target.composing||e.$set(e.customer,"password",t.target.value)}}})]),i("div",{staticClass:"eight wide field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.password_confirmation")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.password_confirmation,expression:"customer.password_confirmation"}],attrs:{type:"password",autocomplete:"off",name:"password_confirmation"},domProps:{value:e.customer.password_confirmation},on:{input:function(t){t.target.composing||e.$set(e.customer,"password_confirmation",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.company_short_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.company_short_name,expression:"customer.company_short_name"}],attrs:{type:"text",name:"company_short_name"},domProps:{value:e.customer.company_short_name},on:{input:function(t){t.target.composing||e.$set(e.customer,"company_short_name",t.target.value)}}})]),i("div",{staticClass:"eight wide field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.company_en_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.company_en_name,expression:"customer.company_en_name"}],attrs:{type:"text",name:"company_en_name"},domProps:{value:e.customer.company_en_name},on:{input:function(t){t.target.composing||e.$set(e.customer,"company_en_name",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"six wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.email")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.email,expression:"customer.email"}],attrs:{type:"text",name:"email"},domProps:{value:e.customer.email},on:{input:function(t){t.target.composing||e.$set(e.customer,"email",t.target.value)}}})]),i("div",{staticClass:"five wide field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.phone")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.phone,expression:"customer.phone"}],attrs:{type:"text",name:"phone"},domProps:{value:e.customer.phone},on:{input:function(t){t.target.composing||e.$set(e.customer,"phone",t.target.value)}}})]),i("div",{staticClass:"five wide field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.fax")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.fax,expression:"customer.fax"}],attrs:{type:"text",name:"fax"},domProps:{value:e.customer.fax},on:{input:function(t){t.target.composing||e.$set(e.customer,"fax",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.can_use_associated_partitions,expression:"customer.can_use_associated_partitions"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(e.customer.can_use_associated_partitions)?e._i(e.customer.can_use_associated_partitions,null)>-1:e.customer.can_use_associated_partitions},on:{change:function(t){var i=e.customer.can_use_associated_partitions,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=e._i(i,a);n.checked?r<0&&e.$set(e.customer,"can_use_associated_partitions",i.concat([a])):r>-1&&e.$set(e.customer,"can_use_associated_partitions",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.customer,"can_use_associated_partitions",s)}}}),i("label",[e._v("\n                                "+e._s(e.$t("ui.pages.customers.is_open_use_associated_partition"))+"\n                            ")])])]),i("div",{staticClass:"eight wide field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.can_use_provider_partitions,expression:"customer.can_use_provider_partitions"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(e.customer.can_use_provider_partitions)?e._i(e.customer.can_use_provider_partitions,null)>-1:e.customer.can_use_provider_partitions},on:{change:function(t){var i=e.customer.can_use_provider_partitions,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=e._i(i,a);n.checked?r<0&&e.$set(e.customer,"can_use_provider_partitions",i.concat([a])):r>-1&&e.$set(e.customer,"can_use_provider_partitions",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.customer,"can_use_provider_partitions",s)}}}),i("label",[e._v("\n                                "+e._s(e.$t("ui.pages.customers.is_open_use_use_yourself_partition"))+"\n                            ")])])])]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"right floated"},[i("div",{staticClass:"ui positive button",on:{click:e.update_customer}},[e._v("\n                        "+e._s(e.$t("ui.general.update"))+"\n                    ")])]),i("div",{staticClass:"clear"})]):e._e()]):i("div",{staticClass:"ui basic segment pointer",on:{click:function(t){e.div_toggle("basic_information")}}},[i("h4",[e._v(e._s(e.$t("ui.pages.customers.show_basic_information")))])])]),i("div",{staticClass:"ui segments"},[i("div",{staticClass:"ui segment pointer",on:{click:function(t){e.div_toggle("common_sender_information")}}},[i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"user icon"}),e._v("\n                    "+e._s(e.$t("ui.pages.customers.common_sender_information"))+"\n                    "),i("i",{staticClass:"icon caret",class:[e.toggles.common_sender_information?"up":"down"]})])])]),e.toggles.common_sender_information?i("div",{staticClass:"ui segment"},[e.is_loading?i("div",{staticClass:"ui active centered inline loader"}):e.customer.identity?i("div",{staticClass:"ui form"},[i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_company_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_company_name,expression:"customer.default_sender_company_name"}],attrs:{type:"text",name:"default_sender_name"},domProps:{value:e.customer.default_sender_company_name},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_company_name",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_name,expression:"customer.default_sender_name"}],attrs:{type:"text",name:"default_sender_name"},domProps:{value:e.customer.default_sender_name},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_name",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"three wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_zip_code")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_zip_code,expression:"customer.default_sender_zip_code"}],attrs:{type:"text",name:"default_sender_zip_code"},domProps:{value:e.customer.default_sender_zip_code},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_zip_code",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_address")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_address,expression:"customer.default_sender_address"}],attrs:{type:"text",name:"default_sender_address"},domProps:{value:e.customer.default_sender_address},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_address",t.target.value)}}})]),i("div",{staticClass:"five wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_phone")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_phone,expression:"customer.default_sender_phone"}],attrs:{type:"text",name:"default_sender_phone"},domProps:{value:e.customer.default_sender_phone},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_phone",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"six wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_email")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_email,expression:"customer.default_sender_email"}],attrs:{type:"text",name:"default_sender_email"},domProps:{value:e.customer.default_sender_email},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_email",t.target.value)}}})]),i("div",{staticClass:"five wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_fax")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_fax,expression:"customer.default_sender_fax"}],attrs:{type:"text",name:"default_sender_fax"},domProps:{value:e.customer.default_sender_fax},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_fax",t.target.value)}}})]),i("div",{staticClass:"five wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_url")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_url,expression:"customer.default_sender_url"}],attrs:{type:"text",name:"default_sender_url"},domProps:{value:e.customer.default_sender_url},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_url",t.target.value)}}})])]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"right floated"},[i("div",{staticClass:"ui positive button",on:{click:e.update_customer}},[e._v("\n                    "+e._s(e.$t("ui.general.update"))+"\n                ")])]),i("div",{staticClass:"clear"})]):e._e()]):i("div",{staticClass:"ui basic segment pointer",on:{click:function(t){e.div_toggle("common_sender_information")}}},[i("h4",[e._v(e._s(e.$t("ui.pages.customers.show_common_sender_information")))])])]),i("div",{staticClass:"ui segments"},[i("div",{staticClass:"ui segment pointer",on:{click:function(t){e.div_toggle("common_consignee_information")}}},[i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"user icon"}),e._v("\n                    "+e._s(e.$t("ui.pages.customers.common_consignee_information"))+"\n                    "),i("i",{staticClass:"icon caret",class:[e.toggles.common_consignee_information?"up":"down"]})])])]),e.toggles.common_consignee_information?i("div",{staticClass:"ui segment"},[e.is_loading?i("div",{staticClass:"ui active centered inline loader"}):e.customer.identity?i("div",{staticClass:"ui form"},[i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_consignee_company_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_consignee_company_name,expression:"customer.default_consignee_company_name"}],attrs:{type:"text",name:"default_sender_name"},domProps:{value:e.customer.default_consignee_company_name},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_consignee_company_name",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_consignee_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_consignee_name,expression:"customer.default_consignee_name"}],attrs:{type:"text",name:"default_consignee_name"},domProps:{value:e.customer.default_consignee_name},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_consignee_name",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"three wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_consignee_zip_code")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_consignee_zip_code,expression:"customer.default_consignee_zip_code"}],attrs:{type:"text",name:"default_consignee_zip_code"},domProps:{value:e.customer.default_consignee_zip_code},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_consignee_zip_code",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_consignee_address")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_consignee_address,expression:"customer.default_consignee_address"}],attrs:{type:"text",name:"default_consignee_address"},domProps:{value:e.customer.default_consignee_address},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_consignee_address",t.target.value)}}})]),i("div",{staticClass:"five wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_consignee_phone")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_consignee_phone,expression:"customer.default_consignee_phone"}],attrs:{type:"text",name:"default_consignee_phone"},domProps:{value:e.customer.default_consignee_phone},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_consignee_phone",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_consignee_email")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_consignee_email,expression:"customer.default_consignee_email"}],attrs:{type:"text",name:"default_consignee_email"},domProps:{value:e.customer.default_consignee_email},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_consignee_email",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_consignee_fax")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_consignee_fax,expression:"customer.default_consignee_fax"}],attrs:{type:"text",name:"default_consignee_fax"},domProps:{value:e.customer.default_consignee_fax},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_consignee_fax",t.target.value)}}})])]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"right floated"},[i("div",{staticClass:"ui positive button",on:{click:e.update_customer}},[e._v("\n                    "+e._s(e.$t("ui.general.update"))+"\n                ")])]),i("div",{staticClass:"clear"})]):e._e()]):i("div",{staticClass:"ui basic segment pointer",on:{click:function(t){e.div_toggle("common_consignee_information")}}},[i("h4",[e._v(e._s(e.$t("ui.pages.customers.show_common_consignee_information")))])])]),i("div",{staticClass:"ui segments"},[i("div",{staticClass:"ui segment pointer",on:{click:function(t){e.div_toggle("contracts")}}},[i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"clipboard icon"}),e._v("\n                    "+e._s(e.$t("ui.pages.customers.contracts"))+"\n                    "),i("i",{staticClass:"icon caret",class:[e.toggles.contracts?"up":"down"]}),e.toggles.contracts?i("router-link",{attrs:{to:{name:"new_station_contract",params:{customer_identity:e.customer.identity}}}},[i("i",{staticClass:"add icon"})]):e._e()],1)])]),e.toggles.contracts?e._e():i("div",{staticClass:"ui basic segment pointer",on:{click:function(t){e.div_toggle("contracts")}}},[i("h4",[e._v(e._s(e.$t("ui.pages.customers.show_contracts")))])]),e.toggles.contracts?i("div",{staticClass:"ui basic segment pointer"},[e.is_loading?i("div",{staticClass:"ui active centered inline loader"}):e._e(),i("table",{staticClass:"ui table"},[i("thead",[i("tr",[i("th",[e._v(e._s(e.$t("ui.pages.customers.contract.name")))]),i("th",[e._v(e._s(e.$t("ui.pages.customers.contract.created_at")))]),i("th",[e._v(e._s(e.$t("ui.general.operate")))])])]),i("tbody",[e._l(e.customer.contracts,function(t){return i("tr",{key:t.identity,attrs:{contract:t}},[i("td",[e._v("\n                            "+e._s(t.name)+"\n                        ")]),i("td",[e._v(e._s(e.human_datetime(t.created_at)))]),i("td",[i("router-link",{key:t.identity,staticClass:"ui basic primary button",attrs:{to:{name:"station_contract",params:{customer_identity:e.customer.identity,contract_identity:t.identity}}}},[e._v("\n                                "+e._s(e.$t("ui.general.show"))+"\n                            ")]),e.customer.contracts.length>1?i("a",{staticClass:"ui basic red button",attrs:{href:"#"},on:{click:function(i){i.preventDefault(),e.delete_contract(t.identity,t.name)}}},[e._v("\n                                "+e._s(e.$t("ui.general.delete"))+"\n                            ")]):e._e()],1)])}),e.customer.contracts.length?e._e():i("tr",{staticClass:"center aligned"},[i("td",{attrs:{colspan:"2"}},[i("h5",[e._v("\n                                "+e._s(e.$t("ui.general.no_data"))+"\n                            ")])])])],2)])]):e._e()])],1):e._e()},pB=[];function mB(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function fB(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){mB(a,n,s,r,o,"next",e)}function o(e){mB(a,n,s,r,o,"throw",e)}r(void 0)})}}var hB={name:"Customer",data:function(){return{is_initialized:!1,is_loading:!1,errors:[],customer:{},old_password:"",toggles:{basic_information:!0,common_sender_information:!1,common_consignee_information:!1,contracts:!1}}},computed:{},mounted:function(){this.init()},created:function(){},methods:{div_toggle:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";_.forEach(this.toggles,function(i,n){n!=t&&(e.toggles[n]=!1)}),t&&(this.toggles[t]=!this.toggles[t])},init:function(){var e=fB(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,this.fetch_customer();case 5:return e.next=7,new Promise(function(e){t.is_initialized=!0,e()});case 7:e.next=12;break;case 9:switch(e.prev=9,e.t0=e["catch"](0),e.t0){default:console.log("init error: "),console.log(e.t0)}case 12:return e.prev=12,e.next=15,this.form_validation();case 15:return e.finish(12);case 16:case"end":return e.stop()}},e,this,[[0,9,12,16]])}));function t(){return e.apply(this,arguments)}return t}(),fetch_customer:function(){var e=this,t=new RestUrl(this.$store.state.station.routes.api_v1_station_customer).parse({customer_identity:this.$route.params.customer_identity});return this.is_loading=!0,axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return Promise.reject(t.data);e.old_password=t.data.customer.password,t.data.customer.password=null,e.customer=t.data.customer})["catch"](function(t){if(t.response){switch(t.response.status){default:e.errors.push(t.response.status+" "+t.response.statusText)}e.$noty.error(e.$t("ui.notifications.error.find__name",{name:e.$t("models.customers"),reason:": "+t.response.status+" "+t.response.statusText}))}else t.errors?e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.customers"),reason:": "+t.errors})):(e.errors.push(e.$t("ui.general.server_offline")),e.$noty.error(e.$t("ui.general.server_offline")));return Promise.reject(t)})["finally"](function(){e.is_loading=!1})},form_validation:function(){$(".ui.form").form({on:"blur",fields:{username:"empty",company_name:"empty"}})},update_customer:function(){var e=this,t=this.customer;if(this.errors=[],""!=t.password&&t.password!=t.password_confirmation){var i=this.$t("ui.pages.customers.helps.the_password_does_not_match_the_confirmation_password");this.errors.push(i),this.$noty.error(i)}else if(this.customer.username&&this.customer.company_name){delete t.password_confirmation;var n=new RestUrl(this.$store.state.station.routes.api_v1_station_customer_update).parse({customer_identity:this.$route.params.customer_identity});this.is_loading=!0,axios.post(n,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.customer=t.data.customer,e.customer.password=null,e.customer.password_confirmation=null,e.$bus.$emit("out_of_date",e.$store.state.instance_identity,"customers"),e.$noty.success(e.$t("ui.notifications.success.update__name",{name:e.$t("models.customers")})),e.$router.push({name:"customers"})):e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.customers")}))})["catch"](function(t){if(t.response){switch(t.response.status){default:e.errors.push(t.response.status+" "+t.response.statusText)}e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.customers"),reason:": "+t.response.status+" "+t.response.statusText}))}else e.errors.push(e.$t("ui.general.server_offline")),e.$noty.error(e.$t("ui.general.server_offline"));return Promise.reject(t)})["finally"](function(){e.is_loading=!1})}else this.errors.push(this.$t("ui.notifications.error.please_check_to_write_in_the_required_fields_mark"))},delete_contract:function(e,t){var i=this,n=this.$t("ui.notifications.warning.are_you_sure_to_delete_it")+"\n\n"+this.customer.company_name+"["+t+"]";if(confirm(n)){this.is_loading=!0;var s=new RestUrl(this.$store.state.station.routes.api_v1_station_contract_delete).parse({contract_identity:e});axios.get(s,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){"success"==e.data.status?(i.$parent.fetch_customers(),i.$bus.$emit("out_of_date",i.$store.state.instance_identity,"customers"),i.$noty.success(i.$t("ui.notifications.success.delete__name",{name:i.$t("models.contracts")}))):i.$noty.error(i.$t("ui.notifications.error.delete__name",{name:i.$t("models.contracts")}))})["catch"](function(e){console.log(e.response),i.$noty.error(i.$t("ui.notifications.error.delete__name",{name:i.$t("models.customers"),reason:": "+e.response}))})["finally"](function(){i.is_loading=!1})}}},components:{ErrorMessages:B_}},vB=hB,gB=Object(Tt["a"])(vB,dB,pB,!1,null,"3f9cb7dd",null),bB=gB.exports,yB=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"new"}},[i("h1",{staticClass:"ui header"},[e._v("\n        "+e._s(e.$t("ui.page_titles.new_contract"))+"\n    ")]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui form"},[i("div",{staticClass:"ui grid",staticStyle:{"margin-top":"0","margin-bottom":"0"}},[i("div",{staticClass:"eight wide field",attrs:{"data-column":"name"}},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.name,expression:"contract.name"}],attrs:{type:"text"},domProps:{value:e.contract.name},on:{input:function(t){t.target.composing||e.$set(e.contract,"name",t.target.value)}}})]),i("div",{staticClass:"eight wide field",attrs:{"data-column":"number"}},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.number")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.number,expression:"contract.number"}],attrs:{type:"text"},domProps:{value:e.contract.number},on:{input:function(t){t.target.composing||e.$set(e.contract,"number",t.target.value)}}})]),i("div",{staticClass:"eight wide field",attrs:{"data-column":"carrier_class"}},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.carrier_class")))]),e.$store.state.provider.node?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.contract.carrier_class,expression:"contract.carrier_class"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.contract,"carrier_class",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),i("option",{domProps:{value:e.$store.state.provider.node.carrier_class}},[e._v(e._s(e.$store.state.provider.node.company_short_name))]),i("option",{attrs:{value:"Carrier::LMSProxy"}},[e._v("自動轉運")])]):i("div",{staticClass:"ui inline active loader"})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.proxy_contract")))]),e.current_store.provider_contracts?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.contract.proxy_contract_identity,expression:"contract.proxy_contract_identity"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.contract,"proxy_contract_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.current_store.provider_contracts,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2):i("div",{staticClass:"ui inline active loader"})]),i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"code icon"}),e._v("\n                "+e._s(e.$t("ui.pages.customer_contracts.additional_information"))+"\n            ")])]),i("div",{staticClass:"sixteen wide red field"},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.note")))]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.contract.note,expression:"contract.note"}],attrs:{rows:"4"},domProps:{value:e.contract.note},on:{input:function(t){t.target.composing||e.$set(e.contract,"note",t.target.value)}}})]),i("div",{staticClass:"sixteen wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.third_party_api_data")))]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.third_party_api_data,expression:"third_party_api_data"}],attrs:{rows:"4"},domProps:{value:e.third_party_api_data},on:{input:function(t){t.target.composing||(e.third_party_api_data=t.target.value)}}})])]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui buttons"},[i("a",{staticClass:"ui button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.$router.go(-1)}}},[e._v("\n                "+e._s(e.$t("ui.general.back"))+"\n            ")]),i("div",{staticClass:"or"}),e.is_loading?i("a",{staticClass:"ui blue button",attrs:{href:"#"}},[e._v("\n                "+e._s(e.$t("ui.general.creating"))+"...\n            ")]):i("a",{staticClass:"ui blue button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.create_contract()}}},[e._v("\n                "+e._s(e.$t("ui.general.create"))+"\n            ")])])])])},wB=[],$B={name:"ProviderCustomersContractsNew",mixins:[Vu.a],props:{},data:function(){return{is_loading:!1,contract:{customer_identity:this.$route.params.customer_identity},third_party_api_data:""}},mounted:function(){},watch:{},methods:{create_contract:function(){var e=this;if(this.valid()){this.is_loading=!0,this.contract.third_party_api_data=JSON.parse(this.third_party_api_data);var t=this.contract,i=new RestUrl(this.$store.state.provider.routes.api_v1_provider_contracts_create).parse();return axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$noty.success(e.$t("ui.notifications.success.create__name",{name:e.$t("models.contracts")})),e.$router.push("/provider/customers"),e.is_loading=!1):(e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.contracts")})),e.is_loading=!1)})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.contracts")})),e.is_loading=!1})}}},validator:{target:"contract",localize_key:"contracts",input_alert:!0,attributes:[{name:"name",required:!0},{name:"number",required:!0},{name:"carrier_class",required:!0}]},computed:{current_store:function(){return this.$store.state.provider.customers_module}},components:{}},kB=$B,xB=(n("d86a"),Object(Tt["a"])(kB,yB,wB,!1,null,null,null)),CB=xB.exports,PB=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.quote_policy?i("div",{attrs:{id:"edit_quote_policy"}},[i("div",{staticClass:"ui segment"},[e._m(0),i("div",{staticClass:"ui form"},[i("div",{staticClass:"ui grid",staticStyle:{"margin-top":"0","margin-bottom":"0"}},[i("div",{staticClass:"eight wide field",attrs:{"data-column":"name"}},[i("label",[e._v("名稱")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.name,expression:"quote_policy.name"}],attrs:{type:"text"},domProps:{value:e.quote_policy.name},on:{input:function(t){t.target.composing||e.$set(e.quote_policy,"name",t.target.value)}}})]),i("div",{staticClass:"eight wide field",attrs:{"data-column":"note"}},[i("label",[e._v("備註")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.note,expression:"quote_policy.note"}],attrs:{type:"text"},domProps:{value:e.quote_policy.note},on:{input:function(t){t.target.composing||e.$set(e.quote_policy,"note",t.target.value)}}})]),i("div",{staticClass:"eight wide field",attrs:{"data-column":"required_material_class_name"}},[i("label",[e._v("條件物料")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.required_material_class_name,expression:"quote_policy.required_material_class_name"}],attrs:{type:"text"},domProps:{value:e.quote_policy.required_material_class_name},on:{input:function(t){t.target.composing||e.$set(e.quote_policy,"required_material_class_name",t.target.value)}}})]),i("div",{staticClass:"eight wide field",attrs:{"data-column":"required_condition"}},[i("label",[e._v("條件名稱")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.required_condition,expression:"quote_policy.required_condition"}],attrs:{type:"text"},domProps:{value:e.quote_policy.required_condition},on:{input:function(t){t.target.composing||e.$set(e.quote_policy,"required_condition",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.required_condition_polarity,expression:"quote_policy.required_condition_polarity"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(e.quote_policy.required_condition_polarity)?e._i(e.quote_policy.required_condition_polarity,null)>-1:e.quote_policy.required_condition_polarity},on:{change:function(t){var i=e.quote_policy.required_condition_polarity,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=e._i(i,a);n.checked?r<0&&e.$set(e.quote_policy,"required_condition_polarity",i.concat([a])):r>-1&&e.$set(e.quote_policy,"required_condition_polarity",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.quote_policy,"required_condition_polarity",s)}}}),i("label",[e._v("條件極性")])])]),i("div",{staticClass:"eight wide field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.is_activated,expression:"quote_policy.is_activated"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(e.quote_policy.is_activated)?e._i(e.quote_policy.is_activated,null)>-1:e.quote_policy.is_activated},on:{change:function(t){var i=e.quote_policy.is_activated,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=e._i(i,a);n.checked?r<0&&e.$set(e.quote_policy,"is_activated",i.concat([a])):r>-1&&e.$set(e.quote_policy,"is_activated",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.quote_policy,"is_activated",s)}}}),i("label",[e._v("是否啟用")])])])]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui buttons"},[i("a",{staticClass:"ui button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.$router.go(-1)}}},[e._v("\n                    "+e._s(e.$t("ui.general.back"))+"\n                ")]),i("div",{staticClass:"or"}),e.is_loading?i("a",{staticClass:"ui blue button",attrs:{href:"#"}},[e._v("\n                    "+e._s(e.$t("ui.general.updating"))+"...\n                ")]):i("a",{staticClass:"ui blue button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.update_quote_policy()}}},[e._v(e._s(e.$t("ui.general.update")))])])])]),i("div",{staticClass:"ui segment"},[e._m(1),i("table",{staticClass:"ui table"},[e._m(2),i("tbody",e._l(e.quote_policy.quote_conditions,function(t){return i("tr",[i("td",[e._v(e._s(t.name))]),i("td",[e._v(e._s("conditional"==t.quote_condition_type?"一般":"加收"))]),i("td",[e._v(e._s(t.priority||"-"))]),i("td",["attribute"==t.condition_type?i("span",[e._v("\n                            "+e._s(e.$t("models.attributes.core_waybills."+t.condition_attribute))+"\n                        ")]):i("span",[e._v("\n                            "+e._s(t.condition_value)+"\n                        ")]),e._v("\n                        ("+e._s(t.condition_unit)+")\n                         \n                        "+e._s(e.translate_logical_operator(t.logical_operator))+"\n                         \n                        "+e._s(t.result)+"\n                    ")]),i("td",[t.price_operator_1?i("span",[e._v("(")]):e._e(),t.price_operator_2?i("span",[e._v("(")]):e._e(),t.price_operator_3?i("span",[e._v("(")]):e._e(),t.price_operator_4?i("span",[e._v("(")]):e._e(),t.price_operator_5?i("span",[e._v("(")]):e._e(),"attribute"==t.price_type?i("span",[e._v("\n                            "+e._s(e.$t("models.attributes.core_waybills."+t.price_attribute))+"\n                            "),t.price_attribute_round_type?i("span",["round"==t.price_attribute_round_type?i("span",[e._v("(四捨五入)")]):e._e(),"floor"==t.price_attribute_round_type?i("span",[e._v("(無條件捨去)")]):e._e(),"ceil"==t.price_attribute_round_type?i("span",[e._v("(無條件進位)")]):e._e()]):e._e()]):i("span",[e._v("\n                            "+e._s(t.price_value)+"\n                        ")]),t.price_operator_1?i("span",[e._v("\n                            "+e._s(t.price_operator_1)+"\n                            "+e._s(t.price_operator_value_1)+" )\n                        ")]):e._e(),t.price_operator_2?i("span",[e._v("\n                            "+e._s(t.price_operator_2)+"\n                            "+e._s(t.price_operator_value_2)+" )\n                        ")]):e._e(),t.price_operator_3?i("span",[e._v("\n                            "+e._s(t.price_operator_3)+"\n                            "+e._s(t.price_operator_value_3)+" )\n                        ")]):e._e(),t.price_operator_4?i("span",[e._v("\n                            "+e._s(t.price_operator_4)+"\n                            "+e._s(t.price_operator_value_4)+" )\n                        ")]):e._e(),t.price_operator_5?i("span",[e._v("\n                            "+e._s(t.price_operator_5)+"\n                            "+e._s(t.price_operator_value_5)+" )\n                        ")]):e._e()])])}))])]),i("div",{staticClass:"ui segment"},[i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"list alternate icon"}),e._v("\n                報價單\n                "),i("router-link",{attrs:{to:{name:"new_station_quotation",params:{quote_policy_identity:e.quote_policy.identity}}}},[i("i",{staticClass:"add icon"})])],1)]),i("table",{staticClass:"ui table"},[e._m(3),i("tbody",e._l(e.quote_policy.quotations,function(t){return i("tr",[i("td",[e._v(e._s(t.title))]),i("td",[e._v(e._s(t.identity))]),i("td",[e._v(e._s(e.human_datetime(t.quoted_from)))]),i("td",[e._v(e._s(e.human_datetime(t.quoted_to)))]),i("td",[t.file_url&&!e.is_caculating?i("a",{attrs:{href:t.file_url+"?authorization="+e.authentication_token}},[e._v("下載檔案")]):i("span",[e._v("-")])]),i("td",[i("a",{staticClass:"ui orange button",attrs:{href:"#"},on:{click:function(i){i.preventDefault(),e.caculate(t.identity)}}},[e.is_caculating||t.file_url?e.is_caculating?i("span",[e._v("計算中...")]):i("span",[e._v("重新計算")]):i("span",[e._v("計算")])])])])}))])])]):e._e()},SB=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"edit icon"}),e._v("\n                編輯計價政策\n            ")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"list icon"}),e._v("\n                計價條件\n            ")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("thead",[i("tr",[i("th",[e._v("名稱")]),i("th",[e._v("計價屬性")]),i("th",[e._v("優先度")]),i("th",[e._v("計價條件")]),i("th",[e._v("價格公式")])])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("thead",[i("tr",[i("th",[e._v("名稱")]),i("th",[e._v("識別碼")]),i("th",[e._v("起")]),i("th",[e._v("訖")]),i("th",[e._v("檔案位址")]),i("th",[e._v("動作")])])])}],NB={name:"ProviderEditQuotePolicy",mixins:[Vu.a],props:{},data:function(){return{is_loading:!1,is_caculating:!1,quote_policy:{}}},watch:{},mounted:function(){this.fetch_quote_policy()},methods:{human_datetime:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"lll";return T()(e).locale("zh-tw").format(t)},translate_logical_operator:function(e){switch(e){case"between?":return"介於";default:return e}},caculate:function(e){var t=this,i=new RestUrl(this.$store.state.provider.routes.api_v1_provider_quotation_caculate).parse({quotation_identity:e});return this.is_caculating=!0,axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(i){t.is_caculating=!1;var n=_.findIndex(t.quote_policy.quotations,function(t){return t.identity==e});t.quote_policy.quotations.splice(n,1,i.data.quotation)})["catch"](function(e){return t.is_caculating=!1,Promise.reject(e)})},fetch_quote_policy:function(){var e=this,t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_quote_policy).parse({quote_policy_identity:this.$route.params.quote_policy_identity});return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){console.log(t),e.quote_policy=t.data.quote_policy})["catch"](function(e){return Promise.reject(e)})},update_quote_policy:function(){var e=this;if(this.valid()){this.is_loading=!0;var t=this.quote_policy,i=new RestUrl(this.$store.state.provider.routes.api_v1_provider_quote_policy_update).parse({quote_policy_identity:this.quote_policy.identity});return axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$noty.success(e.$t("ui.notifications.success.update__name",{name:e.$t("models.quote_policys")})),e.is_loading=!1,e.$router.go(-1)):(e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.quote_policys")})),e.is_loading=!1)})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.quote_policys")})),e.is_loading=!1})}}},validator:{target:"quote_policy",localize_key:"quote_policys",input_alert:!0,attributes:[{name:"name",required:!0}]},computed:{current_store:function(){return this.$store.state.provider.customers_module},current_customer:function(){var e=this;return _.findLast(this.current_store.customers,function(t){return t.identity==e.quote_policy.customer_identity})},authentication_token:function(){return localStorage.getItem("authentication_token")}},components:{}},qB=NB,AB=Object(Tt["a"])(qB,PB,SB,!1,null,null,null),EB=AB.exports,zB=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui segment",attrs:{id:"new"}},[i("h1",{staticClass:"ui header"},[e._v("\n        新增報價單\n    ")]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui form"},[i("div",{staticClass:"ui grid",staticStyle:{"margin-top":"0","margin-bottom":"0"}},[i("div",{staticClass:"sixteen wide field",attrs:{"data-column":"title"}},[i("label",[e._v("標題")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.quotation.title,expression:"quotation.title"}],attrs:{type:"text"},domProps:{value:e.quotation.title},on:{input:function(t){t.target.composing||e.$set(e.quotation,"title",t.target.value)}}})]),i("div",{staticClass:"eight wide field",attrs:{"data-column":"quoted_from"}},[i("label",[e._v("起")]),i("el-date-picker",{staticStyle:{width:"100%"},attrs:{"unlink-panels":"",type:"date"},model:{value:e.quotation.quoted_from,callback:function(t){e.$set(e.quotation,"quoted_from",t)},expression:"quotation.quoted_from"}})],1),i("div",{staticClass:"eight wide field",attrs:{"data-column":"quoted_to"}},[i("label",[e._v("訖")]),i("el-date-picker",{staticStyle:{width:"100%"},attrs:{"unlink-panels":"",type:"date"},model:{value:e.quotation.quoted_to,callback:function(t){e.$set(e.quotation,"quoted_to",t)},expression:"quotation.quoted_to"}})],1)]),i("div",{staticClass:"ui divider"}),e.is_loading?i("a",{staticClass:"ui blue button",attrs:{href:"#"}},[e._v("\n            "+e._s(e.$t("ui.general.creating"))+"...\n        ")]):i("a",{staticClass:"ui blue button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.create_quotation()}}},[e._v("\n            "+e._s(e.$t("ui.general.create"))+"\n        ")])])])},jB=[],RB={name:"ProviderNewQuotation",props:{},data:function(){return{is_loading:!1,quotation:{quote_policy_identity:this.$route.params.quote_policy_identity,contract_identity:this.$route.params.contract_identity}}},mounted:function(){},watch:{},methods:{create_quotation:function(){var e=this;this.is_loading=!0;var t=this.quotation,i=new RestUrl(this.$store.state.provider.routes.api_v1_provider_quotations_create).parse();return axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.is_loading=!1,"success"==t.data.status?e.$router.go(-1):e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.quotations")}))})["catch"](function(t){e.is_loading=!1,e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.quotations")}))})}},computed:{current_store:function(){return this.$store.state.provider.customers_module}},components:{}},OB=RB,IB=(n("b4ec"),Object(Tt["a"])(OB,zB,jB,!1,null,null,null)),DB=IB.exports,LB=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.quote_policy?i("div",{attrs:{id:"edit_quote_policy"}},[i("div",{staticClass:"ui segment"},[e._m(0),i("div",{staticClass:"ui form"},[i("div",{staticClass:"ui grid",staticStyle:{"margin-top":"0","margin-bottom":"0"}},[i("div",{staticClass:"eight wide field",attrs:{"data-column":"name"}},[i("label",[e._v("名稱")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.name,expression:"quote_policy.name"}],attrs:{type:"text"},domProps:{value:e.quote_policy.name},on:{input:function(t){t.target.composing||e.$set(e.quote_policy,"name",t.target.value)}}})]),i("div",{staticClass:"eight wide field",attrs:{"data-column":"note"}},[i("label",[e._v("備註")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.note,expression:"quote_policy.note"}],attrs:{type:"text"},domProps:{value:e.quote_policy.note},on:{input:function(t){t.target.composing||e.$set(e.quote_policy,"note",t.target.value)}}})]),i("div",{staticClass:"eight wide field",attrs:{"data-column":"required_material_class_name"}},[i("label",[e._v("條件物料")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.required_material_class_name,expression:"quote_policy.required_material_class_name"}],attrs:{type:"text"},domProps:{value:e.quote_policy.required_material_class_name},on:{input:function(t){t.target.composing||e.$set(e.quote_policy,"required_material_class_name",t.target.value)}}})]),i("div",{staticClass:"eight wide field",attrs:{"data-column":"required_condition"}},[i("label",[e._v("條件名稱")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.required_condition,expression:"quote_policy.required_condition"}],attrs:{type:"text"},domProps:{value:e.quote_policy.required_condition},on:{input:function(t){t.target.composing||e.$set(e.quote_policy,"required_condition",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.required_condition_polarity,expression:"quote_policy.required_condition_polarity"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(e.quote_policy.required_condition_polarity)?e._i(e.quote_policy.required_condition_polarity,null)>-1:e.quote_policy.required_condition_polarity},on:{change:function(t){var i=e.quote_policy.required_condition_polarity,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=e._i(i,a);n.checked?r<0&&e.$set(e.quote_policy,"required_condition_polarity",i.concat([a])):r>-1&&e.$set(e.quote_policy,"required_condition_polarity",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.quote_policy,"required_condition_polarity",s)}}}),i("label",[e._v("條件極性")])])]),i("div",{staticClass:"eight wide field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.is_activated,expression:"quote_policy.is_activated"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(e.quote_policy.is_activated)?e._i(e.quote_policy.is_activated,null)>-1:e.quote_policy.is_activated},on:{change:function(t){var i=e.quote_policy.is_activated,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=e._i(i,a);n.checked?r<0&&e.$set(e.quote_policy,"is_activated",i.concat([a])):r>-1&&e.$set(e.quote_policy,"is_activated",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.quote_policy,"is_activated",s)}}}),i("label",[e._v("是否啟用")])])])]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui buttons"},[i("a",{staticClass:"ui button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.$router.go(-1)}}},[e._v("\n                    "+e._s(e.$t("ui.general.back"))+"\n                ")]),i("div",{staticClass:"or"}),e.is_loading?i("a",{staticClass:"ui blue button",attrs:{href:"#"}},[e._v("\n                    "+e._s(e.$t("ui.general.updating"))+"...\n                ")]):i("a",{staticClass:"ui blue button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.update_quote_policy()}}},[e._v(e._s(e.$t("ui.general.update")))])])])]),i("div",{staticClass:"ui segment"},[e._m(1),i("table",{staticClass:"ui table"},[e._m(2),i("tbody",e._l(e.quote_policy.quote_conditions,function(t){return i("tr",[i("td",[e._v(e._s(t.name))]),i("td",[e._v(e._s("conditional"==t.quote_condition_type?"一般":"加收"))]),i("td",[e._v(e._s(t.priority||"-"))]),i("td",["attribute"==t.condition_type?i("span",[e._v("\n                            "+e._s(e.$t("models.attributes.core_waybills."+t.condition_attribute))+"\n                        ")]):i("span",[e._v("\n                            "+e._s(t.condition_value)+"\n                        ")]),e._v("\n                        ("+e._s(t.condition_unit)+")\n                         \n                        "+e._s(e.translate_logical_operator(t.logical_operator))+"\n                         \n                        "+e._s(t.result)+"\n                    ")]),i("td",["attribute"==t.price_type?i("span",[e._v("\n                            "+e._s(e.$t("models.attributes.core_waybills."+t.price_attribute))+"\n                        ")]):i("span",[e._v("\n                            "+e._s(t.price_value)+"\n                        ")]),e._v("\n                        "+e._s(t.price_operator)+"\n                        "+e._s(t.price_operator_value)+"\n                    ")])])}))])]),i("div",{staticClass:"ui segment"},[i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"list alternate icon"}),e._v("\n                報價單\n                "),i("router-link",{attrs:{to:{name:"new_station_quotation",params:{quote_policy_identity:e.quote_policy.identity}}}},[i("i",{staticClass:"add icon"})])],1)]),i("table",{staticClass:"ui table"},[e._m(3),i("tbody",e._l(e.quote_policy.quotations,function(t){return i("tr",[i("td",[e._v(e._s(t.title))]),i("td",[e._v(e._s(e.human_datetime(t.quoted_from)))]),i("td",[e._v(e._s(e.human_datetime(t.quoted_to)))]),i("td",[t.file_url?i("a",{attrs:{href:t.file_url}},[e._v("下載檔案")]):i("span",[e._v("-")])]),i("td",[i("a",{staticClass:"ui orange button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.caculate()}}},[e._v("\n                            計算\n                        ")])])])}))])])]):e._e()},TB=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"edit icon"}),e._v("\n                編輯計價政策\n            ")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"list icon"}),e._v("\n                計價條件\n            ")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("thead",[i("tr",[i("th",[e._v("名稱")]),i("th",[e._v("計價屬性")]),i("th",[e._v("優先度")]),i("th",[e._v("計價條件")]),i("th",[e._v("價格公式")])])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("thead",[i("tr",[i("th",[e._v("名稱")]),i("th",[e._v("起")]),i("th",[e._v("訖")]),i("th",[e._v("檔案位址")]),i("th",[e._v("動作")])])])}],BB={name:"ProviderEditQuotePolicy",mixins:[Vu.a],props:{},data:function(){return{is_loading:!1,quote_policy:{},third_party_api_data:""}},watch:{},mounted:function(){this.fetch_quote_policy()},methods:{human_datetime:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"lll";return T()(e).locale("zh-tw").format(t)},translate_logical_operator:function(e){switch(e){case"between?":return"介於";default:return e}},fetch_quote_policy:function(e,t){var i=this,n=new RestUrl(this.$store.state.provider.routes.api_v1_provider_quote_policy).parse({quote_policy_identity:this.$route.params.quote_policy_identity});return axios.get(n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){console.log(e),i.quote_policy=e.data.quote_policy})["catch"](function(e){return Promise.reject(e)})},update_quote_policy:function(){var e=this;if(this.valid()){this.is_loading=!0;var t=this.quote_policy,i=new RestUrl(this.$store.state.provider.routes.api_v1_provider_quote_policy_update).parse({quote_policy_identity:this.quote_policy.identity});return axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$noty.success(e.$t("ui.notifications.success.update__name",{name:e.$t("models.quote_policys")})),e.is_loading=!1,e.$router.go(-1)):(e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.quote_policys")})),e.is_loading=!1)})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.quote_policys")})),e.is_loading=!1})}}},validator:{target:"quote_policy",localize_key:"quote_policys",input_alert:!0,attributes:[{name:"name",required:!0}]},computed:{current_store:function(){return this.$store.state.provider.customers_module},current_customer:function(){var e=this;return _.findLast(this.current_store.customers,function(t){return t.identity==e.quote_policy.customer_identity})}},components:{}},MB=BB,UB=Object(Tt["a"])(MB,LB,TB,!1,null,null,null),FB=(UB.exports,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"new"}},[i("h1",{staticClass:"ui header"},[e._v("\n        "+e._s(e.$t("ui.page_titles.new_contract"))+"\n    ")]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui form"},[i("div",{staticClass:"ui grid",staticStyle:{"margin-top":"0","margin-bottom":"0"}},[i("div",{staticClass:"eight wide field",attrs:{"data-column":"name"}},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.name,expression:"contract.name"}],attrs:{type:"text"},domProps:{value:e.contract.name},on:{input:function(t){t.target.composing||e.$set(e.contract,"name",t.target.value)}}})]),i("div",{staticClass:"eight wide field",attrs:{"data-column":"number"}},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.number")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.number,expression:"contract.number"}],attrs:{type:"text"},domProps:{value:e.contract.number},on:{input:function(t){t.target.composing||e.$set(e.contract,"number",t.target.value)}}})]),i("div",{staticClass:"eight wide field",attrs:{"data-column":"carrier_class"}},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.carrier_class")))]),e.$store.state.provider.node?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.contract.carrier_class,expression:"contract.carrier_class"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.contract,"carrier_class",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),i("option",{domProps:{value:e.$store.state.provider.node.carrier_class}},[e._v(e._s(e.$store.state.provider.node.company_short_name))]),i("option",{attrs:{value:"Carrier::LMSProxy"}},[e._v("自動轉運")])]):i("div",{staticClass:"ui inline active loader"})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.proxy_contract")))]),e.current_store.provider_contracts?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.contract.proxy_contract_identity,expression:"contract.proxy_contract_identity"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.contract,"proxy_contract_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.current_store.provider_contracts,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2):i("div",{staticClass:"ui inline active loader"})]),i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"code icon"}),e._v("\n                "+e._s(e.$t("ui.pages.customer_contracts.additional_information"))+"\n            ")])]),i("div",{staticClass:"sixteen wide red field"},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.note")))]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.contract.note,expression:"contract.note"}],attrs:{rows:"4"},domProps:{value:e.contract.note},on:{input:function(t){t.target.composing||e.$set(e.contract,"note",t.target.value)}}})]),i("div",{staticClass:"sixteen wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.third_party_api_data")))]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.third_party_api_data,expression:"third_party_api_data"}],attrs:{rows:"4"},domProps:{value:e.third_party_api_data},on:{input:function(t){t.target.composing||(e.third_party_api_data=t.target.value)}}})])]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui buttons"},[i("a",{staticClass:"ui button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.$router.go(-1)}}},[e._v("\n                "+e._s(e.$t("ui.general.back"))+"\n            ")]),i("div",{staticClass:"or"}),e.is_loading?i("a",{staticClass:"ui blue button",attrs:{href:"#"}},[e._v("\n                "+e._s(e.$t("ui.general.creating"))+"...\n            ")]):i("a",{staticClass:"ui blue button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.create_contract()}}},[e._v("\n                "+e._s(e.$t("ui.general.create"))+"\n            ")])])])])}),YB=[],GB={name:"ProviderCustomersContractsNew",mixins:[Vu.a],props:{},data:function(){return{is_loading:!1,contract:{customer_identity:this.$route.params.customer_identity},third_party_api_data:""}},mounted:function(){},watch:{},methods:{create_contract:function(){var e=this;if(this.valid()){this.is_loading=!0,this.contract.third_party_api_data=JSON.parse(this.third_party_api_data);var t=this.contract,i=new RestUrl(this.$store.state.provider.routes.api_v1_provider_contracts_create).parse();return axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$noty.success(e.$t("ui.notifications.success.create__name",{name:e.$t("models.contracts")})),e.$router.push("/provider/customers"),e.is_loading=!1):(e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.contracts")})),e.is_loading=!1)})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.contracts")})),e.is_loading=!1})}}},validator:{target:"contract",localize_key:"contracts",input_alert:!0,attributes:[{name:"name",required:!0},{name:"number",required:!0},{name:"carrier_class",required:!0}]},computed:{current_store:function(){return this.$store.state.provider.customers_module}},components:{}},HB=GB,KB=(n("f10f"),Object(Tt["a"])(HB,FB,YB,!1,null,null,null)),WB=(KB.exports,function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.quote_policy?i("div",{attrs:{id:"edit_quote_policy"}},[i("div",{staticClass:"ui segment"},[e._m(0),i("div",{staticClass:"ui form"},[i("div",{staticClass:"ui grid",staticStyle:{"margin-top":"0","margin-bottom":"0"}},[i("div",{staticClass:"eight wide field",attrs:{"data-column":"name"}},[i("label",[e._v("名稱")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.name,expression:"quote_policy.name"}],attrs:{type:"text"},domProps:{value:e.quote_policy.name},on:{input:function(t){t.target.composing||e.$set(e.quote_policy,"name",t.target.value)}}})]),i("div",{staticClass:"eight wide field",attrs:{"data-column":"note"}},[i("label",[e._v("備註")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.note,expression:"quote_policy.note"}],attrs:{type:"text"},domProps:{value:e.quote_policy.note},on:{input:function(t){t.target.composing||e.$set(e.quote_policy,"note",t.target.value)}}})]),i("div",{staticClass:"eight wide field",attrs:{"data-column":"required_material_class_name"}},[i("label",[e._v("條件物料")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.required_material_class_name,expression:"quote_policy.required_material_class_name"}],attrs:{type:"text"},domProps:{value:e.quote_policy.required_material_class_name},on:{input:function(t){t.target.composing||e.$set(e.quote_policy,"required_material_class_name",t.target.value)}}})]),i("div",{staticClass:"eight wide field",attrs:{"data-column":"required_condition"}},[i("label",[e._v("條件名稱")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.required_condition,expression:"quote_policy.required_condition"}],attrs:{type:"text"},domProps:{value:e.quote_policy.required_condition},on:{input:function(t){t.target.composing||e.$set(e.quote_policy,"required_condition",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.required_condition_polarity,expression:"quote_policy.required_condition_polarity"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(e.quote_policy.required_condition_polarity)?e._i(e.quote_policy.required_condition_polarity,null)>-1:e.quote_policy.required_condition_polarity},on:{change:function(t){var i=e.quote_policy.required_condition_polarity,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=e._i(i,a);n.checked?r<0&&e.$set(e.quote_policy,"required_condition_polarity",i.concat([a])):r>-1&&e.$set(e.quote_policy,"required_condition_polarity",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.quote_policy,"required_condition_polarity",s)}}}),i("label",[e._v("條件極性")])])]),i("div",{staticClass:"eight wide field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.is_activated,expression:"quote_policy.is_activated"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(e.quote_policy.is_activated)?e._i(e.quote_policy.is_activated,null)>-1:e.quote_policy.is_activated},on:{change:function(t){var i=e.quote_policy.is_activated,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=e._i(i,a);n.checked?r<0&&e.$set(e.quote_policy,"is_activated",i.concat([a])):r>-1&&e.$set(e.quote_policy,"is_activated",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.quote_policy,"is_activated",s)}}}),i("label",[e._v("是否啟用")])])])]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui buttons"},[i("a",{staticClass:"ui button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.$router.go(-1)}}},[e._v("\n                    "+e._s(e.$t("ui.general.back"))+"\n                ")]),i("div",{staticClass:"or"}),e.is_loading?i("a",{staticClass:"ui blue button",attrs:{href:"#"}},[e._v("\n                    "+e._s(e.$t("ui.general.updating"))+"...\n                ")]):i("a",{staticClass:"ui blue button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.update_quote_policy()}}},[e._v(e._s(e.$t("ui.general.update")))])])])]),i("div",{staticClass:"ui segment"},[e._m(1),i("table",{staticClass:"ui table"},[e._m(2),i("tbody",e._l(e.quote_policy.quote_conditions,function(t){return i("tr",[i("td",[e._v(e._s(t.name))]),i("td",[e._v(e._s("conditional"==t.quote_condition_type?"一般":"加收"))]),i("td",[e._v(e._s(t.priority||"-"))]),i("td",["attribute"==t.condition_type?i("span",[e._v("\n                            "+e._s(e.$t("models.attributes.core_waybills."+t.condition_attribute))+"\n                        ")]):i("span",[e._v("\n                            "+e._s(t.condition_value)+"\n                        ")]),e._v("\n                        ("+e._s(t.condition_unit)+")\n                         \n                        "+e._s(e.translate_logical_operator(t.logical_operator))+"\n                         \n                        "+e._s(t.result)+"\n                    ")]),i("td",[t.price_operator_1?i("span",[e._v("(")]):e._e(),t.price_operator_2?i("span",[e._v("(")]):e._e(),t.price_operator_3?i("span",[e._v("(")]):e._e(),t.price_operator_4?i("span",[e._v("(")]):e._e(),t.price_operator_5?i("span",[e._v("(")]):e._e(),"attribute"==t.price_type?i("span",[e._v("\n                            "+e._s(e.$t("models.attributes.core_waybills."+t.price_attribute))+"\n                            "),t.price_attribute_round_type?i("span",["round"==t.price_attribute_round_type?i("span",[e._v("(四捨五入)")]):e._e(),"floor"==t.price_attribute_round_type?i("span",[e._v("(無條件捨去)")]):e._e(),"ceil"==t.price_attribute_round_type?i("span",[e._v("(無條件進位)")]):e._e()]):e._e()]):i("span",[e._v("\n                            "+e._s(t.price_value)+"\n                        ")]),t.price_operator_1?i("span",[e._v("\n                            "+e._s(t.price_operator_1)+"\n                            "+e._s(t.price_operator_value_1)+" )\n                        ")]):e._e(),t.price_operator_2?i("span",[e._v("\n                            "+e._s(t.price_operator_2)+"\n                            "+e._s(t.price_operator_value_2)+" )\n                        ")]):e._e(),t.price_operator_3?i("span",[e._v("\n                            "+e._s(t.price_operator_3)+"\n                            "+e._s(t.price_operator_value_3)+" )\n                        ")]):e._e(),t.price_operator_4?i("span",[e._v("\n                            "+e._s(t.price_operator_4)+"\n                            "+e._s(t.price_operator_value_4)+" )\n                        ")]):e._e(),t.price_operator_5?i("span",[e._v("\n                            "+e._s(t.price_operator_5)+"\n                            "+e._s(t.price_operator_value_5)+" )\n                        ")]):e._e()])])}))])]),i("div",{staticClass:"ui segment"},[i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"list alternate icon"}),e._v("\n                報價單\n                "),i("router-link",{attrs:{to:{name:"new_station_quotation",params:{quote_policy_identity:e.quote_policy.identity}}}},[i("i",{staticClass:"add icon"})])],1)]),i("table",{staticClass:"ui table"},[e._m(3),i("tbody",e._l(e.quote_policy.quotations,function(t){return i("tr",[i("td",[e._v(e._s(t.title))]),i("td",[e._v(e._s(e.human_datetime(t.quoted_from)))]),i("td",[e._v(e._s(e.human_datetime(t.quoted_to)))]),i("td",[t.file_url?i("a",{attrs:{href:t.file_url}},[e._v("下載檔案")]):i("span",[e._v("-")])]),i("td",[i("a",{staticClass:"ui orange button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.caculate()}}},[e._v("\n                            計算\n                        ")])])])}))])])]):e._e()}),VB=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"edit icon"}),e._v("\n                編輯計價政策\n            ")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"list icon"}),e._v("\n                計價條件\n            ")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("thead",[i("tr",[i("th",[e._v("名稱")]),i("th",[e._v("計價屬性")]),i("th",[e._v("優先度")]),i("th",[e._v("計價條件")]),i("th",[e._v("價格公式")])])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("thead",[i("tr",[i("th",[e._v("名稱")]),i("th",[e._v("起")]),i("th",[e._v("訖")]),i("th",[e._v("檔案位址")]),i("th",[e._v("動作")])])])}],XB={name:"ProviderEditQuotePolicy",mixins:[Vu.a],props:{},data:function(){return{is_loading:!1,quote_policy:{},third_party_api_data:""}},watch:{},mounted:function(){this.fetch_quote_policy()},methods:{human_datetime:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"lll";return T()(e).locale("zh-tw").format(t)},translate_logical_operator:function(e){switch(e){case"between?":return"介於";default:return e}},fetch_quote_policy:function(e,t){var i=this,n=new RestUrl(this.$store.state.provider.routes.api_v1_provider_quote_policy).parse({quote_policy_identity:this.$route.params.quote_policy_identity});return axios.get(n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){console.log(e),i.quote_policy=e.data.quote_policy})["catch"](function(e){return Promise.reject(e)})},update_quote_policy:function(){var e=this;if(this.valid()){this.is_loading=!0;var t=this.quote_policy,i=new RestUrl(this.$store.state.provider.routes.api_v1_provider_quote_policy_update).parse({quote_policy_identity:this.quote_policy.identity});return axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$noty.success(e.$t("ui.notifications.success.update__name",{name:e.$t("models.quote_policys")})),e.is_loading=!1,e.$router.go(-1)):(e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.quote_policys")})),e.is_loading=!1)})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.quote_policys")})),e.is_loading=!1})}}},validator:{target:"quote_policy",localize_key:"quote_policys",input_alert:!0,attributes:[{name:"name",required:!0}]},computed:{current_store:function(){return this.$store.state.provider.customers_module},current_customer:function(){var e=this;return _.findLast(this.current_store.customers,function(t){return t.identity==e.quote_policy.customer_identity})}},components:{}},QB=XB,ZB=Object(Tt["a"])(QB,WB,VB,!1,null,null,null),JB=(ZB.exports,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"new"}},[i("div",{staticClass:"ui segment"},[i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"clipboard icon"}),e._v("\n                "+e._s(e.$t("ui.page_titles.new_provider_contract"))+"\n            ")])]),i("div",{staticClass:"ui form"},[i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide required field",attrs:{"data-column":"name"}},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.name,expression:"contract.name"}],attrs:{type:"text"},domProps:{value:e.contract.name},on:{input:function(t){t.target.composing||e.$set(e.contract,"name",t.target.value)}}})]),i("div",{staticClass:"eight wide required field column",attrs:{"data-column":"number"}},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.number")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.number,expression:"contract.number"}],attrs:{type:"text"},domProps:{value:e.contract.number},on:{input:function(t){t.target.composing||e.$set(e.contract,"number",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide required field",attrs:{"data-column":"carrier_class"}},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.carrier_class")))]),e.$store.state.provider.node?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.contract.carrier_class,expression:"contract.carrier_class"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.contract,"carrier_class",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),i("option",{domProps:{value:e.$store.state.provider.node.carrier_class}},[e._v(e._s(e.$store.state.provider.node.company_short_name))]),i("option",{attrs:{value:"Carrier::LMSProxy"}},[e._v("自動轉運")])]):i("div",{staticClass:"ui inline active loader"})]),i("div",{staticClass:"eight wide field column"},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.proxy_contract")))]),e.current_store.provider_contracts?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.contract.proxy_contract_identity,expression:"contract.proxy_contract_identity"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.contract,"proxy_contract_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.current_store.provider_contracts,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2):i("div",{staticClass:"ui inline active loader"})])]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.is_automated_fetch_status,expression:"contract.is_automated_fetch_status"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(e.contract.is_automated_fetch_status)?e._i(e.contract.is_automated_fetch_status,null)>-1:e.contract.is_automated_fetch_status},on:{change:function(t){var i=e.contract.is_automated_fetch_status,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=e._i(i,a);n.checked?r<0&&e.$set(e.contract,"is_automated_fetch_status",i.concat([a])):r>-1&&e.$set(e.contract,"is_automated_fetch_status",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.contract,"is_automated_fetch_status",s)}}}),i("label",[e._v("\n                            是否自動同步貨況\n                        ")])])]),i("div",{staticClass:"eight wide field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.is_automated_send_data,expression:"contract.is_automated_send_data"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(e.contract.is_automated_send_data)?e._i(e.contract.is_automated_send_data,null)>-1:e.contract.is_automated_send_data},on:{change:function(t){var i=e.contract.is_automated_send_data,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=e._i(i,a);n.checked?r<0&&e.$set(e.contract,"is_automated_send_data",i.concat([a])):r>-1&&e.$set(e.contract,"is_automated_send_data",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.contract,"is_automated_send_data",s)}}}),i("label",[e._v("\n                            是否自動傳送EDI\n                        ")])])])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field",class:{required:e.contract.is_automated_fetch_status}},[i("label",[e._v("自動同步貨況設定")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.fetch_status_cron,expression:"contract.fetch_status_cron"}],attrs:{type:"text",disabled:!e.contract.is_automated_fetch_status},domProps:{value:e.contract.fetch_status_cron},on:{input:function(t){t.target.composing||e.$set(e.contract,"fetch_status_cron",t.target.value)}}}),e._l(e.human_readable_cron(e.contract.fetch_status_cron),function(t){return e.contract.fetch_status_cron?i("p",[i("i",[e._v("會於 "+e._s(t)+" 執行")])]):e._e()})],2),i("div",{staticClass:"eight wide field column",class:{required:e.contract.is_automated_send_data}},[i("label",[e._v("自動傳送EDI設定")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.send_data_cron,expression:"contract.send_data_cron"}],attrs:{type:"text",disabled:!e.contract.is_automated_send_data},domProps:{value:e.contract.send_data_cron},on:{input:function(t){t.target.composing||e.$set(e.contract,"send_data_cron",t.target.value)}}}),e._l(e.human_readable_cron(e.contract.send_data_cron),function(t){return e.contract.send_data_cron?i("p",[i("i",[e._v("會於 "+e._s(t)+" 執行")])]):e._e()})],2)])]),i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"code icon"}),e._v("\n                "+e._s(e.$t("ui.pages.customer_contracts.additional_information"))+"\n            ")])]),i("div",{staticClass:"ui form"},[i("div",{staticClass:"fields"},[i("div",{staticClass:"sixteen wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.note")))]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.contract.note,expression:"contract.note"}],attrs:{rows:"4"},domProps:{value:e.contract.note},on:{input:function(t){t.target.composing||e.$set(e.contract,"note",t.target.value)}}})]),i("div",{staticClass:"sixteen wide required field"},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.third_party_api_data")))]),i("codemirror",{attrs:{options:e.code_mirror_options},model:{value:e.contract.third_party_api_data,callback:function(t){e.$set(e.contract,"third_party_api_data",t)},expression:"contract.third_party_api_data"}})],1)])]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"right floated"},[i("a",{staticClass:"ui button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.$router.go(-1)}}},[e._v("\n                "+e._s(e.$t("ui.general.back"))+"\n            ")]),e.is_loading?i("a",{staticClass:"ui blue button",attrs:{href:"#"}},[e._v("\n                "+e._s(e.$t("ui.general.creating"))+"...\n            ")]):i("a",{staticClass:"ui blue button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.create_contract()}}},[e._v("\n                "+e._s(e.$t("ui.general.create"))+"\n            ")])]),i("div",{staticClass:"clear"})])])}),eM=[],tM={name:"ProviderCustomersContractsNew",mixins:[Vu.a],props:{},data:function(){return{is_loading:!1,contract:{customer_identity:this.$route.params.customer_identity,third_party_api_data:"{}"},code_mirror_options:{tabSize:4,smartIndent:!0,mode:"application/json",theme:"base16-dark",lineNumbers:!0,line:!0}}},mounted:function(){},watch:{},methods:{human_readable_cron:function(t){try{var i=bg.a.parseExpression(t,this.cron_parser_options),n=[];return n.push(T()(i.next().toString()).locale("zh-tw").format("lll")),n.push(T()(i.next().toString()).locale("zh-tw").format("lll")),n.push(T()(i.next().toString()).locale("zh-tw").format("lll")),n}catch(e){console.log(e)}},create_contract:function(){var e=this;if(this.valid()){this.is_loading=!0;var t=this.contract,i=new RestUrl(this.$store.state.provider.routes.api_v1_provider_contracts_create).parse();return axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$noty.success(e.$t("ui.notifications.success.create__name",{name:e.$t("models.contracts")})),e.is_loading=!1,e.$router.push({name:"station_customers"})):(e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.contracts")})),e.is_loading=!1)})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.contracts")})),e.is_loading=!1})}}},validator:{target:"contract",localize_key:"contracts",input_alert:!0,attributes:[{name:"name",required:!0},{name:"number",required:!0},{name:"carrier_class",required:!0}]},computed:{current_store:function(){return this.$store.state.provider.customers_module}},components:{codemirror:yg["codemirror"]}},iM=tM,nM=(n("655a"),Object(Tt["a"])(iM,JB,eM,!1,null,null,null)),sM=nM.exports,aM=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.contract.identity?i("div",{attrs:{id:"customer_contract_edit"}},[i("div",{staticClass:"ui segment"},[i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"clipboard icon"}),e._v("\n                "+e._s(e.$t("ui.page_titles.contract"))+"\n            ")])]),i("div",{staticClass:"ui form"},[i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide required field",attrs:{"data-column":"name"}},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.name,expression:"contract.name"}],attrs:{type:"text"},domProps:{value:e.contract.name},on:{input:function(t){t.target.composing||e.$set(e.contract,"name",t.target.value)}}})]),i("div",{staticClass:"eight wide required field column",attrs:{"data-column":"number"}},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.number")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.number,expression:"contract.number"}],attrs:{type:"text"},domProps:{value:e.contract.number},on:{input:function(t){t.target.composing||e.$set(e.contract,"number",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide required field",attrs:{"data-column":"carrier_class"}},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.carrier_class")))]),e.$store.state.provider.node?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.contract.carrier_class,expression:"contract.carrier_class"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.contract,"carrier_class",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),i("option",{domProps:{value:e.$store.state.provider.node.carrier_class}},[e._v(e._s(e.$store.state.provider.node.company_short_name))]),i("option",{attrs:{value:"Carrier::LMSProxy"}},[e._v("自動轉運")])]):i("div",{staticClass:"ui inline active loader"})]),i("div",{staticClass:"eight wide field column"},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.proxy_contract")))]),e.current_store.provider_contracts?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.contract.proxy_contract_identity,expression:"contract.proxy_contract_identity"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.contract,"proxy_contract_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.current_store.provider_contracts,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2):i("div",{staticClass:"ui inline active loader"})])]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.is_automated_fetch_status,expression:"contract.is_automated_fetch_status"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(e.contract.is_automated_fetch_status)?e._i(e.contract.is_automated_fetch_status,null)>-1:e.contract.is_automated_fetch_status},on:{change:function(t){var i=e.contract.is_automated_fetch_status,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=e._i(i,a);n.checked?r<0&&e.$set(e.contract,"is_automated_fetch_status",i.concat([a])):r>-1&&e.$set(e.contract,"is_automated_fetch_status",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.contract,"is_automated_fetch_status",s)}}}),i("label",[e._v("\n                            是否自動同步貨況\n                        ")])])]),i("div",{staticClass:"eight wide field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.is_automated_send_data,expression:"contract.is_automated_send_data"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(e.contract.is_automated_send_data)?e._i(e.contract.is_automated_send_data,null)>-1:e.contract.is_automated_send_data},on:{change:function(t){var i=e.contract.is_automated_send_data,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=e._i(i,a);n.checked?r<0&&e.$set(e.contract,"is_automated_send_data",i.concat([a])):r>-1&&e.$set(e.contract,"is_automated_send_data",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.contract,"is_automated_send_data",s)}}}),i("label",[e._v("\n                            是否自動傳送EDI\n                        ")])])])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field",class:{required:e.contract.is_automated_fetch_status}},[i("label",[e._v("自動同步貨況設定")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.fetch_status_cron,expression:"contract.fetch_status_cron"}],attrs:{type:"text",disabled:!e.contract.is_automated_fetch_status},domProps:{value:e.contract.fetch_status_cron},on:{input:function(t){t.target.composing||e.$set(e.contract,"fetch_status_cron",t.target.value)}}}),e._l(e.human_readable_cron(e.contract.fetch_status_cron),function(t){return e.contract.fetch_status_cron?i("p",[i("i",[e._v("會於 "+e._s(t)+" 執行")])]):e._e()})],2),i("div",{staticClass:"eight wide field column",class:{required:e.contract.is_automated_send_data}},[i("label",[e._v("自動傳送EDI設定")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.send_data_cron,expression:"contract.send_data_cron"}],attrs:{type:"text",disabled:!e.contract.is_automated_send_data},domProps:{value:e.contract.send_data_cron},on:{input:function(t){t.target.composing||e.$set(e.contract,"send_data_cron",t.target.value)}}}),e._l(e.human_readable_cron(e.contract.send_data_cron),function(t){return e.contract.send_data_cron?i("p",[i("i",[e._v("會於 "+e._s(t)+" 執行")])]):e._e()})],2)]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"right floated"},[e.is_loading?i("a",{staticClass:"ui blue button",attrs:{href:"#"}},[e._v("\n                    "+e._s(e.$t("ui.general.updating"))+"...\n                ")]):i("a",{staticClass:"ui blue button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.update_contract()}}},[e._v(e._s(e.$t("ui.general.update")))])]),i("div",{staticClass:"clear"})])]),i("div",{staticClass:"ui segment"},[i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"code icon"}),e._v("\n                "+e._s(e.$t("ui.pages.customer_contracts.additional_information"))+"\n            ")])]),i("div",{staticClass:"ui form"},[i("div",{staticClass:"fields"},[i("div",{staticClass:"sixteen wide red field"},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.note")))]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.contract.note,expression:"contract.note"}],attrs:{rows:"4"},domProps:{value:e.contract.note},on:{input:function(t){t.target.composing||e.$set(e.contract,"note",t.target.value)}}})]),i("div",{staticClass:"sixteen wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.third_party_api_data")))]),i("codemirror",{attrs:{options:e.code_mirror_options},model:{value:e.contract.third_party_api_data,callback:function(t){e.$set(e.contract,"third_party_api_data",t)},expression:"contract.third_party_api_data"}})],1)]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"right floated"},[e.is_loading?i("a",{staticClass:"ui blue button",attrs:{href:"#"}},[e._v("\n                    "+e._s(e.$t("ui.general.updating"))+"...\n                ")]):i("a",{staticClass:"ui blue button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.update_contract()}}},[e._v(e._s(e.$t("ui.general.update")))])]),i("div",{staticClass:"clear"})])]),i("div",{staticClass:"ui segment"},[i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"dollar sign icon"}),e._v("\n                "+e._s(e.$t("ui.page_titles.quote_policies"))+"\n            ")])]),i("table",{staticClass:"ui celled table"},[e._m(0),i("tbody",{staticClass:"center aligned"},e._l(e.contract.quote_policies,function(t){return i("tr",[i("td",[e._v(e._s(t.name))]),i("td",[e._v(e._s(e.human_datetime(t.begin_at)))]),i("td",[e._v(e._s(e.human_datetime(t.end_at)))]),i("td",[e._v(e._s(t.required_condition))]),i("td",[e._v(e._s(t.required_condition_polarity?"正":"負"))]),i("td",[e._v(e._s(t.required_material_class_name))]),i("td",[e._v(e._s(t.is_activated?"啟用":"不啟用"))]),i("td",[e._v(e._s(t.note))]),i("td",[i("router-link",{staticClass:"ui primary button",attrs:{to:{name:"station_quote_policy",params:{customer_identity:e.$route.params.customer_identity,contract_identity:e.$route.params.contract_identity,quote_policy_identity:t.identity}}}},[e._v("\n                            檢視\n                        ")]),i("a",{staticClass:"ui orange button",on:{click:function(i){e.fetch_csv(t.identity)}}},[e._v("帳單")])],1)])}))])])]):e._e()},rM=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("thead",{staticClass:"center aligned"},[i("tr",[i("th",[e._v("名稱")]),i("th",[e._v("開始於")]),i("th",[e._v("結束於")]),i("th",[e._v("條件名稱")]),i("th",[e._v("條件極性")]),i("th",[e._v("條件物料")]),i("th",[e._v("是否啟用")]),i("th",[e._v("備註")]),i("th",[e._v("動作")])])])}],oM={name:"ProviderCustomersContractsEdit",mixins:[Vu.a],props:{},data:function(){return{is_loading:!1,contract:{},code_mirror_options:{tabSize:4,smartIndent:!0,mode:"application/json",theme:"base16-dark",lineNumbers:!0,line:!0},cron_parser_options:{currentDate:T()(),tz:"Asia/Taipei"}}},watch:{},mounted:function(){this.fetch_contract()},methods:{human_readable_cron:function(t){try{var i=bg.a.parseExpression(t,this.cron_parser_options),n=[];return n.push(T()(i.next().toString()).locale("zh-tw").format("lll")),n.push(T()(i.next().toString()).locale("zh-tw").format("lll")),n.push(T()(i.next().toString()).locale("zh-tw").format("lll")),n}catch(e){console.log(e)}},fetch_contract:function(e,t){var i=this,n=new RestUrl(this.$store.state.provider.routes.api_v1_provider_contract).parse({contract_identity:this.$route.params.contract_identity});return axios.get(n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){i.contract=e.data.contract,i.contract.third_party_api_data&&(i.contract.third_party_api_data=JSON.stringify(i.contract.third_party_api_data,void 0,4))})["catch"](function(e){return Promise.reject(e)})},update_contract:function(){var e=this;if(this.valid()){this.is_loading=!0;var t=this.contract,i=new RestUrl(this.$store.state.provider.routes.api_v1_provider_contract_update).parse({contract_identity:this.contract.identity});return axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$noty.success(e.$t("ui.notifications.success.update__name",{name:e.$t("models.contracts")})),e.is_loading=!1,e.$router.push("/provider/customers")):(e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.contracts")})),e.is_loading=!1)})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.contracts")})),e.is_loading=!1})}}},validator:{target:"contract",localize_key:"contracts",input_alert:!0,attributes:[{name:"name",required:!0},{name:"number",required:!0},{name:"carrier_class",required:!0}]},computed:{current_store:function(){return this.$store.state.provider.customers_module},current_customer:function(){var e=this;return _.findLast(this.current_store.customers,function(t){return t.identity==e.contract.customer_identity})}},components:{codemirror:yg["codemirror"]}},cM=oM,_M=Object(Tt["a"])(cM,aM,rM,!1,null,null,null),lM=_M.exports,uM="station_customers",dM="new_station_customer",pM="station_customer",mM="new_station_contract",fM="station_contract",hM="new_station_quote_policy",vM="station_quote_policy",gM="new_station_quotation",bM=[{path:"/",component:aB,name:"station_customers",meta:{api_name:"api_v1_station_customers",breadcrumb:[uM],btns:[dM]}},{path:"new",component:uB,name:"new_station_customer",meta:{api_name:"api_v1_station_customers_create",breadcrumb:[uM,dM]}},{path:":customer_identity",component:bB,name:"station_customer",meta:{api_name:"api_v1_station_customer",breadcrumb:[uM,pM]}},{path:":customer_identity/contracts/new",component:sM,name:"new_station_contract",meta:{api_name:"api_v1_station_contracts_create",breadcrumb:[uM,pM,mM]}},{path:":customer_identity/contracts/:contract_identity",component:lM,name:"station_contract",meta:{api_name:"api_v1_station_contract_update",breadcrumb:[uM,pM,fM]}},{path:":customer_identity/contracts/:contract_identity/quote_policies/:quote_policy_identity",component:EB,name:"station_quote_policy",meta:{api_name:"api_v1_station_quote_policy_update",breadcrumb:[uM,pM,fM,vM]}},{path:":customer_identity/contracts/:contract_identity/quote_policies/new",component:CB,name:"new_station_quote_policy",meta:{api_name:"api_v1_station_quote_policy_create",breadcrumb:[uM,pM,fM,hM]}},{path:":customer_identity/contracts/:contract_identity/quote_policies/:quote_policy_identity/quotations/new",component:DB,name:"new_station_quotation",meta:{api_name:"api_v1_station_quotation_create",breadcrumb:[uM,pM,fM,vM,gM]}}],yM=bM,wM=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"uploader_layout"}},[e.is_initialized?i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1):i("div",[i("div",{staticClass:"ui inverted dimmer transition visible active",staticStyle:{display:"block !important"}},[i("div",{staticClass:"ui text loader"},[e._v(e._s(e.$t("ui.general.initializing")))])])])],1)},$M=[];function kM(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function xM(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){kM(a,n,s,r,o,"next",e)}function o(e){kM(a,n,s,r,o,"throw",e)}r(void 0)})}}var CM={name:"UploaderLayout",data:function(){return{is_initialized:!1}},computed:{},created:function(){this.init()},mounted:function(){},methods:{init:function(){var e=xM(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return console.log(this.$store),e.next=3,this.$store.dispatch("station/uploader_module/set_urls");case 3:return e.next=5,new Promise(function(e){t.is_initialized=!0,e()});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{}},PM=CM,SM=Object(Tt["a"])(PM,wM,$M,!1,null,null,null),NM=SM.exports,qM=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"operations_layout"}},[e.is_initialized?i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1):i("div",{staticClass:"ui active centered inline large loader"})],1)},AM=[];function EM(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function zM(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){EM(a,n,s,r,o,"next",e)}function o(e){EM(a,n,s,r,o,"throw",e)}r(void 0)})}}var jM={name:"CoreWaybillsLayout",data:function(){return{is_initialized:!1,errors:[]}},created:function(){this.init()},mounted:function(){},watch:{},computed:{},methods:{init:function(){var e=zM(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!1,e()});case 2:return e.next=4,new Promise(function(e){t.is_initialized=!0,e()});case 4:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()},components:{}},RM=jM,OM=Object(Tt["a"])(RM,qM,AM,!1,null,null,null),IM=OM.exports,DM=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.is_initialized?i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1):e._e(),i("div",{staticClass:"ui inverted dimmer transition",class:{active:!e.is_initialized}},[i("div",{staticClass:"ui text loader"},[e._v("\n            "+e._s(e.$t("ui.general.initializing"))+"\n        ")])])],1)},LM=[];function TM(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function BM(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){TM(a,n,s,r,o,"next",e)}function o(e){TM(a,n,s,r,o,"throw",e)}r(void 0)})}}var MM={name:"OperationsLayout",data:function(){return{is_initialized:!1,errors:[]}},computed:{},watch:{},created:function(){},mounted:function(){var e=this;this.init(),this.$bus.$off("init"),this.$bus.$on("init",function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.init()})},beforeDestroy:function(){this.$bus.$off("init")},methods:{init:function(){var e=BM(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!1,e()});case 2:return e.next=4,this.$store.dispatch("station/operations_module/fetch_staffs");case 4:return e.next=6,new Promise(function(e){t.is_initialized=!0,t.$noty.information(t.$t("ui.page_titles.provider_operations")+" "+t.$t("ui.general.initialize_complete"),300),e()});case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{}},UM=MM,FM=Object(Tt["a"])(UM,DM,LM,!1,null,null,null),YM=FM.exports,GM=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"uploader"}},[i("Steps",{tag:"div",attrs:{current_step:e.current_step,checked_count:e.checked_operation_count,uploaded_count:e.uploaded_operation_count,data_count:e.operations_count,is_processing:e.is_processing}}),i("div",{staticClass:"ui divider"}),e.is_processing?i("div",{staticClass:"ui indicating complete progress",attrs:{id:"index-progress-bar"}},[e._m(0)]):e._e(),i("ErrorBox",{attrs:{errors:e.errors}}),e.is_initialized?i("div",{staticClass:"basic_options"},[i("div",{staticClass:"ui top attached mini segment",class:{green:e.basic_options_setted,orange:!e.basic_options_setted}},[i("h3",{staticClass:"ui header"},[i("i",{staticClass:"upload icon"}),i("div",{staticClass:"content"},[e._v("\n                    "+e._s(e.$t("ui.pages.uploader.upload_operation_list"))+"\n                ")])])]),i("div",{staticClass:"ui bottom attached segment"},[i("div",{staticClass:"ui grid"},[i("div",{staticClass:"eight wide column"},[i("div",{staticClass:"ui segments"},[i("div",{staticClass:"ui segment"},[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.file.name"))+"：\n                            "),i("span",[e._v(e._s(e.file_name||"N/A"))])]),i("div",{staticClass:"ui segment"},[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.file.size"))+"：\n                            "),i("span",[e._v(e._s(e.file_size_in_bytes)+" Bytes / 1024000 Bytes")])]),i("div",{staticClass:"ui segment"},[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.file.path"))+"：\n                            "),e.is_file_uploaded?i("span",[i("a",{attrs:{href:e.file_s3_path}},[e._v(e._s(e.file_name))])]):i("span",[e._v("N/A")])]),i("div",{staticClass:"ui segment"},[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.file.upload"))+"：\n                            "),e.is_file_uploaded?i("span",[i("i",{staticClass:"check icon"}),e._v("\n                                "+e._s(e.$t("ui.pages.uploader.file.complete"))+"\n                            ")]):i("span",[i("i",{staticClass:"warning icon"}),e._v("\n                                "+e._s(e.$t("ui.pages.uploader.file.not_uploaded"))+"\n                            ")])])])]),e.basic_options_setted?i("div",{staticClass:"eight wide column ui form"},[i("div",{staticClass:"field"},[i("label",[e._v("\n                            "+e._s(e.$t("ui.general.please_select"))+"\n                            "),e._v("\n                            "+e._s(e.$t("ui.pages.uploader.operation_list"))+"\n                        ")]),i("span",[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.selected"))+"\n                            【"+e._s(e.file_name)+"】\n                        ")])]),i("div",{staticClass:"field"},[i("label",[e._v("\n                            "+e._s(e.$t("ui.general.please_select"))+"\n                            "+e._s(e.$t("models.attributes.core_waybills.sender"))+"\n                        ")]),i("span",[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.selected"))+"\n                            "+e._s(e.requester_node.company_name)+"\n                        ")])]),i("div",{staticClass:"field"},[i("label",[e._v("\n                            "+e._s(e.$t("ui.general.please_select"))+"\n                            "),e._v("\n                            "+e._s(e.$t("ui.pages.uploader.contract"))+"\n                        ")]),i("span",[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.selected"))+"\n                            "+e._s(e.requester_contract.name)+"\n                        ")])]),i("div",{staticClass:"field"},[i("label",[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.your_actions"))+"\n                        ")]),i("span",[e._v(e._s(e.current_converter.name))])])]):e._e()]),i("div",{staticClass:"ui divider"}),e.basic_options_setted?i("div",[(e.is_processing||!e.can_next_step)&&e.current_step<4?i("a",{staticClass:"ui large fluid primary button disabled"},[e._v("\n                    "+e._s(e.$t("ui.general.initializing"))+"\n                ")]):e.current_step<4?i("a",{staticClass:"ui large fluid primary button",on:{click:function(t){e.steps_callback_center(e.current_step)}}},[e._v("\n                    "+e._s(e.$t("ui.general.submit"))+"\n                ")]):e._e()]):e._e(),i("div",{staticClass:"clear"})])]):i("div",[i("div",{staticClass:"ui inverted dimmer transition visible active",staticStyle:{display:"block !important"}},[i("div",{staticClass:"ui text loader"},[e._v(e._s(e.$t("ui.general.initializing")))])])]),i("div",{staticClass:"ui divider"}),e.current_step>=4?i("div",[i("div",{staticClass:"ui icon positive message"},[i("i",{staticClass:"check icon"}),i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                    "+e._s(e.$t("ui.pages.uploader.upload_detail_completed"))+"\n                ")]),i("p",[i("button",{staticClass:"ui primary button",on:{click:e.init}},[e._v("\n                        "+e._s(e.$t("ui.pages.uploader.continue_next_file"))+"\n                    ")])])])])]):e._e(),i("div",{staticClass:"operations_dashboard"},e._l(e.receivers,function(e,t){return i("Operation",{tag:"div",attrs:{receiver:e,index:t}})})),e.is_initialized?i("div",{ref:"operation_target_selector",staticClass:"ui dimmer"},[i("div",{ref:"converters",staticClass:"content"},[i("h1",[e._v("\n                "+e._s(e.$t("ui.pages.uploader.dimmer.what_do_you_want_now"))+"...\n            ")]),i("div",{staticClass:"ui link cards"},e._l(e.converters,function(t){return i("div",{staticClass:"card"},[i("div",{staticClass:"content",on:{click:function(i){e.$store.commit(e.current_scope+"/uploader_module/set_current_converter",t),e.$(e.$refs.converters).hide(),e.$(e.$refs.file_selector).show()}}},[i("div",{staticClass:"header"},[e._v("\n                            "+e._s(t.name)+"\n                        ")]),i("div",{staticClass:"description"},[e._v("\n                            "+e._s(t.note)+"\n                        ")])]),t.sample_file_url?i("div",{staticClass:"extra content"},[i("a",{staticClass:"right floated star",attrs:{href:t.sample_file_url}},[e._m(1,!0),i("span",[e._v("\n                                "+e._s(e.$t("ui.pages.uploader.dimmer.download_sample_file"))+"\n                            ")])])]):e._e()])}))]),i("div",{ref:"file_selector",staticClass:"content",staticStyle:{display:"none"}},[i("h1",[e._v("\n                "+e._s(e.$t("ui.pages.uploader.dimmer.please_upload_your_file"))+"...\n            ")]),i("div",{staticClass:"ui link cards"},[i("div",{staticClass:"card"},[i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.dimmer.select_file"))+"\n                        ")]),i("div",{staticClass:"description"},[i("input",{ref:"file_input_field",attrs:{type:"file"},on:{change:function(t){e.select_file(t)}}})])])]),i("div",{staticClass:"card",on:{click:e.init}},[i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.redo"))+"\n                        ")]),i("div",{staticClass:"description"},[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.dimmer.clicked_this_card_redo"))+"\n                        ")])])])])]),i("div",{ref:"requester_selector",staticClass:"content",staticStyle:{display:"none"}},[i("h1",[e._v("\n                "+e._s(e.$t("ui.general.please_select"))+"\n                "+e._s(e.$t("models.attributes.core_waybills.sender"))+"...\n            ")]),i("div",{staticClass:"ui link cards"},[i("div",{staticClass:"card"},[i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection dropdown"},[i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"default text"},[e._v("\n                                    "+e._s(e.$t("ui.general.please_select"))+"\n                                    "+e._s(e.$t("models.attributes.core_waybills.sender"))+"\n                                ")]),i("div",{staticClass:"menu"},e._l(e.customers,function(t){return i("div",{staticClass:"item",on:{click:function(i){e.$store.commit(e.current_scope+"/uploader_module/set_requester_node",t),1==t.contracts.length&&(e.$store.commit(e.current_scope+"/uploader_module/set_requester_contract",t.contracts[0]),e.$(e.$refs.requester_selector).hide(),e.$(e.$refs.loader).show(),e.steps_callback_center(1))}}},[e._v("\n                                            "+e._s(t.company_name)+"\n                                    ")])}))])]),e.current_scoped_store.uploader_module.requester_node?i("div",{staticClass:"description"},[i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection dropdown"},[i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"default text"},[e._v("\n                                    "+e._s(e.$t("ui.general.please_select"))+"\n                                    "+e._s(e.$t("ui.pages.uploader.contract"))+"\n                                ")]),i("div",{staticClass:"menu"},e._l(e.current_scoped_store.uploader_module.requester_node.contracts,function(t){return i("div",{staticClass:"item",on:{click:function(i){e.$store.commit(e.current_scope+"/uploader_module/set_requester_contract",t),e.$(e.$refs.requester_selector).hide(),e.$(e.$refs.loader).show(),e.steps_callback_center(1)}}},[e._v("\n                                            "+e._s(t.name)+"\n                                    ")])}))])]):e._e()])]),i("div",{staticClass:"card",on:{click:e.init}},[i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.redo"))+"\n                        ")]),i("div",{staticClass:"description"},[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.dimmer.clicked_this_card_redo"))+"\n                        ")])])])])]),i("div",{ref:"loader",staticClass:"content",staticStyle:{display:"none"}},[i("div",{staticClass:"ui text loader"},[e._v("Loading")])])]):e._e(),i("BackToTopButton",{tag:"div"})],1)},HM=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"bar"},[i("div",{staticClass:"progress"})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui circular icon button"},[i("i",{staticClass:"download icon"})])}];function KM(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function WM(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){KM(a,n,s,r,o,"next",e)}function o(e){KM(a,n,s,r,o,"throw",e)}r(void 0)})}}var VM={name:"UploaderIndex",data:function(){return{is_initialized:!1,is_processing:!1,can_next_step:!0,basic_options_setted:!1,operations_count:0,complete_operation_count:0,checked_operation_count:0,uploaded_operation_count:0,current_step:1,current_operation_index:0,excel_file:null,file_name:null,file_size_in_bytes:0,file_s3_path:null,is_file_uploaded:!1,is_queue_mode:!0,errors:[]}},computed:{current_scope:function(){return this.$store.state.current_scope},current_scoped_store:function(){return this.$store.state[this.current_scope]},receivers:function(){return this.current_scoped_store.uploader_module.receivers},customers:function(){return this.current_scoped_store.uploader_module.customers},requester_node:{get:function(){return this.current_scoped_store.uploader_module.requester_node},set:function(e){this.$store.commit(this.current_scope+"/uploader_module/set_requester_node",e)}},requester_contract:{get:function(){return this.current_scoped_store.uploader_module.requester_contract}},fetch_customers_url:function(){return this.current_scoped_store.uploader_module.fetch_customers_url},open_file_url:function(){return this.current_scoped_store.uploader_module.open_file_url},file_upload_url:function(){return this.current_scoped_store.uploader_module.file_upload_url},converters:function(){return this.current_scoped_store.uploader_module.converters},current_converter:function(){return this.current_scoped_store.uploader_module.current_converter||{name:null}}},created:function(){},mounted:function(){var e=this;this.init(),this.$bus.$off("init"),this.$bus.$on("init",function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.init()}),this.$bus.$off("to_index"),this.$bus.$on("to_index",function(t,i){switch(t){case"validate_waybills":e.checked_operation_count++,e.receivers[i+1]?(e.current_operation_index++,e.$bus.$emit("to_operations","validate_waybills",e.current_operation_index)):e.steps_callback_center("validate_waybills");break;case"create_operation":e.uploaded_operation_count++,e.receivers[i+1]?(e.current_operation_index++,e.$bus.$emit("to_operations","create_operation",e.current_operation_index)):e.steps_callback_center("create_operations");break;case"complete":e.complete_operation_count++,$("#index-progress-bar").progress({duration:300,value:e.complete_operation_count,total:e.operations_count});case"interrupt":e.steps_callback_center("interrupt");default:}})},beforeDestroy:function(){this.$bus.$off("init")},watch:{},methods:{init:function(){var e=WM(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){$(t.$refs.operation_target_selector).dimmer("hide"),e()});case 2:return e.next=4,new Promise(function(e){t.is_initialized=!1,t.is_processing=!1,t.can_next_step=!0,t.basic_options_setted=!1,t.operations_count=0,t.complete_operation_count=0,t.checked_operation_count=0,t.uploaded_operation_count=0,t.current_step=1,t.current_operation_index=0,t.excel_file=null,t.file_name=null,t.file_size_in_bytes=0,t.file_s3_path=null,t.is_file_uploaded=!1,t.is_queue_mode=!0,t.errors=[],e()});case 4:return e.next=6,this.$store.commit(this.current_scope+"/uploader_module/init");case 6:return e.next=8,this.$store.dispatch(this.current_scope+"/uploader_module/set_urls");case 8:return e.next=10,this.$store.dispatch(this.current_scope+"/uploader_module/fetch_customers");case 10:return e.next=12,this.$store.dispatch(this.current_scope+"/uploader_module/fetch_operator_node");case 12:return e.next=14,this.$store.dispatch(this.current_scope+"/uploader_module/fetch_converters");case 14:return e.next=16,new Promise(function(e){t.$noty.information(t.$t("ui.page_titles.uploader")+" "+t.$t("ui.general.initialize_complete")),t.is_initialized=!0,e()});case 16:return e.next=18,new Promise(function(e){$(t.$refs.operation_target_selector).dimmer("show"),e()});case 18:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),select_file:function(e){this.excel_file=e.target.files[0],this.file_name=this.excel_file.name,this.file_size_in_bytes=this.excel_file.size,$(this.$refs.file_input_field).val(""),$(this.$refs.file_selector).hide(),this.current_converter.ignore_customer_node?($(this.$refs.loader).show(),this.steps_callback_center(1)):$(this.$refs.requester_selector).show()},open_file:function(){var e=this;this.is_processing=!0,this.errors=[],null!=this.excel_file&&void 0!=this.excel_file||this.errors.push(this.$t("ui.pages.uploader.dimmer.select_file")),null==this.requester_node&&(this.$store.commit(this.current_scope+"/uploader_module/set_requester_node",{company_en_name:""}),this.$store.commit(this.current_scope+"/uploader_module/set_requester_contract",{name:""}));var t=new RestUrl(this.open_file_url).parse({converter_identity:this.$store.state.station.uploader_module.current_converter.identity},"");if(0==this.errors.length){var i=new FormData;i.append("excel_file",this.excel_file),i.append("file_name",this.file_name),i.append("file_size_in_bytes",this.file_size_in_bytes),i.append("provider",this.current_converter.provider),i.append("category",this.current_converter.category),axios.post(t,i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"failure"==t.data.status?(_.forEach(t.data.errors,function(t,i){_.forEach(t,function(t,i){e.errors.push(e.$t("ui.pages.uploader.open_file")+" "+e.$t("ui.general.failure")+": "+t)})}),e.steps_callback_center("interrupt")):(e.$store.commit(e.current_scope+"/uploader_module/set_conversions",t.data.conversions),e.$store.commit(e.current_scope+"/uploader_module/set_waybill_raw_datas",{"託運":t.data.human_datas}),e.$store.commit(e.current_scope+"/uploader_module/set_waybill_processed_datas",{"託運":t.data.processed_datas}),e.$store.commit(e.current_scope+"/uploader_module/set_receivers",["託運"]),e.operations_count=e.receivers.length,e.basic_options_setted=!0,e.steps_callback_center("open_file"),$(e.$refs.operation_target_selector).dimmer("hide"),$(e.$refs.loader).hide(),$(e.$refs.converter_selector).show())})["catch"](function(t){_.forEach(response.data.errors,function(t,i){_.forEach(t,function(t,i){e.errors.push(e.$t("ui.pages.uploader.open_file")+" "+e.$t("ui.general.failure")+": "+t)})}),e.steps_callback_center("interrupt")})}else this.steps_callback_center("interrupt")},upload_file:function(e){var t=this;if(null!==this.excel_file&&void 0!==this.excel_file)if(1==this.is_file_uploaded)this.steps_callback_center("upload_file");else{var i=new FormData;i.append("file",this.excel_file),axios.post(this.file_upload_url,i).then(function(e){if(!e.data.link)return Promise.reject(e);t.is_file_uploaded=!0,t.file_s3_path=decodeURIComponent(e.data.link),t.$noty.success(t.$t("ui.notifications.success.upload__name",{name:t.$t("ui.general.file")})),t.steps_callback_center("upload_file")})["catch"](function(e){t.$noty.error(t.$t("ui.notifications.error.upload__name",{name:t.$t("ui.general.file")})),t.errors.push(t.$t("ui.notifications.error.upload__name",{name:t.$t("ui.general.file"),reason:": "+t.$t("ui.general.network_abnormality")})),t.steps_callback_center("interrupt")})}else this.errors.push(this.$t("ui.general.no")+" "+this.$t("ui.pages.uploader.dimmer.select_file")),this.steps_callback_center("interrupt")},validate_waybills:function(){this.$bus.$emit("to_operations","validate_waybills",this.current_operation_index)},create_operations:function(){this.$bus.$emit("to_operations","create_operation",this.current_operation_index)},steps_callback_center:function(e){var t=this;switch(e){case 1:this.is_processing=!0,this.open_file();break;case 2:this.is_processing=!0,this.validate_waybills();break;case 3:this.is_processing=!0,this.upload_file();break;case 4:var i=_.filter(this.$children,function(e){return"Operation"==e.$options._componentTag});1!=i.length||this.current_converter.skip_operation_creation&&this.current_converter.skip_usable_validation||this.$router.push({name:"edit_station_operation",params:{identity:i[0].operation.identity}});break;case"open_file":this.current_step++,this.is_processing=!1,this.$nextTick(function(){t.steps_callback_center(2)});break;case"validate_waybills":this.current_operation_index=0,this.complete_operation_count=0,this.is_processing=!1,this.current_step++;break;case"upload_file":this.create_operations();break;case"create_operations":this.current_operation_index=0,this.complete_operation_count=0,this.is_processing=!1,this.current_step++,this.$nextTick(function(){t.steps_callback_center(4)});break;case"interrupt":$(this.$refs.operation_target_selector).dimmer("show"),$(this.$refs.operation_target_selector).dimmer("hide"),this.is_processing=!1;break;default:}}},components:{Steps:Zw,Operation:y$,ErrorBox:P$,BackToTopButton:kd}},XM=VM,QM=(n("eee2"),n("5669"),Object(Tt["a"])(XM,GM,HM,!1,null,"8ac871b8",null)),ZM=QM.exports,JM="station_uploader",eU=[{path:":operation_identity?",component:ZM,name:"station_uploader",meta:{api_name:["api_v1_station_customer_nodes","api_v1_station_operation_create","api_v1_station_operation_use_core_waybill","api_v1_station_operation_validate","api_v1_station_file_converters","api_v1_station_file_convert","api_v1_station_file_converter_open"],breadcrumb:[JM]}}],tU=eU,iU=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"core_waybills"}},[i("div",{staticClass:"ui segment"},[i("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[!e.is_fetching_data&&e.node.company_en_name&&e.show_receipts?i("Receipts",{attrs:{show_buttons:!0,assigned_core_waybills:e.core_waybills,logo_url:"/images/"+e.node.company_en_name.replace(/(?:^|\.|\s?)([A-Z])/g,function(e,t){return"_"+t.toLowerCase()}).replace(/^_/,"")+"_logo.jpg",title:e.node.company_short_name+"客戶簽收單",sub_title:e.node.website_url,customer_service_hotline:e.node.customer_service_hotline,logistician:e.current_staff,location:""}}):i("div"),i("div",[e.is_show_filter.detail?e._e():i("div",{staticStyle:{display:"inline"}},[i("div",{staticClass:"ui right labeled left icon input"},[i("i",{staticClass:"search icon",on:{click:function(t){e.core_waybills_filter()}}}),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter[e.current_store.quick_filter_key.number],expression:"filter[current_store.quick_filter_key.number]"}],attrs:{placeholder:e.$t("ui.pages.core_waybills.filter.find__key",{key:e.$t("models.attributes.core_waybills."+e.current_store.quick_filter_key.number)}),type:"text"},domProps:{value:e.filter[e.current_store.quick_filter_key.number]},on:{change:function(t){e.$forceUpdate()},keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.core_waybills_filter()},input:function(t){t.target.composing||e.$set(e.filter,e.current_store.quick_filter_key.number,t.target.value)}}}),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui dropdown label no_search"},[e._l(e.current_store.quick_filters.number,function(t){return e.current_store.quick_filter_key.number==t?i("div",{staticClass:"text"},[e._v("\n                                "+e._s(e.$t("models.attributes.core_waybills."+t))+"\n                            ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.current_store.quick_filters.number,function(t){return i("div",{staticClass:"item",class:{"selected active":e.current_store.quick_filter_key.number==t},on:{click:function(i){e.set_quick_filter_key("number",t)}}},[e._v("\n                                    "+e._s(e.$t("models.attributes.core_waybills."+t))+"\n                                ")])}))],2)])]),e.is_show_filter.detail?i("div",{staticStyle:{display:"inline"}},[i("div",{staticClass:"ui basic red icon button",on:{click:function(t){e.$store.dispatch("station/core_waybills_module/clear_filter_url_params",{operation_number:e.$route.params.operation_number||null})}}},[i("i",{staticClass:"close icon"})])]):e._e(),i("div",{staticClass:"ui icon buttons",staticStyle:{"vertical-align":"top","margin-left":"6px",height:"37px"}},[i("div",{staticClass:"ui button",class:{active:e.is_show_filter.simple},attrs:{"data-tooltip":e.$t("ui.general.simple")},on:{click:function(t){e.toggle_filter("simple")}}},[i("i",{staticClass:"bars left icon"})]),i("div",{staticClass:"ui button",class:{active:e.is_show_filter.detail},attrs:{"data-tooltip":e.$t("ui.general.advanced")},on:{click:function(t){e.toggle_filter("detail")}}},[i("i",{staticClass:"file alternate icon"})])])])],1),i("div",{style:{paddingTop:e.is_any_filter_show?"12px":null}},[i("SimpleFilter",{staticClass:"ui transition hidden filter simple"}),i("DetailFilter",{staticClass:"ui transition hidden filter detail"})],1),e.is_any_filter_show?i("div",{staticClass:"right floated",style:{paddingTop:e.is_show_filter.simple?"12px":null}},[e.current_store.is_can_print_label&&!e.error_message?i("div",{staticStyle:{display:"inline-block","vertical-align":"bottom"}},[e.tool_label.numbers?i("div",{staticStyle:{display:"inline-block"}},[i("div",{staticStyle:{display:"inline-block","vertical-align":"bottom"}},["en-US"==e.$store.state.language?i("span",[e._v("\n                            Total: "+e._s(e.tool_label.core_waybill_length)+"\n                        ")]):i("span",[e._v("\n                            共 "+e._s(e.tool_label.core_waybill_length)+" 件\n                        ")])]),e.tool_label.numbers?i("CoreWaybillsLabelSvg",{staticStyle:{"text-align":"left",display:"inline-block","vertical-align":"middle"},attrs:{numbers:e.tool_label.numbers,label_name:e.tool_label.label_name,authentication_token:e.token,is_show_input:!1,is_post_method:!0,node_carrier_name:e.$store.state.station.node.carrier_class}}):e._e()],1):i("div",{staticClass:"field",staticStyle:{display:"inline-block","vertical-align":"bottom"}},[i("label",[e._v(" ")]),i("div",{staticClass:"ui button",on:{click:function(t){e.fetch_core_waybills_pagination_false()}}},[i("i",{staticClass:"print icon"}),e._v("\n                        "+e._s(e.$t("ui.pages.core_waybills.print_filter_result_labels"))+"\n                    ")])])]):e._e(),i("div",{staticClass:"ui button",on:{click:function(t){e.fetch_core_waybills_csv()}}},[i("i",{staticClass:"file icon"}),e._v("\n                "+e._s(e.$t("ui.pages.core_waybills.export_csv_file"))+"\n            ")]),"forever.tw568.com"==e.hostname?i("div",{staticClass:"ui button",on:{click:function(t){e.fetch_core_waybills_csv("clearance")}}},[i("i",{staticClass:"file alternate outline icon"}),e._v("\n                "+e._s(e.$t("ui.pages.core_waybills.export_clearance_csv_file"))+"\n            ")]):e._e(),e.current_store.csv.url?i("a",{staticClass:"ui button",attrs:{href:e.current_store.csv.url}},[i("i",{staticClass:"download icon"}),e._v("\n                "+e._s(e.$t("ui.pages.core_waybills.download_daily_csv_file"))+"\n            ")]):e._e(),e.current_store.csv.url?i("div",{staticClass:"ui icon button",on:{click:function(t){e.current_store.csv.url=null}}},[i("i",{staticClass:"refresh icon"})]):"cqf.tw568.com"==e.hostname||"local.mynet.com.tw"==e.hostname?i("div",{staticClass:"ui button",class:{loading:e.current_store.csv.is_processing},on:{click:function(t){e.fetch_core_waybills_csv_new()}}},[e.current_store.csv.is_processing?e._e():i("span",{staticStyle:{position:"relative"}},[i("i",{staticClass:"file outline icon"}),i("i",{staticClass:"red small code icon",staticStyle:{position:"absolute",right:"4px",bottom:"0"}})]),e._v("\n                "+e._s(e.$t("ui.pages.core_waybills.export_daily_csv_file"))+"\n            ")]):e._e(),e.is_any_filter_show?i("div",{staticClass:"ui icon blue button",on:{click:function(t){e.core_waybills_filter()}}},[i("i",{staticClass:"search icon"}),e._v("\n                "+e._s(e.$t("ui.general.search"))+"\n            ")]):e._e()]):e._e(),i("div",{staticClass:"clear"})]),i("div",e._l(e.core_waybills,function(t){return e.is_initialized?i("CoreWaybill",{key:t.identity,attrs:{core_waybill:t,template:"card",is_auto_print:!1,is_can_update:!1,is_can_print_label:!1,is_show_change_template_btns:!1,cant_update_field_names:[],active_button:{to_detail_route_name:e.$route.params.operation_number?"edit_core_waybill_operation":"edit_core_waybill"},card:{is_simple_form:!1,is_half_style:!0,is_show_note:!0,is_vertical:!0}}}):e._e()})),i("div",{staticClass:"clear"}),!e.is_initialized||e.is_processing?i("div",{staticClass:"ui segments core_waybill",staticStyle:{"text-align":"center",height:"100px"}},[i("div",{staticClass:"ui active inverted dimmer"},[i("div",{staticClass:"ui text loader"},[i("h3",[e._v("\n                    "+e._s(e.$t("ui.general.initializing"))+"\n                ")])])])]):e.error_message?i("div",{staticClass:"ui red raised segment center aligned"},[i("h2",[e._v("\n            "+e._s(e.error_message)+"\n        ")])]):e._e(),e.core_waybills.length?i("Paginator",{attrs:{total_pages:e.current_store.total_pages,current_page:e.current_store.current_page}}):e._e(),i("Supervisor")],1)},nU=[],sU=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"filter"},[e.is_initialized?i("div",{staticClass:"ui form",on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$parent.core_waybills_filter()}}},[i("div",{staticClass:"ui list"},[i("div",{staticClass:"item"},[i("i",{staticClass:"barcode big icon pointer",on:{click:function(t){e.is_show_numbers=!e.is_show_numbers}}}),i("div",{staticClass:"content"},[i("div",{staticClass:"header pointer"},[i("h3",{staticStyle:{"z-index":"2"},on:{click:function(t){e.is_show_numbers=!e.is_show_numbers}}},[e._v("\n                            "+e._s(e.$t("ui.pages.core_waybills.filter.numbers"))+"\n                            "),i("i",{staticClass:"icon",class:{"caret down":!e.is_show_numbers,"caret up":e.is_show_numbers},staticStyle:{margin:"0"}})])]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.is_show_numbers,expression:"is_show_numbers"}]},[i("div",{staticClass:"filter_border"}),i("div",{staticClass:"two fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.number")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.number,expression:"filter.number"}],attrs:{type:"text"},domProps:{value:e.filter.number},on:{input:function(t){t.target.composing||e.$set(e.filter,"number",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.operation_number")))]),e.$route.params.operation_number?i("div",{staticClass:"ui segment",staticStyle:{margin:"0",padding:"9px 12px"}},[e._v("\n                                    "+e._s(e.$route.params.operation_number)+"\n                                ")]):i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.operation.number,expression:"filter.operation.number"}],attrs:{type:"text"},domProps:{value:e.filter.operation.number},on:{input:function(t){t.target.composing||e.$set(e.filter.operation,"number",t.target.value)}}})])]),i("div",{staticClass:"three fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.original_number")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.original_number,expression:"filter.original_number"}],attrs:{type:"text"},domProps:{value:e.filter.original_number},on:{input:function(t){t.target.composing||e.$set(e.filter,"original_number",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.tracking_number")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.tracking_number,expression:"filter.tracking_number"}],attrs:{type:"text"},domProps:{value:e.filter.tracking_number},on:{input:function(t){t.target.composing||e.$set(e.filter,"tracking_number",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.flight_number")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.flight_number,expression:"filter.flight_number"}],attrs:{type:"text"},domProps:{value:e.filter.flight_number},on:{input:function(t){t.target.composing||e.$set(e.filter,"flight_number",t.target.value)}}})])])])])]),i("div",{staticClass:"item"},[i("i",{staticClass:"file alternate big icon pointer",on:{click:function(t){e.is_show_info=!e.is_show_info}}}),i("div",{staticClass:"content"},[i("div",{staticClass:"header pointer"},[i("h3",{on:{click:function(t){e.is_show_info=!e.is_show_info}}},[e._v("\n                            "+e._s(e.$t("ui.pages.core_waybills.filter.waybill_content"))+"\n                            "),i("i",{staticClass:"icon",class:{"caret down":!e.is_show_info,"caret up":e.is_show_info},staticStyle:{margin:"0"}})])]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.is_show_info,expression:"is_show_info"}]},[i("div",{staticClass:"filter_border"}),i("div",{staticClass:"two fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.sender_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.sender_name,expression:"filter.sender_name"}],attrs:{type:"text"},domProps:{value:e.filter.sender_name},on:{input:function(t){t.target.composing||e.$set(e.filter,"sender_name",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.sender_company_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.sender_company_name,expression:"filter.sender_company_name"}],attrs:{type:"text"},domProps:{value:e.filter.sender_company_name},on:{input:function(t){t.target.composing||e.$set(e.filter,"sender_company_name",t.target.value)}}})]),i("div",{staticClass:"field"},[i("div",{staticClass:"two fields"},[i("div",{staticClass:"field"},[i("label",[e._v(" "+e._s(e.$t("models.attributes.core_waybills.is_used")))]),i("div",{staticClass:"grouped fields"},e._l(e.filter_is_useds,function(t){return i("div",{staticClass:"field",on:{click:function(i){e.set_is_used(t.boolean)}}},[i("div",{ref:"filter_is_used",refInFor:!0,staticClass:"ui radio checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.is_used,expression:"filter.is_used"}],attrs:{type:"radio",name:"filter_is_used",id:t.name},domProps:{checked:e._q(e.filter.is_used,null)},on:{change:function(t){e.$set(e.filter,"is_used",null)}}}),i("label",{attrs:{for:t.name}},[e._v("\n                                                        "+e._s(t.name)+"\n                                                    ")])])])}))]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("ui.pages.core_waybills.filter.material")))]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection fluid dropdown"},[e._l(e.materials,function(t){return e.filter.material.class_names==t.class_name?i("div",{staticClass:"text"},[e._v("\n                                                "+e._s(t.name)+"\n                                            ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.materials,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.material.class_names==t.class_name},on:{click:function(i){e.filter.material.class_names=t.class_name}}},[e._v("\n                                                    "+e._s(t.name)+"\n                                                ")])}))],2)])])])]),i("div",{staticClass:"three fields"},[i("div",{staticClass:"field blue"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.consignee_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.consignee_name,expression:"filter.consignee_name"}],attrs:{type:"text"},domProps:{value:e.filter.consignee_name},on:{input:function(t){t.target.composing||e.$set(e.filter,"consignee_name",t.target.value)}}})]),i("div",{staticClass:"field blue"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.consignee_company_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.consignee_company_name,expression:"filter.consignee_company_name"}],attrs:{type:"text"},domProps:{value:e.filter.consignee_company_name},on:{input:function(t){t.target.composing||e.$set(e.filter,"consignee_company_name",t.target.value)}}})]),i("div",{staticClass:"field blue"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.consignee_phone")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.consignee_phone,expression:"filter.consignee_phone"}],attrs:{type:"text"},domProps:{value:e.filter.consignee_phone},on:{input:function(t){t.target.composing||e.$set(e.filter,"consignee_phone",t.target.value)}}})]),i("div",{staticClass:"field blue"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.consignee_address")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.consignee_address,expression:"filter.consignee_address"}],attrs:{type:"text"},domProps:{value:e.filter.consignee_address},on:{input:function(t){t.target.composing||e.$set(e.filter,"consignee_address",t.target.value)}}})])]),i("div",{staticClass:"three fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.created_at")))]),i("el-date-picker",{staticStyle:{width:"100%"},attrs:{"unlink-panels":"",type:"daterange",align:"center","start-placeholder":e.$t("ui.el.datepicker.startDate"),"end-placeholder":e.$t("ui.el.datepicker.endDate"),"picker-options":e.$store.state.element_ui_datepicker_daterange_options},model:{value:e.filter.created_duration,callback:function(t){e.$set(e.filter,"created_duration",t)},expression:"filter.created_duration"}})],1),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.note")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.note,expression:"filter.note"}],attrs:{type:"text"},domProps:{value:e.filter.note},on:{input:function(t){t.target.composing||e.$set(e.filter,"note",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.shipping_note")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.shipping_note,expression:"filter.shipping_note"}],attrs:{type:"text"},domProps:{value:e.filter.shipping_note},on:{input:function(t){t.target.composing||e.$set(e.filter,"shipping_note",t.target.value)}}})])])])])]),i("div",{staticClass:"item"},[i("i",{staticClass:"shipping fast big icon pointer",on:{click:function(t){e.is_show_status=!e.is_show_status}}}),i("div",{staticClass:"content"},[i("div",{staticClass:"header pointer"},[i("h3",{on:{click:function(t){e.is_show_status=!e.is_show_status}}},[e._v("\n                            "+e._s(e.$t("ui.pages.core_waybills.filter.status"))+"\n                            "),i("i",{staticClass:"icon",class:{"caret down":!e.is_show_status,"caret up":e.is_show_status},staticStyle:{margin:"0"}})])]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.is_show_status,expression:"is_show_status"}],staticClass:"status_filter"},[i("div",{staticClass:"filter_border"}),i("div",{staticClass:"field",staticStyle:{margin:"0 0 -.7em"}},[i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field"},[i("h4",{staticClass:"depiction"},[e._v("\n                                        "+e._s(e.$t("ui.pages.core_waybills.filter.status_depiction.now"))+"\n                                         \n                                    ")]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui fluid selection dropdown",staticStyle:{width:"30%"}},[e._l([{name:e.$t("ui.pages.core_waybills.filter.selected_polarity"),boolean:null},{name:e.$t("ui.pages.core_waybills.filter.polarity.positive"),boolean:"true"},{name:e.$t("ui.pages.core_waybills.filter.polarity.negative"),boolean:"false"}],function(t){return e.filter.condition.polarity==t.boolean?i("div",{staticClass:"text"},[e._v("\n                                            "+e._s(t.name)+"\n                                        ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},[i("div",{staticClass:"item",class:{"selected active":null==e.filter.condition.polarity},on:{click:function(t){e.filter.condition.polarity=null}}},[e._v("\n                                                "+e._s(e.$t("ui.pages.core_waybills.filter.selected_is_used"))+"\n                                            ")]),e._l([{name:e.$t("ui.pages.core_waybills.filter.polarity.positive"),boolean:"true"},{name:e.$t("ui.pages.core_waybills.filter.polarity.negative"),boolean:"false"}],function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.condition.polarity==t.boolean},on:{click:function(i){e.filter.condition.polarity=t.boolean}}},[e._v("\n                                                "+e._s(t.name)+"\n                                            ")])})],2)],2),i("span",{staticClass:"depiction"},[e._v(" ")]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui fluid selection dropdown",staticStyle:{width:"35%"}},[e._l(e.current_store.core_waybill_conditions,function(t){return e.filter.condition.name==t?i("div",{staticClass:"text"},[e._v("\n                                            "+e._s(e.$t('models.attributes.conditions["'+t+'"]'))+"\n                                        ")]):e._e()}),null==e.filter.condition.name?i("div",{staticClass:"text"},[e._v("\n                                            "+e._s(e.$t("ui.pages.core_waybills.filter.selected_status"))+"\n                                        ")]):e._e(),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},[i("div",{staticClass:"item",class:{"selected active":null==e.filter.condition.name},on:{click:function(t){e.filter.condition.name=null}}},[e._v("\n                                                "+e._s(e.$t("ui.pages.core_waybills.filter.selected_status"))+"\n                                            ")]),e._l(e.current_store.core_waybill_conditions,function(t){return"divider"!=t?i("div",{staticClass:"item",class:{"selected active":e.filter.condition.name==t},on:{click:function(i){e.filter.condition.name=t}}},[e._v("\n                                                "+e._s(e.$t('models.attributes.conditions["'+t+'"]'))+"\n                                            ")]):i("div",{staticClass:"divider",staticStyle:{margin:"0.2em 0"}})})],2)],2)]),i("div",{staticClass:"four wide field"},[i("h4",{staticClass:"depiction"},[e._v("\n                                        "+e._s(e.$t("ui.pages.core_waybills.filter.status_depiction.in_the"))+"\n                                         \n                                    ")]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui fluid selection dropdown",staticStyle:{width:"80%"}},[e._l(e.stations,function(t){return e.filter.condition.current_location==t.name?i("div",{staticClass:"text"},[e._v("\n                                            "+e._s(t.name||e.$t("ui.pages.core_waybills.filter.selected_station"))+"\n                                        ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.stations,function(t){return i("div",{key:t.identity,staticClass:"item",class:{"selected active":e.filter.condition.current_location==t.name},on:{click:function(i){e.filter.condition.current_location=t.name}}},[e._v("\n                                                "+e._s(t.name||e.$t("ui.pages.core_waybills.filter.selected_station"))+"\n                                            ")])}))],2)]),i("div",{staticClass:"four wide field"},[i("h4",{staticClass:"depiction"},[e._v("\n                                        "+e._s(e.$t("ui.pages.core_waybills.filter.status_depiction.by"))+"\n                                         \n                                    ")]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui fluid selection dropdown",staticStyle:{width:"70%"}},[e._l(e.staffs,function(t){return e.filter.condition.current_operator_identity==t.identity?i("div",{staticClass:"text"},[e._v("\n                                            "+e._s(t.name)+"\n                                        ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.staffs,function(t){return i("div",{key:t.identity,staticClass:"item",class:{"selected active":e.filter.condition.current_operator_identity==t.identity},on:{click:function(i){e.filter.condition.current_operator_identity=t.identity}}},[e._v("\n                                                "+e._s(t.name)+"\n                                            ")])}))],2),i("h4",{staticClass:"depiction"},[e._v("\n                                         \n                                        "),e._v("\n                                        "+e._s(e.$t("ui.pages.core_waybills.filter.status_depiction.handle"))+"\n                                    ")])])])]),i("div",{staticClass:"field",staticStyle:{"text-align":"right"}},[i("div",{staticStyle:{display:"inline-flex","align-items":"center"}},[i("h4",{staticStyle:{margin:"0"}},[e._v("\n                                    "+e._s(e.$t("ui.pages.core_waybills.filter.status_depiction.at_the"))+"\n                                     \n                                ")]),i("el-date-picker",{staticStyle:{width:"90%"},attrs:{"unlink-panels":"",type:"daterange",align:"center","start-placeholder":e.$t("ui.el.datepicker.startDate"),"end-placeholder":e.$t("ui.el.datepicker.endDate"),"picker-options":e.$store.state.element_ui_datepicker_daterange_options},model:{value:e.filter.condition.updated_duration,callback:function(t){e.$set(e.filter.condition,"updated_duration",t)},expression:"filter.condition.updated_duration"}})],1),i("div",{staticClass:"sub_filter_border"})]),i("div",{staticClass:"field"},[i("div",{staticClass:"fields"},[i("div",{staticClass:"four wide field"},[i("h4",{staticClass:"depiction"},[e._v("\n                                        "+e._s(e.$t("ui.pages.core_waybills.filter.status_depiction.before_by"))+"\n                                         \n                                    ")]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui fluid selection dropdown",staticStyle:{width:"70%"}},[e._l(e.staffs,function(t){return e.filter.status.operator_identity==t.identity?i("div",{staticClass:"text"},[e._v("\n                                            "+e._s(t.name)+"\n                                        ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.staffs,function(t){return i("div",{key:t.identity,staticClass:"item",class:{"selected active":e.filter.status.operator_identity==t.identity},on:{click:function(i){e.filter.status.operator_identity=t.identity}}},[e._v("\n                                                "+e._s(t.name)+"\n                                            ")])}))],2)]),i("div",{staticClass:"six wide field"},[i("div",{staticStyle:{display:"inline-flex","align-items":"center"}},[i("h4",{staticStyle:{margin:"0"}},[e._v("\n                                            "+e._s(e.$t("ui.pages.core_waybills.filter.status_depiction.at_the"))+"\n                                             \n                                        ")]),i("el-date-picker",{staticStyle:{width:"90%"},attrs:{"unlink-panels":"",type:"daterange",align:"center","start-placeholder":e.$t("ui.el.datepicker.startDate"),"end-placeholder":e.$t("ui.el.datepicker.endDate"),"picker-options":e.$store.state.element_ui_datepicker_daterange_options},model:{value:e.filter.status.created_duration,callback:function(t){e.$set(e.filter.status,"created_duration",t)},expression:"filter.status.created_duration"}})],1)]),i("div",{staticClass:"six wide field"},[i("h4",{staticClass:"depiction"},[e._v("\n                                        "+e._s(e.$t("ui.pages.core_waybills.filter.status_depiction.added"))+"\n                                         \n                                    ")]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui fluid selection dropdown",staticStyle:{width:"35%"}},[e._l(["operator","forwarder","public"],function(t){return e.filter.status.scope==t?i("div",{staticClass:"text"},[e._v("\n                                            "+e._s(e.$t("ui.status_scopes."+t))+"\n                                        ")]):e._e()}),null==e.filter.status.scope?i("div",[e._v("\n                                            "+e._s(e.$t("ui.pages.core_waybills.filter.selected_status_scope"))+"\n                                        ")]):e._e(),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},[i("div",{staticClass:"item",class:{"selected active":null==e.filter.status.scope},on:{click:function(t){e.filter.status.scope=null}}},[e._v("\n                                                "+e._s(e.$t("ui.pages.core_waybills.filter.selected_status_scope"))+"\n                                            ")]),e._l(["operator","forwarder","public"],function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.status.scope==t},on:{click:function(i){e.filter.status.scope=t}}},[e._v("\n                                                "+e._s(e.$t("ui.status_scopes."+t))+"\n                                            ")])})],2)],2),i("span",{staticClass:"depiction"},[e._v(" ")]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui fluid selection dropdown",staticStyle:{width:"42%"}},[e._l(e.scan_action_prototypes,function(t,n){return e.filter.status.name==t.name?i("div",{staticClass:"text"},[e._v("\n                                            "+e._s(t.name)+"\n                                        ")]):e._e()}),null==e.filter.status.name?i("div",[e._v("\n                                            "+e._s(e.$t("ui.pages.core_waybills.filter.selected_status"))+"\n                                        ")]):e._e(),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},[i("div",{staticClass:"item",class:{"selected active":null==e.filter.status.name},on:{click:function(t){e.filter.status.name=null}}},[e._v("\n                                                "+e._s(e.$t("ui.pages.core_waybills.filter.selected_status"))+"\n                                            ")]),e._l(e.scan_action_prototypes,function(t,n){return i("div",{staticClass:"item",class:{"selected active":e.filter.status.name==t.name},on:{click:function(i){e.filter.status.name=t.name}}},[e._v("\n                                                "+e._s(t.name)+"\n                                            ")])})],2)],2)])])])])])])])]):i("div",{staticClass:"ui active centered inline loader"})])},aU=[];function rU(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function oU(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){rU(a,n,s,r,o,"next",e)}function o(e){rU(a,n,s,r,o,"throw",e)}r(void 0)})}}var cU={props:{},data:function(){return{is_show_numbers:!0,is_show_info:!0,is_show_status:!0,is_initialized:!1,is_processing:!1,filter_is_useds:[{name:this.$t("ui.pages.core_waybills.filter.is_used.flase"),boolean:"false"},{name:this.$t("ui.pages.core_waybills.filter.is_used.true"),boolean:"true"}]}},computed:{current_store:function(){return this.$store.state.provider.core_waybills_module},filter:function(){return this.current_store.filter},staffs:function(){return[{name:this.$t("ui.pages.core_waybills.filter.selected_staff"),identity:null}].concat(this.current_store.staffs)},stations:function(){return[{name:null,identity:null}].concat(this.$store.state.provider.stations)},materials:function(){return[{name:this.$t("ui.pages.core_waybills.filter.selected_material"),class_name:null}].concat(this.current_store.materials)},scan_action_prototypes:function(){return this.current_store.scan_action_prototypes}},created:function(){},mounted:function(){this.init()},watch:{},methods:{init:function(){var e=oU(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!0,e()});case 2:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),set_is_used:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.filter.is_used=this.filter.is_used==e?null:e,null==this.filter.is_used&&$(this.$refs.filter_is_used).checkbox("uncheck")}},components:{}},_U=cU,lU=(n("a2c5c"),n("ca9a"),Object(Tt["a"])(_U,sU,aU,!1,null,"9db1199c",null)),uU=lU.exports,dU=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"simple_filter"},[e.is_initialized?i("div",{staticClass:"right aligned",staticStyle:{"text-align":"right"},on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$parent.core_waybills_filter()}}},[i("div",{staticClass:"ui right labeled input",staticStyle:{display:"inline-flex"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter[e.quick_filter_key.info],expression:"filter[quick_filter_key.info]"}],attrs:{placeholder:e.$t("ui.pages.core_waybills.filter.find__key",{key:e.$t("models.attributes.core_waybills."+e.quick_filter_key.info)}),type:"text"},domProps:{value:e.filter[e.quick_filter_key.info]},on:{change:function(t){e.$forceUpdate()},input:function(t){t.target.composing||e.$set(e.filter,e.quick_filter_key.info,t.target.value)}}}),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui dropdown label no_search"},[e._l(e.quick_filters.info,function(t){return e.quick_filter_key.info==t?i("div",{staticClass:"text"},[e._v("\n                    "+e._s(e.$t("models.attributes.core_waybills."+t))+"\n                ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.quick_filters.info,function(t){return"divider"!=t?i("div",{staticClass:"item",class:{"selected active":e.quick_filter_key.info==t},on:{click:function(i){e.$parent.set_quick_filter_key("info",t)}}},[e._v("\n                        "+e._s(e.$t("models.attributes.core_waybills."+t))+"\n                    ")]):i("div",{staticClass:"divider",staticStyle:{margin:"0.2em 0"}})}))],2)]),i("span",{staticClass:"depiction"},[e._v(" ")]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui fluid selection dropdown",staticStyle:{width:"120px"}},[e._l(["operator","forwarder","public"],function(t){return e.filter.status.scope==t?i("div",{staticClass:"text"},[e._v("\n                "+e._s(e.$t("ui.status_scopes."+t))+"\n            ")]):e._e()}),null==e.filter.status.scope?i("div",[e._v("\n                "+e._s(e.$t("ui.pages.core_waybills.filter.selected_status_scope"))+"\n            ")]):e._e(),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},[i("div",{staticClass:"item",class:{"selected active":null==e.filter.status.scope},on:{click:function(t){e.filter.status.scope=null}}},[e._v("\n                    "+e._s(e.$t("ui.pages.core_waybills.filter.selected_status_scope"))+"\n                ")]),e._l(["operator","forwarder","public"],function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.status.scope==t},on:{click:function(i){e.filter.status.scope=t}}},[e._v("\n                    "+e._s(e.$t("ui.status_scopes."+t))+"\n                ")])})],2)],2),i("span",{staticClass:"depiction"},[e._v(" ")]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui fluid selection dropdown",staticStyle:{width:"240px"}},[e._l(e.scan_action_prototypes,function(t,n){return e.filter.status.name==t.name?i("div",{staticClass:"text"},[e._v("\n                "+e._s(t.name)+"\n            ")]):e._e()}),null==e.filter.status.name?i("div",[e._v("\n                "+e._s(e.$t("ui.pages.core_waybills.filter.selected_status"))+"\n            ")]):e._e(),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},[i("div",{staticClass:"item",class:{"selected active":null==e.filter.status.name},on:{click:function(t){e.filter.status.name=null}}},[e._v("\n                    "+e._s(e.$t("ui.pages.core_waybills.filter.selected_status"))+"\n                ")]),e._l(e.scan_action_prototypes,function(t,n){return i("div",{staticClass:"item",class:{"selected active":e.filter.status.name==t.name},on:{click:function(i){e.filter.status.name=t.name}}},[e._v("\n                    "+e._s(t.name)+"\n                ")])})],2)],2)]):i("div",{staticClass:"ui active centered inline loader"})])},pU=[];function mU(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function fU(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){mU(a,n,s,r,o,"next",e)}function o(e){mU(a,n,s,r,o,"throw",e)}r(void 0)})}}var hU={props:{},data:function(){return{is_show_numbers:!0,is_show_info:!0,is_show_status:!0,is_initialized:!1,is_processing:!1,filter_is_useds:[{name:this.$t("ui.pages.core_waybills.filter.is_used.flase"),boolean:"false"},{name:this.$t("ui.pages.core_waybills.filter.is_used.true"),boolean:"true"}]}},computed:{current_store:function(){return this.$store.state.provider.core_waybills_module},is_show_filter:function(){return this.current_store.is_show_filter},quick_filters:function(){return this.current_store.quick_filters},quick_filter_key:function(){return this.current_store.quick_filter_key},filter:function(){return this.current_store.filter},staffs:function(){return[{name:this.$t("ui.pages.core_waybills.filter.selected_staff"),identity:null}].concat(this.current_store.staffs)},stations:function(){return[{name:null,identity:null}].concat(this.$store.state.provider.stations)},materials:function(){return[{name:this.$t("ui.pages.core_waybills.filter.selected_material"),class_name:null}].concat(this.current_store.materials)},scan_action_prototypes:function(){return this.current_store.scan_action_prototypes}},created:function(){},mounted:function(){this.init()},watch:{},methods:{init:function(){var e=fU(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!0,e()});case 2:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),set_is_used:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.filter.is_used=this.filter.is_used==e?null:e,null==this.filter.is_used&&$(this.$refs.filter_is_used).checkbox("uncheck")}},components:{}},vU=hU,gU=(n("4766"),n("c4a4"),Object(Tt["a"])(vU,dU,pU,!1,null,"4eeffe82",null)),bU=gU.exports;function yU(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function wU(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){yU(a,n,s,r,o,"next",e)}function o(e){yU(a,n,s,r,o,"throw",e)}r(void 0)})}}var $U={name:"CoreWaybillsIndex",data:function(){return{is_initialized:!1,is_fetching_data:!1,is_processing:!0,error_message:""}},computed:{hostname:function(){return window.location.hostname},current_store:function(){return this.$store.state.station.core_waybills_module},tool_label:function(){return this.current_store.tool_label},core_waybills:function(){return this.current_store.core_waybills},filter:function(){return this.current_store.filter},is_show_filter:function(){return this.current_store.is_show_filter},is_any_filter_show:function(){return this.is_show_filter.simple||this.is_show_filter.detail},node:function(){return this.$store.state.station.node},current_staff:function(){return this.$store.state.station.current_staff},token:function(){return localStorage.getItem("authentication_token")},current_service_name:function(){return this.$store.state.station.current_node.service_name},show_receipts:function(){return["neuron","neuron_premium"].includes(this.current_service_name)}},created:function(){},mounted:function(){var e=this;this.init(),this.$bus.$off("init"),this.$bus.$on("init",function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.init()}),_.forEach(this.is_show_filter,function(e,t){e&&$(".ui.transition.filter."+t).transition("fade down")})},beforeDestroy:function(){this.$bus.$off("init"),this.current_store.current_page=1},watch:{$route:{handler:function(e,t){var i=e.query.page;i&&(this.current_store.current_page=Number(i),this.$store.dispatch("station/core_waybills_module/fetch_core_waybills",{page:i}))},immediate:!0},"is_show_filter.simple":function(e){$(".ui.transition.filter.simple").transition(e?"fade down":"hide"),e?this.is_show_filter.detail=!1:this.$store.dispatch("station/core_waybills_module/set_filter_init")},"is_show_filter.detail":function(e){$(".ui.transition.filter.detail").transition(e?"fade down":"hide"),e?this.is_show_filter.simple=!1:this.$store.dispatch("station/core_waybills_module/set_filter_init")}},methods:{toggle_filter:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];0==e?(this.is_show_filter.simple=!1,this.is_show_filter.detail=!1):this.is_show_filter[e]=!this.is_show_filter[e]},init:function(){var e=wU(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.is_initialized=!1,this.is_processing=!0,this.error_message="",e.next=6,new Promise(function(e){t.filter.operation.number=t.$route.params.operation_number||null,e()});case 6:return e.next=8,this.$store.dispatch("station/core_waybills_module/handle_filter_url_params");case 8:return e.next=10,this.$store.dispatch("station/core_waybills_module/fetch_staffs");case 10:return e.next=12,this.$store.dispatch("station/core_waybills_module/fetch_materials");case 12:return e.next=14,this.$store.dispatch("station/core_waybills_module/fetch_core_waybills");case 14:return e.next=16,this.$store.dispatch("station/core_waybills_module/fetch_scan_action_prototypes");case 16:return e.next=18,this.$store.dispatch("station/core_waybills_module/fetch_condition_status_prototypes");case 18:e.next=24;break;case 20:e.prev=20,e.t0=e["catch"](0),console.log(e.t0),this.handle_error_message(e.t0);case 24:return e.next=26,new Promise(function(e){t.is_initialized=!0,t.is_processing=!1,e()});case 26:case"end":return e.stop()}},e,this,[[0,20]])}));function t(){return e.apply(this,arguments)}return t}(),core_waybills_filter:function(){var e=wU(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise(function(e){t.current_store.current_page=1,t.$route.query.page=1,t.current_store.core_waybills=[],t.is_processing=!0,t.error_message="",e()});case 3:return e.next=5,this.$store.dispatch("station/core_waybills_module/handle_filter_url_params");case 5:return e.next=7,this.$store.dispatch("station/core_waybills_module/fetch_core_waybills");case 7:e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0),this.handle_error_message(e.t0);case 13:return e.next=15,new Promise(function(e){t.is_processing=!1,e()});case 15:case"end":return e.stop()}},e,this,[[0,9]])}));function t(){return e.apply(this,arguments)}return t}(),set_quick_filter_key:function(t,i){var n=this;try{this.current_store.quick_filter_key[t]=i,"status"!=t&&_.forEach(this.current_store.quick_filters[t],function(e){n.filter[e]=null})}catch(e){console.log(e)}},fetch_core_waybills_pagination_false:function(){var e=wU(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$store.dispatch("station/core_waybills_module/fetch_core_waybills_pagination_false");case 3:e.next=17;break;case 5:e.prev=5,e.t0=e["catch"](0),e.t1=e.t0,e.next="fetch_core_waybills_pagination_false nothing filter"===e.t1?10:"core_waybills_label_type_different"===e.t1?11:"fetch_core_waybills_pagination_false_error"===e.t1?13:15;break;case 10:return e.abrupt("break",16);case 11:return this.error_message=this.$t("ui.notifications.error.__name",{name:this.$t("models.core_waybills")+" "+this.$t("ui.toolbox.core_waybill.errors.label_type_error")}),e.abrupt("break",16);case 13:return this.error_message=this.$t("ui.notifications.error.find__name",{name:this.$t("ui.general.print")}),e.abrupt("break",16);case 15:this.error_message=this.$t("ui.notifications.error.exception_error_please_contact_the_system_supplier")+":"+e.t0;case 16:this.error_message&&this.$noty.error(this.error_message);case 17:case"end":return e.stop()}},e,this,[[0,5]])}));function t(){return e.apply(this,arguments)}return t}(),handle_error_message:function(e){switch(e){case"fetch_core_waybills_no_anything_core_waybills":this.error_message=this.$t("ui.notifications.error.no_data");break;case"fetch_core_waybills_failure":this.error_message=this.$t("ui.notifications.error.find__name",{name:this.$t("models.core_waybills")});break;case"fetch_staffs_failure":this.error_message=this.$t("ui.notifications.error.find__name",{name:this.$t("models.staffs")});break;case"fetch_materials_failure":this.error_message=this.$t("ui.notifications.error.find__name",{name:this.$t("models.materials")});break;case"fetch_scan_action_prototypes_failure":this.error_message=this.$t("ui.notifications.error.find__name",{name:this.$t("ui.pages.core_waybills.have_contained_status")});break;case"fetch_condition_status_prototypes_failure":this.error_message=this.$t("ui.notifications.error.find__name",{name:this.$t("models.status_prototypes")});break;case"fetch_core_waybills_svg_error":this.error_message=this.$t("ui.notifications.error.__name",{name:this.$t("ui.pages.core_waybills.export_csv_file")});break;case"fetch_core_waybills_csv_error":this.error_message=this.$t("ui.notifications.error.__name",{name:"csv "+this.$t("ui.general.file")});break;case"fetch_core_waybills_csv_loading":this.error_message="csv loading";break;default:this.error_message=this.$t("ui.notifications.error.exception_error_please_contact_the_system_supplier")+":"+e}this.error_message&&this.$noty.error(this.error_message)},fetch_core_waybills_csv_new:function(){var e=wU(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$store.dispatch("station/core_waybills_module/fetch_core_waybills_csv_new");case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),"success"==e.t0?this.$cable.subscriptions.create({channel:"DelayedJobChannel",instance_identity:this.$store.state.instance_identity},{connected:function(){console.log("DelayedJobChannel connected")},received:function(e){e.data.download_url&&(this.current_store.csv.is_processing=!1,this.current_store.csv.url=e.data.download_url)}}):(console.log(e.t0),this.handle_error_message(e.t0));case 8:return e.next=10,new Promise(function(e){t.is_processing=!1,e()});case 10:case"end":return e.stop()}},e,this,[[0,5]])}));function t(){return e.apply(this,arguments)}return t}(),fetch_core_waybills_csv:function(){var e=wU(regeneratorRuntime.mark(function e(){var t,i=this,n=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:null,e.prev=1,e.next=4,this.$store.dispatch("station/core_waybills_module/fetch_core_waybills_csv",{type:t});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e["catch"](1),console.log(e.t0),this.handle_error_message(e.t0);case 10:return e.next=12,new Promise(function(e){i.is_processing=!1,e()});case 12:case"end":return e.stop()}},e,this,[[1,6]])}));function t(){return e.apply(this,arguments)}return t}()},components:{CoreWaybillsLabelSvg:Zc,DetailFilter:uU,SimpleFilter:bU,CoreWaybill:uP["a"],Paginator:Ma,Receipts:Wo["a"],Supervisor:r_}},kU=$U,xU=(n("7da0"),Object(Tt["a"])(kU,iU,nU,!1,null,"2a862930",null)),CU=xU.exports,PU=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.is_initialized?i("div",{attrs:{id:"new_core_waybill"}},[e.is_get_core_waybill_number?i("div",[i("div",{staticClass:"ui right floated basic red button",staticStyle:{margin:"6px 0"},on:{click:function(t){e.undo()}}},[e._v("\n            "+e._s(e.$t("ui.pages.core_waybills.back_to_select_partition"))+"\n        ")]),i("div",{staticClass:"clear"}),e.create_core_waybill_error?i("div",{staticClass:"ui negative message"},[i("div",{staticClass:"header"},[e._v("\n                "+e._s(e.$t("ui.pages.core_waybills.create_core_waybill_error"))+"\n            ")]),i("p",[e._v("\n                "+e._s(e.create_core_waybill_error)+"\n            ")])]):e._e(),i("CoreWaybill",{attrs:{core_waybill:e.core_waybill,template:"detail",is_auto_print:!1,is_can_update:!0,is_can_print_label:!1,is_show_change_template_btns:!1,active_button:e.tool_core_waybill_active_button,detail:{is_show_receipt_file:!1,is_show_partition:!1,is_show_statuses:!1}}})],1):i("div",[e.partitions.length?i("div",[e._l(e.partitions_group_by_customer_identity,function(t,n){return i("div",{staticClass:"ui segment blue"},["null"!=n?i("h5",[e._v("\n                    "+e._s(e.$store.getters["provider/core_waybills_module/customer"](n).company_name||"-")+"\n                ")]):e._e(),i("div",{staticClass:"ui doubling two column grid"},e._l(t,function(t){return i("div",{staticClass:"column pointer",on:{click:function(i){e.set_current_partition(t)},dblclick:function(t){e.fetch_core_waybill_number_by_partition()}}},[i("div",{staticClass:"ui center aligned segment",class:{active:e.current_partition.identity==t.identity}},[i("div",{staticClass:"ui mini statistic"},[i("div",{staticClass:"value"},[i("span",{attrs:{"data-tooltip":"字軌","data-position":"bottom left"}},[e._v("\n                                        "+e._s(t.prefix)+"\n                                    ")]),i("span",{staticStyle:{"text-decoration":"underline"}},[i("span",{attrs:{"data-tooltip":e.$t("ui.pages.core_waybills.partition_number_from"),"data-position":"bottom center"}},[e._v("\n                                            "+e._s(t.numbers_from)+"\n                                        ")]),i("span",[e._v(" ~ ")]),i("span",{attrs:{"data-tooltip":e.$t("ui.pages.core_waybills.partition_number_to"),"data-position":"bottom center"}},[e._v("\n                                            "+e._s(t.numbers_to)+"\n                                        ")])])]),i("div",{staticClass:"label"},[e._v("\n                                    "+e._s(t.name)+"\n                                ")])])])])}))])}),i("div",{staticClass:"ui center aligned segment"},[e.current_partition.identity?i("div",[i("button",{staticClass:"ui basic blue button",on:{click:function(t){e.fetch_core_waybill_number_by_partition()}}},[e._v("\n                        "+e._s(e.$t("ui.page_titles.new_core_waybill"))+"\n                    ")])]):i("h3",[e._v("\n                    "+e._s(e.$t("ui.pages.core_waybills.please_select_partition"))+"\n                ")])])],2):i("div",{staticClass:"ui red raised segment center aligned"},[i("h2",[e._v("\n                "+e._s(e.$t("ui.pages.core_waybills.errors.no_anything_partitions_can_use"))+"\n            ")])])])]):e._e()},SU=[];function NU(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function qU(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){NU(a,n,s,r,o,"next",e)}function o(e){NU(a,n,s,r,o,"throw",e)}r(void 0)})}}var AU={name:"NewCoreWaybill",components:{CoreWaybill:uP["a"]},props:{},data:function(){return{is_initialized:!1,is_processing:!1,partitions:[],current_partition:{},partitions_group_by_customer_identity:{},core_waybill:{},is_get_core_waybill_number:!1,tool_core_waybill_active_button:{content:this.$t("ui.general.create"),channel:"tool_core_waybill_create_channel"},create_core_waybill_error:""}},created:function(){},mounted:function(){var e=this;this.init(),this.$bus.$off("tool_core_waybill_create_channel"),this.$bus.$on("tool_core_waybill_create_channel",function(){e.create_core_waybill()})},watch:{},computed:{},methods:{undo:function(){this.is_get_core_waybill_number=!1,this.create_core_waybill_error="",this.core_waybill={}},init:function(){var e=qU(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fetch_partitions();case 2:return e.next=4,this.fetch_associated_partitions();case 4:return e.next=6,this.fetch_customers();case 6:return e.next=8,new Promise(function(e){t.is_initialized=!0});case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_partitions:function(){var e=this,t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_partitions),i=t.parse({},"?pagination=false");return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.partitions"),reason:": "+t.data.error})),Promise.reject(t.data.error);e.partitions=e.partitions.concat(t.data.partitions)})},fetch_associated_partitions:function(){var e=this,t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_associated_partitions),i=t.parse({},"?pagination=false");return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("ui.page_titles.associated_partitions"),reason:": "+t.data.error})),Promise.reject(t.data.error);e.partitions=e.partitions.concat(t.data.associated_partitions)})},fetch_customers:function(){var e=this;return this.partitions_group_by_customer_identity=_.groupBy(this.partitions,"customer_identity"),_.forEach(this.partitions_group_by_customer_identity,function(t,i){"null"!=i&&e.$store.dispatch("provider/core_waybills_module/fetch_customer",{customer_identity:i})}),Promise.resolve()},fetch_core_waybill_number_by_partition:function(){var e=this,t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_partition_get_usable_numbers),i=t.parse({partition_identity:this.current_partition.identity,amount:1});axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.core_waybill={number:t.data.usable_numbers[0],material_identity:e.current_partition.material_identity,partition_identity:e.current_partition.identity,is_used:!0,original_number:null,tracking_number:null,sender_company_name:null,sender_address:null,sender_name:null,sender_phone:null,sender_email:null,sender_url:null,sender_fax:null,consignee_company_name:null,consignee_address:null,consignee_name:null,consignee_phone:null,consignee_email:null,consignee_fax:null,temperature:null,goods_name:null,flight_number:null,note:null,note_2:null,note_3:null,serial:1,pieces:1,payment_type:null,measurement:null,weight_in_kilo:null,receipt_file_url:null,is_collected:0,collection:null,collection_fee:0,simplified_declaration_form_fee:0,declaration_form_fee:0,declaration_form_extra_fee:0,tax:0,price:0,insurance:0,material_fee:0,consignee_tax_point:0,sender_tax_point:0,warehouse_fee:0,fuel_surcharge:0,value_added_service_fee:0,overlength_fee:0,overweight_fee:0,extra_fee:0,shipping_date:null,shipping_period:null,shipping_note:null,cvs_store_number:null,cvs_store_name:null,cvs_store_address:null,cvs_store_phone:null,station_code:null,declared_valu:null},e.is_get_core_waybill_number=!0):e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.attributes.core_waybills.number")}))})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.attributes.core_waybills.number")}))})},set_current_partition:function(e){this.current_partition={},this.current_partition=e},create_core_waybill:function(){var e=this,t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_core_waybills_create).parse({});return axios.post(t,this.core_waybill,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){return"success"==t.data.status?(e.$noty.success(e.$t("ui.notifications.success.create__name",{name:e.$t("models.core_waybills")})),e.$router.push({name:"edit_core_waybill",params:{identity:t.data.core_waybill.identity}})):(e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.core_waybills"),reason:": "+t.data.errors})),e.create_core_waybill_error=t.data.errors),Promise.reject(t.data.errors)})}}},EU=AU,zU=(n("a104"),Object(Tt["a"])(EU,PU,SU,!1,null,"b25d36f8",null)),jU=zU.exports,RU=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui segment",attrs:{id:"edit_core_waybill"}},[e.is_initialized?i("CoreWaybill",{attrs:{core_waybill:e.core_waybill,template:"detail",is_auto_print:!1,is_can_update:!0,is_can_print_label:!0,is_show_change_template_btns:!1,detail:{is_show_blood_related:!0,is_show_receipt_file:!0,is_show_partition:!0,is_show_statuses:!0}}}):e._e(),i("Comments",{attrs:{commentable_type:"CoreWaybill",commentable_identity:e.core_waybill.identity,scope:"provider"}})],1)},OU=[];function IU(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function DU(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){IU(a,n,s,r,o,"next",e)}function o(e){IU(a,n,s,r,o,"throw",e)}r(void 0)})}}var LU={name:"EditCoreWaybill",components:{CoreWaybill:uP["a"],Comments:FP},props:{},data:function(){return{is_initialized:!1,is_processing:!1,core_waybill:{},errors:[]}},created:function(){},mounted:function(){this.init()},watch:{$route:function(e,t){"edit_core_waybill"==e.name&&this.init()}},computed:{},methods:{init:function(){var e=DU(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!1,t.is_processing=!1,t.core_waybill={},t.errors=[],e()});case 2:return e.next=4,this.fetch_core_waybill();case 4:return e.next=6,new Promise(function(e){t.$store.state.provider.core_waybills_module.current_core_waybill=t.core_waybill,t.is_initialized=!0});case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_core_waybill:function(){var e=this,t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_core_waybill).parse({core_waybill_identity:this.$route.params.identity});return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.core_waybill=t.data.core_waybill})["catch"](function(t){return e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.core_waybills"),reason:": "+t})),Promise.reject(t)})}}},TU=LU,BU=(n("7a3d"),Object(Tt["a"])(TU,RU,OU,!1,null,"7e9dfd66",null)),MU=BU.exports,UU="station_core_waybills",FU="new_station_core_waybill",YU="edit_station_core_waybill",GU="station_core_waybills_operation",HU=[{path:"",component:CU,name:"station_core_waybills",meta:{api_name:"api_v1_station_core_waybills",breadcrumb:[UU],btns:[FU]}},{path:"new",component:jU,name:"new_station_core_waybill",meta:{api_name:"api_v1_station_core_waybill_create",breadcrumb:[UU,FU]}},{path:"edit/:identity",component:MU,name:"edit_station_core_waybill",meta:{api_name:"api_v1_station_core_waybill_update",breadcrumb:[UU,YU]}},{path:"operation/:operation_number",component:CU,name:"station_core_waybills_operation",meta:{api_name:"api_v1_station_core_waybills",breadcrumb:[UU,GU]}},{path:"operation/:operation_number/edit/:identity",component:MU,name:"edit_station_core_waybill_operation",meta:{api_name:"api_v1_station_core_waybill_update",breadcrumb:[UU,GU,YU]}}],KU=HU,WU=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"operations"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),i("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[i("div"),i("div",{staticClass:"ui segment",style:{width:e.filter.is_advanced_mode?"100%":"auto",margin:0}},[i("FilterHeader",{staticClass:"right floated"}),i("div",{staticClass:"clear"}),i("FilterAdvanced",{staticClass:"ui transition hidden filter"})],1)]),i("div",{staticClass:"ui segment"},[i("table",{staticClass:"ui compact celled table"},[i("thead",{staticClass:"center aligned"},[i("tr",[i("th",[e._v(e._s(e.$t("ui.general.date")))]),i("th",[e._v(e._s(e.$t("models.attributes.operations.number")))]),i("th",[e._v(e._s(e.$t("models.attributes.operations.customer")))]),i("th",[e._v(e._s(e.$t("models.attributes.operations.customer_note")))]),i("th",[e._v(e._s(e.$t("models.attributes.operations.provider_note")))]),i("th",[e._v("\n                        "+e._s(e.$t("ui.pages.operations.table.finish"))+"/\n                        "+e._s(e.$t("ui.pages.operations.table.total"))+"\n                    ")]),i("th",[e._v(e._s(e.$t("models.attributes.operations.status")))]),i("th",[e._v(e._s(e.$t("models.attributes.operations.file_name")))]),i("th",[e._v(e._s(e.$t("ui.general.operate")))])])]),e.is_loading?i("tbody",{staticClass:"center aligned"},[e._m(0)]):i("tbody",[e._l(e.operations,function(e){return i("Operation",{key:e.identity,attrs:{operation:e}})}),e.operations.length<=0?i("tr",{staticClass:"center aligned"},[i("td",{attrs:{colspan:"9"}},[i("h5",[e._v(e._s(e.$t("ui.general.no_data")))])])]):e._e()],2)]),e.operations.length>0?i("Paginator",{attrs:{total_pages:e.pagination.total_pages,current_page:e.pagination.current_page,disabled:e.is_loading}}):e._e()],1)],1)},VU=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"loading"},[i("td",{attrs:{colspan:"9"}},[i("div",{staticClass:"ui active centered inline loader"})])])}],XU=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"filter_advanced"}},[i("div",{staticClass:"ui form",on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$parent.fetch_operations(1)}}},[i("div",{staticClass:"three fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.operations.created_at")))]),i("el-date-picker",{staticStyle:{width:"100%"},attrs:{"unlink-panels":"",type:"daterange",align:"center","start-placeholder":e.$t("ui.el.datepicker.startDate"),"end-placeholder":e.$t("ui.el.datepicker.endDate"),"picker-options":e.$store.state.element_ui_datepicker_daterange_options},model:{value:e.filter.columns.created_duration,callback:function(t){e.$set(e.filter.columns,"created_duration",t)},expression:"filter.columns.created_duration"}})],1),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.operations.number")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.number,expression:"filter.columns.number"}],attrs:{type:"text"},domProps:{value:e.filter.columns.number},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"number",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.operations.customer_identity")))]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection fluid dropdown"},[e._l(e.customers,function(t){return e.filter.columns.customer_identity==t.identity?i("div",{staticClass:"text"},[e._v("\n                        "+e._s(t.company_name)+"\n                    ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.customers,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.columns.customer_identity==t.identity},on:{click:function(i){e.filter.columns.customer_identity=t.identity}}},[e._v("\n                            "+e._s(t.company_name)+"\n                        ")])}))],2)])]),i("div",{staticClass:"four fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.operations.provider_note")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.provider_note,expression:"filter.columns.provider_note"}],attrs:{type:"text"},domProps:{value:e.filter.columns.provider_note},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"provider_note",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.operations.customer_note")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.customer_note,expression:"filter.columns.customer_note"}],attrs:{type:"text"},domProps:{value:e.filter.columns.customer_note},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"customer_note",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.operations.original_file_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.original_file_name,expression:"filter.columns.original_file_name"}],attrs:{type:"text"},domProps:{value:e.filter.columns.original_file_name},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"original_file_name",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.operations.status")))]),i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.is_done,expression:"filter.columns.is_done"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.filter.columns.is_done)?e._i(e.filter.columns.is_done,null)>-1:e.filter.columns.is_done},on:{change:function(t){var i=e.filter.columns.is_done,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=e._i(i,a);n.checked?r<0&&e.$set(e.filter.columns,"is_done",i.concat([a])):r>-1&&e.$set(e.filter.columns,"is_done",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.filter.columns,"is_done",s)}}}),i("label",[e._v(e._s(e.$t("models.attributes.operations.is_done")))])]),i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.is_canceled,expression:"filter.columns.is_canceled"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.filter.columns.is_canceled)?e._i(e.filter.columns.is_canceled,null)>-1:e.filter.columns.is_canceled},on:{change:function(t){var i=e.filter.columns.is_canceled,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=e._i(i,a);n.checked?r<0&&e.$set(e.filter.columns,"is_canceled",i.concat([a])):r>-1&&e.$set(e.filter.columns,"is_canceled",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.filter.columns,"is_canceled",s)}}}),i("label",[e._v(e._s(e.$t("models.attributes.operations.is_canceled")))])])])])]),i("div",{staticClass:"ui icon blue button right floated",on:{click:function(t){e.$parent.fetch_operations(1)}}},[i("i",{staticClass:"search icon"}),e._v("\n        "+e._s(e.$t("ui.general.search"))+"\n    ")]),i("div",{staticClass:"clear"})])},QU=[],ZU={name:"OperationsFilterAdvanced",data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.station.operations_module},filter:function(){return this.current_store.filter},customers:function(){return[{company_name:this.$t("ui.general.please_select"),identity:null}].concat(this.$store.state.station.customers)}},created:function(){},mounted:function(){},watch:{},methods:{},components:{}},JU=ZU,eF=(n("6b93"),Object(Tt["a"])(JU,XU,QU,!1,null,"77dd79e4",null)),tF=eF.exports,iF=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"filter_general"}},[e.filter.is_advanced_mode?e._e():i("div",{staticClass:"ui action input"},["is_done"!=e.filter.current_shortcut_key&&"is_canceled"!=e.filter.current_shortcut_key&&"customer_identity"!=e.filter.current_shortcut_key&&"created_at"!=e.filter.current_shortcut_key?i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns[e.filter.current_shortcut_key],expression:"filter.columns[filter.current_shortcut_key]"}],attrs:{placeholder:e.$t("ui.general.search__key",{key:e.$t("models.attributes.operations."+e.filter.current_shortcut_key)}),type:"text"},domProps:{value:e.filter.columns[e.filter.current_shortcut_key]},on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$parent.fetch_operations(1)},input:function(t){t.target.composing||e.$set(e.filter.columns,e.filter.current_shortcut_key,t.target.value)}}}):"created_at"==e.filter.current_shortcut_key?i("el-date-picker",{staticClass:"right_radius",attrs:{"unlink-panels":"",type:"daterange",align:"center","range-separator":"","start-placeholder":e.$t("ui.el.datepicker.startDate"),"end-placeholder":e.$t("ui.el.datepicker.endDate"),"picker-options":e.$store.state.element_ui_datepicker_daterange_options},model:{value:e.filter.columns.created_duration,callback:function(t){e.$set(e.filter.columns,"created_duration",t)},expression:"filter.columns.created_duration"}}):"customer_identity"==e.filter.current_shortcut_key?i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection fluid dropdown right_radius",staticStyle:{"min-width":"200px"}},[e._l(e.customers,function(t){return e.filter.columns.customer_identity==t.identity?i("div",{staticClass:"text"},[e._v("\n                "+e._s(t.company_name)+"\n            ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.customers,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.columns.customer_identity==t.identity},on:{click:function(i){e.filter.columns.customer_identity=t.identity}}},[e._v("\n                    "+e._s(t.company_name)+"\n                ")])}))],2):e._e(),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection dropdown no_search right_radius",staticStyle:{"min-width":"120px"}},[e._l(e.filter.shortcut_keys,function(t){return e.filter.current_shortcut_key==t?i("div",{staticClass:"text"},[i("span",[e._v("\n                    "+e._s(e.$t("models.attributes.operations."+t))+"\n                ")])]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.filter.shortcut_keys,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.current_shortcut_key==t},on:{click:function(i){e.set_quick_filter(t)}}},[e._v("\n                    "+e._s(e.$t("models.attributes.operations."+t))+"\n                ")])}))],2),i("div",{staticClass:"ui button icon",on:{click:function(t){e.$parent.fetch_operations(1)}}},[i("i",{staticClass:"search icon"})])],1),e.filter.is_advanced_mode?i("div",{staticClass:"ui basic red icon button",on:{click:function(t){e.$store.commit("station/operations_module/init_filter_columns")}}},[i("i",{staticClass:"close icon"}),e._v("\n        "+e._s(e.$t("ui.general.clear"))+"\n    ")]):e._e(),i("div",{staticClass:"ui button icon",style:{height:e.filter.is_advanced_mode?"auto":"38px",paddingTop:e.filter.is_advanced_mode?"":"13px",verticalAlign:e.filter.is_advanced_mode?"":"top",margin:"0 6px"},on:{click:function(t){e.filter.is_advanced_mode=!e.filter.is_advanced_mode}}},[i("i",{staticClass:"bars icon",class:{minus:e.filter.is_advanced_mode,bars:!e.filter.is_advanced_mode}})])])},nF=[],sF={name:"OperationsFilterHeader",data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.station.operations_module},filter:function(){return this.current_store.filter},customers:function(){return[{company_name:this.$t("ui.general.please_select"),identity:null}].concat(this.$store.state.station.customers)}},created:function(){},mounted:function(){},watch:{},methods:{set_quick_filter:function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{this.filter.current_shortcut_key=i,this.filter.columns.created_duration="",_.forEach(this.filter.shortcut_keys,function(e){t.filter.columns[e]=null}),"is_done"==i&&(this.filter.columns.is_done=!0),"is_canceled"==i&&(this.filter.columns.is_canceled=!0)}catch(e){console.log(e)}}},components:{}},aF=sF,rF=(n("c444"),Object(Tt["a"])(aF,iF,nF,!1,null,"37a745ee",null)),oF=rF.exports,cF=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"center aligned"},[i("td",[e._v(" "+e._s(e.human_datetime(e.operation.created_at)))]),i("td",[e._v(" "+e._s(e.operation.number||"-")+" ")]),i("td",[e._v(" "+e._s(e.customer_name||"-")+" ")]),i("td",[e._v(" "+e._s(e.operation.customer_note||"-")+" ")]),i("td",[e._v(" "+e._s(e.operation.provider_note||"-")+" ")]),i("td",{class:{negative:0==e.operation.core_waybills.length,positive:0!=e.operation.core_waybills.length&&e.operation.core_waybills.length==e.done_core_waybills.length}},[e._v("\n        "+e._s(e.done_core_waybills.length)+" / "+e._s(e.operation.core_waybills.length)+"\n    ")]),i("td",[e.operation.is_canceled?i("span",[i("span",[i("i",{staticClass:"stop icon"}),e._v("\n                "+e._s(e.$t("models.attributes.operations.is_canceled"))+"\n                ")])]):e.operation.is_done?i("span",[i("i",{staticClass:"check icon"}),e._v("\n            "+e._s(e.$t("models.attributes.operations.is_done"))+"\n            ")]):i("span",[i("i",{staticClass:"play icon"}),e._v("\n                "+e._s(e.$t("ui.pages.operations.processing"))+"\n                ")])]),i("td",[i("a",{attrs:{href:e.operation.original_file_url}},[e._v(e._s(e.operation.original_file_name))])]),i("td",{staticClass:"center aligned"},[i("router-link",{staticClass:"ui basic primary button",attrs:{to:{name:"edit_station_operation",params:{identity:e.operation.identity}}}},[e._v("\n            "+e._s(e.$t("ui.general.detail"))+"\n        ")])],1)])},_F=[],lF={name:"ProviderOperationsIndexItem",props:{operation:Object},data:function(){return{is_loading:!1}},computed:{customer_name:function(){return this.operation.customer?this.operation.customer.company_name:null},done_core_waybills:function(){return _.filter(this.operation.core_waybills,function(e){return 1==e.is_done})}},created:function(){},mounted:function(){},watch:{},methods:{},components:{}},uF=lF,dF=Object(Tt["a"])(uF,cF,_F,!1,null,null,null),pF=dF.exports;function mF(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function fF(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){mF(a,n,s,r,o,"next",e)}function o(e){mF(a,n,s,r,o,"throw",e)}r(void 0)})}}var hF={name:"OperationsIndex",data:function(){return{is_initialized:!1,is_loading:!1,is_filter_changed:!1,operations:[],errors:[]}},computed:{current_store:function(){return this.$store.state.station.operations_module},pagination:function(){return this.current_store.pagination},filter:function(){return this.current_store.filter}},created:function(){},mounted:function(){this.init(),this.pagination.current_page=1},watch:{$route:{handler:function(e,t){var i=e.query.page;i&&(this.pagination.current_page=Number(i),this.$store.commit("station/operations_module/set_current_page",i),this.fetch_operations())},immediate:!0},filter:{handler:function(e,t){this.is_filter_changed=!0},deep:!0},"filter.is_advanced_mode":function(e){$("#operations .ui.transition.filter").transition(e?"fade down":"hide"),e||this.$store.commit("station/operations_module/init_filter_columns")}},methods:{init:function(){var e=fF(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,this.fetch_operations();case 5:return e.next=7,new Promise(function(e){t.filter.is_advanced_mode&&$("#operations .ui.transition.filter").transition("fade down"),t.is_initialized=!0,e()});case 7:e.next=12;break;case 9:switch(e.prev=9,e.t0=e["catch"](0),e.t0){default:console.log("init error: "),console.log(e.t0)}case 12:return e.prev=12,e.finish(12);case 14:case"end":return e.stop()}},e,this,[[0,9,12,14]])}));function t(){return e.apply(this,arguments)}return t}(),fetch_operations:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(1==t&&(this.pagination.current_page=1,this.$route.query.page=1),0==this.is_loading){this.errors=[],this.is_loading=!0,this.is_filter_changed&&(this.$store.commit("station/operations_module/set_current_page",null),this.is_filter_changed=!1);var i=_.clone(this.filter.columns);i.created_duration&&(i["begin_at"]=this.$moment(i.created_duration[0]).startOf("day").format("YYYY-MM-DDTHH:mm:ss+08:00"),i["end_at"]=this.$moment(i.created_duration[1]).endOf("day").format("YYYY-MM-DDTHH:mm:ss+08:00")),delete i.created_duration;var n=new RestUrl(this.$store.state.station.routes.api_v1_station_operations).parse({},"?"+object_to_query(i)+"&"+object_to_query({page:this.pagination.current_page}));return axios.get(n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"==t.data.status)e.operations=t.data.operations,e.$store.commit("station/operations_module/set_current_page",t.data.pagination.current_page),e.$store.commit("station/operations_module/set_total_pages",t.data.pagination.total_pages);else if("failure"==t.data.status)return Promise.reject(t.data)})["catch"](function(t){if(t.response){switch(t.response.status){default:e.errors.push(t.response.status+" "+t.response.statusText)}e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.operations"),reason:": "+t.response.status+" "+t.response.statusText}))}else t.errors?e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.operations"),reason:": "+t.errors})):(e.errors.push(e.$t("ui.general.server_offline")),e.$noty.error(e.$t("ui.general.server_offline")));return Promise.reject(t)})["finally"](function(){setTimeout(function(){e.is_loading=!1},300)})}}},components:{Operation:pF,Paginator:Ma,ErrorMessages:B_,FilterHeader:oF,FilterAdvanced:tF}},vF=hF,gF=(n("781d"),Object(Tt["a"])(vF,WU,VU,!1,null,"47bc76f0",null)),bF=gF.exports,yF=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"show"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),e._m(0),i("div",{staticClass:"ui horizontal segments"},[i("div",{staticClass:"ui segment"},[i("div",{staticClass:"ui divided items"},[i("div",{staticClass:"item"},[i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("訂單編號")]),i("div",{staticClass:"description"},[e._v("\n                            "+e._s(e.operation.number)+"\n                        ")])])]),i("div",{staticClass:"item"},[i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("建立時間")]),i("div",{staticClass:"description"},[e._v("\n                            "+e._s(e.human_datetime(e.operation.created_at))+"\n                        ")])])]),i("div",{staticClass:"item"},[i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("訂單狀態")]),i("div",{staticClass:"description"},[e.operation.is_done?i("span",[e._v("\n                                "+e._s(e.$t("models.attributes.operations.is_done_true"))+"\n                            ")]):i("span",[e._v("\n                                "+e._s(e.$t("models.attributes.operations.is_done_false"))+"\n                            ")])])])])])]),i("div",{staticClass:"ui segment"},[i("div",{staticClass:"ui divided items"},[i("div",{staticClass:"item"},[i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("訂單編號")]),i("div",{staticClass:"description"},[e._v("\n                            "+e._s(e.operation.number)+"\n                        ")])])]),i("div",{staticClass:"item"},[i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("建立時間")]),i("div",{staticClass:"description"},[e._v("\n                            "+e._s(e.human_datetime(e.operation.created_at))+"\n                        ")])])]),i("div",{staticClass:"item"},[i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("訂單狀態")]),i("div",{staticClass:"description"},[e.operation.is_done?i("span",[e._v("\n                                "+e._s(e.$t("models.attributes.operations.is_done_true"))+"\n                            ")]):i("span",[e._v("\n                                "+e._s(e.$t("models.attributes.operations.is_done_false"))+"\n                            ")])])])])])])]),e.is_initialized?i("div",[e.is_loading?i("div",{staticClass:"ui active centered inline loader"}):e.operation.identity?i("table",{staticClass:"ui fixed table blue"},[i("thead",[i("tr",[i("th",{staticClass:"right aligned",staticStyle:{"text-overflow":"initial"}},[e._v("\n                        "+e._s(e.operation.number)+"\n                    ")]),i("th",{attrs:{colspan:"4"}}),i("th",[e._v("\n                        "+e._s(e.human_datetime(e.operation.created_at))+"\n                    ")])])]),i("tbody",[i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.operations.status"))+"\n                    ")]),i("td",{attrs:{colspan:"5"}},[i("div",{staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.operation.is_done,expression:"operation.is_done"}],attrs:{type:"checkbox",id:"is_done"},domProps:{checked:Array.isArray(e.operation.is_done)?e._i(e.operation.is_done,null)>-1:e.operation.is_done},on:{change:function(t){var i=e.operation.is_done,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=e._i(i,a);n.checked?r<0&&e.$set(e.operation,"is_done",i.concat([a])):r>-1&&e.$set(e.operation,"is_done",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.operation,"is_done",s)}}}),i("label",{staticClass:"pointer",attrs:{for:"is_done"}},[e.operation.is_done?i("span",[e._v("\n                                    "+e._s(e.$t("models.attributes.operations.is_done_true"))+"\n                                ")]):i("span",[e._v("\n                                    "+e._s(e.$t("models.attributes.operations.is_done_false"))+"\n                                ")])])])])]),e.operation.is_canceled?i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        取消原因\n                    ")]),i("td",{staticClass:"ui form",attrs:{colspan:"5"}},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.operation.cancel_reason,expression:"operation.cancel_reason"}],domProps:{value:e.operation.cancel_reason},on:{input:function(t){t.target.composing||e.$set(e.operation,"cancel_reason",t.target.value)}}})])]):e._e(),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("ui.pages.operations.schedule"))+"\n                    ")]),i("td",{attrs:{colspan:"5"}},[i("div",{directives:[{name:"progress",rawName:"v-progress"}],staticClass:"ui indicating progress",attrs:{"data-value":e.done_core_waybills.length,"data-total":e.operation.core_waybills.length}},[e._m(1),i("div",{staticClass:"label"},[e._v(e._s(e.done_core_waybills.length)+" / "+e._s(e.operation.core_waybills.length))])])])]),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.operations.station"))+"\n                    ")]),i("td",{staticClass:"ui form",staticStyle:{overflow:"visible"},attrs:{colspan:"5"}},[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.operation.station_identity,expression:"operation.station_identity"}],ref:"station_identity",staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.operation,"station_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.$store.state.station.stations,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2),i("button",{staticClass:"ui basic icon button",on:{click:function(t){e.operation.station_identity=null,e.$(e.$refs.station_identity).dropdown("clear")}}},[i("i",{staticClass:"remove icon"})])])]),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.operations.staffs"))+"\n                    ")]),i("td",{staticClass:"ui form",staticStyle:{overflow:"visible"},attrs:{colspan:"5"}},[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.operation.staff_identities,expression:"operation.staff_identities"}],ref:"staff_identities",staticClass:"ui dropdown",attrs:{multiple:""},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.operation,"staff_identities",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.$store.state.station.operations_module.staffs,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2),i("button",{staticClass:"ui basic icon button",staticStyle:{"vertical-align":"bottom"},on:{click:function(t){e.operation.staff_identities=null,e.$(e.$refs.staff_identities).dropdown("clear")}}},[i("i",{staticClass:"remove icon"})])])]),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.operations.your_note"))+"\n                    ")]),i("td",{staticClass:"ui form",attrs:{colspan:"5"}},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.operation.provider_note,expression:"operation.provider_note"}],domProps:{value:e.operation.provider_note},on:{input:function(t){t.target.composing||e.$set(e.operation,"provider_note",t.target.value)}}})])]),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.operations.customer"))+"\n                    ")]),i("td",{staticClass:"ui form",staticStyle:{overflow:"visible"},attrs:{colspan:"5"}},[i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],ref:"customer_identity",staticClass:"ui selection dropdown"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.operation.customer_identity,expression:"operation.customer_identity"}],attrs:{type:"hidden"},domProps:{value:e.operation.customer_identity},on:{input:function(t){t.target.composing||e.$set(e.operation,"customer_identity",t.target.value)}}}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"default text"},[e._v("\n                                "+e._s(e.$t("ui.general.please_select"))+"\n                            ")]),i("div",{staticClass:"menu"},e._l(e.customers,function(t){return i("div",{staticClass:"item",attrs:{"data-value":t.identity},on:{click:function(i){e.selected_customer=t,e.operation.customer_identity=t.identity,e.operation.contract_identity=t.contracts[0].identity}}},[e._v("\n                                        "+e._s(t.company_name)+"\n                                ")])}))]),e.selected_customer?i("div",{staticStyle:{display:"inline-block"}},[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.operation.contract_identity,expression:"operation.contract_identity"}],on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.operation,"contract_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v("\n                                    "+e._s(e.$t("ui.general.please_select"))+"\n                                    "),e._v("\n                                    "+e._s(e.$t("ui.pages.operations.contract"))+"\n                                ")]),e._l(e.selected_customer.contracts,function(t){return i("option",{attrs:{contract:t},domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2)]):e._e(),i("button",{staticClass:"ui basic icon button",on:{click:function(t){e.selected_customer=null,e.operation.customer_identity=null,e.operation.contract_identity=null,e.$(e.$refs.customer_identity).dropdown("clear")}}},[i("i",{staticClass:"remove icon"})])])]),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.operations.customer_note"))+"\n                    ")]),i("td",{attrs:{colspan:"5"}},[e._v("\n                        "+e._s(e.operation.customer_note||"-")+"\n                    ")])]),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.operations.file"))+"\n                    ")]),i("td",{attrs:{colspan:"5"}},[i("a",{attrs:{href:e.operation.original_file_url}},[e._v(e._s(e.operation.original_file_name))])])]),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("ui.pages.operations.print_coew_waybill_labels"))+"\n                    ")]),i("td",{staticStyle:{overflow:"visible"},attrs:{colspan:"5"}},[i("CoreWaybillsLabelSvg",{attrs:{numbers:e.dot_separated_numbers,authentication_token:e.token,scope:"provider",channel:e.print_label_channel,is_show_input:!1}})],1)]),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("ui.pages.operations.print_coew_waybill_checklist"))+"\n                    ")]),i("td",{attrs:{colspan:"5"}},[i("OrderSummary",{attrs:{channel_name:"my_order_summaray",default_search_params:{pagination:!1,operation:{identity:e.operation.identity}},title:e.$t("ui.pages.operations._name_operation_list",{name:e.$store.state.station.current_node.company_short_name}),sub_title:e.$store.state.station.current_node.website_url,customer_service_hotline:e.$store.state.station.current_node.customer_service_hotline,logistician:{name:"9999999 配送人員"},logo_url:"/images/"+e.$store.state.station.current_node.company_en_name.replace(/(?:^|\.|\s?)([A-Z])/g,function(e,t){return"_"+t.toLowerCase()}).replace(/^_/,"")+"_logo.jpg",show_buttons:!0,show_contents:!1,scope:"provider"}})],1)]),e.show_receipts?i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("ui.pages.operations.print_receipt"))+"\n                    ")]),i("td",{attrs:{colspan:"5"}},[i("Receipts",{staticStyle:{display:"inline-block"},attrs:{show_buttons:!0,default_search_params:{operation_identity:e.operation.identity,pagination:!1,materials:"Waybill"},logo_url:"/images/"+e.current_node.company_en_name.replace(/(?:^|\.|\s?)([A-Z])/g,function(e,t){return"_"+t.toLowerCase()}).replace(/^_/,"")+"_logo.jpg",title:e.$t("ui.pages.operations._name_customer_receipt",{name:e.current_node.company_short_name}),sub_title:e.current_node.website_url,customer_service_hotline:e.current_node.customer_service_hotline,logistician:e.current_staff,location:""}})],1)]):e._e(),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("ui.general.operate"))+"\n                    ")]),i("td",{attrs:{colspan:"5"}},[i("button",{staticClass:"ui basic positive button",on:{click:function(t){t.preventDefault(),e.update_operation()}}},[e._v("\n                            "+e._s(e.$t("ui.general.update"))+"\n                        ")]),i("button",{staticClass:"ui basic negative button",on:{click:function(t){t.preventDefault(),e.delete_operation()}}},[e._v("\n                            "+e._s(e.$t("ui.general.delete"))+"\n                        ")])])]),i("tr",[i("td",{staticClass:"x_scrollable",attrs:{colspan:"6"}},[i("CoreWaybills",{attrs:{default_search_params:{operation_identity:e.operation.identity,include_is_deleted:!0},scope:"provider",show_delete_button:!0,show_update_button:!0,show_export_csv_button:!0,csv_file_name:e.operation.number,columns:e.core_waybill_columns,updater_columns:e.updater_columns}})],1)])])]):e._e(),e.operation.identity?i("div",{staticClass:"ui segment"},[i("Comments",{attrs:{commentable_type:"Operation",commentable_identity:e.operation.identity,scope:"provider"}})],1):e._e()]):i("div",{staticClass:"ui active inverted dimmer"},[i("div",{staticClass:"ui text loader"},[e._v(e._s(e.$t("ui.general.initializing")))])])],1)},wF=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"user icon"}),e._v("訂單內容")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"bar"},[i("div",{staticClass:"progress"})])}];function $F(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function kF(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){$F(a,n,s,r,o,"next",e)}function o(e){$F(a,n,s,r,o,"throw",e)}r(void 0)})}}var xF={name:"EditOperation",props:{},data:function(){return{is_initialized:!1,is_loading:!1,operation:{},selected_customer:null,errors:[],print_label_channel:"operation_print_label_channel",core_waybill_columns:[{input_type:"materials",display_type:"material",name:"materials",human_name:this.$t("models.materials")},{input_type:"text",display_type:"text",name:"number",human_name:this.$t("models.attributes.core_waybills.number")},{input_type:"text",display_type:"text",name:"original_number",human_name:this.$t("models.attributes.core_waybills.original_number")},{input_type:"text",display_type:"text",name:"tracking_number",human_name:this.$t("models.attributes.core_waybills.tracking_number")},{input_type:"text",display_type:"text",name:"sender_name",human_name:this.$t("models.attributes.core_waybills.sender_name")},{input_type:"text",display_type:"text",name:"consignee_name",human_name:this.$t("models.attributes.core_waybills.consignee_name")},{input_type:"text",display_type:"text",name:"consignee_phone",human_name:this.$t("models.attributes.core_waybills.consignee_phone")},{input_type:"number",display_type:"text",name:"weight_in_kilo",human_name:this.$t("models.attributes.core_waybills.weight_in_kilo")},{input_type:"number",display_type:"text",name:"collection",human_name:this.$t("models.attributes.core_waybills.collection")},{input_type:null,display_type:"status",name:"latest_status",human_name:this.$t("models.attributes.core_waybills.latest_status")},{input_type:"checkbox",display_type:"boolean",name:"is_done",human_name:this.$t("ui.pages.core_waybills.done"),default_value:!1}],updater_columns:[{toggle:!1,header_text:this.$t("models.attributes.core_waybills.original_number"),attribute_name:"original_number",type:"text"},{toggle:!1,header_text:this.$t("models.attributes.core_waybills.tracking_number"),attribute_name:"tracking_number",type:"text"},{toggle:!1,header_text:this.$t("models.attributes.core_waybills.sender_name"),attribute_name:"sender_name",type:"text"},{toggle:!1,header_text:this.$t("models.attributes.core_waybills.sender_address"),attribute_name:"sender_address",type:"text"},{toggle:!1,header_text:this.$t("models.attributes.core_waybills.sender_phone"),attribute_name:"sender_phone",type:"text"},{toggle:!1,header_text:this.$t("models.attributes.core_waybills.consignee_name"),attribute_name:"consignee_name",type:"text"},{toggle:!1,header_text:this.$t("models.attributes.core_waybills.consignee_address"),attribute_name:"consignee_address",type:"text"},{toggle:!1,header_text:this.$t("models.attributes.core_waybills.consignee_phone"),attribute_name:"consignee_phone",type:"text"},{toggle:!1,header_text:this.$t("models.attributes.core_waybills.weight_in_kilo"),attribute_name:"weight_in_kilo",type:"number"},{toggle:!1,header_text:this.$t("models.attributes.core_waybills.collection"),attribute_name:"collection",type:"number"}]}},watch:{$route:function(e,t){e!=t&&this.init()}},created:function(){this.init()},mounted:function(){},computed:{material_grouped_core_waybills:function(){return _.groupBy(this.operation.core_waybills,"material.class_name")},dot_separated_numbers:function(){return _.map(this.material_grouped_core_waybills.Waybill,"number").toString()+","+_.map(this.material_grouped_core_waybills.Goods,"number").toString()},token:function(){return localStorage.getItem("authentication_token")},customers:function(){return this.$store.state.station.customers},node:function(){return this.$store.state.station.node},current_staff:function(){return this.$store.state.station.current_staff},done_core_waybills:function(){return _.filter(this.operation.core_waybills,function(e){return 1==e.is_done})},current_service_name:function(){return this.$store.state.station.current_node.service_name},show_receipts:function(){return["neuron","neuron_premium"].includes(this.current_service_name)}},methods:{init:function(){var e=kF(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,this.fetch_operation();case 5:return e.next=7,new Promise(function(e){t.operation.customer_identity&&(t.selected_customer=_.find(t.customers,function(e){return e.identity==t.operation.customer_identity})),e()});case 7:return e.next=9,new Promise(function(e){t.is_initialized=!0,e()});case 9:e.next=14;break;case 11:switch(e.prev=11,e.t0=e["catch"](0),e.t0){default:console.log("init error: "),console.log(e.t0)}case 14:return e.prev=14,e.finish(14);case 16:case"end":return e.stop()}},e,this,[[0,11,14,16]])}));function t(){return e.apply(this,arguments)}return t}(),fetch_operation:function(){var e=this;this.is_loading=!0;var t=new RestUrl(this.$store.state.station.routes.api_v1_station_operation).parse({operation_identity:this.$route.params.identity});return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"==t.data.status)e.operation=t.data.operation;else if("failure"==t.data.status)return Promise.reject(t.data)})["catch"](function(t){if(t.response){switch(t.response.status){default:e.errors.push(t.response.status+" "+t.response.statusText)}e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.operations"),reason:": "+t.response.status+" "+t.response.statusText}))}else t.errors?(e.errors.push(t.errors),e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.operations"),reason:": "+t.errors}))):(e.errors.push(e.$t("ui.general.server_offline")),e.$noty.error(e.$t("ui.general.server_offline")))})["finally"](function(){e.is_loading=!1})},update_operation:function(){var e=this;this.is_loading=!0;var t=new RestUrl(this.$store.state.station.routes.api_v1_station_operation_update).parse({operation_identity:this.$route.params.identity}),i=this.operation;delete i["identity"],delete i["number"],delete i["created_at"],delete i["file_name"],delete i["file_url"],delete i["customer_note"],delete i["instantiate_note"],delete i["is_instantiated"],delete i["is_operable"],delete i["is_operated"],delete i["is_ready"],delete i["core_waybills"],delete i["customer_node"],delete i["station"],delete i["staffs"],delete i["operation_identity"],axios.post(t,i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.init(),e.$noty.success(e.$t("ui.notifications.success.create__name",{name:e.$t("models.operations")}))):(e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.operations"),reason:": "+t.data.errors})),e.errors=t.data.errors)})["catch"](function(t){console.log(t),t.response?e.$noty.error(e.$t("ui.general.network_abnormality")+": "+t.response.status+t.response.data):e.$noty.error(e.$t("ui.general.network_abnormality")+": "+e.$t("ui.general.server_offline"))})["finally"](function(){e.is_loading=!1})},delete_operation:function(){var e=this;if(confirm(this.$t("ui.pages.operations.delete_help")+"\n"+this.$t("ui.notifications.warning.are_you_sure_to_delete_it"))){this.is_loading=!0;var t=new RestUrl(this.$store.state.station.routes.api_v1_station_operation_delete).parse({operation_identity:this.$route.params.identity});axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return Promise.reject(t.data);e.$router.push({name:"provider_operations"}),e.$noty.success(e.$t("ui.notifications.success.delete__name",{name:e.$t("models.operations")}))})["catch"](function(t){if(t.response){switch(t.response.status){default:e.errors.push(t.response.status+" "+t.response.statusText)}e.$noty.error(e.$t("ui.notifications.error.delete__name",{name:e.$t("models.operations"),reason:": "+t.response.status+" "+t.response.statusText}))}else t.errors?(e.$noty.error(e.$t("ui.notifications.error.delete__name",{name:e.$t("models.operations"),reason:": "+response.data.errors})),e.errors=response.data.errors):(e.errors.push(e.$t("ui.general.server_offline")),e.$noty.error(e.$t("ui.general.server_offline")));return Promise.reject(t)})["finally"](function(){setTimeout(function(){e.is_loading=!1},300)})}}},components:{CoreWaybillsLabelSvg:Zc,OrderSummary:ic,Comments:FP,Receipts:Wo["a"],CoreWaybills:gq,ErrorMessages:B_}},CF=xF,PF=Object(Tt["a"])(CF,yF,wF,!1,null,"2ce50ff6",null),SF=PF.exports,NF=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"new_operation"}},[e.is_initialized?i("div",[i("table",{staticClass:"ui fixed table blue"},[i("thead",[i("tr",[i("th",{staticClass:"right aligned"},[i("h3",{staticClass:"ui header"},[e._v("\n                            "+e._s(e.$t("ui.page_titles.new_station_operation"))+"\n                        ")])]),i("th",{attrs:{colspan:"4"}}),i("th")])]),i("tbody",{staticClass:"ui form"},[i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.operations.customer"))+"\n                    ")]),i("td",{staticStyle:{overflow:"visible"},attrs:{colspan:"5"}},[i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],ref:"customer_identity",staticClass:"ui selection dropdown"},[i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"default text"},[e._v(e._s(e.$t("ui.general.please_select")))]),i("div",{staticClass:"menu"},e._l(e.customers,function(t){return i("div",{staticClass:"item",on:{click:function(i){e.selected_customer=t,e.operation.customer_identity=t.identity,e.operation.contract_identity=t.contracts[0].identity}}},[e._v("\n                                        "+e._s(t.company_name)+"\n                                ")])}))]),e.selected_customer?i("div",{staticStyle:{display:"inline-block"}},[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.operation.contract_identity,expression:"operation.contract_identity"}],on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.operation,"contract_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.selected_customer.contracts,function(t){return i("option",{attrs:{contract:t},domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2)]):e._e(),i("button",{staticClass:"ui basic icon button",on:{click:function(t){e.selected_customer=null,e.operation.customer_identity=null,e.operation.contract_identity=null,e.$(e.$refs.customer_identity).dropdown("clear")}}},[i("i",{staticClass:"remove icon"})])])]),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.operations.station"))+"\n                    ")]),i("td",{staticStyle:{overflow:"visible"},attrs:{colspan:"5"}},[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.operation.station_identity,expression:"operation.station_identity"}],ref:"station_identity",staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.operation,"station_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v("\n                                "+e._s(e.$t("ui.general.please_select"))+"\n                            ")]),e._l(e.$store.state.station.stations,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2),i("button",{staticClass:"ui basic icon button",on:{click:function(t){e.operation.station_identity=null,e.$(e.$refs.station_identity).dropdown("clear")}}},[i("i",{staticClass:"remove icon"})])])]),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.operations.staffs"))+"\n                    ")]),i("td",{staticStyle:{overflow:"visible"},attrs:{colspan:"5"}},[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.operation.staff_identities,expression:"operation.staff_identities"}],ref:"staff_identities",staticClass:"ui dropdown",attrs:{multiple:""},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.operation,"staff_identities",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.$store.state.station.operations_module.staffs,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2),i("button",{staticClass:"ui basic icon button",staticStyle:{"vertical-align":"bottom"},on:{click:function(t){e.operation.staff_identities=null,e.$(e.$refs.staff_identities).dropdown("clear")}}},[i("i",{staticClass:"remove icon"})])])]),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.operations.your_note"))+"\n                    ")]),i("td",{staticStyle:{overflow:"visible"},attrs:{colspan:"5"}},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.operation.provider_note,expression:"operation.provider_note"}],attrs:{type:"text",placeholder:e.$t("models.attributes.operations.provider_note")},domProps:{value:e.operation.provider_note},on:{input:function(t){t.target.composing||e.$set(e.operation,"provider_note",t.target.value)}}})])]),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("ui.general.operate"))+"\n                    ")]),i("td",{staticStyle:{overflow:"visible"},attrs:{colspan:"5"}},[i("button",{staticClass:"ui basic positive button",on:{click:function(t){return t.preventDefault(),e.create(t)}}},[e._v("\n                            "+e._s(e.$t("ui.general.create"))+"\n                        ")])])])])])]):e._e()])},qF=[];function AF(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function EF(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){AF(a,n,s,r,o,"next",e)}function o(e){AF(a,n,s,r,o,"throw",e)}r(void 0)})}}var zF={name:"NewOperation",props:{},data:function(){return{is_initialized:!1,is_processing:!1,operation:{},selected_customer:null,errors:[]}},created:function(){this.init()},mounted:function(){},watch:{$route:function(e,t){"new_operation"==e.name&&this.init()},language:function(e){this.operation.provider_note=this.$t("ui.pages.operations.provider_note_value")}},computed:{language:function(){return this.$store.state.language},customers:function(){return this.$store.state.station.customers}},methods:{init:function(){var e=EF(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!1,t.is_processing=!1,t.operation={provider_note:t.$t("ui.pages.operations.provider_note_value"),staff_identities:[],customer_identity:null,contract_identity:null},t.selected_customer=null,t.errors=[],e()});case 2:return e.next=4,new Promise(function(e){t.is_initialized=!0,e()});case 4:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),create:function(){var e=this;if(null==this.operation.customer_identity||this.operation.customer_identity&&this.operation.contract_identity){this.is_processing=!0,this.errors=[];var t=this.operation,i=new RestUrl(this.$store.state.station.routes.api_v1_station_operations_create).parse({},"");return axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.is_processing=!1,e.$noty.success(e.$t("ui.notifications.success.create__name",{name:e.$t("models.operations")})),e.$router.push({name:"edit_station_operation",params:{identity:t.data.operation.identity}})):(e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.operations")})),e.is_processing=!1)})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.operations")})),e.is_processing=!1})}this.$noty.error(this.$t("ui.pages.operations.helps.please_confirm_sender_and_contract_are_selected"))}},components:{}},jF=zF,RF=Object(Tt["a"])(jF,NF,qF,!1,null,"4db016d2",null),OF=RF.exports,IF="station_operations",DF="new_station_operation",LF="edit_station_operation",TF=[{path:"",component:bF,name:"station_operations",meta:{breadcrumb:[IF],btns:[DF]}},{path:"new",component:OF,name:"new_station_operation",meta:{breadcrumb:[IF,DF]}},{path:"edit/:identity",component:SF,name:"edit_station_operation",meta:{breadcrumb:[IF,LF]}}],BF=TF;a["default"].use(Rt["a"]);var MF=[{path:"partitions",component:xD,children:PL},{path:"uploader",component:NM,children:tU},{path:"staffs",component:RL,children:CT},{path:"core_waybills",component:IM,children:KU},{path:"operations",component:YM,children:BF},{path:"customers",component:jT,children:yM},{path:"routes",component:h_,name:"routes"},{path:"permission_denied",component:Hg,name:"permission_denied"},{path:"demo",component:hD,name:"station_demo"},{path:":station_code?",component:rD,name:"station_index"}],UF=MF;a["default"].use(Rt["a"]);var FF=new Rt["a"]({mode:"history",routes:[{path:"/admin",component:bi,children:Ys},{path:"/provider",component:Ci,children:yR},{path:"/customer",component:On,children:eD},{path:"/station",component:Mn,children:UF},{path:"*",component:Mt,name:"page_404"}]}),YF=FF,GF=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[e.license_key&&e.current_scope||"electron"!=e.build_env?i("div",[i("router-view",{staticClass:"app-container"}),i("ImagePrinter"),i("DocumentPrinter",{attrs:{width:e.document_printer_options.width,documents:e.document_printer_options.documents,paper_type:e.document_printer_options.paper_type,numbers_of_one_page:e.document_printer_options.numbers_of_one_page}})],1):i("div",[e.current_scope?i("div",[i("h1",{staticClass:"setup_header"},[e._v("請輸入您的LMS授權碼：")]),i("div",{staticClass:"license_key_container"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.new_license_key,expression:"new_license_key"}],staticClass:"license_key_input",attrs:{type:"text"},domProps:{value:e.new_license_key},on:{input:function(t){t.target.composing||(e.new_license_key=t.target.value)}}}),i("a",{staticClass:"license_key_submit",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.set_license_key()}}},[e._v("送出")])])]):i("div",[i("h1",{staticClass:"setup_header"},[e._v("請選擇介面：")]),i("div",{staticClass:"scope_selector"},[i("a",{staticClass:"scope_selection",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.set_current_scope("station")}}},[e._v("外站")]),i("a",{staticClass:"scope_selection",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.set_current_scope("customer")}}},[e._v("客戶")]),i("a",{staticClass:"scope_selection",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.set_current_scope("provider")}}},[e._v("系統")])])])])])},HF=[],KF=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"print",style:{width:e.paper_width+"mm",overflowX:"hidden"},attrs:{id:"image-printer"}},e._l(e.current_job.images,function(t,n){return i("div",{staticClass:"left-floated"},[i("img",{attrs:{src:t.src,alt:t.name},on:{error:function(t){e.image_loaded(n)},load:function(t){e.image_loaded(n)}}}),(n+1)%e.current_job.numbers_of_one_page==0?i("div",{staticStyle:{float:"none","page-break-before":"always",clear:"both","break-after":"always","page-break-after":"always",padding:"0",margin:"0"}}):e._e()])}))},WF=[];function VF(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function XF(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){VF(a,n,s,r,o,"next",e)}function o(e){VF(a,n,s,r,o,"throw",e)}r(void 0)})}}var QF={name:"ImagePrinter",props:{},data:function(){return{job_template:{note:"Print Job",images:[],numbers_of_one_page:1,paper_type:"A4",width:210,is_image_loaded:!1,status:"Pending"},jobs:[],current_job:{},perform_interval:null,is_printing:!1}},mounted:function(){var e=this;this.$bus.$off("add_image_print_job"),this.$bus.$on("add_image_print_job",function(t){var i=_.cloneDeep(e.job_template);Object.assign(i,t),console.log("job_template"),console.log(i),e.jobs.push(i),e.perform()}),this.start_perform_interval()},beforeDestroy:function(){clearInterval(this.perform_interval),this.perform_interval=null},watch:{current_job:function(e){e&&this.handle_print()}},computed:{paper_width:function(){switch(this.current_job.paper_type){case"60x20":e=60;break;case"100x100":e=100;break;case"A4":e=210;break;case"A5":e=210;break;default:var e=this.current_job.paper_type}return e}},methods:{start_perform_interval:function(){var e=this;this.perform_interval=setInterval(function(){e.perform()},1e3)},url_with_timestamp:function(e){var t=new RestUrl(e);return t.update_query_string("v",Math.floor(Date.now()))},perform:function(){var e=XF(regeneratorRuntime.mark(function e(){var t,i,n,s,a,r,o=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=!0,i=!1,n=void 0,e.prev=3,s=regeneratorRuntime.mark(function e(){var t,i,n,s,a,c,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=r.value,!_.isEmpty(o.current_job)){e.next=29;break}i=!0,n=!1,s=void 0,e.prev=5,a=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=l.value,e.next=3,new Promise(function(e){var i=new Image;i.onload=function(){e()},i.src=t.src});case 3:case"end":return e.stop()}},e)}),c=t.images[Symbol.iterator]();case 8:if(i=(l=c.next()).done){e.next=13;break}return e.delegateYield(a(),"t0",10);case 10:i=!0,e.next=8;break;case 13:e.next=19;break;case 15:e.prev=15,e.t1=e["catch"](5),n=!0,s=e.t1;case 19:e.prev=19,e.prev=20,i||null==c["return"]||c["return"]();case 22:if(e.prev=22,!n){e.next=25;break}throw s;case 25:return e.finish(22);case 26:return e.finish(19);case 27:return e.next=29,new Promise(function(e){o.current_job=t,o.current_job.status="Processing",0==o.current_job.images.length&&(o.current_job.is_image_loaded=!0),e()});case 29:case"end":return e.stop()}},e,null,[[5,15,19,27],[20,,22,26]])}),a=_.filter(this.jobs,function(e){return"Pending"==e.status})[Symbol.iterator]();case 6:if(t=(r=a.next()).done){e.next=11;break}return e.delegateYield(s(),"t0",8);case 8:t=!0,e.next=6;break;case 11:e.next=17;break;case 13:e.prev=13,e.t1=e["catch"](3),i=!0,n=e.t1;case 17:e.prev=17,e.prev=18,t||null==a["return"]||a["return"]();case 20:if(e.prev=20,!i){e.next=23;break}throw n;case 23:return e.finish(20);case 24:return e.finish(17);case 25:case"end":return e.stop()}},e,this,[[3,13,17,25],[18,,20,24]])}));function t(){return e.apply(this,arguments)}return t}(),image_loaded:function(e){var t=this;_.isEmpty(this.current_job)||(this.current_job.images[e].is_loaded=!0,this.current_job.is_image_loaded=_.filter(this.current_job.images,function(e){return e.is_loaded}).length==this.current_job.images.length,this.$nextTick(function(){t.handle_print()}))},handle_print:function(){var e=this;if(this.current_job.is_image_loaded)if(console.log(this.current_job),console.log("print"),this.current_job.status="Printing","electron"==ENV.VUE_APP_BUILD_ENV){var t=BrowserWindow.getFocusedWindow().webContents;this.is_printing||(this.is_printing=!0,t.print({silent:!0},function(){console.log("finish"),e.finish()}))}else this.is_printing||(this.is_printing=!0,window.print()),this.finish()},finish:function(){this.current_job.status="Done",this.current_job={},this.is_printing=!1,this.$bus.$emit("print_done_signal"),this.perform()}},components:{}},ZF=QF,JF=(n("9b3c"),Object(Tt["a"])(ZF,KF,WF,!1,null,"d762d850",null)),eY=JF.exports,tY=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.print_trigger?i("div",{staticClass:"print",style:{width:e.paper_width+"mm",overflowX:"hidden"},attrs:{id:"document-printer"}},e._l(e.documents,function(t,n){return i("div",{staticClass:"left-floated"},[i("span",{domProps:{innerHTML:e._s(t.html)}}),(n+1)%e.numbers_of_one_page==0?i("div",{staticStyle:{clear:"both","break-after":"always","page-break-after":"always",padding:"0",margin:"0"}}):e._e()])})):e._e()},iY=[],nY={name:"DocumentPrinter",props:{width:{default:210,type:Number},paper_type:{default:"A4",type:String},numbers_of_one_page:{default:1,type:Number},documents:Array},data:function(){return{print_trigger:!1}},mounted:function(){var e=this;this.$bus.$off("print_document"),this.$bus.$on("print_document",function(){e.print_trigger=!1,e.print_trigger=!0}),this.$bus.$on("cancel_print_document",function(){e.print_trigger=!1}),this.$nextTick(function(){e.handle_print()})},watch:{print_trigger:function(){var e=this;this.$nextTick(function(){e.handle_print()})}},computed:{paper_width:function(){switch(this.paper_type){case"100x100":e=100;break;case"A4":e=210;break;case"A5":e=210;break;default:var e=this.paper_type}return e}},methods:{handle_print:function(){if(this.print_trigger)if(this.print_trigger=!1,"electron"==ENV.VUE_APP_BUILD_ENV){var e=BrowserWindow.getFocusedWindow().webContents;e.print({silent:!0})}else window.print()}},components:{}},sY=nY,aY=(n("3328"),Object(Tt["a"])(sY,tY,iY,!1,null,"1512abe1",null)),rY=aY.exports,oY={data:function(){return{image_printer_options:{width:210,images:[],paper_type:"A4",numbers_of_one_page:6},document_printer_options:{width:210,documents:[],paper_type:"A4",numbers_of_one_page:6},license_key_websock_server:null,current_scope_websock_server:null,new_license_key:"",license_key:window.LICENSE_KEY,current_scope:window.CURRENT_SCOPE}},computed:{build_env:function(){return ENV.VUE_APP_BUILD_ENV}},mounted:function(){var e=this;"electron"==this.build_env&&(this.current_scope_websock_server=new WebSocket("ws://127.0.0.1:8899/current_scope"),this.current_scope_websock_server.onmessage=function(t){return e.current_scope=t,!1},this.current_scope_websock_server.onclose=function(){console.log("WebSocket on current_scope disconnect")},this.current_scope_websock_server.onopen=function(){console.log("WebSocket on current_scope opened")},this.current_scope_websock_server.onerror=function(e){console.log("WebSocket on current_scope error")},this.license_key_websock_server=new WebSocket("ws://127.0.0.1:8899/license_key"),this.license_key_websock_server.onmessage=function(t){return e.license_key=t,!1},this.license_key_websock_server.onclose=function(){console.log("WebSocket on license_key disconnect")},this.license_key_websock_server.onopen=function(){console.log("WebSocket on license_key opened")},this.license_key_websock_server.onerror=function(e){console.log("WebSocket on license_key error")}),this.$bus.$off("out_of_date"),this.$bus.$on("out_of_date",function(t,i){axios.get(e.$store.state.settings.out_of_date_url+"?exclude_instance="+t+"&scope="+i)})},watch:{},methods:{set_current_scope:function(e){e&&this.current_scope_websock_server.send(e)},set_license_key:function(){this.new_license_key&&this.license_key_websock_server.send(this.new_license_key)}},components:{ImagePrinter:eY,DocumentPrinter:rY}},cY=oY,_Y=(n("6294"),Object(Tt["a"])(cY,GF,HF,!1,null,null,null)),lY=_Y.exports,uY=n("a925");a["default"].use(uY["a"]);var dY=new uY["a"]({locale:"zh-TW",messages:{"zh-TW":n("f76b"),"zh-CN":n("bced"),"en-US":n("d8b6"),"ja-JP":n("dc88"),"es-ES":n("0794"),"vi-VN":n("047f")}}),pY=dY,mY=n("0a63"),fY=n.n(mY),hY=n("b047"),vY=n.n(hY),gY=n("f5ee"),bY=n.n(gY),yY=n("5c96"),wY=n("4897"),$Y=n.n(wY);n("e625"),n("c4ca"),n("0fae");function kY(e){return kY="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kY(e)}(function(e,t,i,n,s,a,r){e["GoogleAnalyticsObject"]=s,e[s]=e[s]||function(){(e[s].q=e[s].q||[]).push(arguments)},e[s].l=1*new Date,a=t.createElement(i),r=t.getElementsByTagName(i)[0],a.async=1,a.src=n,r.parentNode.insertBefore(a,r)})(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-79546588-10","auto"),ga("set","location",window.location.href),ga("send","pageview"),window.ENV=Object({NODE_ENV:"production",VUE_APP_BUILD_ENV:"development",VUE_APP_LMS_VERSION:"v1.0.0",VUE_APP_NEURON_VERSION:"v1.0.3",VUE_APP_FIRST_NODE_IDENTITY:"dd157880b7-28036-39768292",VUE_APP_SECOND_NODE_IDENTITY:"7cb0625c16-28036-39768292",BASE_URL:"/"}),window.axios=n("bc3a"),window.config=n("a078"),window.$=window.jQuery=n("1157"),n("dcca"),n("ac11"),window.Noty=n("7329"),window._=n("2ef0"),window.RestUrl=n("812b"),a["default"].config.productionTip=!0,a["default"].config.debug=!0,a["default"].config.devtools=!0,Object(s["sync"])(jt,YF),a["default"].use(vY.a,T.a),a["default"].use(fY.a),a["default"].use(yY["DatePicker"]),$Y.a.i18n(function(e,t){return pY.t("ui."+e,t)});var xY=new config;a["default"].prototype.$cable=bY.a.createConsumer(xY.action_cable_url+"/cable"),window.object_to_query=function(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=[],s="";for(var a in e)if(e.hasOwnProperty(a))if("object"===kY(e[a]))s=i?i+"["+a+"]":a,t=object_to_query(e[a],s),t&&n.push(t);else{var r=i?i+"["+encodeURIComponent(a)+"]=":encodeURIComponent(a)+"=";null!=e[a]&&""!==e[a]&&n.push(r+encodeURIComponent(e[a]))}return!!n.length&&n.join("&")},window.object_delete_null=function(e){return Object.keys(e).forEach(function(t){e[t]&&"object"===kY(e[t])?object_delete_null(e[t]):null==e[t]&&delete e[t]}),Object.keys(e).forEach(function(t){(0==Object.keys(e[t]).length&&"object"===kY(e[t])||""===e[t])&&delete e[t]}),e},window.date_to_start=function(e){return T()(e).startOf("day").format("YYYY-MM-DDTHH:mm:ss"+get_time_zone())},window.date_to_end=function(e){return T()(e).endOf("day").format("YYYY-MM-DDTHH:mm:ss"+get_time_zone())},window.get_time_zone=function(){var e=localStorage.language||"zh-tw";switch(e){case"zh-tw":return"+08:00";default:return"+08:00"}},document.addEventListener("DOMContentLoaded",function(){Noty.overrideDefaults({layout:"bottomRight",theme:"semanticui",timeout:1500,closeWith:["click","button"],animation:{open:"noty_effects_open",close:"noty_effects_close"}}),a["default"].prototype.$noty=new Object,a["default"].prototype.$noty.success=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1500;new Noty({type:"success",text:e,timeout:t}).show()},a["default"].prototype.$noty.error=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1500;new Noty({type:"error",text:e,timeout:t}).show()},a["default"].prototype.$noty.warning=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1500;new Noty({type:"warning",text:e,timeout:t}).show()},a["default"].prototype.$noty.information=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1500;new Noty({type:"information",text:e,timeout:t}).show()},a["default"].prototype.human_datetime=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"lll",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"absolute",n=this.$store.state.language||"zh-tw";switch(e){case"today":return T()().locale(n).format(t);default:switch(i){case"absolute":return T()(e).locale(n).format(t);case"relative":return T()(e).locale(n).fromNow()}}},a["default"].prototype.$=jQuery,a["default"].prototype._=_,a["default"].directive("font",{inserted:function(e){setTimeout(function(){$(e).attr("style","font-size: 10px !important")},300)}}),a["default"].directive("dropdown",{inserted:function(e){e.className.includes("no_search")||$(e).addClass("search"),setTimeout(function(){$(e).dropdown()},300)}}),a["default"].directive("popup",{inserted:function(e){setTimeout(function(){$(e).popup()},300)}}),a["default"].directive("tab",{inserted:function(e){setTimeout(function(){$(e).tab()},300)}}),a["default"].directive("accordion",{inserted:function(e){setTimeout(function(){$(e).accordion()},300)}}),a["default"].directive("checkbox",{inserted:function(e){$(e).checkbox()}}),a["default"].directive("progress",{inserted:function(e){setTimeout(function(){$(e).progress({duration:200})},300)}});var e=new a["default"];Object.defineProperties(a["default"].prototype,{$bus:{get:function(){return e}}}),String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},String.prototype.ljust=function(e,t){return t=t||" ",t=t.substr(0,1),this.length<e?this+t.repeat(e-this.length):this},String.prototype.rjust=function(e,t){return t=t||" ",t=t.substr(0,1),this.length<e?t.repeat(e-this.length)+this:this},String.prototype.center=function(e,t){if(t=t||" ",t=t.substr(0,1),this.length<e){var i=e-this.length,n=i%2==0?"":t,s=t.repeat(parseInt(i/2));return s+this+s+n}return this},$(document).delegate(".identity","click",function(e){var t=$(this).data("tooltip");$(".copy_textarea").remove();var i=$("<textarea class='copy_textarea'>");i.text(t).appendTo("body").select();try{document.execCommand("copy");a["default"].prototype.$noty.information("代碼("+t+")複製成功"),i.remove()}catch(n){a["default"].prototype.$noty.error("代碼複製失敗")}}),document.getElementById("app-body").appendChild(document.createElement("app"));new a["default"]({el:"app",i18n:pY,store:jt,router:YF,template:"<App/>",components:{App:lY},watch:{$route:function(e,t){ga("set","location",window.location.href),ga("send","pageview")}}})})},5716:function(e,t,i){},"583a":function(e,t,i){"use strict";var n=i("b1cc"),s=i.n(n);s.a},5871:function(e,t,i){},"58a6":function(e,t,i){"use strict";var n=i("fb5e"),s=i.n(n);s.a},"592e":function(e,t,i){"use strict";var n=i("26da"),s=i.n(n);s.a},5942:function(e,t,i){},5987:function(e,t,i){"use strict";var n=i("a7c9"),s=i.n(n);s.a},5989:function(e,t,i){},"59c9":function(e,t,i){},"5a83":function(e,t,i){},"5a834":function(e,t,i){"use strict";var n=i("a7c0"),s=i.n(n);s.a},"5aee":function(e,t,i){},"5b16":function(e,t,i){"use strict";var n=i("9273"),s=i.n(n);s.a},"5b42":function(e,t,i){"use strict";var n=i("8f86"),s=i.n(n);s.a},"5c1b":function(e,t,i){},"5c53":function(e,t,i){},"5c66":function(e,t,i){"use strict";var n=i("2884"),s=i.n(n);s.a},"5cb4":function(e,t,i){},"5cbd":function(e,t,i){"use strict";var n=i("6782"),s=i.n(n);s.a},"5cce":function(e,t,i){},"5d5a":function(e){e.exports={_comment:"這邊的客戶理論上只有串API而已，沒有使用UI",logo_img:"lms_logo.png",footer_imgs:["tw568_logo.png","lms_logo.png","by_express_logo.jpg","t_cat_logo.jpg","hct_logo.png"],scanner_theme:"dark01",menu:[{name:"status_prototypes",icon:"barcode large"},{name:"stations",icon:"inbox large"},{name:"provider_partitions",icon:"tasks large"},{name:"provider_customers",icon:"street view large"},{name:"provider_uploader",icon:"upload large"},{name:"assets",icon:"cubes large"},{name:"materials",icon:"cube large"},{name:"core_waybills",icon:"archive large"},{name:"provider_operations",icon:"file large"},{name:"users",icon:"user large",items:[{name:"permission_groups",icon:""},{name:"roles",icon:""},{name:"staffs",icon:""}]},{name:"user_logs",icon:"hourglass end large"}]}},"5dd9":function(e,t,i){},"5e57":function(e,t,i){"use strict";var n=i("4d0f"),s=i.n(n);s.a},"5e6a":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{color:"gray",float:"right"}},[e._v("\n    Neuron "+e._s(e.env)+" version "),i("span",{staticClass:"version"},[e._v(e._s(e.neuron_version))]),e._v(" - LMS "),i("span",{staticClass:"version"},[e._v(e._s(e.lms_version))])])},s=[],a={name:"SystemInfo",computed:{env:function(){return ENV.NODE_ENV.capitalize()},neuron_version:function(){return ENV.VUE_APP_NEURON_VERSION},lms_version:function(){return ENV.VUE_APP_LMS_VERSION}}},r=a,o=(i("6b52"),i("2877")),c=Object(o["a"])(r,n,s,!1,null,"7a598281",null);t["a"]=c.exports},"5ed9":function(e,t,i){},"5f74":function(e,t,i){"use strict";var n=i("5ed9"),s=i.n(n);s.a},"603e":function(e,t,i){"use strict";var n=i("9196"),s=i.n(n);s.a},"60a8":function(e){e.exports={name:"dark02",color:{background_img:"blur02.jpg",background_position:"0% 0%",background:"linear-gradient(134deg, rgba(0, 0, 0, 0.9)0%, rgba(142, 162, 232, 1)100%)",font:"white",warning:"white",show_setting_icon:"orange",setting_group_icon:"white"},computer:{background_position:"0% 50%"},mobile:{background_position:"0% 0%"}}},"60b7":function(e,t,i){"use strict";var n=i("3010"),s=i.n(n);s.a},"60bb":function(e){e.exports=[{_comment:"nucleus 預設檔案",name:"運單起始貨況",i18n_key:"ui.scanner.setting_groups.LA00",barcode:"LA00",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA01",is_scan_action:!0,is_hide:!0,color:"black",settings:[]},{name:"1.收貨",i18n_key:"ui.scanner.setting_groups.LA01",barcode:"LA01",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA01",is_scan_action:!0,is_hide:!1,color:"#3a8df5",settings:["is_batch_mode_false","is_package_mode_false","is_auto_print_label_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"2.進站",i18n_key:"ui.scanner.setting_groups.LA02",barcode:"LA02",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA02",is_scan_action:!0,is_hide:!1,color:"orange",settings:["is_batch_mode_false","is_package_mode_false","is_distributed_to_mode_true","is_unpackage_mode_false","is_scan_action_mode_true","is_auto_print_label_mode_false","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"包裝",i18n_key:"ui.scanner.setting_groups.package",barcode:"package",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"package",is_scan_action:!1,is_hide:!1,color:"green",settings:["is_batch_mode_false","is_auto_print_label_mode_false","is_scan_action_mode_false","is_distributed_to_mode_false","is_package_mode_true","is_unpackage_mode_false","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_min_card"]},{name:"3.派件中",i18n_key:"ui.scanner.setting_groups.LA03",barcode:"LA03",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA03",is_scan_action:!0,is_hide:!1,color:"#9559f4",settings:["is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_true","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"3.聯運",i18n_key:"ui.scanner.setting_groups.LA10",barcode:"LA10",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA10",is_scan_action:!0,is_hide:!1,color:"purple",settings:["is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"3.出站集貨中轉",i18n_key:"ui.scanner.setting_groups.LA09",barcode:"LA09",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA09",is_scan_action:!0,is_hide:!1,color:"violet",settings:["is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"4.回站",i18n_key:"ui.scanner.setting_groups.LA05",barcode:"LA05",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA05",is_scan_action:!0,is_hide:!1,color:"gray",settings:["is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"4.已配達",i18n_key:"ui.scanner.setting_groups.LA04",barcode:"LA04",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA04",is_scan_action:!0,is_hide:!1,color:"green",settings:["is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"4.異常件",i18n_key:"ui.scanner.setting_groups.LA06",barcode:"LA06",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA06",is_scan_action:!0,is_hide:!1,color:"red",settings:["is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"4.異常件排除",i18n_key:"ui.scanner.setting_groups.LA07",barcode:"LA07",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA07",is_scan_action:!0,is_hide:!1,color:"cornflowerblue",settings:["is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"寄件者退運",i18n_key:"ui.scanner.setting_groups.LA08",barcode:"LA08",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA08",is_scan_action:!0,is_hide:!0,color:"teal",settings:["is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"鎖定",i18n_key:"ui.scanner.setting_groups.LA11",barcode:"LA11",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA11",is_scan_action:!0,is_hide:!1,color:"darkred",settings:["is_batch_mode_false","is_auto_print_label_mode_false","is_scan_action_mode_true","is_distributed_to_mode_false","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"解除鎖定",i18n_key:"ui.scanner.setting_groups.LA12",barcode:"LA12",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA12",is_scan_action:!0,is_hide:!1,color:"cornflowerblue",settings:["is_batch_mode_false","is_auto_print_label_mode_false","is_scan_action_mode_true","is_distributed_to_mode_false","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"結案",i18n_key:"ui.scanner.setting_groups.LA13",barcode:"LA13",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA13",is_scan_action:!0,is_hide:!1,color:"#4bba45d9",settings:["is_batch_mode_false","is_scan_action_mode_false","is_package_mode_false","is_unpackage_mode_false","is_distributed_to_mode_false","pack_need_source_mode_false","is_update_corewaybill_mode_false","core_waybill_template_mode_card"]},{name:"拆包",i18n_key:"ui.scanner.setting_groups.unpackage",barcode:"unpackage",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"unpackage",is_scan_action:!1,is_hide:!1,color:"orangered",settings:["is_batch_mode_false","is_auto_print_label_mode_false","is_scan_action_mode_false","is_distributed_to_mode_false","is_package_mode_false","is_unpackage_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_min_card"]},{name:"分撥",i18n_key:"ui.scanner.setting_groups.distributed_to",barcode:"distributed_to",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA09",is_scan_action:!1,is_hide:!1,color:"darkcyan",settings:["is_batch_mode_false","is_auto_print_label_mode_false","is_scan_action_mode_false","is_package_mode_false","is_unpackage_mode_false","is_update_corewaybill_mode_false","is_distributed_to_mode_true","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"查詢運單",i18n_key:"ui.scanner.setting_groups.search",barcode:"search",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"search",is_scan_action:!1,is_hide:!1,color:"limegreen",settings:["is_batch_mode_false","is_scan_action_mode_false","is_package_mode_false","is_unpackage_mode_false","is_distributed_to_mode_false","pack_need_source_mode_false","is_update_corewaybill_mode_false","core_waybill_template_mode_card"]},{name:"袋包運, 裝袋作業",i18n_key:"ui.scanner.setting_groups.pack_house_waybill",barcode:"pack_house_waybill",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"package",is_scan_action:!1,is_hide:!0,color:"green",settings:["is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_true","is_unpackage_mode_false","is_scan_action_mode_false","is_update_corewaybill_mode_false","is_distributed_to_mode_false","core_waybill_template_mode_min_card","pack_need_source_mode_false","pack_p_m_mode_House","pack_m_mode_Waybill"]},{name:"運包子, 一票多件",i18n_key:"ui.scanner.setting_groups.pack_waybill_goods",barcode:"pack_waybill_goods",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"package",is_scan_action:!1,is_hide:!0,color:"limegreen",settings:["is_batch_mode_false","is_scan_action_mode_false","is_package_mode_true","is_unpackage_mode_false","is_distributed_to_mode_false","is_update_corewaybill_mode_false","pack_need_source_mode_true","pack_p_m_mode_Waybill","pack_m_mode_Goods"]}]},6192:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui container",attrs:{id:"login"}},[i("div",{staticClass:"mobile hidden"},[i("h1",{staticClass:"ui center aligned header"},[e._v("\n            "+e._s(e.$t("ui.pages.login.provider_management_login"))+"\n        ")]),i("div",{staticClass:"ui divider"}),e.is_development?i("h4",{staticClass:"ui center aligned header"},[e._v("\n            "+e._s(e.current_node_identity)+"\n        ")]):e._e()]),i("div",{staticClass:"ui middle aligned center aligned doubling two column grid"},[e._m(0),i("div",{staticClass:"column"},[i("h1",{staticClass:"ui center aligned header mobile only"},[e._v("\n                "+e._s(e.$t("ui.pages.login.provider_management_login"))+"\n            ")]),i("h3",{staticClass:"noty"},[e._v("\n                "+e._s(e.$t("ui.pages.login.please_enter_your_account_and_password"))+"\n\n                "),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui dropdown item",staticStyle:{position:"absolute",right:"0"}},[e._v("\n                    "+e._s(e.$t("ui.links.top_menu.language"))+"\n                    "),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},[i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("zh-TW")}}},[e._v("繁體中文")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("zh-CN")}}},[e._v("简体中文")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("en-US")}}},[e._v("English")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("ja-JP")}}},[e._v("日本語")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("es-ES")}}},[e._v("Español")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("vi-VN")}}},[e._v("Tiếng Việt")])])])]),i("NotificationBox",{attrs:{notification:e.notification}}),i("ErrorBox",{attrs:{errors:e.errors}}),i("div",{staticClass:"ui large form",on:{submit:function(e){e.preventDefault()}}},[i("div",{staticClass:"ui stacked segment"},[i("div",{staticClass:"field"},[i("div",{staticClass:"ui left icon input"},[i("i",{staticClass:"user icon"}),i("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{type:"text",name:"username",placeholder:e.$t("ui.pages.login.account"),required:""},domProps:{value:e.username},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.focus_input("password")},input:function(t){t.target.composing||(e.username=t.target.value)}}})])]),i("div",{staticClass:"field"},[i("div",{staticClass:"ui left icon input"},[i("i",{staticClass:"lock icon"}),i("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],ref:"password",attrs:{type:"password",name:"password",placeholder:e.$t("ui.pages.login.password"),required:""},domProps:{value:e.password},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.focus_input("captcha")},input:function(t){t.target.composing||(e.password=t.target.value)}}})])]),e.need_captcha?i("div",{staticClass:"field"},[e.captcha_image_base64?i("img",{staticClass:"captcha",attrs:{src:"data:image/jpg;base64,"+e.captcha_image_base64,alt:"captcha"},on:{click:e.render_captcha}}):e._e(),i("input",{directives:[{name:"model",rawName:"v-model",value:e.captcha_user_answer,expression:"captcha_user_answer"}],ref:"captcha",attrs:{type:"text",placeholder:e.$t("ui.pages.login.verification_code"),required:""},domProps:{value:e.captcha_user_answer},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.submit(t):null},input:function(t){t.target.composing||(e.captcha_user_answer=t.target.value)}}})]):e._e(),i("div",{staticClass:"ui divider"}),e.is_development?i("button",{staticClass:"ui large basic red button",staticStyle:{width:"48%"},on:{click:e.auto_input}},[e._v("\n                        "+e._s(e.$t("ui.pages.login.btns.auto_input_test_account"))+"\n                    ")]):e._e(),i("button",{staticClass:"ui large teal submit button",class:{loading:e.is_logging},staticStyle:{width:"48%"},attrs:{type:"submit"},on:{click:function(t){e.submit()}}},[e._v("\n                        "+e._s(e.$t("ui.pages.login.btns.login"))+"\n                    ")])])])],1)])])},s=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"column"},[i("h2",{staticClass:"ui teal header"},[i("div",{staticClass:"content"},[i("img",{staticClass:"ui image",attrs:{src:"/images/lms_logo.png"}})])])])}],a=i("bab4"),r=i("bc4d");function o(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function c(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){o(a,n,s,r,c,"next",e)}function c(e){o(a,n,s,r,c,"throw",e)}r(void 0)})}}var l={props:{},data:function(){return{is_development:"development"==ENV.NODE_ENV,is_initialized:!1,is_processing:!1,password:null,username:null,encrypted_answer:null,captcha_user_answer:null,captcha_image_base64:null,notification:{},errors:[],need_captcha:"true"==localStorage.getItem("need_captcha"),is_logging:!1}},computed:{node_index:function(){return parseInt(new RestUrl(location.href).get_query_string("node_index")||0)},current_node_identity:function(){return this.node_index>0?ENV.VUE_APP_SECOND_NODE_IDENTITY:ENV.VUE_APP_FIRST_NODE_IDENTITY},login_url:function(){return"electron"==ENV.VUE_APP_BUILD_ENV?new RestUrl(this.$store.state.settings.login_url).parse({node_identity:window.LICENSE_KEY},"?captcha="+this.need_captcha):"development"==ENV.NODE_ENV?new RestUrl(this.$store.state.settings.login_url).parse({node_identity:this.current_node_identity},"?captcha="+this.need_captcha):new RestUrl(this.$store.state.settings.login_url).parse({node_identity:""},"?captcha="+this.need_captcha)},captcha_url:function(){return this.$store.state.settings.captcha_url}},created:function(){this.init()},mounted:function(){},watch:{},methods:{init:function(){var e=c(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!this.need_captcha){e.next=7;break}return this.captcha_image_base64="iVBORw0KGgoAAAANSUhEUgAAATYAAABQCAYAAACTZllaAAAXyklEQVR4Xu2db2wU6X3HvzM7axjDGq99NbnYjqlDXVAKGDbh4ia9I8YoL0LbUypTNa0CTSUD6ZsLamVLlxenKifhtLrjTXKcX1Tm1KtUrCaXyjn1gqHQRPGFnMEcTTg5Ph8ONglw9hL/W5ud3emLmd/Ds7Oz86z/suz9PhLCO/PMv2ee5/v8/jwzowGw4RIOh6FpGnRdx/z8PEzTxPz8PAKxsSw0LRy8PnAtkEZSUYJhmGLFtm3ouo5IJALLsjA7O4uSkhJoAOxIJIJUKoWFhQWkUikYhgHLslT7BABoSulREVIVCMRGfufJMEzxsWHDBszOzmYtNzRNQzqdxtzcnFioaRqqqqpg2zbu3buXtdFiUBt0wSWWL5wMwxQriUQCuq5D13WUlpYCAKamphyLjQpVVFRgdnYWCwsLQfvyECw8KlmyoQeuV2+fUpRgGKaYKSkpgWEYmcbZxo0b7UQikeGCVlVVYWZmBpZl4cGDB4E7VaHpwdJkp9XStbz1DMMUK0888QQ+/PBD8ds0TSQSCRgzMzMAgFAoBMuysHnzZvT396O2thaGYSCdTgfsVm1S6VqwRaaSpXRK4apqqj0wDFOsjI2NYf/+/bh9+zbm5uagaRpCoZDjioZCIZimiZmZGRiGgWQyiWTSyTYahgFNU1lVDMMwjwZZn0zTxMLCAnTTNJFKpUCWG2VD5+bmxPQPhmGYQiYajQJuMiEcDkPTdd1Op9PQNA2UIbVtG/IyhmGYQkXTNBiGgVQqJea1BQfAGIZhHkNY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKToMVYHlcj9hofvnv0H35du4dntGVZxZQ3Z9fCOO7P04jnzmSZSbq94UGGbNWNUXTQ6OT+PZf30Xo3HFR5eZR0pddD3e+NpONFZHVEUZpuBY0xdNDo5PY993rrCoPQaMxuex7ztXMDg+rSrKMI8FqyJs9xMWnv3Xd/G7ef5K++PC7+ade3Y/wfeMefxZFWHr/vlvHqml1tJQgZaGCtRXmqqiOaF9RNc49hSriaC9uQ5wz6G9uQ7nju1GrMZxE5dzTSpG4/Po/vlvVMUYpuBZlV7bffm2qoiS9uY6nDy4VVUMABBPWKh4/pL4fe7YbgBAR+8wOi+MBmzp0NJQIYSDoGN39Y9jZCIhlscTFgZuTeGdE3uz9gMAn37pMgbGcrt0LQ0V4m9ZrOorzYx1fUOTiNVExHlES8OImgbOHt4BADh05nrGea0U3Zdv47mna1XFGKagWRVhW+vs53KtKllAvLQ1VWf87hua9C1HREvDgevbm+syBCwXrY2bEZ9LZiw7eXCrEMN3TuzF0bM30HPtbo49LI21vncMsxosTxHWiI7eYUCyovqGJtE3NCncxeUyMDYtjkEEWWyykJKlOPniM2IZWYwHTl/FYugbmsTA2DRGJhLoG5pE666qjPVd/eOI1ZYhVhMR1lu+VinDfJR4LITNG1caGJtG+/4tSlfs5MGtWZbYgdNXs6yuvqFJIUZevBbboTPXxbKBsWnEPcH2WE0kUGx7rt1F39AkRiYSiCesDCvMK4SySxuriaDzwigOvHIFJw9uFedQX2kiahpZ58EwH2UeC2GLloYzrJfWXVWImsayXVA/yELzWmz0u62pWghRz+CdrO1VccGu/vGM3153U0U8YeFoz3sYGJtGW1M1OnqHC1bUyAKl+vKLPY5MJMQANXBrCmcP71Ba4V3944gnrKxBZGBsWtRnPGGJfUdNI+O+UJw0CIp7LhbZqlaFLeC2bW98V64TL/L1xhMWDp25rgxvePcnH9Nr7cdqIqivNNHVP56zLcv1LLarLXMGa0V79rve1WDllWEV6Bm8g/pKM6ODjEwkHMvNzSD6QS6rjMrK81po3t9d/eOIlobRNzSZ0Sg6L4yivblO2Wm8DVCOyXnXyQ3Am1wYmUigo3cYsdqyh9f4b0eBhRngs18FPvVFLJXu7m688MILKC8vx+DgoKp4TvxcfBW57g+JGaTBpqWhQohlS0MFPv3SZd9tAaB9/xYxEA7cmlKGCU4e3JpTmNqaqrPCBHCv92jPe4AbmlAdg7Bf2p/xu+fa3Zz1RmVHJhI4dOY6BsamhceRS9y8+2tpqMhIsMlETQP1lSYGxqYRLQ379q+O3uGsujl3bDc6L4wqxVw+9mryWAhbfaWJnsE7oqNHTUPE2ILwik8+qCy2eMJCR+8wzh3b7XvTo6YR2KGDbmrQuram6iyRJbQT550/1m0A7r0P/Oifgbdf8xe4qd8CU3eAss1A2ccy1/3iLeDt1/C3U44lumXLFiwHv84PT8xU3FPFSE4uvIw8cMl1R+0iahqI1ZYt2bIP6qTeayPrCe51ycfMdV9Vwkf3m6ynWE0E8YSFrv5xdJ6/iXjCQltTNbr6x3Hg9FW0NVWjvbkuy9L0Jsfo3EYmEuLcSJTiCUt4AzQAnD28I+N6WndVCSuwrak6y7qlZfIAJN+TtWBtjrJMvCbxSiUN/FBZbPnQ1lQtGt6a0vqSECdM3XkocH/2T0DZZlT1/SPuDv3qYfmanc66e+8Db33b2QZAXV0dXnjhBRw5ciT3sRT4xTK9BFlzXiumpaEC8bkkRiYSaN/vCO7ArSnRCalj5WMRtDRU4OTBrejoHcbJg1vFANU3NIkDp6+K+YNeoe25dhdd/eO+Md+jZ2+Iju4d8BY7uBJy/fUM3nFc+1tTol2R5VhfaaKjdxhd/ePo6h9H664qMS0Ikmh59903NInWxs2orzTRNzSJqGmgpaEiIw5MiSoZCoEAwKut2+Bl4NZUhltKyTAEDHYrTcEKWzxhZd0MErOgGMRSaGmoyDsrStYiZUf7hiZx6Mz1jIB+kKh5jyN3Sr+Orlqfxae+6PyTBe7Kf6Im/FuMDf0KZZEwdm4vx7s37mNq7F3g4ncd95WsuM9+FTff+rbqKGtOe3OdqFfqzEd73hMxtKXEw+DpdHIMcGQiIcIO1HmpXJawSQJ78uDWjLjiShKriSA+l0SstgwDt6aEkBHtzXXouXY3r0GfrCzaPmoaOHd8D+orTRHmAYBzx/dkbTviJr5yXaM3lir313zObSUoWGHzCgqkSukbmsyYvzVwa0o0dr/yMn6jp8oF9KKdOI+O3mG82roNLQ0VeP+bnxOjWlf/eOAI7V3XIj0h4bddrLYsa/3Jg1vRM3gnswEtzDhW14I0D61sM7BuI/CxbRi78CMAwC8u/ik2lYXx6/FZ/NG+XmDsmmPpJaYAXQd++Rb27XNiVeXl5eju7kZ5eTkWy7lju9HVP+47z44EIlYTyZr3p5pT2HlhFD3X7jqd2E3etDZuFmVyxc9y3WOvOBDR0rA4dxI2qm9vO2tt3Ix4wnLE98IoOs/fzLiGXHFglUVL7berfxytjZuFpUnLvINn664q37rzSy54kxvR0rAYOOX9Hj17A68e2p5htdF28YQl2qQscuQ2d/QOC8EnS22pA9BiKVhhQ0Bj9MabKA7gxc9l9RMPcklolIaPxUb7IlO/vtIUVpt808l8D3r6QEVbUzV6Bu+IRAQ1Cmo87c11ohMJK27sGvD+T/13eP2H4s9NZY6QfKJ6g7Ng6g5wbxi4/X+izKUxt+ymTbh58yYaGxuxFPysbpnF1JGII7r3S7ZeK56/JNqK6phe5PhQfC4pzomsQLJeYjURkRTyWipR00B7cx26+sfR0TssYnuEKpaWC1lwO3qHRRuUr51cakgWvTeR4BfzbWuqxsDYNFoaKoTb6TUkYjURYQHK/Y3qiBJY8ISLvMeSBw/Z9V9NClrY1gp5JPaOeF6LbWQigfpKM+PmyIkMefuK5y8tKs528uBWIZpR00DnhdGMzu+XGRV88nPAN/q8u3zIyy2513m29ca3lot3gKGGL7vZ8qCyHCjGRqIflC2Eew7eGBsRq4lkuKrxhJUVKCe6+sdFRrR9/xbEaiLKWB8UT6p4kwckQnDPTW4bUdNAtDTsG6Lxs4Kp7r1TZmRI2OU+EE9YGdOcKHkhE5Q8WA0X3Y+CFjZ5lIbU4bzBUPlm+o1OrbuqApMAsvsiN3IZytpFS8MZc3VI6CjtTsLk5yoQsZqIyNbJI7sslu37t6Crfzxj6gi5I3Ab2EoIwVrQ5zPtBj5z+oKQRYJcHDmrKtfjYsjVjuDus+faXSdg797zXOENuc3FaiJ5JU+IXFaM12LzbpMhwrVlvrFi5OgTdDyVNdniJlII8iSI1l1VWfcxKHnQNzSpzICvBAUrbBSM90sPkytGyBUbn0tmNShVJcruC3WgXKOYdzmN3tR4OnqHxUjvJZ8H+0mw5AZErpCcUeo8fzNgL4XFSlhsfh1Q7qx+oYh8yCW6cDttR+8weq7dFefp1y7ic0nRTumeBbU5cnlzTUeh7KTfNoTXjaeMsR9BcUvkmIzsPR5B5xvkiQQlD7CESelLoWCFzS/NnIuVDEjmauTyKDMwNi3McbqJ8na5YkeqmNKhM9d9g+3yHD48ZtYaPCO2DI3syKOxU0f3dhJ5+VLIFWOD5PpTDKq+0vSdrtDauBltTdU42vOeKBstDeccHClul6tMPGGJ49J6yrwSXgtsYGw6Z/tSTZz1m6LidcuJWE0E75zYi0++mB3P9Q5g5MrG55IiXqzqAytFfsrxCKAbMeDz+AY8KWcKgi6XfGNLsZpIzhG5I+ChdNkcHxibxsCtKRGPgTtPKmg7ovP8TURLwzh7eAd6rt3Ncg8WTf9rwNigM2F3z18AyK8e8sUvMI08hF7m3LHdiCesrKcL6itNvNq6TdT5YttBUIwNrpVN9Z8rnOFtC3F3ErcKCr57g/O0rG9oUkzvoLZBVm7n+ZtobdyM1l1VwvUly2yxbrk3GaMilyFBiRMSNEqwyb/XioIWthZ3KsTAXFI0WFpOolbvzmdaCVQ3N1ZbJkZsv+koyKOzeuOGQbE/UMc9tD1jWZf7PCKNkPXuBM0l8/Zr7h/vAr/8ES7+XQP27dun2EhN1POMJuHnisrb+BFPWDjwypWMOo+ahhPLlNwwVdjBy8hEQsTRfK1K6X6qrEqivtIUQnz07I2MwQtS2IKEKCiBQAkBEjphBeVIZAQJ+7lju33jbSsJiWrcNTY6L4yidVeVE1vL0wNbCdbuSItENtPjPsJG7k2b9FD6UlFlzvxQCVIuU34x0IRPv5nfsoW2VDeMKIuE0fnN3Wj/1lVMTSdx6tSpFRE2v8egZPzcaa/1AknUKNZIz+q+emg7Os/fFNZMvSdrnIvOC6Pi2LnmsdE6WQQ6L4xmDG65oBhZ54VRZ67X+Zs4d3xPVjsNclfpnpOQyRac9+ULdP2qdwF6aW+uQ1tTNSqev4T6ShPvP//HAIBPvvhTjEwkMPniM3mLESW5ZKGl86HrFIPPIi3KpZDfWT8C5AqSR02qnHo3EwnPKFXvmYrhXf+ooeuSr8O7vsXNRMnryJ1rcSdpymKmelNFEGWRMN58vRk7t5fjE9Ub8KW/+R/84Ac/UG2mhMIDfnUfZLHBM30GboxxxJ0feO74HvFMJlmENICoEjNE1DSyLD+aCE0iJz84TpnuzgujOHr2BuqlFzIE0d5chxE3KdLVPy4G4aCwgUg+uO5n664qxGrLcPTsDcA9LypD50eJpL6hSXz6pcs4d3yPryD1XLubcd006JB4kkCS2yjm7QU8b0t1L++LIMuVvAsKI+QrlsvBANIAAA22+w+A+FuDbQPL+ALfkqEKiruvnyG8lgpltahR1/vMRVMRZFm9c2KvmOXfJs2gDoqlBSG7KfG5ZFbHpqcZZPrcx7bgno/sgoxIj78sln//7ufxiZoN2LndebLgT556aIkcOXIEN286HWbLli04derUop5A6PB5A4SXoASIHO9sa6oWwuPtFHSMloYKpSVF0OBAoQyqy76hSRFioPqO1UTEzHuKjR46cx3vnNibVwd9tXWbGGzzmQJC3kmsJgL7pf3QTpwXcWS49zvqvmT0wOmrQtzkCeYHXrni++p6b3172z1dM9zj0Pp8PBrql/SAPNUvJVQIlaezUqjvzCOCKsDbEORYSHwu+XD+mfRamlwsJcCeK1GwlH3JRD1PLFCj6+gdFo1yZCKR4TbBbXzyiLyc7OjBA7kb2ZkzZ8Tfly5dwuDg4KJeYZSPRbMY5P217qoSsUUaxOjBeILcQT/3zM+qhzQokgVHE2Oprs8e3oGjPe+hvbnOt63J5yVDx5KvIWoaWecMaeAjyIWrrzTFZFga/N45sVcM7O3SK7O84kHnJRNTvBBVxq8O/RJtNC2mXgoJyNfsF2ZYLTRdh22nHatM04B0GkjbNux0CpqmO3bbIi22xn/52bLfnR81DbQ1VQsTWY6x5Sqv8t3lNyPkAwV36z1B2uXEz+rdKQOyed/neb0SuTC5sqRkOS4qEOw+eTD1q78MLFb2B//h/O+6qNdvxHG83XEhXn75Zdy/fx9wrbjlvP2DYVYKvw8mr4qwnfrfW/jGG0OqYsxakqew1ez5HgCIuBsA/NXxn+CHfdmW4eHDh9Hd3Z21nGHWEt8vwWdqlgbb/ct2/1EMbjEc+cyTqIuuVxVjCpA3X2/OEDUAGX/v2FaOr3zZcaHOnDmDixcv+u6HYR4lq/LB5HLTwBtf24lN6ws2hMfkYOf28gwhk9mxrRxvvt6M051PYcc2pwwLG1OI6LCBIE9TW4LFBgCN1RFc/Ps9bLkVAV8/8of4ype34M3Xm8Vrj4ISDwzzqFkVi41orI5g8B+ewsvPNmDXxzeqijMFyqayME53PiVEjWEKHUPXNKRsG47d9tB2S8OGhjRCSC1rVki5aeC5p2vx3NO1qqLMKqK9rCrBMMWD0mKz00tzRRmGYR4V+kM7zbXWNIjMKABooUXO9WAYhnnEKC22B/PzqiIMwzAFhZFhnkkxNlpcsr7Euw3DMExBk0dWgF3RQub+/fvo7u4WjzoxDJMhbP4CNj87jfUb1u7Nl0z+XL3Sjy98oQW/m5pTFQXc5z8Z5qOA0mJbv4HnnxUqz/75QSFqxw83oFwxz+xLB2oC1zNMsWBYmoa0bbtPGGiAnYYGIAQdGjQApap9MI+IX485bzp5pXMv/vrLv68qvqL0nr8HACvypl2GWWmUWVGmsPn83t9bc1H78c/u4vov72LTpk0sbExBwsL2mPOTy/fQ/q2lvRtuKbz+vQ/wla+/DQB47rnnVMUZ5pGg6bpup9NpaJoGTdOQTqdh2zbkZUxhsu/pz+LSj3+mKrYq8LvYmELB931sqo2YwuWN//pvHD58WFVsRXnmmWfw/e9/n0WNKWjYYmMY5rGGLTaGYT4SsLAxDFN06OvWrQMA4X4S09PT7IYyDPNYYJombNt5wr2kpAQaADsUCsE0TczMzMAwDCSTSSSTSQCAYRgscAzDFCyyPkUizndMdQBIpVJIJJyvrVdWVuKDDz6ApmkIh8NCBRmGYQqRJ598EuvXO99WWVhYcLzNjRs32olEAqlUCoZhwLIsVFVVYWZmBpZl4cGDB6r9Mgzz2KIKsysMGy0/wycUDkHXNSSTVsYXPdeZjkeYSqVhWSnoOhyDCkAymURa+r65HnI8yLSdhvXA2ckTFU/gww8/FGVKSkqcDybLZ15RUYHZ2VksLCyAYZiPAiFVgWDyFDZC03VnOoYegqZrePBg3vlKO60P6bBT7m9NA2wbpRs2QNM1zE7PAACMkjDCRhjzC/OwrTQMw8CmTZswPT0Ny7Joqppml5aWYnZ2Vuw8HA4jGo3Ctm3cu3cv++wYhikSgoVNFV23FcJmlm5A0krCyun5pREKhxEOOy8aciJfNlKpFCzLgqZpD4XOBw2aCJeFw2GEQiHMz887FlskEkEqlcLCwkKGS8owTHGjqd9cFoitlD4Auo5QKOSIlDv7wk6nHRXTUggZBjRNh5WUxU+DURKGBiD5IOk4lq4FBwBGuATRaBSJ2WnMzDiWnKZp0HUdqVQq0xUNh8Ni5fz8PEzTxDx/84BhihYNwe/wUyUP83VEdcOATYIGx810BC0Fi2ZghMMoWbfOMbCSyQwhE2g6dF1DOpVyftvO/tavX49UKoVkMomSkhL8P2HPj2V0t0w1AAAAAElFTkSuQmCC",e.next=5,this.render_captcha();case 5:return e.next=7,this.form_validation();case 7:return e.next=9,new Promise(function(e){t.is_initialized=!0,e()});case 9:e.next=18;break;case 11:e.prev=11,e.t0=e["catch"](0),e.t1=e.t0,e.next=404===e.t1?16:18;break;case 16:return this.$router.push("page_404"),e.abrupt("break",18);case 18:return e.prev=18,e.finish(18);case 20:case"end":return e.stop()}},e,this,[[0,11,18,20]])}));function t(){return e.apply(this,arguments)}return t}(),render_captcha:function(){var e=this;return axios.get(this.captcha_url,{headers:{Hostname:window.location.hostname}}).then(function(t){"success"==t.data.status&&(e.captcha_image_base64=t.data.captcha.base64_encoded_image,e.encrypted_answer=t.data.captcha.answer)})["catch"](function(t){if(t.response)return Promise.reject(t.response.status);e.$noty.error(e.$t("ui.general.network_abnormality")+": "+e.$t("ui.general.server_offline"))})},submit:function(){var e=this;this.is_logging=!0;var t={username:this.username,password:this.password,role:"staff",user_answer:this.captcha_user_answer,encrypted_answer:this.encrypted_answer};axios.post(this.login_url,t,{headers:{Hostname:window.location.hostname}}).then(function(t){if("success"==t.data.status)e.need_captcha=!1,localStorage.setItem("need_captcha",!1),localStorage.setItem("authentication_token",t.data.token),localStorage.setItem("staff_expired_at",e.$moment.utc(e.$moment().add(e.$store.state.global_setting.login_expiration_period,"second")).format()),e.$parent.init();else{e.is_logging=!1,e.need_captcha=!0,localStorage.setItem("need_captcha",!0),e.render_captcha();var i={"incorrect username or password":e.$t("ui.pages.login.errors.account_or_password_incorrect"),"captcha verification failed":e.$t("ui.pages.login.errors.verification_code_incorrect"),"captcha verification timeout":e.$t("ui.pages.login.errors.verification_code_expired")};_.forEach(t.data.errors,function(t){_.forEach(t,function(t){console.log(t),e.$noty.error(e.$t("ui.pages.login.errors.failure_to_login")+": "+i[t])})})}})["catch"](function(t){if(e.is_logging=!1,t.response){var i={"Unknown Host":e.$t("ui.pages.login.errors.your_site_has_not_registered_system")};e.$noty.error(e.$t("ui.pages.login.errors.failure_to_login")+": "+t.response.status+i[t.response.data.errors])}else e.$noty.error(e.$t("ui.general.network_abnormality")+": "+e.$t("ui.general.server_offline"))})},get_notification:function(){var e=this;return axios.get(this.$store.state.routes.get_notification_shutdown_url).then(function(t){"success"==t.data.status&&(e.notification=t.data.notification,e.notification.urgent=!1,e.$moment(e.notification.estimated_shutdown).isBefore(e.$moment().add(7,"day"))&&(e.notification.urgent=!0))})["catch"](function(t){e.$noty.error(e.$t("ui.general.network_abnormality")+": "+e.$t("ui.general.server_offline")+", 無法取得notification")})},focus_input:function(e){this.$refs[e].focus()},auto_input:function(){this.username="admin@by-express.com",this.username="admin@neuron.com",this.password="12345678",this.captcha_user_answer="TEST"},change_i18n:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"zh-TW";localStorage.setItem("language",e),this.$store.state.language=e},form_validation:function(){$(".ui.form").form({on:"blur",fields:{username:{identifier:"username",rules:[{type:"empty"}]},password:{identifier:"password",rules:[{type:"empty"}]}}})}},components:{NotificationBox:r["a"],ErrorBox:a["a"]}},u=l,d=(i("04ab"),i("2877")),p=Object(d["a"])(u,n,s,!1,null,"2cd09d32",null);t["a"]=p.exports},6195:function(e){e.exports={name:"dark01",color:{background_img:"blur03.jpg",background_position:"0% 0%",background:"linear-gradient(134deg, rgba(0, 0, 0, 0.9)0%, rgba(142, 162, 232, 1)100%)",font:"white",warning:"white",show_setting_icon:"orange",setting_group_icon:"white"},computer:{background_position:"0% 50%"},mobile:{background_position:"0% 0%"}}},"61ad":function(e,t,i){},6202:function(e,t,i){},6239:function(e,t,i){"use strict";var n=i("91d4"),s=i.n(n);s.a},"623f":function(e,t,i){"use strict";var n=i("89dd"),s=i.n(n);s.a},"624c":function(e,t,i){"use strict";var n=i("cc6a"),s=i.n(n);s.a},6294:function(e,t,i){"use strict";var n=i("9290"),s=i.n(n);s.a},"62e1":function(e,t,i){"use strict";var n=i("2767"),s=i.n(n);s.a},"637f":function(e,t,i){},"642c":function(e,t,i){},"643b":function(e,t,i){},"64e7":function(e,t,i){"use strict";var n=i("e31e"),s=i.n(n);s.a},"650d":function(e,t,i){"use strict";var n=i("0988"),s=i.n(n);s.a},"655a":function(e,t,i){"use strict";var n=i("3487"),s=i.n(n);s.a},"666e":function(e,t,i){"use strict";var n=i("c807"),s=i.n(n);s.a},"66a4":function(e,t,i){"use strict";var n=i("d9f6a"),s=i.n(n);s.a},6782:function(e,t,i){},"685a":function(e,t,i){},6920:function(e,t,i){"use strict";var n=i("2ff8"),s=i.n(n);s.a},6945:function(e,t,i){},"694d":function(e,t,i){"use strict";var n=i("d2ac"),s=i.n(n);s.a},"69b3":function(e,t,i){"use strict";var n=i("fc9b"),s=i.n(n);s.a},"69d8":function(e,t,i){"use strict";var n=i("d483"),s=i.n(n);s.a},"6a7e":function(e,t,i){},"6b52":function(e,t,i){"use strict";var n=i("cfb6"),s=i.n(n);s.a},"6b93":function(e,t,i){"use strict";var n=i("d46d"),s=i.n(n);s.a},"6c79":function(e,t,i){},"6c9f":function(e,t,i){"use strict";var n=i("4eee"),s=i.n(n);s.a},"6d09":function(e,t,i){},"6d1a":function(e,t,i){"use strict";var n=i("8785"),s=i.n(n);s.a},"6d78":function(t,i,n){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui segment",class:{red:e.is_out_of_date,green:!e.is_out_of_date},attrs:{id:"breadcrumb"}},[i("transition",{attrs:{name:"slide-fade",mode:"out-in"}},[e.is_breadcrumb?i("div",[i("div",{staticClass:"ui breadcrumb"},[i("span",{staticClass:"out_of_date_alert",class:{active:e.is_out_of_date},attrs:{"data-tooltip":e.$t("ui.notifications.help.this_page_is_out_of_date_please_click_here_to_refresh"),"data-position":"top left"}},[i("i",{staticClass:"icon refresh pointer",class:{red:e.is_out_of_date},staticStyle:{cursor:"pointer"},on:{clicks:function(t){e.refresh()}}})]),e._v("\n                "+e._s(e.$t("ui.page_titles.current_page"))+"：\n\n                "),i("router-link",{staticClass:"section",attrs:{to:{name:"provider_index"}}},[e._v("\n                    "+e._s(e.$t("ui.page_titles.index"))+"\n                ")]),e._l(e.$route.meta.breadcrumb,function(t,n){return i("span",[t?i("i",{staticClass:"right chevron icon divider"}):e._e(),n==e.$route.meta.breadcrumb.length-1?i("span",[i("div",{staticClass:"section"},[e._v("\n                            "+e._s(e.$t("ui.page_titles."+t))+"\n                        ")])]):i("span",[i("router-link",{staticClass:"active section",attrs:{to:{name:t}}},[e._v("\n                            "+e._s(e.$t("ui.page_titles."+t))+"\n                        ")])],1)])})],2),e.$route.meta.btns?i("div",{staticClass:"ui right floated actions"},[e._l(e.$route.meta.btns,function(t,n){return 1==e.$route.meta.btns.length||e.style.width>767?i("router-link",{key:t,staticClass:"ui icon button",class:[e.btn_class(t,n)],staticStyle:{margin:"-9px 6px"},attrs:{to:{name:t}}},[t.includes("new_")?i("i",{staticClass:"plus icon",style:e.style.width>500?{}:{margin:0}}):e._e(),e.style.width>500?i("span",[e._v("\n                        "+e._s(e.$t("ui.page_titles."+t))+"\n                    ")]):e._e()]):e._e()}),1==e.$route.meta.btns.length||e.style.width>767?e._e():i("div",{staticClass:"ui icon positive basic button",staticStyle:{margin:"-9px 6px"},on:{click:function(t){e.is_breadcrumb=!1}}},[i("i",{staticClass:"ellipsis horizontal icon"})])],2):e._e(),i("div",{staticClass:"clear"})]):e._e()]),i("transition",{attrs:{name:"slide-fade",mode:"out-in"}},[e.is_breadcrumb?e._e():i("div",{staticStyle:{margin:"-9px 0px"}},[i("div",{staticClass:"ui icon positive basic button",style:e.style.width<381?{padding:"9px"}:{},on:{click:function(t){e.is_breadcrumb=!0}}},[i("i",{staticClass:"arrow left icon"})]),e.$route.meta.btns?i("div",{staticClass:"ui right floated actions"},e._l(e.$route.meta.btns,function(t,n){return i("router-link",{key:t,staticClass:"ui icon button",class:e.btn_class(t,n),style:e.style.width<381?{padding:"9px"}:{},attrs:{to:{name:t}}},[t.includes("new_")?i("i",{staticClass:"plus icon",style:e.style.width>390?{}:{margin:0}}):e._e(),i("span",[e._v("\n                        "+e._s(e.$t("ui.page_titles."+t))+"\n                    ")])])})):e._e(),i("div",{staticClass:"clear"})])])],1)},a=[],r={data:function(){return{is_out_of_date:!1,is_breadcrumb:!0}},computed:{style:function(){return this.$store.state.style}},mounted:function(){this.detect_out_of_date()},watch:{"$route.meta.btns":function(e){e||(this.is_breadcrumb=!0)},$route:function(e,t){this.is_breadcrumb=!0}},methods:{detect_out_of_date:function(){var e=this;this.$cable.subscriptions.create({channel:"OutOfDateChannel"},{received:function(t){e.$store.state.instance_identity!=t.exclude_instance&&_.findLast(e.$store.state.breadcrumbs,function(e){return e==t.scope})&&(e.is_out_of_date=!0)}})},btn_class:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1?arguments[1]:void 0;try{var n=i<=1&&t.includes("new_")?"positive":"blue";if(n)throw n;switch(i){case 2:throw"orange";default:throw"grey"}}catch(e){return e}return"grey"},refresh:function(){console.log("provider refresh"),this.is_out_of_date=!1,this.$bus["_events"]["init"]?this.$bus.$emit("init"):location.reload()}}},o=r,c=(n("213b"),n("0fd2"),n("2877")),l=Object(c["a"])(o,s,a,!1,null,"4daa987c",null);i["a"]=l.exports},"6da7":function(e,t,i){"use strict";var n=i("39c5"),s=i.n(n);s.a},"6dab":function(e,t,i){"use strict";var n=i("13d6"),s=i.n(n);s.a},"6dd6":function(e,t,i){"use strict";var n=i("3c8a"),s=i.n(n);s.a},"6dd9":function(e,t,i){"use strict";var n=i("d6fc"),s=i.n(n);s.a},"6e3b":function(e,t){var i={data:function(){return{validations:[]}},methods:{valid:function(){this.validations=[];var e=this.$options.validator;if(e){var t=this[e.target];if(t){var i=!0,n=!1,s=void 0;try{for(var a,r=e.attributes[Symbol.iterator]();!(i=(a=r.next()).done);i=!0){var o=a.value,c=t[o.name],_=this.$t("models.attributes."+e.localize_key+"."+o.name);if(o.required&&(void 0!==c&&""!==c&&null!==c||this.validations.push({name:o.name,error:_+this.$t("ui.validator.is_required")})),void 0!==o.integer_greater_than&&parseInt(c)<=o.integer_greater_than&&this.validations.push({name:o.name,error:_+this.$t("ui.validator.greater_than")+o.integer_greater_than}),void 0!==o.cases){var l=!0,u=!1,d=void 0;try{for(var p,m=o.cases[Symbol.iterator]();!(l=(p=m.next()).done);l=!0){var f=p.value,h=t[f.name],v=this.$te("models.attributes.".concat(e.localize_key,".").concat(f.name));v||(v=this.$t("ui.pages.".concat(e.localize_key,".").concat(f.name))),c==f.based_on_value&&(f.required&&(void 0!==h&&""!==h&&null!==h||this.validations.push({name:f.name,error:this.$t("ui.validator.if")+_+this.$t("ui.validator.is")+this.$t("models.attributes."+e.localize_key+"."+f.based_on_value)+this.$t("ui.validator.then")+v+this.$t("ui.validator.is_required")})),void 0!==f.integer_greater_than&&parseInt(h)<=f.integer_greater_than&&this.validations.push({name:f.name,error:this.$t("ui.validator.if")+_+this.$t("ui.validator.is")+this.$t("models.attributes."+e.localize_key+"."+f.based_on_value)+this.$t("ui.validator.then")+v+this.$t("ui.validator.greater_than")+f.integer_greater_than}))}}catch(T){u=!0,d=T}finally{try{l||null==m["return"]||m["return"]()}finally{if(u)throw d}}}}}catch(T){n=!0,s=T}finally{try{i||null==r["return"]||r["return"]()}finally{if(n)throw s}}if(e.input_alert){var g=document.querySelectorAll("[data-column]"),b=!0,y=!1,w=void 0;try{for(var $,k=g[Symbol.iterator]();!(b=($=k.next()).done);b=!0){var x=$.value;element_class_list=x.classList,element_class_list.remove("error")}}catch(T){y=!0,w=T}finally{try{b||null==k["return"]||k["return"]()}finally{if(y)throw w}}var C=document.getElementsByClassName("validation_message");while(C[0])C[0].parentNode.removeChild(C[0]);var P=!0,S=!1,N=void 0;try{for(var q,A=this.validations[Symbol.iterator]();!(P=(q=A.next()).done);P=!0){var E=q.value,z=document.createElement("DIV");z.className="ui pointing red basic label validation_message",z.textContent=E.error;g=document.querySelectorAll("[data-column="+E.name+"]");var j=!0,R=!1,O=void 0;try{for(var I,D=g[Symbol.iterator]();!(j=(I=D.next()).done);j=!0){var L=I.value;element_class_list=L.classList,element_class_list.add("error"),L.appendChild(z)}}catch(T){R=!0,O=T}finally{try{j||null==D["return"]||D["return"]()}finally{if(R)throw O}}}}catch(T){S=!0,N=T}finally{try{P||null==A["return"]||A["return"]()}finally{if(S)throw N}}}return!(this.validations.length>0)}return!1}return!0}}};e.exports=i},"6ebe":function(e){e.exports={_comment:"此檔案為Scanner 設定 檔案",name:"neuron",options:["is_scan_mode","is_scan_action_mode","is_batch_mode","is_operation_mode","is_core_waybill_pieces_mode","is_update_corewaybill_mode","is_auto_print_label_mode","is_distributed_to_mode","is_high_performance_mode","is_noty_audio_mode","is_speech_mode","is_quick_corewaybill_related_columns","is_package_mode","is_unpackage_mode","pack_p_m_mode","pack_m_mode","pack_need_source_mode","core_waybill_template_mode"]}},"6f33":function(e,t,i){"use strict";var n=i("54c0"),s=i.n(n);s.a},"6fd5":function(e,t,i){"use strict";var n=i("92f4"),s=i.n(n);s.a},"701c":function(e,t,i){},"703d":function(e,t,i){},"70d7":function(e,t){e.exports=function(e,t){for(var i=e[0],n=e[1],s=!1,a=0,r=t.length-1;a<t.length;r=a++){var o=t[a][0],c=t[a][1],_=t[r][0],l=t[r][1],u=c>n!=l>n&&i<(_-o)*(n-c)/(l-c)+o;u&&(s=!s)}return s}},7143:function(e,t,i){"use strict";var n=i("ae28"),s=i.n(n);s.a},"71f5":function(e){e.exports={name:"dark05",color:{background_img:"ubuntu_14_04.jpg",background_position:"0% 0%",background:"linear-gradient(134deg, rgba(0, 0, 0, 0.9)0%, rgba(142, 162, 232, 1)100%)",font:"white",warning:"white",show_setting_icon:"orange",setting_group_icon:"white"},computer:{background_position:"0% 0%"},mobile:{background_position:"0% 0%"}}},"732f":function(e,t,i){"use strict";var n=i("44bd"),s=i.n(n);s.a},7400:function(e,t,i){},7441:function(e,t,i){},"747a":function(e,t,i){"use strict";var n=i("1ac9"),s=i.n(n);s.a},"749d":function(e){e.exports={_comment:"此檔案為Scanner 設定 檔案",name:"neuron",options:["is_scan_mode","is_scan_action_mode","is_batch_mode","is_operation_mode","is_core_waybill_pieces_mode","is_update_corewaybill_mode","is_auto_print_label_mode","is_distributed_to_mode","is_high_performance_mode","is_noty_audio_mode","is_speech_mode","is_quick_corewaybill_related_columns","is_core_waybill_creation_mode","is_webcam_mode","is_package_mode","is_unpackage_mode","pack_p_m_mode","pack_m_mode","pack_need_source_mode","core_waybill_template_mode"]}},"753e":function(e,t,i){},"756f":function(e,t,i){"use strict";var n=i("b810"),s=i.n(n);s.a},"758c":function(e,t,i){"use strict";var n=i("701c"),s=i.n(n);s.a},"768b":function(t,i,n){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"stations_modal"}},[e.is_initialized?i("div",{staticClass:"ui basic modal stations"},[i("div",{staticClass:"ui icon header"},[e._m(0),e.$store.getters["provider/is_current_staff_minimalist_layout"]?i("div",[e.$store.getters["provider/current_station"]?i("h2",[e._v("\n                    "+e._s(e.current_store.is_auto_gps_station_position_by_60s?e.$t("ui.toolbox.stations_modal.turn_on_auto_tracking"):e.$t("ui.toolbox.stations_modal.modify_current_station"))+"\n                ")]):i("h2",[e._v("\n                    "+e._s(e.$t("ui.toolbox.stations_modal.please_select_the_current_station"))+"\n                ")])]):i("div",[i("h2",[e._v("\n                    "+e._s(e.$t("ui.toolbox.stations_modal.you_are_not_a_manager_will_modify_station_please_contact_the_manager"))+"\n                ")]),i("h2",{directives:[{name:"show",rawName:"v-show",value:e.staff_not_manager_first_select_station,expression:"staff_not_manager_first_select_station"}]},[e._v("\n                    "+e._s(e.$t("ui.toolbox.stations_modal.you_do_not_belong_station_will_update_your_data_after_selection"))+"\n                ")])])]),i("div",{staticClass:"content center aligned"},[e.current_store.is_auto_gps_station_position_by_60s?i("div",[i("h2",{staticStyle:{color:"white"}},[e.current_position.is_first_initialized?i("span",[e._v("\n                        "+e._s(e.$t("ui.toolbox.stations_modal.current_station"))+"：\n                        "),i("span",[e._v("\n                            "+e._s(e.$store.getters["provider/current_station"].name||e.$t("ui.general.no"))+"\n                        ")])]):i("span",["failure"==e.current_position.status?i("span",[e._v("\n                            "+e._s(e.current_position.messages)+"\n                        ")]):i("span",[e._v("\n                            "+e._s(e.$t("ui.toolbox.stations_modal.tracking_GPS"))+"\n                            "),i("div",{staticClass:"ui active inline loader"}),e._v("\n                            "+e._s(e.$t("ui.toolbox.stations_modal.decisioning"))+"\n                        ")])])])]):i("div",[i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection dropdown"},[i("div",{staticClass:"text"},[i("span",[e._v("\n                            "+e._s(e.$store.getters["provider/current_station"].name||e.$t("ui.general.please_select"))+"\n                        ")])]),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu",style:{minHeight:e.stations.length>4?"220px":""}},[i("div",{staticClass:"item",class:{"selected active":null==e.current_station.identity},on:{click:function(t){t.preventDefault(),e.current_station.identity=e.current_station.name=null}}},[e._v("\n                            "+e._s(e.$t("ui.toolbox.stations_modal.cancel_current_station"))+"\n\n                        ")]),e._l(e.stations,function(t){return i("div",{staticClass:"item",class:{"selected active":e.current_station.identity==t.identity},on:{click:function(i){i.preventDefault(),e.current_station=e._.cloneDeep(t)}}},[e._v("\n                            "+e._s(t.name)+"\n                        ")])})],2)])])]),i("div",{staticClass:"actions"},[i("div",{staticClass:"ui teal inverted button",class:{active:e.is_auto_gps_station_position_once},on:{click:function(t){e.current_store.is_auto_gps_station_position_once=!e.is_auto_gps_station_position_once}}},[i("i",{staticClass:"crosshairs icon"}),e._v("\n                "+e._s(e.$t("ui.toolbox.stations_modal.btns.track_once"))+"\n            ")]),i("div",{staticClass:"ui blue inverted button",class:{active:e.is_auto_gps_station_position_by_60s},on:{click:function(t){e.current_store.is_auto_gps_station_position_by_60s=!e.is_auto_gps_station_position_by_60s}}},[i("i",{staticClass:"crosshairs icon"}),e._v("\n                "+e._s(e.$t("ui.toolbox.stations_modal.btns.auto_tracking_every_minute"))+"\n            ")]),i("div",{staticClass:"ui green ok inverted button",on:{click:function(t){e.update_staff()}}},[i("i",{staticClass:"checkmark icon"}),e._v("\n                "+e._s(e.$t("ui.general.update"))+"\n            ")])])]):e._e()])},a=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("i",{staticClass:"large icons"},[i("i",{staticClass:"inbox icon"})])}];function r(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function o(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function o(e){r(a,n,s,o,c,"next",e)}function c(e){r(a,n,s,o,c,"throw",e)}o(void 0)})}}var c={data:function(){return{is_initialized:!1,current_station:{identity:null,name:null}}},computed:{current_store:function(){return this.$store.state.provider},is_auto_gps_station_position_once:function(){return this.current_store.is_auto_gps_station_position_once},is_auto_gps_station_position_by_60s:function(){return this.current_store.is_auto_gps_station_position_by_60s},current_position:function(){return this.current_store.current_position},current_staff:function(){return this.current_store.current_staff},stations:function(){return this.current_store.stations},staff_not_manager_first_select_station:function(){return!this.$store.getters["provider/is_current_staff_minimalist_layout"]&&!this.current_staff.station_identity},staff_can_select_station:function(){return!!this.$store.getters["provider/is_current_staff_minimalist_layout"]||!this.current_staff.station_identity}},watch:{"current_store.is_auto_gps_station_position_once":function(e){this.current_store.is_auto_gps_station_position_once=!1}},mounted:function(){this.init()},methods:{init:function(){var e=o(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.current_station=t.$store.getters["provider/current_station"],t.is_initialized=!0});case 2:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),update_staff:function(){if(!this.current_store.is_auto_gps_station_position_by_60s)try{this.$store.dispatch("provider/update_current_staff_station_identity",this.current_station),this.current_station.name?this.$noty.success(this.$t("ui.notifications.success.update__name",{name:this.$t("models.stations")})):this.$noty.warning(this.$t("ui.general.cancel")+" "+this.$t("models.stations"))}catch(e){this.$noty.error(this.$t("ui.notifications.error.update__name",{name:this.$t("models.stations")}))}}}},_=c,l=(n("2b49"),n("2877")),u=Object(l["a"])(_,s,a,!1,null,"783edfb5",null);i["a"]=u.exports},7729:function(e,t,i){"use strict";var n=i("7441"),s=i.n(n);s.a},"780c":function(e,t,i){"use strict";var n=i("dbc1"),s=i.n(n);s.a},7818:function(e,t,i){"use strict";var n=i("9269"),s=i.n(n);s.a},7819:function(e,t,i){},"781d":function(e,t,i){"use strict";var n=i("4085"),s=i.n(n);s.a},7854:function(e,t,i){},"792f":function(e,t,i){"use strict";var n=i("a138"),s=i.n(n);s.a},"7a3d":function(e,t,i){"use strict";var n=i("a8bf"),s=i.n(n);s.a},"7a74":function(e,t,i){"use strict";var n=i("fa83"),s=i.n(n);s.a},"7aa4":function(e,t,i){},"7b3d":function(e,t,i){},"7b51":function(e,t,i){},"7b67":function(e,t,i){},"7beb":function(e,t,i){},"7c41":function(e,t,i){"use strict";var n=i("6c79"),s=i.n(n);s.a},"7c4c":function(e,t,i){},"7c6f":function(e,t,i){"use strict";var n=i("4c71"),s=i.n(n);s.a},"7d53":function(e,t,i){},"7d5b":function(e){e.exports=[{_comment:"neuron 預設檔案",name:"運單起始貨況",i18n_key:"ui.scanner.setting_groups.LA00",barcode:"LA00",primary_icon_classes:"",secondary_icon_classes:"",icon_file_name:"LA01",is_scan_action:!0,is_hide:!0,color:"black",settings:[]},{name:"不明貨",i18n_key:"ui.scanner.setting_groups.LA24",barcode:"LA24",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner red question icon",icon_file_name:"LA01",is_scan_action:!0,is_hide:!1,color:"#60373E",settings:["is_core_waybill_creation_mode_true","is_webcam_mode_false","is_batch_mode_false","is_package_mode_false","is_auto_print_label_mode_false","is_distributed_to_mode_false","is_webcam_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"入倉",i18n_key:"ui.scanner.setting_groups.LA21",barcode:"LA21",primary_icon_classes:"warehouse icon",secondary_icon_classes:"left bottom corner green sign-in icon",icon_file_name:"LA01",is_scan_action:!0,is_hide:!1,color:"#0089A7",settings:["is_core_waybill_creation_mode_false","is_webcam_mode_true","is_batch_mode_false","is_package_mode_false","is_auto_print_label_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"上架",i18n_key:"ui.scanner.setting_groups.LA22",barcode:"LA22",primary_icon_classes:"sitemap icon",secondary_icon_classes:null,icon_file_name:"LA01",is_scan_action:!0,is_hide:!1,color:"#5DAC81",settings:["is_core_waybill_creation_mode_false","is_webcam_mode_false","is_batch_mode_false","is_package_mode_false","is_auto_print_label_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"出倉",i18n_key:"ui.scanner.setting_groups.LA23",barcode:"LA23",primary_icon_classes:"warehouse icon",secondary_icon_classes:"right bottom corner red sign-out icon",icon_file_name:"LA01",is_scan_action:!0,is_hide:!1,color:"#D0104C",settings:["is_core_waybill_creation_mode_false","is_webcam_mode_false","is_batch_mode_false","is_package_mode_false","is_auto_print_label_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"1.收貨",i18n_key:"ui.scanner.setting_groups.LA01",barcode:"LA01",primary_icon_classes:"dolly icon",secondary_icon_classes:null,icon_file_name:"LA01",is_scan_action:!0,is_hide:!1,color:"#58B2DC",settings:["is_core_waybill_creation_mode_false","is_webcam_mode_false","is_batch_mode_false","is_package_mode_false","is_auto_print_label_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"2.進站",i18n_key:"ui.scanner.setting_groups.LA02",barcode:"LA02",primary_icon_classes:"pallet icon",secondary_icon_classes:null,icon_file_name:"LA02",is_scan_action:!0,is_hide:!1,color:"#EFBB24",settings:["is_core_waybill_creation_mode_false","is_webcam_mode_false","is_batch_mode_false","is_package_mode_false","is_distributed_to_mode_true","is_unpackage_mode_false","is_scan_action_mode_true","is_auto_print_label_mode_false","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"包裝",i18n_key:"ui.scanner.setting_groups.package",barcode:"package",primary_icon_classes:"box icon",secondary_icon_classes:null,icon_file_name:"package",is_scan_action:!1,is_hide:!1,color:"#1B813E",settings:["is_core_waybill_creation_mode_false","is_webcam_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_scan_action_mode_false","is_distributed_to_mode_false","is_package_mode_true","is_unpackage_mode_false","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_min_card"]},{name:"3.派件中",i18n_key:"ui.scanner.setting_groups.LA03",barcode:"LA03",primary_icon_classes:"shipping fast icon",secondary_icon_classes:null,icon_file_name:"LA03",is_scan_action:!0,is_hide:!1,color:"#77428D",settings:["is_core_waybill_creation_mode_false","is_webcam_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_true","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"3.聯運",i18n_key:"ui.scanner.setting_groups.LA10",barcode:"LA10",primary_icon_classes:"random icon",secondary_icon_classes:null,icon_file_name:"LA10",is_scan_action:!0,is_hide:!1,color:"#4A225D",settings:["is_core_waybill_creation_mode_false","is_webcam_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"3.出站集貨中轉",i18n_key:"ui.scanner.setting_groups.LA09",barcode:"LA09",primary_icon_classes:"arrows alternate icon",secondary_icon_classes:null,icon_file_name:"LA09",is_scan_action:!0,is_hide:!1,color:"#C1328E",settings:["is_core_waybill_creation_mode_false","is_webcam_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"4.回站",i18n_key:"ui.scanner.setting_groups.LA05",barcode:"LA05",primary_icon_classes:"home icon",secondary_icon_classes:"right bottom corner red undo icon",icon_file_name:"LA05",is_scan_action:!0,is_hide:!1,color:"#91989F",settings:["is_core_waybill_creation_mode_false","is_webcam_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"4.已配達",i18n_key:"ui.scanner.setting_groups.LA04",barcode:"LA04",primary_icon_classes:"clipboard list icon",secondary_icon_classes:"right bottom corner green check icon",icon_file_name:"LA04",is_scan_action:!0,is_hide:!1,color:"#86C166",settings:["is_core_waybill_creation_mode_false","is_webcam_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"4.異常件",i18n_key:"ui.scanner.setting_groups.LA06",barcode:"LA06",primary_icon_classes:"exclamation triangle icon",secondary_icon_classes:"right bottom corner red close icon",icon_file_name:"LA06",is_scan_action:!0,is_hide:!1,color:"#CB4042",settings:["is_core_waybill_creation_mode_false","is_webcam_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"4.異常件排除",i18n_key:"ui.scanner.setting_groups.LA07",barcode:"LA07",primary_icon_classes:"exclamation triangle icon",secondary_icon_classes:"right bottom corner green check icon",icon_file_name:"LA07",is_scan_action:!0,is_hide:!1,color:"#51A8DD",settings:["is_core_waybill_creation_mode_false","is_webcam_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"寄件者退運",i18n_key:"ui.scanner.setting_groups.LA08",barcode:"LA08",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA08",is_scan_action:!0,is_hide:!0,color:"teal",settings:["is_core_waybill_creation_mode_false","is_webcam_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"鎖定",i18n_key:"ui.scanner.setting_groups.LA11",barcode:"LA11",primary_icon_classes:"lock icon",secondary_icon_classes:null,icon_file_name:"LA11",is_scan_action:!0,is_hide:!1,color:"#CB4042",settings:["is_core_waybill_creation_mode_false","is_webcam_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_scan_action_mode_true","is_distributed_to_mode_false","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"解除鎖定",i18n_key:"ui.scanner.setting_groups.LA12",barcode:"LA12",primary_icon_classes:"lock open icon",secondary_icon_classes:null,icon_file_name:"LA12",is_scan_action:!0,is_hide:!1,color:"#51A8DD",settings:["is_core_waybill_creation_mode_false","is_webcam_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_scan_action_mode_true","is_distributed_to_mode_false","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"結案",i18n_key:"ui.scanner.setting_groups.LA13",barcode:"LA13",primary_icon_classes:"check icon",secondary_icon_classes:null,icon_file_name:"LA13",is_scan_action:!0,is_hide:!1,color:"#86C166",settings:["is_core_waybill_creation_mode_false","is_webcam_mode_false","is_batch_mode_false","is_scan_action_mode_false","is_package_mode_false","is_unpackage_mode_false","is_distributed_to_mode_false","pack_need_source_mode_false","is_update_corewaybill_mode_false","core_waybill_template_mode_card"]},{name:"拆包",i18n_key:"ui.scanner.setting_groups.unpackage",barcode:"unpackage",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner red cut icon",icon_file_name:"unpackage",is_scan_action:!1,is_hide:!1,color:"#F75C2F",settings:["is_core_waybill_creation_mode_false","is_webcam_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_scan_action_mode_false","is_distributed_to_mode_false","is_package_mode_false","is_unpackage_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_min_card"]},{name:"分撥",i18n_key:"ui.scanner.setting_groups.distributed_to",barcode:"distributed_to",primary_icon_classes:"map signs icon",secondary_icon_classes:null,icon_file_name:"LA09",is_scan_action:!1,is_hide:!1,color:"#66BAB7",settings:["is_core_waybill_creation_mode_false","is_webcam_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_scan_action_mode_false","is_package_mode_false","is_unpackage_mode_false","is_update_corewaybill_mode_false","is_distributed_to_mode_true","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"查詢運單",i18n_key:"ui.scanner.setting_groups.search",barcode:"search",primary_icon_classes:"search icon",secondary_icon_classes:null,icon_file_name:"search",is_scan_action:!1,is_hide:!1,color:"#227D51",settings:["is_core_waybill_creation_mode_false","is_webcam_mode_false","is_batch_mode_false","is_scan_action_mode_false","is_package_mode_false","is_unpackage_mode_false","is_distributed_to_mode_false","pack_need_source_mode_false","is_update_corewaybill_mode_false","core_waybill_template_mode_card"]},{name:"袋包運, 裝袋作業",i18n_key:"ui.scanner.setting_groups.pack_house_waybill",barcode:"pack_house_waybill",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"package",is_scan_action:!1,is_hide:!0,color:"green",settings:["is_core_waybill_creation_mode_false","is_webcam_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_true","is_unpackage_mode_false","is_scan_action_mode_false","is_update_corewaybill_mode_false","is_distributed_to_mode_false","core_waybill_template_mode_min_card","pack_need_source_mode_false","pack_p_m_mode_House","pack_m_mode_Waybill"]},{name:"運包子, 一票多件",i18n_key:"ui.scanner.setting_groups.pack_waybill_goods",barcode:"pack_waybill_goods",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"package",is_scan_action:!1,is_hide:!0,color:"limegreen",settings:["is_core_waybill_creation_mode_false","is_webcam_mode_false","is_batch_mode_false","is_scan_action_mode_false","is_package_mode_true","is_unpackage_mode_false","is_distributed_to_mode_false","is_update_corewaybill_mode_false","pack_need_source_mode_true","pack_p_m_mode_Waybill","pack_m_mode_Goods"]}]},"7da0":function(e,t,i){"use strict";var n=i("9a16"),s=i.n(n);s.a},"7db1":function(e,t,i){},"7e0c":function(e,t,i){"use strict";var n=i("26b4"),s=i.n(n);s.a},"7f22":function(e,t,i){"use strict";var n=i("a87a"),s=i.n(n);s.a},8039:function(e){e.exports=[{name:"收貨",color:"#3a8df5"},{name:"進站",color:"orange"},{name:"派件中",color:"#9559f4"},{name:"已配達",color:"green"},{name:"回站",color:"gray"},{name:"異常件",color:"red"},{name:"異常件問題排除",color:"cornflowerblue"},{name:"寄件者退運",color:"teal"},{name:"出站集貨中轉",color:"violet"},{name:"聯運",color:"purple"},{name:"鎖定",color:"darkred"},{name:"解除鎖定",color:"cornflowerblue"},{name:"結案",color:"#4bba45d9"},{name:"包裝",color:"green"},{name:"拆包",color:"orangered"},{name:"查詢運單",color:"limegreen"}]},8099:function(e,t,i){},8115:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui longer flip modal scanner"},[i("ScannerMain",{attrs:{is_modal:!0}})],1)},s=[],a=i("1405");function r(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function o(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function o(e){r(a,n,s,o,c,"next",e)}function c(e){r(a,n,s,o,c,"throw",e)}o(void 0)})}}var c={name:"ScannerModal",props:{},data:function(){return{is_mobile_width:!1,console_log_content:"",console_log_theme_path:""}},computed:{current_store:function(){return this.$store.state.customer},style:function(){return this.$store.state.style},service_config:function(){return this.$store.state.customer.service_config},service_name:function(){return this.current_store.customer.provider_node.service_name},scanner_module_store:function(){return this.$store.state.customer.scanner_module}},mounted:function(){this.init()},watch:{is_mobile_width:{immediate:!0,handler:function(e){var t=this;this.$nextTick(function(){var i=t.scanner_module_store.config.theme,n=e?"mobile":"computer";if(i[n]){var s=i[n].background_position?i[n].background_position+" / cover":"0% 0%";t.scanner_module_store.config.theme.background=i.color.background_img?"url(/images/scanner_background/"+i.color.background_img+") "+s+" #1b1c1d":i.color.background}})}}},methods:{init:function(){var e=o(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.set_is_mobile_width();case 3:return e.next=5,this.set_scanner_theme();case 5:return e.next=7,this.set_scanner_setting();case 7:return e.next=9,this.set_scanner_setting_groups();case 9:return e.next=11,new Promise(function(e){console.log("//=============== \n  Now scanner configs: \n"+t.console_log_content+"\n  About setting file path: config/services/"+t.service_name+"/scanner/ \n  About theme file path: "+t.console_log_theme_path+" \n//=============== \n"),e()});case 11:e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](0),console.log(e.t0);case 16:case"end":return e.stop()}},e,this,[[0,13]])}));function t(){return e.apply(this,arguments)}return t}(),set_is_mobile_width:function(){var e=this;return this.is_mobile_width=this.style.width<=767,$(window).resize(function(){e.is_mobile_width=e.style.width<=767}),Promise.resolve()},set_scanner_theme:function(){var e,t,n,s,a=this;try{var r=i("b102");if(n=_.findLast(r,function(e){return e.identity==a.$store.state.provider.node.identity}),n&&n.theme_file_name?(s=n.theme_file_name,this.console_log_theme_path="components/scanner/provider/themes/node.json"):(s=this.service_config.scanner_theme,this.console_log_theme_path="config/services/"+this.service_name+"/config.json"),!s)throw"Scanner theme file not find";e=s+".json",t=i("bab3")("./"+e),n=t}catch(u){e="default.json",n=i("8126"),this.console_log_theme_path="components/scanner/provider/themes/default.json",console.log(u)}finally{this.scanner_module_store.config.theme=n,this.console_log_content+="    theme: "+e+"\n"}try{var o=this.scanner_module_store.config.theme,c=this.is_mobile_width?"mobile":"computer";if(o[c]){var l=o[c].background_position?o[c].background_position+" / cover":"0% 0%";this.scanner_module_store.config.theme.background=o.color.background_img?"url(/images/scanner_background/"+o.color.background_img+") "+l+" #1b1c1d":o.color.background}}catch(u){console.log(u)}return Promise.resolve()},set_scanner_setting:function(){var e,t,n;try{if(!this.service_name)throw"Scanner settings file not find";e="settings.json",t=i("caff")("./"+e),n=t}catch(s){e="settings.json",n=i("caff")("./"+e)}finally{this.scanner_module_store.config.settings=n.options,this.console_log_content+="    settings: "+e+"\n"}return Promise.resolve()},set_scanner_setting_groups:function(){try{if(!this.service_name)throw"Scanner setting groups file not find";var e="setting_groups.json",t=i("caff")("./"+e);this.scanner_module_store.setting_groups=t}catch(n){e="setting_groups.json",this.scanner_module_store.setting_groups=i("caff")("./"+e),console.log(n)}finally{this.console_log_content+="    setting_groups: "+e+"\n"}return Promise.resolve()}},components:{ScannerMain:a["default"]}},l=c,u=(i("51da"),i("2877")),d=Object(u["a"])(l,n,s,!1,null,"7b465b7c",null);t["default"]=d.exports},8126:function(e){e.exports={_comment:"此檔案管理Scanner主題顏色，node_name是給人標記誰用的",name:"default",color:{background_img:"",background:"#1b1c1d",background_position:"0% 0%",font:"white",warning:"white",show_setting_icon:"orange",setting_group_icon:"white"},computer:{background_position:"0% 50%"},mobile:{background_position:"0% 0%"}}},"812b":function(e,t){function i(e){var t=e,i=document.createElement("a");i.href=t,this.parse=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";i.parameters=i.pathname.split("/").filter(function(e){return e.match(":")});var n=i.protocol+"//"+i.host;return $.each(i.parameters,function(t,n){i.pathname=i.pathname.replace(n,e[n.replace(":","")])}),n+=i.pathname+t+i.search,n},this.get_query_string=function(e){var t=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),n=t.exec(i.search);return n&&n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):""},this.update_query_string=function(e,t){var n=e+"="+t;if(i.search){var s=new RegExp("([?&])"+e+"[^&]*");null!==i.search.match(s)?i.search=i.search.replace(s,"$1"+n):i.search=i.search+"&"+n}else i.search=i.search+"?"+n;return i.href},this.remove_query_string=function(e){if(i.search){for(var t=i.search.substr(1,i.search.length).split("&"),n=t.length-1;n>=0;n-=1)param=t[n].split("=")[0],param===e&&t.splice(n,1);i.search="?"+t.join("&")}return i.href}}e.exports=i},"821d":function(e,t,i){},"82b9":function(e,t,i){},"84f5":function(e,t,i){"use strict";var n=i("bf1b"),s=i.n(n);s.a},"850d":function(e,t,i){},"85e5":function(e,t,i){"use strict";var n=i("e1c1"),s=i.n(n);s.a},8785:function(e,t,i){},"87bc":function(e,t,i){},8813:function(e,t,i){"use strict";var n=i("7b51"),s=i.n(n);s.a},8943:function(e,t,i){},8993:function(e,t,i){"use strict";var n=i("db29"),s=i.n(n);s.a},"89dd":function(e,t,i){},"89ed":function(e,t,i){"use strict";var n=i("2029"),s=i.n(n);s.a},"8a4c":function(e,t,i){"use strict";var n=i("269b"),s=i.n(n);s.a},"8bc8":function(e,t,i){},"8c81":function(e,t,i){},"8c8a":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui segment",staticStyle:{position:"relative"}},[i("div",{staticClass:"ui horizontal list"},e._l(e.$store.state.provider.service_config.footer_imgs,function(e){return i("div",{staticClass:"item"},[i("img",{staticStyle:{height:"50px"},attrs:{src:"/images/"+e}})])}))])},s=[],a={name:"Advertising"},r=a,o=i("2877"),c=Object(o["a"])(r,n,s,!1,null,"4e74054d",null);t["a"]=c.exports},"8e1f":function(e,t,i){"use strict";var n=i("ceba"),s=i.n(n);s.a},"8e2f":function(e,t,i){},"8e94":function(e,t,i){"use strict";var n=i("5dd9"),s=i.n(n);s.a},"8f57":function(e,t,i){"use strict";var n=i("87bc"),s=i.n(n);s.a},"8f86":function(e,t,i){},"8fe8":function(e,t,i){},"8ffe":function(e,t,i){},9196:function(e,t,i){},"91d1":function(e,t,i){"use strict";var n=i("c498"),s=i.n(n);s.a},"91d4":function(e,t,i){},9249:function(e){e.exports=[{_comment:"axon 預設檔案",name:"運單起始貨況",i18n_key:"ui.scanner.setting_groups.LB00",barcode:"LB00",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA01",is_scan_action:!0,is_hide:!0,color:"black",settings:[]},{name:"1.放行",i18n_key:"ui.scanner.setting_groups.LB01",barcode:"LB01",primary_icon_classes:"clipboard check icon",secondary_icon_classes:null,icon_file_name:"LA01",is_scan_action:!0,is_hide:!1,color:"#3a8df5",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_package_mode_false","is_auto_print_label_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"2.點交",i18n_key:"ui.scanner.setting_groups.LB02",barcode:"LB02",primary_icon_classes:"exchange icon",secondary_icon_classes:"right bottom corner green check icon",icon_file_name:"LA02",is_scan_action:!0,is_hide:!1,color:"orange",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_package_mode_false","is_auto_print_label_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"3.異常件",i18n_key:"ui.scanner.setting_groups.LA06",barcode:"LA06",primary_icon_classes:"exclamation triangle icon",secondary_icon_classes:"right bottom corner red close icon",icon_file_name:"LA06",is_scan_action:!0,is_hide:!1,color:"#CB4042",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"3.異常件排除",i18n_key:"ui.scanner.setting_groups.LA07",barcode:"LA07",primary_icon_classes:"exclamation triangle icon",secondary_icon_classes:"right bottom corner green check icon",icon_file_name:"LA07",is_scan_action:!0,is_hide:!1,color:"#51A8DD",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"鎖定",i18n_key:"ui.scanner.setting_groups.LA11",barcode:"LA11",primary_icon_classes:"lock icon",secondary_icon_classes:null,icon_file_name:"LA11",is_scan_action:!0,is_hide:!1,color:"#CB4042",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_scan_action_mode_true","is_distributed_to_mode_false","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"解除鎖定",i18n_key:"ui.scanner.setting_groups.LA12",barcode:"LA12",primary_icon_classes:"lock open icon",secondary_icon_classes:null,icon_file_name:"LA12",is_scan_action:!0,is_hide:!1,color:"#51A8DD",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_scan_action_mode_true","is_distributed_to_mode_false","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"結案",i18n_key:"ui.scanner.setting_groups.LA13",barcode:"LA13",primary_icon_classes:"check icon",secondary_icon_classes:null,icon_file_name:"LA13",is_scan_action:!0,is_hide:!1,color:"#86C166",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_scan_action_mode_false","is_package_mode_false","is_unpackage_mode_false","is_distributed_to_mode_false","pack_need_source_mode_false","is_update_corewaybill_mode_false","core_waybill_template_mode_card"]},{name:"查詢運單",i18n_key:"ui.scanner.setting_groups.search",barcode:"search",primary_icon_classes:"search icon",secondary_icon_classes:null,icon_file_name:"search",is_scan_action:!1,is_hide:!1,color:"#227D51",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_scan_action_mode_false","is_package_mode_false","is_unpackage_mode_false","is_distributed_to_mode_false","pack_need_source_mode_false","is_update_corewaybill_mode_false","core_waybill_template_mode_card"]}]},9269:function(e,t,i){},9273:function(e,t,i){},9290:function(e,t,i){},"92be":function(e,t,i){"use strict";var n=i("3cfd"),s=i.n(n);s.a},"92de":function(e,t,i){},"92f4":function(e,t,i){},"92fe":function(e,t,i){"use strict";var n=i("6945"),s=i.n(n);s.a},9302:function(e,t,i){},"936c":function(e,t,i){"use strict";var n=i("f533"),s=i.n(n);s.a},9431:function(module,__webpack_exports__,__webpack_require__){"use strict";var _components_partials_provider_sidebar_vue__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("4eaa"),_components_partials_provider_top_menu_vue__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("dbd6"),_components_partials_provider_footer_bar_vue__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("fe68"),_components_partials_provider_advertising_vue__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("e2ba"),_components_partials_provider_system_info_vue__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("ef8b"),_components_partials_provider_breadcrumb_vue__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("6d78"),_components_scanner_provider_modal_vue__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("bf31"),_components_toolbox_stations_modal_main_vue__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("768b"),_components_toolbox_date_picker_modal_main_vue__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("39b6"),_components_login_provider_main_vue__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("6192"),_assets_javascripts_keyboard_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("3c2e"),_assets_javascripts_keyboard_js__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(_assets_javascripts_keyboard_js__WEBPACK_IMPORTED_MODULE_10__),webcamjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("f89e"),webcamjs__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(webcamjs__WEBPACK_IMPORTED_MODULE_11__),login_validation_timer,login_timeout_hint_timer;function asyncGeneratorStep(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function _asyncToGenerator(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){asyncGeneratorStep(a,n,s,r,o,"next",e)}function o(e){asyncGeneratorStep(a,n,s,r,o,"throw",e)}r(void 0)})}}var PointInside=__webpack_require__("70d7");__webpack_exports__["a"]={name:"ProviderLayout",data:function(){return{clock:{ticker:null,remaining_time:0},selected_plan:0,action_cables:[],is_hide_icon_toggle_scanner_modal:!1,is_scanner_modal_opend:!1,date_picker_modal:{channel:"",type:""},is_phone_device:!1,phone_device_unidentified_count:0,websock_server:null,data_uri:""}},computed:{build_env:function(){return ENV.VUE_APP_BUILD_ENV},language:function(){return this.$store.state.language},human_remaining_time:function(){var e=this.$moment,t=e.duration(Math.floor(this.clock.remaining_time/1e3),"seconds"),i="";return t.days()>0&&(i+=" "+t.days()+this.$t("ui.general.day")),t.hours()>0&&(i+=" "+t.hours()+this.$t("ui.general.hour")),t.minutes()>0&&(i+=" "+t.minutes()+this.$t("ui.general.minute")),t.seconds()>0&&(i+=" "+t.seconds()+this.$t("ui.general.second")),i.trim()},back_two_page:function(){return this.$store.state.back_two_page},current_store:function(){return this.$store.state.provider}},created:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return"electron"==this.build_env&&(this.websock_server=new WebSocket("ws://127.0.0.1:8899/weight"),this.websock_server.onmessage=function(e){return console.log("message: ",e),t.$store.commit("provider/scanner_module/set_current_weight",parseFloat(e.data)),!1},this.websock_server.onclose=function(){console.log("WebSocket on weight disconnect")},this.websock_server.onopen=function(){console.log("WebSocket on weight opened")},this.websock_server.onerror=function(e){console.log("WebSocket on weight error")}),e.next=3,this.init();case 3:this.back_two_page.unshift(this.$route),document.title=this.$t("ui.page_titles."+this.$route.name)+" | Neuron",this.toggle_scanner_modal_keyboard_shortcut();case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),mounted:function(){var e=this;this.$bus.$off("toggle_scanner_modal"),this.$bus.$on("toggle_scanner_modal",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"toggle";e.toggle_scanner_modal(t)}),this.$bus.$off("toggle_station_modal"),this.$bus.$on("toggle_station_modal",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"toggle";e.toggle_station_modal(t)}),this.$bus.$off("date_picker_modal"),this.$bus.$on("date_picker_modal",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"toggle",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"daterange",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";e.date_picker_modal={channel:n,type:i},e.toggle_date_picker_modal(t)}),this.$bus.$off("toggle_scanner_modal_keyboard_shortcut"),this.$bus.$on("toggle_scanner_modal_keyboard_shortcut",function(){e.toggle_scanner_modal_keyboard_shortcut()}),this.$bus.$off("toggle_is_hide_icon_toggle_scanner_modal"),this.$bus.$on("toggle_is_hide_icon_toggle_scanner_modal",function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.toggle_is_hide_icon_toggle_scanner_modal(t)}),this.$bus.$off("is_print_waybill"),this.$bus.$on("is_print_waybill",function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,a=e.is_print_waybill(t,n,s);i?e.$bus.$emit(i,a):a.error&&alert(a.error)}),this.$store.state.style.width=$(window).width(),this.$store.state.style.height=$(window).height(),$(window).resize(function(){e.$store.state.style.width=$(window).width(),e.$store.state.style.height=$(window).height()})},beforeDestroy:function(){this.websock_server.close()},watch:{$route:function(e,t){console.log("provider Layout watch"),"settings"!=e.name&&this.check_current_station(),this.extend_login_timeout(),document.title=this.$t("ui.page_titles."+e.name)+" | Neuron",this.back_two_page.unshift(t),this.back_two_page.length=2},language:{handler:function(t){try{this._i18n.locale=t,this.cahnge_language_in_store_js_text(),document.title=this.$t("ui.page_titles."+this.$route.name)+" | Neuron"}catch(e){console.log(e),this.$noty.error(e)}},deep:!0},"current_store.is_auto_gps_station_position_once":{handler:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=11;break}return e.next=4,this.get_current_position();case 4:return e.next=6,this.set_station_position();case 6:return e.next=8,this.$store.dispatch("provider/fetch_current_position_address");case 8:return e.next=10,new Promise(function(e){i.$store.state.is_auto_gps_station_position_once=!1,e()});case 10:this.$noty.information($t("ui.toolbox.stations_modal.turn_on_GPS")+"，"+$t("ui.toolbox.stations_modal.btns.track_once"));case 11:e.next=17;break;case 13:e.prev=13,e.t0=e["catch"](0),this.$store.state.is_auto_gps_station_position_once=!1,console.log(e.t0);case 17:case"end":return e.stop()}},e,this,[[0,13]])}));function t(t){return e.apply(this,arguments)}return t}(),deep:!0},"current_store.is_auto_gps_station_position_by_60s":{handler:function(e){localStorage.setItem("is_auto_gps_station_position_by_60s",e),this.set_interval_gps_station_position(),e?(this.$noty.information(this.$t("ui.toolbox.stations_modal.turn_on_GPS")+"，"+this.$t("ui.toolbox.stations_modal.btns.auto_tracking_every_minute")),this.get_current_position(),this.set_station_position()):this.$noty.warning(this.$t("ui.toolbox.stations_modal.turn_of_GPS")+"，"+this.$t("ui.toolbox.stations_modal.btns.auto_tracking_every_minute"))},deep:!0}},methods:{snap:function(){var e=this;webcamjs__WEBPACK_IMPORTED_MODULE_11___default.a.snap(function(t){e.data_uri=t})},wait:function(e){return new Promise(function(t){return setTimeout(t,e)})},init:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise(function(e){for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n="",s=0;s<16;s++)n+=i.charAt(Math.floor(Math.random()*i.length));console.log(n),t.$store.state.instance_identity=n,e()});case 3:return e.next=5,new Promise(function(e){var i=localStorage.getItem("language")||"zh-TW";t.$store.state.language=i,e()});case 5:return e.next=7,new Promise(function(e){t.$store.commit("set_current_scope","provider"),e()});case 7:return e.next=9,new Promise(function(e){var i=navigator.userAgent.match(/android|webos|iphone|ipad|ipod|blackberry|iemobile/i);t.is_phone_device=!!i,e()});case 9:return e.next=11,this.validate_login();case 11:return e.next=13,new Promise(function(e){t.$store.state.is_login=!0,e()});case 13:return e.next=15,new Promise(function(e){$(document).mousedown(function(e){t.extend_login_timeout()}),$(document).keydown(function(e){t.extend_login_timeout()}),t.clock.ticker=setInterval(function(){t.login_expiration_countdown()},1e3),e()});case 15:return e.next=17,new Promise(function(e){t.action_cables.forEach(function(e){e.unsubscribe()}),t.action_cables=[],e()});case 17:return e.next=19,this.subscription();case 19:return e.next=21,this.$store.dispatch("provider/fetch_routes");case 21:return e.next=23,this.$store.dispatch("provider/fetch_node");case 23:return e.next=25,this.$store.dispatch("provider/fetch_stations");case 25:return e.next=27,this.$store.dispatch("provider/fetch_customers");case 27:return e.next=29,this.$store.dispatch("provider/fetch_current_staff");case 29:return e.next=31,this.$store.dispatch("provider/fetch_current_staff_operations");case 31:return e.next=33,this.$store.dispatch("provider/fetch_notifications");case 33:return e.next=35,new Promise(function(e){t.$cable.subscriptions.create({channel:"StaffChannel",staff_identity:t.$store.state.provider.current_staff.identity},{connected:function(){console.log("StaffChannel connected")},received:function(e){console.log(e)}}),e()});case 35:return e.next=37,this.setting_service_and_user_theme();case 37:return e.next=39,this.setting_is_can_use_top_menu_items();case 39:return e.next=41,new Promise(function(e){t.current_store.is_auto_gps_station_position_by_60s="true"==localStorage.getItem("is_auto_gps_station_position_by_60s"),e()});case 41:return e.next=43,this.wait(300*this.selected_plan);case 43:return e.next=45,new Promise(function(e){t.$store.state.initialize_statuses.top_menu=!0,e()});case 45:return e.next=47,new Promise(function(e){t.$store.state.initialize_statuses.service_theme=!0,e()});case 47:return e.next=49,this.wait(200*this.selected_plan);case 49:return e.next=51,this.check_staff_is_manager();case 51:return e.next=53,this.check_current_station();case 53:return e.next=55,this.set_current_staff_operation();case 55:return e.next=57,this.wait(400*this.selected_plan);case 57:return e.next=59,new Promise(function(e){t.$store.state.initialize_statuses.sidebar=!0,e()});case 59:return e.next=61,this.wait(100*this.selected_plan);case 61:return e.next=63,new Promise(function(e){t.$noty.information(t.$t("ui.general.initialize_complete"),300),t.$store.state.initialize_statuses.main=!0,t.$store.state.initialize_statuses.footer=!0,e()});case 63:e.next=68;break;case 65:switch(e.prev=65,e.t0=e["catch"](0),e.t0){default:}case 68:return e.prev=68,e.finish(68);case 70:case"end":return e.stop()}},e,this,[[0,65,68,70]])}));function t(){return e.apply(this,arguments)}return t}(),subscription:function subscription(){var _this6=this;return this.action_cables.push(this.$cable.subscriptions.create({channel:"RemoteControlChannel"},{received:function received(data){eval(data.script)}})),this.action_cables.push(this.$cable.subscriptions.create({channel:"LogChannel",action:"created"},{received:function(e){console.log("["+e.log.level+"]"+e.log.title+"-"+e.log.loggable_type)}})),this.action_cables.push(this.$cable.subscriptions.create({channel:"OperationChannel",action:"created"},{received:function(e){console.log("OperationChannel#created"),_this6.$store.state.operations.push(e.operation)}})),this.action_cables.push(this.$cable.subscriptions.create({channel:"OperationChannel",action:"updated"},{received:function(e){console.log("OperationChannel#updated");var t=_.findLast(_this6.$store.state.operations,function(t){return t.identity==e.operation.identity});_.merge(t,e.operation)}})),this.action_cables.push(this.$cable.subscriptions.create({channel:"CoreWaybillChannel",action:"created"},{received:function(e){console.log("CoreWaybillChannel#created"),_this6.$store.state.core_waybills.push(e.core_waybill)}})),this.action_cables.push(this.$cable.subscriptions.create({channel:"CoreWaybillChannel",action:"updated"},{received:function(e){console.log("CoreWaybillChannel#updated");var t=_.findLast(_this6.$store.state.core_waybills,function(t){return t.identity==e.core_waybill.identity});_.merge(t,e.core_waybill)}})),Promise.resolve()},setting_service_and_user_theme:function(){var t,i,n="",s=this.$store.state.provider.node.service_name,a=this.$store.state.provider.current_staff.theme_name;try{t=s+"/config.json",i=__webpack_require__("ccaa")("./"+t)}catch(e){t="default/config.json",i=__webpack_require__("ccaa")("./"+t)}finally{document.body.classList.add(s),this.$store.state.provider.service_config=i,n+="    service: "+t+"\n"}try{t=s+"/user_menu.json",i=__webpack_require__("ccaa")("./"+t)}catch(e){t="default/user_menu.json",i=__webpack_require__("ccaa")("./"+t)}finally{this.$store.state.provider.theme_menu=i[a],this.$store.state.provider.theme_menu_keys=Object.keys(i),n+="    user theme: "+t+"\n"}return console.log("//=============== \n  Now service&theme configs: \n"+n+"  All file path: config/services/ \n//=============== \n"),Promise.resolve()},setting_is_can_use_top_menu_items:function(){var e,t,i=this,n=["scanner"];return _.forEach(n,function(n){t=_.findLast(i.$store.state.provider.theme_menu,function(e){return e==n}),e="is_can_use_"+n,i.$store.state.provider[e]=!!t}),Promise.resolve()},check_staff_is_manager:function(){return this.$store.getters["provider/is_current_staff_minimalist_layout"]||this.$router.push({name:"provider_index"}),Promise.resolve()},check_current_station:function(){return this.$store.state.provider.current_staff.station_identity||this.$store.getters["provider/is_current_staff_minimalist_layout"]||(localStorage.setItem("target_router_name",this.$route.name),this.$noty.warning(this.$t("ui.toolbox.stations_modal.please_select_the_current_station")),this.toggle_station_modal("show")),Promise.resolve()},set_current_staff_operation:function(){return this.$store.state.provider.current_staff_operation=_.findLast(this.$store.state.provider.current_staff_operations,function(e){return e.number==localStorage.getItem("current_staff_operations_number")})||{identity:null,number:null},Promise.resolve()},set_interval_gps_station_position:function(){var e=this;if(this.current_store.is_auto_gps_station_position_by_60s)var t=setInterval(function(){e.current_store.current_position.is_first_initialized&&(e.get_current_position(),e.set_station_position())},6e4);else t&&(clearInterval(t),this.current_store.current_position.is_first_initialized=!1)},set_station_position:function(){var t=this;_.forEach(this.current_store.stations,function(i){if(i.position&&PointInside([t.current_store.current_position.latitude,t.current_store.current_position.longitude],$.parseJSON(i.position)))try{console.log("符合站點為:",i.name,i),t.$store.getters["provider/current_station"].identity!=i.identity&&(t.$store.dispatch("provider/update_current_staff_station_identity",i),t.$noty.success(t.$t("ui.notifications.success.update__name",{name:t.$t("models.stations"),reason:":"+i.name})))}catch(e){t.$noty.error(t.$t("ui.notifications.error.update__name",{name:t.$t("models.stations")}))}})},validate_login:function(){var e=this;if(!localStorage.getItem("authentication_token"))return this.$store.state.is_login=!1,Promise.reject("not logged in");if(localStorage.getItem("staff_expired_at")>this.$moment.utc().format()){var t=this.$store.state.settings.authorize_url;return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){return"success"==t.data.status?(e.extend_login_timeout(),Promise.resolve()):Promise.reject(t.data)})["catch"](function(t){if(t.response){switch(t.response.status){default:e.errors.push(t.response.status+" "+t.response.statusText)}e.$noty.error(e.$t("ui.pages.login.errors.failure_to_login")+": "+t.response.status+" "+t.response.statusText)}else if(t.errors)for(var i in t.errors)e.$noty.error(e.$t("ui.pages.login.errors.failure_to_login")+": "+i+" "+t.errors[i]);else e.$noty.error(e.$t("ui.pages.login.errors.failure_to_login")+": "+e.$t("ui.general.server_offline"));return e.clear_login_session(),e.$store.state.is_login=!1,Promise.reject("authorize failed")})}if(this.$noty.error(this.$t("ui.pages.login.errors.failure_to_login")+": "+this.$t("ui.pages.login.errors.timeout")),this.$store.state.is_login=!1,!this.$store.state.initialize_statuses.main)return this.clear_login_session(),Promise.reject("login timeout");$(this.$refs.login_expiration_hint_modal).modal("hide"),this.logout()},login_expiration_countdown:function(){this.clock.remaining_time=this.clock.remaining_time-1e3,this.clock.remaining_time<1e3&&this.validate_login(),this.clock.remaining_time<1e3*this.$store.state.global_setting.login_expiration_hint_preset&&this.show_login_timeout_hint()},show_login_timeout_hint:function(){var e=this;$(this.$refs.login_expiration_hint_modal).modal({closable:!1,onShow:function(){e.is_hide_icon_toggle_scanner_modal=!0,$(".ui.dimmer.modals").css("background","rgba(0,0,0,0.85)")},onHidden:function(){e.is_hide_icon_toggle_scanner_modal=!1}}).modal("show")},extend_login_timeout:function(){localStorage.setItem("staff_expired_at",this.$moment.utc(this.$moment().add(this.$store.state.global_setting.login_expiration_period,"second")).format()),this.clock.remaining_time=1e3*this.$store.state.global_setting.login_expiration_period,$(this.$refs.login_expiration_hint_modal).modal("hide")},clear_login_session:function(){clearTimeout(login_validation_timer),clearTimeout(login_timeout_hint_timer),localStorage.removeItem("staff_name"),localStorage.removeItem("staff_expired_at"),localStorage.removeItem("authentication_token")},redirect_to:function(e){window.location.replace(e)},logout:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.clear_login_session(),1==e&&localStorage.clear(),"electron"==ENV.VUE_APP_BUILD_ENV?this.init():this.redirect_to("/provider")},window_keydown:function(e){var t=new _assets_javascripts_keyboard_js__WEBPACK_IMPORTED_MODULE_10___default.a(e);(81==t.key_code&&t.ctrl||"WakeUp"==t.key)&&this.toggle_scanner_modal("toggle")},toggle_is_hide_icon_toggle_scanner_modal:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.is_hide_icon_toggle_scanner_modal=e},toggle_scanner_modal_keyboard_shortcut:function(){$(window).bind("keyup",this.window_keydown)},toggle_scanner_modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"toggle",t=this;this.$store.state.provider.is_can_use_scanner&&$(".ui.scanner.modal").modal({dimmerSettings:{opacity:0},autofocus:!1,inverted:!0,duration:200,onShow:function(){t.is_scanner_modal_opend=!0,t.$bus.$emit("set_modal_opened",!0)},onHidden:function(){t.is_scanner_modal_opend=!1,t.$bus.$emit("set_modal_opened",!1)}}).modal(e)},toggle_station_modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"toggle",t=this;$(".ui.modal.stations").modal({closable:!1,autofocus:!1,onShow:function(){t.is_hide_icon_toggle_scanner_modal=!0,$(".ui.dimmer.modals").css("background","rgba(0,0,0,0.85)")},onHidden:function(){t.is_hide_icon_toggle_scanner_modal=!1}}).modal(e)},toggle_date_picker_modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"toggle",t=this;$(".ui.modal.datetimerange").modal({closable:!1,autofocus:!1,onShow:function(){t.is_hide_icon_toggle_scanner_modal=!0,$(".ui.dimmer.modals").css("background","rgba(0,0,0,0.85)")},onHidden:function(){t.is_hide_icon_toggle_scanner_modal=!1}}).modal(e)},get_current_position:function(){var e=this;try{if(!navigator.geolocation)throw this.$t("ui.toolbox.stations_modal.errors.geolocation_is_not_supported_by_this_browser");if("http:"==location.protocol)throw this.$t("ui.toolbox.stations_modal.errors.your_web_protocol_is_not_HTTPS");navigator.geolocation.getCurrentPosition(function(t){if(!t.coords.latitude)throw e.$t("ui.toolbox.stations_modal.errors.get_location_failure");e.$store.dispatch("provider/set_current_position",{is_first_initialized:!0,status:"success",messages:"",latitude:t.coords.latitude,longitude:t.coords.longitude,address:{}}),console.log(t.coords)})}catch(t){return this.$noty.error(t),this.$store.dispatch("provider/set_current_position",{status:"failure",messages:t,latitude:"",longitude:"",address:{}}),Promise.reject(t)}},is_print_waybill:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,n={status:"failure",error:""},s=[],a=localStorage.getItem("print_waybill_history");if(a){s=$.parseJSON("["+a+"]");var r=_.find(s,function(t){return t.number==e});if(r){var o=this.$moment(r.created_at),c=this.$moment().diff(o,"second");c>t?(_.remove(s,function(t){return t.number==e}),this.set_print_waybill_history(s,e),n.status="success"):(n.status="failure",n.error="您無法在"+t+"秒內 連續印標")}else this.set_print_waybill_history(s,e),n.status="success";s.length>i&&(s.shift(),this.set_print_waybill_history(s))}else this.set_print_waybill_history(s,e),n.status="success";return console.log("print_waybill_history",localStorage.getItem("print_waybill_history")),n},set_print_waybill_history:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t&&e.push({number:t,created_at:this.$moment().format("YYYY/MM/DD HH:mm:ss")});var i=[];_.forEach(e,function(e){i.push(JSON.stringify(e))}),localStorage.setItem("print_waybill_history",i.toString())},cahnge_language_in_store_js_text:function(){var e=this;_.map(this.$store.state.element_ui_datepicker_daterange_options.shortcuts,function(t){t.text=e.$t(t.i18n_key)})}},components:{Login:_components_login_provider_main_vue__WEBPACK_IMPORTED_MODULE_9__["a"],Sidebar:_components_partials_provider_sidebar_vue__WEBPACK_IMPORTED_MODULE_0__["a"],TopMenu:_components_partials_provider_top_menu_vue__WEBPACK_IMPORTED_MODULE_1__["a"],FooterBar:_components_partials_provider_footer_bar_vue__WEBPACK_IMPORTED_MODULE_2__["a"],Advertising:_components_partials_provider_advertising_vue__WEBPACK_IMPORTED_MODULE_3__["a"],SystemInfo:_components_partials_provider_system_info_vue__WEBPACK_IMPORTED_MODULE_4__["a"],Breadcrumb:_components_partials_provider_breadcrumb_vue__WEBPACK_IMPORTED_MODULE_5__["a"],ScannerModal:_components_scanner_provider_modal_vue__WEBPACK_IMPORTED_MODULE_6__["a"],StationsModal:_components_toolbox_stations_modal_main_vue__WEBPACK_IMPORTED_MODULE_7__["a"],DatetimerangeModal:_components_toolbox_date_picker_modal_main_vue__WEBPACK_IMPORTED_MODULE_8__["a"]}}},94315:function(e,t,i){},"943c":function(e,t,i){"use strict";var n=i("5cce"),s=i.n(n);s.a},"944d":function(e,t,i){},9470:function(e,t,i){},"957b":function(module,__webpack_exports__,__webpack_require__){"use strict";var _components_partials_station_sidebar_vue__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("e0b3"),_components_partials_station_top_menu_vue__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("0743"),_components_partials_station_footer_bar_vue__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("a9cf"),_components_partials_station_advertising_vue__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("8c8a"),_components_partials_station_system_info_vue__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("5e6a"),_components_partials_station_breadcrumb_vue__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("e282"),_components_scanner_station_modal_vue__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("e745"),_components_login_station_main_vue__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("a48b"),_assets_javascripts_keyboard_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("3c2e"),_assets_javascripts_keyboard_js__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(_assets_javascripts_keyboard_js__WEBPACK_IMPORTED_MODULE_8__);function asyncGeneratorStep(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function _asyncToGenerator(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){asyncGeneratorStep(a,n,s,r,o,"next",e)}function o(e){asyncGeneratorStep(a,n,s,r,o,"throw",e)}r(void 0)})}}var PointInside=__webpack_require__("70d7");__webpack_exports__["a"]={name:"StationLayout",data:function(){return{selected_plan:0,action_cables:[],is_hide_icon_toggle_scanner_modal:!1,is_scanner_modal_opend:!1,is_phone_device:!1,phone_device_unidentified_count:0,is_logging_out:!1}},computed:{language:function(e){return e.$store.state.language},back_two_page:function(e){return e.$store.state.back_two_page},current_store:function(e){return e.$store.state.station}},created:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:this.back_two_page.unshift(this.$route),document.title=this.$t("ui.page_titles."+this.$route.name)+" | Neuron",this.toggle_scanner_modal_keyboard_shortcut();case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),mounted:function(){var e=this;this.$bus.$off("toggle_scanner_modal"),this.$bus.$on("toggle_scanner_modal",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"toggle";e.toggle_scanner_modal(t)}),this.$bus.$off("toggle_station_modal"),this.$bus.$on("toggle_station_modal",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"toggle";e.toggle_station_modal(t)}),this.$bus.$off("toggle_scanner_modal_keyboard_shortcut"),this.$bus.$on("toggle_scanner_modal_keyboard_shortcut",function(){e.toggle_scanner_modal_keyboard_shortcut()}),this.$bus.$off("toggle_is_hide_icon_toggle_scanner_modal"),this.$bus.$on("toggle_is_hide_icon_toggle_scanner_modal",function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.toggle_is_hide_icon_toggle_scanner_modal(t)}),this.$bus.$off("is_print_waybill"),this.$bus.$on("is_print_waybill",function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,a=e.is_print_waybill(t,n,s);i?e.$bus.$emit(i,a):a.error&&alert(a.error)})},watch:{$route:function(e,t){console.log("station Layout watch"),"settings"!=e.name&&this.check_current_station(),document.title=this.$t("ui.page_titles."+e.name)+" | Neuron",this.back_two_page.unshift(t),this.back_two_page.length=2},language:{handler:function(t){try{this._i18n.locale=t,this.cahnge_language_in_store_js_text(),document.title=this.$t("ui.page_titles."+this.$route.name)+" | Neuron"}catch(e){console.log(e),this.$noty.error(e)}},deep:!0},"current_store.is_auto_gps_station_position_once":{handler:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=9;break}return e.next=4,this.get_current_position();case 4:return e.next=6,this.$store.dispatch("station/fetch_current_position_address");case 6:return e.next=8,new Promise(function(e){i.$store.state.is_auto_gps_station_position_once=!1,e()});case 8:this.$noty.information($t("ui.toolbox.stations_modal.turn_on_GPS")+"，"+$t("ui.toolbox.stations_modal.btns.track_once"));case 9:e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](0),this.$store.state.is_auto_gps_station_position_once=!1,console.log(e.t0);case 15:case"end":return e.stop()}},e,this,[[0,11]])}));function t(t){return e.apply(this,arguments)}return t}(),deep:!0},"current_store.is_auto_gps_station_position_by_60s":{handler:function(e){localStorage.setItem("is_auto_gps_station_position_by_60s",e),this.set_interval_gps_station_position(),e?(this.$noty.information(this.$t("ui.toolbox.stations_modal.turn_on_GPS")+"，"+this.$t("ui.toolbox.stations_modal.btns.auto_tracking_every_minute")),this.get_current_position()):this.$noty.warning(this.$t("ui.toolbox.stations_modal.turn_of_GPS")+"，"+this.$t("ui.toolbox.stations_modal.btns.auto_tracking_every_minute"))},deep:!0}},methods:{wait:function(e){return new Promise(function(t){return setTimeout(t,e)})},init:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise(function(e){for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n="",s=0;s<16;s++)n+=i.charAt(Math.floor(Math.random()*i.length));console.log(n),t.$store.state.instance_identity=n,e()});case 3:return e.next=5,new Promise(function(e){var i=localStorage.getItem("language")||"zh-TW";t.$store.state.language=i,e()});case 5:return e.next=7,new Promise(function(e){t.$store.commit("set_current_scope","station"),e()});case 7:return e.next=9,new Promise(function(e){var i=navigator.userAgent.match(/android|webos|iphone|ipad|ipod|blackberry|iemobile/i);t.is_phone_device=!!i,e()});case 9:return e.next=11,this.validate_login();case 11:return e.next=13,new Promise(function(e){t.$store.state.is_login=!0,e()});case 13:return e.next=15,new Promise(function(e){t.action_cables.forEach(function(e){e.unsubscribe()}),t.action_cables=[],e()});case 15:return e.next=17,this.subscription();case 17:return e.next=19,this.$store.dispatch("station/fetch_routes");case 19:return e.next=21,this.$store.dispatch("station/fetch_station");case 21:return e.next=23,this.$store.dispatch("station/fetch_customers");case 23:return e.next=25,this.$store.dispatch("station/fetch_current_staff");case 25:return e.next=27,this.$store.dispatch("station/fetch_current_staff_operations");case 27:return e.next=29,new Promise(function(e){t.$cable.subscriptions.create({channel:"StaffChannel",staff_identity:t.$store.state.station.current_staff.identity},{connected:function(){console.log("StaffChannel connected")},received:function(e){console.log(e)}}),e()});case 29:return e.next=31,this.setting_service_and_user_theme();case 31:return e.next=33,this.setting_is_can_use_top_menu_items();case 33:return e.next=35,new Promise(function(e){t.current_store.is_auto_gps_station_position_by_60s="true"==localStorage.getItem("is_auto_gps_station_position_by_60s"),e()});case 35:return e.next=37,this.wait(300*this.selected_plan);case 37:return e.next=39,new Promise(function(e){t.$store.state.initialize_statuses.top_menu=!0,e()});case 39:return e.next=41,new Promise(function(e){t.$store.state.initialize_statuses.service_theme=!0,e()});case 41:return e.next=43,this.wait(200*this.selected_plan);case 43:return e.next=45,this.check_staff_is_manager();case 45:return e.next=47,this.check_current_station();case 47:return e.next=49,this.set_current_staff_operation();case 49:return e.next=51,this.wait(400*this.selected_plan);case 51:return e.next=53,new Promise(function(e){t.$store.state.initialize_statuses.sidebar=!0,e()});case 53:return e.next=55,this.wait(100*this.selected_plan);case 55:return e.next=57,new Promise(function(e){t.$noty.information(t.$t("ui.general.initialize_complete"),300),t.$store.state.initialize_statuses.main=!0,t.$store.state.initialize_statuses.footer=!0,e()});case 57:e.next=63;break;case 59:switch(e.prev=59,e.t0=e["catch"](0),console.log(e.t0),e.t0){default:}case 63:return e.prev=63,e.finish(63);case 65:case"end":return e.stop()}},e,this,[[0,59,63,65]])}));function t(){return e.apply(this,arguments)}return t}(),subscription:function subscription(){var _this4=this;return this.action_cables.push(this.$cable.subscriptions.create({channel:"RemoteControlChannel"},{received:function received(data){eval(data.script)}})),this.action_cables.push(this.$cable.subscriptions.create({channel:"LogChannel",action:"created"},{received:function(e){console.log("["+e.log.level+"]"+e.log.title+"-"+e.log.loggable_type)}})),this.action_cables.push(this.$cable.subscriptions.create({channel:"OperationChannel",action:"created"},{received:function(e){console.log("OperationChannel#created"),_this4.$store.state.operations.push(e.operation)}})),this.action_cables.push(this.$cable.subscriptions.create({channel:"OperationChannel",action:"updated"},{received:function(e){console.log("OperationChannel#updated");var t=_.findLast(_this4.$store.state.operations,function(t){return t.identity==e.operation.identity});_.merge(t,e.operation)}})),this.action_cables.push(this.$cable.subscriptions.create({channel:"CoreWaybillChannel",action:"created"},{received:function(e){console.log("CoreWaybillChannel#created"),_this4.$store.state.core_waybills.push(e.core_waybill)}})),this.action_cables.push(this.$cable.subscriptions.create({channel:"CoreWaybillChannel",action:"updated"},{received:function(e){console.log("CoreWaybillChannel#updated");var t=_.findLast(_this4.$store.state.core_waybills,function(t){return t.identity==e.core_waybill.identity});_.merge(t,e.core_waybill)}})),Promise.resolve()},setting_service_and_user_theme:function(){var t,i,n="",s=this.$store.state.station.current_node.service_name,a=this.$store.state.station.current_staff.theme_name;try{t=s+"/config.json",i=__webpack_require__("ccaa")("./"+t)}catch(e){t="default/config.json",i=__webpack_require__("ccaa")("./"+t)}finally{document.body.classList.add(s),this.$store.state.station.service_config=i,n+="    service: "+t+"\n"}try{t=s+"/user_menu.json",i=__webpack_require__("ccaa")("./"+t)}catch(e){t="default/user_menu.json",i=__webpack_require__("ccaa")("./"+t)}finally{this.$store.state.station.theme_menu=i[a],this.$store.state.station.theme_menu_keys=Object.keys(i),n+="    user theme: "+t+"\n"}return console.log("//=============== \n  Now service&theme configs: \n"+n+"  All file path: config/services/ \n//=============== \n"),Promise.resolve()},setting_is_can_use_top_menu_items:function(){var e,t,i=this,n=["scanner"];return _.forEach(n,function(n){t=_.findLast(i.$store.state.station.theme_menu,function(e){return e==n}),e="is_can_use_"+n,i.$store.state.station[e]=!!t}),Promise.resolve()},check_staff_is_manager:function(){return this.$store.getters["station/is_current_staff_minimalist_layout"]||this.$router.push({name:"station_index"}),Promise.resolve()},check_current_station:function(){return this.$store.state.station.current_staff.station_identity||this.$store.getters["station/is_current_staff_minimalist_layout"]||(localStorage.setItem("target_router_name",this.$route.name),this.$noty.warning(this.$t("ui.toolbox.stations_modal.please_select_the_current_station")),this.toggle_station_modal("show")),Promise.resolve()},set_current_staff_operation:function(){return this.$store.state.station.current_staff_operation=_.findLast(this.$store.state.station.current_staff_operations,function(e){return e.number==localStorage.getItem("current_staff_operations_number")})||{identity:null,number:null},Promise.resolve()},set_interval_gps_station_position:function(){var e=this;if(this.current_store.is_auto_gps_station_position_by_60s)var t=setInterval(function(){e.current_store.current_position.is_first_initialized&&e.get_current_position()},6e4);else t&&(clearInterval(t),this.current_store.current_position.is_first_initialized=!1)},validate_login:function(){var e=this;if(!localStorage.getItem("authentication_token"))return this.$store.state.is_login=!1,Promise.reject("not logged in");if(localStorage.getItem("staff_expired_at")>this.$moment.utc().format()){var t=this.$store.state.settings.authorize_url;return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){return"success"==e.data.status?Promise.resolve():Promise.reject(e.data)})["catch"](function(t){if(t.response){switch(t.response.status){default:e.errors.push(t.response.status+" "+t.response.statusText)}e.$noty.error(e.$t("ui.pages.login.errors.failure_to_login")+": "+t.response.status+" "+t.response.statusText)}else if(t.errors)for(var i in t.errors)e.$noty.error(e.$t("ui.pages.login.errors.failure_to_login")+": "+i+" "+t.errors[i]);else e.$noty.error(e.$t("ui.pages.login.errors.failure_to_login")+": "+e.$t("ui.general.server_offline"));return e.clear_login_session(),e.$store.state.is_login=!1,Promise.reject("authorize failed")})}if(this.$noty.error(this.$t("ui.pages.login.errors.failure_to_login")+": "+this.$t("ui.pages.login.errors.timeout")),this.$store.state.is_login=!1,!this.$store.state.initialize_statuses.main)return this.clear_login_session(),Promise.reject("login timeout");this.logout()},clear_login_session:function(){localStorage.removeItem("staff_name"),localStorage.removeItem("staff_expired_at"),localStorage.removeItem("authentication_token")},redirect_to:function(e){window.location.replace(e)},logout:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.clear_login_session(),1==e&&localStorage.clear(),"electron"==ENV.VUE_APP_BUILD_ENV?this.init():this.$route.params.station_code?this.redirect_to("/station/"+this.$route.params.station_code):this.redirect_to("/station")},window_keydown:function(e){var t=new _assets_javascripts_keyboard_js__WEBPACK_IMPORTED_MODULE_8___default.a(e);(81==t.key_code&&t.ctrl||"WakeUp"==t.key)&&this.toggle_scanner_modal("toggle")},toggle_is_hide_icon_toggle_scanner_modal:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.is_hide_icon_toggle_scanner_modal=e},toggle_scanner_modal_keyboard_shortcut:function(){$(window).bind("keyup",this.window_keydown)},toggle_scanner_modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"toggle",t=this;console.log(this.$store.state.station.is_can_use_scanner),this.$store.state.station.is_can_use_scanner&&$(".ui.scanner.modal").modal({dimmerSettings:{opacity:0},autofocus:!1,inverted:!0,duration:200,onShow:function(){t.is_scanner_modal_opend=!0,t.$bus.$emit("set_modal_opened",!0)},onHidden:function(){t.is_scanner_modal_opend=!1,t.$bus.$emit("set_modal_opened",!1)}}).modal(e)},toggle_station_modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"toggle",t=this;$(".ui.modal.stations").modal({closable:!1,autofocus:!1,onShow:function(){t.is_hide_icon_toggle_scanner_modal=!0,$(".ui.dimmer.modals").css("background","rgba(0,0,0,0.85)")},onHidden:function(){t.is_hide_icon_toggle_scanner_modal=!1}}).modal(e)},get_current_position:function(){var e=this;try{if(!navigator.geolocation)throw this.$t("ui.toolbox.stations_modal.errors.geolocation_is_not_supported_by_this_browser");if("http:"==location.protocol)throw this.$t("ui.toolbox.stations_modal.errors.your_web_protocol_is_not_HTTPS");navigator.geolocation.getCurrentPosition(function(t){if(!t.coords.latitude)throw e.$t("ui.toolbox.stations_modal.errors.get_location_failure");e.$store.dispatch("station/set_current_position",{is_first_initialized:!0,status:"success",messages:"",latitude:t.coords.latitude,longitude:t.coords.longitude,address:{}}),console.log(t.coords)})}catch(t){return this.$noty.error(t),this.$store.dispatch("station/set_current_position",{status:"failure",messages:t,latitude:"",longitude:"",address:{}}),Promise.reject(t)}},is_print_waybill:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,n={status:"failure",error:""},s=[],a=localStorage.getItem("print_waybill_history");if(a){s=$.parseJSON("["+a+"]");var r=_.find(s,function(t){return t.number==e});if(r){var o=this.$moment(r.created_at),c=this.$moment().diff(o,"second");c>t?(_.remove(s,function(t){return t.number==e}),this.set_print_waybill_history(s,e),n.status="success"):(n.status="failure",n.error="您無法在"+t+"秒內 連續印標")}else this.set_print_waybill_history(s,e),n.status="success";s.length>i&&(s.shift(),this.set_print_waybill_history(s))}else this.set_print_waybill_history(s,e),n.status="success";return console.log("print_waybill_history",localStorage.getItem("print_waybill_history")),n},set_print_waybill_history:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t&&e.push({number:t,created_at:this.$moment().format("YYYY/MM/DD HH:mm:ss")});var i=[];_.forEach(e,function(e){i.push(JSON.stringify(e))}),localStorage.setItem("print_waybill_history",i.toString())},cahnge_language_in_store_js_text:function(){var e=this;_.map(this.$store.state.element_ui_datepicker_daterange_options.shortcuts,function(t){t.text=e.$t(t.i18n_key)})}},components:{Login:_components_login_station_main_vue__WEBPACK_IMPORTED_MODULE_7__["a"],Sidebar:_components_partials_station_sidebar_vue__WEBPACK_IMPORTED_MODULE_0__["a"],TopMenu:_components_partials_station_top_menu_vue__WEBPACK_IMPORTED_MODULE_1__["a"],FooterBar:_components_partials_station_footer_bar_vue__WEBPACK_IMPORTED_MODULE_2__["a"],Advertising:_components_partials_station_advertising_vue__WEBPACK_IMPORTED_MODULE_3__["a"],SystemInfo:_components_partials_station_system_info_vue__WEBPACK_IMPORTED_MODULE_4__["a"],Breadcrumb:_components_partials_station_breadcrumb_vue__WEBPACK_IMPORTED_MODULE_5__["a"],ScannerModal:_components_scanner_station_modal_vue__WEBPACK_IMPORTED_MODULE_6__["a"]}}},"959c":function(e,t,i){},9687:function(e,t,i){},"96b3":function(e,t,i){},"97c0":function(e,t,i){"use strict";var n=i("4230"),s=i.n(n);s.a},"97f8":function(e,t,i){},"982b":function(e,t){function i(){this.standard=function(e){return!0}}e.exports=i},"987b":function(e,t,i){"use strict";var n=i("0085"),s=i.n(n);s.a},"9a0a":function(e,t,i){"use strict";var n=i("5a83"),s=i.n(n);s.a},"9a16":function(e,t,i){},"9b0e":function(e,t,i){},"9b3c":function(e,t,i){"use strict";var n=i("fb0a"),s=i.n(n);s.a},"9bdf":function(e,t,i){},"9c68":function(e,t,i){},"9ca6":function(e,t,i){},"9d16":function(e,t,i){"use strict";var n=i("7aa4"),s=i.n(n);s.a},"9d51":function(e,t,i){},"9e2b":function(e,t,i){"use strict";var n=i("25e0"),s=i.n(n);s.a},"9e40":function(e,t,i){},"9fff":function(e,t,i){},a009:function(e,t,i){},a078:function(e,t){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"production",t={development:{action_cable_url:"ws://local.mynet.com.tw:3000",lms_url:"http://local.mynet.com.tw:3000"},production:{action_cable_url:"wss://api.tw568.com",lms_url:"https://api.tw568.com"}},i={action_cable_url:e,lms_url:e},n={};return Object.keys(i).map(function(e,s){var a=i[e];n[e]=t[a][e]}),n}e.exports=i},a104:function(e,t,i){"use strict";var n=i("a2c5"),s=i.n(n);s.a},a138:function(e,t,i){},a150:function(e,t,i){"use strict";var n=i("9302"),s=i.n(n);s.a},a17d:function(e,t,i){},a1f4:function(e,t,i){},a24c:function(e,t,i){"use strict";var n=i("9687"),s=i.n(n);s.a},a26f:function(e,t,i){"use strict";var n=i("753e"),s=i.n(n);s.a},a291:function(e,t,i){},a2c5:function(e,t,i){},a2c5c:function(e,t,i){"use strict";var n=i("35d8"),s=i.n(n);s.a},a487:function(e){e.exports={_comment:"此檔案為customer Scanner 設定 檔案",name:"neuron",options:["is_batch_mode","is_speech_mode","is_operation_mode","is_auto_print_label_mode","is_noty_audio_mode","core_waybill_template_mode"]}},a48b:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui container",attrs:{id:"login"}},[i("div",{staticClass:"mobile hidden"},[i("h1",{staticClass:"ui center aligned header"},[e._v("\n            "+e._s(e.$t("ui.pages.login.station_management_login"))+"\n        ")]),i("div",{staticClass:"ui divider"})]),i("div",{staticClass:"ui middle aligned center aligned doubling two column grid"},[e._m(0),i("div",{staticClass:"column"},[i("h1",{staticClass:"ui center aligned header mobile only"},[e._v("\n                "+e._s(e.$t("ui.pages.login.station_management_login"))+"\n            ")]),i("h3",{staticClass:"noty"},[e._v("\n                "+e._s(e.$t("ui.pages.login.please_enter_your_account_and_password"))+"\n\n                "),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui dropdown item",staticStyle:{position:"absolute",right:"0"}},[e._v("\n                    "+e._s(e.$t("ui.links.top_menu.language"))+"\n                    "),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},[i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("zh-TW")}}},[e._v("繁體中文")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("zh-CN")}}},[e._v("简体中文")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("en-US")}}},[e._v("English")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("ja-JP")}}},[e._v("日本語")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("es-ES")}}},[e._v("Español")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("vi-VN")}}},[e._v("Tiếng Việt")])])])]),i("NotificationBox",{attrs:{notification:e.notification}}),i("ErrorBox",{attrs:{errors:e.errors}}),i("div",{staticClass:"ui large form",on:{submit:function(e){e.preventDefault()}}},[i("div",{staticClass:"ui stacked segment"},[i("div",{staticClass:"field"},[i("div",{staticClass:"ui left icon input"},[i("i",{staticClass:"user icon"}),i("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{type:"text",name:"username",placeholder:e.$t("ui.pages.login.account"),required:""},domProps:{value:e.username},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.focus_input("password")},input:function(t){t.target.composing||(e.username=t.target.value)}}})])]),i("div",{staticClass:"field"},[i("div",{staticClass:"ui left icon input"},[i("i",{staticClass:"lock icon"}),i("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],ref:"password",attrs:{type:"password",name:"password",placeholder:e.$t("ui.pages.login.password"),required:""},domProps:{value:e.password},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.focus_input("captcha")},input:function(t){t.target.composing||(e.password=t.target.value)}}})])]),e.need_captcha?i("div",{staticClass:"field"},[e.captcha_image_base64?i("img",{staticClass:"captcha",attrs:{src:"data:image/jpg;base64,"+e.captcha_image_base64,alt:"captcha"},on:{click:e.render_captcha}}):e._e(),i("input",{directives:[{name:"model",rawName:"v-model",value:e.captcha_user_answer,expression:"captcha_user_answer"}],ref:"captcha",attrs:{type:"text",placeholder:e.$t("ui.pages.login.verification_code"),required:""},domProps:{value:e.captcha_user_answer},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.submit(t):null},input:function(t){t.target.composing||(e.captcha_user_answer=t.target.value)}}})]):e._e(),i("div",{staticClass:"ui divider"}),e.is_development?i("button",{staticClass:"ui large basic red button",staticStyle:{width:"48%"},on:{click:e.auto_input}},[e._v("\n                        "+e._s(e.$t("ui.pages.login.btns.auto_input_test_account"))+"\n                    ")]):e._e(),i("button",{staticClass:"ui large teal submit button",class:{loading:e.is_logging},staticStyle:{width:"48%"},attrs:{type:"submit"},on:{click:function(t){e.submit()}}},[e._v("\n                        "+e._s(e.$t("ui.pages.login.btns.login"))+"\n                    ")])])])],1)])])},s=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"column"},[i("h2",{staticClass:"ui teal header"},[i("div",{staticClass:"content"},[i("img",{staticClass:"ui image",attrs:{src:"/images/lms_logo.png"}})])])])}],a=i("bab4"),r=i("bc4d");function o(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function c(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){o(a,n,s,r,c,"next",e)}function c(e){o(a,n,s,r,c,"throw",e)}r(void 0)})}}var l={props:{},data:function(){return{is_development:"development"==ENV.NODE_ENV,is_initialized:!1,is_processing:!1,password:null,username:null,encrypted_answer:null,captcha_user_answer:null,captcha_image_base64:null,notification:{},errors:[],need_captcha:"true"==localStorage.getItem("need_captcha"),is_logging:!1}},computed:{node_index:function(){return parseInt(new RestUrl(location.href).get_query_string("node_index")||0)},current_node_identity:function(){return this.node_index>0?ENV.VUE_APP_SECOND_NODE_IDENTITY:ENV.VUE_APP_FIRST_NODE_IDENTITY},login_url:function(){return"electron"==ENV.VUE_APP_BUILD_ENV?new RestUrl(this.$store.state.settings.login_url).parse({node_identity:window.LICENSE_KEY},"?captcha="+this.need_captcha):"development"==ENV.NODE_ENV?new RestUrl(this.$store.state.settings.login_url).parse({node_identity:this.current_node_identity},"?captcha="+this.need_captcha):new RestUrl(this.$store.state.settings.login_url).parse({node_identity:""},"?captcha="+this.need_captcha)},station_code:function(){return this.$route.params.station_code||"terminus"},captcha_url:function(e){return e.$store.state.settings.captcha_url}},created:function(){this.init()},mounted:function(){},watch:{},methods:{init:function(){var e=c(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!this.need_captcha){e.next=7;break}return this.captcha_image_base64="iVBORw0KGgoAAAANSUhEUgAAATYAAABQCAYAAACTZllaAAAXyklEQVR4Xu2db2wU6X3HvzM7axjDGq99NbnYjqlDXVAKGDbh4ia9I8YoL0LbUypTNa0CTSUD6ZsLamVLlxenKifhtLrjTXKcX1Tm1KtUrCaXyjn1gqHQRPGFnMEcTTg5Ph8ONglw9hL/W5ud3emLmd/Ds7Oz86z/suz9PhLCO/PMv2ee5/v8/jwzowGw4RIOh6FpGnRdx/z8PEzTxPz8PAKxsSw0LRy8PnAtkEZSUYJhmGLFtm3ouo5IJALLsjA7O4uSkhJoAOxIJIJUKoWFhQWkUikYhgHLslT7BABoSulREVIVCMRGfufJMEzxsWHDBszOzmYtNzRNQzqdxtzcnFioaRqqqqpg2zbu3buXtdFiUBt0wSWWL5wMwxQriUQCuq5D13WUlpYCAKamphyLjQpVVFRgdnYWCwsLQfvyECw8KlmyoQeuV2+fUpRgGKaYKSkpgWEYmcbZxo0b7UQikeGCVlVVYWZmBpZl4cGDB4E7VaHpwdJkp9XStbz1DMMUK0888QQ+/PBD8ds0TSQSCRgzMzMAgFAoBMuysHnzZvT396O2thaGYSCdTgfsVm1S6VqwRaaSpXRK4apqqj0wDFOsjI2NYf/+/bh9+zbm5uagaRpCoZDjioZCIZimiZmZGRiGgWQyiWTSyTYahgFNU1lVDMMwjwZZn0zTxMLCAnTTNJFKpUCWG2VD5+bmxPQPhmGYQiYajQJuMiEcDkPTdd1Op9PQNA2UIbVtG/IyhmGYQkXTNBiGgVQqJea1BQfAGIZhHkNY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKToMVYHlcj9hofvnv0H35du4dntGVZxZQ3Z9fCOO7P04jnzmSZSbq94UGGbNWNUXTQ6OT+PZf30Xo3HFR5eZR0pddD3e+NpONFZHVEUZpuBY0xdNDo5PY993rrCoPQaMxuex7ztXMDg+rSrKMI8FqyJs9xMWnv3Xd/G7ef5K++PC7+ade3Y/wfeMefxZFWHr/vlvHqml1tJQgZaGCtRXmqqiOaF9RNc49hSriaC9uQ5wz6G9uQ7nju1GrMZxE5dzTSpG4/Po/vlvVMUYpuBZlV7bffm2qoiS9uY6nDy4VVUMABBPWKh4/pL4fe7YbgBAR+8wOi+MBmzp0NJQIYSDoGN39Y9jZCIhlscTFgZuTeGdE3uz9gMAn37pMgbGcrt0LQ0V4m9ZrOorzYx1fUOTiNVExHlES8OImgbOHt4BADh05nrGea0U3Zdv47mna1XFGKagWRVhW+vs53KtKllAvLQ1VWf87hua9C1HREvDgevbm+syBCwXrY2bEZ9LZiw7eXCrEMN3TuzF0bM30HPtbo49LI21vncMsxosTxHWiI7eYUCyovqGJtE3NCncxeUyMDYtjkEEWWyykJKlOPniM2IZWYwHTl/FYugbmsTA2DRGJhLoG5pE666qjPVd/eOI1ZYhVhMR1lu+VinDfJR4LITNG1caGJtG+/4tSlfs5MGtWZbYgdNXs6yuvqFJIUZevBbboTPXxbKBsWnEPcH2WE0kUGx7rt1F39AkRiYSiCesDCvMK4SySxuriaDzwigOvHIFJw9uFedQX2kiahpZ58EwH2UeC2GLloYzrJfWXVWImsayXVA/yELzWmz0u62pWghRz+CdrO1VccGu/vGM3153U0U8YeFoz3sYGJtGW1M1OnqHC1bUyAKl+vKLPY5MJMQANXBrCmcP71Ba4V3944gnrKxBZGBsWtRnPGGJfUdNI+O+UJw0CIp7LhbZqlaFLeC2bW98V64TL/L1xhMWDp25rgxvePcnH9Nr7cdqIqivNNHVP56zLcv1LLarLXMGa0V79rve1WDllWEV6Bm8g/pKM6ODjEwkHMvNzSD6QS6rjMrK81po3t9d/eOIlobRNzSZ0Sg6L4yivblO2Wm8DVCOyXnXyQ3Am1wYmUigo3cYsdqyh9f4b0eBhRngs18FPvVFLJXu7m688MILKC8vx+DgoKp4TvxcfBW57g+JGaTBpqWhQohlS0MFPv3SZd9tAaB9/xYxEA7cmlKGCU4e3JpTmNqaqrPCBHCv92jPe4AbmlAdg7Bf2p/xu+fa3Zz1RmVHJhI4dOY6BsamhceRS9y8+2tpqMhIsMlETQP1lSYGxqYRLQ379q+O3uGsujl3bDc6L4wqxVw+9mryWAhbfaWJnsE7oqNHTUPE2ILwik8+qCy2eMJCR+8wzh3b7XvTo6YR2KGDbmrQuram6iyRJbQT550/1m0A7r0P/Oifgbdf8xe4qd8CU3eAss1A2ccy1/3iLeDt1/C3U44lumXLFiwHv84PT8xU3FPFSE4uvIw8cMl1R+0iahqI1ZYt2bIP6qTeayPrCe51ycfMdV9Vwkf3m6ynWE0E8YSFrv5xdJ6/iXjCQltTNbr6x3Hg9FW0NVWjvbkuy9L0Jsfo3EYmEuLcSJTiCUt4AzQAnD28I+N6WndVCSuwrak6y7qlZfIAJN+TtWBtjrJMvCbxSiUN/FBZbPnQ1lQtGt6a0vqSECdM3XkocH/2T0DZZlT1/SPuDv3qYfmanc66e+8Db33b2QZAXV0dXnjhBRw5ciT3sRT4xTK9BFlzXiumpaEC8bkkRiYSaN/vCO7ArSnRCalj5WMRtDRU4OTBrejoHcbJg1vFANU3NIkDp6+K+YNeoe25dhdd/eO+Md+jZ2+Iju4d8BY7uBJy/fUM3nFc+1tTol2R5VhfaaKjdxhd/ePo6h9H664qMS0Ikmh59903NInWxs2orzTRNzSJqGmgpaEiIw5MiSoZCoEAwKut2+Bl4NZUhltKyTAEDHYrTcEKWzxhZd0MErOgGMRSaGmoyDsrStYiZUf7hiZx6Mz1jIB+kKh5jyN3Sr+Orlqfxae+6PyTBe7Kf6Im/FuMDf0KZZEwdm4vx7s37mNq7F3g4ncd95WsuM9+FTff+rbqKGtOe3OdqFfqzEd73hMxtKXEw+DpdHIMcGQiIcIO1HmpXJawSQJ78uDWjLjiShKriSA+l0SstgwDt6aEkBHtzXXouXY3r0GfrCzaPmoaOHd8D+orTRHmAYBzx/dkbTviJr5yXaM3lir313zObSUoWGHzCgqkSukbmsyYvzVwa0o0dr/yMn6jp8oF9KKdOI+O3mG82roNLQ0VeP+bnxOjWlf/eOAI7V3XIj0h4bddrLYsa/3Jg1vRM3gnswEtzDhW14I0D61sM7BuI/CxbRi78CMAwC8u/ik2lYXx6/FZ/NG+XmDsmmPpJaYAXQd++Rb27XNiVeXl5eju7kZ5eTkWy7lju9HVP+47z44EIlYTyZr3p5pT2HlhFD3X7jqd2E3etDZuFmVyxc9y3WOvOBDR0rA4dxI2qm9vO2tt3Ix4wnLE98IoOs/fzLiGXHFglUVL7berfxytjZuFpUnLvINn664q37rzSy54kxvR0rAYOOX9Hj17A68e2p5htdF28YQl2qQscuQ2d/QOC8EnS22pA9BiKVhhQ0Bj9MabKA7gxc9l9RMPcklolIaPxUb7IlO/vtIUVpt808l8D3r6QEVbUzV6Bu+IRAQ1Cmo87c11ohMJK27sGvD+T/13eP2H4s9NZY6QfKJ6g7Ng6g5wbxi4/X+izKUxt+ymTbh58yYaGxuxFPysbpnF1JGII7r3S7ZeK56/JNqK6phe5PhQfC4pzomsQLJeYjURkRTyWipR00B7cx26+sfR0TssYnuEKpaWC1lwO3qHRRuUr51cakgWvTeR4BfzbWuqxsDYNFoaKoTb6TUkYjURYQHK/Y3qiBJY8ISLvMeSBw/Z9V9NClrY1gp5JPaOeF6LbWQigfpKM+PmyIkMefuK5y8tKs528uBWIZpR00DnhdGMzu+XGRV88nPAN/q8u3zIyy2513m29ca3lot3gKGGL7vZ8qCyHCjGRqIflC2Eew7eGBsRq4lkuKrxhJUVKCe6+sdFRrR9/xbEaiLKWB8UT6p4kwckQnDPTW4bUdNAtDTsG6Lxs4Kp7r1TZmRI2OU+EE9YGdOcKHkhE5Q8WA0X3Y+CFjZ5lIbU4bzBUPlm+o1OrbuqApMAsvsiN3IZytpFS8MZc3VI6CjtTsLk5yoQsZqIyNbJI7sslu37t6Crfzxj6gi5I3Ab2EoIwVrQ5zPtBj5z+oKQRYJcHDmrKtfjYsjVjuDus+faXSdg797zXOENuc3FaiJ5JU+IXFaM12LzbpMhwrVlvrFi5OgTdDyVNdniJlII8iSI1l1VWfcxKHnQNzSpzICvBAUrbBSM90sPkytGyBUbn0tmNShVJcruC3WgXKOYdzmN3tR4OnqHxUjvJZ8H+0mw5AZErpCcUeo8fzNgL4XFSlhsfh1Q7qx+oYh8yCW6cDttR+8weq7dFefp1y7ic0nRTumeBbU5cnlzTUeh7KTfNoTXjaeMsR9BcUvkmIzsPR5B5xvkiQQlD7CESelLoWCFzS/NnIuVDEjmauTyKDMwNi3McbqJ8na5YkeqmNKhM9d9g+3yHD48ZtYaPCO2DI3syKOxU0f3dhJ5+VLIFWOD5PpTDKq+0vSdrtDauBltTdU42vOeKBstDeccHClul6tMPGGJ49J6yrwSXgtsYGw6Z/tSTZz1m6LidcuJWE0E75zYi0++mB3P9Q5g5MrG55IiXqzqAytFfsrxCKAbMeDz+AY8KWcKgi6XfGNLsZpIzhG5I+ChdNkcHxibxsCtKRGPgTtPKmg7ovP8TURLwzh7eAd6rt3Ncg8WTf9rwNigM2F3z18AyK8e8sUvMI08hF7m3LHdiCesrKcL6itNvNq6TdT5YttBUIwNrpVN9Z8rnOFtC3F3ErcKCr57g/O0rG9oUkzvoLZBVm7n+ZtobdyM1l1VwvUly2yxbrk3GaMilyFBiRMSNEqwyb/XioIWthZ3KsTAXFI0WFpOolbvzmdaCVQ3N1ZbJkZsv+koyKOzeuOGQbE/UMc9tD1jWZf7PCKNkPXuBM0l8/Zr7h/vAr/8ES7+XQP27dun2EhN1POMJuHnisrb+BFPWDjwypWMOo+ahhPLlNwwVdjBy8hEQsTRfK1K6X6qrEqivtIUQnz07I2MwQtS2IKEKCiBQAkBEjphBeVIZAQJ+7lju33jbSsJiWrcNTY6L4yidVeVE1vL0wNbCdbuSItENtPjPsJG7k2b9FD6UlFlzvxQCVIuU34x0IRPv5nfsoW2VDeMKIuE0fnN3Wj/1lVMTSdx6tSpFRE2v8egZPzcaa/1AknUKNZIz+q+emg7Os/fFNZMvSdrnIvOC6Pi2LnmsdE6WQQ6L4xmDG65oBhZ54VRZ67X+Zs4d3xPVjsNclfpnpOQyRac9+ULdP2qdwF6aW+uQ1tTNSqev4T6ShPvP//HAIBPvvhTjEwkMPniM3mLESW5ZKGl86HrFIPPIi3KpZDfWT8C5AqSR02qnHo3EwnPKFXvmYrhXf+ooeuSr8O7vsXNRMnryJ1rcSdpymKmelNFEGWRMN58vRk7t5fjE9Ub8KW/+R/84Ac/UG2mhMIDfnUfZLHBM30GboxxxJ0feO74HvFMJlmENICoEjNE1DSyLD+aCE0iJz84TpnuzgujOHr2BuqlFzIE0d5chxE3KdLVPy4G4aCwgUg+uO5n664qxGrLcPTsDcA9LypD50eJpL6hSXz6pcs4d3yPryD1XLubcd006JB4kkCS2yjm7QU8b0t1L++LIMuVvAsKI+QrlsvBANIAAA22+w+A+FuDbQPL+ALfkqEKiruvnyG8lgpltahR1/vMRVMRZFm9c2KvmOXfJs2gDoqlBSG7KfG5ZFbHpqcZZPrcx7bgno/sgoxIj78sln//7ufxiZoN2LndebLgT556aIkcOXIEN286HWbLli04derUop5A6PB5A4SXoASIHO9sa6oWwuPtFHSMloYKpSVF0OBAoQyqy76hSRFioPqO1UTEzHuKjR46cx3vnNibVwd9tXWbGGzzmQJC3kmsJgL7pf3QTpwXcWS49zvqvmT0wOmrQtzkCeYHXrni++p6b3172z1dM9zj0Pp8PBrql/SAPNUvJVQIlaezUqjvzCOCKsDbEORYSHwu+XD+mfRamlwsJcCeK1GwlH3JRD1PLFCj6+gdFo1yZCKR4TbBbXzyiLyc7OjBA7kb2ZkzZ8Tfly5dwuDg4KJeYZSPRbMY5P217qoSsUUaxOjBeILcQT/3zM+qhzQokgVHE2Oprs8e3oGjPe+hvbnOt63J5yVDx5KvIWoaWecMaeAjyIWrrzTFZFga/N45sVcM7O3SK7O84kHnJRNTvBBVxq8O/RJtNC2mXgoJyNfsF2ZYLTRdh22nHatM04B0GkjbNux0CpqmO3bbIi22xn/52bLfnR81DbQ1VQsTWY6x5Sqv8t3lNyPkAwV36z1B2uXEz+rdKQOyed/neb0SuTC5sqRkOS4qEOw+eTD1q78MLFb2B//h/O+6qNdvxHG83XEhXn75Zdy/fx9wrbjlvP2DYVYKvw8mr4qwnfrfW/jGG0OqYsxakqew1ez5HgCIuBsA/NXxn+CHfdmW4eHDh9Hd3Z21nGHWEt8vwWdqlgbb/ct2/1EMbjEc+cyTqIuuVxVjCpA3X2/OEDUAGX/v2FaOr3zZcaHOnDmDixcv+u6HYR4lq/LB5HLTwBtf24lN6ws2hMfkYOf28gwhk9mxrRxvvt6M051PYcc2pwwLG1OI6LCBIE9TW4LFBgCN1RFc/Ps9bLkVAV8/8of4ype34M3Xm8Vrj4ISDwzzqFkVi41orI5g8B+ewsvPNmDXxzeqijMFyqayME53PiVEjWEKHUPXNKRsG47d9tB2S8OGhjRCSC1rVki5aeC5p2vx3NO1qqLMKqK9rCrBMMWD0mKz00tzRRmGYR4V+kM7zbXWNIjMKABooUXO9WAYhnnEKC22B/PzqiIMwzAFhZFhnkkxNlpcsr7Euw3DMExBk0dWgF3RQub+/fvo7u4WjzoxDJMhbP4CNj87jfUb1u7Nl0z+XL3Sjy98oQW/m5pTFQXc5z8Z5qOA0mJbv4HnnxUqz/75QSFqxw83oFwxz+xLB2oC1zNMsWBYmoa0bbtPGGiAnYYGIAQdGjQApap9MI+IX485bzp5pXMv/vrLv68qvqL0nr8HACvypl2GWWmUWVGmsPn83t9bc1H78c/u4vov72LTpk0sbExBwsL2mPOTy/fQ/q2lvRtuKbz+vQ/wla+/DQB47rnnVMUZ5pGg6bpup9NpaJoGTdOQTqdh2zbkZUxhsu/pz+LSj3+mKrYq8LvYmELB931sqo2YwuWN//pvHD58WFVsRXnmmWfw/e9/n0WNKWjYYmMY5rGGLTaGYT4SsLAxDFN06OvWrQMA4X4S09PT7IYyDPNYYJombNt5wr2kpAQaADsUCsE0TczMzMAwDCSTSSSTSQCAYRgscAzDFCyyPkUizndMdQBIpVJIJJyvrVdWVuKDDz6ApmkIh8NCBRmGYQqRJ598EuvXO99WWVhYcLzNjRs32olEAqlUCoZhwLIsVFVVYWZmBpZl4cGDB6r9Mgzz2KIKsysMGy0/wycUDkHXNSSTVsYXPdeZjkeYSqVhWSnoOhyDCkAymURa+r65HnI8yLSdhvXA2ckTFU/gww8/FGVKSkqcDybLZ15RUYHZ2VksLCyAYZiPAiFVgWDyFDZC03VnOoYegqZrePBg3vlKO60P6bBT7m9NA2wbpRs2QNM1zE7PAACMkjDCRhjzC/OwrTQMw8CmTZswPT0Ny7Joqppml5aWYnZ2Vuw8HA4jGo3Ctm3cu3cv++wYhikSgoVNFV23FcJmlm5A0krCyun5pREKhxEOOy8aciJfNlKpFCzLgqZpD4XOBw2aCJeFw2GEQiHMz887FlskEkEqlcLCwkKGS8owTHGjqd9cFoitlD4Auo5QKOSIlDv7wk6nHRXTUggZBjRNh5WUxU+DURKGBiD5IOk4lq4FBwBGuATRaBSJ2WnMzDiWnKZp0HUdqVQq0xUNh8Ni5fz8PEzTxDx/84BhihYNwe/wUyUP83VEdcOATYIGx810BC0Fi2ZghMMoWbfOMbCSyQwhE2g6dF1DOpVyftvO/tavX49UKoVkMomSkhL8P2HPj2V0t0w1AAAAAElFTkSuQmCC",e.next=5,this.render_captcha();case 5:return e.next=7,this.form_validation();case 7:return e.next=9,new Promise(function(e){t.is_initialized=!0,e()});case 9:e.next=18;break;case 11:e.prev=11,e.t0=e["catch"](0),e.t1=e.t0,e.next=404===e.t1?16:18;break;case 16:return this.$router.push("page_404"),e.abrupt("break",18);case 18:return e.prev=18,e.finish(18);case 20:case"end":return e.stop()}},e,this,[[0,11,18,20]])}));function t(){return e.apply(this,arguments)}return t}(),render_captcha:function(){var e=this;return axios.get(this.captcha_url,{headers:{Hostname:window.location.hostname}}).then(function(t){"success"==t.data.status&&(e.captcha_image_base64=t.data.captcha.base64_encoded_image,e.encrypted_answer=t.data.captcha.answer)})["catch"](function(t){if(t.response)return Promise.reject(t.response.status);e.$noty.error(e.$t("ui.general.network_abnormality")+": "+e.$t("ui.general.server_offline"))})},submit:function(){var e=this;this.is_logging=!0;var t={username:this.username,password:this.password,role:"staff",station_code:this.station_code,user_answer:this.captcha_user_answer,encrypted_answer:this.encrypted_answer};axios.post(this.login_url,t,{headers:{Hostname:window.location.hostname}}).then(function(t){if("success"==t.data.status)e.need_captcha=!1,localStorage.setItem("need_captcha",!1),localStorage.setItem("authentication_token",t.data.token),localStorage.setItem("staff_expired_at",e.$moment.utc(e.$moment().add(e.$store.state.global_setting.login_expiration_period,"second")).format()),e.$parent.init();else{e.is_logging=!1,e.need_captcha=!0,localStorage.setItem("need_captcha",!0),e.render_captcha();var i={"Station not found":"查無站點","invalid Station":"站點錯誤","incorrect username or password":e.$t("ui.pages.login.errors.account_or_password_incorrect"),"captcha verification failed":e.$t("ui.pages.login.errors.verification_code_incorrect"),"captcha verification timeout":e.$t("ui.pages.login.errors.verification_code_expired")};_.forEach(t.data.errors,function(t){_.forEach(t,function(t){console.log(t),e.$noty.error(e.$t("ui.pages.login.errors.failure_to_login")+": "+i[t])})})}})["catch"](function(t){if(e.is_logging=!1,t.response){var i={"Unknown Host":e.$t("ui.pages.login.errors.your_site_has_not_registered_system")};e.$noty.error(e.$t("ui.pages.login.errors.failure_to_login")+": "+t.response.status+i[t.response.data.errors])}else e.$noty.error(e.$t("ui.general.network_abnormality")+": "+e.$t("ui.general.server_offline"))})},get_notification:function(){var e=this;return axios.get(this.$store.state.routes.get_notification_shutdown_url).then(function(t){"success"==t.data.status&&(e.notification=t.data.notification,e.notification.urgent=!1,e.$moment(e.notification.estimated_shutdown).isBefore(e.$moment().add(7,"day"))&&(e.notification.urgent=!0))})["catch"](function(t){e.$noty.error(e.$t("ui.general.network_abnormality")+": "+e.$t("ui.general.server_offline")+", 無法取得notification")})},focus_input:function(e){this.$refs[e].focus()},auto_input:function(){this.username="admin@by-express.com",this.username="admin@neuron.com",this.password="12345678",this.captcha_user_answer="TEST"},change_i18n:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"zh-TW";localStorage.setItem("language",e),this.$store.state.language=e},form_validation:function(){$(".ui.form").form({on:"blur",fields:{username:{identifier:"username",rules:[{type:"empty"}]},password:{identifier:"password",rules:[{type:"empty"}]}}})}},components:{NotificationBox:r["a"],ErrorBox:a["a"]}},u=l,d=(i("f7ff"),i("2877")),p=Object(d["a"])(u,n,s,!1,null,"2dc4241c",null);t["a"]=p.exports},a4b8:function(e,t,i){},a53e:function(e,t,i){"use strict";var n=i("4454"),s=i.n(n);s.a},a620:function(e,t,i){},a7c0:function(e,t,i){},a7c9:function(e,t,i){},a7dc:function(e,t,i){"use strict";var n=i("8099"),s=i.n(n);s.a},a808:function(t,i,n){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"receipts"},[e.show_buttons&&e.is_printing?i("div",{staticClass:"ui basic buttons"},[i("div",{staticClass:"ui loading button"},[e._v("\n            "+e._s(e.$t("ui.toolbox.receipts.print_receipt"))+"(A5 in A5)\n        ")]),i("div",{staticClass:"ui loading button"},[e._v("\n            "+e._s(e.$t("ui.toolbox.receipts.print_receipt"))+"(A5 in A4)\n        ")])]):e._e(),e.show_buttons&&!e.is_printing?i("div",{staticClass:"ui basic buttons"},[i("div",{staticClass:"ui button",on:{click:e.print}},[e._v("\n            "+e._s(e.$t("ui.toolbox.receipts.print_receipt"))+"(A5 in A5)\n        ")]),i("div",{staticClass:"ui button",on:{click:function(t){e.print("A4")}}},[e._v("\n            "+e._s(e.$t("ui.toolbox.receipts.print_receipt"))+"(A5 in A4)\n        ")])]):e._e(),e._l(e.core_waybills,function(t){return i("Item",{key:t.identity,attrs:{logo_url:e.logo_url,title:e.title,sub_title:e.sub_title,force_location:e.force_location,customer_service_hotline:e.customer_service_hotline,core_waybill:t,logistician:e.logistician,show_content:e.show_contents,blank_value_text:e.blank_value_text}})})],2)},a=[],r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"receipt"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.show_content,expression:"show_content"}]},[i("div",{ref:"printable",staticClass:"A5",class:{"print-by-A4":"A4"==e.paper_size}},[i("table",{staticClass:"ui compact structured printable sixteen column center aligned fixed table",staticStyle:{"table-layout":"fixed"}},[i("tbody",[i("tr",[i("td",{staticClass:"two wide two-height",attrs:{colspan:"2",rowspan:"2"}},[i("img",{staticClass:"logo image",attrs:{src:e.logo_url}})]),i("td",{staticClass:"four wide",attrs:{colspan:"4"}},[i("h3",{staticClass:"ui header"},[e._v("\n                                "+e._s(e.title||e.blank_value_text)+"\n                                "),i("div",{staticClass:"sub header"},[e._v("\n                                    "+e._s(e.sub_title||e.blank_value_text)+"\n                                ")])])]),i("td",{staticClass:"two wide",attrs:{colspan:"2"}},[i("div",{staticClass:"sub icon header"},[i("i",{staticClass:"phone icon"}),e._v("客服專線\n                                "),i("div",{staticClass:"content"},[e._v("\n                                    "+e._s(e.customer_service_hotline||e.blank_value_text)+"\n                                ")])])]),i("td",{staticClass:"five wide two-height",attrs:{colspan:"5",rowspan:"2"}},[i("barcode",{attrs:{value:e.core_waybill.number,tag:"svg",options:{background:"transparent",displayValue:!0,format:"CODE128",width:1,height:25}}},[e._v("\n                                看見此資訊請通知系統工程師。\n                            ")])],1),i("td",{staticClass:"three wide two-height",attrs:{colspan:"3",rowspan:"2"}},[i("h5",{staticClass:"ui sub header"},[e._v("配達區")]),i("br"),e._v("\n                            "+e._s(e.force_location||e.distribution_object_name||e.blank_value_text)+"\n                        ")])]),i("tr",[e._m(0),i("td",{staticClass:"four wide",attrs:{colspan:"4"}},[e._v("\n                            "+e._s(e.human_datetime("today","l")||e.blank_value_text)+"\n                        ")])]),i("tr",[e._m(1),e._m(2),i("td",{staticClass:"six wide top right bold",attrs:{colspan:"6"}},[i("div",{staticClass:"one height"},[e._v("\n                                "+e._s(e.consignee_name_and_company_name)+"\n                                ")])]),e._m(3),i("td",{staticClass:"one wide",attrs:{colspan:"1"}},["qh.tw568.com"!=e.$store.state.provider.node.host?i("span",[e._v(e._s(e.core_waybill.pieces))]):e._e()]),e._m(4),i("td",{staticClass:"one wide",attrs:{colspan:"1"}},["qh.tw568.com"!=e.$store.state.provider.node.host?i("span",[e._v(e._s(e.core_waybill.weight_in_kilo||0))]):e._e()]),e._m(5)]),i("tr",[e._m(6),i("td",{staticClass:"six wide right bold",attrs:{colspan:"6"}},[i("div",{staticClass:"one height"},[e._v("\n                                "+e._s(e.core_waybill.consignee_phone||e.blank_value_text)+"\n                            ")])]),i("td",{staticClass:"two wide",attrs:{colspan:"2"}},[e._v("\n                            "+e._s(e.core_waybill.shipping_date||e.blank_value_text)+"\n                        ")]),e._m(7),i("td",{staticClass:"one wide",attrs:{colspan:"1"}},[e._v("\n                            "+e._s(e.core_waybill.shipping_period||e.blank_value_text)+"\n                        ")]),i("td",{staticClass:"four wide three-height",attrs:{colspan:"4",rowspan:"3"}},[i("div",{staticClass:"three height"},[e.core_waybill.goods_name?i("p",[e._v("品名："+e._s(e.core_waybill.goods_name||e.blank_value_text))]):e._e()]),i("barcode",{attrs:{value:e.core_waybill.original_number,tag:"svg",options:{background:"transparent",displayValue:!0,format:"CODE128",width:1,height:25}}},[e._v("\n                                看見此資訊請通知系統工程師。\n                            ")])],1)]),i("tr",[e._m(8),i("td",{staticClass:"six wide right bold",attrs:{colspan:"6",rowspan:"1"}},[i("div",{staticClass:"two height"},[e._v("\n                                "+e._s(e.core_waybill.consignee_address||e.blank_value_text)+"\n                            ")])]),i("td",{staticClass:"four wide",attrs:{colspan:"4"}},[e._v("\n                            "+e._s(e.core_waybill.shipping_note||e.blank_value_text)+"\n                        ")])]),i("tr",[e._m(9),i("td",{staticClass:"six wide right bottom bold",attrs:{colspan:"6"}},[i("div",{staticClass:"one height"},[e._v("\n                                "+e._s(e.core_waybill.original_number||e.blank_value_text)+"\n                            ")])]),i("td",{staticClass:"one wide",attrs:{colspan:"1",rowspan:"1"}},[e._v("\n                            運費\n                        ")]),i("td",{staticClass:"three wide",attrs:{colspan:"3",rowspan:"1"}},[i("h2",{staticClass:"ui header",domProps:{innerHTML:e._s(e.fee)}})])]),i("tr",[e._m(10),e._m(11),i("td",{staticClass:"six wide",attrs:{colspan:"6"}},[i("div",{staticClass:"one height"},[e._v("\n                                "+e._s(e.sender_name_and_company_name)+"\n                                ")])]),e._m(12),i("td",{staticClass:"two wide top bold",attrs:{colspan:"2"}},[i("h6",{staticClass:"ui sub header"},[e._v(e._s(e.thousands_separator(e.collection_fee))),i("span",{staticClass:"unit"},[e._v("元")])])]),e._m(13)]),i("tr",[e._m(14),i("td",{staticClass:"six wide",attrs:{colspan:"6"}},[i("div",{staticClass:"one height"},[e._v("\n                                "+e._s(e.core_waybill.sender_phone||e.blank_value_text)+"\n                            ")])]),e._m(15),i("td",{staticClass:"two wide",attrs:{colspan:"2"}},[i("h6",{staticClass:"ui sub header"},[e._v(e._s(e.thousands_separator(e.tax))),i("span",{staticClass:"unit"},[e._v("元")])])]),i("td",{staticClass:"four wide left bottom right bold three-height",attrs:{colspan:"4",rowspan:"4"}})]),i("tr",[e._m(16),i("td",{staticClass:"six wide right",attrs:{colspan:"6"}},[i("div",{staticClass:"one height"},[e._v("\n                                "+e._s(e.core_waybill.sender_address||e.blank_value_text)+"\n                            ")])]),e._m(17),i("td",{staticClass:"two wide bottom bold",attrs:{colspan:"2"}},[i("h6",{staticClass:"ui sub header"},[e._v(e._s(e.thousands_separator(e.total_amount))),i("span",{staticClass:"unit"},[e._v("元")])])])]),i("tr",[e._m(18),i("td",{staticClass:"four wide",staticStyle:{position:"relative"},attrs:{colspan:"6",rowspan:"2"}},[i("span",{staticStyle:{position:"absolute",right:"5px",bottom:"5px",color:"lightgray","font-size":"0.8em"}},[e._v(e._s(e.logistician.name)+"("+e._s(e.logistician.username)+")")])]),e._m(19),e._m(20),e._m(21),e._m(22)]),i("tr",[i("td",{staticClass:"one wide bottom bold"},[e.core_waybill.child_core_waybills_count>0&&void 0!=e.core_waybill.shipping_child_core_waybills_count?i("div",{staticStyle:{"font-size":"0.8em"}},[e._v("\n                                "+e._s(e.core_waybill.shipping_child_core_waybills_count)+"\n                                "),i("span",{staticClass:"unit"},[e._v("件")])]):i("div",[e._v("-")])]),i("td",{staticClass:"one wide bottom bold"},[e.core_waybill.child_core_waybills_count>0&&void 0!=e.core_waybill.delivered_child_core_waybills_count?i("div",{staticStyle:{"font-size":"0.8em"}},[e._v("\n                                "+e._s(e.core_waybill.delivered_child_core_waybills_count)+"\n                                "),i("span",{staticClass:"unit"},[e._v("件")])]):i("div",[e._v("-")])]),i("td",{staticClass:"one wide right bottom bold"},[e.core_waybill.child_core_waybills_count>0&&void 0!=e.core_waybill.child_core_waybills_count?i("div",{staticStyle:{"font-size":"0.8em"}},[e._v("\n                                "+e._s(e.core_waybill.child_core_waybills_count)+"\n                                "),i("span",{staticClass:"unit"},[e._v("件")])]):i("div",[e._v("-")])])])])])])])])},o=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{staticClass:"two wide",attrs:{colspan:"2"}},[i("h5",{staticClass:"ui sub header"},[e._v("\n                                出單日\n                            ")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{staticClass:"one wide four-height top left bottom bold",attrs:{rowspan:"4"}},[i("h4",{staticClass:"ui header"},[e._v("收")]),i("h4",{staticClass:"ui header"},[e._v("件")]),i("h4",{staticClass:"ui header"},[e._v("人")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{staticClass:"one wide",attrs:{colspan:"1"}},[i("h5",{staticClass:"ui sub header"},[e._v("\n                                名"),i("br"),e._v("\n                                稱"),i("br")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{staticClass:"one wide",attrs:{colspan:"1"}},[i("h5",{staticClass:"ui sub header"},[e._v("\n                                件"),i("br"),e._v("\n                                數"),i("br")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{staticClass:"one wide",attrs:{colspan:"1"}},[i("h5",{staticClass:"ui sub header"},[e._v("\n                                重"),i("br"),e._v("\n                                量"),i("br")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{staticClass:"four wide",attrs:{colspan:"4",rowspan:"1"}},[i("h5",{staticClass:"ui sub header"},[e._v("\n                                配 送 訊 息\n                            ")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{staticClass:"one wide",attrs:{colspan:"1"}},[i("h5",{staticClass:"ui sub header"},[e._v("\n                                電"),i("br"),e._v("\n                                話"),i("br")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{staticClass:"one wide",attrs:{colspan:"1"}},[i("h5",{staticClass:"ui sub header"},[e._v("\n                                時"),i("br"),e._v("\n                                段"),i("br")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{staticClass:"one wide",attrs:{colspan:"1",rowspan:"1"}},[i("h5",{staticClass:"ui sub header"},[e._v("\n                                地"),i("br"),e._v("\n                                址"),i("br")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{staticClass:"one wide bottom bold",attrs:{colspan:"1"}},[i("h5",{staticClass:"ui sub header"},[e._v("\n                                原始"),i("br"),e._v("\n                                單號"),i("br")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{staticClass:"one wide three-height",attrs:{rowspan:"3"}},[i("h4",{staticClass:"ui header"},[e._v("寄")]),i("h4",{staticClass:"ui header"},[e._v("件")]),i("h4",{staticClass:"ui header"},[e._v("人")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{staticClass:"one wide",attrs:{colspan:"1"}},[i("h5",{staticClass:"ui sub header"},[e._v("\n                                名"),i("br"),e._v("\n                                稱"),i("br")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{staticClass:"two wide left top bold",attrs:{colspan:"2"}},[i("h6",{staticClass:"ui sub header"},[e._v("代收貨款")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{staticClass:"four wide left top right bold",attrs:{colspan:"4",rowspan:"1"}},[i("h5",{staticClass:"ui sub header"},[e._v("\n                                簽收欄（請簽全名或蓋章）\n                            ")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{staticClass:"one wide",attrs:{colspan:"1"}},[i("h5",{staticClass:"ui sub header"},[e._v("\n                                電"),i("br"),e._v("\n                                話"),i("br")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{staticClass:"two wide left bold",attrs:{colspan:"2"}},[i("h6",{staticClass:"ui sub header"},[e._v("稅金")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{staticClass:"one wide",attrs:{colspan:"1"}},[i("h5",{staticClass:"ui sub header"},[e._v("\n                                地"),i("br"),e._v("\n                                址"),i("br")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{staticClass:"two wide left bottom bold",attrs:{colspan:"2"}},[i("h6",{staticClass:"ui sub header"},[e._v("合計")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{staticClass:"two wide",attrs:{colspan:"2",rowspan:"2"}},[i("h5",{staticClass:"ui sub header"},[e._v("\n                                配送人員簽名\n                            ")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{staticClass:"four wide left top bottom bold",attrs:{colspan:"1",rowspan:"2"}},[e._v("\n                            子"),i("br"),e._v("\n                            單"),i("br")])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{staticClass:"one wide"},[i("h6",{staticClass:"ui sub header"},[e._v("配送中")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{staticClass:"one wide"},[i("h6",{staticClass:"ui sub header"},[e._v("已配達")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{staticClass:"one wide right bold"},[i("h6",{staticClass:"ui sub header"},[e._v("總件數")])])}],c=n("865e"),_=n("d56f");n("c1df");function l(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function u(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){l(a,n,s,r,o,"next",e)}function o(e){l(a,n,s,r,o,"throw",e)}r(void 0)})}}var d={props:{core_waybill:{type:Object,default:function(){return{identity:null,number:null,consignee_name:null,consignee_phone:null,consignee_address:null,original_number:null,sender_name:null,sender_phone:null,sender_address:null,pieces:null,weight_in_kilo:null,collection:null,goods_name:null,shipping_date:null,shipping_period:null,shipping_note:null}}},logo_url:String,title:String,sub_title:String,customer_service_hotline:String,logistician:Object,force_location:String,show_print_button:{type:Boolean,default:!1},show_content:{type:Boolean,default:!1},blank_value_text:{type:String,default:null}},computed:{consignee_name_and_company_name:function(){var e=this.core_waybill.consignee_name||"",t=this.core_waybill.consignee_company_name||"",i=e&&t?" / ":"";return e+i+t},sender_name_and_company_name:function(){var e=this.core_waybill.sender_name||"",t=this.core_waybill.sender_company_name||"",i=e&&t?" / ":"";return e+i+t},collection_fee:function(){return this.core_waybill.collection+this.core_waybill.consignee_tax_point||0},declaration_fee:function(){return this.core_waybill.simplified_declaration_form_fee+this.core_waybill.declaration_form_fee||0},tax:function(){return this.core_waybill.tax||0},total_amount:function(){return this.collection_fee+this.declaration_fee+this.tax||0},fee:function(){var e="";switch(this.core_waybill.payment_type){case"cash_by_consignee":e+="到付<br> $"+this.core_waybill.charge;break;case"cash_by_sender":e+="寄付<br> $"+this.core_waybill.charge;break;case"monthly":e+="月結";break;default:this.core_waybill.charge&&(e+=this.core_waybill.charge)}return e},distribution_object_name:function(){try{return distribution.object.name}catch(e){return null}}},data:function(){return{paper_size:"A5",distribution:{object:{name:null}}}},watch:{},mounted:function(){},methods:{thousands_separator:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},print:function(){var e=u(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){$(t.$refs.printable).clone().appendTo("div#print")});case 2:return e.next=4,new Promise(function(e){window.print()});case 4:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),fetch_distribution:function(){var e=this;if(this.core_waybill.identity){var t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_core_waybill_distribute).parse({core_waybill_identity:this.core_waybill.identity},"");return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){return"success"==t.data.status?e.distribution=t.data.distribution:"failure"==t.data.status&&(e.errors=t.data.errors,e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.distributions"),reason:": "+t.data.errors}))),t})["catch"](function(t){return e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.distributions"),reason:": "+e.$t("ui.general.network_abnormality")+","+t.response.status})),Promise.reject(t)}).then(function(){})}return Promise.resolve()}},components:{barcode:c["a"],qrcode:_["a"]}},p=d,m=(n("7c6f"),n("2877")),f=Object(m["a"])(p,r,o,!1,null,"3cf3a43d",null),h=f.exports;function v(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function g(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){v(a,n,s,r,o,"next",e)}function o(e){v(a,n,s,r,o,"throw",e)}r(void 0)})}}var b={props:{show_buttons:{type:Boolean,default:!1},show_contents:{type:Boolean,default:!1},assigned_core_waybills:{type:Array,default:function(){return[]}},logo_url:{type:String,default:"/images/tw568_logo.png"},force_location:String,title:String,sub_title:String,customer_service_hotline:String,logistician:Object,blank_value_text:{type:String,default:""},channel_name:{type:String,default:"receipts"},operator_identity:{type:String,default:""},is_beta:{type:Boolean,default:!1},conditions_search_params:{type:Object,default:function(){return{}}},default_search_params:{type:Object,default:function(){return{}}}},model:{prop:"value",event:"update"},data:function(){return{is_printing:!1,core_waybill_identities:[],core_waybills:[]}},mounted:function(){var e=this;this.$bus.$off(this.channel_name),this.$bus.$on(this.channel_name,function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"A5";e.print(t)})},computed:{},methods:{print:function(){var e=g(regeneratorRuntime.mark(function e(){var t,i,n,s,a,r,o,c,_,l,u,d,p,m,f,h,v,g,b,y=this,w=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=w.length>0&&void 0!==w[0]?w[0]:"A5",this.is_printing){e.next=97;break}return e.next=4,new Promise(function(e){y.$emit("update",!1),y.is_printing=!0,y.core_waybills=[],y.core_waybills=y.assigned_core_waybills,e()});case 4:if(0!=this.core_waybills.length){e.next=15;break}if(!this.is_beta){e.next=13;break}return this.$emit("update",!0),e.next=9,this.fetch_core_waybill_identities();case 9:return e.next=11,this.fetch_core_waybills();case 11:e.next=15;break;case 13:return e.next=15,this.old_fetch_core_waybills();case 15:return e.next=17,new Promise(function(e){$("div#print").html(""),e()});case 17:i=!0,n=!1,s=void 0,e.prev=20,a=regeneratorRuntime.mark(function e(){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i=o.value,e.next=3,new Promise(function(e){i.paper_size=t,e()});case 3:case"end":return e.stop()}},e)}),r=this.$children[Symbol.iterator]();case 23:if(i=(o=r.next()).done){e.next=28;break}return e.delegateYield(a(),"t0",25);case 25:i=!0,e.next=23;break;case 28:e.next=34;break;case 30:e.prev=30,e.t1=e["catch"](20),n=!0,s=e.t1;case 34:e.prev=34,e.prev=35,i||null==r["return"]||r["return"]();case 37:if(e.prev=37,!n){e.next=40;break}throw s;case 40:return e.finish(37);case 41:return e.finish(34);case 42:c=!0,_=!1,l=void 0,e.prev=45,u=this.$children[Symbol.iterator]();case 47:if(c=(d=u.next()).done){e.next=54;break}return p=d.value,e.next=51,p.fetch_distribution();case 51:c=!0,e.next=47;break;case 54:e.next=60;break;case 56:e.prev=56,e.t2=e["catch"](45),_=!0,l=e.t2;case 60:e.prev=60,e.prev=61,c||null==u["return"]||u["return"]();case 63:if(e.prev=63,!_){e.next=66;break}throw l;case 66:return e.finish(63);case 67:return e.finish(60);case 68:return e.next=70,this.$nextTick(function(){});case 70:m=!0,f=!1,h=void 0,e.prev=73,v=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=b.value,e.next=3,new Promise(function(e){$(t.$refs.printable).clone().appendTo("div#print"),e()});case 3:case"end":return e.stop()}},e)}),g=this.$children[Symbol.iterator]();case 76:if(m=(b=g.next()).done){e.next=81;break}return e.delegateYield(v(),"t3",78);case 78:m=!0,e.next=76;break;case 81:e.next=87;break;case 83:e.prev=83,e.t4=e["catch"](73),f=!0,h=e.t4;case 87:e.prev=87,e.prev=88,m||null==g["return"]||g["return"]();case 90:if(e.prev=90,!f){e.next=93;break}throw h;case 93:return e.finish(90);case 94:return e.finish(87);case 95:return e.next=97,new Promise(function(e){window.print(),y.is_printing=!1,y.$emit("update",!1),e()});case 97:case"end":return e.stop()}},e,this,[[20,30,34,42],[35,,37,41],[45,56,60,68],[61,,63,67],[73,83,87,95],[88,,90,94]])}));function t(){return e.apply(this,arguments)}return t}(),fetch_core_waybill_identities:function(){var e=this,t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_conditions_core_waybill_identities).parse();return axios.post(t,this.conditions_search_params,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){return"success"==t.data.status?e.core_waybill_identities=t.data.core_waybill_identities:"failure"==t.data.status&&(e.$emit("update",!1),e.is_printing=!1,e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.core_waybills"),reason:": "+t.data.errors}))),t})["catch"](function(t){return e.$emit("update",!1),e.is_printing=!1,e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.core_waybills"),reason:": "+e.$t("ui.general.network_abnormality")})),Promise.reject(t)})},fetch_core_waybills:function(){var e=this;if(this.core_waybill_identities){var t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_core_waybills_filter).parse({},"");return axios.post(t,{identity:this.core_waybill_identities,material:{class_names:"Waybill"},pagination:!1},{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){return"success"==t.data.status?e.core_waybills=t.data.core_waybills:"failure"==t.data.status&&(e.$emit("update",!1),e.is_printing=!1,e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.core_waybills"),reason:": "+t.data.errors}))),t})["catch"](function(t){return e.$emit("update",!1),e.is_printing=!1,e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.core_waybills"),reason:": "+e.$t("ui.general.network_abnormality")})),Promise.reject(t)})}return Promise.resolve()},old_fetch_core_waybills:function(){var e=this,t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_core_waybills_filter).parse({},"?"+object_to_query(this.default_search_params));return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){return"success"==t.data.status?t.data.core_waybills&&(e.core_waybills=e.core_waybills.concat(t.data.core_waybills)):"failure"==t.data.status&&(e.$emit("update",!1),e.is_printing=!1,e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.core_waybills"),reason:": "+t.data.errors}))),t})["catch"](function(t){return e.$emit("update",!1),e.is_printing=!1,e.errors.push(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.core_waybills"),reason:": "+e.$t("ui.general.network_abnormality")+","+t.response.status})),Promise.reject(t)})}},components:{Item:h}},y=b,w=Object(m["a"])(y,s,a,!1,null,"7596dc96",null);i["a"]=w.exports},a87a:function(e,t,i){},a8bf:function(e,t,i){},a91f:function(e,t,i){},a9cf:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui footer segment",staticStyle:{position:"relative"}},[i("div",{staticClass:"ui center aligned container"},[i("div",{staticClass:"ui horizontal inverted small divided list"},[i("p",[e._v("\n                Copyright © "+e._s(e.current_year)+" Genki Inc. All rights reserved\n            ")])])])])},s=[],a={name:"FooterBar",current_year:function(){return(new Date).getFullYear()}},r=a,o=i("2877"),c=Object(o["a"])(r,n,s,!1,null,"675d3121",null);t["a"]=c.exports},aab9:function(e,t,i){"use strict";var n=i("9e40"),s=i.n(n);s.a},ab9a:function(e,t,i){"use strict";var n=i("d973"),s=i.n(n);s.a},abde:function(e,t,i){},ac92:function(e){e.exports={_comment:"此檔案為Scanner 設定 檔案",name:"axon",options:["is_scan_mode","is_scan_action_mode","is_batch_mode","is_operation_mode","is_core_waybill_pieces_mode","is_update_corewaybill_mode","is_auto_print_label_mode","is_noty_audio_mode","is_speech_mode","is_quick_corewaybill_related_columns","core_waybill_template_mode"]}},acde:function(e,t,i){},acf8:function(e,t,i){},ad31:function(e,t,i){"use strict";var n=i("3f86"),s=i.n(n);s.a},adac:function(e,t,i){},ae28:function(e,t,i){},af46:function(e,t,i){"use strict";var n=i("d360"),s=i.n(n);s.a},afe5:function(e,t,i){"use strict";var n=i("7854"),s=i.n(n);s.a},b003:function(e,t,i){"use strict";var n=i("33a2"),s=i.n(n);s.a},b0a0:function(e,t,i){"use strict";var n=i("1e0f"),s=i.n(n);s.a},b102:function(e){e.exports=[{_comment:"此檔案Scanner config預設檔案。",name:"default",font:"white",identity:"default",theme_file_name:"default"},{name:"博宇",font:"white",identity:"6896bd65c1-28036-39768292",theme_file_name:"dark01"}]},b107:function(e){e.exports={_comment:"此檔案為Scanner 設定 檔案",name:"neuron",options:["is_scan_mode","is_scan_action_mode","is_batch_mode","is_operation_mode","is_core_waybill_pieces_mode","is_update_corewaybill_mode","is_auto_print_label_mode","is_distributed_to_mode","is_high_performance_mode","is_noty_audio_mode","is_speech_mode","is_quick_corewaybill_related_columns","is_package_mode","is_unpackage_mode","pack_p_m_mode","pack_m_mode","pack_need_source_mode","core_waybill_template_mode"]}},b10c:function(e,t,i){},b1b4:function(e,t,i){"use strict";var n=i("1b17"),s=i.n(n);s.a},b1cc:function(e,t,i){},b2d6:function(e,t,i){"use strict";var n=i("685a"),s=i.n(n);s.a},b36c:function(e){e.exports={name:"dark01",color:{background_img:"blur03.jpg",background_position:"0% 0%",background:"linear-gradient(134deg, rgba(0, 0, 0, 0.9)0%, rgba(142, 162, 232, 1)100%)",font:"white",warning:"white",show_setting_icon:"orange",setting_group_icon:"white"},computer:{background_position:"0% 50%"},mobile:{background_position:"0% 0%"}}},b3c1:function(e,t,i){},b4ec:function(e,t,i){"use strict";var n=i("5716"),s=i.n(n);s.a},b632:function(e,t,i){},b673:function(e,t,i){"use strict";var n=i("d6a3"),s=i.n(n);s.a},b6b9:function(e,t,i){"use strict";var n=i("09a9"),s=i.n(n);s.a},b6d1:function(e,t,i){},b72f:function(e,t,i){},b790:function(e,t,i){"use strict";var n=i("a91f"),s=i.n(n);s.a},b810:function(e,t,i){},b84a:function(e,t,i){"use strict";var n=i("565b"),s=i.n(n);s.a},b8af:function(e,t,i){"use strict";var n=i("a620"),s=i.n(n);s.a},ba52:function(e,t,i){},bab3:function(e,t,i){var n={"./dark01":"b36c","./dark01.json":"b36c","./dark02":"60a8","./dark02.json":"60a8","./dark03":"c9e1","./dark03.json":"c9e1","./dark04":"cc57","./dark04.json":"cc57","./dark05":"71f5","./dark05.json":"71f5","./default":"8126","./default.json":"8126","./node":"b102","./node.json":"b102"};function s(e){var t=a(e);return i(t)}function a(e){var t=n[e];if(!(t+1)){var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}return t}s.keys=function(){return Object.keys(n)},s.resolve=a,e.exports=s,s.id="bab3"},bab4:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"errors"},[e.errors.length>0?i("div",{staticClass:"ui red icon message"},[i("i",{staticClass:"warning icon"}),i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                "+e._s(e.$t("ui.notifications.error.please_handle_errors"))+"\n            ")]),e._l(e.errors,function(t,n){return i("p",[e._v(e._s(n+1)+". "+e._s(t))])})],2)]):e._e()])},s=[],a={props:{errors:Array},data:function(){return{}},mounted:function(){},computed:{},methods:{},components:{}},r=a,o=i("2877"),c=Object(o["a"])(r,n,s,!1,null,"28eea542",null);t["a"]=c.exports},bb3b:function(e,t,i){},bb42:function(e,t,i){"use strict";var n=i("a009"),s=i.n(n);s.a},bc4d:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"notification"}},[e.notification.urgent?i("div",{staticClass:"ui orange icon message"},[i("i",{staticClass:"wrench icon",attrs:{"aria-hidden":"true"}}),i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                "+e._s(e.notification.title)+"\n            ")]),i("div",{staticClass:"timestamp"},[e.notification.estimated_shutdown?i("span",{staticClass:"shutdown"},[e._v("\n                    "+e._s(e.$moment(e.notification.estimated_shutdown).locale("zh-tw").format("YYYY-MM-DD HH:mm"))+"\n                ")]):e._e(),i("span",[e._v("\n                    "+e._s(e.continued_help)+"\n                ")]),e.notification.estimated_boot?i("span",{staticClass:"boot"},[e._v("\n                    "+e._s(e.$moment(e.notification.estimated_boot).locale("zh-tw").format("YYYY-MM-DD HH:mm"))+"\n                ")]):e._e()])])]):e._e()])},s=[],a={props:{notification:Object},data:function(){return{}},mounted:function(){},computed:{continued_help:function(){return this.notification.estimated_shutdown||this.notification.estimated_boot?this.notification.estimated_shutdown&&!this.notification.estimated_boot?"關機":!this.notification.estimated_shutdown&&this.notification.estimated_boot?"預計開機時間：":"~":""}},methods:{},components:{}},r=a,o=(i("457b"),i("2877")),c=Object(o["a"])(r,n,s,!1,null,"482199d9",null);t["a"]=c.exports},bccc:function(e,t,i){"use strict";var n=i("643b"),s=i.n(n);s.a},bced:function(e){e.exports={models:{_comment:"關聯表名稱不在此上面",appraisals:"考绩",assets:"资产",comments:"留言",contracts:"合约",conversion_attributes:"合约归于",converters:"转换器",core_waybills:"运单",customers:"客户",quotations:"報價單",distributions:"分拨",distribution_conditions:"分拨条件",driver_commissions:"收派件提成",driver_commission_policies:"收派件提成政策",driver_commission_reports:"收派件提成报告",logs:"用户历程",materials:"物料",nodes:"公司",operations:"订单",partitions:"号码区间",permissions:"权限",permission_groups:"权限群组",roles:"职位",staffs:"员工",stations:"站点",scan_actions:"扫描动作",status_prototypes:"货况",scan_action_prototypes:"扫描动作",attributes:{assets:{barcode:"条码",number:"编号",category:"资产种类",note:"备注",node_identity:"Node identity"},converters:{name:"名称",number:"号码",provider_node_identity:"provider_node_identity",customer_node_identity:"customer_node_identity",customer_identity:"customer_identity",carrier_class:"承运商类别",proxy_contract_identity:"proxy_contract_identity",third_party_api_data:"third_party_api_data",note:"备注"},customer_contracts:{name:"合约名称",number:"客户编号",carrier_class:"承运商类别",proxy_contract:"自动转运合约",third_party_api_data:"第三方串接信息",note:"备注"},customers:{username:"帐号",password:"密码",password_confirmation:"确认密码",authentication_token:"API Token",company_name:"公司名称",company_short_name:"公司简短名称",company_en_name:"英文名称",email:"E-mail",phone:"联络电话",fax:"传真",website_url:"网站网址",default_sender_zip_code:"Sender ZIP code",default_sender_company_name:"寄件人公司名",default_sender_address:"寄件人地址",default_sender_name:"寄件人姓名",default_sender_phone:"寄件人电话",default_sender_email:"寄件人电子邮件",default_sender_fax:"寄件人传真",default_sender_url:"寄件人网址",default_consignee_zip_code:"Consignee ZIP code",default_consignee_company_name:"收件人公司名",default_consignee_address:"收件人地址",default_consignee_name:"收件人姓名",default_consignee_phone:"收件人电话",default_consignee_email:"收件人电子邮件",default_consignee_fax:"收件人传真",can_use_associated_partitions:"是否可使用上层运单",is_banned:"是否被停权"},conditions:{core_waybill_identity:"运单",scan_action_prototype_identity:"SAP",condition_type:"种类",can_use:"可使用",current_use:"使用中",already_use:"曾经用过",can_release:"可放行",current_release:"放行中",already_release:"曾经放行过",can_handover:"可点交",current_handover:"点交中",already_handover:"曾经点交过",can_collect:"可收货",current_collect:"收货中",already_collect:"曾经收货过",can_check:"可进站",current_check:"进站中",already_check:"曾经进站过",can_ship:"可派件",current_ship:"派件中",already_ship:"曾经派件过",can_back:"可回站",current_back:"回站中",already_back:"曾经回站过",can_delivered:"可配达",current_delivered:"配达中",already_delivered:"曾经配达过",can_transfer:"可中转",current_transfer:"中转中",already_transfer:"曾经中转过",can_intermodal:"可联运",current_intermodal:"联运中",already_intermodal:"曾经联运过",can_exception:"可异常件",current_exception:"异常件中",already_exception:"曾经异常件过",can_lock:"可锁定",current_lock:"锁定中",already_lock:"曾经锁定过",can_done:"可完成",current_done:"完成中",already_done:"曾经完成过",can_warehouse_in:"可进仓",current_warehouse_in:"进仓中",already_warehouse_in:"曾经进仓过",can_warehouse_out:"可出仓",current_warehouse_out:"出仓中",already_warehouse_out:"曾经出仓过",can_ready_to_ship:"可待出货",current_ready_to_ship:"待出货中",already_ready_to_ship:"曾经待出货过"},distributions:{priority:"优先",name:"名称",strategy:"策略",station:"管辖站点",station_identity:"管辖站点",strategy_value:"策略值",material:"限定物料",material_identity:"限定物料",is_activated:"是否启用"},driver_commissions:{pick_up_driver:"取件司机",pick_up_core_waybill:"取件运单",delivery_core_waybill:"送件运单",delivery_driver:"送件司机",driver_commission_report:"收派件提成报告",driver_commission_policy:"收派件提成政策",amount:"金额",polarity:"极性",created_at:"产生日期",is_deleted:"已被删除"},driver_commission_policies:{pick_up_first_weight:"取件首重重量(KG)",pick_up_first_price:"取件首重提成金额",pick_up_follow_up_weight:"取件续重重量单位(KG)",pick_up_follow_up_price:"取件续重单价",delivery_first_weight:"送件首重重量(KG)",delivery_first_price:"送件首重提成金额",delivery_follow_up_weight:"送件续重重量单位(KG)",delivery_follow_up_price:"送件续重单价",house_pick_up_first_weight:"取件首重重量(KG)",house_pick_up_first_price:"取件首重提成金额",house_pick_up_follow_up_weight:"取件续重重量单位(KG)",house_pick_up_follow_up_price:"取件续重单价",house_delivery_first_weight:"送件首重重量(KG)",house_delivery_first_price:"送件首重提成金额",house_delivery_follow_up_weight:"送件续重重量单位(KG)",house_delivery_follow_up_price:"送件续重单价",is_activated:"使否启用"},driver_commission_reports:{staff:"人员",total_amount:"总金额",time:"期间",begin_at:"计算起日",end_at:"计算讫日",created_at:"产生日期"},materials:{name:"物料名称",en_name:"英文名称",core_waybill_level:"运单阶层",class_name:"识别名称",label_type:"标签种类",needs_label:"需要标签"},nodes:{is_sandbox_mode:"沙盒模式",client_id:"Magnet APP ID",client_secret:"Magnet APP ID",access_token:"Magnet AccessToken",refresh_token:"Magnet Authorization",tax:"统一编号",carrier_class:"carrier::class",host:"host",service_name:"前台产品",code:"代码",company_name:"公司名称",company_short_name:"简短名称",company_en_name:"英文名称",email:"电子邮件",phone:"联络电话",fax:"联络传真",website_url:"官网网址",customer_service_hotline:"客服专线"},operations:{number:"订单号",file:"托运文件",file_name:"托运文件名称",file_url:"托运文件网址",original_file_name:"文件名稱",station:"分配站点",staffs:"分配人员",customer:"客户",customer_identity:"客户",your_note:"您的备注",customer_note:"客户备注",provider_note:"备注",system_note:"系统备注",cancel_reason:"作废理由",instantiate_note:"实例化备注",is_canceled:"已取消",is_operable:"",is_operated:"",is_ready:"",status:"状态",is_done:"已完成",is_done_true:"已完成",is_done_false:"未完成",created_at:"日期"},partitions:{name:"名称",numbers:"号码",numbers_from:"起始",numbers_to:"结尾",numbers_rule:"号码规则",parent:"子区间",customer:"客户",contracts:"合约",customer_identity:"客户",material:"物料",material_identity:"物料",partition_type:"区间类型",label_type:"标签种类",note:"备注",regex:"regex"},permissions:{name:"名称",uri:"uri",http_method:"http_method"},permission_groups:{name:"名称"},roles:{name:"名称"},scan_action_prototypes:{name:"动作名称",barcode:"条码号",required_condition:"需求条件",before_actions:"前置动作",is_default:"设定为初始货况",description_required_scope:"绑定货况描述之Scope",description_options:"绑定货况描述之候选选项"},staffs:{username:"帐号",password:"密码",password_confirmation:"确认密码",name:"姓名",phone:"电话",email:"E-mail",mobile:"手机号码",fax:"传真",tax:"tax",country:"国家",state:"state",city:"城市",district:"区",address:"地址",theme_name:"版面配置",note:"备注",is_banned:"是否被停权",role_identity:"职位",role:"职位",station_identity:"所属站点",station:"所属站点"},stations:{name:"站点名称",code:"代码",address:"地址",phone:"电话",position:"范围",note:"备注"},status_prototypes:{name:"名称",material:"物料",material_class_name:"物料",description:"叙述",non_polarity:"无极性",positive_polarity:"正极性",negative_polarity:"负极性"},user_logs:{title:"主旨",description:"描述",modified_attributes:"数值迁移",level:"纪录层级",action_type:"动作类型",is_undid:"复原纪录",undid_at:"复原于",node_identity:"节点ID",operator_identity:"操作者ID",loggable_identity:"Loggable",loggable_type:"Loggable type",created_at:"日期",updated_at:"updated_at",identity:"ID"},core_waybills:{number:"号码",operation_number:"订单号码",original_number:"原单号码",tracking_number:"追踪号码",storage_number:"储位号",warehouse_identity:"入仓代号",original_core_waybill_identity:"original_core_waybill_identity",tracking_core_waybill_identity:"tracking_core_waybill_identity",label_type:"标签种类",sender:"寄件人",sender_company_name:"寄件人公司名",sender_zip_code:"寄件人邮区编号",sender_address:"寄件人地址",sender_name:"寄件人姓名",sender_phone:"寄件人电话",sender_email:"寄件人email",sender_fax:"寄件人传真",sender_url:"寄件人网址",consignee:"收件人",consignee_company_name:"收件人公司名",consignee_zip_code:"收件人邮区编号",consignee_address:"收件人地址",consignee_name:"收件人姓名",consignee_phone:"收件人电话",consignee_email:"收件人email",consignee_fax:"收件人传真",flight_number:"航次",cvs_store_number:"cvs商店号码",cvs_store_name:"cvs商店名称",cvs_store_address:"cvs商店地址",cvs_store_phone:"cvs商店电话",station_code:"地区编号",temperature:"温层",payment_type:"付款方式",receipt_file:"签收单",receipt_file_url:"签收单网址",current_status:"当前状态",goods_name:"品名",note:"备注",note_2:"备注2",note_3:"备注3",declared_value:"货物申报价值",measurement:"材积",weight_in_kilo:"重量(KG)",serial:"串行",is_used:"已使用",node_identity:"node_identity",station_identity:"station_identity",operation_identity:"operation_identity",partition_identity:"partition_identity",material_identity:"material_identity",source_core_waybill_identity:"source_core_waybill_identity",parent_core_waybill_identity:"parent_core_waybill_identity",consignee_address_accuracy:"收件人准确地址",consignee_formatted_address:"收件人格式化地址",consignee_address_components:"收件人地址组件",is_done:"是否完成",is_collected:"代收货款 是否繳回公司",no_paid:"未缴回",paid:"已缴回",collection:"代收货款",collection_fee:"代收款手续费",simplified_declaration_form_fee:"简易报单费",declaration_form_fee:"正式报单费",declaration_form_extra_fee:"长单费",tax:"税金",price:"运费",insurance:"保险费",material_fee:"包材费",consignee_tax_point:"收件人税点",sender_tax_point:"寄件人税点",warehouse_fee:"仓租费",fuel_surcharge:"燃油附加费",value_added_service_fee:"加值服务费",overlength_fee:"超长费",overweight_fee:"超重费",extra_fee:"其他",shipping_date:"配送日期",shipping_period:"配送时段",shipping_note:"配送备注",latest_status:"货况",created_at:"建立日期",updated_at:"更新日期",identity:"identity",is_deleted:"已被删除",deleted_at:"删除日期"}}},ui:{general:{cannot:"无法",cannot_use:"您无法使用",clear:"清除",select:"选择",please_select:"请选择",yes:"是",no:"无",no_data:"无资料",date:"日期",day:"天",days:"天",hour:"小时",hours:"小时",minute:"分",minutes:"分",second:"秒",operate:"操作",hot_key:"快捷键",copy:"复制",note:"备注",simple:"简易",advanced:"进阶",detail:"详细",show:"查看",edit:"编辑",create:"建立",creating:"建立中",search:"搜寻",searching:"搜寻中",search__key:"搜寻{key}...",submit:"送出",result:"结果",verify:"检验",verifying:"检验中",verify_staff:"检验身份",update:"更新",updating:"更新中",delete:"删除",deleteing:"删除中",ready:"准备",readying:"准备中",handle:"处理",handling:"处理中",cancel:"取消",canceling:"取消中",print:"打印",printing:"打印中",upload:"上传",uploading:"上传中",fetch:"取得",success:"成功",failure:"失败",network_abnormality:"线路状况",server_offline:"伺服器忙碌中,请稍后再尝试",error:"错误",back:"返回",initialize:"初始化",initializing:"载入中，请稍等",initialize_complete:"初始化完毕",created_at:"建立日期",updated_at:"更新日期",deleted_at:"删除日期",folder:"资料夹",file:"档案",all:"全部"},page_titles:{index:"首页",current_page:"目前位置",provider_index:"快递系统-管理端",station_index:"快递系统-站点端",customer_index:"快递系统-客户端",provider_pages:"管理界面",customer_pages:"客户界面",uploader:"汇入明细",station_uploader:"汇入明细",provider_uploader:"汇入明细",customer_uploader:"汇入明细",operation_show:"订单内容",operation_print_list:"打印托运总表",operation_print_label:"打印托运标签",assets:"资产列表",assets_index:"资产列表",new_asset:"新增资产",edit_asset:"编辑资产",print_asset:"打印资产标签",quote_policies:"计价政策",quote_policy:"检视计价政策",provider_customers:"客户管理",new_provider_customer:"新增客户",provider_customer:"检视客户",station_customers:"客户管理",new_station_customer:"新增客户",station_customer:"检视客户",provider_contracts:"客户合约",new_provider_contract:"新增合约",provider_contract:"检视合约",new_provider_quotation:"新增报价单",provider_quotation:"检视报价单",station_contracts:"客户合约",new_station_contract:"新增合约",station_contract:"检视合约",new_station_quotation:"新增报价单",station_quotation:"检视报价单",scanner:"扫描界面",provider_operations:"订单列表",edit_provider_operation:"编辑订单",driver_commissions:"抽成纪录列表",materials:"物料管理",new_material:"新增物料",edit_material:"编辑物料",provider_partitions:"号码区间",provider_associated_partitions:"我的号码区间",customer_partitions:"号码区间",new_provider_partition:"新增号码区间",edit_provider_partition:"编辑号码区间",station_partitions:"号码区间",station_associated_partitions:"我的号码区间",new_station_partition:"新增号码区间",edit_station_partition:"编辑号码区间",permissions:"权限列表",permission_groups:"权限群组管理",new_permission_group:"新增权限群组",edit_permission_group:"编辑权限群组",customer_core_waybills:"总运单管理",customer_core_waybills_operation:"订单筛选管理",customer_show_core_waybill_operation:"检视运单",customer_show_core_waybill:"检视运单",core_waybills:"总运单管理",core_waybills_operation:"订单筛选管理",edit_core_waybill_operation:"编辑运单",edit_core_waybill:"编辑运单",new_core_waybill:"新增运单",roles:"职位管理",new_role:"新增职位",edit_role:"编辑职位",settings:"设定",staffs:"员工管理",new_staff:"新增员工",staff:"员工内容",edit_staff:"编辑员工",stations:"站点管理",new_station:"新增站点",edit_station:"编辑站点",status_prototypes:"货况管理",new_status_prototype:"新增货况",status_prototype:"货况内容",edit_status_prototype:"编辑货况",pack:"打包界面",unpack:"拆包界面",page_404:"Not Found",operate:"处理",appraisals:"考绩列表",edit_appraisal:"编辑考绩",new_appraisal:"新增考绩",user_logs:"使用者历程",user_log:"使用者历程",driver_commission_policies:"收派件提成政策",new_driver_commission_policy:"新增收派件提成政策",edit_driver_commission_policy:"编辑收派件提成政策",driver_commission_reports:"收派件提成报告",new_driver_commission_report:"建立收派件提成报告",driver_commission_report:"收派件提成报告内容",scan_action_prototypes:"扫描动作列表",scan_action_prototype:"扫描动作内容",new_scan_action_prototype:"建立扫描动作",edit_scan_action_prototype:"编辑扫描动作",provider_node:"公司资讯",customer_operations:"订单列表",show_customer_operation:"订单内容",new_provider_operation:"新增订单",provider_distributions:"分拨设定",new_provider_distribution:"新增辖区",edit_provider_distribution:"辖区内容",permission_denied:"权限问题"},links:{menu:{provider_index:"后台首页",scan:"扫描管理",scan_action_prototypes:"扫描动作",status_prototypes:"货况管理",numbers:"单号管理",assets:"资产管理",stations:"站点管理",provider_partitions:"号码区间",station_partitions:"号码区间",materials:"物料管理",permission_groups:"权限群组",staffs:"员工",roles:"职位管理",users:"员工管理",provider_uploader:"汇入明细",station_uploader:"汇入明细",customer_uploader:"汇入明细",core_waybills:"总运单管理",provider_operations:"订单管理",station_operations:"订单管理",routes:"路由表",processed_files:"文件纪录",import_files:"API Openfile",intelligent:"intelligent",operation_managers:"Operation Manager",user_logs:"用户历程",commission_policies:"提成政策",commission_reports:"提成报告",driver_commission_policies:"收派件提成政策",driver_commission_reports:"收派件提成报告",driver_commissions:"收派件提成纪录",provider_node:"公司管理",provider_distributions:"分拨设定",provider_customers:"客戶管理",station_customers:"客戶管理"},top_menu:{my_receipts:"我的签收单",print_check_summary:"打印点交单",scanner:"扫描系统",language:"语言",notice:"通知",no_station:"尚未选择站点",overtime_note:"超时提示",full_logout:"完整註銷",full_logout_help:"会完整清除设定记录",logout:"註銷"}},theme_names:{staff:"标准员工",driver:"司机",manager:"主管",operator:"操作者",exception:"例外帐号",default:"预设帐號"},status_scopes:{operator:"内部货况",forwarder:"客户货况",public:"公开货况",mark:"标记",condition:"流程控制",system:"系统",unknown:"不明"},validator:{is_required:" 为必填字段。",greater_than:" 必须大于 ",if:"如果 ",is:" 为 ",then:"那么 "},notifications:{help:{this_page_is_out_of_date_please_click_here_to_refresh:"此页面的资料已非最新，请点此重新整理",please_clicked_initialize_again:"请点击再次初始化扫描系統"},success:{fetch:"取得成功",update:"更新成功",create:"建立成功",delete:"删除成功",verify:"检验成功",upload:"上传成功",__name:"{name}成功",fetch__name:"取得{name}成功",update__name:"更新{name}成功",create__name:"建立{name}成功",delete__name:"删除{name}成功",verify__name:"检验{name}成功",upload__name:"上传{name}成功",copy__name:"复制{name}成功"},warning:{are_you_sure_to_delete_it:"确定要删除?",are_you_sure_to_cancel_it:"确定要取消?"},error:{find:"查询失败{reason}",fetch:"取得失败{reason}",update:"更新失败{reason}",create:"建立失败{reason}",delete:"删除失败{reason}",verify:"检验失败{reason}",upload:"上传失败{reason}",copy:"复制失败{reason}",__name:"{name}失败",find__name:"查询{name}失败{reason}",fetch__name:"取得{name}失败{reason}",update__name:"更新{name}失败{reason}",create__name:"建立{name}失败{reason}",delete__name:"删除{name}失败{reason}",verify__name:"检验{name}失败{reason}",upload__name:"上传{name}失败{reason}",copy__name:"复制{name}失败{reason}",no_data:"没有任何资料",please_handle_errors:"请处理以下错误",exception_error_please_contact_the_system_supplier:"例外错误，请联络系统商",please_check_to_write_in_the_required_fields_mark:"请检查必填字段(*标记)是否确实填写"}},scanner:{settings:{is_scan_mode:{true:"扫描模式 | 扫描",false:"手动模式 | 手动"},is_scan_action_mode:{true:"点货作业模式 | 点货",false:"查看资料模式 | 查看"},is_batch_mode:{true:"批次处理 | 批次 | 警告！已启用 批量作业模式，号码需用逗号区隔，将不再提醒必填信息",false:"不批次处理 | 不批次"},is_operation_mode:{true:"使用订单模式 | 订单",false:"不使用订单模式 | 无订单"},is_core_waybill_pieces_mode:{true:"多件一单 | 多件一单",false:"非多件一单 | 非多件一单"},is_core_waybill_creation_mode:{true:"建立原运单 | 原运单",false:"不建立原运单 | 不运原单"},is_webcam_mode:{true:"镜头 | 镜头",false:"关闭镜头 | 关闭镜头"},is_update_corewaybill_mode:{true:"更新运单 | 更新运单",false:"查看运单 | 查看运单"},is_auto_print_label_mode:{true:"自动产标 | 印标",false:"不产标签 | 不印标"},is_distributed_to_mode:{true:"分拨模式 | 分拨",false:"不分拨 | 不分拨"},is_noty_audio_mode:{true:"提示声模式 | 提示声",false:"静音模式 | 无提示声"},is_speech_mode:{true:"语音报件模式 | 语音",false:"静音语音报件 | 无语音"},is_quick_corewaybill_related_columns:{true:"快速套用字段 | 快速套用",false:"不快速套用 | 不快速套用"},is_package_mode:{true:"自动包装 | 包装 | 包装中",false:"不包装"},is_unpackage_mode:{true:"自动拆包 | 拆包 | 拆包中",false:"不拆包"},pack_need_source_mode:{short_name:"套用资料",true:"套用",false:"不套用"},core_waybill_template_mode:{short_name:"查看模式",min_card:"极简查看运单 | 极简",card:"一般查看运单 | 一般",detail:"详细查看运单 | 详细"}},setting_groups:{LB00:"运单起始货况",LB01:"1.放行",LB02:"2.点交",LB06:"3.异常件",LB07:"3.异常件排除",LB11:"锁定",LB12:"解除锁定",LA00:"运单起始货况",LA01:"1.收货",LA02:"2.进站",package:"包装",LA03:"3.派件中",LA10:"3.联运",LA09:"3.出站集货中转",LA05:"4.回站",LA04:"4.已配达",LA06:"4.异常件",LA07:"4.异常件排除",LA08:"寄件者退运",LA11:"锁定",LA12:"解除锁定",LA13:"结案",LA21:"进仓",LA22:"上架",LA23:"出仓",LA24:"不明货",unpackage:"拆包",distributed_to:"分拨",pack_house_waybill:"袋包运, 装袋作业",pack_waybill_goods:"运包子, 一票多件",search:"查询运单",print:"打印标签"},menus:{settings:"扫描设定",setting_group:"设定包",operation:"订单",package:"包装",core_waybill:"运单"},jobs:{job:"工作",clear_jobs:"清除纪录",waiting_user_action:"等待用户动作",idle:"闲置中",processing:"处理中",success:"成功",failure:"失败",number:"号码",no_add_status:"尚未新增货况",no_error:"无错误",scope:{original_number:"原单号查询",new:"建立新运单"}},package:{packing_material:"包材",package:"包",unpackage:"拆",total__number:"{number}件",detail:"查看",hide:"隐藏"},upload:{receipt_file:"请上传签收单",result:"上传结果"},helps:{select:"请选定",write:"请填写",scan:"请扫描",quick_required_field_div:"快速套用必填字段区",current_scan_action_prototype:"当前状态条码",distributed_result:"分拨结果",you_dont_any_operation:"您目前没有任何订单",write_or_scan_barcode:"输入号码或是扫描条码",write_related_columns:"请填写必要字段",write_scan_action_note:"请填写货况备注",write_number:"请输入号码",select_scan_action:"请选定条码状态",select_pack_taget_parent:"请选定包材",select_pack_taget:"请选择包装目标",select_target_layer:"请选定目标层",selected_operation:"已选择订单",distributed:{please_select:"请选择",current_station:"当前站点",can_use_distributed_to_mode:"才可启用分拨"}},alerts:{is_created:"是否要建立",required:"必填",previous:"上一步",give_up:"放弃",definite:"确定",please_write:"请填入",required_field:"必填字段",if_have_write:"有则填写",upload_receipt_img:"请上传签收单",upload_result:"上传结果",uploading:"上传中",please_write_scan_note:"请填入货况备注"},operations:{total:"共有 {operations_length} 件委托单，{sum_core_waybills}件货",contents:"内容运单",current_operation_set_to:"已设定当前订单为",clear_current_operation:"已清空当前订单"},success:{quick_setting:"快速设定成功"},errors:{web_camera_error_will_close:"WebCamera 启动失败，将自动关闭",multiple_numbers_in_batch_mode:"批次作业下请输入复数号码",setting_group_not_found:"无此快速设定包",setting_not_found:"无此快速设定",partition_not_found:"无选择号码区间",core_waybill_not_found:"查无单号",failed_to_fetch_core_waybill_statuses:"查询货况信息失败",failed_to_instantiate_scan_action_prototype:"扫描动作失败",failed_to_update_core_waybill_related_column:"更新运单必要字段失败",give_up_core_waybill_related_columns:"运单未填写必要信息",give_up_scan_action_description:"货况未填写必要备注",give_up_create_core_waybill:"未建立运单"}},pages:{customer_home:{title:"欢迎来到客户管理"},partials:{page_404:{cant_find_page:"找不到您访问的页面"},permission_denied:{you_dont_permission:"您无权限"},login_expiration_hint_modal:{idle:"闲置",content:"系统侦测到你很久没有动作了，再过{time}就会自动註銷。",i_am_back:"我回来了"}},login:{customer_management_login:"客户登录",provider_management_login:"管理后台登录",station_management_login:"站點登录",please_enter_your_account_and_password:"请输入您的帐号及密码",account:"帐号",password:"密码",verification_code:"请填入检验码",pass_next_timeout_will_dont_warn:"您能通过下次逾时检查，將不提示",btns:{auto_input_test_account:"自动输入测试帐号",login:"登录"},errors:{your_site_has_not_registered_system:"您所在的网站尚未注册本系统",please_fill_in_the_verification_code:"请填入检验码",account_or_password_incorrect:"帐号或密码错误",verification_code_incorrect:"检验码错误",verification_code_expired:"检验码超时失效",failure_to_login:"登录失败",timeout:"闲置过久自动註銷"}},appraisals:{point:"分数",reason:"原因",staff_identity:"员工",registrant_identity:"登记人"},monitor:{menu_title:{all:"全部",myself:"个人",station:"站点"},title:{all_pending_operations:"全部待处理订单",all_pending_waybills:"全部待处理运单",pending_operations:"待处理订单",pending_waybill_in_operations:"订单内待处理运单",pending_waybills:"待处理运单"},sub_title:{not_completed_operations:"未完成的订单",not_completed_waybills:"未完成的运单",assigned_to_me_but_not_completed_operations:"分配给我处理但未完成的订单",assigned_to_me_but_not_completed_waybill_in_operations:"分配给我处理的订单中未完成的运单",the_unfinished_waybill_that_was_last_my_scanned:"最后在我手上扫描但未完成的运单",assigned_to_stationg_but_not_completed_operations:"分配给 <span style='color: green;'>{station_name}</span> 处理但未完成的订单",assigned_to_stationg_but_not_completed_waybill_in_operations:"配给 <span style='color: green;'>{station_name}</span> 处理的订单中未完成的运单"}},assets:{categories:"资产种类",print_barcode:"打印条码",have_category:"既有种类",clear_value:"清空本栏",helps:{no_anything_category:"尚无类别",no_anything_assets:"尚无资产",write_or_use_category_list:"自行填写或选择右侧列表",please_clicked_upper_left_new_asset_button:"点选左上新增资产按钮建立"}},customer_contracts:{additional_information:"额外信息"},customers:{contracts:"合约",normal:"正常",banned:"停权",unbanned:"复权",is_banned:"已停权",proxy_login:"代理登入",basic_information:"基本资料",common_sender_information:"常用寄件人信息",common_consignee_information:"常用收件人信息",is_open_use_associated_partition:"是否开放使用「我的号码区间」",is_open_use_use_yourself_partition:"是否开放使用「自用号码区间」",show_basic_information:"编辑、检视客户的帐号名称、联络方式与使用权",show_common_sender_information:"编辑、检视常用寄件人资讯",show_common_consignee_information:"编辑、检视常用收件人资讯",show_contracts:"该客户所拥有的合约",contract:{name:"名称",created_at:"产生日期"},helps:{the_password_does_not_match_the_confirmation_password:"密码与确认密码不相符"}},distributions:{activated:"已启用",unactivated:"未启用",add_condition:"增加条件",add_condition_help:"如何写条件？ ",add_condition_help_content_1:"1. 同样条件类型的项目会做OR比对，不同条件类型的项目是做AND比对，例如：直辖市台北市+直辖市区信义区+直辖市区中正区+直辖市新北市+直辖市区新店区五个条件，符合本区配送条件的地址有台北市信义区、台北市中正区及新北市新店区",add_condition_help_content_2:"2. 内容请填完整繁体中文名称",condition_type:"条件类型",content:"内容",undo:"复原",filter:{direct:"站点直派",intermodal:"转联运"}},driver_commissions:{driver:"司机",no_done:"尚未结算",core_waybill_number:"运单号"},driver_commission_policies:{activated_switch:"启用开关",activated:"启用",pickup:"一般件",bag:"袋装",table:{general_pickup:"一般取件",general_delivery:"一般送件",bag_pick:"袋装取件",bag_delivery:"袋装送件",is_activated:"启用",first_weight:"首重",first_price:"首重价",follow_up_weight:"续重",follow_up_price:"续重价"}},driver_commission_reports:{total_amount_of_commission:"总提成金额",print:"打印",setting:"打印",print_setting:"打印设定",detailed_mode:"详细模式",from:"从",to:"至",status:"状态",no_select_date:"尚未选择",start_all:"全部开始",go_to_report:"前往报告",table:{pickup_details:"取件明细",dispatch_details:"派件明细",No:"序号",number:"单号",weight:"重量",date:"日期",commission:"提成(元)",total:"总计"},filter:{staff_name:"人员",begin_at:"计算起日",end_at:"计算讫日",total_amount_from:"提成金额从...",total_amount_to:"提成金额到...",created_at:"产生日期"}},nodes:{company_information:"公司信息"},operations:{provider_note_value:"寄件人姓名: \n寄件人电话: \n",processing:"处理中",contract:"合约",content:"订单内容",schedule:"进度",waybill_amount:"单数",print_receipt:"打印签收单",print_coew_waybill_labels:"打印运单标签",print_coew_waybill_checklist:"打印托运总表",delete_help:"删除订单将会与下属袋、运单、子单...等一并删除",_name_operation_list:"{name}托运总表",_name_customer_receipt:"{name}客户签收单",helps:{please_confirm_sender_and_contract_are_selected:"请确认寄件人及合约皆有选取"},table:{finish:"完成",total:"总数"}},partitions:{automatic_number:"自动取号",use_yourself:"自用",statistics:"统计",total_amount:"总数量",available_quantity:"可用数量",if_use_it_yourself_do_not_write:"如自用请留空"},uploader:{redo:"重做",open_file:"开启文件",operation_list:"托运总表",upload_operation_list:"上传托运总表",selected:"已选择",contract:"合约",your_actions:"您的动作",operation_order:"托运订单",field_data_succeeded:"字段检查成功",checking_waybill_data_ok:"运单内容检查完成",checking_operation_data_ok:"订单内容填写完成",upload_detail_completed:"明细上传完毕",continue_next_file:"继续上传下一份文件",materialization_operation:"实体化订单",consignment:"托运",delivery:"配送",total:"总计",total__number:"{number}笔",dimmer:{what_do_you_want_now:"您现在想要",please_upload_your_file:"请上传您的档案",download_sample_file:"下载范例文件",clicked_this_card_redo:"点击这张卡片重新开始",select_file:"选择档案"},steps:{title:{operation:"订单",confirm_data:"确认资料",upload_data:"上传资料"},description:{operation_content:"指示本次托运内容",confirm_data_is_correct:"请确认资料是否正确",upload_data_to_server:"将资料上传至伺服器"}},file:{name:"档案名称",size:"档案大小",path:"档案下载路径",upload:"档案上传",complete:"完成",not_uploaded:"尚未上传"},column_verification:{required_field:"必填字段",unknown_waybill:"不明运单"}},scan_action_prototypes:{binding_material:"绑定物料",print_barcodes:"打印货况条码",field_name:"字段名",value:"数值"},staffs:{appraisals:"考绩",normal:"正常",banned:"停权",unbanned:"复权",is_banned:"已停权"},user_logs:{record_object:"纪录对象",operator:"操作者",field_name:"字段名",value:"数值",yes:"是",no:"否"},core_waybills:{done:"完成",print_filter_result_labels:"打印搜寻标签",export_csv_file:"汇出csv",export_clearance_csv_file:"汇出清关csv",export_daily_csv_file:"汇出當日報表",download_daily_csv_file:"下載當日報表",please_select_partition:"请选择号码区间",back_to_select_partition:"返回 选号码区间",partition_number_from:"起始号码",partition_number_to:"结束号码",again:"重新",upload_picture:"上传图片",no_upload_any_picture:"无上传图片",system_generation:"系统生成",have_contained_status:"且曾经含有货况",is_where_like_filter_mode:"模糊搜寻",is_not_where_like_filter_mode:"准确搜寻",status:{"可使用":"可使用","使用中":"使用中","曾經使用過":"曾经使用过","可放行":"可放行","放行中":"放行中","曾經放行過":"曾经放行过","可點交":"可点交","點交中":"点交中","曾經點交過":"曾经点交过","可收貨":"可收货","收貨中":"收货中","曾經收貨過":"曾经收货过","可進站":"可进站","進站中":"进站中","曾經進站過":"曾经进站过","可配送":"可配送","配送中":"配送中","曾經配送過":"曾经配送过","可回站":"可回站","回站中":"回站中","曾經回站過":"曾经回站过","可配達":"可配达","配達中":"配达中","曾經配達過":"曾经配达过","可中轉":"可中转","中轉中":"中转中","曾經中轉過":"曾经中转过","可聯運":"可联运","聯運中":"联运中","曾經聯運過":"曾经联运过","可異常件":"可异常件","異常件中":"异常件中","曾經異常件過":"曾经异常件过","可鎖定":"可锁定","鎖定中":"锁定中","曾經鎖定過":"曾经锁定过","可完成":"可完成","完成中":"完成中","曾經完成過":"曾经完成过",USABLE:"可用的",CHECKABLE:"可进站",SHIPPABLE:"可配送",SHIPPING:"配送中",TRANSFERING:"正在集货中转",EXCEPTIONABLE:"可设异常件",EXCEPTIONING:"异常件",SENDER_REGRETABLE:"寄件人可反悔寄",CHECKING:"正在站内",TRANSFERABLE:"可集货中转",INTERMODALABLE:"可联运",INTERMODALING:"联运中",RELEASABLE:"可放行",CAN_HAND_OVER:"可点交",LOCKING:"锁定中",IS_DONE:"已配达",system:"系統",condition:"系统",administrator:"管理员",operator:"内部货况",forwarder:"客户",public:"公开",mark:"标记",no_latest_status:"无最新货况"},filter:{asynchronous:"異步搜寻",find__key:"搜寻{key}...",find_number:"搜寻运单号码...",clear:"清空",numbers:"号码",waybill_content:"运单信息",status:"货况",have_contained:"且曾经含有",clearance_date:"清关日期",selected_is_used:"请选择状态",is_used:{true:"已使用",flase:"未使用"},material:"物料",selected_material:"请选择物料",selected_station:"何处",selected_staff:"谁刷",selected_status:"何种货况",selected_status_scope:"何种货况类别",selected_polarity:"正在/不在",polarity:{positive:"正在",negative:"不在"},status_depiction:{now:"现在 运单",at_the:"在",in_the:"在",by:"由",handle:"处理",before_by:"曾经由",added:"新增了"}}}},toolbox:{back_to_top_button:{back_to_top:"回到最上"},bulletin_board:{name:"留言板",message:"留言",no_messages:"尚无留言！ ",talk_your_comment:"说说你的意见"},crud_templates:{new:"新"},core_waybills_label_svg:{labels:{paper_type:"列印纸张种类",printing_type:"标签种类",paper_size:"纸张大小",template:"排版"},printing_types:{"Label::Default":"预设","Label::ByExpress":"博宇速运","Label::ChangQing":"长庆运通","Label::FlyCargo":"飞乐数网","Label::Condor180":"协铼运","Label::Pelican":"宅配通","Label::HCT":"新竹物流","Label::TCat":"黑猫宅急便","Label::FamilyMart":"全家便利商店","Label::Presco":"统一数网","Label::Invoice":"发票","Label::FamilyMartInvoice":"全家便利商店(含发票)","Label::PrescoInvoice":"统一数网(含发票)"},btns:{print:"打印",old_print:"旧版打印",new_print:"新版打印"},helps:{numbers_input:"号码 范例:123,456,789"},errors:{no_authentication_token:"pops 参数请给予 authentication_token",no_number:"请输入号码"}},core_waybill:{parent_core_waybill:"上层运单",child_core_waybill:"下层运单",no_any_parent_and_child_waybill:"无上下层运单",use_partition:"所使用的号码区间",partition_number_from:"起始号码",partition_number_to:"结束号码",btns:{label:"展开标签",print:"打印",print_again:"再次打印",update:"更新",switch_style:"切换样式",simple:"简易",detail:"详细"},helps:{source:"资料来源",is_deleted:"已经删除，请返回",tooltip_have_source_core_waybill:"当前运单资料来自于{number}，点击以编辑"},errors:{please_clicked_initialize_again:"请点击再次初始化扫描系统",change_template_error:"切换版形错误",no_number:"无号码",invalid_loading_image:"载入图片无效",waybill_no_label_class_cant_print:"此运单无绑定标签种类，无法产标",props_is_can_print_label_unable:"参数 is_can_print_label 无启用",no_label_type:"无指定标签种类",label_type_error:"标签种类错误",label_paper_type_error:"纸张种类错误"}},core_waybills:{quick_update_table:"快速更新表格",quick_update:"快速更新",batch_edit:"批次修改",no_station:"无货况",packed_in:"包装于",deleted:"已删除",add_table:"加入表格"},operation_summary:{print_operation_list:"打印托运总表",table:{sender_signature:"寄件人签名",driver_signature:"收货司机签名"}},receipts:{print_receipt:"打印签收单"},stations_modal:{turn_of_GPS:"关闭gps",turn_on_GPS:"开启gps",turn_on_auto_tracking:"已启用自动判定",modify_current_station:"更改当前站点",please_select_the_current_station:"请先选择当前站点",you_are_not_a_manager_will_modify_station_please_contact_the_manager:"您并非管理者, 今后更换站点 请联络管理员",you_do_not_belong_station_will_update_your_data_after_selection:"您目前无站点, 选完会更新您的用户资料",current_station:"当前站点",tracking_GPS:"请求GPS",decisioning:"判定中",cancel_current_station:"取消当前站点",btns:{track_once:"自动判定(一次)",auto_tracking_every_minute:"自动判定(每分钟)"},errors:{geolocation_is_not_supported_by_this_browser:"你当前浏览器不支持存取定位功能",your_web_protocol_is_not_HTTPS:"请使用HTTPS服务存取",get_location_failure:"取得 定位功能失败"}},speed_test:{network_quality:"连线品质"},my_receipts:{neme:"我的签收单",force_current_station:"强制当前站点",print:"{page}打印{note}",customer_receipt:"客户签收单"},notifications:{mark_all_read:"标示所有为已读",no_new_notifications:"没有新的动态",no_news:{title:"没有新通知",content:"目前没有新通知，所有的新通知会显示于此。"}}},el:{colorpicker:{confirm:"确认",clear:"清空"},date_option_shortcut:{today:"今天",three_days:"三天前",week:"一周前",month:"一个月前",three_months:"三个月前",six_months:"半年前"},daterange_option_shortcut:{today:"今日",three_days:"最近三天",week:"最近一周",month:"最近一个月",three_months:"最近三个月",six_months:"最近半年"},datepicker:{now:"现在",today:"今天",cancel:"取消",clear:"清空",custom:"自订",confirm:"确认",selectDateTime:"选择日期时间",selectDate:"选择日期",selectTime:"选择时间",startDate:"开始日期",startTime:"开始时间",endDate:"结束日期",endTime:"结束时间",prevYear:"前一年",nextYear:"后一年",prevMonth:"上个月",nextMonth:"下个月",year:"年",month1:"1 月",month2:"2 月",month3:"3 月",month4:"4 月",month5:"5 月",month6:"6 月",month7:"7 月",month8:"8 月",month9:"9 月",month10:"10 月",month11:"11 月",month12:"12 月",week:"周次",weeks:{sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},months:{jan:"一月",feb:"二月",mar:"三月",apr:"四月",may:"五月",jun:"六月",jul:"七月",aug:"八月",sep:"九月",oct:"十月",nov:"十一月",dec:"十二月"}},select:{loading:"加载中",noMatch:"无匹配资料",noData:"无资料",placeholder:"请选择"},cascader:{noMatch:"无匹配资料",loading:"加载中",placeholder:"请选择"},pagination:{goto:"前往",pagesize:"项/页",total:"共 {total} 项",pageClassifier:"页"},messagebox:{title:"提示",confirm:"确定",cancel:"取消",error:"输入的资料不符规定!"},upload:{deleteTip:"按 delete 键可删除",delete:"删除",preview:"查看图片",continue:"继续上传"},table:{emptyText:"暂无资料",confirmFilter:"筛选",resetFilter:"重置",clearFilter:"全部",sumText:"Sum"},tree:{emptyText:"暂无资料"},transfer:{noMatch:"无匹配资料",noData:"无资料",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"}}}}},bd16:function(e,t,i){},bde4:function(e,t,i){"use strict";var n=i("5277"),s=i.n(n);s.a},bde5:function(e,t,i){},bef7:function(e,t,i){"use strict";var n=i("a4b8"),s=i.n(n);s.a},bf1b:function(e,t,i){},bf31:function(t,i,n){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui longer flip small modal scanner"},[i("ScannerMain",{attrs:{is_modal:!0}})],1)},a=[],r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.is_initialized?i("div",{staticClass:"content",class:{is_showed_jobs:e.desc_ordered_jobs.length,"z-depth-3":e.is_modal},style:{color:e.theme.color.font,background:e.theme.background,backgroundSize:e.theme.color.background_img?"cover":""}},[i("div",[i("WebAudio",{attrs:{channel:"provider_scanner_web_audio",allow_overlay_play:!1,show_demo:!1}}),i("Dashboard",{attrs:{is_processing:e.is_processing,current_number:e.current_number,current_scan_action_prototype:e.current_scan_action_prototype}}),e.current_store.is_setting?i("Settings",{attrs:{current_scan_action_prototype:e.current_scan_action_prototype,is_processing:e.is_processing}}):e._e(),i("div",{staticClass:"scrolling content"},[i("CoreWaybill",{attrs:{is_modal_opened:e.is_modal_opened}})],1),e.desc_ordered_jobs.length>=3?i("div",{staticClass:"ui jobs pointer",staticStyle:{position:"absolute",right:"6px",bottom:"106px",color:"red"},on:{click:function(t){e.$store.dispatch("provider/scanner_module/clear_job")}}},[e._v("\n            "+e._s(e.$t("ui.scanner.jobs.clear_jobs"))+"\n        ")]):e._e()],1),e.desc_ordered_jobs.length?i("transition-group",{staticClass:"ui list jobs",attrs:{name:"list",tag:"div"}},e._l(e.desc_ordered_jobs,function(t){return i("div",{key:t.id,staticClass:"item"},[i("i",{staticClass:"wait icon",class:{"green check":"Success"==t.status,"red cancel":"Failure"==t.status,"orange hourglass end":"Processing"==t.status,"white wait":"Pending"==t.status},staticStyle:{width:"18px"}}),i("div",{staticClass:"content"},[i("div",{staticClass:"header"},["Pending"==t.status?i("span",{staticStyle:{color:"lightgray"}},[t.is_waiting_user_action?i("span",[e._v("\n                            "+e._s(e.$t("ui.scanner.jobs.waiting_user_action"))+"\n                        ")]):i("span",[e._v("\n                            "+e._s(e.$t("ui.scanner.jobs.idle"))+"\n                        ")])]):"Processing"==t.status?i("span",{staticStyle:{color:"orange"}},[e._v("\n                        "+e._s(e.$t("ui.scanner.jobs.processing"))+"\n                    ")]):"Success"==t.status?i("span",{staticStyle:{color:"green"}},[e._v("\n                        "+e._s(e.$t("ui.scanner.jobs.success"))+"\n                    ")]):"Failure"==t.status?i("span",{staticStyle:{color:"red"}},[e._v("\n                        "+e._s(e.$t("ui.scanner.jobs.failure"))+"\n                    ")]):e._e(),e._v("\n                    "+e._s(e.$t("ui.scanner.jobs.job"))+"#"+e._s(t.id)+"："+e._s(e.$t("ui.scanner.jobs.number"))+" "+e._s(t.number)+"\n\n                    "),"original_number"==t.core_waybill_scope?i("span",[e._v("\n                        ["+e._s(e.$t("ui.scanner.jobs.scope.original_number"))+"]\n                    ")]):e._e(),"new"==t.core_waybill_scope?i("span",[e._v("\n                        ["+e._s(e.$t("ui.scanner.jobs.scope.new"))+"]\n                    ")]):e._e(),"operation"==t.task?i("span",[e._v("（"+e._s(t.scan_action_prototype.name)+"）")]):e._e(),t.is_batch_mode?i("span",[e._v("\n                        ("+e._s(e.$t("ui.scanner.settings.is_scan_action_mode.true"))+")\n                    ")]):e._e(),t.is_waiting_instantiate_scan_action?i("span",[i("i",{staticClass:"icon",class:{"green check":t.current_core_waybill_counter>=t.core_waybill_pieces,"red exclamation triangle":t.current_core_waybill_counter<t.core_waybill_pieces}}),e._v("\n                        "+e._s(t.current_core_waybill_counter)+" /\n                        "+e._s(t.core_waybill_pieces)+"\n                        "),t.current_core_waybill_counter<t.core_waybill_pieces?i("span",[e._v("\n                            ("+e._s(e.$t("ui.scanner.jobs.no_add_status"))+")\n                        ")]):e._e()]):e._e()]),i("div",{staticClass:"description"},e._l(t.errors,function(n){return t.errors.length>0?i("p",[i("i",{staticClass:"icon red exclamation triangle"}),e._v("\n                        "+e._s(n)+"\n                    ")]):i("p",[e._v("\n                        "+e._s(e.$t("ui.scanner.jobs.no_error"))+"\n                    ")])}))])])})):e._e(),e.is_show_related_columns_alert?i("CoreWaybillRelatedColumnsAlert",{attrs:{is_displayed:e.is_show_related_columns_alert,is_modal_opened:e.is_modal_opened}}):e._e(),e.is_show_scan_action_description_alert?i("ScanActionDescriptionAlert",{attrs:{is_displayed:e.is_show_scan_action_description_alert,is_modal_opened:e.is_modal_opened}}):e._e(),e.is_show_create_core_waybill_alert?i("CreateCoreWaybillAlert",{attrs:{is_displayed:e.is_show_create_core_waybill_alert,is_modal_opened:e.is_modal_opened}}):e._e()],1):i("div",{staticClass:"content",class:{"z-depth-3":e.is_modal}},[i("button",{staticClass:"big fluid ui black button",on:{click:function(t){e.init()}}},[e._v("\n        "+e._s(e.$t("ui.notifications.help.please_clicked_initialize_again"))+"\n    ")])])},o=[],c=n("1346"),l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"scanner_settings"}},[e.is_initialized?i("div",[e.is_mobile_width?i("carousel",{ref:"settings_carousel",attrs:{perPage:1,speed:390,minSwipeDistance:120,paginationEnabled:!1,navigateTo:e.current_column_index}},e._l(e.menus,function(t,n){return i("slide",{key:t.component_name},[0!=n?i("NavigationLeft"):e._e(),i(t.component_name,{tag:"component",attrs:{is_inverted:e.is_inverted}}),n+1!=e.menus.length?i("NavigationRight"):e._e()],1)})):i("div",[i("div",{staticClass:"ui top tabular menu"},e._l(e.menus,function(t){return i("div",{staticClass:"item pointer",class:{active:e.current_setting_component==t.component_name},style:{color:e.theme.color.font},on:{click:function(i){e.current_setting_component=t.component_name}}},[e._v("\n                    "+e._s(t.title)+"\n                ")])})),i(e.current_setting_component,{tag:"component",attrs:{is_inverted:e.is_inverted}})],1)],1):e._e()])},u=[],d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{style:{color:e.theme.color.font},attrs:{id:"scanner_setting_details"}},["customer"!=this.$store.state.current_scope?i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui fluid selection dropdown no top border",style:{background:e.theme.background?e.theme.background:"none",color:e.theme.color.font}},[i("div",{staticClass:"text"},[e._v("\n            "+e._s(e.$t("ui.scanner.helps.current_scan_action_prototype"))+"：\n            "),e.current_scan_action_prototype.identity?i("span",[e._v("\n                "+e._s(e.current_scan_action_prototype.name+"("+e.current_scan_action_prototype.barcode+")")+"\n            ")]):i("span",[e._v("\n                "+e._s(e.$t("ui.general.no"))+"\n                "+e._s(e.$t("ui.general.select"))+"\n            ")])]),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu",style:{background:e.theme.background?e.theme.background:"none"}},e._l(e.scan_action_prototypes,function(t){return i("div",{staticClass:"item",style:{color:e.theme.color.font,background:t.identity==e.current_scan_action_prototype.identity?"rgba(0,0,0,.5)":""},on:{click:function(i){e.$bus.$emit("set_current_scan_action_prototype",t.identity)}}},[e._v("\n                "+e._s(t.name)+"("+e._s(t.barcode)+")\n            ")])}))]):e._e(),i("div",{staticClass:"ui doubling five column grid settings",class:{inverted:e.is_inverted},staticStyle:{"margin-top":"0.1rem","margin-bottom":"0.2rem"}},[e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_scan_action_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_scan_action_mode},on:{click:function(t){e.settings.is_scan_action_mode=!e.settings.is_scan_action_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"icon",class:{barcode:e.settings.is_scan_action_mode,eye:!e.settings.is_scan_action_mode}})]),i("p",[e._v("\n                "+e._s(e.settings.is_scan_action_mode?e.$tc("ui.scanner.settings.is_scan_action_mode.true"):e.$tc("ui.scanner.settings.is_scan_action_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_distributed_to_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_distributed_to_mode},on:{click:function(t){e.settings.is_distributed_to_mode=!e.settings.is_distributed_to_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"external share icon"}),e.settings.is_distributed_to_mode?e._e():i("i",{staticClass:"bottom left corner red dont icon"})]),i("p",[e._v("\n                "+e._s(e.settings.is_distributed_to_mode?e.$tc("ui.scanner.settings.is_distributed_to_mode.true"):e.$tc("ui.scanner.settings.is_distributed_to_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_package_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_package_mode},on:{click:function(t){e.settings.is_package_mode=!e.settings.is_package_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"group object icon"}),e.settings.is_package_mode?e._e():i("i",{staticClass:"bottom left corner red dont icon"})]),i("p",[e._v("\n                "+e._s(e.settings.is_package_mode?e.$tc("ui.scanner.settings.is_package_mode.true"):e.$tc("ui.scanner.settings.is_package_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_unpackage_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_unpackage_mode},on:{click:function(t){e.settings.is_unpackage_mode=!e.settings.is_unpackage_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"ungroup object icon"}),e.settings.is_unpackage_mode?e._e():i("i",{staticClass:"bottom left corner red dont icon"})]),i("p",[e._v("\n                "+e._s(e.settings.is_unpackage_mode?e.$tc("ui.scanner.settings.is_unpackage_mode.true"):e.$tc("ui.scanner.settings.is_unpackage_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_auto_print_label_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_auto_print_label_mode},on:{click:function(t){e.settings.is_auto_print_label_mode=!e.settings.is_auto_print_label_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"print icon"}),e.settings.is_auto_print_label_mode?e._e():i("i",{staticClass:"bottom left corner red dont icon"})]),i("p",[e._v("\n                "+e._s(e.settings.is_auto_print_label_mode?e.$tc("ui.scanner.settings.is_auto_print_label_mode.true"):e.$tc("ui.scanner.settings.is_auto_print_label_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_scan_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_scan_mode},on:{click:function(t){e.settings.is_scan_mode=!e.settings.is_scan_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"write icon"}),e.settings.is_scan_mode?i("i",{staticClass:"bottom left corner red dont icon"}):e._e()]),i("p",[e._v("\n                "+e._s(e.settings.is_scan_mode?e.$tc("ui.scanner.settings.is_scan_mode.true"):e.$tc("ui.scanner.settings.is_scan_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_core_waybill_creation_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_core_waybill_creation_mode},on:{click:function(t){e.settings.is_core_waybill_creation_mode=!e.settings.is_core_waybill_creation_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"file word icon"}),e.settings.is_core_waybill_creation_mode?e._e():i("i",{staticClass:"bottom left corner red dont icon"})]),i("p",[e._v("\n                "+e._s(e.settings.is_core_waybill_creation_mode?e.$tc("ui.scanner.settings.is_core_waybill_creation_mode.true"):e.$tc("ui.scanner.settings.is_core_waybill_creation_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_webcam_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_webcam_mode},on:{click:function(t){e.settings.is_webcam_mode=!e.settings.is_webcam_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"camera icon"}),e.settings.is_webcam_mode?e._e():i("i",{staticClass:"bottom left corner red dont icon"})]),i("p",[e._v("\n                "+e._s(e.settings.is_webcam_mode?e.$tc("ui.scanner.settings.is_webcam_mode.true"):e.$tc("ui.scanner.settings.is_webcam_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_noty_audio_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_noty_audio_mode},on:{click:function(t){e.settings.is_noty_audio_mode=!e.settings.is_noty_audio_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"volume up icon"}),e.settings.is_noty_audio_mode?e._e():i("i",{staticClass:"bottom left corner red dont icon"})]),i("p",[e._v("\n                "+e._s(e.settings.is_noty_audio_mode?e.$tc("ui.scanner.settings.is_noty_audio_mode.true"):e.$tc("ui.scanner.settings.is_noty_audio_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_speech_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_speech_mode},on:{click:function(t){e.settings.is_speech_mode=!e.settings.is_speech_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"file audio outline icon"}),e.settings.is_speech_mode?e._e():i("i",{staticClass:"bottom left corner red dont icon"})]),i("p",[e._v("\n                "+e._s(e.settings.is_speech_mode?e.$tc("ui.scanner.settings.is_speech_mode.true"):e.$tc("ui.scanner.settings.is_speech_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_core_waybill_pieces_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_core_waybill_pieces_mode},on:{click:function(t){e.settings.is_core_waybill_pieces_mode=!e.settings.is_core_waybill_pieces_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"cubes icon",staticStyle:{width:"34px"}}),e.settings.is_core_waybill_pieces_mode?e._e():i("i",{staticClass:"bottom left corner red dont icon"})]),i("p",[e._v("\n                "+e._s(e.settings.is_core_waybill_pieces_mode?e.$tc("ui.scanner.settings.is_core_waybill_pieces_mode.true"):e.$tc("ui.scanner.settings.is_core_waybill_pieces_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_quick_corewaybill_related_columns")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_quick_corewaybill_related_columns},on:{click:function(t){e.settings.is_quick_corewaybill_related_columns=!e.settings.is_quick_corewaybill_related_columns}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"paste up icon"}),e.settings.is_quick_corewaybill_related_columns?e._e():i("i",{staticClass:"bottom left corner red dont icon"})]),i("p",[e._v("\n                "+e._s(e.settings.is_quick_corewaybill_related_columns?e.$tc("ui.scanner.settings.is_quick_corewaybill_related_columns.true"):e.$tc("ui.scanner.settings.is_quick_corewaybill_related_columns.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_batch_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_batch_mode},on:{click:function(t){e.settings.is_batch_mode=!e.settings.is_batch_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"copy outline icon"}),e.settings.is_batch_mode?e._e():i("i",{staticClass:"bottom left corner red dont icon"})]),i("p",[e._v("\n                "+e._s(e.settings.is_batch_mode?e.$tc("ui.scanner.settings.is_batch_mode.true"):e.$tc("ui.scanner.settings.is_batch_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_update_corewaybill_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_update_corewaybill_mode},on:{click:function(t){e.settings.is_update_corewaybill_mode=!e.settings.imitate_mode&&!e.settings.is_update_corewaybill_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"edit icon"}),e.settings.is_update_corewaybill_mode?e._e():i("i",{staticClass:"bottom left corner red dont icon"}),e.settings.imitate_mode?i("i",{staticClass:"top left corner red lock icon",staticStyle:{top:"6px",left:"-6px"}}):e._e()]),i("p",[e._v("\n                "+e._s(e.settings.is_update_corewaybill_mode?e.$tc("ui.scanner.settings.is_update_corewaybill_mode.true"):e.$tc("ui.scanner.settings.is_update_corewaybill_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("core_waybill_template_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:"min_card"==e.settings.core_waybill_template_mode},on:{click:function(t){e.settings.core_waybill_template_mode="min_card"}}},[e._m(0),i("p",[e._v("\n                "+e._s(e.$tc("ui.scanner.settings.core_waybill_template_mode.min_card"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("core_waybill_template_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:"card"==e.settings.core_waybill_template_mode},on:{click:function(t){e.settings.core_waybill_template_mode="card"}}},[e._m(1),i("p",[e._v("\n                "+e._s(e.$tc("ui.scanner.settings.core_waybill_template_mode.card"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("core_waybill_template_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:"detail"==e.settings.core_waybill_template_mode},on:{click:function(t){e.settings.core_waybill_template_mode="detail"}}},[e._m(2),i("p",[e._v("\n                "+e._s(e.$tc("ui.scanner.settings.core_waybill_template_mode.detail"))+"\n            ")])]):e._e()])])},p=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("i",{staticClass:"big icons"},[i("i",{staticClass:"icon minus"})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("i",{staticClass:"big icons"},[i("i",{staticClass:"icon list"})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("i",{staticClass:"big icons"},[i("i",{staticClass:"icon file text"})])}],m={props:{is_inverted:{default:!1,type:Boolean}},data:function(){return{is_setting:!1}},computed:{current_store:function(){return this.$store.state[this.$store.state.current_scope].scanner_module},theme:function(){return this.current_store.config.theme},can_use_settings:function(){return this.current_store.config.settings},scan_action_prototypes:function(){return this.current_store.scan_action_prototypes},current_scan_action_prototype:function(){return this.current_store.current_scan_action_prototype},settings:function(){return this.current_store.settings}},watch:{},mounted:function(){},methods:{},components:{}},f=m,h=(n("ff47"),n("2877")),v=Object(h["a"])(f,d,p,!1,null,"d9391a20",null),g=v.exports,b=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"scanner_setting_groups"}},[i("div",{staticClass:"ui doubling five column grid setting_groups",staticStyle:{"margin-top":"0.1rem","margin-bottom":"0.2rem",color:"white"}},e._l(e.setting_groups,function(t){return t.is_hide?e._e():i("Group",{key:t.barcode,class:{inverted:e.is_inverted},attrs:{setting_group:t}})}))])},y=[],w=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"column center aligned pointer setting_group"},[i("div",{staticClass:"box",style:{margin:"0 auto",backgroundColor:e.setting_group.color},on:{click:function(t){e.set_settings()}}},[i("i",{staticClass:"huge icons",staticStyle:{margin:"5px"}},[i("i",{class:e.setting_group.primary_icon_classes}),i("i",{class:e.setting_group.secondary_icon_classes||"right bottom corner icon"})]),i("p",{staticClass:"mobile only",style:{fontSize:e.content_font_size+"px"}},[e._v("\n            "+e._s(e.setting_group.name||"-")+"\n        ")]),i("p",{staticClass:"computer only"},[e._v("\n            "+e._s(e.setting_group.name||"-")+"\n        ")])])])},k=[],x={props:{setting_group:Object},data:function(){return{content_font_size:this.calculate_content_font_size()}},computed:{current_store:function(){return this.$store.state[this.$store.state.current_scope].scanner_module}},watch:{},mounted:function(){},methods:{calculate_content_font_size:function(){var e=this.setting_group.name.length;return e>4?17:""},set_settings:function(){this.$bus.$emit("quick_setting_number","@@".concat(this.setting_group.barcode,"@@"),!1,!1)}},components:{}},C=x,P=(n("d561"),Object(h["a"])(C,w,k,!1,null,"3cbc0c39",null)),S=P.exports,N={components:{Group:S},props:{is_inverted:{default:!1,type:Boolean}},data:function(){return{is_setting:!1}},computed:{current_store:function(){return this.$store.state[this.$store.state.current_scope].scanner_module},setting_groups:function(){return this.current_store.setting_groups}},watch:{},mounted:function(){},methods:{}},q=N,A=(n("b6b9"),Object(h["a"])(q,b,y,!1,null,"084598fc",null)),E=A.exports,z=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"scanner_setting_operations"}},[e.operations.length?i("div",[i("h3",[e._v("\n            "+e._s(e.$t("ui.scanner.operations.total",{operations_length:e.operations.length,sum_core_waybills:e.sum_core_waybills}))+"\n        ")])]):e._e(),e._l(e.operations,function(t){return e.operations.length?i("div",{staticClass:"ui segment pointer operation",class:{active:e.current_staff_operation.identity==t.identity},on:{click:function(i){i.preventDefault(),e.set_current_operation(t)}}},[i("h3",{staticStyle:{"margin-bottom":"3px"}},[e._v("\n            "+e._s(t.number)+"\n            "),i("span",{staticClass:"sub_title"},[t.customer?i("span",[e._v("\n                    ["+e._s(t.customer.company_name)+"]\n                ")]):e._e(),i("span",[e._v("\n                    / "+e._s(t.core_waybills.length)+"件\n                ")])])]),i("div",{staticClass:"content",domProps:{innerHTML:e._s(t.provider_note)}}),e.current_staff_operation.identity==t.identity?i("div",{staticClass:"core_waybills"},[i("span",[e._v("\n                "+e._s(e.$t("ui.scanner.operations.contents"))+"：\n                "),e._l(e.sort_operation_core_waybills_numbers,function(t,n){return i("span",[e._v("\n                    "+e._s(t)+"\n                    "),e.sort_operation_core_waybills_numbers.length!=n+1?i("span",[e._v("\n                        /\n                    ")]):e._e()])})],2)]):e._e()]):e._e()}),e.operations.length?e._e():i("div",{staticClass:"ui segment pointer operation"},[i("h3",{style:{color:e.theme.color.font}},[e._v("\n            "+e._s(e.$t("ui.scanner.helps.you_dont_any_operation"))+"\n        ")])]),i("div",{staticClass:"refresh_operations_icon",on:{click:function(t){e.$store.dispatch("provider/fetch_current_staff_operations")}}},[i("i",{staticClass:"icon big refresh pointer"})])],2)},j=[],R={props:{is_inverted:{default:!1,type:Boolean}},data:function(){return{is_setting:!1,core_waybill_identities:[]}},computed:{current_store:function(){return this.$store.state[this.$store.state.current_scope].scanner_module},theme:function(){return this.current_store.config.theme},operations:function(){return this.$store.state.provider.current_staff_operations},current_staff_operation:function(){return this.$store.state.provider.current_staff_operation},sort_operation_core_waybills_numbers:function(){var e=_.map(this.current_staff_operation.core_waybills,"number")||[];return e.sort().reverse()},sum_core_waybills:function(){return _.sumBy(this.operations,function(e){return e.core_waybills.length})}},watch:{},mounted:function(){},methods:{set_current_operation:function(e){e.identity==this.current_staff_operation.identity?(this.$noty.warning(this.$t("ui.scanner.operations.clear_current_operation"),200),this.$store.dispatch("provider/set_current_staff_operation",{})):(this.$noty.success(this.$t("ui.scanner.operations.current_operation_set_to")+" "+e.number,300),this.$store.dispatch("provider/set_current_staff_operation",e))}},components:{}},O=R,I=(n("bb42"),Object(h["a"])(O,z,j,!1,null,"3de2ddad",null)),D=I.exports,L=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{style:{color:e.is_inverted?"white":"black",paddingTop:e.top?"0px":"25%",top:e.top?e.top:"0"},attrs:{id:"navigation_left"}},[i("i",{staticClass:"caret left icon"})])},T=[],B={components:{},props:{is_inverted:{default:!0,type:Boolean},top:{default:"",type:String}},data:function(){return{}},mounted:function(){},watch:{},computed:{},methods:{}},M=B,U=(n("1fc6"),Object(h["a"])(M,L,T,!1,null,"83919c6c",null)),F=U.exports,Y=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{style:{color:e.is_inverted?"white":"black",paddingTop:e.top?"0px":"25%",top:e.top?e.top:"0"},attrs:{id:"navigation_right"}},[i("i",{staticClass:"caret right icon"})])},G=[],H={components:{},props:{is_inverted:{default:!0,type:Boolean},top:{default:"",type:String}},data:function(){return{}},mounted:function(){},watch:{},computed:{},methods:{}},K=H,W=(n("666e"),Object(h["a"])(K,Y,G,!1,null,"c46baf8a",null)),V=W.exports,X=n("0a63"),Q=n("f89e"),Z=n.n(Q);function J(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function ee(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){J(a,n,s,r,o,"next",e)}function o(e){J(a,n,s,r,o,"throw",e)}r(void 0)})}}var te={components:{AllDetails:g,Groups:E,Carousel:X["Carousel"],NavigationRight:V,NavigationLeft:F,Slide:X["Slide"],Operations:D},props:{is_processing:{default:!1,type:Boolean},is_inverted:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1,is_mobile_width:!1,current_column_index:0,current_setting_component:"Groups",menus:[]}},computed:{language:function(){return this.$store.state.language},style:function(){return this.$store.state.style},current_store:function(){return this.$store.state[this.$store.state.current_scope].scanner_module},theme:function(){return this.current_store.config.theme},settings:function(){return this.current_store.settings}},watch:{language:{handler:function(t){try{this.init()}catch(e){console.log(e),this.$noty.error(e)}},deep:!0},"settings.is_scan_action_mode":function(e){e?this.$noty.information(this.$tc("ui.scanner.settings.is_scan_action_mode.true")):this.$noty.warning(this.$tc("ui.scanner.settings.is_scan_action_mode.false")),localStorage.setItem("scanner_is_scan_action_mode",e)},"settings.is_distributed_to_mode":function(e){e?this.$noty.information(this.$tc("ui.scanner.settings.is_distributed_to_mode.true")):this.$noty.warning(this.$tc("ui.scanner.settings.is_distributed_to_mode.false")),localStorage.setItem("scanner_is_distributed_to_mode",e)},"settings.is_package_mode":function(e){e?(this.$noty.information(this.$tc("ui.scanner.settings.is_package_mode.true")),this.settings.is_unpackage_mode=!1):this.$noty.warning(this.$tc("ui.scanner.settings.is_package_mode.false")),localStorage.setItem("scanner_is_package_mode",e)},"settings.is_unpackage_mode":function(e){e?(this.$noty.information(this.$tc("ui.scanner.settings.is_unpackage_mode.true")),this.settings.is_package_mode=!1):this.$noty.warning(this.$tc("ui.scanner.settings.is_unpackage_mode.false")),localStorage.setItem("scanner_is_unpackage_mode",e)},"settings.is_operation_mode":function(e){e?this.$noty.information(this.$tc("ui.scanner.settings.is_operation_mode.true")):this.$noty.warning(this.$tc("ui.scanner.settings.is_operation_mode.false")),localStorage.setItem("scanner_is_operation_mode",e),this.set_menus()},"settings.is_auto_print_label_mode":function(e){e?this.$noty.information(this.$tc("ui.scanner.settings.is_auto_print_label_mode.true")):this.$noty.warning(this.$tc("ui.scanner.settings.is_auto_print_label_mode.false")),localStorage.setItem("scanner_is_auto_print_label_mode",e)},"settings.is_webcam_mode":function(e){var t=this;localStorage.setItem("scanner_is_webcam_mode",e),e?(Z.a.on("error",function(e){t.$noty.warning(t.$t("ui.scanner.errors.web_camera_error_will_close")),setTimeout(function(){t.settings.is_webcam_mode=!1},500),Z.a.reset()}),Z.a.set({width:192,height:108,dest_width:1920,dest_height:1080}),Z.a.set("constraints",{optional:[{minWidth:600}]}),Z.a.attach("#camera")):(console.log("WebCamera off"),Z.a.reset())},"settings.is_core_waybill_creation_mode":function(e){e?this.$noty.information(this.$tc("ui.scanner.settings.is_core_waybill_creation_mode.true")):this.$noty.warning(this.$tc("ui.scanner.settings.is_core_waybill_creation_mode.false")),localStorage.setItem("scanner_is_core_waybill_creation_mode",e)},"settings.is_high_performance_mode":function(e){e?this.$noty.information(this.$tc("ui.scanner.settings.is_high_performance_mode.true")):this.$noty.warning(this.$tc("ui.scanner.settings.is_high_performance_mode.false")),localStorage.setItem("scanner_is_high_performance_mode",e)},"settings.is_scan_mode":function(e){e?this.$noty.information(this.$tc("ui.scanner.settings.is_scan_mode.true")):this.$noty.warning(this.$tc("ui.scanner.settings.is_scan_mode.false")),localStorage.setItem("scanner_is_scan_mode",e)},"settings.is_update_corewaybill_mode":function(e){e?this.$noty.information(this.$tc("ui.scanner.settings.is_update_corewaybill_mode.true")):this.$noty.warning(this.$tc("ui.scanner.settings.is_update_corewaybill_mode.false")),localStorage.setItem("scanner_is_update_corewaybill_mode",e)},"settings.is_noty_audio_mode":function(e){e?this.$noty.information(this.$tc("ui.scanner.settings.is_noty_audio_mode.true")):this.$noty.warning(this.$tc("ui.scanner.settings.is_noty_audio_mode.false")),localStorage.setItem("scanner_is_noty_audio_mode",e)},"settings.is_speech_mode":function(e){e?this.$noty.information(this.$tc("ui.scanner.settings.is_speech_mode.true")):this.$noty.warning(this.$tc("ui.scanner.settings.is_speech_mode.false")),localStorage.setItem("scanner_is_speech_mode",e)},"settings.is_quick_corewaybill_related_columns":function(e){e?this.$noty.information(this.$tc("ui.scanner.settings.is_quick_corewaybill_related_columns.true")):this.$noty.warning(this.$tc("ui.scanner.settings.is_quick_corewaybill_related_columns.false")),localStorage.setItem("scanner_is_quick_corewaybill_related_columns",e)},"settings.is_batch_mode":function(e){e?this.$noty.warning(this.$tc("ui.scanner.settings.is_batch_mode.true",3),2e3):this.$noty.information(this.$tc("ui.scanner.settings.is_batch_mode.false")),localStorage.setItem("scanner_is_batch_mode",e)},"settings.core_waybill_template_mode":function(e){var t="";t="min_card"==e?this.$tc("ui.scanner.settings.core_waybill_template_mode.min_card"):t,t="card"==e?this.$tc("ui.scanner.settings.core_waybill_template_mode.card"):t,t="detail"==e?this.$tc("ui.scanner.settings.core_waybill_template_mode.detail"):t,this.$noty.information(t)},is_mobile_width:function(e){var t=this;setTimeout(function(){e&&t.is_initialized&&(t.current_column_index=1)},100)}},mounted:function(){this.init()},methods:{init:function(){var e=ee(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise(function(e){t.menus=[],t.is_initialized=!1,e()});case 3:return e.next=5,this.set_menus();case 5:return e.next=7,this.set_is_mobile_width();case 7:return e.next=9,new Promise(function(e){t.is_initialized=!0,e()});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),console.log(e.t0);case 14:case"end":return e.stop()}},e,this,[[0,11]])}));function t(){return e.apply(this,arguments)}return t}(),set_menus:function(){return this.menus=[{title:this.$t("ui.scanner.menus.settings"),component_name:"AllDetails"},{title:this.$t("ui.scanner.menus.setting_group"),component_name:"Groups"}],this.settings.is_operation_mode&&this.menus.push({title:this.$t("ui.scanner.menus.operation"),component_name:"Operations"}),Promise.resolve()},set_is_mobile_width:function(){var e=this;return this.is_mobile_width=this.style.width<=767,$(window).resize(function(){e.is_mobile_width=e.style.width<=767}),Promise.resolve()}}},ie=te,ne=(n("db65"),Object(h["a"])(ie,l,u,!1,null,"df284cac",null)),se=ne.exports,ae=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"dashboard"}},[i("div",{staticClass:"ui inverted dimmer",class:{active:e.is_loading}},[i("div",{staticClass:"ui indeterminate text loader"},[e._v("\n            "+e._s(e.$t("ui.general.initializing"))+"\n        ")])]),i("div",{staticClass:"ui form",class:{loading:e.is_processing,inverted:e.is_inverted}},[i("div",{staticClass:"ui fluid right action left icon big input",class:{"inverted transparent":e.is_inverted},style:{borderBottom:"4px "+e.current_setting_group.color+" solid",color:e.theme.color.font,overflow:"hidden"}},[i("i",{staticClass:"search icon"}),e.is_input_mode?i("input",{directives:[{name:"model",rawName:"v-model",value:e.input_number,expression:"input_number"}],ref:"search_input",staticClass:"no bottom border",style:{background:"none",color:e.theme.color.font},attrs:{type:"text",id:"search_input",autofocus:"true",autocomplete:"off",placeholder:e.$t("ui.scanner.helps.write_or_scan_barcode")},domProps:{value:e.input_number},on:{blur:function(t){e.input_blurred()},keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.input_submit()},input:function(t){t.target.composing||(e.input_number=t.target.value)}}}):i("div",{attrs:{id:"search_input"},on:{click:function(t){t.preventDefault(),e.input_focused()}}},[e._v("\n                "+e._s(e.current_number||e.$t("ui.scanner.helps.write_or_scan_barcode"))+"\n            ")]),i("div",{staticClass:"ui button no bottom border",class:{inverted:e.is_inverted,current_setting_group:e.current_setting_group},style:{backgroundColor:e.current_setting_group.color},on:{click:function(t){e.toggle_settings()}}},[i("i",{staticClass:"large icons",staticStyle:{margin:"5px",color:"white"}},[i("i",{class:e.current_setting_group.primary_icon_classes}),i("i",{class:e.current_setting_group.secondary_icon_classes||"right bottom corner icon"})])])]),i("div",{staticClass:"ui bottom right settings label no top border pointer",class:{inverted:e.is_inverted,show_setting_modes_content:e.is_setting},style:{background:"none",color:e.theme.color.font},on:{click:function(t){e.toggle_settings()}}},[i("div",{staticClass:"settings_content"},[i("span",{staticClass:"setting_modes_content",class:{show_setting_modes_content:e.is_setting}},[e.settings.is_scan_action_mode&&e.current_scan_action_prototype.identity?i("span",[e._v(e._s(e.current_scan_action_prototype.name+"("+e.current_scan_action_prototype.barcode+")")+"、\n                    ")]):i("span",[e.current_setting_group.is_hide?e._e():i("span",[e._v("\n                            "+e._s(e.current_setting_group.name)+" 、\n                        ")])]),e._v("\n\n                    "+e._s(e.settings.is_batch_mode?e.$tc("ui.scanner.settings.is_batch_mode.true")+"、":"")+"\n                    "+e._s(e.settings.is_distributed_to_mode?e.$tc("ui.scanner.settings.is_distributed_to_mode.true",2)+"、":"")+"\n                    "+e._s(e.settings.is_package_mode?e.$tc("ui.scanner.settings.is_package_mode.true",2)+"、":"")+"\n                    "+e._s(e.settings.is_unpackage_mode?e.$tc("ui.scanner.settings.is_unpackage_mode.true",2)+"、":"")+"\n\n                    "),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_auto_print_label_mode")?i("span",[e._v("\n                        "+e._s(e.settings.is_auto_print_label_mode?e.$tc("ui.scanner.settings.is_auto_print_label_mode.true",2):e.$tc("ui.scanner.settings.is_auto_print_label_mode.false",2))+"、\n                    ")]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_scan_mode")?i("span",[e._v("\n                        "+e._s(e.settings.is_scan_mode?e.$tc("ui.scanner.settings.is_scan_mode.true",2):e.$tc("ui.scanner.settings.is_scan_mode.false",2))+"、\n                    ")]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_speech_mode")?i("span",[e._v("\n                        "+e._s(e.settings.is_speech_mode?e.$tc("ui.scanner.settings.is_speech_mode.true",2):e.$tc("ui.scanner.settings.is_speech_mode.false",2))+"、\n                    ")]):e._e(),e._v("\n\n                    "+e._s(e.settings.is_update_corewaybill_mode?e.$tc("ui.scanner.settings.is_update_corewaybill_mode.true",2)+"、":"")+"\n\n                    "),e._v("\n                    "+e._s(e.$t("ui.scanner.settings.core_waybill_template_mode.short_name"))+"：\n                    "+e._s("min_card"==e.settings.core_waybill_template_mode?e.$tc("ui.scanner.settings.core_waybill_template_mode.min_card",2):"")+"\n                    "+e._s("card"==e.settings.core_waybill_template_mode?e.$tc("ui.scanner.settings.core_waybill_template_mode.card",2):"")+"\n                    "+e._s("detail"==e.settings.core_waybill_template_mode?e.$tc("ui.scanner.settings.core_waybill_template_mode.detail",2):"")+"\n                ")])]),i("div",{staticClass:"toggle_is_setting_icon",class:{show_setting_modes_content:e.is_setting}},[i("i",{staticClass:"large icon angle double",class:{up:e.is_setting,down:!e.is_setting},style:{color:e.theme.color.show_setting_icon}})])])])])},re=[];function oe(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function ce(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){oe(a,n,s,r,o,"next",e)}function o(e){oe(a,n,s,r,o,"throw",e)}r(void 0)})}}var _e={props:{is_processing:Boolean,current_scan_action_prototype:Object,current_number:String,is_inverted:{default:!1,type:Boolean}},data:function(){return{input_number:"",is_input_mode:!1,is_loading:!1}},mounted:function(){},watch:{},computed:{current_store:function(){return this.$store.state[this.$store.state.current_scope].scanner_module},theme:function(){return this.current_store.config.theme},settings:function(){return this.current_store.settings},is_setting:function(){return this.current_store.is_setting},current_setting_group:function(){return this.current_store.current_setting_group}},methods:{input_focused:function(){var e=ce(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_input_mode=!0,e()});case 2:return e.next=4,new Promise(function(e){t.input_number=t.current_number,e()});case 4:return e.next=6,new Promise(function(e){t.$nextTick(function(){$("#search_input").focus(),t.$refs.search_input.focus()}),e()});case 6:return e.next=8,this.$bus.$emit("set_input_mode",!0);case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),input_blurred:function(){var e=ce(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$bus.$emit("set_current_number",this.input_number);case 2:return e.next=4,new Promise(function(e){t.is_input_mode=!1,t.input_number="",e()});case 4:return e.next=6,this.$bus.$emit("set_input_mode",!1);case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),input_submit:function(){var e=ce(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.input_blurred();case 3:return e.next=5,this.$bus.$emit("enqueue");case 5:e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));function t(){return e.apply(this,arguments)}return t}(),toggle_settings:function(){this.$parent.toggle_settings_div()}},components:{}},le=_e,ue=(n("8e1f"),Object(h["a"])(le,ae,re,!1,null,"35abf710",null)),de=ue.exports,pe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.is_initialized?i("div",{attrs:{id:"core_waybill"}},[e.settings.is_package_mode||e.settings.is_unpackage_mode?i("div",[e.is_mobile_width?i("carousel",{attrs:{perPage:1,speed:390,minSwipeDistance:120,paginationEnabled:!1}},[i("slide",[i("Package",{attrs:{is_inverted:e.is_inverted}}),i("NavigationRight",{attrs:{top:"18px"}})],1),i("slide",[i("NavigationLeft",{attrs:{top:"18px"}}),i("General",{attrs:{is_inverted:e.is_inverted}})],1)],1):i("div",[i("div",{staticClass:"ui top tabular menu"},e._l(e.top_menus,function(t){return i("div",{staticClass:"item pointer",class:{active:e.current_setting_component==t.component_name},style:{color:e.theme.color.font},on:{click:function(i){e.current_setting_component=t.component_name}}},[e._v("\n                    "+e._s(t.title)+"\n                ")])})),i(e.current_setting_component,{tag:"component",attrs:{is_inverted:e.is_inverted}})],1)],1):i("div",[i("General",{attrs:{is_inverted:e.is_inverted}})],1)]):e._e()},me=[],fe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"package_core_waybill"}},[i("div",{staticClass:"ui divider"}),e.settings.is_package_mode||e.is_initialized?i("div",{staticClass:"current_pack"},[i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui top pointing dropdown button",staticStyle:{"margin-right":"0"},on:{change:function(t){e.$forceUpdate()}}},[e._l(e.materials,function(t){return e.current_pack_taget_parent_material.identity==t.identity?i("div",{staticClass:"text"},[e._v("\n                "+e._s(e.current_pack_taget_parent_material.name)+"\n            ")]):e._e()}),e.current_pack_taget_parent_material.name?e._e():i("div",{staticClass:"text"},[e._v("\n                "+e._s(e.$t("ui.general.please_select"))+"\n                "+e._s(e.$t("ui.scanner.package.packing_material"))+"\n\n            ")]),i("div",{staticClass:"menu"},e._l(e.materials,function(t){return i("div",{staticClass:"item",class:{active:t.identity==e.current_pack_taget_parent_material.identity},on:{click:function(i){e.current_store.current_pack_taget_parent_material_identity=t.identity}}},[e._v("\n                    "+e._s(t.name)+"\n                ")])}))],2),i("span",{staticStyle:{"font-size":"20px","vertical-align":"sub"}},[e._v("\n            "+e._s(e.$t("ui.scanner.package.package"))+"\n        ")]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui top pointing dropdown button",on:{change:function(t){e.$forceUpdate()}}},[e._l(e.materials,function(t){return e.current_pack_taget_material.identity==t.identity?i("div",{staticClass:"text"},[e._v("\n                "+e._s(e.current_pack_taget_material.name)+"\n            ")]):e._e()}),e.current_pack_taget_material.name?e._e():i("div",{staticClass:"text"},[e._v("\n                "+e._s(e.$t("ui.scanner.helps.select_pack_taget"))+"\n            ")]),i("div",{staticClass:"menu"},e._l(e.materials,function(t){return i("div",{staticClass:"item",class:{active:t.identity==e.current_pack_taget_material.identity},on:{click:function(i){e.current_store.current_pack_taget_material_identity=t.identity}}},[e._v("\n                    "+e._s(t.name)+"\n                ")])}))],2),i("div",{staticClass:"ui checkbox",staticStyle:{"vertical-align":"middle"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.settings.pack_need_source_mode,expression:"settings.pack_need_source_mode"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.settings.pack_need_source_mode)?e._i(e.settings.pack_need_source_mode,null)>-1:e.settings.pack_need_source_mode},on:{change:function(t){var i=e.settings.pack_need_source_mode,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=e._i(i,a);n.checked?r<0&&e.$set(e.settings,"pack_need_source_mode",i.concat([a])):r>-1&&e.$set(e.settings,"pack_need_source_mode",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.settings,"pack_need_source_mode",s)}}}),i("label",{staticClass:"pointer",class:{active:e.settings.pack_need_source_mode},on:{click:function(t){e.current_store.settings.pack_need_source_mode=!e.current_store.settings.pack_need_source_mode}}},[e._v("\n                "+e._s(e.$tc("ui.scanner.settings.pack_need_source_mode.short_name"))+"\n            ")])])]):e._e(),e.package_message.content?i("div",{staticClass:"package_message",class:[e.package_message.status]},[e._v("\n        "+e._s(e.package_message.content)+"\n    ")]):e._e(),i("h2",{staticStyle:{margin:"0"}},[e._v("\n        "+e._s(e.current_package.parent_core_waybill.number||e.package_no_number_content)+"\n        "),e.current_package.parent_core_waybill.material?i("span",{staticClass:"material_name"},[e._v("\n            ["+e._s(e.current_package.parent_core_waybill.material.name)+"]\n        ")]):e._e()]),e.current_package.core_waybills.length?i("div",{staticClass:"goods"},[e._l(e.current_package.core_waybills,function(t){return i("h3",[e._v("\n            "+e._s(t.number)+"\n            "),t.material?i("span",{staticClass:"material_name"},[e._v("\n                ["+e._s(t.material.name)+"]\n            ")]):e._e()])}),i("div",{staticClass:"fluid ui button no border",on:{click:function(t){e.submit_package()}}},[e._v("\n            "+e._s(e.$t("ui.general.submit"))+"\n        ")])],2):e._e(),e.desc_ordered_package_response_history.length?i("div",{staticClass:"ui list package_response_history"},e._l(e.desc_ordered_package_response_history,function(e){return i("PackageHistoryItem",{key:e.id,staticClass:"item",attrs:{package_response:e}})})):e._e()])},he=[],ve=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"package_history_item"},[i("span",[e._v("\n        "+e._s(e.package_response.is_setting_is_package_mode?e.$t("ui.scanner.package.package"):e.$t("ui.scanner.package.unpackage"))+"\n    ")]),"success"==e.package_response.status?i("span",{staticStyle:{color:"green"}},[e._v("\n        "+e._s(e.$t("success"))+"\n    ")]):e._e(),"failure"==e.package_response.status?i("span",{staticStyle:{color:"red"}},[e._v("\n        "+e._s(e.$t("ui.general.failure"))+"\n    ")]):e._e(),e._v("\n\n    "+e._s(e.package_response.parent_core_waybill.number)+"\n    ["+e._s(e.package_response.parent_core_waybill.material.name)+"]\n    "),e.package_response.is_setting_is_package_mode?i("span",[e._v("\n        "+e._s(e.$t("ui.scanner.package.total__number",{number:e.package_response.parent_core_waybill.child_core_waybills.length}))+"\n    ")]):e._e(),e.package_response.is_setting_is_package_mode?i("span",{staticClass:"pointer",staticStyle:{"font-size":"small","font-weight":"bold"},on:{click:function(t){e.is_show_detail=!e.is_show_detail}}},[e._v("\n        ["+e._s(e.is_show_detail?e.$t("ui.scanner.package.hide"):e.$t("ui.scanner.package.detail"))+"]\n    ")]):e._e(),e.is_show_detail?i("div",{staticClass:"current_package_response"},[e.package_response.parent_core_waybill.child_core_waybills.length?i("div",{staticClass:"goods",staticStyle:{padding:"6px"}},e._l(e.package_response.parent_core_waybill.child_core_waybills,function(t){return i("span",[e._v("\n                "+e._s(t.number)+"\n                "),t.material?i("span",{staticClass:"material_name"},[e._v("\n                    ["+e._s(t.material.name)+"]\n                ")]):e._e(),e._v("\n                /\n            ")])})):e._e()]):e._e()])},ge=[],be={components:{},props:{package_response:{default:{},type:Object}},data:function(){return{is_show_detail:!1}},mounted:function(){},watch:{},computed:{},methods:{}},ye=be,we=(n("a24c"),Object(h["a"])(ye,ve,ge,!1,null,"1934d544",null)),$e=we.exports;function ke(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function xe(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){ke(a,n,s,r,o,"next",e)}function o(e){ke(a,n,s,r,o,"throw",e)}r(void 0)})}}var Ce={components:{PackageHistoryItem:$e},props:{is_inverted:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1,package_no_number_content:this.$t("ui.scanner.helps.select_target_layer")}},mounted:function(){this.init()},watch:{"settings.pack_need_source_mode":function(e){this.fetch_and_set_local_storage("pack_need_source_mode",e)},"settings.pack_p_m_mode":function(e){this.fetch_and_set_local_storage("pack_p_m_mode",e),this.init()},"settings.pack_m_mode":function(e){this.fetch_and_set_local_storage("pack_m_mode",e),this.init()},current_pack_taget_parent_material:function(e){e.class_name!=this.settings.pack_p_m_mode&&this.clear_current_pack(),this.settings.pack_p_m_mode=e.class_name},current_pack_taget_material:function(e){this.settings.pack_m_mode=e.class_name}},computed:{current_store:function(){return this.$store.state.provider.scanner_module},settings:function(){return this.current_store.settings},current_pack_taget_parent_material:function(){return this.$store.getters["provider/scanner_module/current_pack_taget_parent_material"]},current_pack_taget_material:function(){return this.$store.getters["provider/scanner_module/current_pack_taget_material"]},materials:function(){return this.current_store.materials},current_package:{cache:!1,get:function(){return this.current_store["package"]}},package_message:function(){return this.current_store.package_message},desc_ordered_package_response_history:function(){return _.orderBy(this.current_store.package_response_history,"id","desc")}},methods:{init:function(){var e=xe(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.is_initialized=!1,e.next=3,this.set_pack_material();case 3:return e.next=5,this.set_package_no_number_content();case 5:return e.next=7,new Promise(function(e){t.is_initialized=!0});case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),set_pack_material:function(){var e=this;if(this.settings.pack_p_m_mode){var t=_.find(this.materials,function(t){var i=new RegExp(e.settings.pack_p_m_mode,"i");return t.class_name.match(i)});this.current_store.current_pack_taget_parent_material_identity=t.identity?t.identity:""}if(this.settings.pack_m_mode){t=_.find(this.materials,function(t){var i=new RegExp(e.settings.pack_m_mode,"i");return t.class_name.match(i)});this.current_store.current_pack_taget_material_identity=t.identity?t.identity:""}return Promise.resolve()},set_package_no_number_content:function(){try{if(!this.current_pack_taget_parent_material.name)throw this.$t("ui.scanner.helps.select_pack_taget_parent");if(!this.current_pack_taget_material.name)throw this.$t("ui.scanner.helps.select_pack_taget");throw this.$t("ui.scanner.helps.scan")+" "+this.current_pack_taget_parent_material.name}catch(e){this.package_no_number_content=e}},fetch_and_set_local_storage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i="scanner_".concat(e),n=localStorage.getItem(i);return!1===t&&localStorage.setItem(i,t),null==n||""==n||""!=t?(localStorage.setItem(i,t),t):localStorage.getItem(i)},submit_package:function(){var e=xe(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("provider/scanner_module/submit_package");case 2:return e.next=4,this.clear_current_pack();case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),clear_current_pack:function(){return this.current_store["package"]={parent_core_waybill:{},core_waybill_identities:[],core_waybills:[],source_core_waybill_identity:null},Promise.resolve()}}},Pe=Ce,Se=(n("5987"),Object(h["a"])(Pe,fe,he,!1,null,"80b30546",null)),Ne=Se.exports,qe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"content_core_waybill"}},[e.current_core_waybill_need_related_columns.length&&e.settings.is_quick_corewaybill_related_columns&&e.current_setting_group.is_scan_action?i("QuickRelatedColumns",{attrs:{is_inverted:e.is_inverted}}):e._e(),i("div",{staticClass:"ui divider"}),e.settings.is_core_waybill_creation_mode?i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui no_search fluid selection dropdown",on:{change:function(t){e.$forceUpdate()}}},[i("div",{staticClass:"text"},[e._v("\n            "+e._s(e.current_store.current_partition.name||"請選擇號碼區間")+"\n        ")]),i("div",{staticClass:"menu"},e._l(e.current_store.partitions,function(t){return i("div",{staticClass:"item",class:{active:t.identity==e.current_store.current_partition.identity},on:{click:function(i){e.set_current_partition(t)}}},[e._v("\n                "+e._s(t.name)+"\n            ")])}))]):e._e(),e.settings.is_core_waybill_creation_mode?i("div",{staticClass:"ui divider"}):e._e(),e.current_staff_operation.number||e.settings.is_distributed_to_mode||e.settings.is_unpackage_mode||e.settings.is_package_mode?i("h3",{staticClass:"center aligned",staticStyle:{margin:"0 auto","padding-bottom":"6px"}},[e.settings.is_distributed_to_mode&&!e.$store.getters["provider/current_station"].identity?i("span",[i("i",{staticClass:"exclamation triangle red icon"}),e._v("\n                "+e._s(e.$t("ui.scanner.helps.distributed.please_select"))+"\n                "),i("span",{staticClass:"pointer",staticStyle:{color:"red"},on:{click:function(t){e.$bus.$emit("toggle_station_modal","show")}}},[e._v("\n                    "+e._s(e.$t("ui.scanner.helps.distributed.current_station"))+"\n                ")]),e._v("\n                ，"+e._s(e.$t("ui.scanner.helps.distributed.can_use_distributed_to_mode"))+"\n                "),i("br")]):e._e(),e.settings.is_package_mode?i("span",[e._v("\n            "+e._s(e.$tc("ui.scanner.settings.is_package_mode.true",3))+"\n        ")]):e._e(),e.settings.is_unpackage_mode?i("span",[e._v("\n            "+e._s(e.$tc("ui.scanner.settings.is_unpackage_mode.true",3))+"\n        ")]):e._e(),e.current_staff_operation.number?i("span",[e.settings.is_package_mode||e.settings.is_unpackage_mode?i("span",[e._v("\n                、\n            ")]):e._e(),e._v("\n            "+e._s(e.$t("ui.scanner.helps.selected_operation"))+"：\n            "+e._s(e.current_staff_operation.number)+"\n            "),e.current_staff_operation.provider_note?i("span",[e._v("\n                、"+e._s(e.current_staff_operation.provider_note)+"\n            ")]):e._e()]):e._e()]):e._e(),i("div",{staticClass:"ui stackable centered grid"},[i("div",{staticClass:"wide column"},[i("DistributedResponse",{attrs:{"v-if":e.settings.is_distributed_to_mode,is_inverted:e.is_inverted}}),i("SingleCoreWaybill",{attrs:{current_core_waybill:e.current_core_waybill,is_inverted:e.is_inverted,settings:e.settings,card_half_style:!0,file_uploader:!0,fetch_core_waybill_statuses:!0,related_columns:e.current_scan_action_prototype.related_columns,current_scan_action_prototype:e.current_scan_action_prototype,is_half_style:!1}})],1)])],1)},Ae=[],Ee=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.current_core_waybill.identity&&"new"!=e.current_store.current_job.core_waybill_scope?i("div",[i("CoreWaybill",{staticStyle:{margin:"0px"},attrs:{core_waybill:e.current_core_waybill,template:e.tool_core_waybill_settings.template,scope:e.$store.state.current_scope,is_inverted:e.is_inverted,is_in_scanner_modal:!0,is_show_change_template_btns:!0,is_force_print:!0,is_auto_print:e.tool_core_waybill_settings.is_auto_print,is_can_print_label:e.tool_core_waybill_settings.is_print_label,is_can_update:e.tool_core_waybill_settings.is_update_corewaybill,can_update_field_names:"LA04"==e.current_setting_group.barcode?["receipt_file_url"]:[],cant_update_field_names:e.tool_core_waybill_settings.cant_update_field_names,card:{is_half_style:!0,is_simple_form:!1,is_vertical:e.is_vertical,is_show_note:!0},detail:{is_show_blood_related:!0,is_show_receipt_file:!0,is_show_partition:!0,is_show_statuses:!0}}})],1):i("div")},ze=[],je=n("41a7");function Re(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function Oe(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){Re(a,n,s,r,o,"next",e)}function o(e){Re(a,n,s,r,o,"throw",e)}r(void 0)})}}var Ie={components:{CoreWaybill:je["a"]},props:{current_core_waybill:Object,current_scan_action_prototype:Object,is_inverted:{default:!1,type:Boolean},fetch_core_waybill_statuses:{default:!1,type:Boolean},card_button_color:{default:"",type:String},card_button_content:{default:"",type:String},card_button_channel:{default:"",type:String},file_uploader:{default:!1,type:Boolean},focus_field:{default:"",type:String},related_columns:{default:function(){return[]},type:Array}},computed:{current_store:function(){return this.$store.state[this.$store.state.current_scope].scanner_module},style:function(){return this.$store.state.style},core_waybills:function(){return this.current_store.core_waybills},settings:function(){return this.current_store.settings},current_setting_group:function(){return this.current_store.current_setting_group}},data:function(){return{is_initialized:!1,is_vertical:!1,tool_core_waybill_settings:{cant_update_field_names:[],is_update_corewaybill:!1,is_print_label:!1,is_auto_print:!1,template:"card"},core_waybill_template_mode:"",core_waybill_statuses:[],empty_core_waybill:{number:"請輸入號碼"},tool_core_waybill_active_button:{content:"",channel:""}}},mounted:function(){var e=this;this.init(),this.is_vertical=this.style.width<=767,$(window).resize(function(){e.is_vertical=e.style.width<=767})},watch:{"settings.core_waybill_template_mode":function(e){this.tool_core_waybill_settings.template="LA02"==this.current_setting_group.barcode?"waybill":e,this.tool_core_waybill_settings.is_auto_print=!1},current_core_waybill:function(){this.init()}},methods:{init:function(){var e=Oe(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.is_initialized=!1,e.next=3,this.set_tool_core_waybill_settings();case 3:return e.next=5,new Promise(function(e){t.is_initialized=!0});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),set_tool_core_waybill_settings:function(){return this.tool_core_waybill_settings.is_update_corewaybill=this.settings.is_update_corewaybill_mode,this.tool_core_waybill_settings.is_auto_print=this.settings.is_auto_print_label_mode,this.tool_core_waybill_settings.template=this.$store.getters[this.$store.state.current_scope+"/scanner_module/current_core_waybill_need_related_columns"].length?"card":this.settings.core_waybill_template_mode,"LA02"==this.current_setting_group.barcode?(this.tool_core_waybill_settings.template="waybill",this.tool_core_waybill_settings.is_print_label=!0):(this.tool_core_waybill_settings.template=this.settings.core_waybill_template_mode,this.tool_core_waybill_settings.is_print_label=this.settings.is_auto_print_label_mode),this.tool_core_waybill_settings.is_auto_print=!this.$store.getters[this.$store.state.current_scope+"/scanner_module/current_core_waybill_need_related_columns"].length&&this.tool_core_waybill_settings.is_auto_print,Promise.resolve()}}},De=Ie,Le=(n("732f"),Object(h["a"])(De,Ee,ze,!1,null,"155f5627",null)),Te=Le.exports,Be=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"quick_core_waybill_related_columns"}},[i("div",{staticClass:"ui divider",staticStyle:{"margin-top":"3px"}}),i("div",{staticClass:"ui form",class:{inverted:e.is_inverted}},[i("h3",{staticStyle:{margin:"0"}},[e._v("\n            "+e._s(e.$t("ui.scanner.helps.quick_required_field_div"))+"\n        ")]),e._l(e.current_scan_action_prototype_related_columns,function(t){return i("div",{staticClass:"field half",on:{click:function(t){e.is_edit_fields=!0}}},[e.is_edit_fields?i("label",{staticStyle:{"font-size":"14px"}},[e._v("\n                "+e._s(e.$t("models.attributes.core_waybills."+t.name))+"\n                ")]):e._e(),e.is_edit_fields?i("input",{directives:[{name:"model",rawName:"v-model",value:e.quick_core_waybill_related_columns[t.name],expression:"quick_core_waybill_related_columns[related_column.name]"}],class:{is_required:t.is_required},attrs:{type:"text",tabindex:"-1",autocomplete:"off",placeholder:t.is_required?e.$t("ui.scanner.alerts.required_field"):e.$t("ui.scanner.alerts.if_have_write")},domProps:{value:e.quick_core_waybill_related_columns[t.name]},on:{focus:function(t){e.current_store.is_keydown=!1},blur:function(t){e.current_store.is_keydown=!0},input:function(i){i.target.composing||e.$set(e.quick_core_waybill_related_columns,t.name,i.target.value)}}}):e._e(),e.is_edit_fields?e._e():i("label",{staticStyle:{"font-size":"14px"}},[e._v("\n                "+e._s(e.$t("models.attributes.core_waybills."+t.name))+"\n                "),t.is_required?i("span",{staticStyle:{color:"red"}},[e._v("\n                    *\n                ")]):e._e(),e._v("\n                ： "+e._s(e.quick_core_waybill_related_columns[t.name]||"無填寫")+"\n            ")])])})],2),i("div",{staticClass:"toggle_is_edit_fields pointer",on:{click:function(t){e.is_edit_fields=!e.is_edit_fields}}},[i("i",{staticClass:"circular orange icon",class:{"inverted angle double up":e.is_edit_fields,"large angle double down":!e.is_edit_fields}})]),i("div",{staticClass:"clear"})])},Me=[],Ue={components:{},props:{is_inverted:{default:!1,type:Boolean}},data:function(){return{is_edit_fields:!0}},computed:{current_store:function(){return this.$store.state.provider.scanner_module},settings:function(){return this.current_store.settings},current_scan_action_prototype_related_columns:function(){return this.$store.getters["provider/scanner_module/current_scan_action_prototype_related_columns"]},quick_core_waybill_related_columns:function(){return this.current_store.quick_core_waybill_related_columns}},watch:{},mounted:function(){},methods:{}},Fe=Ue,Ye=(n("6d1a"),Object(h["a"])(Fe,Be,Me,!1,null,"5cf05cdc",null)),Ge=Ye.exports,He=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"distributed_response"}},[e.distributed_to.message?i("div",{staticClass:"distributed_to_message",style:{borderColor:e.border_color()}},[i("h3",[e._v("\n            "+e._s(e.$t("ui.scanner.helps.distributed_result"))+"：\n            "+e._s(e.distributed_to.message)+"\n        ")])]):e._e()])},Ke=[],We={components:{},props:{is_inverted:{default:!1,type:Boolean}},data:function(){return{}},computed:{current_store:function(){return this.$store.state.provider.scanner_module},settings:function(){return this.current_store.settings},distributed_to:function(){return this.current_store.distributed_to}},watch:{},mounted:function(){},methods:{border_color:function(){if("success"!=this.distributed_to.status)return"red";switch(this.distributed_to.type){case"direct":return"green";case"transfer":return"green";case"intermodal":return"green";default:return"green"}}}},Ve=We,Xe=(n("c2fb"),Object(h["a"])(Ve,He,Ke,!1,null,"350e20b9",null)),Qe=Xe.exports;function Ze(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function Je(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){Ze(a,n,s,r,o,"next",e)}function o(e){Ze(a,n,s,r,o,"throw",e)}r(void 0)})}}var et={components:{SingleCoreWaybill:Te,QuickRelatedColumns:Ge,DistributedResponse:Qe},props:{core_waybill:Object,is_inverted:{default:!1,type:Boolean}},data:function(){return{is_processing:!0}},mounted:function(){this.init()},watch:{},computed:{current_staff_operation:function(){return this.$store.state.provider.current_staff_operation},current_store:function(){return this.$store.state[this.$store.state.current_scope].scanner_module},settings:function(){return this.current_store.settings},current_core_waybill:{cache:!1,get:function(){return this.current_store.current_core_waybill}},core_waybills:function(){return this.current_store.core_waybills},current_scan_action_prototype:function(){return this.current_store.current_scan_action_prototype},current_setting_group:function(){return this.current_store.current_setting_group},current_core_waybill_need_related_columns:function(){return this.$store.getters["provider/scanner_module/current_core_waybill_need_related_columns"]}},methods:{init:function(){var e=Je(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.is_processing=!0,this.stack_error_number=[],e.next=4,new Promise(function(e){t.is_processing=!1});case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),set_current_partition:function(e){this.$store.commit("provider/scanner_module/set_current_partition",e)}}},tt=et,it=(n("503e"),Object(h["a"])(tt,qe,Ae,!1,null,"714a6f89",null)),nt=it.exports;function st(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function at(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){st(a,n,s,r,o,"next",e)}function o(e){st(a,n,s,r,o,"throw",e)}r(void 0)})}}var rt={components:{Package:Ne,General:nt,NavigationLeft:F,NavigationRight:V,Carousel:X["Carousel"],Slide:X["Slide"]},props:{is_modal_opened:{default:!1,type:Boolean},is_inverted:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1,is_mobile_width:!1,current_setting_component:"Package",top_menus:[{title:this.$t("ui.scanner.menus.package"),component_name:"Package"},{title:this.$t("ui.scanner.menus.core_waybill"),component_name:"General"}],update_core_waybills_eventbus_name:"update_core_waybills_in_scanner"}},mounted:function(){var e=this;$(window).resize(function(){e.is_mobile_width=e.style.width<=767}),this.init()},watch:{is_modal_opened:function(e){e&&this.$forceUpdate()}},computed:{current_store:function(){return this.$store.state[this.$store.state.current_scope].scanner_module},style:function(){return this.$store.state.style},theme:function(){return this.current_store.config.theme},settings:function(){return this.current_store.settings},current_core_waybill:{cache:!1,get:function(){return this.current_store.current_core_waybill}},core_waybills:function(){return this.current_store.core_waybills}},methods:{init:function(){var e=at(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.is_initialized=!1,e.next=3,this.set_is_mobile_width();case 3:return e.next=5,new Promise(function(e){t.is_initialized=!0});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),set_is_mobile_width:function(){return this.is_mobile_width=this.style.width<=767,""}}},ot=rt,ct=(n("650d"),Object(h["a"])(ot,pe,me,!1,null,"9ca0521a",null)),_t=ct.exports,lt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"create_core_waybill_alert"}},[e.is_initialized?i("div",{staticClass:"ui segment z-depth-2",style:{background:e.theme.background,color:e.theme.color.font}},[i("h3",[e._v("\n            "+e._s(e.$t("ui.scanner.alerts.is_created"))+"\n            "),i("span",[e._v("\n                "+e._s(e.current_store.current_core_waybill.number)+"\n            ")]),e.current_store.current_core_waybill.material?i("span",{staticStyle:{"font-size":"small"}},[i("span",{staticClass:"title_number"},[e._v("\n                    ["+e._s(e.current_store.current_core_waybill.material.name)+"]\n                ")])]):e._e()]),e.create_core_waybill_error?i("div",{staticClass:"ui message error"},[e._v("\n            "+e._s(e.create_core_waybill_error)+"\n        ")]):e._e(),i("div",{staticClass:"right aligned",staticStyle:{"padding-top":"12px"}},[i("button",{staticClass:"ui inverted red button",on:{click:function(t){e.give_up_create_core_waybill()}}},[e._v("\n                "+e._s(e.$t("ui.scanner.alerts.give_up"))+"\n            ")]),i("button",{staticClass:"ui inverted blue button",on:{click:function(t){e.define_create_core_waybill()}}},[e._v("\n                "+e._s(e.$t("ui.scanner.alerts.definite"))+"\n            ")])])]):e._e()])},ut=[],dt=n("3c2e"),pt=n.n(dt);function mt(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function ft(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){mt(a,n,s,r,o,"next",e)}function o(e){mt(a,n,s,r,o,"throw",e)}r(void 0)})}}var ht={components:{},props:{is_inverted:{default:!1,type:Boolean},is_modal_opened:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1,is_enter_keyboard_to_finish_action:!1,create_core_waybill_error:""}},computed:{current_store:function(){return this.$store.state.provider.scanner_module},theme:function(){return this.current_store.config.theme},current_core_waybill:function(){return this.current_store.current_core_waybill}},watch:{},deleted:function(){this.is_enter_keyboard_to_finish_action=!1},mounted:function(){this.is_enter_keyboard_to_finish_action=!0,$(window).bind("keydown",this.window_keydown),this.toggle_scanner_is_keydown(!1),this.init()},methods:{window_keydown:function(e){if(this.is_enter_keyboard_to_finish_action){var t=new pt.a(e);13!=t.key_code||this.current_store.is_keydown||this.define_create_core_waybill()}},init:function(){var e=ft(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise(function(e){t.current_column_order=0,t.is_initialized=!0,e()});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),console.log(e.t0);case 8:case"end":return e.stop()}},e,null,[[0,5]])}));function t(){return e.apply(this,arguments)}return t}(),toggle_scanner_is_keydown:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.current_store.is_keydown=e},give_up_create_core_waybill:function(){this.toggle_scanner_is_keydown(!0),this.$parent.alert_failure(),this.$noty.warning("未建立運單",1200)},define_create_core_waybill:function(){var e=ft(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.create_core_waybill();case 2:if(""!=this.create_core_waybill_error){e.next=7;break}return e.next=5,this.$parent.alert_success();case 5:return e.next=7,this.toggle_scanner_is_keydown(!0);case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),create_core_waybill:function(){var e=this,t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_core_waybills_create).parse({});return this.current_core_waybill["is_used"]=!0,this.current_core_waybill["material_identity"]=this.current_core_waybill.material.identity,this.current_core_waybill["partition_identity"]=this.current_core_waybill.partition.identity,axios.post(t,this.current_core_waybill,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.core_waybills")})),e.create_core_waybill_error=t.data.errors,Promise.reject(t.data.errors);e.$noty.success(e.$t("ui.notifications.success.create__name",{name:e.$t("models.core_waybills")}))})}}},vt=ht,gt=(n("5359"),Object(h["a"])(vt,lt,ut,!1,null,"d5b47d10",null)),bt=gt.exports,yt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{},[i("div",{attrs:{id:"scan_action_description_alert"}},[e.is_initialized&&e.current_scan_action_prototype.description_options?i("div",{staticClass:"ui segment z-depth-2",style:{background:e.theme.background,color:e.theme.color.font,top:e.current_scan_action_prototype.description_options.length>=7?"10%":"20%"}},[i("p",{staticStyle:{"font-size":"16px"}},[e._v("\n                "+e._s(e.$t("ui.scanner.alerts.please_write_scan_note"))+"\n                "),i("span",{staticStyle:{color:"red"}},[e._v("\n                    ["+e._s(e.$t("ui.scanner.alerts.required"))+"]\n                ")])]),i("div",{staticClass:"description_options"},e._l(e.current_scan_action_prototype.description_options,function(t,n){return i("div",{staticClass:"ui inverted button",class:{fluid:e.is_mobile_width,red:n%7==0,orange:n%7==1,violet:n%7==2,white:n%7==3,purple:n%7==4,pink:n%7==5,active:e.current_store.scan_action_description==t},on:{click:function(i){e.current_store.scan_action_description=t}}},[e._v("\n                    "+e._s(t)+"\n                ")])})),i("div",{staticClass:"right aligned",staticStyle:{"padding-top":"12px"}},[i("button",{staticClass:"ui inverted red button",on:{click:function(t){e.give_up_scan_action_description()}}},[e._v("\n                    "+e._s(e.$t("ui.scanner.alerts.give_up"))+"\n                ")]),i("button",{staticClass:"ui inverted blue button",on:{click:function(t){e.finish_scan_action_description()}}},[e._v("\n                    "+e._s(e.$t("ui.scanner.alerts.definite"))+"\n                ")])])]):e._e()])])},wt=[],$t=n("dcbb");function kt(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function xt(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){kt(a,n,s,r,o,"next",e)}function o(e){kt(a,n,s,r,o,"throw",e)}r(void 0)})}}var Ct={components:{FileUploader:$t["a"]},props:{is_inverted:{default:!1,type:Boolean},is_modal_opened:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1,is_mobile_width:!1,is_enter_keyboard_to_finish_action:!1,current_column:{},current_column_order:0,file_uploader:{status:"",message:""},core_waybill_receipt_file_url_eventbus:""}},computed:{current_store:function(){return this.$store.state.provider.scanner_module},style:function(){return this.$store.state.style},theme:function(){return this.current_store.config.theme},settings:function(){return this.current_store.settings},scan_action_description:function(){return this.current_store.scan_action_description},current_scan_action_prototype:function(){return this.current_store.current_scan_action_prototype},array_description_options:function(){if(!this.current_store.current_scan_action_prototype.description_options)return[]}},watch:{is_modal_opened:function(e){e&&(this.toggle_scanner_is_keydown(!1),this.init())},current_core_waybill_need_related_columns:function(){this.init()}},deleted:function(){this.is_enter_keyboard_to_finish_action=!1},mounted:function(){var e=this;this.is_mobile_width=this.style.width<=767,$(window).resize(function(){e.is_mobile_width=e.style.width<=767}),this.is_enter_keyboard_to_finish_action=!0,$(window).bind("keydown",this.window_keydown),this.toggle_scanner_is_keydown(!1),this.init()},methods:{window_keydown:function(e){if(this.is_enter_keyboard_to_finish_action){var t=new pt.a(e);13!=t.key_code||this.current_store.is_keydown||this.finish_scan_action_description()}},toggle_scanner_is_keydown:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.current_store.is_keydown=e},init:function(){var e=xt(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.focus_input();case 3:return e.next=5,new Promise(function(e){t.current_column_order=0,t.is_initialized=!0,e()});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));function t(){return e.apply(this,arguments)}return t}(),focus_input:function(){return $(document).ready(function(){$("#alert_input").focus()}),Promise.resolve()},give_up_scan_action_description:function(){var e=this.$t("ui.scanner.errors.give_up_scan_action_description");this.toggle_scanner_is_keydown(!0),this.$parent.alert_failure(e),this.$noty.error(e,1200)},finish_scan_action_description:function(){var e=xt(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,this.scan_action_description){e.next=3;break}throw this.$t("ui.scanner.helps.write_scan_action_note");case 3:this.toggle_scanner_is_keydown(!0),this.$parent.alert_success(),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),this.$noty.error(e.t0,1200);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));function t(){return e.apply(this,arguments)}return t}()}},Pt=Ct,St=(n("11bf"),Object(h["a"])(Pt,yt,wt,!1,null,"5e43de12",null)),Nt=St.exports,qt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{"z-index":"100"},attrs:{id:"core_waybill_related_columns_alert"},on:{click:function(t){e.set_focus_input_name(e.current_core_waybill_need_related_columns[e.current_column_index].name)}}},[e.is_modal_opened?i("carousel",{ref:"columns_carousel",attrs:{perPage:1,speed:390,minSwipeDistance:120,paginationEnabled:!1,navigateTo:e.current_column_index},on:{pageChange:e.page_change}},e._l(e.current_core_waybill_need_related_columns,function(t,n){return i("slide",{key:t.identity},[i("div",{staticClass:"ui segment",style:{background:e.theme.background,color:e.theme.color.font}},[i("p",{staticStyle:{"font-size":"16px"}},[e._v("\n                    "+e._s(e.$t("ui.scanner.alerts.please_write"))+"：\n                    "+e._s(e.$t("models.attributes.core_waybills."+t.name))+"\n                    "),t.is_required?i("span",{staticStyle:{color:"red"}},[e._v("\n                        ["+e._s(e.$t("ui.scanner.alerts.required"))+"]\n                    ")]):e._e()]),t.input_method?"tel_input"==t.input_method.component?i("div",[i("InputTel",{attrs:{related_column:t,focus_input_name:e.current_store.alert_core_waybill_related_columns_focus_input_name}})],1):"file_uploader"==t.input_method.component?i("div",[i("FileUploader",{attrs:{related_column:t,focus_input_name:e.current_store.alert_core_waybill_related_columns_focus_input_name}})],1):e._e():i("div",[i("InputText",{attrs:{related_column:t,focus_input_name:e.current_store.alert_core_waybill_related_columns_focus_input_name}})],1),i("div",{staticClass:"ui grid decision_buttons"},[i("div",{staticClass:"six wide column"},[n?i("div",{staticClass:"left aligned"},[i("button",{staticClass:"ui inverted button",on:{click:function(t){e.previous_core_waybill_related_columns()}}},[e._v("\n                                "+e._s(e.$t("ui.scanner.alerts.previous"))+"\n                            ")])]):e._e()]),i("div",{staticClass:"ten wide column"},[i("div",{staticClass:"right aligned"},[i("button",{staticClass:"ui inverted red button",on:{click:function(t){e.give_up_core_waybill_related_columns()}}},[e._v("\n                                "+e._s(e.$t("ui.scanner.alerts.give_up"))+"\n                            ")]),i("button",{staticClass:"ui inverted blue button",on:{click:function(t){e.next_actions_core_waybill_related()}}},[e._v("\n                                "+e._s(e.$t("ui.scanner.alerts.definite"))+"\n                            ")])])])])])])})):e._e()],1)},At=[],Et=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.is_initialized?i("div",[i("span",[e._v("\n            "+e._s(e.$t("ui.scanner.upload.receipt_file"))+"：\n        ")]),i("FileUploader",{staticClass:"file_uploader_tool",attrs:{channel:e.core_waybill_receipt_file_url_eventbus}}),e.file_uploader.message?i("h3",{staticClass:"file_uploader_message"},[e._v("\n            "+e._s(e.$t("ui.scanner.upload.result"))+"：\n            "),i("span",{class:e.file_uploader.status},[e._v("\n                "+e._s(e.file_uploader.message)+"\n            ")])]):e._e()],1):e._e()])},zt=[];function jt(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function Rt(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){jt(a,n,s,r,o,"next",e)}function o(e){jt(a,n,s,r,o,"throw",e)}r(void 0)})}}var Ot={components:{FileUploader:$t["a"]},props:{related_column:{default:{},input_type:Object},focus_input_name:{default:"",input_type:String},is_inverted:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1,current_column_order:0,file_uploader:{status:"",message:""},core_waybill_receipt_file_url_eventbus:""}},computed:{current_store:function(){return this.$store.state.provider.scanner_module},actions_core_waybill_related_columns:function(){return this.current_store.actions_core_waybill_related_columns}},watch:{},mounted:function(){this.init()},methods:{init:function(){var e=Rt(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.set_core_waybill_receipt_file_url();case 3:return e.next=5,new Promise(function(e){t.current_column_order=0,t.is_initialized=!0,e()});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));function t(){return e.apply(this,arguments)}return t}(),set_core_waybill_receipt_file_url:function(){var e=this;this.core_waybill_receipt_file_url_eventbus="core_waybill_receipt_file_url_".concat(this.current_store.current_core_waybill.number),this.$bus.$off(this.core_waybill_receipt_file_url_eventbus),this.$bus.$on(this.core_waybill_receipt_file_url_eventbus,function(t,i,n){switch(i){case"uploaded_file":e.file_uploader.status="await",e.file_uploader.message=e.$t("ui.general.uploading");break;case"uploading":console.log("uploading"),e.file_uploader.status="await",e.file_uploader.message=e.$t("ui.general.uploading");break;case"upload complete":e.actions_core_waybill_related_columns[e.related_column.name]=n,e.file_uploader.status="success",e.file_uploader.message=e.$t("ui.notifications.success.update"),e.$bus.$emit("scanner_next_actions_core_waybill_related");break;case"upload failed":console.log("file_uploader failed"),e.file_uploader.status="failure",e.file_uploader.message=e.$t("ui.notifications.error.update");break}})}}},It=Ot,Dt=(n("6dd9"),Object(h["a"])(It,Et,zt,!1,null,"a08641ec",null)),Lt=Dt.exports,Tt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.is_initialized?i("div",{staticClass:"ui fluid input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.actions_core_waybill_related_columns[e.related_column.name],expression:"actions_core_waybill_related_columns[related_column.name]"}],ref:e.related_column.name,attrs:{type:"text",placeholder:e.related_column.is_required?e.$t("ui.scanner.alerts.required_field"):e.$t("ui.scanner.alerts.if_have_write")},domProps:{value:e.actions_core_waybill_related_columns[e.related_column.name]},on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$bus.$emit("scanner_next_actions_core_waybill_related")},input:function(t){t.target.composing||e.$set(e.actions_core_waybill_related_columns,e.related_column.name,t.target.value)}}})]):e._e()])},Bt=[];function Mt(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function Ut(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){Mt(a,n,s,r,o,"next",e)}function o(e){Mt(a,n,s,r,o,"throw",e)}r(void 0)})}}var Ft={components:{},props:{related_column:{default:{},input_type:Object},focus_input_name:{default:"",input_type:String},is_inverted:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1,set_weight_interval:null}},computed:{current_store:function(){return this.$store.state.provider.scanner_module},actions_core_waybill_related_columns:function(){return this.current_store.actions_core_waybill_related_columns}},watch:{related_column:function(){this.init()},focus_input_name:{handler:function(e,t){this.focus_input()},deep:!0}},mounted:function(){var e=Ut(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return e.next=4,new Promise(function(e){t.set_weight_interval=setInterval(function(){"weight_in_kilo"==t.related_column.name&&(console.log(t.current_store.current_weight),t.current_store.current_weight&&(t.$store.commit("provider/scanner_module/update_actions_core_waybill_related_column",{related_column_name:"weight_in_kilo",value:t.current_store.current_weight}),t.$forceUpdate(),t.$store.commit("provider/scanner_module/set_current_weight",0),clearInterval(t.set_weight_interval)))},500),e()});case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{init:function(){var e=Ut(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise(function(e){t.is_initialized=!0,e()});case 3:return e.next=5,this.focus_input();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));function t(){return e.apply(this,arguments)}return t}(),focus_input:function(){var t=this;try{if(!this.focus_input_name)throw"no focus_input_name";if(!this.related_column.name)throw"no related_column.name";this.focus_input_name===this.related_column.name?setTimeout(function(){t.$refs[t.related_column.name].focus()},300):this.$refs[this.related_column.name].blur()}catch(e){console.log(e)}return Promise.resolve()}}},Yt=Ft,Gt=(n("351e"),Object(h["a"])(Yt,Tt,Bt,!1,null,"b4c582ea",null)),Ht=Gt.exports,Kt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.is_initialized?i("div",{staticClass:"ui fluid input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.actions_core_waybill_related_columns[e.related_column.name],expression:"actions_core_waybill_related_columns[related_column.name]"}],ref:e.related_column.name,attrs:{type:"tel",placeholder:e.related_column.is_required?e.$t("ui.scanner.alerts.required_field"):e.$t("ui.scanner.alerts.if_have_write")},domProps:{value:e.actions_core_waybill_related_columns[e.related_column.name]},on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$bus.$emit("scanner_next_actions_core_waybill_related")},input:function(t){t.target.composing||e.$set(e.actions_core_waybill_related_columns,e.related_column.name,t.target.value)}}})]):e._e()])},Wt=[];function Vt(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function Xt(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){Vt(a,n,s,r,o,"next",e)}function o(e){Vt(a,n,s,r,o,"throw",e)}r(void 0)})}}var Qt={components:{},props:{related_column:{default:{},input_type:Object},focus_input_name:{default:"",input_type:String},is_inverted:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.provider.scanner_module},actions_core_waybill_related_columns:function(){return this.current_store.actions_core_waybill_related_columns}},watch:{related_column:function(){this.init()},focus_input_name:{handler:function(e,t){this.focus_input()},deep:!0}},mounted:function(){this.init()},methods:{init:function(){var e=Xt(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise(function(e){t.is_initialized=!0,e()});case 3:return e.next=5,this.focus_input();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));function t(){return e.apply(this,arguments)}return t}(),focus_input:function(){var t=this;try{if(!this.focus_input_name)throw"no focus_input_name";if(!this.related_column.name)throw"no related_column.name";this.focus_input_name===this.related_column.name?setTimeout(function(){t.$refs[t.related_column.name].focus()},300):this.$refs[this.related_column.name].blur()}catch(e){console.log(e)}return Promise.resolve()}}},Zt=Qt,Jt=(n("3e41"),Object(h["a"])(Zt,Kt,Wt,!1,null,"554e76a4",null)),ei=Jt.exports;function ti(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function ii(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){ti(a,n,s,r,o,"next",e)}function o(e){ti(a,n,s,r,o,"throw",e)}r(void 0)})}}var ni={components:{FileUploader:Lt,InputText:Ht,InputTel:ei,Carousel:X["Carousel"],Slide:X["Slide"]},props:{is_inverted:{default:!1,type:Boolean},is_modal_opened:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1,current_column:{},current_column_index:0}},computed:{current_store:function(){return this.$store.state.provider.scanner_module},theme:function(){return this.current_store.config.theme},settings:function(){return this.current_store.settings},current_core_waybill:function(){return this.current_store.current_core_waybill},actions_core_waybill_related_columns:function(){return this.current_store.actions_core_waybill_related_columns},current_core_waybill_need_related_columns:function(){return this.$store.getters["provider/scanner_module/current_core_waybill_need_related_columns"]},alert_core_waybill_related_columns_focus_input_name:function(){return this.current_store.alert_core_waybill_related_columns_focus_input_name}},watch:{is_modal_opened:function(e){e&&(this.toggle_scanner_is_keydown(!1),this.init())},current_core_waybill_need_related_columns:function(){this.init()}},mounted:function(){var e=this;this.$bus.$off("scanner_next_actions_core_waybill_related"),this.$bus.$on("scanner_next_actions_core_waybill_related",function(){e.next_actions_core_waybill_related()}),this.toggle_scanner_is_keydown(!1),this.init()},methods:{page_change:function(e){this.current_column_index=e,this.current_core_waybill_need_related_columns[this.current_column_index]?this.set_focus_input_name(this.current_core_waybill_need_related_columns[this.current_column_index].name):this.set_focus_input_name(null)},toggle_scanner_is_keydown:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.current_store.is_keydown=e},init:function(){var e=ii(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.set_focus_input_name();case 3:return e.next=5,new Promise(function(e){t.current_column_index=0,t.is_initialized=!0,e()});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));function t(){return e.apply(this,arguments)}return t}(),set_focus_input_name:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.current_store.alert_core_waybill_related_columns_focus_input_name="no_focus",setTimeout(function(){if(null==t){var i=_.head(e.current_core_waybill_need_related_columns);t=i.name}e.current_store.alert_core_waybill_related_columns_focus_input_name=t},50),Promise.resolve()},previous_core_waybill_related_columns:function(){var e=this;this.$nextTick(function(){e.current_column_index=e.current_column_index-1,e.set_focus_input_name(e.current_core_waybill_need_related_columns[e.current_column_index].name)})},give_up_core_waybill_related_columns:function(){var e=this.$t("ui.scanner.errors.give_up_core_waybill_related_columns");this.toggle_scanner_is_keydown(!0),this.$parent.alert_failure(e),this.$noty.error(e,1200)},next_actions_core_waybill_related:function(){var e=ii(regeneratorRuntime.mark(function e(){var t,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.current_core_waybill_need_related_columns[this.current_column_index],e.prev=1,!this.current_core_waybill_need_related_columns[this.current_column_index].is_required||this.actions_core_waybill_related_columns[t.name]){e.next=4;break}throw this.$t("ui.scanner.helps.write_related_columns");case 4:if(!(this.current_column_index+1>=this.current_core_waybill_need_related_columns.length)){e.next=21;break}return e.prev=5,e.next=8,this.$store.dispatch("provider/scanner_module/update_core_waybill_related_columns");case 8:return e.next=10,new Promise(function(e){i.toggle_scanner_is_keydown(!0),i.$parent.alert_success(),e()});case 10:e.next=19;break;case 12:e.prev=12,e.t0=e["catch"](5),e.t1=e.t0,e.next="failed_to_update_core_waybill_related_column"===e.t1?17:19;break;case 17:return this.$noty.error(this.$t("ui.notifications.error.update__name",{name:this.$t("ui.scanner.alerts.required_field")})),e.abrupt("break",19);case 19:e.next=23;break;case 21:this.current_column_index=this.current_column_index+1,this.set_focus_input_name(this.current_core_waybill_need_related_columns[this.current_column_index].name);case 23:e.next=28;break;case 25:e.prev=25,e.t2=e["catch"](1),this.$noty.error(e.t2,1200);case 28:case"end":return e.stop()}},e,this,[[1,25],[5,12]])}));function t(){return e.apply(this,arguments)}return t}()}},si=ni,ai=(n("694d"),Object(h["a"])(si,qt,At,!1,null,"2a43b93f",null)),ri=ai.exports;function oi(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function ci(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){oi(a,n,s,r,o,"next",e)}function o(e){oi(a,n,s,r,o,"throw",e)}r(void 0)})}}var _i={name:"ScannerMain",props:{is_modal:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1,is_modal_opened:!1,is_input_mode:!1,is_processing:!1,is_quick_setting_number:!1,is_any_error_message:!1,is_mobile_width:!1,current_scan_action_prototype_identity:this.fetch_current_scan_action_prototype_identity(),current_numbers:[],current_number:"",scan_actions:[],is_show_related_columns_alert:!1,is_show_create_core_waybill_alert:!1,is_show_scan_action_description_alert:!1}},watch:{current_setting_group:function(e){this.$store.dispatch("provider/scanner_module/clear_distributed_to"),e.barcode&&localStorage.setItem("scanner_current_setting_group",e.barcode)},is_show_related_columns_alert:function(e){this.$bus.$emit("toggle_is_hide_icon_toggle_scanner_modal",e)},is_show_scan_action_description_alert:function(e){this.$bus.$emit("toggle_is_hide_icon_toggle_scanner_modal",e)},language:{handler:function(t){try{this.cahnge_language_in_store_js_text()}catch(e){this.$noty.error(e)}},deep:!0}},mounted:function(){var e=this;this.$bus.$off("set_modal_opened"),this.$bus.$on("set_modal_opened",function(t){return new Promise(function(i){e.is_modal_opened=t,t?e.current_store.settings.is_webcam_mode&&(Z.a.on("error",function(t){e.$noty.warning(e.$t("ui.scanner.errors.web_camera_error_will_close")),setTimeout(function(){e.settings.is_webcam_mode=!1},500),Z.a.reset()}),Z.a.set({width:192,height:108,dest_width:1920,dest_height:1080}),Z.a.set("constraints",{optional:[{minWidth:600}]}),Z.a.attach("#camera")):Z.a.reset(),i()})}),this.$bus.$off("quick_setting_number"),this.$bus.$on("quick_setting_number",function(t){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e.check_quick_setting_number(t,i,n)}),this.$bus.$off("set_current_scan_action_prototype"),this.$bus.$on("set_current_scan_action_prototype",function(t){e.set_current_scan_action_prototype(t)}),this.$bus.$off("set_input_mode"),this.$bus.$on("set_input_mode",function(t){return new Promise(function(i){e.is_input_mode=t,i()})}),this.$bus.$off("set_current_number"),this.$bus.$on("set_current_number",function(t){return new Promise(function(i){e.current_number=t,i()})}),this.$bus.$off("enqueue"),this.$bus.$on("enqueue",ci(regeneratorRuntime.mark(function t(){var i,n,s,a,r,o,c,_;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,i=e.current_store.settings.is_batch_mode?e.current_number.replace(/\s/g,"").split(","):[e.current_number],!e.current_store.settings.is_batch_mode||1!=i.length){t.next=4;break}throw"is_batch_mode_true, please use multiple number";case 4:n=!0,s=!1,a=void 0,t.prev=7,r=i[Symbol.iterator]();case 9:if(n=(o=r.next()).done){t.next=21;break}return c=o.value,_=e.current_store.settings.is_scan_action_mode?"operation":"search",t.next=14,e.$store.dispatch("provider/scanner_module/enqueue",{task:_,number:c,original_number:c,station:e.$store.getters["provider/current_station"],scan_action_prototype:e.current_scan_action_prototype,partition:e.current_store.current_partition});case 14:return t.next=16,new Promise(function(t){e.current_number="",t()});case 16:return t.next=18,new Promise(function(t){e.submit(),t()});case 18:n=!0,t.next=9;break;case 21:t.next=27;break;case 23:t.prev=23,t.t0=t["catch"](7),s=!0,a=t.t0;case 27:t.prev=27,t.prev=28,n||null==r["return"]||r["return"]();case 30:if(t.prev=30,!s){t.next=33;break}throw a;case 33:return t.finish(30);case 34:return t.finish(27);case 35:t.next=51;break;case 37:t.prev=37,t.t1=t["catch"](0),t.t2=t.t1,t.next="is_batch_mode_true, please use multiple number"===t.t2?42:"quick_setting"===t.t2?47:50;break;case 42:return e.current_store.jobs.push({id:e.current_store.jobs.slice(-1).pop()?e.current_store.jobs.slice(-1).pop().id+1:1,task:e.current_store.settings.is_scan_action_mode?"operation":"search",number:e.current_number,scan_action_prototype:e.current_scan_action_prototype,status:"Failure",is_waiting_user_action:!1,is_batch_mode:!0,errors:[e.$t("ui.scanner.errors.multiple_numbers_in_batch_mode")]}),e.current_number="",e.play_web_audio("error"),e.$store.dispatch("provider/scanner_module/set_local_storage_job"),t.abrupt("break",51);case 47:return e.check_quick_setting_number(e.current_number,!0),e.current_number="",t.abrupt("break",51);case 50:console.log(t.t1);case 51:case"end":return t.stop()}},t,null,[[0,37],[7,23,27,35],[28,,30,34]])}))),this.init()},methods:{init:function(){var e=ci(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$store.dispatch("provider/scanner_module/fetch_scan_action_prototypes");case 3:return e.next=5,this.$store.dispatch("provider/scanner_module/fetch_materials");case 5:return e.next=7,this.$store.dispatch("provider/scanner_module/fetch_partitions");case 7:return e.next=9,this.set_current_scan_action_prototype(this.current_scan_action_prototype_identity);case 9:return e.next=11,new Promise(function(e){_.forEach(["is_core_waybill_pieces_mode","is_noty_audio_mode","is_operation_mode","is_speech_mode"],function(e){t.$store.getters["provider/scanner_module/is_can_use_setting"](e)?localStorage.setItem("scanner_"+e,!0):localStorage.setItem("scanner_"+e,!1)}),e()});case 11:return e.next=13,this.set_settings();case 13:return e.next=15,this.set_local_storage_to_store_state(["core_waybill_counters"]);case 15:return e.next=17,this.set_current_setting_group();case 17:return e.next=19,this.cahnge_language_in_store_js_text();case 19:return e.next=21,new Promise(function(e){t.is_initialized=!0,e()});case 21:return e.next=23,new Promise(function(e){window.addEventListener("keydown",t.keydown),e()});case 23:e.next=28;break;case 25:e.prev=25,e.t0=e["catch"](0),console.log(e.t0);case 28:case"end":return e.stop()}},e,this,[[0,25]])}));function t(){return e.apply(this,arguments)}return t}(),keydown:function(){var e=ci(regeneratorRuntime.mark(function e(t){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.is_modal_opened||!this.current_store.is_keydown){e.next=24;break}if(i=new pt.a(t),i.meta||i.ctrl||this.is_input_mode){e.next=24;break}if("keypress"!=i.event.type){e.next=14;break}e.t0=i.key_code,e.next=13===e.t0?7:11;break;case 7:if(!this.current_number){e.next=10;break}return e.next=10,this.$bus.$emit("enqueue");case 10:return e.abrupt("break",12);case 11:this.current_number+=i.value;case 12:e.next=24;break;case 14:e.t1=i.key_code,e.next=8===e.t1?17:13===e.t1?19:23;break;case 17:return this.current_number=this.current_number.slice(0,-1),e.abrupt("break",24);case 19:if(!this.current_number){e.next=22;break}return e.next=22,this.$bus.$emit("enqueue");case 22:return e.abrupt("break",24);case 23:this.current_number+=i.value;case 24:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),submit:function(){var e=ci(regeneratorRuntime.mark(function e(){var t,i,n,s,a,r,o,c=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=!0,i=!1,n=void 0,e.prev=3,s=_.filter(this.current_store.jobs,function(e){return"Pending"==e.status})[Symbol.iterator]();case 5:if(t=(a=s.next()).done){e.next=79;break}return r=a.value,e.prev=7,e.next=10,this.$store.dispatch("provider/scanner_module/perform",r);case 10:return e.next=12,new Promise(function(e){c.play_web_audio("ok"),e()});case 12:e.next=76;break;case 14:e.prev=14,e.t0=e["catch"](7),o="",e.t1=e.t0,e.next="partition_not_found"===e.t1?20:"quick_setting_not_found"===e.t1?24:"core_waybill_not_found"===e.t1?28:"no_input_number"===e.t1?32:"current_scan_action_prototype_identity"===e.t1?36:"failed_to_instantiate_scan_action_prototype"===e.t1?40:"failed_to_update_core_waybill_related_column"===e.t1?44:"failed_to_fetch_core_waybill_statuses"===e.t1?48:"failed_to_create_core_waybill"===e.t1?51:"current_partition_not_set"===e.t1?55:"core_waybill_related_column_is_empty"===e.t1?59:"scan_action_description_is_empty"===e.t1?63:"create_core_waybill"===e.t1?67:71;break;case 20:return this.$store.commit("provider/scanner_module/update_current_job",{status:"Failure"}),o=this.$t("ui.scanner.errors.partition_not_found"),this.play_web_audio("error"),e.abrupt("break",75);case 24:return this.$store.commit("provider/scanner_module/update_current_job",{status:"Failure"}),o=this.$t("ui.scanner.errors.setting_not_found")+": "+this.current_number,this.play_web_audio("error"),e.abrupt("break",75);case 28:return o=this.$t("ui.scanner.errors.core_waybill_not_found"),this.$store.commit("provider/scanner_module/update_current_job",{status:"Failure",errors:[o]}),this.play_web_audio("error"),e.abrupt("break",75);case 32:return this.$store.commit("provider/scanner_module/update_current_job",{status:"Failure"}),o=this.$t("ui.scanner.helps.write_number"),this.play_web_audio("error"),e.abrupt("break",75);case 36:return this.$store.commit("provider/scanner_module/update_current_job",{status:"Failure"}),o=this.$t("ui.scanner.helps.select_scan_action"),this.play_web_audio("error"),e.abrupt("break",75);case 40:return this.$store.commit("provider/scanner_module/update_current_job",{status:"Failure"}),o=this.$t("ui.scanner.errors.failed_to_instantiate_scan_action_prototype"),this.play_web_audio("error"),e.abrupt("break",75);case 44:return this.$store.commit("provider/scanner_module/update_current_job",{status:"Failure"}),o=this.$t("ui.scanner.errors.failed_to_update_core_waybill_related_column")+": "+this.current_number,this.play_web_audio("error"),e.abrupt("break",75);case 48:return o=this.$t("ui.scanner.errors.failed_to_fetch_core_waybill_statuses"),this.play_web_audio("error"),e.abrupt("break",75);case 51:return this.$store.commit("provider/scanner_module/update_current_job",{status:"Failure"}),o="Failed to create CoreWaybill",this.play_web_audio("error"),e.abrupt("break",75);case 55:return this.$store.commit("provider/scanner_module/update_current_job",{status:"Failure"}),o="請選擇號碼區間",this.play_web_audio("error"),e.abrupt("break",75);case 59:return this.$store.commit("provider/scanner_module/update_current_job",{status:"Pending",is_waiting_user_action:!0}),this.is_show_related_columns_alert=!0,this.play_web_audio("alert"),e.abrupt("break",75);case 63:return this.$store.commit("provider/scanner_module/update_current_job",{status:"Pending",is_waiting_user_action:!0}),this.is_show_scan_action_description_alert=!0,this.play_web_audio("alert"),e.abrupt("break",75);case 67:return this.$store.commit("provider/scanner_module/update_current_job",{status:"Pending",is_waiting_user_action:!0}),this.is_show_create_core_waybill_alert=!0,this.play_web_audio("alert"),e.abrupt("break",75);case 71:return this.$store.commit("provider/scanner_module/update_current_job",{status:"Failure"}),o=this.$t("models.attributes.core_waybills.number")+this.current_number+", "+e.t0,this.play_web_audio("error"),e.abrupt("break",75);case 75:o&&this.$noty.error(o,1200);case 76:t=!0,e.next=5;break;case 79:e.next=85;break;case 81:e.prev=81,e.t2=e["catch"](3),i=!0,n=e.t2;case 85:e.prev=85,e.prev=86,t||null==s["return"]||s["return"]();case 88:if(e.prev=88,!i){e.next=91;break}throw n;case 91:return e.finish(88);case 92:return e.finish(85);case 93:this.current_store.settings.is_webcam_mode&&Z.a.snap(function(e){var t=new RestUrl("https://air.formosaas.com/api/v1/:app_id/cloud/:access_token/:identity/bucket/:bucket_identity/upload").parse({app_id:c.$store.state.provider.node.air_service.air_app_id,access_token:c.$store.state.provider.node.air_service.air_access_token,identity:c.$store.state.provider.node.air_service.air_identity,bucket_identity:c.$store.state.provider.node.air_service.air_bucket_identity,air_authorization:c.$store.state.provider.node.air_service.air_authorization},"?authorization="+c.$store.state.provider.node.air_service.air_authorization+"&is_froala=true"),i=new FormData;i.append("file",c.base64_to_blob(e.replace(/^data\:image\/\w+\base64\,/,"")),"webcam.jpeg"),axios.post(t,i).then(function(e){console.log("response: ",e)})["catch"](function(e){})});case 94:case"end":return e.stop()}},e,this,[[3,81,85,93],[7,14],[86,,88,92]])}));function t(){return e.apply(this,arguments)}return t}(),base64_to_blob:function(e){for(var t="image/jpeg",i=1024,n=window.atob(e),s=[],a=0,r=n.length;a<r;a+=i){for(var o=n.slice(a,a+i),c=new Array(o.length),_=0;_<o.length;_++)c[_]=o.charCodeAt(_);var l=new Uint8Array(c);s.push(l)}return new Blob(s,{type:t})},set_settings:function(){return this.current_store.settings={is_scan_mode:this.get_setting("is_scan_mode"),is_speech_mode:this.get_setting("is_speech_mode"),is_batch_mode:this.get_setting("is_batch_mode"),is_operation_mode:this.get_setting("is_operation_mode"),is_noty_audio_mode:this.get_setting("is_noty_audio_mode"),is_scan_action_mode:this.get_setting("is_scan_action_mode"),is_distributed_to_mode:this.get_setting("is_distributed_to_mode"),is_high_performance_mode:this.get_setting("is_high_performance_mode"),is_auto_print_label_mode:this.get_setting("is_auto_print_label_mode"),is_update_corewaybill_mode:this.get_setting("is_update_corewaybill_mode"),is_core_waybill_pieces_mode:this.get_setting("is_core_waybill_pieces_mode"),is_quick_corewaybill_related_columns:this.get_setting("is_quick_corewaybill_related_columns"),core_waybill_template_mode:this.fetch_setting_use_string("core_waybill_template_mode","card"),is_package_mode:this.get_setting("is_package_mode"),is_unpackage_mode:this.get_setting("is_unpackage_mode"),is_core_waybill_creation_mode:this.get_setting("is_core_waybill_creation_mode"),is_webcam_mode:this.get_setting("is_webcam_mode"),pack_need_source_mode:this.get_setting("pack_need_source_mode"),pack_p_m_mode:this.fetch_setting_use_string("pack_p_m_mode"),pack_m_mode:this.fetch_setting_use_string("pack_m_mode")},Promise.resolve()},set_local_storage_to_store_state:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.length&&_.forEach(t,function(t){var i=localStorage.getItem("scanner_"+t);i&&(i=$.parseJSON("["+i+"]"),"jobs"==t&&_.map(i,function(e){(e.is_waiting_user_action||"Processing"==e.status)&&(e.is_waiting_user_action=!1,e.status="Failure")}),e.current_store[t]=i)}),Promise.resolve()},set_current_setting_group:function(){var e=this.fetch_setting_use_string("current_setting_group","search");return this.current_store.current_setting_group=_.find(this.current_store.setting_groups,function(t){return t.barcode==e})||{},Promise.resolve()},alert_failure:function(){var e=ci(regeneratorRuntime.mark(function e(){var t,i=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=i.length>0&&void 0!==i[0]?i[0]:null,this.is_show_related_columns_alert=!1,this.is_show_create_core_waybill_alert=!1,this.is_show_scan_action_description_alert=!1,t&&this.current_store.current_job.errors.push(t),this.current_store.current_job.is_waiting_user_action=!1,this.current_store.current_job.status="Failure",this.play_web_audio("error"),this.$store.dispatch("provider/scanner_module/set_local_storage_job");case 9:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),alert_success:function(){var e=ci(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.is_show_related_columns_alert=!1,this.is_show_create_core_waybill_alert=!1,this.is_show_scan_action_description_alert=!1,this.current_store.current_job.is_waiting_user_action=!1,this.submit();case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),toggle_settings_div:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null==e?this.current_store.is_setting=!this.current_store.is_setting:"boolean"==typeof e&&(this.current_store.is_setting=e)},check_quick_setting_number:function(e){var t=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=!1,a=e.match(this.quick_setting_regexps.group),r=e.match(this.quick_setting_regexps.barcode),o=e.match(this.quick_setting_regexps.mode);if(a)try{var c=a[1],l=_.findLast(this.current_store.setting_groups,function(e){return e.barcode==c});if(!l)throw this.$t("ui.scanner.errors.setting_group_not_found");var u="",d="";n&&this.toggle_settings_div(!1),this.set_current_store_setting_group(c),l.is_scan_action&&(u="####"+c+"####",this.quick_setting_barcode(u.match(this.quick_setting_regexps.barcode))?s=!0:this.$noty.error(this.$t("ui.scanner.errors.setting_not_found")+"： "+c,1200)),l.settings&&_.forEach(l.settings,function(e){d="##"+e+"##",t.quick_setting_mode(d.match(t.quick_setting_regexps.mode))?s=!0:t.$noty.error(t.$t("ui.scanner.errors.setting_not_found")+"： "+e,1200)})}catch(error){this.$noty.error(error)}return r&&(this.quick_setting_barcode(r)?s=!0:this.$noty.error(this.$t("ui.scanner.errors.setting_not_found")+"： "+r,1200)),o&&(this.quick_setting_mode(o)?s=!0:this.$noty.error(this.$t("ui.scanner.errors.setting_not_found")+"： "+o,1200)),s&&i&&(this.$noty.success(this.$t("ui.scanner.success.quick_setting")),this.is_quick_setting_number=s),Promise.resolve()},quick_setting_barcode:function(e){var t=_.find(this.current_store.scan_action_prototypes,function(t){return t.barcode==e[1]||t.barcode==e[2]});return void 0!=t&&(this.current_store.current_scan_action_prototype=t,localStorage.setItem("current_scan_action_prototype_identity",t.identity),this.current_store.current_core_waybill={},!0)},quick_setting_mode:function(e){var t=e[1],i=e[2];return"true"===e[2]&&(i=!0),"false"===e[2]&&(i=!1),void 0!=this.settings[t]&&(this.$store.getters["provider/scanner_module/is_can_use_setting"](t)?(this.current_store.settings[t]=i,localStorage.setItem("scanner_"+t,i)):this.current_store.settings[t]=!1,!0)},set_current_store_setting_group:function(e){this.current_store.current_setting_group=_.find(this.current_store.setting_groups,function(t){return t.barcode==e})},set_current_scan_action_prototype:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=_.find(this.current_store.scan_action_prototypes,function(t){return t.identity==e});void 0!=t&&(this.current_store.current_scan_action_prototype=t,localStorage.setItem("current_scan_action_prototype_identity",t.identity))},get_setting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="scanner_".concat(e),i=localStorage.getItem(t);return null==i?(localStorage.setItem(t,!1),!1):"true"==i},fetch_setting_use_string:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i="scanner_".concat(e),n=localStorage.getItem(i);return null==n?(localStorage.setItem(i,t),t):localStorage.getItem(i)},fetch_current_scan_action_prototype_identity:function(){var e="current_scan_action_prototype_identity",t=localStorage.getItem(e);return null==t||""==t?(localStorage.setItem(e,""),null):localStorage.getItem(e)},play_web_audio:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.settings.is_noty_audio_mode)switch(e){case"ok":case"alert":case"error":this.$bus.$emit("provider_scanner_web_audio","play_sound",e);break;default:this.$bus.$emit("provider_scanner_web_audio","play_sound","error");break}},cahnge_language_in_store_js_text:function(){var e=this;return _.map(this.setting_groups,function(t){t.i18n_key&&(t.name=e.$t(t.i18n_key))}),Promise.resolve()}},computed:{language:function(){return this.$store.state.language},current_store:function(){return this.$store.state.provider.scanner_module},theme:function(){return this.current_store.config.theme},quick_setting_regexps:function(){return this.current_store.quick_setting_regexps},settings:function(){return this.current_store.settings},setting_groups:function(){return this.current_store.setting_groups},current_setting_group:function(){return this.current_store.current_setting_group},core_waybills:function(){return this.current_store.core_waybills},current_core_waybill:function(){return this.current_store.current_core_waybill},error_messages:function(){return this.current_store.error_messages},desc_ordered_jobs:function(){return _.orderBy(this.current_store.jobs,"id","desc")},current_scan_action_prototype:function(){return this.current_store.current_scan_action_prototype}},components:{WebAudio:c["a"],Settings:se,Dashboard:de,CoreWaybill:_t,CreateCoreWaybillAlert:bt,ScanActionDescriptionAlert:Nt,CoreWaybillRelatedColumnsAlert:ri}},li=_i,ui=(n("943c"),Object(h["a"])(li,r,o,!1,null,"08bb6854",null)),di=ui.exports;function pi(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function mi(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){pi(a,n,s,r,o,"next",e)}function o(e){pi(a,n,s,r,o,"throw",e)}r(void 0)})}}var fi={name:"ScannerModal",props:{},data:function(){return{is_mobile_width:!1,console_log_content:"",console_log_theme_path:""}},computed:{current_store:function(){return this.$store.state.provider},style:function(){return this.$store.state.style},service_config:function(){return this.$store.state.provider.service_config},service_name:function(){return this.current_store.node.service_name},scanner_module_store:function(){return this.$store.state.provider.scanner_module}},mounted:function(){this.init()},watch:{is_mobile_width:{immediate:!0,handler:function(e){var t=this;this.$nextTick(function(){var i=t.scanner_module_store.config.theme,n=e?"mobile":"computer";if(i[n]){var s=i[n].background_position?i[n].background_position+" / cover":"0% 0%";t.scanner_module_store.config.theme.background=i.color.background_img?"url(/images/scanner_background/"+i.color.background_img+") "+s+" #1b1c1d":i.color.background}})}}},methods:{init:function(){var e=mi(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.set_is_mobile_width();case 3:return e.next=5,this.set_scanner_theme();case 5:return e.next=7,this.set_scanner_setting();case 7:return e.next=9,this.set_scanner_setting_groups();case 9:return e.next=11,new Promise(function(e){console.log("//=============== \n  Now scanner configs: \n"+t.console_log_content+"\n  About setting file path: config/services/"+t.service_name+"/scanner/ \n  About theme file path: "+t.console_log_theme_path+" \n//=============== \n"),e()});case 11:e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](0),console.log(e.t0);case 16:case"end":return e.stop()}},e,this,[[0,13]])}));function t(){return e.apply(this,arguments)}return t}(),set_is_mobile_width:function(){var e=this;return this.is_mobile_width=this.style.width<=767,$(window).resize(function(){e.is_mobile_width=e.style.width<=767}),Promise.resolve()},set_scanner_theme:function(){var e,t,i,s,a=this;try{var r=n("b102");if(i=_.findLast(r,function(e){return e.identity==a.$store.state.provider.node.identity}),i&&i.theme_file_name?(s=i.theme_file_name,this.console_log_theme_path="components/scanner/provider/themes/node.json"):(s=this.service_config.scanner_theme,this.console_log_theme_path="config/services/"+this.service_name+"/config.json"),!s)throw"Scanner theme file not find";e=s+".json",t=n("bab3")("./"+e),i=t}catch(u){e="default.json",i=n("8126"),this.console_log_theme_path="components/scanner/provider/themes/default.json",console.log(u)}finally{this.scanner_module_store.config.theme=i,this.console_log_content+="    theme: "+e+"\n"}try{var o=this.scanner_module_store.config.theme,c=this.is_mobile_width?"mobile":"computer";if(o[c]){var l=o[c].background_position?o[c].background_position+" / cover":"0% 0%";this.scanner_module_store.config.theme.background=o.color.background_img?"url(/images/scanner_background/"+o.color.background_img+") "+l+" #1b1c1d":o.color.background}}catch(u){console.log(u)}return Promise.resolve()},set_scanner_setting:function(){var e,t,i;try{if(!this.service_name)throw"Scanner settings file not find";e=this.service_name+"/scanner/settings.json",t=n("ccaa")("./"+e),i=t}catch(s){e="default/scanner/settings.json",i=n("ccaa")("./"+e)}finally{this.scanner_module_store.config.settings=i.options,this.console_log_content+="    settings: "+e+"\n"}return Promise.resolve()},set_scanner_setting_groups:function(){try{if(!this.service_name)throw"Scanner setting groups file not find";var e=this.service_name+"/scanner/setting_groups.json",t=n("ccaa")("./"+e);this.scanner_module_store.setting_groups=t}catch(i){e="default/scanner/setting_groups.json",this.scanner_module_store.setting_groups=n("ccaa")("./"+e),console.log(i)}finally{this.console_log_content+="    setting_groups: "+e+"\n"}return Promise.resolve()}},components:{ScannerMain:di}},hi=fi,vi=(n("af46"),Object(h["a"])(hi,s,a,!1,null,"3c4aad54",null));i["a"]=vi.exports},c009:function(e,t,i){"use strict";var n=i("f59e"),s=i.n(n);s.a},c08a:function(e){e.exports={manager:["provider_index","scan","status_prototypes","stations","provider_partitions","provider_uploader","materials","core_waybills","provider_operations","permission_groups","roles","staffs","user_logs","scan_action_prototypes","provider_node","provider_customers","scanner"],operator:["provider_operations","provider_uploader","core_waybills","scanner"],driver:["assets","provider_operations","scanner"],staff:["status_prototypes","stations","provider_partitions","customer_nodes","provider_uploader","materials","core_waybills","provider_operations","staffs","user_logs","scan_action_prototypes","scanner"],default:[],exception:[]}},c0d3:function(e,t,i){"use strict";var n=i("8943"),s=i.n(n);s.a},c197:function(e,t,i){"use strict";var n=i("cf84"),s=i.n(n);s.a},c265:function(e){e.exports={name:"dark02",color:{background_img:"blur02.jpg",background_position:"0% 0%",background:"linear-gradient(134deg, rgba(0, 0, 0, 0.9)0%, rgba(142, 162, 232, 1)100%)",font:"white",warning:"white",show_setting_icon:"orange",setting_group_icon:"white"},computer:{background_position:"0% 50%"},mobile:{background_position:"0% 0%"}}},c278:function(e,t,i){},c2fb:function(e,t,i){"use strict";var n=i("d11b"),s=i.n(n);s.a},c348:function(e,t,i){},c3af:function(e,t,i){"use strict";var n=i("e403"),s=i.n(n);s.a},c429:function(e,t,i){"use strict";var n=i("ea2c"),s=i.n(n);s.a},c444:function(e,t,i){"use strict";var n=i("4a44"),s=i.n(n);s.a},c498:function(e,t,i){},c4a4:function(e,t,i){"use strict";var n=i("9d51"),s=i.n(n);s.a},c5e0:function(e,t,i){"use strict";var n=i("b72f"),s=i.n(n);s.a},c653:function(e,t,i){"use strict";var n=i("249f"),s=i.n(n);s.a},c68f:function(e,t,i){"use strict";var n=i("7db1"),s=i.n(n);s.a},c7bf:function(e,t,i){},c807:function(e,t,i){},c8d3:function(e,t,i){},c959:function(e,t,i){"use strict";var n=i("16f9"),s=i.n(n);s.a},c988:function(e,t,i){},c9e1:function(e){e.exports={name:"dark03",color:{background_img:"blur02.jpg",background_position:"0% 0%",background:"linear-gradient(134deg, rgba(0, 0, 0, 0.9)0%, rgba(142, 162, 232, 1)100%)",font:"white",warning:"white",show_setting_icon:"orange",setting_group_icon:"white"},computer:{background_position:"0% 100%"},mobile:{background_position:"0% 0%"}}},ca9a:function(e,t,i){"use strict";var n=i("f36f"),s=i.n(n);s.a},cadb:function(e,t,i){"use strict";var n=i("2b2c"),s=i.n(n);s.a},caff:function(e,t,i){var n={"./main":"1405","./main.vue":"1405","./modal":"8115","./modal.vue":"8115","./setting_groups":"447f","./setting_groups.json":"447f","./settings":"a487","./settings.json":"a487","./store":"1ccc","./store.js":"1ccc"};function s(e){var t=a(e);return i(t)}function a(e){var t=n[e];if(!(t+1)){var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}return t}s.keys=function(){return Object.keys(n)},s.resolve=a,e.exports=s,s.id="caff"},cc57:function(e){e.exports={name:"dark04",color:{background_img:"blur01.jpg",background_position:"0% 0%",background:"linear-gradient(134deg, rgba(0, 0, 0, 0.9)0%, rgba(142, 162, 232, 1)100%)",font:"white",warning:"white",show_setting_icon:"orange",setting_group_icon:"white"},computer:{background_position:"0% 0%"},mobile:{background_position:"0% 0%"}}},cc6a:function(e,t,i){},ccaa:function(e,t,i){var n={"./axon/config":"e0ea","./axon/config.json":"e0ea","./axon/scanner/setting_groups":"9249","./axon/scanner/setting_groups.json":"9249","./axon/scanner/settings":"f66a","./axon/scanner/settings.json":"f66a","./axon/user_menu":"0515","./axon/user_menu.json":"0515","./axon_lite/config":"f28c","./axon_lite/config.json":"f28c","./axon_lite/scanner/setting_groups":"cdaf","./axon_lite/scanner/setting_groups.json":"cdaf","./axon_lite/scanner/settings":"d180","./axon_lite/scanner/settings.json":"d180","./axon_lite/user_menu":"444e","./axon_lite/user_menu.json":"444e","./axon_premium/config":"ebca","./axon_premium/config.json":"ebca","./axon_premium/scanner/setting_groups":"f2d5","./axon_premium/scanner/setting_groups.json":"f2d5","./axon_premium/scanner/settings":"ac92","./axon_premium/scanner/settings.json":"ac92","./axon_premium/user_menu":"c08a","./axon_premium/user_menu.json":"c08a","./default/config":"5d5a","./default/config.json":"5d5a","./default/scanner/setting_groups":"de76","./default/scanner/setting_groups.json":"de76","./default/scanner/settings":"b107","./default/scanner/settings.json":"b107","./default/user_menu":"36aa","./default/user_menu.json":"36aa","./neuron/config":"ebb8","./neuron/config.json":"ebb8","./neuron/scanner/setting_groups":"7d5b","./neuron/scanner/setting_groups.json":"7d5b","./neuron/scanner/settings":"db1b","./neuron/scanner/settings.json":"db1b","./neuron/user_menu":"5602","./neuron/user_menu.json":"5602","./neuron_premium/config":"f347","./neuron_premium/config.json":"f347","./neuron_premium/scanner/setting_groups":"158b","./neuron_premium/scanner/setting_groups.json":"158b","./neuron_premium/scanner/settings":"749d","./neuron_premium/scanner/settings.json":"749d","./neuron_premium/user_menu":"12e0","./neuron_premium/user_menu.json":"12e0","./nucleus/config":"e128","./nucleus/config.json":"e128","./nucleus/scanner/setting_groups":"60bb","./nucleus/scanner/setting_groups.json":"60bb","./nucleus/scanner/settings":"6ebe","./nucleus/scanner/settings.json":"6ebe","./nucleus/user_menu":"532d","./nucleus/user_menu.json":"532d"};function s(e){var t=a(e);return i(t)}function a(e){var t=n[e];if(!(t+1)){var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}return t}s.keys=function(){return Object.keys(n)},s.resolve=a,e.exports=s,s.id="ccaa"},cd12:function(e,t,i){"use strict";var n=i("642c"),s=i.n(n);s.a},cd33:function(e,t,i){"use strict";var n=i("f8fd"),s=i.n(n);s.a},cd8d:function(e,t,i){"use strict";var n=i("f4a9"),s=i.n(n);s.a},cdaf:function(e){e.exports=[{_comment:"axon預設檔案",name:"運單起始貨況",i18n_key:"ui.scanner.setting_groups.LB00",barcode:"LB00",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA01",is_scan_action:!0,is_hide:!0,color:"black",settings:[]},{name:"1.放行",i18n_key:"ui.scanner.setting_groups.LB01",barcode:"LB01",primary_icon_classes:"clipboard check icon",secondary_icon_classes:null,icon_file_name:"LA01",is_scan_action:!0,is_hide:!1,color:"#3a8df5",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_package_mode_false","is_auto_print_label_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"2.點交",i18n_key:"ui.scanner.setting_groups.LB02",barcode:"LB02",primary_icon_classes:"exchange icon",secondary_icon_classes:"right bottom corner green check icon",icon_file_name:"LA02",is_scan_action:!0,is_hide:!1,color:"orange",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_package_mode_false","is_auto_print_label_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"3.異常件",i18n_key:"ui.scanner.setting_groups.LA06",barcode:"LA06",primary_icon_classes:"exclamation triangle icon",secondary_icon_classes:"right bottom corner red close icon",icon_file_name:"LA06",is_scan_action:!0,is_hide:!1,color:"#CB4042",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"3.異常件排除",i18n_key:"ui.scanner.setting_groups.LA07",barcode:"LA07",primary_icon_classes:"exclamation triangle icon",secondary_icon_classes:"right bottom corner green check icon",icon_file_name:"LA07",is_scan_action:!0,is_hide:!1,color:"#51A8DD",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"鎖定",i18n_key:"ui.scanner.setting_groups.LA11",barcode:"LA11",primary_icon_classes:"lock icon",secondary_icon_classes:null,icon_file_name:"LA11",is_scan_action:!0,is_hide:!1,color:"#CB4042",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_scan_action_mode_true","is_distributed_to_mode_false","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"解除鎖定",i18n_key:"ui.scanner.setting_groups.LA12",barcode:"LA12",primary_icon_classes:"lock open icon",secondary_icon_classes:null,icon_file_name:"LA12",is_scan_action:!0,is_hide:!1,color:"#51A8DD",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_scan_action_mode_true","is_distributed_to_mode_false","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"結案",i18n_key:"ui.scanner.setting_groups.LA13",barcode:"LA13",primary_icon_classes:"check icon",secondary_icon_classes:null,icon_file_name:"LA13",is_scan_action:!0,is_hide:!1,color:"#86C166",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_scan_action_mode_false","is_package_mode_false","is_unpackage_mode_false","is_distributed_to_mode_false","pack_need_source_mode_false","is_update_corewaybill_mode_false","core_waybill_template_mode_card"]},{name:"查詢運單",i18n_key:"ui.scanner.setting_groups.search",barcode:"search",primary_icon_classes:"search icon",secondary_icon_classes:null,icon_file_name:"search",is_scan_action:!1,is_hide:!1,color:"#227D51",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_scan_action_mode_false","is_package_mode_false","is_unpackage_mode_false","is_distributed_to_mode_false","pack_need_source_mode_false","is_update_corewaybill_mode_false","core_waybill_template_mode_card"]}]},cdde:function(e,t,i){},cde8:function(e,t,i){"use strict";var n=i("850d"),s=i.n(n);s.a},cdf3:function(e,t,i){"use strict";var n=i("fa04"),s=i.n(n);s.a},ceba:function(e,t,i){},ceef:function(e){e.exports={name:"dark04",color:{background_img:"blur01.jpg",background_position:"0% 0%",background:"linear-gradient(134deg, rgba(0, 0, 0, 0.9)0%, rgba(142, 162, 232, 1)100%)",font:"white",warning:"white",show_setting_icon:"orange",setting_group_icon:"white"},computer:{background_position:"0% 0%"},mobile:{background_position:"0% 0%"}}},cf37:function(e,t,i){"use strict";var n=i("9ca6"),s=i.n(n);s.a},cf84:function(e,t,i){},cfb6:function(e,t,i){},d11b:function(e,t,i){},d180:function(e){e.exports={_comment:"此檔案為Scanner 設定 檔案",name:"axon",options:["is_scan_mode","is_scan_action_mode","is_batch_mode","is_operation_mode","is_core_waybill_pieces_mode","is_update_corewaybill_mode","is_auto_print_label_mode","is_noty_audio_mode","is_speech_mode","is_quick_corewaybill_related_columns","core_waybill_template_mode"]}},d1f7:function(e,t,i){"use strict";var n=i("59c9"),s=i.n(n);s.a},d200:function(e,t,i){},d2ac:function(e,t,i){},d360:function(e,t,i){},d381:function(e,t,i){"use strict";var n=i("34d8"),s=i.n(n);s.a},d3ef:function(e,t,i){},d46d:function(e,t,i){},d483:function(e,t,i){},d561:function(e,t,i){"use strict";var n=i("61ad"),s=i.n(n);s.a},d5b1:function(e,t,i){},d605:function(e,t,i){},d656:function(e,t,i){"use strict";var n=i("fa28"),s=i.n(n);s.a},d680:function(e,t,i){"use strict";var n=i("5871"),s=i.n(n);s.a},d6a3:function(e,t,i){},d6fc:function(e,t,i){},d792:function(e,t,i){},d86a:function(e,t,i){"use strict";var n=i("b10c"),s=i.n(n);s.a},d8b6:function(e){e.exports={models:{_comment:"關聯表名稱不在此上面",appraisals:"Appraisals",assets:"Assets",comments:"Comments",contracts:"Contracts",conversion_attributes:"Conversion attributes",converters:"Converters",core_waybills:"Core waybills",customers:"Customers",quotations:"Quotations",distributions:"Distributions",distribution_conditions:"Distribution conditions",driver_commissions:"Driver_commissions",driver_commission_policies:"Driver commission policies",driver_commission_reports:"Driver commission reports",logs:"Logs",materials:"Materials",nodes:"Nodes",operations:"Operations",partitions:"Partitions",permissions:"Permissions",permission_groups:"Permission groups",roles:"Roles",staffs:"Staffs",stations:"Stations",scan_actions:"Scan actions",status_prototypes:"Status prototypes",scan_action_prototypes:"Scan action prototypes",attributes:{assets:{barcode:"Barcode",number:"Number",category:"Category",note:"Note",node_identity:"Node"},converters:{name:"Name",number:"Number",provider_node_identity:"Provider_node_identity",customer_node_identity:"Ccustomer_node_identity",customer_identity:"customer_identity",carrier_class:"Carrier category",proxy_contract_identity:"Proxy_contract_identity",third_party_api_data:"Third_party_api_data",note:"Note"},customer_contracts:{name:"Name",number:"Number",carrier_class:"Carrier class",proxy_contract:"Proxy contract",third_party_api_data:"Third party api data",note:"Note"},customers:{username:"Username",password:"Password",password_confirmation:"Password confirmation",authentication_token:"API Token",company_name:"Company name",company_short_name:"Company short name",company_en_name:"Company English name",email:"E-mail",phone:"Phone",fax:"Fax",website_url:"Website url",default_sender_zip_code:"Sender ZIP code",default_sender_company_name:"Sender company name",default_sender_address:"Sender address",default_sender_name:"Sender name",default_sender_phone:"Sender phone",default_sender_email:"Sender email",default_sender_fax:"Sender fax",default_sender_url:"Sender url",default_consignee_zip_code:"Consignee ZIP code",default_consignee_company_name:"Consignee company name",default_consignee_address:"Consignee address",default_consignee_name:"Consignee name",default_consignee_phone:"Consignee phone",default_consignee_email:"Consignee email",default_consignee_fax:"Consignee fax",can_use_associated_partitions:"Can use associated partitions",is_banned:"Is banned"},conditions:{core_waybill_identity:"Waybill",scan_action_prototype_identity:"SAP",condition_type:"condition type",can_use:"can use",current_use:"current use",already_use:"already use",can_release:"can release",current_release:"current release",already_release:"already release",can_handover:"can handover",current_handover:"current handover",already_handover:"already handover",can_collect:"can collect",current_collect:"current collect",already_collect:"already collect",can_check:"can check",current_check:"current check",already_check:"already check",can_ship:"can ship",current_ship:"current ship",already_ship:"already ship",can_back:"can back",current_back:"current back",already_back:"already back",can_delivered:"can delivered",current_delivered:"current delivered",already_delivered:"already delivered",can_transfer:"can transfer",current_transfer:"current transfer",already_transfer:"already transfer",can_intermodal:"can intermodal",current_intermodal:"current intermodal",already_intermodal:"already intermodal",can_exception:"can exception",current_exception:"current exception",already_exception:"already exception",can_lock:"can lock",current_lock:"current lock",already_lock:"already lock",can_done:"can done",current_done:"current done",already_done:"already done",can_warehouse_in:"can into warehouse",current_warehouse_in:"current into warehouse",already_warehouse_in:"already into warehouse",can_warehouse_out:"can out warehouse",current_warehouse_out:"current out warehouse",already_warehouse_out:"already out warehouse",can_ready_to_ship:"can ready to ship",current_ready_to_ship:"current ready to ship",already_ready_to_ship:"already ready to ship"},distributions:{priority:"Priority",name:"Name",strategy:"Strategy",station:"Station",station_identity:"Station",strategy_value:"Strategy value",material:"Material",material_identity:"Material",is_activated:"Is activated"},driver_commissions:{pick_up_driver:"Pick up driver",pick_up_core_waybill:"Pick up core_waybill",delivery_core_waybill:"Delivery core_waybill",delivery_driver:"Delivery driver",driver_commission_report:"Driver commission report",driver_commission_policy:"Driver commission policy",amount:"Amount",polarity:"Polarity",created_at:"Created time",is_deleted:"Is deleted"},driver_commission_policies:{pick_up_first_weight:"Pick up first weight(KG)",pick_up_first_price:"Pick up first price",pick_up_follow_up_weight:"Pick up follow up weight(KG)",pick_up_follow_up_price:"Pick up follow up price",delivery_first_weight:"Delivery first weight(KG)",delivery_first_price:"Delivery first price",delivery_follow_up_weight:"Delivery follow up weight(KG)",delivery_follow_up_price:"Delivery follow up price",house_pick_up_first_weight:"House pick up first_weight(KG)",house_pick_up_first_price:"House pick up first price",house_pick_up_follow_up_weight:"House pick up follow up weight(KG)",house_pick_up_follow_up_price:"House pick up follow up price",house_delivery_first_weight:"House delivery first weight(KG)",house_delivery_first_price:"House delivery first price",house_delivery_follow_up_weight:"House delivery follow up weight(KG)",house_delivery_follow_up_price:"House delivery follow up price",is_activated:"Is activated"},driver_commission_reports:{staff:"Staff",total_amount:"Total amount",time:"Time",begin_at:"Begin",end_at:"End",created_at:"Created time"},materials:{name:"Name",en_name:"English name",core_waybill_level:"Waybill level",class_name:"Class name",label_type:"Label type",needs_label:"Needs label"},nodes:{is_sandbox_mode:" Sandbox mode",client_id:"Magnet APP ID",client_secret:"Magnet APP ID",access_token:"Magnet AccessToken",refresh_token:"Magnet Authorization",tax:"Tax",carrier_class:"carrier::class",host:"Host",service_name:"Service",code:"Code",company_name:"Company name",company_short_name:"Company short name",company_en_name:"Company English name",email:"E-mail",phone:"Phone",fax:"Fax",website_url:"Website url",customer_service_hotline:"Customer service hotline"},operations:{number:"Number",file:"File",file_name:"File name",file_url:"File url",original_file_name:"File name",station:"Station",staffs:"Staffs",customer:"Customer",customer_identity:"Customer",your_note:"Your note",customer_note:"Customer note",provider_note:"Note",system_note:"System note",cancel_reason:"Cancel reason",instantiate_note:"Instantiate note",is_canceled:"Is canceled",is_operable:"Is operable",is_operated:"Is operated",is_ready:"Is ready",status:"Status",is_done:"Is done",is_done_true:"Done",is_done_false:"Undone",created_at:"Created"},partitions:{name:"Name",numbers:"Numbers",numbers_from:"Numbers from",numbers_to:"Numbers to",numbers_rule:"Numbers rule",parent:"Parent",customer:"Customer",contracts:"Contracts",customer_identity:"Customer",material:"Material",material_identity:"Material",partition_type:"Partition type",label_type:"Label type",note:"Note",regex:"Regex"},permissions:{name:"Name",uri:"uri",http_method:"http_method"},permission_groups:{name:"Name"},roles:{name:"Name"},scan_action_prototypes:{name:"Action name",barcode:"Barcode",required_condition:"Required condition",before_actions:"Before_actions",is_default:"Is default",description_required_scope:"Description required scope",description_options:"Description options"},staffs:{username:"Username",password:"Password",password_confirmation:"Password confirmation",name:"Name",phone:"Phone",email:"E-mail",mobile:"Mobile",fax:"Fax",tax:"Tax",country:"Country",state:"State",city:"City",district:"District",address:"Address",theme_name:"Theme",note:"Note",is_banned:"Is banned",role_identity:"Role",role:"Role",station_identity:"Station",station:"Station"},stations:{name:"Name",code:"Code",address:"Address",phone:"Phone",position:"Position",note:"Note"},status_prototypes:{name:"Name",material:"Material",material_class_name:"Material",description:"Description",non_polarity:"Non polarity",positive_polarity:"Positive polarity",negative_polarity:"Negative polarity"},user_logs:{title:"Title",description:"Description",modified_attributes:"Modified attributes",level:"Level",action_type:"Action type",is_undid:"Is undid",undid_at:"Undid at",node_identity:"Node identity",operator_identity:"Operator(ID)",loggable_identity:"Loggable",loggable_type:"Loggable type",created_at:"Date",updated_at:"updated time",identity:"ID"},core_waybills:{number:"Number",operation_number:"Operation number",original_number:"Original number",tracking_number:"Tracking number",storage_number:"Storage number",warehouse_identity:"Warehouse number",original_core_waybill_identity:"original_core_waybill identity",tracking_core_waybill_identity:"tracking_core_waybill identity",label_type:"Label type",sender:"SENDER",sender_company_name:"Sender company name",sender_zip_code:"Sender zip code",sender_address:"Sender address",sender_name:"Sender name",sender_phone:"Sender phone",sender_email:"Sender email",sender_fax:"Sender fax",sender_url:"Sender url",consignee:"CONSIGNEE",consignee_company_name:"Consignee company name",consignee_zip_code:"Consignee zip code",consignee_address:"Consignee address",consignee_name:"Consignee name",consignee_phone:"Consignee phone",consignee_email:"Consignee email",consignee_fax:"Consignee fax",flight_number:"Flight number",cvs_store_number:"Cvs store number",cvs_store_name:"Cvs store name",cvs_store_address:"Cvs store address",cvs_store_phone:"Cvs store phone",station_code:"Area code",temperature:"Temperature",payment_type:"Payment type",receipt_file:"Receipt file",receipt_file_url:"Receipt file url",current_status:"Current status",goods_name:"Goods name",note:"Note",note_2:"Note2",note_3:"Note3",declared_value:"Declared value",measurement:"Measurement",weight_in_kilo:"Weight in kilo(KG)",serial:"Serial",is_used:"Is used",node_identity:"Node identity",station_identity:"Station identity",operation_identity:"Operation identity",partition_identity:"Partition identity",material_identity:"Material identity",source_core_waybill_identity:"Source_core_waybill identity",parent_core_waybill_identity:"Parent_core_waybill identity",consignee_address_accuracy:"Consignee address_accuracy",consignee_formatted_address:"Consignee formatted address",consignee_address_components:"Consignee address components",is_done:"Is done",is_collected:"Trade charges, back the company",no_paid:"No paid",paid:"Paid",collection:"Collection",collection_fee:"Collection_fee",simplified_declaration_form_fee:"Simplified_declaration_form_fee",declaration_form_fee:"Declaration_form_fee",declaration_form_extra_fee:"Declaration_form_extra_fee",tax:"Tax",price:"Price",insurance:"Insurance",material_fee:"Material_fee",consignee_tax_point:"Consignee_tax_point",sender_tax_point:"Sender_tax_point",warehouse_fee:"Warehouse_fee",fuel_surcharge:"Fuel_surcharge",value_added_service_fee:"Value_added_service_fee",overlength_fee:"Overlength_fee",overweight_fee:"Overweight_fee",extra_fee:"Extra_fee",shipping_date:"Shipping_date",shipping_period:"Shipping period",shipping_note:"Shipping note",latest_status:"Latest status",created_at:"Created time",updated_at:"Updated at",identity:"Identity",is_deleted:"Is deleted",deleted_at:"Deleted at"}}},ui:{general:{cannot:"Cannot",cannot_use:"Cannot use",clear:"Clear",select:"Select",please_select:"Please select",yes:"Yes",no:"No",no_data:"No data",date:"Date",day:"Day",days:"Days",hour:"Hour",hours:"Hours",minute:"Minute",minutes:"Minutes",second:"Second",operate:"Operate",hot_key:"Hot key",copy:"Copy",note:"Note",simple:"Simple",advanced:"Advanced",detail:"Detail",show:"Show",edit:"Edit",create:"Create",creating:"Creating",search:"Search",searching:"Searching",search__key:"Search {key}...",submit:"Submit",result:"Result",verify:"Verify",verifying:"Verifying",verify_staff:"Verify staff",update:"Update",updating:"Updating",delete:"Delete",deleteing:"Deleteing",ready:"Ready",readying:"Readying",handle:"Handle",handling:"Handling",cancel:"Cancel",canceling:"Canceling",print:"Print",printing:"Printing",upload:"Upload",uploading:"Uploading",fetch:"Fetch",success:"Success",failure:"Failure",network_abnormality:"Network status",server_offline:"Server is busy. Please try again later.",error:"Error",back:"Back",initialize:"Initialize.",initializing:"Initializing.",initialize_complete:"Initialize complete.",created_at:"Created time",updated_at:"Updated time",deleted_at:"Deleted time",folder:"Folder",file:"File",all:"All"},page_titles:{index:"Index",current_page:"Current page",provider_index:"Home",station_index:"Home",customer_index:"Home",provider_pages:"Provider",customer_pages:"Customer",uploader:"Uploader",station_uploader:"Station uploader",provider_uploader:"Provider uploader",customer_uploader:"Customer uploader",operation_show:"Operation",operation_print_list:"Operation print list",operation_print_label:"Operation print label",assets:"Assets",assets_index:"Assets Index",new_asset:"New asset",edit_asset:"Edit asset",print_asset:"Print asset",quote_policies:"Quote policies",quote_policy:"Quote policy",provider_customers:"Customers",new_provider_customer:"New customer",provider_customer:"Customer",station_customers:"Station customers",new_station_customer:"New station customer",station_customer:"Station customer",provider_contracts:"Provider contracts",new_provider_contract:"New contract",provider_contract:"Provider contract",new_provider_quotation:"New quotation",provider_quotation:"Provider quotation",station_contracts:"Station contracts",new_station_contract:"New station contract",station_contract:"Station contract",new_station_quotation:"New station quotation",station_quotation:"Station quotation",scanner:"Scanner",provider_operations:"Operations",edit_provider_operation:"Edit operation",driver_commissions:"Driver commissions",materials:"Materials",new_material:"New material",edit_material:"Edit material",provider_partitions:"Partitions",provider_associated_partitions:"Provider associated partitions",customer_partitions:"Customer partitions",new_provider_partition:"New partition",edit_provider_partition:"Edit partition",station_partitions:"Station partitions",station_associated_partitions:"Station associated partitions",new_station_partition:"New station partition",edit_station_partition:"Edit station partition",permissions:"Permissions",permission_groups:"Permission groups",new_permission_group:"New permission group",edit_permission_group:"Edit permission group",customer_core_waybills:"Customer waybills",customer_core_waybills_operation:"Customer waybills operation",customer_show_core_waybill_operation:"Customer Waybill operation",customer_show_core_waybill:"Customer Waybill",core_waybills:"Waybills",core_waybills_operation:"Waybills operation",edit_core_waybill_operation:"Edit waybill operation",edit_core_waybill:"Edit waybill",new_core_waybill:"New waybill",roles:"Roles",new_role:"New role",edit_role:"Edit role",settings:"Settings",staffs:"Staffs",new_staff:"New staff",staff:"Staff",edit_staff:"Edit staff",stations:"Stations",new_station:"New station",edit_station:"Edit station",status_prototypes:"Status prototypes",new_status_prototype:"New status prototype",status_prototype:"Status prototype",edit_status_prototype:"Edit status prototype",pack:"Pack",unpack:"Unpack",page_404:"404 Found",operate:"Operate",appraisals:"Appraisals",edit_appraisal:"Edit appraisal",new_appraisal:"New appraisal",user_logs:"User logs",user_log:"User log",driver_commission_policies:"Driver commission policies",new_driver_commission_policy:"New driver commission policy",edit_driver_commission_policy:"Edit driver commission policy",driver_commission_reports:"Driver commission reports",new_driver_commission_report:"New driver commission report",driver_commission_report:"Driver commission report",scan_action_prototypes:"Scan action prototypes",scan_action_prototype:"Scan action prototype",new_scan_action_prototype:"New scan action prototype",edit_scan_action_prototype:"Edit scan action prototype",provider_node:"Setting",customer_operations:"Customer operations",show_customer_operation:"Customer operation",new_provider_operation:"New operation",provider_distributions:"Distributions",new_provider_distribution:"New distribution",edit_provider_distribution:"Edit distribution",permission_denied:"Permission denied"},links:{menu:{provider_index:"Index",scan:"Scan",scan_action_prototypes:"Scan action prototypes",status_prototypes:"Status prototypes",numbers:"Numbers",provider_partitions:"Partitions",station_partitions:"Partitions",assets:"Assets",stations:"Stations",materials:"Materials",uploader:"Uploader",provider_uploader:"Uploader",station_uploader:"Uploader",customer_uploader:"Uploader",permission_groups:"Permission groups",core_waybills:"Waybills",provider_operations:"Operations",station_operations:"Operations",staffs:"Staffs",roles:"Roles",users:"Users",routes:"Routes",processed_files:"Processed files",operation_managers:"Operation managers",user_logs:"User logs",import_files:"API Openfile",intelligent:"intelligent",commission_policies:"Commission policies",commission_reports:"Commission reports",driver_commission_policies:"Driver commission policies",driver_commission_reports:"Driver commission reports",driver_commissions:"Driver commissions",provider_node:"Setting",provider_distributions:"Distributions",provider_customers:"Customers",station_customers:"Station customers"},top_menu:{my_receipts:"My receipts",print_check_summary:"Print check summary",scanner:"Scanner",language:"Language",notice:"Notice",no_station:"Station undetected",overtime_note:"Timeout reminder",full_logout:"Full logout",full_logout_help:"Clear setting log.",logout:"Logout"}},theme_names:{staff:"Staff",driver:"Driver",manager:"Manager",operator:"Operator",exception:"Exception",default:"Default"},status_scopes:{operator:"Operator",forwarder:"Forwarder",public:"Public",mark:"Mark",condition:"Condition",system:"System",unknown:"Unknown"},validator:{is_required:" is required",greater_than:" must be greater than ",if:"If ",is:" is ",then:" then "},notifications:{help:{this_page_is_out_of_date_please_click_here_to_refresh:"This page is out of date, please click here to refresh.",please_clicked_initialize_again:"Please clicked, initialize again."},success:{fetch:"Fetch success.",update:"Update success.",create:"Create success.",delete:"Delete success.",verify:"Verify success.",upload:"Upload success.",__name:"{name} success.",fetch__name:"Fetch {name} success.",update__name:"Update {name} success.",create__name:"Create {name} success.",delete__name:"Delete {name} success.",verify__name:"Verify {name} success.",upload__name:"Upload {name} success.",copy__name:"Copy {name} success."},warning:{are_you_sure_to_delete_it:"Are you sure to delete it?",are_you_sure_to_cancel_it:"Are you sure to cancel it?"},error:{find:"Find failure {reason}.",fetch:"Fetch failure {reason}.",update:"Update failure {reason}.",create:"Create failure {reason}.",delete:"Delete failure {reason}.",verify:"Verify failure {reason}.",upload:"Upload failure {reason}.",copy:"Copy failure {reason}.",__name:"{name} failure.",find__name:"Find {name} failure {reason}.",fetch__name:"Fetch {name} failure {reason}.",update__name:"Update {name} failure {reason}.",create__name:"Create {name} failure {reason}.",delete__name:"Delete {name} failure {reason}.",verify__name:"Verify {name} failure {reason}.",upload__name:"Upload {name} failure {reason}.",copy__name:"Copy {name} failure {reason}.",no_data:"No data",please_handle_errors:"Please handle errors.",exception_error_please_contact_the_system_supplier:"Exception error, Please contact the system supplier.",please_check_to_write_in_the_required_fields_mark:"Please check to write in the required fields (*mark)."}},scanner:{settings:{is_scan_mode:{true:"Scan mode | Scan",false:"Write mode | Write"},is_scan_action_mode:{true:"Work mode | Work",false:"View mode | View"},is_batch_mode:{true:"Batch mode | Batch | Warning！ Batch mode is activated, numbers need comma(,) separation, and not remind required field.",false:"No batch mode | No batch"},is_operation_mode:{true:"Operation mode | Operation",false:"No operation mode | No operation"},is_core_waybill_pieces_mode:{true:"Counter mode | Counter mode",false:"No counter mode | No counter mode"},is_core_waybill_creation_mode:{true:"Create waybill | Create",false:"Not create waybill | Not create"},is_webcam_mode:{true:"Lens | Lens",false:"Turn off lens | Turn off lens"},is_update_corewaybill_mode:{true:"Update corewaybill | Update waybill",false:"View corewaybill | View waybill"},is_auto_print_label_mode:{true:"Auto print label mode | Print label",false:"No print label | No print label"},is_distributed_to_mode:{true:"Distributed to mode | Distributed",false:"No distributed | No distributed"},is_noty_audio_mode:{true:"Noty audio mode | Noty audio",false:"No noty audio | No noty audio"},is_speech_mode:{true:"Speech mode | Speech",false:"Don't Speech | No speech"},is_quick_corewaybill_related_columns:{true:"Quick corewaybill related columns | Quick data",false:"No quick related columns | No quick data"},is_package_mode:{true:"Package mode | Package | Packaging",false:"No package"},is_unpackage_mode:{true:"Unpackage mode | Unpackage | Unpackaging",false:"No unpackage"},pack_need_source_mode:{short_name:"need source data",true:"Use",false:"No use"},core_waybill_template_mode:{short_name:"View waybill style",min_card:"Minimal View| Minimal",card:"Basic View | Basic",detail:"Detail View | Detail"}},setting_groups:{LB00:"Waybill init",LB01:"1.Release",LB02:"2.Point to pay",LB06:"3.Unusual",LB07:"3.Exclusion",LB11:"Lock",LB12:"Unlock",LA00:"waybill init",LA01:"1.Release",LA02:"2.In station",package:"Package",LA03:"3.Dispatch",LA10:"3.Joint transport",LA09:"3.Collecting transfer",LA05:"4.Back station",LA04:"4.Reached",LA06:"4.Unusual",LA07:"4.Exclusion",LA08:"Sender returned",LA11:"Lock",LA12:"Unlock",LA13:"losed",LA21:"Entering warehouse",LA22:"Shelf",LA23:"Out of position",LA24:"Unidentified goods",unpackage:"Unpackage",distributed_to:"Distributed",pack_house_waybill:"袋包运, 装袋作业",pack_waybill_goods:"运包子, 一票多件",search:"Search",print:"Print"},menus:{settings:"Settings",setting_group:"Setting group",operation:"Operation",package:"Package",core_waybill:"Waybill"},jobs:{job:"Job",clear_jobs:"Clear jobs",waiting_user_action:"Waiting user action",idle:"Idle",processing:"Processing",success:"Success",failure:"Failure",number:"Number",no_add_status:"No add status",no_error:"No error",scope:{original_number:"Original number",new:"New"}},package:{packing_material:"Packing material",package:"Package",unpackage:"Unpackage",total__number:"Total:{number}",detail:"Detail",hide:"Hide"},upload:{receipt_file:"Upload receipt file",result:"Upload result"},helps:{select:"Select",write:"Write",scan:"Scan",quick_required_field_div:"Quick required field div",current_scan_action_prototype:"Current scan action prototype",distributed_result:"Distributed result",you_dont_any_operation:"You don't any operation.",write_or_scan_barcode:"Write or scan barcode.",write_related_columns:"Write related columns.",write_scan_action_note:"Write scan action note.",write_number:"Write number",select_scan_action:"Select scan action",select_pack_taget_parent:"Select pack taget parent.",select_pack_taget:"Select pack taget",select_target_layer:"Select target layer",selected_operation:"Selected operation",distributed:{please_select:"Please select",current_station:"current station",can_use_distributed_to_mode:"can use distributed mode."}},alerts:{is_created:"Is created",required:"Required",previous:"Previous",give_up:"Give up",definite:"Definite",please_write:"Please write",required_field:"Required field",if_have_write:"If have, write it",upload_receipt_img:"Upload receipt img",upload_result:"Upload result",uploading:"Uploading",please_write_scan_note:"Please write scan note"},operations:{total:"Total: {operations_length} operations，{sum_core_waybills} waybills",contents:"waybills",current_operation_set_to:"Current operation set to",clear_current_operation:"Clear current operation"},success:{quick_setting:"Quick setting success"},errors:{web_camera_error_will_close:"WebCamera failed to start, will close",multiple_numbers_in_batch_mode:"Multiple numbers in batch mode.",setting_group_not_found:"Setting group not found.",setting_not_found:"Setting not found.",partition_not_found:"No selection partition.",core_waybill_not_found:"waybill not found.",failed_to_fetch_core_waybill_statuses:"Failed to waybill statuses.",failed_to_instantiate_scan_action_prototype:"Failed to instantiate scan action prototype.",failed_to_update_core_waybill_related_column:"Failed update waybill related columns.",give_up_core_waybill_related_columns:"Give up waybill related columns.",give_up_scan_action_description:"Give up scan action description.",give_up_create_core_waybill:"Give up create waybill."}},pages:{customer_home:{title:"Bienvenido a la gestión de clientes"},partials:{page_404:{cant_find_page:"Can't find page."},permission_denied:{you_dont_permission:"You don't permission."},login_expiration_hint_modal:{idle:"Idle",content:"The system detected that you haven't use for a long time，{time} will Automatic logout.",i_am_back:"I am back"}},login:{customer_management_login:"Customer panel",provider_management_login:"Provider panel",station_management_login:"Station panel",please_enter_your_account_and_password:"Login",account:"Account",password:"Password",verification_code:"Verification code",pass_next_timeout_will_dont_warn:"Pass next timeout, will don't warn.",btns:{auto_input_test_account:"Test account",login:"Login"},errors:{your_site_has_not_registered_system:"Your site has not registered system",please_fill_in_the_verification_code:"Please fill in the verification code",account_or_password_incorrect:"Account or password incorrect",verification_code_incorrect:"Verification code incorrect",verification_code_expired:"Verification code expired",failure_to_login:"Failure to login",timeout:"Automatically logout after idle too long."}},appraisals:{point:"Point",reason:"Reason",staff_identity:"Staff",registrant_identity:"Registrant"},monitor:{menu_title:{all:"All",myself:"Myself",station:"Station"},title:{all_pending_operations:"All pending operations",all_pending_waybills:"All pending waybills",pending_operations:"Pending operations",pending_waybill_in_operations:"Pending waybill in operations",pending_waybills:"Pending waybills"},sub_title:{not_completed_operations:"Not completed operations",not_completed_waybills:"Not completed waybills",assigned_to_me_but_not_completed_operations:"Assigned to me but not completed operations",assigned_to_me_but_not_completed_waybill_in_operations:"Assigned to me but not completed waybill in operations",the_unfinished_waybill_that_was_last_my_scanned:"The unfinished waybill that was last my scanned",assigned_to_stationg_but_not_completed_operations:"Assigned to <span style='color: green;'>{station_name}</span> but not completed operations",assigned_to_stationg_but_not_completed_waybill_in_operations:"Assigned to <span style='color: green;'>{station_name}</span> but not completed waybill in operations"}},assets:{categories:"Categories",print_barcode:"Print barcode",have_category:"Have category",clear_value:"Clear value",helps:{no_anything_category:"No anything category",no_anything_assets:"No anything assets",write_or_use_category_list:"Write or use category list",please_clicked_upper_left_new_asset_button:"Please clicked upper left new asset button."}},customer_contracts:{additional_information:"Additional information"},customers:{contracts:"Contracts",normal:"Normal",banned:"Banned",unbanned:"Unbanned",is_banned:"Is banned",proxy_login:"Proxy login",basic_information:"Basic information",common_sender_information:"Common sender information",common_consignee_information:"Common consignee information",is_open_use_associated_partition:"Is open use 「Associated partition」",is_open_use_use_yourself_partition:"Is open use 「Use yourself partition」",show_basic_information:"Edit, view the customer's account name, contact information and usage rights",show_common_sender_information:"Edit, view common sender information",show_common_consignee_information:"Edit, view common recipient information",show_contracts:"The contract owned by the customer",contract:{name:"Name",created_at:"Created at"},helps:{the_password_does_not_match_the_confirmation_password:"The password does not match the confirmation password."}},distributions:{activated:"Activated",unactivated:"Unactivated",add_condition:"Add condition",add_condition_help:"How to write conditions？",add_condition_help_content_1:"1. 同樣條件類型的項目會做OR比對，不同條件類型的項目是做AND比對，例如：直轄市台北市+直轄市區信義區+直轄市區中正區+直轄市新北市+直轄市區新店區五個條件，符合本區配送條件的地址有台北市信義區、台北市中正區及新北市新店區",add_condition_help_content_2:"2. Please write in the full traditional Chinese name",condition_type:"Condition type",content:"Content",undo:"Undo",filter:{direct:"Direct",intermodal:"Intermodal"}},driver_commissions:{driver:"Driver",no_done:"No done",core_waybill_number:"Waybill number"},driver_commission_policies:{activated_switch:"Activated switch",activated:"Activated",pickup:"Pickup",bag:"Bag",table:{general_pickup:"General pickup",general_delivery:"General delivery",bag_pick:"Bag pick",bag_delivery:"Bag delivery",is_activated:"Is activated",first_weight:"First weight",first_price:"First price",follow_up_weight:"Follow up weight",follow_up_price:"Follow up price"}},driver_commission_reports:{total_amount_of_commission:"Total amount of commission",print:"Print",setting:"Setting",print_setting:"Print setting",detailed_mode:"Detailed mode",from:"From",to:"To",status:"Status",no_select_date:"No select date",start_all:"Start all",go_to_report:"Go to report",table:{pickup_details:"Pickup details",dispatch_details:"Dispatch details",No:"No.",number:"Number",weight:"Weight",date:"Date",commission:"Commission(dollar)",total:"Total"},filter:{staff_name:"Staff name",begin_at:"Begin at",end_at:"End at",total_amount_from:"Total amount from...",total_amount_to:"Total amount to...",created_at:"Created at"}},nodes:{company_information:"Company Information"},operations:{provider_note_value:"Sender name: \nSender phone: \n",processing:"Processing",contract:"Contract",content:"Operation content",schedule:"Schedule",waybill_amount:"Amount",print_receipt:"Print receipt",print_coew_waybill_labels:"Print coew waybill labels",print_coew_waybill_checklist:"Print coew waybill checklist",delete_help:"Delete operation, Houses、Packages、Waybills will deleted.",_name_operation_list:"{name} operation list",_name_customer_receipt:"{name} customer receipt",helps:{please_confirm_sender_and_contract_are_selected:"Please confirm sender and contract are selected."},table:{finish:"Finish",total:"Total"}},partitions:{automatic_number:"Automatic number",use_yourself:"Use yourself",statistics:"Statistics",total_amount:"Total amount",available_quantity:"Available quantity",if_use_it_yourself_do_not_write:"If use it yourself, do not write"},uploader:{redo:"Redo",open_file:"Open file",operation_list:"Operation list",upload_operation_list:"Upload operation list",selected:"Selected",contract:"Contract",your_actions:"Your actions",operation_order:"Operation",field_data_succeeded:"Field data succeeded",checking_waybill_data_ok:"Checking waybill data ok",checking_operation_data_ok:"Checking operation data ok",upload_detail_completed:"Upload detail completed",continue_next_file:"Continue next file",materialization_operation:"Materialization operation",consignment:"Consignment",delivery:"Delivery",total:"Total",total__number:"Total: {number}",dimmer:{what_do_you_want_now:"What do you want",please_upload_your_file:"Please upload your file",download_sample_file:"Download sample file",clicked_this_card_redo:"Clicked this card redo",select_file:"Select file"},steps:{title:{operation:"Operation",confirm_data:"Confirm data",upload_data:"Upload data"},description:{operation_content:"Operation content",confirm_data_is_correct:"Confirm data is correct",upload_data_to_server:"Upload data to server"}},file:{name:"File name",size:"File size",path:"File path",upload:"File upload",complete:"Complete",not_uploaded:"Not uploaded"},column_verification:{required_field:"Required field",unknown_waybill:"Unknown waybill"}},scan_action_prototypes:{binding_material:"Binding material",print_barcodes:"Print barcodes",field_name:"Field name",value:"Value"},staffs:{appraisals:"Appraisals",normal:"Normal",banned:"Banned",unbanned:"Unbanned",is_banned:"Is banned"},user_logs:{record_object:"Record object",operator:"Operator",field_name:"Field name",value:"Value",yes:"Yes",no:"No"},core_waybills:{done:"Done",print_filter_result_labels:"Print labels",export_csv_file:"Export CSV",export_clearance_csv_file:"Export clearance CSV",export_daily_csv_file:"Export daily CSV",download_daily_csv_file:"Download daily CSV",please_select_partition:"Please select partition",back_to_select_partition:"Back to select partition",partition_number_from:"Number from",partition_number_to:"Number to",again:"Again",upload_picture:"Upload picture",no_upload_any_picture:"No upload any picture",system_generation:"System generation",have_contained_status:"have contained status",is_where_like_filter_mode:"Fuzzy search",is_not_where_like_filter_mode:"Accurate search",status:{"可使用":"Usable","使用中":"Using","曾經使用過":"Usabled","可放行":"Releasable","放行中":"Releasing","曾經放行過":"Releasabled","可點交":"Releasable","點交中":"Releasabling","曾經點交過":"Releasabled","可收貨":"Receipt","收貨中":"Receiving","曾經收貨過":"Receipted","可進站":"Checkable","進站中":"Checkabling","曾經進站過":"Checkabled","可配送":"Shippable","配送中":"Shippabling","曾經配送過":"Shippabled","可回站":"Returne","回站中":"Returning","曾經回站過":"Returned","可配達":"Is done","配達中":"Is doning","曾經配達過":"Is doned","可中轉":"Transferable","中轉中":"Transfering","曾經中轉過":"Transferabled","可聯運":"Intermodalable","聯運中":"Intermodalabling","曾經聯運過":"Intermodalabled","可異常件":"Exceptionable","異常件中":"Exceptionabling","曾經異常件過":"Exceptionabled","可鎖定":"Lockable","鎖定中":"Locking","曾經鎖定過":"Locked","可完成":"Is done","完成中":"Is doning","曾經完成過":"Is doned",USABLE:"USABLE",CHECKABLE:"CHECKABLE",SHIPPABLE:"SHIPPABLE",SHIPPING:"SHIPPING",TRANSFERING:"TRANSFERING",EXCEPTIONABLE:"EXCEPTIONABLE",EXCEPTIONING:"EXCEPTIONING",SENDER_REGRETABLE:"SENDER REGRETABLE",CHECKING:"CHECKING",TRANSFERABLE:"TRANSFERABLE",INTERMODALABLE:"INTERMODALABLE",INTERMODALING:"INTERMODALING",RELEASABLE:"RELEASABLE",CAN_HAND_OVER:"CAN HAND OVER",LOCKING:"LOCKING",IS_DONE:"IS DONE",system:"System",condition:"condition",administrator:"administrator",operator:"Operator",forwarder:"Forwarder",public:"Public",mark:"mark",no_latest_status:"No latest status"},filter:{asynchronous:"Asynchronous search",find__key:"Find {key}...",find_number:"Find number...",clear:"Clear",numbers:"Numbers",waybill_content:"Waybill content",status:"Status",have_contained:"Have contained",clearance_date:"Clearance date",selected_is_used:"Selected used",is_used:{true:"Used",flase:"Not used"},material:"Material",selected_material:"Selected material",selected_station:"Where",selected_staff:"Who",selected_status:"Status",selected_status_scope:"Scope",selected_polarity:"Polarity",polarity:{positive:"Being",negative:"Not be in"},status_depiction:{now:"Now",at_the:"at the",in_the:"in the",by:"by",handle:"handle",before_by:"Before by",added:"added"}}}},toolbox:{back_to_top_button:{back_to_top:"Back to top"},bulletin_board:{name:"Bulletin board",message:"Message",no_messages:"No messages！",talk_your_comment:"Talk your comment"},crud_templates:{new:"New"},core_waybills_label_svg:{labels:{paper_type:"Paper type",printing_type:"Printing type",paper_size:"Paper size",template:"Template"},printing_types:{"Label::Default":"Default","Label::ByExpress":"ByExpress","Label::ChangQing":"ChangQing","Label::FlyCargo":"FlyCargo","Label::Condor180":"Condor180","Label::Pelican":"Pelican","Label::HCT":"HCT","Label::TCat":"TCat","Label::FamilyMart":"FamilyMart","Label::Presco":"Presco","Label::Invoice":"Invoice","Label::FamilyMartInvoice":"FamilyMart(Invoice)","Label::PrescoInvoice":"Presco(Invoice)"},btns:{print:"Print",old_print:"Old logic",new_print:"New logic"},helps:{numbers_input:"Numbers Ex:123,456,789"},errors:{no_authentication_token:"Pops no authentication_token",no_number:"Please write number"}},core_waybill:{parent_core_waybill:"Parent waybill",child_core_waybill:"Child waybill",no_any_parent_and_child_waybill:"No any parent and child waybill",use_partition:"Partition",partition_number_from:"Number from",partition_number_to:"Number to",btns:{label:"Label",print:"Print",print_again:"Print again",update:"Update",switch_style:"Switch style",simple:"Simple",detail:"Detail"},helps:{source:"Source",is_deleted:"Deleted, please back.",tooltip_have_source_core_waybill:"Current waybill data is from {number}, Click to edit"},errors:{please_clicked_initialize_again:"Please clicked, initialize again.",change_template_error:"Change template error.",no_number:"No number.",invalid_loading_image:"Invalid loading image.",waybill_no_label_class_cant_print:"Waybill no label class can't print.",props_is_can_print_label_unable:"Props is_can_print_label unable.",no_label_type:"No label type.",label_type_error:"Label type error.",label_paper_type_error:"Label paper type error."}},core_waybills:{quick_update_table:"Quick update table",quick_update:"Quick update",batch_edit:"Batch edit",no_station:"No station",packed_in:"Packed in",deleted:"Deleted",add_table:"Add table"},operation_summary:{print_operation_list:"Print operation list",table:{sender_signature:"Sender signature",driver_signature:"Driver signature"}},receipts:{print_receipt:"Print receipt"},stations_modal:{turn_of_GPS:"Turn of GPS",turn_on_GPS:"Turn on GPS",turn_on_auto_tracking:"Turn on auto tracking",modify_current_station:"Change current station",please_select_the_current_station:"Please select the current station",you_are_not_a_manager_will_modify_station_please_contact_the_manager:"You are not a manager, will modify station please contact the manager",you_do_not_belong_station_will_update_your_data_after_selection:"You do not belong station, will update your data after selection",current_station:"Current station",tracking_GPS:"Tracking GPS",decisioning:"Decisioning",cancel_current_station:"Cancel current station",btns:{track_once:"Track(once)",auto_tracking_every_minute:"Auto tracking(every minute)"},errors:{geolocation_is_not_supported_by_this_browser:"Geolocation is not supported by this browser.",your_web_protocol_is_not_HTTPS:"Your web protocol is not HTTPS, See https://goo.gl/rStTGz.",get_location_failure:"Get location failure."}},speed_test:{network_quality:"Network quality"},my_receipts:{neme:"My receipts",force_current_station:"Force current station",print:"{page} Print{note}",customer_receipt:"Customer receipt"},notifications:{mark_all_read:"Mark all read",no_new_notifications:"No new notifications",no_news:{title:"No new notifications",content:"There are currently no new notifications and all new notifications will appear here."}}},el:{colorpicker:{confirm:"OK",clear:"Clear"},date_option_shortcut:{today:"Today",three_days:"Three days ago",week:"One week ago",month:"One month ago",three_months:"Three months ago",six_months:"Half year ago"},daterange_option_shortcut:{today:"Today",three_days:"Three days",week:"Week",month:"Month",three_months:"Three months",six_months:"Six months"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",custom:"Custom",confirm:"OK",selectDateTime:"Select date and time",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:""},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"}}}}},d973:function(e,t,i){},d975:function(e,t,i){"use strict";var n=i("97f8"),s=i.n(n);s.a},d9f6a:function(e,t,i){},db05:function(e,t){e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(""==e)return!1;if(!t)return!1;if(t&&!i.length&&!n.length)return!0;if(i.length){var s=_.findIndex(i,function(t){return t==e});return"-1"!=s}if(n.length){s=_.findIndex(n,function(t){return t==e});return"-1"==s}return!1}},db1b:function(e){e.exports={_comment:"此檔案為Scanner 設定 檔案",name:"neuron",options:["is_scan_mode","is_scan_action_mode","is_batch_mode","is_operation_mode","is_core_waybill_creation_mode","is_core_waybill_pieces_mode","is_update_corewaybill_mode","is_auto_print_label_mode","is_distributed_to_mode","is_high_performance_mode","is_noty_audio_mode","is_speech_mode","is_quick_corewaybill_related_columns","is_core_waybill_creation_mode","is_webcam_mode","is_package_mode","is_unpackage_mode","pack_p_m_mode","pack_m_mode","pack_need_source_mode","core_waybill_template_mode"]}},db29:function(e,t,i){},db65:function(e,t,i){"use strict";var n=i("9c68"),s=i.n(n);s.a},dbbd:function(e,t,i){"use strict";var n=i("5cb4"),s=i.n(n);s.a},dbc1:function(e,t,i){},dbcc:function(e,t,i){"use strict";var n=i("29a7"),s=i.n(n);s.a},dbd6:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{margin:"1rem 0"},attrs:{id:"top_menu"}},[i("div",{staticClass:"menus",staticStyle:{"text-align":"right"}},[i("div",{staticClass:"ui compact menu"},[e.show_receipts?i("div",{staticClass:"item",attrs:{"data-tooltip":e.$t("ui.links.top_menu.my_receipts"),"data-position":"bottom center"}},[i("MyReceipts")],1):e._e(),e.show_check_summary?i("div",{staticClass:"item",attrs:{"data-tooltip":e.$t("ui.links.top_menu.print_check_summary"),"data-position":"bottom center"}},[i("CheckSummary")],1):e._e(),e.is_can_use_scanner?i("div",{staticClass:"item mobile hidden",attrs:{"data-tooltip":e.$t("ui.links.top_menu.scanner")+"（"+e.$t("ui.general.hot_key")+"：Ctrl + Q）","data-position":"bottom center"}},[i("div",{staticClass:"ui icon button",on:{click:function(t){e.$bus.$emit("toggle_scanner_modal","show")}}},[i("i",{staticClass:"barcode large icon"})])]):i("div",{staticClass:"item",attrs:{"data-tooltip":e.$t("ui.general.cannot_use"),"data-position":"bottom center"}},[e._m(0)]),i("div",{staticClass:"item",attrs:{"data-tooltip":e.$store.getters["provider/current_station"].name||e.$t("ui.links.top_menu.no_station"),"data-position":"bottom center"}},[i("div",{staticClass:"ui icon button",on:{click:function(t){e.$bus.$emit("toggle_station_modal","show")}}},[i("i",{staticClass:"warehouse large icon",class:{red:!e.$store.getters["provider/current_station"].name}}),e.$store.getters["provider/current_station"].code?i("span",{staticStyle:{position:"absolute",right:"3px",bottom:"1px",color:"#333","font-size":"12px","text-shadow":"-2px -2px 2px #fff"}},[e._v("\n                        "+e._s(e.$store.getters["provider/current_station"].code.substring(0,2))+"\n                    ")]):e._e()])])]),i("div",{staticClass:"ui compact menu"},[i("div",{staticClass:"item"},[i("Notifications",{attrs:{channel_identity:e.channel_identity}})],1),i("div",{staticClass:"item",attrs:{"data-tooltip":e.$t("ui.links.top_menu.language"),"data-position":"bottom center"}},[i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui icon dropdown top right pointing button"},[i("i",{staticClass:"globe large icon"}),i("div",{staticClass:"menu"},[i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("zh-TW")}}},[e._v("繁體")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("zh-CN")}}},[e._v("简体")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("en-US")}}},[e._v("English")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("ja-JP")}}},[e._v("日本語")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("es-ES")}}},[e._v("Español")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("vi-VN")}}},[e._v("Tiếng Việt")])])])]),i("div",{staticClass:"item"},[i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui icon dropdown top right pointing button"},[i("i",{staticClass:"setting large icon"}),i("div",{staticClass:"menu"},[i("div",{staticClass:"header"},[e._v("\n                            "+e._s(e.current_staff.name)+"\n                        ")]),i("a",{staticClass:"item",on:{click:e.$parent.show_login_timeout_hint}},[e._v("\n                            "+e._s(e.$t("ui.links.top_menu.overtime_note"))+"\n                        ")]),i("a",{staticClass:"item",on:{click:e.$parent.logout}},[e._v("\n                            "+e._s(e.$t("ui.links.top_menu.logout"))+"\n                        ")]),i("a",{staticClass:"item",on:{click:function(t){e.$parent.logout(!0)}}},[e._v("\n                            "+e._s(e.$t("ui.links.top_menu.full_logout"))+"\n                        ")])])])]),i("div",{staticClass:"item"},[i("SpeedTest")],1)])]),i("div",{staticClass:"clear"})])},s=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui icon button"},[i("i",{staticClass:"red barcode large icon"})])}],a=i("16e6"),r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"my_receipts"}},[i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui icon dropdown button"},[e.is_processing?i("div",{staticClass:"signal"}):e._e(),i("i",{staticClass:"newspaper large icon"}),i("div",{staticClass:"menu"},[i("div",{staticClass:"custom_item"},[i("DatePicker",{key:"my_receipts",attrs:{is_row:!0,width:180},model:{value:e.dates,callback:function(t){e.dates=t},expression:"dates"}})],1),i("div",{staticClass:"item",on:{click:function(t){t.preventDefault(),e.print_my_receipts("A4")}}},[e._v("\n                "+e._s(e.$t("ui.toolbox.my_receipts.print",{page:"A4"}))+"\n            ")]),i("div",{staticClass:"item",on:{click:function(t){t.preventDefault(),e.print_my_receipts("A5")}}},[e._v("\n                "+e._s(e.$t("ui.toolbox.my_receipts.print",{page:"A5"}))+"\n            ")]),i("div",{staticClass:"item",on:{click:function(t){t.preventDefault(),e.force_location_print_my_receipts("A4")}}},[e._v("\n                "+e._s(e.$t("ui.toolbox.my_receipts.print",{page:"A4",note:"("+e.$t("ui.toolbox.my_receipts.force_current_station")+")"}))+"\n            ")]),i("div",{staticClass:"item",on:{click:function(t){t.preventDefault(),e.force_location_print_my_receipts("A5")}}},[e._v("\n                "+e._s(e.$t("ui.toolbox.my_receipts.print",{page:"A5",note:"("+e.$t("ui.toolbox.my_receipts.force_current_station")+")"}))+"\n            ")]),i("div",{staticClass:"item"},[i("div",{staticClass:"ui slider checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.is_beta,expression:"is_beta"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.is_beta)?e._i(e.is_beta,null)>-1:e.is_beta},on:{change:function(t){var i=e.is_beta,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=e._i(i,a);n.checked?r<0&&(e.is_beta=i.concat([a])):r>-1&&(e.is_beta=i.slice(0,r).concat(i.slice(r+1)))}else e.is_beta=s}}}),i("label",[e._v("Beta")])])])])]),i("Receipts",{attrs:{show_buttons:!1,conditions_search_params:{current_ship:!0,current_operator_identity:e.current_staff.identity,updated_at:{from:e.date_from,to:e.date_to}},default_search_params:{condition:{name:"current_ship",polarity:!0,current_operator_identity:e.current_staff.identity,updated_at:{from:e.date_from,to:e.date_to}},material:{class_names:"Waybill"},pagination:!1},is_beta:e.is_beta,operator_identity:e.current_staff.identity,logo_url:"/images/"+e.node.company_en_name.replace(/(?:^|\.|\s?)([A-Z])/g,function(e,t){return"_"+t.toLowerCase()}).replace(/^_/,"")+"_logo.jpg",title:e.node.company_short_name+" "+e.$t("ui.toolbox.my_receipts.customer_receipt"),sub_title:e.node.website_url,customer_service_hotline:e.node.customer_service_hotline,logistician:e.current_staff,channel_name:e.channel_name},model:{value:e.is_processing,callback:function(t){e.is_processing=t},expression:"is_processing"}}),i("Receipts",{attrs:{show_buttons:!1,default_search_params:{condition:{name:"current_ship",polarity:!0,current_operator_identity:e.current_staff.identity,updated_at:{from:e.date_from,to:e.date_to}},material:{class_names:"Waybill"},pagination:!1},is_beta:e.is_beta,operator_identity:e.current_staff.identity,logo_url:"/images/"+e.node.company_en_name.replace(/(?:^|\.|\s?)([A-Z])/g,function(e,t){return"_"+t.toLowerCase()}).replace(/^_/,"")+"_logo.jpg",title:e.node.company_short_name+" "+e.$t("ui.toolbox.my_receipts.customer_receipt"),sub_title:e.node.website_url,force_location:e.current_staff.station?e.current_staff.station.name:"",customer_service_hotline:e.node.customer_service_hotline,logistician:e.current_staff,channel_name:e.force_location_channel_name},model:{value:e.is_processing,callback:function(t){e.is_processing=t},expression:"is_processing"}})],1)},o=[],c=i("f881"),_=i("a808"),l=i("c1df"),u=i.n(l);function d(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function p(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){d(a,n,s,r,o,"next",e)}function o(e){d(a,n,s,r,o,"throw",e)}r(void 0)})}}var m={data:function(){return{dates:"",is_beta:!0,is_processing:!1,channel_name:"my_receipts",force_location_channel_name:"force_location_my_receipts"}},computed:{style:function(e){return e.$store.state.style},node:function(e){return e.$store.state.provider.node},current_staff:function(e){return e.$store.state.provider.current_staff},date_from:function(){return this.dates[0]?u()(this.dates[0]).format("YYYY-MM-DDTHH:mm:ss+08:00"):u()(new Date).startOf("day").format("YYYY-MM-DDTHH:mm:ss+08:00")},date_to:function(){return this.dates[1]?u()(this.dates[1]).format("YYYY-MM-DDTHH:mm:ss+08:00"):u()(new Date).endOf("day").format("YYYY-MM-DDTHH:mm:ss+08:00")}},created:function(){},mounted:function(){},watch:{},methods:{print_my_receipts:function(){var e=p(regeneratorRuntime.mark(function e(){var t,i=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=i.length>0&&void 0!==i[0]?i[0]:"A5",this.$bus.$emit(this.channel_name,t);case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),force_location_print_my_receipts:function(){var e=p(regeneratorRuntime.mark(function e(){var t,i=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=i.length>0&&void 0!==i[0]?i[0]:"A5",this.$bus.$emit(this.force_location_channel_name,t);case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{Receipts:_["a"],DatePicker:c["a"]}},f=m,h=(i("987b"),i("2877")),v=Object(h["a"])(f,r,o,!1,null,"5f823d0c",null),g=v.exports,b=i("f7cf"),y=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"my_check_summaries"},[i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui icon dropdown button"},[e.is_processing?i("div",{staticClass:"signal"}):e._e(),i("i",{staticClass:"clipboard check large icon"}),i("div",{staticClass:"menu",staticStyle:{"min-width":"280px",left:"0 !important"}},[i("div",{staticClass:"header"},[i("CheckSummary",{attrs:{scope:"provider",conditions_search_params:{current_handover:!0,all_staffs:!0,updated_at:{from:e.latest_condition_from,to:e.latest_condition_to}},default_search_params:{condition:{name:"current_handover",polarity:!0,updated_at:{from:e.latest_condition_from,to:e.latest_condition_to}},pagination:!1},is_beta:e.is_beta,channel_name:e.channel_name,title:"貨物交予 點交單",sub_title:e.node.website_url,customer_service_hotline:e.node.customer_service_hotline,logo_url:e.logo_url,show_buttons:!1,show_contents:!1},model:{value:e.is_processing,callback:function(t){e.is_processing=t},expression:"is_processing"}})],1),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"custom_item"},[i("DatePicker",{key:"my_check_summaries",attrs:{is_row:!0},model:{value:e.latest_condition_dates,callback:function(t){e.latest_condition_dates=t},expression:"latest_condition_dates"}})],1),i("div",{staticClass:"custom_item",on:{click:function(t){t.preventDefault(),e.refresh_data("custom_check_summaries")}}},[e._v("抓取以上時間")]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"custom_item",on:{click:function(t){t.preventDefault(),e.refresh_data("last24_check_summaries")}}},[e._v("抓取過去24小時")]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"custom_item",on:{click:function(t){t.preventDefault(),e.refresh_data("all_check_summaries")}}},[e._v("抓取所有時間")]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"item",on:{click:function(t){t.preventDefault(),e.print("NormalLayout")}}},[e._v("印出(A4)")]),i("div",{staticClass:"item",on:{click:function(t){t.preventDefault(),e.print("SimpleLayout")}}},[e._v("印出(連續紙)")]),i("div",{staticClass:"item"},[i("div",{staticClass:"ui slider checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.is_beta,expression:"is_beta"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.is_beta)?e._i(e.is_beta,null)>-1:e.is_beta},on:{change:function(t){var i=e.is_beta,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=e._i(i,a);n.checked?r<0&&(e.is_beta=i.concat([a])):r>-1&&(e.is_beta=i.slice(0,r).concat(i.slice(r+1)))}else e.is_beta=s}}}),i("label",[e._v("Beta")])])])])])])},w=[],k=i("21b8");function x(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function C(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){x(a,n,s,r,o,"next",e)}function o(e){x(a,n,s,r,o,"throw",e)}r(void 0)})}}var P={data:function(){return{sender_name:null,consignee_name:null,is_beta:!0,is_processing:!1,channel_name:"check_summaries",latest_condition_from:null,latest_condition_to:null,latest_condition_dates:null}},computed:{node:function(){return this.$store.state.provider.node},current_staff:function(){return this.$store.state.provider.current_staff},logo_url:function(){if(this.$store.state.provider.node.company_en_name)return"/images/"+this.$store.state.provider.node.company_en_name.replace(/(?:^|\.|\s?)([A-Z])/g,function(e,t){return"_"+t.toLowerCase()}).replace(/^_/,"")+"_logo.jpg";switch(this.$store.state.provider.node.service_name){case"neuron":return"/images/neuron_logo.png";case"axon":return"/images/axon_logo.png";default:return"/images/tw568_logo.png"}}},created:function(){},mounted:function(){},watch:{},methods:{refresh_data:function(){var e=C(regeneratorRuntime.mark(function e(t){var i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){switch(t){case"last24_check_summaries":i.latest_condition_from=i.human_datetime(Date.now()-864e5,null),i.latest_condition_to=i.human_datetime(Date.now(),null);break;case"all_check_summaries":i.latest_condition_from=null,i.latest_condition_to=null;break;case"custom_check_summaries":if(!i.latest_condition_dates[0]||!i.latest_condition_dates[1])throw new Error("empty_date");i.latest_condition_from=i.$moment(i.latest_condition_dates[0]).format("YYYY-MM-DDTHH:mm:ss+08:00"),i.latest_condition_to=i.$moment(i.latest_condition_dates[1]).format("YYYY-MM-DDTHH:mm:ss+08:00");break}e()})["catch"](function(e){switch(e.message){case"empty_date":i.$noty.error("請選擇日期");break}return Promise.reject(e.message)});case 2:return e.next=4,this.$nextTick(function(){i.$bus.$emit(i.channel_name,"refresh_data")});case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),print:function(e){this.$bus.$emit(this.channel_name,"print",e)}},components:{CheckSummary:k["a"],DatePicker:c["a"]}},S=P,N=(i("f1b8"),Object(h["a"])(S,y,w,!1,null,"e78c8eb4",null)),q=N.exports,A={data:function(){return{window_width:$(window).width()}},mounted:function(){var e=this;$(window).resize(function(){e.window_width=$(window).width()}),$(document).ready(function(){$(document).delegate(".quick_link_select .menu .item","click",function(t){window.location=$(e).data("url")}),$(document).delegate(".current_station_select .menu .item","click",function(t){$(e).data("value"),$(e).text()})})},computed:{current_staff:function(){return this.$store.state.provider.current_staff},is_can_use_scanner:function(){return this.$store.state.provider.is_can_use_scanner},current_service_name:function(){return this.$store.state.provider.node.service_name},channel_identity:function(){return this.$store.state.provider.node.identity},show_receipts:function(){return["neuron_premium","neuron","neuron_lite"].includes(this.current_service_name)},show_check_summary:function(){return["neuron_premium","axon_premium","axon","axon_lite"].includes(this.current_service_name)}},methods:{change_i18n:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"zh-TW";localStorage.setItem("language",e),this.$store.state.language=e}},components:{SpeedTest:a["a"],MyReceipts:g,Notifications:b["a"],CheckSummary:q}},E=A,z=(i("384b"),i("5a834"),Object(h["a"])(E,n,s,!1,null,"c8481f4c",null));t["a"]=z.exports},dc02:function(e,t,i){},dc72:function(e,t,i){"use strict";var n=i("92de"),s=i.n(n);s.a},dc88:function(e){e.exports={models:{_comment:"アソシエーションテーブル名がこの先頭にありません",appraisals:"評価",assets:"資産",comments:"メッセージ",contracts:"契約",conversion_attributes:"契約の帰属",converters:"コンバーター",core_waybills:"運送 状",customers:"顧客",quotations:"価格表",distributions:"配布",distribution_tions:"流通条件",driver_commissions:"派遣の駒を集める委員 会",driver_commission_policies:"派遣の駒を集める委員会の方針",driver_commission_reports:"派遣の駒を集めるコミッションレポート",logs:"ユーザー履歴",materials:"材料",nodes:"会社",operations:"順序",partitions:"番号範囲",permissions:"アクセス 許可",permission_groups:"アクセス許可グループ",roles:"位置",staffs:"従業員",stations:"サイト",scan_actions:"スキャンアクション",status_prototypes:"貨況",scan_action_prototypes:"スキャンアクション",attributes:{assets:{barcode:"バーコード",number:"番号",category:"資産の種類",note:"メモ",node_identity:"ノード id"},converters:{name:"名前",number:"番号",provider_node_identity:"Provider_node_identity",customer_node_identity:"Customer_node_identity",customer_identity:"Customer_identity",carrier_class:"配送業者カテゴリ",proxy_contract_identity:"Proxy_contract_identity",third_party_api_data:"Third_party_api_data",note:"メモ"},customer_contracts:{name:"契約名",number:"顧客番号",carrier_class:"配送業者カテゴリ",proxy_contract:"自動振替契約",third_party_api_data:"サードパーティのスレッド接続情報",note:"メモ"},customers:{username:"アカウント",password:"パスワード",password_confirmation:"パスワードの確認",authentication_token:"API Token",company_name:"会社名",company_short_name:"会社の短い名前",company_en_name:"英語名",email:"電子メール",phone:"お問い合わせ番号",fax:"Fax",website_url:"ウェブサイトの URL",default_sender_zip_code:"Sender ZIP code",default_sender_company_name:"送信者の会社名",default_sender_address:"送信者アドレス",default_sender_name:"差出人の名前",default_sender_phone:"差出人電話番号",default_sender_email:"送信者の電子メール",default_sender_fax:"送信者 Fax",default_sender_url:"送信者 URL",default_consignee_zip_code:"Consignee ZIP code",default_consignee_company_name:"受取人の会社名",default_consignee_address:"受取人の住所",default_consignee_name:"受取人の氏名",default_consignee_phone:"受信者の電話",default_consignee_email:"受信者の電子メール",default_consignee_fax:"受信者の Fax",can_use_associated_partitions:"使用できるかどうか上の運送状",is_banned:"止められる権利かどうか"},conditions:{core_waybill_identity:"グッズ",scan_action_prototype_identity:"SAP",condition_type:"条件タイプ",can_use:"使える",current_use:"現在の使用",already_use:"すでに使っている",can_release:"解放することができます",current_release:"現在のリリース",already_release:"すでに発売",can_handover:"引き渡すことができます",current_handover:"現在のハンドオーバー",already_handover:"すでに引継ぎ",can_collect:"集めることができます",current_collect:"現在のコレクト",already_collect:"すでに収集",can_check:"確認できます",current_check:"現在のチェック",already_check:"すでにチェック",can_ship:"出荷できます",current_ship:"現在の船",already_ship:"すでに出荷",can_back:"戻ることができます",current_back:"現在のバック",already_back:"すでに戻ってきた",can_delivered:"配達することができます",current_delivered:"現在配信中",already_delivered:"配送済み",can_transfer:"転送できます",current_transfer:"現在の振替",already_transfer:"転送済み",can_intermodal:"インターモーダルできます",current_intermodal:"現在のインターモーダル",already_intermodal:"すでにインターモーダル",can_exception:"例外になる",current_exception:"現在の例外",already_exception:"もう例外",can_lock:"ロックすることができます",current_lock:"現在のロック",already_lock:"すでにロックされています",can_done:"できる",current_done:"現在完了",already_done:"すでに終わった",can_warehouse_in:"倉庫に入れることができます",current_warehouse_in:"倉庫に流れ込む",already_warehouse_in:"すでに倉庫に",can_warehouse_out:"倉庫から出られます",current_warehouse_out:"現在の倉庫",already_warehouse_out:"すでに倉庫から出ている",can_ready_to_ship:"出荷する準備ができて",current_ready_to_ship:"現在出荷する準備ができて",already_ready_to_ship:"すでに出荷する準備ができて"},distributions:{priority:"優先 順位",name:"名前",strategy:"戦略",station:"管轄サイト",station_identity:"管轄サイト",strategy_value:"ポリシー値",material:"対象アイテム",material_identity:"対象アイテム",is_activated:"が有効"},driver_commissions:{pick_up_driver:"ピックアップドライバー",pick_up_core_waybill:"取貨物運送状",delivery_core_waybill:"送貨物運送状",delivery_driver:"配信ドライバ",driver_commission_report:"派遣の駒を集めるコミッションレポート",driver_commission_policy:"派遣の駒を集める委員会の方針",amount:"量",polarity:"極性",created_at:"生成日",is_deleted:"削除されました"},driver_commission_policies:{pick_up_first_weight:"最初に作品を選ぶヘビーウェイト(KG) ",pick_up_first_price:"最初の重い任務の量",pick_up_follow_up_weight:"取重量を量ることを続けた部分のユニット(KG) ",pick_up_follow_up_price:"ピックアップ重量価格",delivery_first_weight:"作品を最初に送るヘビーウェイト(KG) ",delivery_first_price:"最初の重い任務の量",delivery_follow_up_weight:"送重量を量ることを続けた部分のユニット(KG) ",delivery_follow_up_price:"送信ピースの重量を更新価格",house_pick_up_first_weight:"最初に作品を選ぶヘビーウェイト(KG) ",house_pick_up_first_price:"最初の重い任務の量",house_pick_up_follow_up_weight:"取重量を量ることを続けた部分のユニット(KG) ",house_pick_up_follow_up_price:"ピックアップ重量価格",house_delivery_first_weight:"作品を最初に送るヘビーウェイト(KG) ",house_delivery_first_price:"最初の重い任務の量",house_delivery_follow_up_weight:"送重量を量ることを続けた部分のユニット(KG) ",house_delivery_follow_up_price:"送信ピースの重量を更新価格",is_activated:"有効にする"},driver_commission_reports:{staff:"人事",total_amount:"総量",time:"中",begin_at:"開始日の計算",end_at:"計算訖日",created_at:"生成日"},materials:{name:"項目名",en_name:"英語名",core_waybill_level:"運送状クラス",class_name:"名前の識別",label_type:"ボリュームラベルの種類",needs_label:"ボリュームラベルが必要"},nodes:{is_sandbox_mode:"サンドボックスモード",client_id:"マグネットアプリ id",client_secret:"マグネットアプリ ID",access_token:"マグネット Accesstoken",refresh_token:"マグネット認証",tax:"統合番号",carrier_class:"キャリア：：クラス ",host:"ホスト",service_name:"フロント製品",code:"コード",company_name:"会社名",company_short_name:"短い名前",company_en_name:"英語名",email:"電子メール",phone:"お問い合わせ番号",fax:"お問い合わせ fax",website_url:"官網Url",customer_service_hotline:"顧客サービスライン"},operations:{number:"注文番号",file:"出荷伝票",file_name:"出荷ファイル名",file_url:"出荷ファイルの URL",original_file_name:"出荷伝票",station:"サイトの割り当て",staffs:"配属人員",customer:"顧客",customer_identity:"顧客",your_note:"あなたのノート",customer_note:"顧客のメモ",provider_note:"メモ",system_note:"システムノート",cancel_reason:"失効の理由",instantiate_note:"具体化したノート",is_canceled:"取り消されました",is_operable:"",is_operated:"",is_ready:"",status:"状態",is_done:"が完了",is_done_true:"が完了",is_done_false:"完了しません",created_at:"日付"},partitions:{name:"名前",numbers:"番号",numbers_from:"開始",numbers_to:"終わり",numbers_rule:"数字ルール",parent:"サブレンジ",customer:"顧客",contracts:"契約",customer_identity:"顧客",material:"材料",material_identity:"材料",partition_type:"区間タイプ",label_type:"ラベルタイプ",note:"メモ",regex:"正規表現"},permissions:{name:"名前",uri:"uri",http_method:"Http_method"},permission_groups:{name:"名前"},roles:{name:"名前"},scan_action_prototypes:{name:"アクション名",barcode:"バーコード番号",required_condition:"要件条件",before_actions:"フロントマウントアクション",is_default:"初期商品として設定況",description_required_scope:"バウンドグッズ況の説明スコープ ",description_options:"バウンドグッズ況候補オプションの説明"},staffs:{username:"アカウント",password:"パスワード",password_confirmation:"パスワードの確認",name:"名前",phone:"電話",email:"電子メール",mobile:"携帯電話番号",fax:"Fax",tax:"税",country:"国",state:"状態",city:"都市",district:"區",address:"アドレス",theme_name:"レイアウト構成",note:"メモ",is_banned:"止められる権利かどうか",role_identity:"位置",role:"位置",station_identity:"関連サイト",station:"関連サイト"},stations:{name:"サイト名",code:"コード",address:"アドレス",phone:"電話",position:"範囲",note:"メモ"},status_prototypes:{name:"名前",material:"材料",material_class_name:"材料",description:"物語",non_polarity:"極性抵抗",positive_polarity:"陽極性",negative_polarity:"陽極抵抗"},user_logs:{title:"推力",description:"記述",modified_attributes:"数値の移行",level:"レコードレベル",action_type:"アクションの種類",is_undid:"リカバリ・レコード",undid_at:"に復元",node_identity:"ノードID ",operator_identity:"演算子によるID ",loggable_identity:"Loggable_identity",loggable_type:"レコードオブジェクト",created_at:"日付",updated_at:"Updated_at",identity:"id"},core_waybills:{number:"番号",operation_number:"注文番号",original_number:"元番号",tracking_number:"追跡番号",storage_number:"保管番号",warehouse_identity:"倉庫番号",original_core_waybill_identity:"Original_core_waybill_identity",tracking_core_waybill_identity:"Tracking_core_waybill_identity",label_type:"ボリュームラベルの種類",sender:"送信者",sender_company_name:"送信者の会社名",sender_zip_code:"荷送人郵便番号",sender_address:"送信者アドレス",sender_name:"差出人の名前",sender_phone:"差出人電話番号",sender_email:"送信者メール ",sender_fax:"送信者 Fax",sender_url:"送信者 URL",consignee:"受信者",consignee_company_name:"受取人の会社名",consignee_zip_code:"受取人郵便番号",consignee_address:"受取人の住所",consignee_name:"受取人の氏名",consignee_phone:"受信者の電話",consignee_email:"受信者メール ",consignee_fax:"受信者の Fax",flight_number:"航海",cvs_store_number:"Cvs店舗番号",cvs_store_name:"Cvs店舗名",cvs_store_address:"Cvs店舗住所",cvs_store_phone:"Cvsストア電話",station_code:"エリア番号",temperature:"暖かい層",payment_type:"お支払い方法",receipt_file:"領収書フォーム",receipt_file_url:"サインオン URL",current_status:"現在の状態",goods_name:"名前",note:"メモ",note_2:"メモ2 ",note_3:"メモ3 ",declared_value:"宣言された商品の価値",measurement:"木材製品",weight_in_kilo:"重量(KG) ",serial:"シリアル",is_used:"使用状況",node_identity:"Node_identity",station_identity:"Station_identity",operation_identity:"Operation_identity",partition_identity:"Partition_identity",material_identity:"Material_identity",source_core_waybill_identity:"Source_core_waybill_identity",parent_core_waybill_identity:"Parent_core_waybill_identity",consignee_address_accuracy:"受取人の正確な住所",consignee_formatted_address:"受信者の書式付きアドレス",consignee_address_components:"受信者のアドレスコンポーネント",is_done:"が完了",is_collected:"支払の収集 会社を返済するかどうか",no_paid:"返済していない",paid:"返済されています",collection:"支払の収集",collection_fee:"回収手数料",simplified_declaration_form_fee:"簡易申告料",declaration_form_fee:"公式宣言料",declaration_form_extra_fee:"ロングチャージバック",tax:"税金",price:"出荷",insurance:"保険",material_fee:"包装料",consignee_tax_point:"受取人税ポイント",sender_tax_point:"荷送人税ポイント",warehouse_fee:"倉庫のレンタル料",fuel_surcharge:"燃油サーチャージ",value_added_service_fee:"付加価値サービス料",overlength_fee:"エクストラロングフィー",overweight_fee:"太りすぎの料金",extra_fee:"他",shipping_date:"納品日",shipping_period:"受渡し時間",shipping_note:"配送ノート",latest_status:"貨況",created_at:"設立年月日",updated_at:"更新日",identity:"アイデンティティ",is_deleted:"削除されました",deleted_at:"日付の削除"}}},ui:{general:{cannot:"ない",cannot_use:"使用できません。",clear:"クリア",select:"選択",please_select:"選択してください",yes:"是",no:"無",no_data:"無データ",date:"日付",day:"天",days:"天",hour:"時間",hours:"時間",minute:"分",minutes:"分",second:"秒",operate:"操作",hot_key:"ショートカットキー",copy:"コピー",note:"メモ",simple:"簡単",advanced:"詳細",detail:"と",show:"ビュー",edit:"編集",create:"確立",creating:"に設立",search:"検索",searching:"検索で",search__key:"検索{key}... ",submit:"送り出す",result:"結果",verify:"確認",verifying:"での検証",verify_staff:"身元の確認",update:"更新",updating:"更新で",delete:"削除",deleteing:"で削除",ready:"準備をして",readying:"準備で",handle:"処理",handling:"プロセスで",cancel:"キャンセル",canceling:"でキャンセル",print:"印刷",printing:"印刷で",upload:"アップロード",uploading:"アップロードで",fetch:"た",success:"成功",failure:"失敗 しました",network_abnormality:"オンライン状態",server_offline:"サーバーが忙しい, 後でもう一度やり直してください。",error:"エラー",back:"返す",initialize:"初期化",initializing:"ロード、しばらくお待ちください",initialize_complete:"初期化の完了",created_at:"設立年月日",updated_at:"更新日",deleted_at:"日付の削除",folder:"フォルダー",file:"ファイル",all:"すべての"},page_titles:{index:"索引",current_page:"現在のページ",provider_index:"ホーム",station_index:"ホーム",customer_index:"ホーム",provider_pages:"プロバイダ",customer_pages:"顧客",uploader:"アップローダ",station_uploader:"ステーションアップローダ",provider_uploader:"プロバイダアップローダ",customer_uploader:"カスタマーアップローダー",operation_show:"操作",operation_print_list:"操作印刷リスト",operation_print_label:"操作印刷ラベル",assets:"資産",assets_index:"資産インデックス",new_asset:"新しい資産",edit_asset:"アセットを編集",print_asset:"資産の印刷",quote_policies:"見積もりポリシー",quote_policy:"見積もり方針",provider_customers:"プロバイダの顧客",new_provider_customer:"新しいプロバイダーのお客様",provider_customer:"プロバイダの顧客",station_customers:"駅のお客様",new_station_customer:"新しい駅の顧客",station_customer:"駅のお客様",provider_contracts:"プロバイダ契約",new_provider_contract:"新しい契約",provider_contract:"プロバイダ契約",new_provider_quotation:"新しい見積もり",provider_quotation:"プロバイダ見積",station_contracts:"ステーション契約",new_station_contract:"新駅契約",station_contract:"駅契約",new_station_quotation:"新しい駅見積",station_quotation:"ステーション見積",scanner:"スキャナー",provider_operations:"オペレーション",edit_provider_operation:"編集操作",driver_commissions:"運転手手数料",materials:"材料",new_material:"新素材",edit_material:"素材を編集",provider_partitions:"パーティション",provider_associated_partitions:"プロバイダ関連パーティション",customer_partitions:"顧客パーティション",new_provider_partition:"新しいパーティション",edit_provider_partition:"パーティションを編集",station_partitions:"駅区画",station_associated_partitions:"ステーション関連区画",new_station_partition:"新しい駅区画",edit_station_partition:"ステーションパーティションを編集",permissions:"許可",permission_groups:"許可グループ",new_permission_group:"新しい許可グループ",edit_permission_group:"権限グループを編集",customer_core_waybills:"顧客への請求書",customer_core_waybills_operation:"得意先運送状オペレーション",customer_show_core_waybill_operation:"顧客運送状オペレーション",customer_show_core_waybill:"顧客運送状",core_waybills:"運送状",core_waybills_operation:"運送状操作",edit_core_waybill_operation:"運送状操作の編集",edit_core_waybill:"運送状の編集",new_core_waybill:"新しい運送状",roles:"ジョブ管理",new_role:"新しいジョブ",edit_role:"位置を編集",settings:"設定",staffs:"スタッフ",new_staff:"新しいスタッフ",staff:"スタッフ",edit_staff:"スタッフを編集",stations:"駅",new_station:"新しい駅",edit_station:"駅を編集",status_prototypes:"ステータスプロトタイプ",new_status_prototype:"新しいステータスプロトタイプ",status_prototype:"ステータスプロトタイプ",edit_status_prototype:"ステータスプロトタイプの編集",pack:"パック",unpack:"開梱",page_404:"404見つかりました",operate:"操作する",appraisals:"鑑定",edit_appraisal:"評価を編集",new_appraisal:"新しい評価",user_logs:"ユーザーログ",user_log:"ユーザーログ",driver_commission_policies:"ドライバーコミッションポリシー",new_driver_commission_policy:"新しいドライバーコミッションポリシー",edit_driver_commission_policy:"ドライバーコミッションポリシーを編集する",driver_commission_reports:"ドライバーコミッションレポート",new_driver_commission_report:"新ドライバーコミッションレポート",driver_commission_report:"ドライバーコミッションレポート",scan_action_prototypes:"スキャンアクションプロトタイプ",scan_action_prototype:"スキャンアクションプロトタイプ",new_scan_action_prototype:"新しいスキャンアクションプロトタイプ",edit_scan_action_prototype:"スキャンアクションのプロトタイプを編集する",provider_node:"設定",customer_operations:"カスタマーオペレーション",show_customer_operation:"カスタマーオペレーション",new_provider_operation:"新しい操作",provider_distributions:"分布",new_provider_distribution:"新しい配布",edit_provider_distribution:"配布を編集",permission_denied:"アクセス拒否"},links:{menu:{provider_index:"背景ホーム",scan:"スキャン管理",scan_action_prototypes:"スキャンアクション",status_prototypes:"貨況管理",numbers:"追跡番号管理",assets:"アセットマネジメント",stations:"サイト管理",materials:"材料管理",uploader:"インポートの詳細",core_waybills:"運送状の合計管理",staffs:"従業員",roles:"ジョブ管理",users:"従業員の管理",routes:"ルーティングテーブル",processed_files:"ドキュメントレコード",provider_partitions:"番号間隔",station_partitions:"番号間隔",provider_uploader:"アップローダ",station_uploader:"アップローダ",customer_uploader:"アップローダ",permission_groups:"許可グループ",provider_operations:"注文管理",station_operations:"注文管理",import_files:"API Openfile",intelligent:"インテリジェント",operation_managers:"オペレーションマネージャー",user_logs:"ユーザー履歴",commission_policies:"委員会の方針",commission_reports:"コミッションレポート",driver_commission_policies:"派遣の駒を集める委員会の方針",driver_commission_reports:"派遣の駒を集めるコミッションレポート",driver_commissions:"派遣の駒を集めるコミッション記録",provider_node:"会社経営",provider_distributions:"配布設定",provider_customers:"顧客管理",station_customers:"顧客管理"},top_menu:{my_receipts:"私の領収書",print_check_summary:"印刷チェックサマリー",scanner:"スキャンシステム",language:"言語",notice:"お知らせ",no_station:"サイトが選択されていない",overtime_note:"時間のヒント",full_logout:"完全なログオフ",full_logout_help:"設定レコードは完全に消去されます。",logout:"キャンセル"}},theme_names:{staff:"スタンダードスタッフ",driver:"ドライバー",manager:"スーパーバイザー",operator:"オペレーター",exception:"例外アカウント",default:"既定のアカウント"},status_scopes:{operator:"内部貨物況",forwarder:"顧客商品況",public:"公共財況",mark:"マーク",condition:"プロセス制御",system:"システム",unknown:"未知"},validator:{is_required:" 必須フィールドです。",greater_than:" より大きくなければなりません ",if:"もし ",is:" 為 ",then:" だから "},notifications:{help:{this_page_is_out_of_date_please_click_here_to_refresh:"このページのデータは最新ではありませんが、ここをクリックしてください。再編成",please_clicked_initialize_again:"クリックしてくださいスキャンシステムの初期化"},success:{fetch:"成功を収める",update:"更新の成功",create:"ビルドの成功",delete:"削除の成功",verify:"検証の成功",upload:"アップロードの成功",__name:"{name}成功",fetch__name:"た名前成功",update__name:"更新名前成功",create__name:"確立名前成功",delete__name:"削除名前成功",verify__name:"確認名前成功",upload__name:"アップロード名前成功",copy__name:"コピー名前成功"},warning:{are_you_sure_to_delete_it:"削除しても OK?",are_you_sure_to_cancel_it:"キャンセルしても OK?"},error:{find:"クエリに失敗{理由} ",fetch:"障害を取得する{理由} ",update:"更新に失敗{理由} ",create:"ビルドの失敗{理由} ",delete:"削除の失敗{理由} ",verify:"検証に失敗{理由} ",upload:"アップロードに失敗{理由} ",copy:"レプリケーションに失敗{理由} ",__name:"{name}失敗 しました",find__name:"お 問い合わせ名前失敗 しました{理由} ",fetch__name:"た名前失敗 しました{理由} ",update__name:"更新名前失敗 しました{理由} ",create__name:"確立名前失敗 しました{理由} ",delete__name:"削除名前失敗 しました{理由} ",verify__name:"確認名前失敗 しました{理由} ",upload__name:"アップロード名前失敗 しました{理由} ",copy__name:"コピー名前失敗 しました{理由} ",no_data:"データなし",please_handle_errors:"次のエラーを処理してください",exception_error_please_contact_the_system_supplier:"例外エラーは、システムベンダにお問い合わせください",please_check_to_write_in_the_required_fields_mark:"請必須フィールドのチェック(*マーク)あなたは本当に記入してください"}},scanner:{settings:{is_scan_mode:{true:"スキャンモード | スキャン",false:"手動モード | 手動"},is_scan_action_mode:{true:"注文操作モード | 注文品",false:"データモードの表示 | ビュー"},is_batch_mode:{true:"バッチ処理 | バッチ | 警告！ が有効 バッチ操作モードでは、番号はカンマで区切る必要がありますが、もはやリマインダーに必要な情報",false:"バッチ処理なし | 不バッチ"},is_operation_mode:{true:"注文モードの使用 | 順序",false:"注文モードを使用しない | 注文なし"},is_core_waybill_pieces_mode:{true:"以上一單 | 以上一單",false:"ない多くの作品1單 | ない多くの作品1單"},is_core_waybill_creation_mode:{true:"運送状を作成 | 作成",false:"運送状を作成ない | 作成ない"},is_webcam_mode:{true:"レンズ | レンズ",false:"レンズをオフにします | レンズをオフにします"},is_update_corewaybill_mode:{true:"運送状の更新 | 運送状の更新",false:"運送状の表示 | 運送状の表示"},is_auto_print_label_mode:{true:"自己可動ラベル | 飾る",false:"非生産ボリュームラベル | 非印刷ラベル"},is_distributed_to_mode:{true:"配布モード | 配布",false:"割り当てられない | 割り当てられない"},is_noty_audio_mode:{true:"キューサウンドモード | キューサウンド",false:"ミュートモード | サイレントサウンド"},is_speech_mode:{true:"音声レポートモード | 声",false:"ミュートボイスメール | 声が出ない"},is_quick_corewaybill_related_columns:{true:"[クイック適用] フィールド | クイック適用",false:"不クイック適用 | 不クイック適用"},is_package_mode:{true:"自動包装 | 包装 | 包装に",false:"パッケージ化されない"},is_unpackage_mode:{true:"自動スプリットパッケージ | スプリットパッケージ | スプリットパッケージ中",false:"パッケージを分割しないでください"},pack_need_source_mode:{short_name:"データの適用",true:"適用",false:"適用しない"},core_waybill_template_mode:{short_name:"表示モード",min_card:"超簡単な運送状ビュー | 極簡",card:"一般運送状検査 | まあまあです",detail:"詳細な運送状検査 | と"}},setting_groups:{LB00:"運送状の開始貨況",LB01:"1.リリース",LB02:"2.配信のポイント",LB06:"3.例外部品",LB07:"3.例外の除外",LB11:"ロック",LB12:"リリースロック",LA00:"運送状の開始貨況",LA01:"1.入庫",LA02:"2.ピット",package:"包装",LA03:"3.送信部分で",LA10:"3.トランスポート",LA09:"3.アウトバウンドコレクショントランジット",LA05:"4.駅に戻る",LA04:"4.装着されている",LA06:"4.例外部品",LA07:"4.例外の除外",LA08:"寄によって返される",LA11:"ロック",LA12:"リリースロック",LA13:"クローズド",LA21:"倉庫に入る",LA22:"棚",LA23:"アウトオブポジション",LA24:"未確認商品",unpackage:"スプリットパッケージ",distributed_to:"配布",pack_house_waybill:"袋の船積み, 袋詰め業務",pack_waybill_goods:"ゆまん, 1票複数個",search:"運送状を確認する",print:"ボリュームラベルの印刷"},menus:{settings:"スキャン設定",setting_group:"セットパッケージ",operation:"順序",package:"包装",core_waybill:"運送 状"},jobs:{job:"ジョブ",clear_jobs:"レコードのクリア",waiting_user_action:"ユーザーの操作を待つ",idle:"アイドル状態で",processing:"プロセスで",success:"成功",failure:"失敗 しました",number:"番号",no_add_status:"まだ新しい況",no_error:"エラーなし",scope:{original_number:"オリジナルの運送状お 問い合わせ",new:"確立新しい運送状"}},package:{packing_material:"包装",package:"包",unpackage:"拆",total__number:"{number}件",detail:"ビュー",hide:"隠す"},upload:{receipt_file:"領収書をアップロードしてください",result:"結果のアップロード"},helps:{select:"選択してください",write:"ご記入ください",scan:"スキャンしてください",quick_required_field_div:"高 速必須フィールドの適用區",current_scan_action_prototype:"現在のステータスバーコード",distributed_result:"配布結果",you_dont_any_operation:"現在、ご注文はありません",write_or_scan_barcode:"数値を入力するか、バーコードをスキャンする",write_related_columns:"必要事項をご記入ください。",write_scan_action_note:"品物を記入してください況メモ",write_number:"番号を入力してください",select_scan_action:"バーコードステータスを選択してください",select_pack_taget_parent:"パッケージの材質を選択してください",select_pack_taget:"パッケージターゲットを選択してください",select_target_layer:"ターゲットレイヤを選択してください",selected_operation:"注文が選択されました",distributed:{please_select:"選択してください",current_station:"現在のサイト",can_use_distributed_to_mode:"配布を有効にする前に"}},alerts:{is_created:"を作成しますか",required:"入力する必要があり",previous:"前のステップ",give_up:"与える",definite:"確かですか",please_write:"ご記入ください",required_field:"必須フィールド",if_have_write:"あなたが1つを持っている場合は、それを埋める",upload_receipt_img:"領収書をアップロードしてください",upload_result:"結果のアップロード",uploading:"アップロードで",please_write_scan_note:"品物を記入してください況メモ"},operations:{total:"合計 {Operations_length} 委託形態、{Sum_core_waybills}商品の一部",contents:"コンテンツの運送状",current_operation_set_to:"現在の注文は",clear_current_operation:"現在の注文が空になっています"},success:{quick_setting:"高速セットアップの成功"},errors:{web_camera_error_will_close:"WebCamera 起動に失敗、自動的に閉じます",multiple_numbers_in_batch_mode:"一括操作で複数の番号を入力してください",setting_group_not_found:"このクイックセットパッケージはありません",setting_not_found:"このようなクイック設定はありません",partition_not_found:"選択パーティションなし",core_waybill_not_found:"番号をチェックしない",failed_to_fetch_core_waybill_statuses:"品物をチェックする況情報の障害",failed_to_instantiate_scan_action_prototype:"スキャン操作に失敗しました",failed_to_update_core_waybill_related_column:"必要な運送状の更新フィールドの失敗",give_up_core_waybill_related_columns:"運送状必要事項を記入する",give_up_scan_action_description:"貨況必要な発言は記入されていない",give_up_create_core_waybill:"未運送状の設定"}},pages:{customer_home:{title:"顧客管理へようこそ"},partials:{page_404:{cant_find_page:"ページが見つかりません"},permission_denied:{you_dont_permission:"アクセス許可がありません"},login_expiration_hint_modal:{idle:"アイドル",content:"システムは、あなたが長い間動いていないことを知っています。{time}の後、自動的にログアウトされます。",i_am_back:"I will be back！"}},login:{customer_management_login:"顧客のログイン",provider_management_login:"バックグラウンドログの管理",station_management_login:"Stationの管理",please_enter_your_account_and_password:"アカウント番号とパスワードを入力してください。",account:"アカウント",password:"パスワード",verification_code:"確認コードを入力してください。",pass_next_timeout_will_dont_warn:"次の時間のチェックを渡すことができます、私はプロンプトが表示されません囉",btns:{auto_input_test_account:"テストアカウントの自動入力",login:"ログイン"},errors:{your_site_has_not_registered_system:"サイトがこのシステムに登録されていません",please_fill_in_the_verification_code:"確認コードを入力してください。",account_or_password_incorrect:"アカウントまたはパスワードが正しくない",verification_code_incorrect:"検証コードエラー",verification_code_expired:"タイムアウト時に検証コードの有効期限が切れる",failure_to_login:"ログインに失敗しました",timeout:"アイドル時間が長すぎる自動ログオフ"}},appraisals:{point:"スコア",reason:"件名",staff_identity:"従業員",registrant_identity:"登録者"},monitor:{menu_title:{all:"すべての",myself:"個人",station:"サイト"},title:{all_pending_operations:"すべての保留中の注文",all_pending_waybills:"すべての滞在運送状の取扱い",pending_operations:"保留中の注文",pending_waybill_in_operations:"保留中の注文運送状の取扱い",pending_waybills:"待運送状の取扱い"},sub_title:{not_completed_operations:"未完成の注文",not_completed_waybills:"完了しません運送状",assigned_to_me_but_not_completed_operations:"配布私のための注文が完了していない処理する",assigned_to_me_but_not_completed_waybill_in_operations:"自分に割り当てられた注文が完了しませんでした運送状",the_unfinished_waybill_that_was_last_my_scanned:"私は最終的に私の手でそれをスキャンしたが、私はそれを完了していない。運送状",assigned_to_stationg_but_not_completed_operations:"に割り当てら <span style='color: green;'>{station_name}</span> 処理済みで完了していない注文",assigned_to_stationg_but_not_completed_waybill_in_operations:"配給 <span style='color: green;'>{station_name}</span> 処理された指図は完了していません運送状"}},assets:{categories:"資産の種類",print_barcode:"バーコードの印刷",have_category:"既存のカテゴリ",clear_value:"この列をクリアする",helps:{no_anything_category:"カテゴリはまだありません",no_anything_assets:"資産はまだありません",write_or_use_category_list:"入力するか、右側のリストを選択します。",please_clicked_upper_left_new_asset_button:"左側の [新しいアセットの追加] ボタンをクリックして、"}},customer_contracts:{additional_information:"追加情報"},customers:{contracts:"契約",normal:"通常",banned:"右に停止",unbanned:"再右",is_banned:"右停止",proxy_login:"プロキシログイン",basic_information:"基本データ",common_sender_information:"頻繁に使用される送信者情報",common_consignee_information:"共通の受取人情報",is_open_use_associated_partition:"私の番号の範囲を使用するために開いているか。",is_open_use_use_yourself_partition:"あなた自身の番号範囲を使用して開いていますか?",show_basic_information:"顧客のアカウント名、連絡先情報及び使用権を編集、表示",show_common_sender_information:"編集、共通送信者情報の表示",show_common_consignee_information:"編集、共通受信者情報の表示",show_contracts:"顧客が所有する契約",contract:{name:"名前",created_at:"生成日"},helps:{the_password_does_not_match_the_confirmation_password:"パスワードが確認パスワードと一致しません"}},distributions:{activated:"が有効",unactivated:"が有効ではない",add_condition:"条件の追加",add_condition_help:"どのように条件を書くのですか?",add_condition_help_content_1:"1.同じ条件タイプのアイテムがまたは項目の別の条件タイプが行われます。そして比較、例えば: 台北の自治体+自治体の信義地区地区+自治体の中正地区地区+新台北市、市町村+地域の流通条件を満たす市町村の新店地区には5つの条件があり、台北市、信義区、台北市中正区、新備新店区",add_condition_help_content_2:"2.完全な繁体字中国語の名前を記入してください",condition_type:"条件タイプ",content:"コンテンツ",undo:"復元",filter:{direct:"站ドットストレートパイ",intermodal:"トランス輸送"}},driver_commissions:{driver:"ドライバー",no_done:"まだ解決していない",core_waybill_number:"運送状番号"},driver_commission_policies:{activated_switch:"スイッチを有効にする",activated:"有効",pickup:"一般部品",bag:"バッグ",table:{general_pickup:"一般的なピックアップ",general_delivery:"一般納入部品",bag_pick:"袋詰めピックアップ",bag_delivery:"バッグデリバリーパーツ",is_activated:"有効",first_weight:"最初の重量",first_price:"ファーストパール",follow_up_weight:"継続重量",follow_up_price:"続き真珠"}},driver_commission_reports:{total_amount_of_commission:"コミッション総額",print:"印刷",setting:"印刷",print_setting:"印刷設定",detailed_mode:"冗長モード",from:"從",to:"至",status:"状態",no_select_date:"選択されない",start_all:"すべて開始",go_to_report:"レポートに移動",table:{pickup_details:"ピックアップの詳細",dispatch_details:"クリアの作品を送る細",No:"シリアル番号",number:"番号",weight:"重量",date:"日付",commission:"委員 会(元)",total:"合計"},filter:{staff_name:"人事",begin_at:"開始日の計算",end_at:"計算訖日",total_amount_from:"コミッション金額...",total_amount_to:"コミッション金額...",created_at:"生成日"}},nodes:{company_information:"会社情報"},operations:{provider_note_value:"差出人の名前: \n差出人電話番号: \n ",processing:"プロセスで",contract:"契約",content:"注文内容",schedule:"進行 状況",waybill_amount:"特異",print_receipt:"レシートフォームの印刷",print_coew_waybill_labels:"印ラベルのラベル",print_coew_waybill_checklist:"出荷の概要フォームを印刷",delete_help:"注文を削除すると、下位のバッグにリンクされます。運送 状、サブオーダー...を削除し、",_name_operation_list:"{name}出荷サマリーテーブル",_name_customer_receipt:"{name}顧客受領書フォーム",helps:{please_confirm_sender_and_contract_are_selected:"差出人と契約が選択されていることを確認してください。"},table:{finish:"完了",total:"合計"}},partitions:{automatic_number:"自動フェッチ番号",use_yourself:"占領",statistics:"統計",total_amount:"合計数量",available_quantity:"利用可能数量",if_use_it_yourself_do_not_write:"如あなたの個人的な使用を空白のままにしてください"},uploader:{redo:"やり直し",open_file:"ファイルを開く",operation_list:"出荷サマリーテーブル",upload_operation_list:"出荷サマリーテーブルのアップロード",selected:"が選択されている",contract:"契約",your_actions:"あなたの行動",operation_order:"委託指図",field_data_succeeded:"フィールドチェックに成功しました",checking_waybill_data_ok:"運送状の内容チェック完了",checking_operation_data_ok:"完了した注文内容の入力",upload_detail_completed:"詳細アップロード完了",continue_next_file:"次のドキュメントのアップロードを続行",materialization_operation:"受注の明示",consignment:"チェック",delivery:"配布",total:"合計",total__number:"{number}筆",dimmer:{what_do_you_want_now:"あなたが今したい",please_upload_your_file:"プロフィールをアップロードしてください。",download_sample_file:"サンプルファイルをダウンロードする",clicked_this_card_redo:"このカードをクリックすると再起動します",select_file:"プロファイルの選択"},steps:{title:{operation:"順序",confirm_data:"データの確認",upload_data:"データのアップロード"},description:{operation_content:"この委託の内容を示す",confirm_data_is_correct:"データが正しいことを確認してください",upload_data_to_server:"サーバーへのデータのアップロード"}},file:{name:"Filename",size:"ファイルサイズ",path:"ファイルのダウンロードパス",upload:"ファイルのアップロード",complete:"完了",not_uploaded:"まだアップロードされていない"},column_verification:{required_field:"必須フィールド",unknown_waybill:"不明な運送状"}},scan_action_prototypes:{binding_material:"アイテムのバインド",print_barcodes:"印刷物況バーコード",field_name:"フィールド名",value:"数値"},staffs:{appraisals:"評価",normal:"通常",banned:"右に停止",unbanned:"再右",is_banned:"右停止"},user_logs:{record_object:"レコードオブジェクト",operator:"演算子による",field_name:"フィールド名",value:"数値",yes:"是",no:"否"},core_waybills:{done:"完了",print_filter_result_labels:"検索ボリュームラベルの印刷",export_csv_file:"エクスポートCSV ",export_clearance_csv_file:"クリアランスCSV",export_daily_csv_file:"日レポートのエクスポート",download_daily_csv_file:"日レポートのダウンロード",please_select_partition:"番号範囲を選択してください",back_to_select_partition:"返す 番号範囲の選択",partition_number_from:"開始番号",partition_number_to:"終了番号",again:"再",upload_picture:"画像のアップロード",no_upload_any_picture:"アップロードなしイメージ",system_generation:"システムの生成",have_contained_status:"商品を含むために使用される況",is_where_like_filter_mode:"ファジー検索",is_not_where_like_filter_mode:"正確な検索",status:{"可使用":"使用することができ","使用中":"使用中","曾經使用過":"これまで使用","可放行":"発売可能","放行中":"リリースで","曾經放行過":"一度解放される。","可點交":"配信することができます。","點交中":"手に。","曾經點交過":"私はそれを持っていた。","可收貨":"品物を受け取ることができる","收貨中":"品物のレシートで","曾經收貨過":"出荷を受け取った後","可進站":"ピット缶","進站中":"ピットで。","曾經進站過":"ピットに一度。","可配送":"出荷可能","配送中":"配布で","曾經配送過":"出荷されている","可回站":"駅に戻る","回站中":"駅に戻る","曾經回站過":"私は私の駅に戻ってきた","可配達":"アップ装備可能","配達中":"で一致する","曾經配達過":"ある時以上に一致する","可中轉":"リレーできる","中轉中":"トランジットで","曾經中轉過":"輸送中だ","可聯運":"組み合わせることができ","聯運中":"インターモーダル","曾經聯運過":"これは、インターモーダルされている。","可異常件":"異常な部分ができます","異常件中":"例外の部分で","曾經異常件過":"ある時異常な部分も","可鎖定":"ロックでき","鎖定中":"でロック","曾經鎖定過":"一度ロック。","可完成":"完了することができ","完成中":"に完成","曾經完成過":"済んだ事だ",USABLE:"のために利用できる",CHECKABLE:"ピット缶",SHIPPABLE:"出荷可能",SHIPPING:"配布で",TRANSFERING:"商品コレクションの輸送中",EXCEPTIONABLE:"異常箇所を設定可能",EXCEPTIONING:"例外部品",SENDER_REGRETABLE:"差出人が返信できない",CHECKING:"駅にいる",TRANSFERABLE:"商品をセットできますトランジット",INTERMODALABLE:"組み合わせることができ",INTERMODALING:"インターモーダル",RELEASABLE:"発売可能",CAN_HAND_OVER:"配信することができます。",LOCKING:"でロック",IS_DONE:"装着されている",system:"システム",condition:"システム",administrator:"管理者",operator:"内部貨物況",forwarder:"顧客",public:"公共",mark:"マーク",no_latest_status:"最新の商品はありません況"},filter:{asynchronous:"非同期検索",find__key:"検索{key}... ",find_number:"運送状番号の検索...",clear:"空",numbers:"番号",waybill_content:"運送状情報",status:"貨況",have_contained:"と一度含まれて",clearance_date:"通関日",selected_is_used:"ステータスを選択してください",is_used:{true:"使用されている",flase:"使わない"},material:"材料",selected_material:"項目を選択してください",selected_station:"どこ",selected_staff:"誰",selected_status:"貨況",selected_status_scope:"カテゴリ",selected_polarity:"は/じゃない",polarity:{positive:"は",negative:"じゃない"},status_depiction:{now:"今すぐ 運送 状",at_the:"在",in_the:"在",by:"由",handle:"処理",before_by:"で一度",added:"追加した"}}}},toolbox:{back_to_top_button:{back_to_top:"先頭へ戻る"},bulletin_board:{name:"掲示板",message:"メッセージ",no_messages:"メッセージはまだありません!",talk_your_comment:"皆さんの意見を教えてください。"},crud_templates:{new:"新"},core_waybills_label_svg:{labels:{paper_type:"紙の種類",printing_type:"印刷タイプ",paper_size:"用紙サイズ",template:"テンプレート"},printing_types:{"Label::Default":"デフォルト","Label::ByExpress":"ByExpress","Label::ChangQing":"長清","Label::FlyCargo":"FlyCargo","Label::Condor180":"Condor","Label::Pelican":"Pelican","Label::HCT":"HCT","Label::TCat":"TCat","Label::FamilyMart":"FamilyMart","Label::Presco":"Presco","Label::Invoice":"領収書","Label::FamilyMartInvoice":"FamilyMart(含む領収書)","Label::PrescoInvoice":"Presco(含む領収書)"},btns:{print:"印刷",old_print:"古い印刷",new_print:"新し印刷"},helps:{numbers_input:"数 例: 123456789 "},errors:{no_authentication_token:"ポップス パラメータを与えてください Authentication_token ",no_number:"番号を入力してください"}},core_waybill:{parent_core_waybill:"上の運送状",child_core_waybill:"低い運送状",no_any_parent_and_child_waybill:"アッパーなし低い運送状",use_partition:"使用される番号範囲",partition_number_from:"開始番号",partition_number_to:"終了番号",btns:{label:"ボリュームラベルの展開",print:"印刷",print_again:"再び印刷",update:"更新",switch_style:"トグルスタイル",simple:"簡単",detail:"と"},helps:{source:"データソース",is_deleted:"が削除されています。",tooltip_have_source_core_waybill:"現在の運送状データから数，クリックして編集"},errors:{please_clicked_initialize_again:"クリックしてくださいスキャンシステムの初期化",change_template_error:"バージョンエラーの切り替え",no_number:"番号なし",invalid_loading_image:"無効な読み込み画像",waybill_no_label_class_cant_print:"この運送状は結ばれていないボリュームラベルの種類、標準を生成できません",props_is_can_print_label_unable:"パラメーター Is_can_print_label 有効化なし",no_label_type:"ボリュームラベルの種類が指定されていません",label_type_error:"ボリュームラベルの種類が間違っています",label_paper_type_error:"用紙の種類が間違っている"}},core_waybills:{quick_update_table:"クイック更新テーブル",quick_update:"クイックアップデート",batch_edit:"バッチ修正",no_station:"品なし況",packed_in:"にパッケージ化",deleted:"削除されました",add_table:"フォームに参加"},operation_summary:{print_operation_list:"出荷サマリーテーブルの印刷",table:{sender_signature:"送信者署名",driver_signature:"レシートドライバの署名"}},receipts:{print_receipt:"レシートフォームを印刷する"},stations_modal:{turn_of_GPS:"シャットダウンGPs ",turn_on_GPS:"開くGPs ",turn_on_auto_tracking:"自動決定が有効になっている",modify_current_station:"現在のサイトを変更する",please_select_the_current_station:"まず現在のサイトを選択してください",you_are_not_a_manager_will_modify_station_please_contact_the_manager:"あなたは経営者ではありません, 将来的にサイトを置き換える 管理者に連絡してください",you_do_not_belong_station_will_update_your_data_after_selection:"您現在サイトはありません, 選択が完了したら、ユーザーデータを更新します。",current_station:"現在のサイト",tracking_GPS:"要求GPS ",decisioning:"判断で",cancel_current_station:"現在のサイトをキャンセルする",btns:{track_once:"自動判定(A)",auto_tracking_every_minute:"自動判定(1分あたり)"},errors:{geolocation_is_not_supported_by_this_browser:"現在のブラウザ不アクセスおよび位置決め機能をサポート",your_web_protocol_is_not_HTTPS:"ご利用くださいHTTPSサービスへのアクセス",get_location_failure:"た 位置関数が失敗しました"}},speed_test:{network_quality:"オンライン品質"},my_receipts:{neme:"私の領収書フォーム。",force_current_station:"現在のサイトを強制的に",print:"{page}印刷{note}",customer_receipt:"顧客受領書フォーム"},notifications:{mark_all_read:"すべて開封済みにする",no_new_notifications:"新しいダイナミクスはありません。",no_news:{title:"新しい通知はありません",content:"現在新しい通知はありません。すべての新しい通知がここに表示されます。"}}},el:{colorpicker:{confirm:"確認",clear:"空"},date_option_shortcut:{today:"今日",three_days:"3日前",week:"一週間前",month:"1か月前",three_months:"3か月前",six_months:"半年前"},daterange_option_shortcut:{today:"本日は",three_days:"最後の3日間",week:"先週です",month:"最後の1ヶ月",three_months:"最後の3ヶ月",six_months:"最後の半年"},datepicker:{now:"今すぐ",today:"本日は",cancel:"キャンセル",clear:"空",custom:"カスタム",confirm:"確認",selectDateTime:"日付時刻の選択",selectDate:"日付の選択",selectTime:"時間の選択",startDate:"開始日",startTime:"開始時刻",endDate:"終了日",endTime:"終了時刻",prevYear:"1年前",nextYear:"1年後",prevMonth:"先月",nextMonth:"来月",year:"年",month1:"1 月",month2:"2 月",month3:"3 月",month4:"4 月",month5:"5 月",month6:"6 月",month7:"7 月",month8:"8 月",month9:"9 月",month10:"10 月",month11:"11 月",month12:"12 月",week:"Moonphases",weeks:{sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},months:{jan:"月",feb:"2月",mar:"3月",apr:"4月",may:"が",jun:"6 月",jul:"7 月",aug:"8 月",sep:"9 月",oct:"10 月",nov:"11 月",dec:"12 月"}},select:{loading:"に負荷",noMatch:"一致するデータがありません",noData:"無データ",placeholder:"選択してください"},cascader:{noMatch:"一致するデータがありません",loading:"に負荷",placeholder:"選択してください"},pagination:{goto:"宛先",pagesize:"項/頁",total:"共 合計 項",pageClassifier:"頁"},messagebox:{title:"ヒント",confirm:"確かですか",cancel:"キャンセル",error:"入力されたデータがルールと一致しません!"},upload:{deleteTip:"按 削除 削除するキー",delete:"削除",preview:"写真を見る",continue:"アップロードの続行"},table:{emptyText:"現在データがありません",confirmFilter:"スクリーニング",resetFilter:"リセット",clearFilter:"すべての",sumText:"合計"},tree:{emptyText:"現在データがありません"},transfer:{noMatch:"一致するデータがありません",noData:"無データ",titles:["List 1","List 2"],filterPlaceholder:"キーワードを入力してください",noCheckedFormat:"{total} 項目",hasCheckedFormat:"{checked}/{total} チェック"}}}}},dcbb:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",["native"==e.theme?i("div",[i("input",{attrs:{type:"file",accept:"image/*",capture:"camera"},on:{change:e.upload}})]):"classic"==e.theme?i("div",["default"==e.status?i("div",[i("label",{staticClass:"ui icon basic disabled button"},[i("i",{staticClass:"upload icon"}),e._v("\n                "+e._s(e.button_text)+"\n            ")])]):"uploading"==e.status?i("div",[i("label",{staticClass:"ui icon basic loading button"},[i("i",{staticClass:"upload icon"}),e._v("\n                "+e._s(e.button_text)+"\n            ")])]):"ready"==e.status?i("div",[i("label",{staticClass:"ui icon basic button",attrs:{for:e._uid+"file_uploader"}},[i("i",{staticClass:"upload icon"}),e._v("\n                "+e._s(e.button_text)+"\n            ")]),i("input",{ref:"input_file_field",staticStyle:{display:"none"},attrs:{type:"file",id:e._uid+"file_uploader",accept:"image/*",capture:"camera"},on:{change:e.upload}})]):e._e()]):"compact"==e.theme?i("div",["default"==e.status?i("div",[e._m(0)]):"uploading"==e.status?i("div",[e._m(1)]):"ready"==e.status?i("div",[i("label",{staticClass:"ui icon basic button",attrs:{for:e._uid+"file_uploader"}},[i("i",{staticClass:"upload icon"})]),i("input",{staticStyle:{display:"none"},attrs:{type:"file",id:e._uid+"file_uploader",accept:"image/*",capture:"camera"},on:{change:e.upload}})]):e._e()]):e._e()])},s=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{staticClass:"ui icon basic disabled button"},[i("i",{staticClass:"upload icon"})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{staticClass:"ui icon basic loading button"},[i("i",{staticClass:"upload icon"})])}],a={name:"ToolFileUploaderMain",props:{theme:{type:String,default:"classic"},button_text:{type:String,default:"選擇檔案"},channel:String},data:function(){return{status:"default",file:null,uploaded_file:null}},computed:{},created:function(){},mounted:function(){var e=this;this.$bus.$on(this.channel,function(t,i,n){if("file_uploader"!=t)switch(i){case"show_uploaded_file":e.$bus.$emit(e.channel,"file_uploader","uploaded_file",e.uploaded_file);break;case"open_file_browser":$(e.$refs.input_file_field).click();break}}),this.status="ready"},watch:{},methods:{upload:function(e){var t=this,i=new RestUrl("https://air.formosaas.com/api/v1/:app_id/cloud/:access_token/:identity/bucket/:bucket_identity/upload").parse({app_id:this.$store.state.provider.node.air_service.air_app_id,access_token:this.$store.state.provider.node.air_service.air_access_token,identity:this.$store.state.provider.node.air_service.air_identity,bucket_identity:this.$store.state.provider.node.air_service.air_bucket_identity,air_authorization:this.$store.state.provider.node.air_service.air_authorization},"?authorization="+this.$store.state.provider.node.air_service.air_authorization+"&is_froala=true");if(this.file=e.target.files[0],this.status="uploading",this.$bus.$emit(this.channel,"file_uploader","uploading",this.file.name),null!==this.file&&void 0!==this.file){var n=new FormData;n.append("file",this.file),axios.post(i,n).then(function(e){e.data.link?(t.$bus.$emit(t.channel,"file_uploader","upload complete",decodeURIComponent(e.data.link)),t.uploaded_file=t.file,t.file=null):(console.log(e.data),t.$bus.$emit(t.channel,"file_uploader","upload failed",t.file.name))})["catch"](function(e){t.$bus.$emit(t.channel,"file_uploader","upload failed",t.file.name)}).then(function(){t.status="ready"})}}},components:{}},r=a,o=i("2877"),c=Object(o["a"])(r,n,s,!1,null,"6d582e30",null);t["a"]=c.exports},dcca:function(e,t,i){var n;function s(e){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}(function(){var a,r,o,c,_,l,u,d,p,m,f,h,v,g,b,y,w,$,k,x,C,P,S,N,q,A,E,z,j,R,O,I,D,L,T,B,M,U,F,Y,G,H,K,W,V,X,Q,Z,J,ee=[].slice,te={}.hasOwnProperty,ie=function(e,t){for(var i in t)te.call(t,i)&&(e[i]=t[i]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},ne=[].indexOf||function(e){for(var t=0,i=this.length;t<i;t++)if(t in this&&this[t]===e)return t;return-1};for(C={catchupTime:100,initialRate:.03,minTime:250,ghostTime:100,maxProgressPerFrame:20,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!1,ignoreURLs:[]}},j=function(){var e;return null!=(e="undefined"!==typeof performance&&null!==performance&&"function"===typeof performance.now?performance.now():void 0)?e:+new Date},O=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,x=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==O&&(O=function(e){return setTimeout(e,50)},x=function(e){return clearTimeout(e)}),D=function(e){var t,i;return t=j(),i=function(){var n;return n=j()-t,n>=33?(t=j(),e(n,function(){return O(i)})):setTimeout(i,33-n)},i()},I=function(){var e,t,i;return i=arguments[0],t=arguments[1],e=3<=arguments.length?ee.call(arguments,2):[],"function"===typeof i[t]?i[t].apply(i,e):i[t]},P=function(){var e,t,i,n,a,r,o;for(t=arguments[0],n=2<=arguments.length?ee.call(arguments,1):[],r=0,o=n.length;r<o;r++)if(i=n[r],i)for(e in i)te.call(i,e)&&(a=i[e],null!=t[e]&&"object"===s(t[e])&&null!=a&&"object"===s(a)?P(t[e],a):t[e]=a);return t},w=function(e){var t,i,n,s,a;for(i=t=0,s=0,a=e.length;s<a;s++)n=e[s],i+=Math.abs(n),t++;return i/t},N=function(e,t){var i,n,s;if(null==e&&(e="options"),null==t&&(t=!0),s=document.querySelector("[data-pace-"+e+"]"),s){if(i=s.getAttribute("data-pace-"+e),!t)return i;try{return JSON.parse(i)}catch(a){return n=a,"undefined"!==typeof console&&null!==console?console.error("Error parsing inline pace options",n):void 0}}},u=function(){function e(){}return e.prototype.on=function(e,t,i,n){var s;return null==n&&(n=!1),null==this.bindings&&(this.bindings={}),null==(s=this.bindings)[e]&&(s[e]=[]),this.bindings[e].push({handler:t,ctx:i,once:n})},e.prototype.once=function(e,t,i){return this.on(e,t,i,!0)},e.prototype.off=function(e,t){var i,n,s;if(null!=(null!=(n=this.bindings)?n[e]:void 0)){if(null==t)return delete this.bindings[e];i=0,s=[];while(i<this.bindings[e].length)this.bindings[e][i].handler===t?s.push(this.bindings[e].splice(i,1)):s.push(i++);return s}},e.prototype.trigger=function(){var e,t,i,n,s,a,r,o,c;if(i=arguments[0],e=2<=arguments.length?ee.call(arguments,1):[],null!=(r=this.bindings)?r[i]:void 0){s=0,c=[];while(s<this.bindings[i].length)o=this.bindings[i][s],n=o.handler,t=o.ctx,a=o.once,n.apply(null!=t?t:this,e),a?c.push(this.bindings[i].splice(s,1)):c.push(s++);return c}},e}(),m=window.Pace||{},window.Pace=m,P(m,u.prototype),R=m.options=P({},C,window.paceOptions,N()),Q=["ajax","document","eventLag","elements"],K=0,V=Q.length;K<V;K++)M=Q[K],!0===R[M]&&(R[M]=C[M]);p=function(e){function t(){return Z=t.__super__.constructor.apply(this,arguments),Z}return ie(t,e),t}(Error),r=function(){function e(){this.progress=0}return e.prototype.getElement=function(){var e;if(null==this.el){if(e=document.querySelector(R.target),!e)throw new p;this.el=document.createElement("div"),this.el.className="pace pace-active",document.body.className=document.body.className.replace(/pace-done/g,""),document.body.className+=" pace-running",this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',null!=e.firstChild?e.insertBefore(this.el,e.firstChild):e.appendChild(this.el)}return this.el},e.prototype.finish=function(){var e;return e=this.getElement(),e.className=e.className.replace("pace-active",""),e.className+=" pace-inactive",document.body.className=document.body.className.replace("pace-running",""),document.body.className+=" pace-done"},e.prototype.update=function(e){return this.progress=e,this.render()},e.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(e){p=e}return this.el=void 0},e.prototype.render=function(){var e,t,i,n,s,a,r;if(null==document.querySelector(R.target))return!1;for(e=this.getElement(),n="translate3d("+this.progress+"%, 0, 0)",r=["webkitTransform","msTransform","transform"],s=0,a=r.length;s<a;s++)t=r[s],e.children[0].style[t]=n;return(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(e.children[0].setAttribute("data-progress-text",(0|this.progress)+"%"),this.progress>=100?i="99":(i=this.progress<10?"0":"",i+=0|this.progress),e.children[0].setAttribute("data-progress",""+i)),this.lastRenderedProgress=this.progress},e.prototype.done=function(){return this.progress>=100},e}(),d=function(){function e(){this.bindings={}}return e.prototype.trigger=function(e,t){var i,n,s,a,r;if(null!=this.bindings[e]){for(a=this.bindings[e],r=[],n=0,s=a.length;n<s;n++)i=a[n],r.push(i.call(this,t));return r}},e.prototype.on=function(e,t){var i;return null==(i=this.bindings)[e]&&(i[e]=[]),this.bindings[e].push(t)},e}(),H=window.XMLHttpRequest,G=window.XDomainRequest,Y=window.WebSocket,S=function(e,t){var i,n;for(i in n=[],t.prototype)try{null==e[i]&&"function"!==typeof t[i]?"function"===typeof Object.defineProperty?n.push(Object.defineProperty(e,i,{get:function(){return t.prototype[i]},configurable:!0,enumerable:!0})):n.push(e[i]=t.prototype[i]):n.push(void 0)}catch(s){s}return n},E=[],m.ignore=function(){var e,t,i;return t=arguments[0],e=2<=arguments.length?ee.call(arguments,1):[],E.unshift("ignore"),i=t.apply(null,e),E.shift(),i},m.track=function(){var e,t,i;return t=arguments[0],e=2<=arguments.length?ee.call(arguments,1):[],E.unshift("track"),i=t.apply(null,e),E.shift(),i},B=function(e){var t;if(null==e&&(e="GET"),"track"===E[0])return"force";if(!E.length&&R.ajax){if("socket"===e&&R.ajax.trackWebSockets)return!0;if(t=e.toUpperCase(),ne.call(R.ajax.trackMethods,t)>=0)return!0}return!1},f=function(e){function t(){var e,i=this;t.__super__.constructor.apply(this,arguments),e=function(e){var t;return t=e.open,e.open=function(n,s,a){return B(n)&&i.trigger("request",{type:n,url:s,request:e}),t.apply(e,arguments)}},window.XMLHttpRequest=function(t){var i;return i=new H(t),e(i),i};try{S(window.XMLHttpRequest,H)}catch(n){}if(null!=G){window.XDomainRequest=function(){var t;return t=new G,e(t),t};try{S(window.XDomainRequest,G)}catch(n){}}if(null!=Y&&R.ajax.trackWebSockets){window.WebSocket=function(e,t){var n;return n=null!=t?new Y(e,t):new Y(e),B("socket")&&i.trigger("request",{type:"socket",url:e,protocols:t,request:n}),n};try{S(window.WebSocket,Y)}catch(n){}}}return ie(t,e),t}(d),W=null,q=function(){return null==W&&(W=new f),W},T=function(e){var t,i,n,s;for(s=R.ajax.ignoreURLs,i=0,n=s.length;i<n;i++)if(t=s[i],"string"===typeof t){if(-1!==e.indexOf(t))return!0}else if(t.test(e))return!0;return!1},q().on("request",function(e){var t,i,n,s,r;if(s=e.type,n=e.request,r=e.url,!T(r))return m.running||!1===R.restartOnRequestAfter&&"force"!==B(s)?void 0:(i=arguments,t=R.restartOnRequestAfter||0,"boolean"===typeof t&&(t=0),setTimeout(function(){var e,t,r,o,c,_;if(e="socket"===s?n.readyState<2:0<(o=n.readyState)&&o<4,e){for(m.restart(),c=m.sources,_=[],t=0,r=c.length;t<r;t++){if(M=c[t],M instanceof a){M.watch.apply(M,i);break}_.push(void 0)}return _}},t))}),a=function(){function e(){var e=this;this.elements=[],q().on("request",function(){return e.watch.apply(e,arguments)})}return e.prototype.watch=function(e){var t,i,n,s;if(n=e.type,t=e.request,s=e.url,!T(s))return i="socket"===n?new g(t):new b(t),this.elements.push(i)},e}(),b=function(){function e(e){var t,i,n,s,a,r=this;if(this.progress=0,null!=window.ProgressEvent)for(null,e.addEventListener("progress",function(e){return e.lengthComputable?r.progress=100*e.loaded/e.total:r.progress=r.progress+(100-r.progress)/2},!1),a=["load","abort","timeout","error"],i=0,n=a.length;i<n;i++)t=a[i],e.addEventListener(t,function(){return r.progress=100},!1);else s=e.onreadystatechange,e.onreadystatechange=function(){var t;return 0===(t=e.readyState)||4===t?r.progress=100:3===e.readyState&&(r.progress=50),"function"===typeof s?s.apply(null,arguments):void 0}}return e}(),g=function(){function e(e){var t,i,n,s,a=this;for(this.progress=0,s=["error","open"],i=0,n=s.length;i<n;i++)t=s[i],e.addEventListener(t,function(){return a.progress=100},!1)}return e}(),c=function(){function e(e){var t,i,n,s;for(null==e&&(e={}),this.elements=[],null==e.selectors&&(e.selectors=[]),s=e.selectors,i=0,n=s.length;i<n;i++)t=s[i],this.elements.push(new _(t))}return e}(),_=function(){function e(e){this.selector=e,this.progress=0,this.check()}return e.prototype.check=function(){var e=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return e.check()},R.elements.checkInterval)},e.prototype.done=function(){return this.progress=100},e}(),o=function(){function e(){var e,t,i=this;this.progress=null!=(t=this.states[document.readyState])?t:100,e=document.onreadystatechange,document.onreadystatechange=function(){return null!=i.states[document.readyState]&&(i.progress=i.states[document.readyState]),"function"===typeof e?e.apply(null,arguments):void 0}}return e.prototype.states={loading:0,interactive:50,complete:100},e}(),l=function(){function e(){var e,t,i,n,s,a=this;this.progress=0,e=0,s=[],n=0,i=j(),t=setInterval(function(){var r;return r=j()-i-50,i=j(),s.push(r),s.length>R.eventLag.sampleCount&&s.shift(),e=w(s),++n>=R.eventLag.minSamples&&e<R.eventLag.lagThreshold?(a.progress=100,clearInterval(t)):a.progress=3/(e+3)*100},50)}return e}(),v=function(){function e(e){this.source=e,this.last=this.sinceLastUpdate=0,this.rate=R.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=I(this.source,"progress"))}return e.prototype.tick=function(e,t){var i;return null==t&&(t=I(this.source,"progress")),t>=100&&(this.done=!0),t===this.last?this.sinceLastUpdate+=e:(this.sinceLastUpdate&&(this.rate=(t-this.last)/this.sinceLastUpdate),this.catchup=(t-this.progress)/R.catchupTime,this.sinceLastUpdate=0,this.last=t),t>this.progress&&(this.progress+=this.catchup*e),i=1-Math.pow(this.progress/100,R.easeFactor),this.progress+=i*this.rate*e,this.progress=Math.min(this.lastProgress+R.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},e}(),U=null,L=null,$=null,F=null,y=null,k=null,m.running=!1,A=function(){if(R.restartOnPushState)return m.restart()},null!=window.history.pushState&&(X=window.history.pushState,window.history.pushState=function(){return A(),X.apply(window.history,arguments)}),null!=window.history.replaceState&&(J=window.history.replaceState,window.history.replaceState=function(){return A(),J.apply(window.history,arguments)}),h={ajax:a,elements:c,document:o,eventLag:l},(z=function(){var e,t,i,n,s,a,o,c;for(m.sources=U=[],a=["ajax","elements","document","eventLag"],t=0,n=a.length;t<n;t++)e=a[t],!1!==R[e]&&U.push(new h[e](R[e]));for(c=null!=(o=R.extraSources)?o:[],i=0,s=c.length;i<s;i++)M=c[i],U.push(new M(R));return m.bar=$=new r,L=[],F=new v})(),m.stop=function(){return m.trigger("stop"),m.running=!1,$.destroy(),k=!0,null!=y&&("function"===typeof x&&x(y),y=null),z()},m.restart=function(){return m.trigger("restart"),m.stop(),m.start()},m.go=function(){var e;return m.running=!0,$.render(),e=j(),k=!1,y=D(function(t,i){var n,s,a,r,o,c,_,l,u,d,p,f,h,g,b;for(100-$.progress,s=d=0,a=!0,c=p=0,h=U.length;p<h;c=++p)for(M=U[c],u=null!=L[c]?L[c]:L[c]=[],o=null!=(b=M.elements)?b:[M],_=f=0,g=o.length;f<g;_=++f)r=o[_],l=null!=u[_]?u[_]:u[_]=new v(r),a&=l.done,l.done||(s++,d+=l.tick(t));return n=d/s,$.update(F.tick(t,n)),$.done()||a||k?($.update(100),m.trigger("done"),setTimeout(function(){return $.finish(),m.running=!1,m.trigger("hide")},Math.max(R.ghostTime,Math.max(R.minTime-(j()-e),0)))):i()})},m.start=function(e){P(R,e),m.running=!0;try{$.render()}catch(t){p=t}return document.querySelector(".pace")?(m.trigger("start"),m.go()):setTimeout(m.start,50)},n=function(){return m}.call(t,i,t,e),void 0===n||(e.exports=n)}).call(this)},dd28:function(e,t,i){},de45:function(e,t,i){"use strict";var n=i("0ea9"),s=i.n(n);s.a},de76:function(e){e.exports=[{_comment:"預設檔案，當找不到對應node_services時，吃此檔案",name:"運單起始貨況",i18n_key:"ui.scanner.setting_groups.LA00",barcode:"LA00",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA01",is_scan_action:!0,is_hide:!0,color:"black",settings:[]},{name:"1.收貨",i18n_key:"ui.scanner.setting_groups.LA01",barcode:"LA01",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA01",is_scan_action:!0,is_hide:!1,color:"#3a8df5",settings:["is_batch_mode_false","is_package_mode_false","is_auto_print_label_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"2.進站",i18n_key:"ui.scanner.setting_groups.LA02",barcode:"LA02",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA02",is_scan_action:!0,is_hide:!1,color:"orange",settings:["is_batch_mode_false","is_package_mode_false","is_distributed_to_mode_true","is_unpackage_mode_false","is_scan_action_mode_true","is_auto_print_label_mode_false","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"包裝",i18n_key:"ui.scanner.setting_groups.package",barcode:"package",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"package",is_scan_action:!1,is_hide:!1,color:"green",settings:["is_batch_mode_false","is_auto_print_label_mode_false","is_scan_action_mode_false","is_distributed_to_mode_false","is_package_mode_true","is_unpackage_mode_false","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_min_card"]},{name:"3.派件中",i18n_key:"ui.scanner.setting_groups.LA03",barcode:"LA03",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA03",is_scan_action:!0,is_hide:!1,color:"#9559f4",settings:["is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_true","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"3.聯運",i18n_key:"ui.scanner.setting_groups.LA10",barcode:"LA10",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA10",is_scan_action:!0,is_hide:!1,color:"purple",settings:["is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"3.出站集貨中轉",i18n_key:"ui.scanner.setting_groups.LA09",barcode:"LA09",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA09",is_scan_action:!0,is_hide:!1,color:"violet",settings:["is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"4.回站",i18n_key:"ui.scanner.setting_groups.LA05",barcode:"LA05",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA05",is_scan_action:!0,is_hide:!1,color:"gray",settings:["is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"4.已配達",i18n_key:"ui.scanner.setting_groups.LA04",barcode:"LA04",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA04",is_scan_action:!0,is_hide:!1,color:"green",settings:["is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"4.異常件",i18n_key:"ui.scanner.setting_groups.LA06",barcode:"LA06",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA06",is_scan_action:!0,is_hide:!1,color:"red",settings:["is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"4.異常件排除",i18n_key:"ui.scanner.setting_groups.LA07",barcode:"LA07",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA07",is_scan_action:!0,is_hide:!1,color:"cornflowerblue",settings:["is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"寄件者退運",i18n_key:"ui.scanner.setting_groups.LA08",barcode:"LA08",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA08",is_scan_action:!0,is_hide:!0,color:"teal",settings:["is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"鎖定",i18n_key:"ui.scanner.setting_groups.LA11",barcode:"LA11",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA11",is_scan_action:!0,is_hide:!1,color:"darkred",settings:["is_batch_mode_false","is_auto_print_label_mode_false","is_scan_action_mode_true","is_distributed_to_mode_false","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"解除鎖定",i18n_key:"ui.scanner.setting_groups.LA12",barcode:"LA12",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA12",is_scan_action:!0,is_hide:!1,color:"cornflowerblue",settings:["is_batch_mode_false","is_auto_print_label_mode_false","is_scan_action_mode_true","is_distributed_to_mode_false","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"結案",i18n_key:"ui.scanner.setting_groups.LA13",barcode:"LA13",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA13",is_scan_action:!0,is_hide:!1,color:"#4bba45d9",settings:["is_batch_mode_false","is_scan_action_mode_false","is_package_mode_false","is_unpackage_mode_false","is_distributed_to_mode_false","pack_need_source_mode_false","is_update_corewaybill_mode_false","core_waybill_template_mode_card"]},{name:"拆包",i18n_key:"ui.scanner.setting_groups.unpackage",barcode:"unpackage",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"unpackage",is_scan_action:!1,is_hide:!1,color:"orangered",settings:["is_batch_mode_false","is_auto_print_label_mode_false","is_scan_action_mode_false","is_distributed_to_mode_false","is_package_mode_false","is_unpackage_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_min_card"]},{name:"分撥",i18n_key:"ui.scanner.setting_groups.distributed_to",barcode:"distributed_to",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA09",is_scan_action:!1,is_hide:!1,color:"darkcyan",settings:["is_batch_mode_false","is_auto_print_label_mode_false","is_scan_action_mode_false","is_package_mode_false","is_unpackage_mode_false","is_update_corewaybill_mode_false","is_distributed_to_mode_true","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"查詢運單",i18n_key:"ui.scanner.setting_groups.search",barcode:"search",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"search",is_scan_action:!1,is_hide:!1,color:"limegreen",settings:["is_batch_mode_false","is_scan_action_mode_false","is_package_mode_false","is_unpackage_mode_false","is_distributed_to_mode_false","pack_need_source_mode_false","is_update_corewaybill_mode_false","core_waybill_template_mode_card"]},{name:"袋包運, 裝袋作業",i18n_key:"ui.scanner.setting_groups.pack_house_waybill",barcode:"pack_house_waybill",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"package",is_scan_action:!1,is_hide:!0,color:"green",settings:["is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_true","is_unpackage_mode_false","is_scan_action_mode_false","is_update_corewaybill_mode_false","is_distributed_to_mode_false","core_waybill_template_mode_min_card","pack_need_source_mode_false","pack_p_m_mode_House","pack_m_mode_Waybill"]},{name:"運包子, 一票多件",i18n_key:"ui.scanner.setting_groups.pack_waybill_goods",barcode:"pack_waybill_goods",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"package",is_scan_action:!1,is_hide:!0,color:"limegreen",settings:["is_batch_mode_false","is_scan_action_mode_false","is_package_mode_true","is_unpackage_mode_false","is_distributed_to_mode_false","is_update_corewaybill_mode_false","pack_need_source_mode_true","pack_p_m_mode_Waybill","pack_m_mode_Goods"]}]},df9b:function(e,t,i){"use strict";var n=i("3ead"),s=i.n(n);s.a},dff9:function(e,t,i){"use strict";var n=i("09db"),s=i.n(n);s.a},e0b3:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"standard sidebar"},[i("div",{staticClass:"ui secondary vertical menu",attrs:{"data-step":"1","data-position":"right","data-intro":"<br> 歡迎使用Neuron物流系統 <br> 選擇功能 開始編輯"}},[i("nav",[e.$store.state.initialize_statuses.service_theme?i("router-link",{attrs:{to:{name:"station_index"}}},[i("img",{staticClass:"ui image",attrs:{src:"/images/"+e.service_config.logo_img}})]):i("div",{staticClass:"ui inverted dimmer transition active"},[i("div",{staticClass:"ui tiny text loader"},[e._v("\n                    "+e._s(e.$t("ui.general.initializing"))+"\n                ")])]),i("a",{staticClass:"hamburger hamburger--spin",on:{click:function(t){e.toggle_menu()}}},[e._m(0)])],1),i("div",{staticClass:"nav-menu"},[i("router-link",{staticClass:"item",attrs:{to:{name:"station_operations"}}},[i("i",{staticClass:"icons"},[i("i",{staticClass:"file large icon"}),i("span",[e._v(" "+e._s(e.$t("ui.links.menu.station_operations"))+" ")])])]),i("router-link",{staticClass:"item",attrs:{to:{name:"station_partitions"}}},[i("i",{staticClass:"icons"},[i("i",{staticClass:"tasks large icon"}),i("span",[e._v(" "+e._s(e.$t("ui.links.menu.station_partitions"))+" ")])])]),i("router-link",{staticClass:"item",attrs:{to:{name:"station_customers"}}},[i("i",{staticClass:"icons"},[i("i",{staticClass:"street view large icon"}),i("span",[e._v(" "+e._s(e.$t("ui.links.menu.station_customers"))+" ")])])]),i("router-link",{staticClass:"item",attrs:{to:{name:"station_staffs"}}},[i("i",{staticClass:"icons"},[i("i",{staticClass:"user large icon"}),i("span",[e._v(" "+e._s(e.$t("ui.links.menu.staffs"))+" ")])])]),i("router-link",{staticClass:"item",attrs:{to:{name:"station_uploader"}}},[i("i",{staticClass:"icons"},[i("i",{staticClass:"upload large icon"}),i("span",[e._v(" "+e._s(e.$t("ui.links.menu.uploader"))+" ")])])]),i("router-link",{staticClass:"item",attrs:{to:{name:"station_core_waybills"}}},[i("i",{staticClass:"icons"},[i("i",{staticClass:"archive large icon"}),i("span",[e._v(" "+e._s(e.$t("ui.links.menu.core_waybills"))+" ")])])]),i("router-link",{staticClass:"item",attrs:{to:{name:"station_demo"}}},[i("i",{staticClass:"icons"},[i("i",{staticClass:"heart large icon"}),i("span",[e._v(" 實驗室 ")])])])],1)])])},s=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"hamburger-box"},[i("span",{staticClass:"hamburger-inner"})])}],a={data:function(){return{}},computed:{service_config:function(){return this.$store.state.station.service_config},env:function(){return ENV.NODE_ENV}},watch:{$route:function(e,t){767>$(window).width()&&"block"==$(".nav-menu").css("display")&&this.toggle_menu()}},mounted:function(){$(window).resize(function(){var e=$(window).width(),t=$(".nav-menu").css("display");"none"==t&&e>767&&$(".nav-menu").css("display","block")})},methods:{toggle_menu:function(){$("body").toggleClass("overflow"),$(".hamburger").toggleClass("active"),$(".nav-menu").stop().slideToggle(300)}},components:{}},r=a,o=(i("1c2a"),i("2877")),c=Object(o["a"])(r,n,s,!1,null,null,null);t["a"]=c.exports},e0d2:function(e,t,i){"use strict";var n=i("fd4f"),s=i.n(n);s.a},e0ea:function(e){e.exports={logo_img:"axon_logo.png",footer_imgs:["tw568_logo.png","axon_logo.png","by_express_logo.jpg","t_cat_logo.jpg","hct_logo.png"],scanner_theme:"dark01",menu:[{name:"provider_operations",icon:"file large"},{name:"provider_partitions",icon:"tasks large"},{name:"provider_customers",icon:"street view large"},{name:"scan",icon:"barcode large",items:[{name:"scan_action_prototypes",icon:""},{name:"status_prototypes",icon:""}]},{name:"users",icon:"user large",items:[{name:"staffs",icon:""},{name:"roles",icon:""},{name:"permission_groups",icon:""}]},{name:"stations",icon:"inbox large"},{name:"provider_uploader",icon:"upload large"},{name:"materials",icon:"cube large"},{name:"core_waybills",icon:"archive large"},{name:"provider_node",icon:"setting large"}]}},e128:function(e){e.exports={logo_img:"nucleus_logo.png",footer_imgs:["tw568_logo.png","nucleus_logo.png","by_express_logo.jpg","t_cat_logo.jpg","hct_logo.png"],scanner_theme:"dark01",menu:[{name:"status_prototypes",icon:"barcode large"},{name:"stations",icon:"inbox large"},{name:"provider_partitions",icon:"tasks large"},{name:"provider_customers",icon:"street view large"},{name:"provider_uploader",icon:"upload large"},{name:"assets",icon:"cubes large"},{name:"materials",icon:"cube large"},{name:"core_waybills",icon:"archive large"},{name:"provider_operations",icon:"file large"},{name:"users",icon:"user large",items:[{name:"permission_groups",icon:""},{name:"roles",icon:""},{name:"staffs",icon:""}]},{name:"user_logs",icon:"hourglass end large"}]}},e173:function(e,t,i){},e1c1:function(e,t,i){},e1c3:function(e,t,i){"use strict";var n=i("fb99"),s=i.n(n);s.a},e1f6:function(e,t,i){},e20d:function(e,t,i){"use strict";var n=i("2f1a"),s=i.n(n);s.a},e282:function(t,i,n){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui segment",class:{red:e.is_out_of_date,green:!e.is_out_of_date},attrs:{id:"breadcrumb"}},[i("div",{staticClass:"ui breadcrumb"},[i("span",{staticClass:"out_of_date_alert",class:{active:e.is_out_of_date},attrs:{"data-tooltip":e.$t("ui.notifications.help.this_page_is_out_of_date_please_click_here_to_refresh")}},[i("i",{staticClass:"icon refresh pointer",class:{red:e.is_out_of_date},staticStyle:{cursor:"pointer"},on:{clicks:function(t){e.refresh()}}})]),e._v("\n        "+e._s(e.$t("ui.page_titles.current_page"))+"：\n\n        "),i("router-link",{staticClass:"section",attrs:{to:{name:"provider_index"}}},[e._v("\n            "+e._s(e.$t("ui.page_titles.index"))+"\n        ")]),e._l(e.$route.meta.breadcrumb,function(t,n){return i("span",[t?i("i",{staticClass:"right chevron icon divider"}):e._e(),n==e.$route.meta.breadcrumb.length-1?i("span",[i("div",{staticClass:"section"},[e._v("\n                    "+e._s(e.$t("ui.page_titles."+t))+"\n                ")])]):i("span",[i("router-link",{staticClass:"active section",attrs:{to:{name:t}}},[e._v("\n                    "+e._s(e.$t("ui.page_titles."+t))+"\n                ")])],1)])})],2),i("div",{staticClass:"ui right floated"},e._l(e.$route.meta.btns,function(t,n){return i("router-link",{key:t,staticClass:"ui button",class:e.btn_class(t,n),staticStyle:{margin:"-9px 6px"},attrs:{to:{name:t}}},[t.includes("new_")?i("i",{staticClass:"plus icon"}):e._e(),e._v("\n            "+e._s(e.$t("ui.page_titles."+t))+"\n        ")])}))])},a=[],r={data:function(){return{is_out_of_date:!1}},computed:{},mounted:function(){this.detect_out_of_date()},methods:{detect_out_of_date:function(){var e=this;this.$cable.subscriptions.create({channel:"OutOfDateChannel"},{received:function(t){e.$store.state.instance_identity!=t.exclude_instance&&_.findLast(e.$store.state.breadcrumbs,function(e){return e==t.scope})&&(e.is_out_of_date=!0)}})},btn_class:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1?arguments[1]:void 0;try{var n=i<=1&&t.includes("new_")?"positive":"blue";if(n)throw n;switch(i){case 2:throw"orange";default:throw"grey"}}catch(e){return e}return"grey"},refresh:function(){console.log("provider refresh"),this.is_out_of_date=!1,this.$bus["_events"]["init"]?this.$bus.$emit("init"):location.reload()}}},o=r,c=(n("7818"),n("b1b4"),n("2877")),l=Object(c["a"])(o,s,a,!1,null,"69669937",null);i["a"]=l.exports},e2ba:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui segment",staticStyle:{position:"relative"}},[i("div",{staticClass:"ui horizontal list"},e._l(e.$store.state.provider.service_config.footer_imgs,function(e){return i("div",{staticClass:"item"},[i("img",{staticStyle:{height:"50px"},attrs:{src:"/images/"+e}})])}))])},s=[],a={name:"Advertising"},r=a,o=i("2877"),c=Object(o["a"])(r,n,s,!1,null,"8ec96f18",null);t["a"]=c.exports},e2d6:function(e,t,i){},e31e:function(e,t,i){},e33b:function(e,t,i){"use strict";var n=i("6d09"),s=i.n(n);s.a},e403:function(e,t,i){},e55f:function(e,t,i){},e595:function(e,t,i){"use strict";var n=i("1030"),s=i.n(n);s.a},e5a8:function(e,t,i){"use strict";var n=i("2c98"),s=i.n(n);s.a},e745:function(t,i,n){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui longer flip modal scanner"},[i("ScannerMain",{attrs:{is_modal:!0}})],1)},a=[],r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.is_initialized?i("div",{staticClass:"content",class:{is_showed_jobs:e.desc_ordered_jobs.length,"z-depth-3":e.is_modal},style:{color:e.theme.color.font,background:e.theme.background,backgroundSize:e.theme.color.background_img?"cover":""}},[i("div",[i("WebAudio",{attrs:{channel:"provider_scanner_web_audio",allow_overlay_play:!1,show_demo:!1}}),i("Dashboard",{attrs:{is_processing:e.is_processing,current_number:e.current_number,current_scan_action_prototype:e.current_scan_action_prototype}}),e.current_store.is_setting?i("Settings",{attrs:{current_scan_action_prototype:e.current_scan_action_prototype,is_processing:e.is_processing}}):e._e(),i("div",{staticClass:"scrolling content"},[i("CoreWaybill",{attrs:{is_modal_opened:e.is_modal_opened}})],1),e.desc_ordered_jobs.length>=3?i("div",{staticClass:"ui jobs pointer",staticStyle:{position:"absolute",right:"6px",bottom:"106px",color:"red"},on:{click:function(t){e.$store.dispatch("station/scanner_module/clear_job")}}},[e._v("\n            "+e._s(e.$t("ui.scanner.jobs.clear_jobs"))+"\n        ")]):e._e()],1),e.desc_ordered_jobs.length?i("transition-group",{staticClass:"ui list jobs",attrs:{name:"list",tag:"div"}},e._l(e.desc_ordered_jobs,function(t){return i("div",{key:t.id,staticClass:"item"},[i("i",{staticClass:"wait icon",class:{"green check":"Success"==t.status,"red cancel":"Failure"==t.status,"orange hourglass end":"Processing"==t.status,"white wait":"Pending"==t.status},staticStyle:{width:"18px"}}),i("div",{staticClass:"content"},[i("div",{staticClass:"header"},["Pending"==t.status?i("span",{staticStyle:{color:"lightgray"}},[t.is_waiting_user_action?i("span",[e._v("\n                            "+e._s(e.$t("ui.scanner.jobs.waiting_user_action"))+"\n                        ")]):i("span",[e._v("\n                            "+e._s(e.$t("ui.scanner.jobs.idle"))+"\n                        ")])]):"Processing"==t.status?i("span",{staticStyle:{color:"orange"}},[e._v("\n                        "+e._s(e.$t("ui.scanner.jobs.processing"))+"\n                    ")]):"Success"==t.status?i("span",{staticStyle:{color:"green"}},[e._v("\n                        "+e._s(e.$t("ui.scanner.jobs.success"))+"\n                    ")]):"Failure"==t.status?i("span",{staticStyle:{color:"red"}},[e._v("\n                        "+e._s(e.$t("ui.scanner.jobs.failure"))+"\n                    ")]):e._e(),e._v("\n                    "+e._s(e.$t("ui.scanner.jobs.job"))+"#"+e._s(t.id)+"："+e._s(e.$t("ui.scanner.jobs.number"))+" "+e._s(t.number)+"\n\n                    "),"original_number"==t.core_waybill_scope?i("span",[e._v("\n                        ["+e._s(e.$t("ui.scanner.jobs.scope.original_number"))+"]\n                    ")]):e._e(),"new"==t.core_waybill_scope?i("span",[e._v("\n                        ["+e._s(e.$t("ui.scanner.jobs.scope.new"))+"]\n                    ")]):e._e(),"operation"==t.task?i("span",[e._v("（"+e._s(t.scan_action_prototype.name)+"）")]):e._e(),t.is_batch_mode?i("span",[e._v("\n                        ("+e._s(e.$t("ui.scanner.settings.is_scan_action_mode.true"))+")\n                    ")]):e._e(),t.is_waiting_instantiate_scan_action?i("span",[i("i",{staticClass:"icon",class:{"green check":t.current_core_waybill_counter>=t.core_waybill_pieces,"red exclamation triangle":t.current_core_waybill_counter<t.core_waybill_pieces}}),e._v("\n                        "+e._s(t.current_core_waybill_counter)+" /\n                        "+e._s(t.core_waybill_pieces)+"\n                        "),t.current_core_waybill_counter<t.core_waybill_pieces?i("span",[e._v("\n                            ("+e._s(e.$t("ui.scanner.jobs.no_add_status"))+")\n                        ")]):e._e()]):e._e()]),i("div",{staticClass:"description"},e._l(t.errors,function(n){return t.errors.length>0?i("p",[i("i",{staticClass:"icon red exclamation triangle"}),e._v("\n                        "+e._s(n)+"\n                    ")]):i("p",[e._v("\n                        "+e._s(e.$t("ui.scanner.jobs.no_error"))+"\n                    ")])}))])])})):e._e(),e.is_show_related_columns_alert?i("CoreWaybillRelatedColumnsAlert",{attrs:{is_displayed:e.is_show_related_columns_alert,is_modal_opened:e.is_modal_opened}}):e._e(),e.is_show_scan_action_description_alert?i("ScanActionDescriptionAlert",{attrs:{is_displayed:e.is_show_scan_action_description_alert,is_modal_opened:e.is_modal_opened}}):e._e(),e.is_show_create_core_waybill_alert?i("CreateCoreWaybillAlert",{attrs:{is_displayed:e.is_show_create_core_waybill_alert,is_modal_opened:e.is_modal_opened}}):e._e()],1):i("div",{staticClass:"content",class:{"z-depth-3":e.is_modal}},[i("button",{staticClass:"big fluid ui black button",on:{click:function(t){e.init()}}},[e._v("\n        "+e._s(e.$t("ui.notifications.help.please_clicked_initialize_again"))+"\n    ")])])},o=[],c=n("1346"),l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"scanner_settings"}},[e.is_initialized?i("div",[e.is_mobile_width?i("carousel",{ref:"settings_carousel",attrs:{perPage:1,speed:390,minSwipeDistance:120,paginationEnabled:!1,navigateTo:e.current_column_index}},e._l(e.menus,function(t,n){return i("slide",{key:t.component_name},[0!=n?i("NavigationLeft"):e._e(),i(t.component_name,{tag:"component",attrs:{is_inverted:e.is_inverted}}),n+1!=e.menus.length?i("NavigationRight"):e._e()],1)})):i("div",[i("div",{staticClass:"ui top tabular menu"},e._l(e.menus,function(t){return i("div",{staticClass:"item pointer",class:{active:e.current_setting_component==t.component_name},style:{color:e.theme.color.font},on:{click:function(i){e.current_setting_component=t.component_name}}},[e._v("\n                    "+e._s(t.title)+"\n                ")])})),i(e.current_setting_component,{tag:"component",attrs:{is_inverted:e.is_inverted}})],1)],1):e._e()])},u=[],d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{style:{color:e.theme.color.font},attrs:{id:"scanner_setting_details"}},["customer"!=this.$store.state.current_scope?i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui fluid selection dropdown no top border",style:{background:e.theme.background?e.theme.background:"none",color:e.theme.color.font}},[i("div",{staticClass:"text"},[e._v("\n            "+e._s(e.$t("ui.scanner.helps.current_scan_action_prototype"))+"：\n            "),e.current_scan_action_prototype.identity?i("span",[e._v("\n                "+e._s(e.current_scan_action_prototype.name+"("+e.current_scan_action_prototype.barcode+")")+"\n            ")]):i("span",[e._v("\n                "+e._s(e.$t("ui.general.no"))+"\n                "+e._s(e.$t("ui.general.select"))+"\n            ")])]),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu",style:{background:e.theme.background?e.theme.background:"none"}},e._l(e.scan_action_prototypes,function(t){return i("div",{staticClass:"item",style:{color:e.theme.color.font,background:t.identity==e.current_scan_action_prototype.identity?"rgba(0,0,0,.5)":""},on:{click:function(i){e.$bus.$emit("set_current_scan_action_prototype",t.identity)}}},[e._v("\n                "+e._s(t.name)+"("+e._s(t.barcode)+")\n            ")])}))]):e._e(),i("div",{staticClass:"ui doubling five column grid settings",class:{inverted:e.is_inverted},staticStyle:{"margin-top":"0.1rem","margin-bottom":"0.2rem"}},[e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_scan_action_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_scan_action_mode},on:{click:function(t){e.settings.is_scan_action_mode=!e.settings.is_scan_action_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"icon",class:{barcode:e.settings.is_scan_action_mode,eye:!e.settings.is_scan_action_mode}})]),i("p",[e._v("\n                "+e._s(e.settings.is_scan_action_mode?e.$tc("ui.scanner.settings.is_scan_action_mode.true"):e.$tc("ui.scanner.settings.is_scan_action_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_distributed_to_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_distributed_to_mode},on:{click:function(t){e.settings.is_distributed_to_mode=!e.settings.is_distributed_to_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"external share icon"}),e.settings.is_distributed_to_mode?e._e():i("i",{staticClass:"bottom left corner red dont icon"})]),i("p",[e._v("\n                "+e._s(e.settings.is_distributed_to_mode?e.$tc("ui.scanner.settings.is_distributed_to_mode.true"):e.$tc("ui.scanner.settings.is_distributed_to_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_package_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_package_mode},on:{click:function(t){e.settings.is_package_mode=!e.settings.is_package_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"group object icon"}),e.settings.is_package_mode?e._e():i("i",{staticClass:"bottom left corner red dont icon"})]),i("p",[e._v("\n                "+e._s(e.settings.is_package_mode?e.$tc("ui.scanner.settings.is_package_mode.true"):e.$tc("ui.scanner.settings.is_package_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_unpackage_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_unpackage_mode},on:{click:function(t){e.settings.is_unpackage_mode=!e.settings.is_unpackage_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"ungroup object icon"}),e.settings.is_unpackage_mode?e._e():i("i",{staticClass:"bottom left corner red dont icon"})]),i("p",[e._v("\n                "+e._s(e.settings.is_unpackage_mode?e.$tc("ui.scanner.settings.is_unpackage_mode.true"):e.$tc("ui.scanner.settings.is_unpackage_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_update_corewaybill_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_update_corewaybill_mode},on:{click:function(t){e.settings.is_update_corewaybill_mode=!e.settings.imitate_mode&&!e.settings.is_update_corewaybill_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"edit icon"}),e.settings.is_update_corewaybill_mode?e._e():i("i",{staticClass:"bottom left corner red dont icon"}),e.settings.imitate_mode?i("i",{staticClass:"top left corner red lock icon",staticStyle:{top:"6px",left:"-6px"}}):e._e()]),i("p",[e._v("\n                "+e._s(e.settings.is_update_corewaybill_mode?e.$tc("ui.scanner.settings.is_update_corewaybill_mode.true"):e.$tc("ui.scanner.settings.is_update_corewaybill_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_auto_print_label_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_auto_print_label_mode},on:{click:function(t){e.settings.is_auto_print_label_mode=!e.settings.is_auto_print_label_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"print icon"}),e.settings.is_auto_print_label_mode?e._e():i("i",{staticClass:"bottom left corner red dont icon"})]),i("p",[e._v("\n                "+e._s(e.settings.is_auto_print_label_mode?e.$tc("ui.scanner.settings.is_auto_print_label_mode.true"):e.$tc("ui.scanner.settings.is_auto_print_label_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_scan_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_scan_mode},on:{click:function(t){e.settings.is_scan_mode=!e.settings.is_scan_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"write icon"}),e.settings.is_scan_mode?i("i",{staticClass:"bottom left corner red dont icon"}):e._e()]),i("p",[e._v("\n                "+e._s(e.settings.is_scan_mode?e.$tc("ui.scanner.settings.is_scan_mode.true"):e.$tc("ui.scanner.settings.is_scan_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_noty_audio_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_noty_audio_mode},on:{click:function(t){e.settings.is_noty_audio_mode=!e.settings.is_noty_audio_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"volume up icon"}),e.settings.is_noty_audio_mode?e._e():i("i",{staticClass:"bottom left corner red dont icon"})]),i("p",[e._v("\n                "+e._s(e.settings.is_noty_audio_mode?e.$tc("ui.scanner.settings.is_noty_audio_mode.true"):e.$tc("ui.scanner.settings.is_noty_audio_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_speech_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_speech_mode},on:{click:function(t){e.settings.is_speech_mode=!e.settings.is_speech_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"file audio outline icon"}),e.settings.is_speech_mode?e._e():i("i",{staticClass:"bottom left corner red dont icon"})]),i("p",[e._v("\n                "+e._s(e.settings.is_speech_mode?e.$tc("ui.scanner.settings.is_speech_mode.true"):e.$tc("ui.scanner.settings.is_speech_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_core_waybill_pieces_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_core_waybill_pieces_mode},on:{click:function(t){e.settings.is_core_waybill_pieces_mode=!e.settings.is_core_waybill_pieces_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"cubes icon",staticStyle:{width:"34px"}}),e.settings.is_core_waybill_pieces_mode?e._e():i("i",{staticClass:"bottom left corner red dont icon"})]),i("p",[e._v("\n                "+e._s(e.settings.is_core_waybill_pieces_mode?e.$tc("ui.scanner.settings.is_core_waybill_pieces_mode.true"):e.$tc("ui.scanner.settings.is_core_waybill_pieces_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_quick_corewaybill_related_columns")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_quick_corewaybill_related_columns},on:{click:function(t){e.settings.is_quick_corewaybill_related_columns=!e.settings.is_quick_corewaybill_related_columns}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"paste up icon"}),e.settings.is_quick_corewaybill_related_columns?e._e():i("i",{staticClass:"bottom left corner red dont icon"})]),i("p",[e._v("\n                "+e._s(e.settings.is_quick_corewaybill_related_columns?e.$tc("ui.scanner.settings.is_quick_corewaybill_related_columns.true"):e.$tc("ui.scanner.settings.is_quick_corewaybill_related_columns.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_batch_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_batch_mode},on:{click:function(t){e.settings.is_batch_mode=!e.settings.is_batch_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"copy outline icon"}),e.settings.is_batch_mode?e._e():i("i",{staticClass:"bottom left corner red dont icon"})]),i("p",[e._v("\n                "+e._s(e.settings.is_batch_mode?e.$tc("ui.scanner.settings.is_batch_mode.true"):e.$tc("ui.scanner.settings.is_batch_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("core_waybill_template_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:"min_card"==e.settings.core_waybill_template_mode},on:{click:function(t){e.settings.core_waybill_template_mode="min_card"}}},[e._m(0),i("p",[e._v("\n                "+e._s(e.$tc("ui.scanner.settings.core_waybill_template_mode.min_card"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("core_waybill_template_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:"card"==e.settings.core_waybill_template_mode},on:{click:function(t){e.settings.core_waybill_template_mode="card"}}},[e._m(1),i("p",[e._v("\n                "+e._s(e.$tc("ui.scanner.settings.core_waybill_template_mode.card"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("core_waybill_template_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:"detail"==e.settings.core_waybill_template_mode},on:{click:function(t){e.settings.core_waybill_template_mode="detail"}}},[e._m(2),i("p",[e._v("\n                "+e._s(e.$tc("ui.scanner.settings.core_waybill_template_mode.detail"))+"\n            ")])]):e._e()])])},p=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("i",{staticClass:"big icons"},[i("i",{staticClass:"icon minus"})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("i",{staticClass:"big icons"},[i("i",{staticClass:"icon list"})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("i",{staticClass:"big icons"},[i("i",{staticClass:"icon file text"})])}],m={props:{is_inverted:{default:!1,type:Boolean}},data:function(){return{is_setting:!1}},computed:{current_store:function(){return this.$store.state[this.$store.state.current_scope].scanner_module},theme:function(){return this.current_store.config.theme},can_use_settings:function(){return this.current_store.config.settings},scan_action_prototypes:function(){return this.current_store.scan_action_prototypes},current_scan_action_prototype:function(){return this.current_store.current_scan_action_prototype},settings:function(){return this.current_store.settings}},watch:{},mounted:function(){},methods:{},components:{}},f=m,h=(n("e0d2"),n("2877")),v=Object(h["a"])(f,d,p,!1,null,"2367f576",null),g=v.exports,b=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"scanner_setting_groups"}},[i("div",{staticClass:"ui doubling five column grid setting_groups",staticStyle:{"margin-top":"0.1rem","margin-bottom":"0.2rem",color:"white"}},e._l(e.setting_groups,function(t){return t.is_hide?e._e():i("Group",{key:t.barcode,class:{inverted:e.is_inverted},attrs:{setting_group:t}})}))])},y=[],w=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"column center aligned pointer setting_group"},[i("div",{staticClass:"box",style:{backgroundColor:e.setting_group.color},on:{click:function(t){e.set_settings()}}},[i("img",{staticClass:"sprite",attrs:{src:"/images/barcode_setting_group_icons/"+e.setting_group.icon_file_name+".svg"}}),i("p",{staticClass:"mobile only",style:{fontSize:e.content_font_size+"px"}},[e._v("\n            "+e._s(e.setting_group.name||"-")+"\n        ")]),i("p",{staticClass:"computer only"},[e._v("\n            "+e._s(e.setting_group.name||"-")+"\n        ")])])])},k=[],x={props:{setting_group:Object},data:function(){return{content_font_size:this.calculate_content_font_size()}},computed:{current_store:function(){return this.$store.state[this.$store.state.current_scope].scanner_module}},watch:{},mounted:function(){},methods:{calculate_content_font_size:function(){var e=this,t=e.setting_group.name.length;return t>4?17:""},set_settings:function(){var e=this;e.$bus.$emit("quick_setting_number","@@"+e.setting_group.barcode+"@@",!1,!1)}},components:{}},C=x,P=(n("e8d5"),Object(h["a"])(C,w,k,!1,null,"668b87b0",null)),S=P.exports,N={components:{Group:S},props:{is_inverted:{default:!1,type:Boolean}},data:function(){return{is_setting:!1}},computed:{current_store:function(){return this.$store.state[this.$store.state.current_scope].scanner_module},setting_groups:function(){return this.current_store.setting_groups}},watch:{},mounted:function(){},methods:{}},q=N,A=(n("5091"),Object(h["a"])(q,b,y,!1,null,"0fcd5002",null)),E=A.exports,z=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"scanner_setting_operations"}},[e.operations.length?i("div",[i("h3",[e._v("\n            "+e._s(e.$t("ui.scanner.operations.total",{operations_length:e.operations.length,sum_core_waybills:e.sum_core_waybills}))+"\n        ")])]):e._e(),e._l(e.operations,function(t){return e.operations.length?i("div",{staticClass:"ui segment pointer operation",class:{active:e.current_staff_operation.identity==t.identity},on:{click:function(i){i.preventDefault(),e.set_current_operation(t)}}},[i("h3",{staticStyle:{"margin-bottom":"3px"}},[e._v("\n            "+e._s(t.number)+"\n            "),i("span",{staticClass:"sub_title"},[t.customer?i("span",[e._v("\n                    ["+e._s(t.customer.company_name)+"]\n                ")]):e._e(),i("span",[e._v("\n                    / "+e._s(t.core_waybills.length)+"件\n                ")])])]),i("div",{staticClass:"content",domProps:{innerHTML:e._s(t.provider_note)}}),e.current_staff_operation.identity==t.identity?i("div",{staticClass:"core_waybills"},[i("span",[e._v("\n                "+e._s(e.$t("ui.scanner.operations.contents"))+"：\n                "),e._l(e.sort_operation_core_waybills_numbers,function(t,n){return i("span",[e._v("\n                    "+e._s(t)+"\n                    "),e.sort_operation_core_waybills_numbers.length!=n+1?i("span",[e._v("\n                        /\n                    ")]):e._e()])})],2)]):e._e()]):e._e()}),e.operations.length?e._e():i("div",{staticClass:"ui segment pointer operation"},[i("h3",{style:{color:e.theme.color.font}},[e._v("\n            "+e._s(e.$t("ui.scanner.helps.you_dont_any_operation"))+"\n        ")])]),i("div",{staticClass:"refresh_operations_icon",on:{click:function(t){e.$store.dispatch("provider/fetch_current_staff_operations")}}},[i("i",{staticClass:"icon big refresh pointer"})])],2)},j=[],R={props:{is_inverted:{default:!1,type:Boolean}},data:function(){return{is_setting:!1,core_waybill_identities:[]}},computed:{current_store:function(){return this.$store.state[this.$store.state.current_scope].scanner_module},theme:function(){return this.current_store.config.theme},operations:function(){return this.$store.state.station.current_staff_operations},current_staff_operation:function(){return this.$store.state.station.current_staff_operation},sort_operation_core_waybills_numbers:function(){var e=_.map(this.current_staff_operation.core_waybills,"number")||[];return e.sort().reverse()},sum_core_waybills:function(){return _.sumBy(this.operations,function(e){return e.core_waybills.length})}},watch:{},mounted:function(){},methods:{set_current_operation:function(e){var t=this;e.identity==t.current_staff_operation.identity?(t.$noty.warning(t.$t("ui.scanner.operations.clear_current_operation"),200),t.$store.dispatch("provider/set_current_staff_operation",{})):(t.$noty.success(t.$t("ui.scanner.operations.current_operation_set_to")+" "+e.number,300),t.$store.dispatch("provider/set_current_staff_operation",e))}},components:{}},O=R,I=(n("de45"),Object(h["a"])(O,z,j,!1,null,"0037728f",null)),D=I.exports,L=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{style:{color:e.is_inverted?"white":"black",paddingTop:e.top?"0px":"25%",top:e.top?e.top:"0"},attrs:{id:"navigation_left"}},[i("i",{staticClass:"caret left icon"})])},T=[],B={components:{},props:{is_inverted:{default:!0,type:Boolean},top:{default:"",type:String}},data:function(){return{}},mounted:function(){},watch:{},computed:{},methods:{}},M=B,U=(n("cd8d"),Object(h["a"])(M,L,T,!1,null,"c66af396",null)),F=U.exports,Y=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{style:{color:e.is_inverted?"white":"black",paddingTop:e.top?"0px":"25%",top:e.top?e.top:"0"},attrs:{id:"navigation_right"}},[i("i",{staticClass:"caret right icon"})])},G=[],H={components:{},props:{is_inverted:{default:!0,type:Boolean},top:{default:"",type:String}},data:function(){return{}},mounted:function(){},watch:{},computed:{},methods:{}},K=H,W=(n("7143"),Object(h["a"])(K,Y,G,!1,null,"5eda0ffc",null)),V=W.exports,X=n("0a63");function Q(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function Z(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){Q(a,n,s,r,o,"next",e)}function o(e){Q(a,n,s,r,o,"throw",e)}r(void 0)})}}var J={components:{AllDetails:g,Groups:E,Carousel:X["Carousel"],NavigationRight:V,NavigationLeft:F,Slide:X["Slide"],Operations:D},props:{is_processing:{default:!1,type:Boolean},is_inverted:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1,is_mobile_width:!1,current_column_index:0,current_setting_component:"Groups",menus:[]}},computed:{language:function(){return this.$store.state.language},current_store:function(){return this.$store.state[this.$store.state.current_scope].scanner_module},theme:function(){return this.current_store.config.theme},settings:function(){return this.current_store.settings}},watch:{language:{handler:function(t){try{this.init()}catch(e){console.log(e),this.$noty.error(e)}},deep:!0},"settings.is_scan_action_mode":function(e){var t=this;e?t.$noty.information(t.$tc("ui.scanner.settings.is_scan_action_mode.true")):t.$noty.warning(t.$tc("ui.scanner.settings.is_scan_action_mode.false")),localStorage.setItem("scanner_is_scan_action_mode",e)},"settings.is_distributed_to_mode":function(e){var t=this;e?t.$noty.information(t.$tc("ui.scanner.settings.is_distributed_to_mode.true")):t.$noty.warning(t.$tc("ui.scanner.settings.is_distributed_to_mode.false")),localStorage.setItem("scanner_is_distributed_to_mode",e)},"settings.is_package_mode":function(e){var t=this;e?(t.$noty.information(t.$tc("ui.scanner.settings.is_package_mode.true")),t.settings.is_unpackage_mode=!1):t.$noty.warning(t.$tc("ui.scanner.settings.is_package_mode.false")),localStorage.setItem("scanner_is_package_mode",e)},"settings.is_unpackage_mode":function(e){var t=this;e?(t.$noty.information(t.$tc("ui.scanner.settings.is_unpackage_mode.true")),t.settings.is_package_mode=!1):t.$noty.warning(t.$tc("ui.scanner.settings.is_unpackage_mode.false")),localStorage.setItem("scanner_is_unpackage_mode",e)},"settings.is_operation_mode":function(e){var t=this;e?t.$noty.information(t.$tc("ui.scanner.settings.is_operation_mode.true")):t.$noty.warning(t.$tc("ui.scanner.settings.is_operation_mode.false")),localStorage.setItem("scanner_is_operation_mode",e),t.set_menus()},"settings.is_auto_print_label_mode":function(e){var t=this;e?t.$noty.information(t.$tc("ui.scanner.settings.is_auto_print_label_mode.true")):t.$noty.warning(t.$tc("ui.scanner.settings.is_auto_print_label_mode.false")),localStorage.setItem("scanner_is_auto_print_label_mode",e)},"settings.is_high_performance_mode":function(e){var t=this;e?t.$noty.information(t.$tc("ui.scanner.settings.is_high_performance_mode.true")):t.$noty.warning(t.$tc("ui.scanner.settings.is_high_performance_mode.false")),localStorage.setItem("scanner_is_high_performance_mode",e)},"settings.is_scan_mode":function(e){var t=this;e?t.$noty.information(t.$tc("ui.scanner.settings.is_scan_mode.true")):t.$noty.warning(t.$tc("ui.scanner.settings.is_scan_mode.false")),localStorage.setItem("scanner_is_scan_mode",e)},"settings.is_update_corewaybill_mode":function(e){var t=this;e?t.$noty.information(t.$tc("ui.scanner.settings.is_update_corewaybill_mode.true")):t.$noty.warning(t.$tc("ui.scanner.settings.is_update_corewaybill_mode.false")),localStorage.setItem("scanner_is_update_corewaybill_mode",e)},"settings.is_noty_audio_mode":function(e){var t=this;e?t.$noty.information(t.$tc("ui.scanner.settings.is_noty_audio_mode.true")):t.$noty.warning(t.$tc("ui.scanner.settings.is_noty_audio_mode.false")),localStorage.setItem("scanner_is_noty_audio_mode",e)},"settings.is_speech_mode":function(e){var t=this;e?t.$noty.information(t.$tc("ui.scanner.settings.is_speech_mode.true")):t.$noty.warning(t.$tc("ui.scanner.settings.is_speech_mode.false")),localStorage.setItem("scanner_is_speech_mode",e)},"settings.is_quick_corewaybill_related_columns":function(e){var t=this;e?t.$noty.information(t.$tc("ui.scanner.settings.is_quick_corewaybill_related_columns.true")):t.$noty.warning(t.$tc("ui.scanner.settings.is_quick_corewaybill_related_columns.false")),localStorage.setItem("scanner_is_quick_corewaybill_related_columns",e)},"settings.is_batch_mode":function(e){var t=this;e?t.$noty.warning(t.$tc("ui.scanner.settings.is_batch_mode.true",3),2e3):t.$noty.information(t.$tc("ui.scanner.settings.is_batch_mode.false")),localStorage.setItem("scanner_is_batch_mode",e)},"settings.core_waybill_template_mode":function(e){var t=this,i="";i="min_card"==e?t.$tc("ui.scanner.settings.core_waybill_template_mode.min_card"):i,i="card"==e?t.$tc("ui.scanner.settings.core_waybill_template_mode.card"):i,i="detail"==e?t.$tc("ui.scanner.settings.core_waybill_template_mode.detail"):i,t.$noty.information(i)},is_mobile_width:function(e){var t=this;setTimeout(function(){e&&t.is_initialized&&(t.current_column_index=1)},100)}},mounted:function(){var e=this;e.init()},methods:{init:function(){var e=Z(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,new Promise(function(e){t.menus=[],t.is_initialized=!1,e()});case 4:return e.next=6,t.set_menus();case 6:return e.next=8,t.set_is_mobile_width();case 8:return e.next=10,new Promise(function(e){t.is_initialized=!0,e()});case 10:e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](1),console.log(e.t0);case 15:case"end":return e.stop()}},e,this,[[1,12]])}));function t(){return e.apply(this,arguments)}return t}(),set_menus:function(){var e=this;return e.menus=[{title:e.$t("ui.scanner.menus.settings"),component_name:"AllDetails"},{title:e.$t("ui.scanner.menus.setting_group"),component_name:"Groups"}],e.settings.is_operation_mode&&e.menus.push({title:e.$t("ui.scanner.menus.operation"),component_name:"Operations"}),Promise.resolve()},set_is_mobile_width:function(){var e=this;return e.is_mobile_width=$(window).width()<=767,$(window).resize(function(){var t=$(window).width();e.is_mobile_width=t<=767}),Promise.resolve()}}},ee=J,te=(n("3772"),Object(h["a"])(ee,l,u,!1,null,"82c299e0",null)),ie=te.exports,ne=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"dashboard"}},[i("div",{staticClass:"ui inverted dimmer",class:{active:e.is_loading}},[i("div",{staticClass:"ui indeterminate text loader"},[e._v("\n            "+e._s(e.$t("ui.general.initializing"))+"\n        ")])]),i("div",{staticClass:"ui form",class:{loading:e.is_processing,inverted:e.is_inverted}},[i("div",{staticClass:"ui fluid right action left icon big input",class:{"inverted transparent":e.is_inverted},style:{borderBottom:"4px "+e.current_setting_group.color+" solid",color:e.theme.color.font}},[i("i",{staticClass:"search icon"}),e.is_input_mode?i("input",{directives:[{name:"model",rawName:"v-model",value:e.input_number,expression:"input_number"}],ref:"search_input",staticClass:"no bottom border",style:{background:"none",color:e.theme.color.font},attrs:{type:"text",id:"search_input",autofocus:"true",autocomplete:"off",placeholder:e.$t("ui.scanner.helps.write_or_scan_barcode")},domProps:{value:e.input_number},on:{blur:function(t){e.input_blurred()},keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.input_submit()},input:function(t){t.target.composing||(e.input_number=t.target.value)}}}):i("div",{attrs:{id:"search_input"},on:{click:function(t){t.preventDefault(),e.input_focused()}}},[e._v("\n                "+e._s(e.current_number||e.$t("ui.scanner.helps.write_or_scan_barcode"))+"\n            ")]),i("div",{staticClass:"ui button no bottom border",class:{inverted:e.is_inverted,current_setting_group:e.current_setting_group},style:{backgroundColor:e.current_setting_group.color},on:{click:function(t){e.toggle_settings()}}},[e.current_setting_group?i("img",{staticClass:"sprite",attrs:{src:"/images/barcode_setting_group_icons/"+e.current_setting_group.icon_file_name+".svg"}}):i("i",{staticClass:"big floating ellipsis vertical icon",staticStyle:{margin:"0"}})])]),i("div",{staticClass:"ui bottom right settings label no top border pointer",class:{inverted:e.is_inverted,show_setting_modes_content:e.is_setting},style:{background:"none",color:e.theme.color.font},on:{click:function(t){e.toggle_settings()}}},[i("div",{staticClass:"settings_content"},[i("span",{staticClass:"setting_modes_content",class:{show_setting_modes_content:e.is_setting}},[e.settings.is_scan_action_mode&&e.current_scan_action_prototype.identity?i("span",[e._v(e._s(e.current_scan_action_prototype.name+"("+e.current_scan_action_prototype.barcode+")")+"、\n                    ")]):i("span",[e.current_setting_group.is_hide?e._e():i("span",[e._v("\n                            "+e._s(e.current_setting_group.name)+" 、\n                        ")])]),e._v("\n\n                    "+e._s(e.settings.is_batch_mode?e.$tc("ui.scanner.settings.is_batch_mode.true")+"、":"")+"\n                    "+e._s(e.settings.is_distributed_to_mode?e.$tc("ui.scanner.settings.is_distributed_to_mode.true",2)+"、":"")+"\n                    "+e._s(e.settings.is_package_mode?e.$tc("ui.scanner.settings.is_package_mode.true",2)+"、":"")+"\n                    "+e._s(e.settings.is_unpackage_mode?e.$tc("ui.scanner.settings.is_unpackage_mode.true",2)+"、":"")+"\n\n                    "),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_auto_print_label_mode")?i("span",[e._v("\n                        "+e._s(e.settings.is_auto_print_label_mode?e.$tc("ui.scanner.settings.is_auto_print_label_mode.true",2):e.$tc("ui.scanner.settings.is_auto_print_label_mode.false",2))+"、\n                    ")]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_scan_mode")?i("span",[e._v("\n                        "+e._s(e.settings.is_scan_mode?e.$tc("ui.scanner.settings.is_scan_mode.true",2):e.$tc("ui.scanner.settings.is_scan_mode.false",2))+"、\n                    ")]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_speech_mode")?i("span",[e._v("\n                        "+e._s(e.settings.is_speech_mode?e.$tc("ui.scanner.settings.is_speech_mode.true",2):e.$tc("ui.scanner.settings.is_speech_mode.false",2))+"、\n                    ")]):e._e(),e._v("\n\n                    "+e._s(e.settings.is_update_corewaybill_mode?e.$tc("ui.scanner.settings.is_update_corewaybill_mode.true",2)+"、":"")+"\n\n                    "),e._v("\n                    "+e._s(e.$t("ui.scanner.settings.core_waybill_template_mode.short_name"))+"：\n                    "+e._s("min_card"==e.settings.core_waybill_template_mode?e.$tc("ui.scanner.settings.core_waybill_template_mode.min_card",2):"")+"\n                    "+e._s("card"==e.settings.core_waybill_template_mode?e.$tc("ui.scanner.settings.core_waybill_template_mode.card",2):"")+"\n                    "+e._s("detail"==e.settings.core_waybill_template_mode?e.$tc("ui.scanner.settings.core_waybill_template_mode.detail",2):"")+"\n                ")])]),i("div",{staticClass:"toggle_is_setting_icon",class:{show_setting_modes_content:e.is_setting}},[i("i",{staticClass:"large icon angle double",class:{up:e.is_setting,down:!e.is_setting},style:{color:e.theme.color.show_setting_icon}})])])])])},se=[];function ae(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function re(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){ae(a,n,s,r,o,"next",e)}function o(e){ae(a,n,s,r,o,"throw",e)}r(void 0)})}}var oe={props:{is_processing:Boolean,current_scan_action_prototype:Object,current_number:String,is_inverted:{default:!1,type:Boolean}},data:function(){return{input_number:"",is_input_mode:!1,is_loading:!1}},mounted:function(){},watch:{},computed:{current_store:function(){return this.$store.state[this.$store.state.current_scope].scanner_module},theme:function(){return this.current_store.config.theme},settings:function(){return this.current_store.settings},is_setting:function(){return this.current_store.is_setting},current_setting_group:function(){return this.current_store.current_setting_group}},methods:{input_focused:function(){var e=re(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_input_mode=!0,e()});case 3:return e.next=5,new Promise(function(e){t.input_number=t.current_number,e()});case 5:return e.next=7,new Promise(function(e){t.$nextTick(function(){$("#search_input").focus(),t.$refs.search_input.focus()}),e()});case 7:return e.next=9,t.$bus.$emit("set_input_mode",!0);case 9:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),input_blurred:function(){var e=re(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,t.$bus.$emit("set_current_number",t.input_number);case 3:return e.next=5,new Promise(function(e){t.is_input_mode=!1,t.input_number="",e()});case 5:return e.next=7,t.$bus.$emit("set_input_mode",!1);case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),input_submit:function(){var e=re(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,t.input_blurred();case 4:return e.next=6,t.$bus.$emit("enqueue");case 6:e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log(e.t0);case 11:case"end":return e.stop()}},e,this,[[1,8]])}));function t(){return e.apply(this,arguments)}return t}(),toggle_settings:function(){var e=this;e.$parent.toggle_settings_div()}},components:{}},ce=oe,_e=(n("6920"),Object(h["a"])(ce,ne,se,!1,null,"461b2843",null)),le=_e.exports,ue=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.is_initialized?i("div",{attrs:{id:"core_waybill"}},[e.settings.is_package_mode||e.settings.is_unpackage_mode?i("div",[e.is_mobile_width?i("carousel",{attrs:{perPage:1,speed:390,minSwipeDistance:120,paginationEnabled:!1}},[i("slide",[i("Package",{attrs:{is_inverted:e.is_inverted}}),i("NavigationRight",{attrs:{top:"18px"}})],1),i("slide",[i("NavigationLeft",{attrs:{top:"18px"}}),i("General",{attrs:{is_inverted:e.is_inverted}})],1)],1):i("div",[i("div",{staticClass:"ui top tabular menu"},e._l(e.top_menus,function(t){return i("div",{staticClass:"item pointer",class:{active:e.current_setting_component==t.component_name},style:{color:e.theme.color.font},on:{click:function(i){e.current_setting_component=t.component_name}}},[e._v("\n                    "+e._s(t.title)+"\n                ")])})),i(e.current_setting_component,{tag:"component",attrs:{is_inverted:e.is_inverted}})],1)],1):i("div",[i("General",{attrs:{is_inverted:e.is_inverted}})],1)]):e._e()},de=[],pe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"package_core_waybill"}},[i("div",{staticClass:"ui divider"}),e.settings.is_package_mode||e.is_initialized?i("div",{staticClass:"current_pack"},[i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui top pointing dropdown button",staticStyle:{"margin-right":"0"},on:{change:function(t){e.$forceUpdate()}}},[e._l(e.materials,function(t){return e.current_pack_taget_parent_material.identity==t.identity?i("div",{staticClass:"text"},[e._v("\n                "+e._s(e.current_pack_taget_parent_material.name)+"\n            ")]):e._e()}),e.current_pack_taget_parent_material.name?e._e():i("div",{staticClass:"text"},[e._v("\n                "+e._s(e.$t("ui.general.please_select"))+"\n                "+e._s(e.$t("ui.scanner.package.packing_material"))+"\n\n            ")]),i("div",{staticClass:"menu"},e._l(e.materials,function(t){return i("div",{staticClass:"item",class:{active:t.identity==e.current_pack_taget_parent_material.identity},on:{click:function(i){e.current_store.current_pack_taget_parent_material_identity=t.identity}}},[e._v("\n                    "+e._s(t.name)+"\n                ")])}))],2),i("span",{staticStyle:{"font-size":"20px","vertical-align":"sub"}},[e._v("\n            "+e._s(e.$t("ui.scanner.package.package"))+"\n        ")]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui top pointing dropdown button",on:{change:function(t){e.$forceUpdate()}}},[e._l(e.materials,function(t){return e.current_pack_taget_material.identity==t.identity?i("div",{staticClass:"text"},[e._v("\n                "+e._s(e.current_pack_taget_material.name)+"\n            ")]):e._e()}),e.current_pack_taget_material.name?e._e():i("div",{staticClass:"text"},[e._v("\n                "+e._s(e.$t("ui.scanner.helps.select_pack_taget"))+"\n            ")]),i("div",{staticClass:"menu"},e._l(e.materials,function(t){return i("div",{staticClass:"item",class:{active:t.identity==e.current_pack_taget_material.identity},on:{click:function(i){e.current_store.current_pack_taget_material_identity=t.identity}}},[e._v("\n                    "+e._s(t.name)+"\n                ")])}))],2),i("div",{staticClass:"ui checkbox",staticStyle:{"vertical-align":"middle"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.settings.pack_need_source_mode,expression:"settings.pack_need_source_mode"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.settings.pack_need_source_mode)?e._i(e.settings.pack_need_source_mode,null)>-1:e.settings.pack_need_source_mode},on:{change:function(t){var i=e.settings.pack_need_source_mode,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=e._i(i,a);n.checked?r<0&&e.$set(e.settings,"pack_need_source_mode",i.concat([a])):r>-1&&e.$set(e.settings,"pack_need_source_mode",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(e.settings,"pack_need_source_mode",s)}}}),i("label",{staticClass:"pointer",class:{active:e.settings.pack_need_source_mode},on:{click:function(t){e.current_store.settings.pack_need_source_mode=!e.current_store.settings.pack_need_source_mode}}},[e._v("\n                "+e._s(e.$tc("ui.scanner.settings.pack_need_source_mode.short_name"))+"\n            ")])])]):e._e(),e.package_message.content?i("div",{staticClass:"package_message",class:[e.package_message.status]},[e._v("\n        "+e._s(e.package_message.content)+"\n    ")]):e._e(),i("h2",{staticStyle:{margin:"0"}},[e._v("\n        "+e._s(e.current_package.parent_core_waybill.number||e.package_no_number_content)+"\n        "),e.current_package.parent_core_waybill.material?i("span",{staticClass:"material_name"},[e._v("\n            ["+e._s(e.current_package.parent_core_waybill.material.name)+"]\n        ")]):e._e()]),e.current_package.core_waybills.length?i("div",{staticClass:"goods"},[e._l(e.current_package.core_waybills,function(t){return i("h3",[e._v("\n            "+e._s(t.number)+"\n            "),t.material?i("span",{staticClass:"material_name"},[e._v("\n                ["+e._s(t.material.name)+"]\n            ")]):e._e()])}),i("div",{staticClass:"fluid ui button no border",on:{click:function(t){e.submit_package()}}},[e._v("\n            "+e._s(e.$t("ui.general.submit"))+"\n        ")])],2):e._e(),e.desc_ordered_package_response_history.length?i("div",{staticClass:"ui list package_response_history"},e._l(e.desc_ordered_package_response_history,function(e){return i("PackageHistoryItem",{key:e.id,staticClass:"item",attrs:{package_response:e}})})):e._e()])},me=[],fe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"package_history_item"},[i("span",[e._v("\n        "+e._s(e.package_response.is_setting_is_package_mode?e.$t("ui.scanner.package.package"):e.$t("ui.scanner.package.unpackage"))+"\n    ")]),"success"==e.package_response.status?i("span",{staticStyle:{color:"green"}},[e._v("\n        "+e._s(e.$t("success"))+"\n    ")]):e._e(),"failure"==e.package_response.status?i("span",{staticStyle:{color:"red"}},[e._v("\n        "+e._s(e.$t("ui.general.failure"))+"\n    ")]):e._e(),e._v("\n\n    "+e._s(e.package_response.parent_core_waybill.number)+"\n    ["+e._s(e.package_response.parent_core_waybill.material.name)+"]\n    "),e.package_response.is_setting_is_package_mode?i("span",[e._v("\n        "+e._s(e.$t("ui.scanner.package.total__number",{number:e.package_response.parent_core_waybill.child_core_waybills.length}))+"\n    ")]):e._e(),e.package_response.is_setting_is_package_mode?i("span",{staticClass:"pointer",staticStyle:{"font-size":"small","font-weight":"bold"},on:{click:function(t){e.is_show_detail=!e.is_show_detail}}},[e._v("\n        ["+e._s(e.is_show_detail?e.$t("ui.scanner.package.hide"):e.$t("ui.scanner.package.detail"))+"]\n    ")]):e._e(),e.is_show_detail?i("div",{staticClass:"current_package_response"},[e.package_response.parent_core_waybill.child_core_waybills.length?i("div",{staticClass:"goods",staticStyle:{padding:"6px"}},e._l(e.package_response.parent_core_waybill.child_core_waybills,function(t){return i("span",[e._v("\n                "+e._s(t.number)+"\n                "),t.material?i("span",{staticClass:"material_name"},[e._v("\n                    ["+e._s(t.material.name)+"]\n                ")]):e._e(),e._v("\n                /\n            ")])})):e._e()]):e._e()])},he=[],ve={components:{},props:{package_response:{default:{},type:Object}},data:function(){return{is_show_detail:!1}},mounted:function(){},watch:{},computed:{},methods:{}},ge=ve,be=(n("b673"),Object(h["a"])(ge,fe,he,!1,null,"3a752e1f",null)),ye=be.exports;function we(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function $e(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){we(a,n,s,r,o,"next",e)}function o(e){we(a,n,s,r,o,"throw",e)}r(void 0)})}}var ke={components:{PackageHistoryItem:ye},props:{is_inverted:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1,package_no_number_content:this.$t("ui.scanner.helps.select_target_layer")}},mounted:function(){var e=this;e.init()},watch:{"settings.pack_need_source_mode":function(e){var t=this;t.fetch_and_set_local_storage("pack_need_source_mode",e)},"settings.pack_p_m_mode":function(e){var t=this;t.fetch_and_set_local_storage("pack_p_m_mode",e),t.init()},"settings.pack_m_mode":function(e){var t=this;t.fetch_and_set_local_storage("pack_m_mode",e),t.init()},current_pack_taget_parent_material:function(e){var t=this;e.class_name!=t.settings.pack_p_m_mode&&t.clear_current_pack(),t.settings.pack_p_m_mode=e.class_name},current_pack_taget_material:function(e){var t=this;t.settings.pack_m_mode=e.class_name}},computed:{current_store:function(){return this.$store.state.station.scanner_module},settings:function(){return this.current_store.settings},current_pack_taget_parent_material:function(){return this.$store.getters["provider/scanner_module/current_pack_taget_parent_material"]},current_pack_taget_material:function(){return this.$store.getters["provider/scanner_module/current_pack_taget_material"]},materials:function(){return this.current_store.materials},current_package:{cache:!1,get:function(){return this.current_store["package"]}},package_message:function(){return this.current_store.package_message},desc_ordered_package_response_history:function(){return _.orderBy(this.current_store.package_response_history,"id","desc")}},methods:{init:function(){var e=$e(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,t.is_initialized=!1,e.next=4,t.set_pack_material();case 4:return e.next=6,t.set_package_no_number_content();case 6:return e.next=8,new Promise(function(e){t.is_initialized=!0});case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),set_pack_material:function(){var e=this;if(e.settings.pack_p_m_mode){var t=_.find(e.materials,function(t){var i=new RegExp(e.settings.pack_p_m_mode,"i");return t.class_name.match(i)});e.current_store.current_pack_taget_parent_material_identity=t.identity?t.identity:""}if(e.settings.pack_m_mode){t=_.find(e.materials,function(t){var i=new RegExp(e.settings.pack_m_mode,"i");return t.class_name.match(i)});e.current_store.current_pack_taget_material_identity=t.identity?t.identity:""}return Promise.resolve()},set_package_no_number_content:function(){var e=this;try{if(!e.current_pack_taget_parent_material.name)throw e.$t("ui.scanner.helps.select_pack_taget_parent");if(!e.current_pack_taget_material.name)throw e.$t("ui.scanner.helps.select_pack_taget");throw e.$t("ui.scanner.helps.scan")+" "+e.current_pack_taget_parent_material.name}catch(t){e.package_no_number_content=t}},fetch_and_set_local_storage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i="scanner_".concat(e),n=localStorage.getItem(i);return!1===t&&localStorage.setItem(i,t),null==n||""==n||""!=t?(localStorage.setItem(i,t),t):localStorage.getItem(i)},submit_package:function(){var e=$e(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,t.$store.dispatch("provider/scanner_module/submit_package");case 3:return e.next=5,t.clear_current_pack();case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),clear_current_pack:function(){var e=this;return e.current_store["package"]={parent_core_waybill:{},core_waybill_identities:[],core_waybills:[],source_core_waybill_identity:null},Promise.resolve()}}},xe=ke,Ce=(n("a7dc"),Object(h["a"])(xe,pe,me,!1,null,"7da3dca5",null)),Pe=Ce.exports,Se=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"content_core_waybill"}},[e.current_core_waybill_need_related_columns.length&&e.settings.is_quick_corewaybill_related_columns&&e.current_setting_group.is_scan_action?i("QuickRelatedColumns",{attrs:{is_inverted:e.is_inverted}}):e._e(),i("div",{staticClass:"ui divider"}),e.current_staff_operation.number||e.settings.is_distributed_to_mode||e.settings.is_unpackage_mode||e.settings.is_package_mode?i("h3",{staticClass:"center aligned",staticStyle:{margin:"0 auto","padding-bottom":"6px"}},[e.settings.is_distributed_to_mode&&!e.$store.getters["provider/current_station"].identity?i("span",[i("i",{staticClass:"exclamation triangle red icon"}),e._v("\n                "+e._s(e.$t("ui.scanner.helps.distributed.please_select"))+"\n                "),i("span",{staticClass:"pointer",staticStyle:{color:"red"},on:{click:function(t){e.$bus.$emit("toggle_station_modal","show")}}},[e._v("\n                    "+e._s(e.$t("ui.scanner.helps.distributed.current_station"))+"\n                ")]),e._v("\n                ，"+e._s(e.$t("ui.scanner.helps.distributed.can_use_distributed_to_mode"))+"\n                "),i("br")]):e._e(),e.settings.is_package_mode?i("span",[e._v("\n            "+e._s(e.$tc("ui.scanner.settings.is_package_mode.true",3))+"\n        ")]):e._e(),e.settings.is_unpackage_mode?i("span",[e._v("\n            "+e._s(e.$tc("ui.scanner.settings.is_unpackage_mode.true",3))+"\n        ")]):e._e(),e.current_staff_operation.number?i("span",[e.settings.is_package_mode||e.settings.is_unpackage_mode?i("span",[e._v("\n                、\n            ")]):e._e(),e._v("\n            "+e._s(e.$t("ui.scanner.helps.selected_operation"))+"：\n            "+e._s(e.current_staff_operation.number)+"\n            "),e.current_staff_operation.provider_note?i("span",[e._v("\n                、"+e._s(e.current_staff_operation.provider_note)+"\n            ")]):e._e()]):e._e()]):e._e(),i("div",{staticClass:"ui stackable centered grid"},[i("div",{staticClass:"wide column"},[i("DistributedResponse",{attrs:{"v-if":e.settings.is_distributed_to_mode,is_inverted:e.is_inverted}}),i("SingleCoreWaybill",{attrs:{current_core_waybill:e.current_core_waybill,is_inverted:e.is_inverted,settings:e.settings,card_half_style:!0,file_uploader:!0,fetch_core_waybill_statuses:!0,related_columns:e.current_scan_action_prototype.related_columns,current_scan_action_prototype:e.current_scan_action_prototype}})],1)])],1)},Ne=[],qe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.current_core_waybill.identity&&"new"!=e.current_store.current_job.core_waybill_scope?i("div",[i("CoreWaybill",{staticStyle:{margin:"0px"},attrs:{core_waybill:e.current_core_waybill,template:e.tool_core_waybill_settings.template,scope:e.$store.state.current_scope,is_inverted:e.is_inverted,is_in_scanner_modal:!0,is_show_change_template_btns:!0,is_auto_print:e.tool_core_waybill_settings.is_auto_print,is_can_print_label:e.tool_core_waybill_settings.is_print_label,is_can_update:e.tool_core_waybill_settings.is_update_corewaybill,can_update_field_names:"LA04"==e.current_setting_group.barcode?["receipt_file_url"]:[],cant_update_field_names:e.tool_core_waybill_settings.cant_update_field_names,card:{is_half_style:!0,is_simple_form:!1,is_vertical:e.is_vertical,is_show_note:!0},detail:{is_show_blood_related:!0,is_show_receipt_file:!0,is_show_partition:!0,is_show_statuses:!0}}})],1):i("div")},Ae=[],Ee=n("41a7");function ze(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function je(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){ze(a,n,s,r,o,"next",e)}function o(e){ze(a,n,s,r,o,"throw",e)}r(void 0)})}}var Re={components:{CoreWaybill:Ee["a"]},props:{current_core_waybill:Object,current_scan_action_prototype:Object,is_inverted:{default:!1,type:Boolean},fetch_core_waybill_statuses:{default:!1,type:Boolean},card_button_color:{default:"",type:String},card_button_content:{default:"",type:String},card_button_channel:{default:"",type:String},file_uploader:{default:!1,type:Boolean},focus_field:{default:"",type:String},related_columns:{default:function(){return[]},type:Array}},computed:{current_store:function(){return this.$store.state[this.$store.state.current_scope].scanner_module},core_waybills:function(){return this.current_store.core_waybills},settings:function(){return this.current_store.settings},current_setting_group:function(){return this.current_store.current_setting_group}},data:function(){return{is_initialized:!1,is_vertical:!1,tool_core_waybill_settings:{cant_update_field_names:[],is_update_corewaybill:!1,is_print_label:!1,is_auto_print:!1,template:"card"},core_waybill_template_mode:"",core_waybill_statuses:[],empty_core_waybill:{number:"請輸入號碼"},tool_core_waybill_active_button:{content:"",channel:""}}},mounted:function(){var e=this;this.init(),e.is_vertical=$(window).width()<=767,$(window).resize(function(){var t=$(window).width();e.is_vertical=t<=767})},watch:{"settings.core_waybill_template_mode":function(e){var t=this;t.tool_core_waybill_settings.template="LA02"==t.current_setting_group.barcode?"waybill":e,t.tool_core_waybill_settings.is_auto_print=!1},current_core_waybill:function(){this.init()}},methods:{init:function(){var e=je(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,t.is_initialized=!1,e.next=4,t.set_tool_core_waybill_settings();case 4:return e.next=6,new Promise(function(e){t.is_initialized=!0});case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),set_tool_core_waybill_settings:function(){var e=this;return e.tool_core_waybill_settings.is_update_corewaybill=e.settings.is_update_corewaybill_mode,e.tool_core_waybill_settings.is_auto_print=e.settings.is_auto_print_label_mode,e.tool_core_waybill_settings.template=e.$store.getters[this.$store.state.current_scope+"/scanner_module/current_core_waybill_need_related_columns"].length?"card":e.settings.core_waybill_template_mode,"LA02"==e.current_setting_group.barcode?(e.tool_core_waybill_settings.template="waybill",e.tool_core_waybill_settings.is_print_label=!0):(e.tool_core_waybill_settings.template=e.settings.core_waybill_template_mode,e.tool_core_waybill_settings.is_print_label=e.settings.is_auto_print_label_mode),e.tool_core_waybill_settings.is_auto_print=!e.$store.getters[this.$store.state.current_scope+"/scanner_module/current_core_waybill_need_related_columns"].length&&e.tool_core_waybill_settings.is_auto_print,Promise.resolve()}}},Oe=Re,Ie=(n("e5a8"),Object(h["a"])(Oe,qe,Ae,!1,null,"2938ad00",null)),De=Ie.exports,Le=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"quick_core_waybill_related_columns"}},[i("div",{staticClass:"ui divider",staticStyle:{"margin-top":"3px"}}),i("div",{staticClass:"ui form",class:{inverted:e.is_inverted}},[i("h3",{staticStyle:{margin:"0"}},[e._v("\n            "+e._s(e.$t("ui.scanner.helps.quick_required_field_div"))+"\n        ")]),e._l(e.current_scan_action_prototype_related_columns,function(t){return i("div",{staticClass:"field half",on:{click:function(t){e.is_edit_fields=!0}}},[e.is_edit_fields?i("label",{staticStyle:{"font-size":"14px"}},[e._v("\n                "+e._s(e.$t("models.attributes.core_waybills."+t.name))+"\n                ")]):e._e(),e.is_edit_fields?i("input",{directives:[{name:"model",rawName:"v-model",value:e.quick_core_waybill_related_columns[t.name],expression:"quick_core_waybill_related_columns[related_column.name]"}],class:{is_required:t.is_required},attrs:{type:"text",tabindex:"-1",autocomplete:"off",placeholder:t.is_required?e.$t("ui.scanner.alerts.required_field"):e.$t("ui.scanner.alerts.if_have_write")},domProps:{value:e.quick_core_waybill_related_columns[t.name]},on:{focus:function(t){e.current_store.is_keydown=!1},blur:function(t){e.current_store.is_keydown=!0},input:function(i){i.target.composing||e.$set(e.quick_core_waybill_related_columns,t.name,i.target.value)}}}):e._e(),e.is_edit_fields?e._e():i("label",{staticStyle:{"font-size":"14px"}},[e._v("\n                "+e._s(e.$t("models.attributes.core_waybills."+t.name))+"\n                "),t.is_required?i("span",{staticStyle:{color:"red"}},[e._v("\n                    *\n                ")]):e._e(),e._v("\n                ： "+e._s(e.quick_core_waybill_related_columns[t.name]||"無填寫")+"\n            ")])])})],2),i("div",{staticClass:"toggle_is_edit_fields pointer",on:{click:function(t){e.is_edit_fields=!e.is_edit_fields}}},[i("i",{staticClass:"circular orange icon",class:{"inverted angle double up":e.is_edit_fields,"large angle double down":!e.is_edit_fields}})]),i("div",{staticClass:"clear"})])},Te=[],Be={components:{},props:{is_inverted:{default:!1,type:Boolean}},data:function(){return{is_edit_fields:!0}},computed:{current_store:function(){return this.$store.state.station.scanner_module},settings:function(){return this.current_store.settings},current_scan_action_prototype_related_columns:function(){return this.$store.getters["provider/scanner_module/current_scan_action_prototype_related_columns"]},quick_core_waybill_related_columns:function(){return this.current_store.quick_core_waybill_related_columns}},watch:{},mounted:function(){},methods:{}},Me=Be,Ue=(n("936c"),Object(h["a"])(Me,Le,Te,!1,null,"c00cf590",null)),Fe=Ue.exports,Ye=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"distributed_response"}},[e.distributed_to.message?i("div",{staticClass:"distributed_to_message",style:{borderColor:e.border_color()}},[i("h3",[e._v("\n            "+e._s(e.$t("ui.scanner.helps.distributed_result"))+"：\n            "+e._s(e.distributed_to.message)+"\n        ")])]):e._e()])},Ge=[],He={components:{},props:{is_inverted:{default:!1,type:Boolean}},data:function(){return{}},computed:{current_store:function(){return this.$store.state.station.scanner_module},settings:function(){return this.current_store.settings},distributed_to:function(){return this.current_store.distributed_to}},watch:{},mounted:function(){},methods:{border_color:function(){var e=this;if("success"!=e.distributed_to.status)return"red";switch(e.distributed_to.type){case"direct":return"green";case"transfer":return"green";case"intermodal":return"green";default:return"green"}}}},Ke=He,We=(n("033e"),Object(h["a"])(Ke,Ye,Ge,!1,null,"10e8f230",null)),Ve=We.exports;function Xe(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function Qe(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){Xe(a,n,s,r,o,"next",e)}function o(e){Xe(a,n,s,r,o,"throw",e)}r(void 0)})}}var Ze={components:{SingleCoreWaybill:De,QuickRelatedColumns:Fe,DistributedResponse:Ve},props:{core_waybill:Object,is_inverted:{default:!1,type:Boolean}},data:function(){return{is_processing:!0}},mounted:function(){this.init()},watch:{},computed:{current_staff_operation:function(){return this.$store.state.station.current_staff_operation},current_store:function(){return this.$store.state[this.$store.state.current_scope].scanner_module},settings:function(){return this.current_store.settings},current_core_waybill:{cache:!1,get:function(){return this.current_store.current_core_waybill}},core_waybills:function(){return this.current_store.core_waybills},current_scan_action_prototype:function(){return this.current_store.current_scan_action_prototype},current_setting_group:function(){return this.current_store.current_setting_group},current_core_waybill_need_related_columns:function(){return this.$store.getters["provider/scanner_module/current_core_waybill_need_related_columns"]}},methods:{init:function(){var e=Qe(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,t.is_processing=!0,t.stack_error_number=[],e.next=5,new Promise(function(e){t.is_processing=!1});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},Je=Ze,et=(n("c68f"),Object(h["a"])(Je,Se,Ne,!1,null,"79559ec2",null)),tt=et.exports;function it(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function nt(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){it(a,n,s,r,o,"next",e)}function o(e){it(a,n,s,r,o,"throw",e)}r(void 0)})}}var st={components:{Package:Pe,General:tt,NavigationLeft:F,NavigationRight:V,Carousel:X["Carousel"],Slide:X["Slide"]},props:{is_modal_opened:{default:!1,type:Boolean},is_inverted:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1,is_mobile_width:!1,current_setting_component:"Package",top_menus:[{title:this.$t("ui.scanner.menus.package"),component_name:"Package"},{title:this.$t("ui.scanner.menus.core_waybill"),component_name:"General"}],update_core_waybills_eventbus_name:"update_core_waybills_in_scanner"}},mounted:function(){var e=this;$(window).resize(function(){var t=$(window).width();e.is_mobile_width=t<=767}),e.init()},watch:{is_modal_opened:function(e){e&&this.$forceUpdate()}},computed:{current_store:function(){return this.$store.state[this.$store.state.current_scope].scanner_module},theme:function(){return this.current_store.config.theme},settings:function(){return this.current_store.settings},current_core_waybill:{cache:!1,get:function(){return this.current_store.current_core_waybill}},core_waybills:function(){return this.current_store.core_waybills}},methods:{init:function(){var e=nt(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,t.is_initialized=!1,e.next=4,t.set_is_mobile_width();case 4:return e.next=6,new Promise(function(e){t.is_initialized=!0});case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),set_is_mobile_width:function(){var e=this;return e.is_mobile_width=$(window).width()<=767,""}}},at=st,rt=(n("cf37"),Object(h["a"])(at,ue,de,!1,null,"76b011ba",null)),ot=rt.exports,ct=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"create_core_waybill_alert"}},[e.is_initialized?i("div",{staticClass:"ui segment z-depth-2",style:{background:e.theme.background,color:e.theme.color.font}},[i("h3",[e._v("\n            "+e._s(e.$t("ui.scanner.alerts.is_created"))+"\n            "),i("span",[e._v("\n                "+e._s(e.current_store.current_core_waybill.number)+"\n            ")]),e.current_store.current_core_waybill.material?i("span",{staticStyle:{"font-size":"small"}},[i("span",{staticClass:"title_number"},[e._v("\n                    ["+e._s(e.current_store.current_core_waybill.material.name)+"]\n                ")])]):e._e()]),e.create_core_waybill_error?i("div",{staticClass:"ui message error"},[e._v("\n            "+e._s(e.create_core_waybill_error)+"\n        ")]):e._e(),i("div",{staticClass:"right aligned",staticStyle:{"padding-top":"12px"}},[i("button",{staticClass:"ui inverted red button",on:{click:function(t){e.give_up_create_core_waybill()}}},[e._v("\n                "+e._s(e.$t("ui.scanner.alerts.give_up"))+"\n            ")]),i("button",{staticClass:"ui inverted blue button",on:{click:function(t){e.define_create_core_waybill()}}},[e._v("\n                "+e._s(e.$t("ui.scanner.alerts.definite"))+"\n            ")])])]):e._e()])},_t=[],lt=n("3c2e"),ut=n.n(lt);function dt(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function pt(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){dt(a,n,s,r,o,"next",e)}function o(e){dt(a,n,s,r,o,"throw",e)}r(void 0)})}}var mt={components:{},props:{is_inverted:{default:!1,type:Boolean},is_modal_opened:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1,is_enter_keyboard_to_finish_action:!1,create_core_waybill_error:""}},computed:{current_store:function(){return this.$store.state.station.scanner_module},theme:function(){return this.current_store.config.theme},current_core_waybill:function(){return this.current_store.current_core_waybill}},watch:{},deleted:function(){var e=this;e.is_enter_keyboard_to_finish_action=!1},mounted:function(){var e=this;e.is_enter_keyboard_to_finish_action=!0,$(window).bind("keydown",e.window_keydown),e.toggle_scanner_is_keydown(!1),e.init()},methods:{window_keydown:function(e){var t=this;if(t.is_enter_keyboard_to_finish_action){var i=new ut.a(e);13!=i.key_code||this.current_store.is_keydown||t.define_create_core_waybill()}},init:function(){var e=pt(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,new Promise(function(e){t.current_column_order=0,t.is_initialized=!0,e()});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](1),console.log(e.t0);case 9:case"end":return e.stop()}},e,this,[[1,6]])}));function t(){return e.apply(this,arguments)}return t}(),toggle_scanner_is_keydown:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;t.current_store.is_keydown=e},give_up_create_core_waybill:function(){var e=this;e.toggle_scanner_is_keydown(!0),e.$parent.alert_failure(),e.$noty.warning("未建立運單",1200)},define_create_core_waybill:function(){var e=pt(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,t.create_core_waybill();case 3:if(""!=t.create_core_waybill_error){e.next=8;break}return e.next=6,t.$parent.alert_success();case 6:return e.next=8,t.toggle_scanner_is_keydown(!0);case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),create_core_waybill:function(){var e=this,t=new RestUrl(e.$store.state.station.routes.api_v1_provider_core_waybills_create).parse({});return e.current_core_waybill["is_used"]=!0,e.current_core_waybill["material_identity"]=e.current_core_waybill.material.identity,e.current_core_waybill["partition_identity"]=e.current_core_waybill.partition.identity,axios.post(t,e.current_core_waybill,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.core_waybills")})),e.create_core_waybill_error=t.data.errors,Promise.reject(t.data.errors);e.$noty.success(e.$t("ui.notifications.success.create__name",{name:e.$t("models.core_waybills")}))})}}},ft=mt,ht=(n("7729"),Object(h["a"])(ft,ct,_t,!1,null,"ee61b146",null)),vt=ht.exports,gt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{},[i("div",{attrs:{id:"scan_action_description_alert"}},[e.is_initialized&&e.current_scan_action_prototype.description_options?i("div",{staticClass:"ui segment z-depth-2",style:{background:e.theme.background,color:e.theme.color.font,top:e.current_scan_action_prototype.description_options.length>=7?"10%":"20%"}},[i("p",{staticStyle:{"font-size":"16px"}},[e._v("\n                "+e._s(e.$t("ui.scanner.alerts.please_write_scan_note"))+"\n                "),i("span",{staticStyle:{color:"red"}},[e._v("\n                    ["+e._s(e.$t("ui.scanner.alerts.required"))+"]\n                ")])]),i("div",{staticClass:"description_options"},e._l(e.current_scan_action_prototype.description_options,function(t,n){return i("div",{staticClass:"ui inverted button",class:{fluid:e.is_mobile_width,red:n%7==0,orange:n%7==1,violet:n%7==2,white:n%7==3,purple:n%7==4,pink:n%7==5,active:e.current_store.scan_action_description==t},on:{click:function(i){e.current_store.scan_action_description=t}}},[e._v("\n                    "+e._s(t)+"\n                ")])})),i("div",{staticClass:"right aligned",staticStyle:{"padding-top":"12px"}},[i("button",{staticClass:"ui inverted red button",on:{click:function(t){e.give_up_scan_action_description()}}},[e._v("\n                    "+e._s(e.$t("ui.scanner.alerts.give_up"))+"\n                ")]),i("button",{staticClass:"ui inverted blue button",on:{click:function(t){e.finish_scan_action_description()}}},[e._v("\n                    "+e._s(e.$t("ui.scanner.alerts.definite"))+"\n                ")])])]):e._e()])])},bt=[],yt=n("dcbb");function wt(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function $t(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){wt(a,n,s,r,o,"next",e)}function o(e){wt(a,n,s,r,o,"throw",e)}r(void 0)})}}var kt={components:{FileUploader:yt["a"]},props:{is_inverted:{default:!1,type:Boolean},is_modal_opened:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1,is_mobile_width:!1,is_enter_keyboard_to_finish_action:!1,current_column:{},current_column_order:0,file_uploader:{status:"",message:""},core_waybill_receipt_file_url_eventbus:""}},computed:{current_store:function(){return this.$store.state.station.scanner_module},theme:function(){return this.current_store.config.theme},settings:function(){return this.current_store.settings},scan_action_description:function(){return this.current_store.scan_action_description},current_scan_action_prototype:function(){return this.current_store.current_scan_action_prototype},array_description_options:function(){if(!this.current_store.current_scan_action_prototype.description_options)return[]}},watch:{is_modal_opened:function(e){e&&(this.toggle_scanner_is_keydown(!1),this.init())},current_core_waybill_need_related_columns:function(){this.init()}},deleted:function(){var e=this;e.is_enter_keyboard_to_finish_action=!1},mounted:function(){var e=this;e.is_mobile_width=$(window).width()<=767,$(window).resize(function(){var t=$(window).width();e.is_mobile_width=t<=767}),e.is_enter_keyboard_to_finish_action=!0,$(window).bind("keydown",e.window_keydown),e.toggle_scanner_is_keydown(!1),e.init()},methods:{window_keydown:function(e){var t=this;if(t.is_enter_keyboard_to_finish_action){var i=new ut.a(e);13!=i.key_code||this.current_store.is_keydown||t.finish_scan_action_description()}},toggle_scanner_is_keydown:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;t.current_store.is_keydown=e},init:function(){var e=$t(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,t.focus_input();case 4:return e.next=6,new Promise(function(e){t.current_column_order=0,t.is_initialized=!0,e()});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log(e.t0);case 11:case"end":return e.stop()}},e,this,[[1,8]])}));function t(){return e.apply(this,arguments)}return t}(),focus_input:function(){return $(document).ready(function(){$("#alert_input").focus()}),Promise.resolve()},give_up_scan_action_description:function(){var e=this,t=e.$t("ui.scanner.errors.give_up_scan_action_description");e.toggle_scanner_is_keydown(!0),e.$parent.alert_failure(t),e.$noty.error(t,1200)},finish_scan_action_description:function(){var e=$t(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,e.prev=1,t.scan_action_description){e.next=4;break}throw t.$t("ui.scanner.helps.write_scan_action_note");case 4:t.toggle_scanner_is_keydown(!0),t.$parent.alert_success(),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),t.$noty.error(e.t0,1200);case 11:case"end":return e.stop()}},e,this,[[1,8]])}));function t(){return e.apply(this,arguments)}return t}()}},xt=kt,Ct=(n("f547"),Object(h["a"])(xt,gt,bt,!1,null,"f7824d08",null)),Pt=Ct.exports,St=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"core_waybill_related_columns_alert"},on:{click:function(t){e.set_focus_input_name(e.current_core_waybill_need_related_columns[e.current_column_index].name)}}},[e.is_modal_opened?i("carousel",{ref:"columns_carousel",attrs:{perPage:1,speed:390,minSwipeDistance:120,paginationEnabled:!1,navigateTo:e.current_column_index},on:{pageChange:e.page_change}},e._l(e.current_core_waybill_need_related_columns,function(t,n){return i("slide",{key:t.identity},[i("div",{staticClass:"ui segment",style:{background:e.theme.background,color:e.theme.color.font}},[i("p",{staticStyle:{"font-size":"16px"}},[e._v("\n                    "+e._s(e.$t("ui.scanner.alerts.please_write"))+"：\n                    "+e._s(e.$t("models.attributes.core_waybills."+t.name))+"\n                    "),t.is_required?i("span",{staticStyle:{color:"red"}},[e._v("\n                        ["+e._s(e.$t("ui.scanner.alerts.required"))+"]\n                    ")]):e._e()]),t.input_method?"tel_input"==t.input_method.component?i("div",[i("InputTel",{attrs:{related_column:t,focus_input_name:e.current_store.alert_core_waybill_related_columns_focus_input_name}})],1):"file_uploader"==t.input_method.component?i("div",[i("FileUploader",{attrs:{related_column:t,focus_input_name:e.current_store.alert_core_waybill_related_columns_focus_input_name}})],1):e._e():i("div",[i("InputText",{attrs:{related_column:t,focus_input_name:e.current_store.alert_core_waybill_related_columns_focus_input_name}})],1),i("div",{staticClass:"ui grid decision_buttons"},[i("div",{staticClass:"six wide column"},[n?i("div",{staticClass:"left aligned"},[i("button",{staticClass:"ui inverted button",on:{click:function(t){e.previous_core_waybill_related_columns()}}},[e._v("\n                                "+e._s(e.$t("ui.scanner.alerts.previous"))+"\n                            ")])]):e._e()]),i("div",{staticClass:"ten wide column"},[i("div",{staticClass:"right aligned"},[i("button",{staticClass:"ui inverted red button",on:{click:function(t){e.give_up_core_waybill_related_columns()}}},[e._v("\n                                "+e._s(e.$t("ui.scanner.alerts.give_up"))+"\n                            ")]),i("button",{staticClass:"ui inverted blue button",on:{click:function(t){e.next_actions_core_waybill_related()}}},[e._v("\n                                "+e._s(e.$t("ui.scanner.alerts.definite"))+"\n                            ")])])])])])])})):e._e()],1)},Nt=[],qt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.is_initialized?i("div",[i("span",[e._v("\n            "+e._s(e.$t("ui.scanner.upload.receipt_file"))+"：\n        ")]),i("FileUploader",{staticClass:"file_uploader_tool",attrs:{channel:e.core_waybill_receipt_file_url_eventbus}}),e.file_uploader.message?i("h3",{staticClass:"file_uploader_message"},[e._v("\n            "+e._s(e.$t("ui.scanner.upload.result"))+"：\n            "),i("span",{class:e.file_uploader.status},[e._v("\n                "+e._s(e.file_uploader.message)+"\n            ")])]):e._e()],1):e._e()])},At=[];function Et(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function zt(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){Et(a,n,s,r,o,"next",e)}function o(e){Et(a,n,s,r,o,"throw",e)}r(void 0)})}}var jt={components:{FileUploader:yt["a"]},props:{related_column:{default:{},input_type:Object},focus_input_name:{default:"",input_type:String},is_inverted:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1,current_column_order:0,file_uploader:{status:"",message:""},core_waybill_receipt_file_url_eventbus:""}},computed:{current_store:function(){return this.$store.state.station.scanner_module},actions_core_waybill_related_columns:function(){return this.current_store.actions_core_waybill_related_columns}},watch:{},mounted:function(){var e=this;e.init()},methods:{init:function(){var e=zt(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,t.set_core_waybill_receipt_file_url();case 4:return e.next=6,new Promise(function(e){t.current_column_order=0,t.is_initialized=!0,e()});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log(e.t0);case 11:case"end":return e.stop()}},e,this,[[1,8]])}));function t(){return e.apply(this,arguments)}return t}(),set_core_waybill_receipt_file_url:function(){var e=this;e.core_waybill_receipt_file_url_eventbus="core_waybill_receipt_file_url_"+e.current_store.current_core_waybill.number,e.$bus.$off(e.core_waybill_receipt_file_url_eventbus),e.$bus.$on(e.core_waybill_receipt_file_url_eventbus,function(t,i,n){switch(i){case"uploaded_file":e.file_uploader.status="await",e.file_uploader.message=e.$t("ui.general.uploading");break;case"uploading":console.log("uploading"),e.file_uploader.status="await",e.file_uploader.message=e.$t("ui.general.uploading");break;case"upload complete":e.actions_core_waybill_related_columns[e.related_column.name]=n,e.file_uploader.status="success",e.file_uploader.message=e.$t("ui.notifications.success.update"),e.$bus.$emit("scanner_next_actions_core_waybill_related");break;case"upload failed":console.log("file_uploader failed"),e.file_uploader.status="failure",e.file_uploader.message=e.$t("ui.notifications.error.update");break}})}}},Rt=jt,Ot=(n("cd33"),Object(h["a"])(Rt,qt,At,!1,null,"775f14e1",null)),It=Ot.exports,Dt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.is_initialized?i("div",{staticClass:"ui fluid input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.actions_core_waybill_related_columns[e.related_column.name],expression:"actions_core_waybill_related_columns[related_column.name]"}],ref:e.related_column.name,attrs:{type:"text",placeholder:e.related_column.is_required?e.$t("ui.scanner.alerts.required_field"):e.$t("ui.scanner.alerts.if_have_write")},domProps:{value:e.actions_core_waybill_related_columns[e.related_column.name]},on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$bus.$emit("scanner_next_actions_core_waybill_related")},input:function(t){t.target.composing||e.$set(e.actions_core_waybill_related_columns,e.related_column.name,t.target.value)}}})]):e._e()])},Lt=[];function Tt(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function Bt(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){Tt(a,n,s,r,o,"next",e)}function o(e){Tt(a,n,s,r,o,"throw",e)}r(void 0)})}}var Mt={components:{},props:{related_column:{default:{},input_type:Object},focus_input_name:{default:"",input_type:String},is_inverted:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.station.scanner_module},actions_core_waybill_related_columns:function(){return this.current_store.actions_core_waybill_related_columns}},watch:{related_column:function(){this.init()},focus_input_name:{handler:function(e,t){this.focus_input()},deep:!0}},mounted:function(){var e=this;e.init()},methods:{init:function(){var e=Bt(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,new Promise(function(e){t.is_initialized=!0,e()});case 4:return e.next=6,t.focus_input();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log(e.t0);case 11:case"end":return e.stop()}},e,this,[[1,8]])}));function t(){return e.apply(this,arguments)}return t}(),focus_input:function(){var t=this;try{if(!t.focus_input_name)throw"no focus_input_name";if(!t.related_column.name)throw"no related_column.name";t.focus_input_name===t.related_column.name?setTimeout(function(){t.$refs[t.related_column.name].focus()},300):this.$refs[t.related_column.name].blur()}catch(e){console.log(e)}return Promise.resolve()}}},Ut=Mt,Ft=(n("08cf"),Object(h["a"])(Ut,Dt,Lt,!1,null,"5b4cb91a",null)),Yt=Ft.exports,Gt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.is_initialized?i("div",{staticClass:"ui fluid input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.actions_core_waybill_related_columns[e.related_column.name],expression:"actions_core_waybill_related_columns[related_column.name]"}],ref:e.related_column.name,attrs:{type:"tel",placeholder:e.related_column.is_required?e.$t("ui.scanner.alerts.required_field"):e.$t("ui.scanner.alerts.if_have_write")},domProps:{value:e.actions_core_waybill_related_columns[e.related_column.name]},on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$bus.$emit("scanner_next_actions_core_waybill_related")},input:function(t){t.target.composing||e.$set(e.actions_core_waybill_related_columns,e.related_column.name,t.target.value)}}})]):e._e()])},Ht=[];function Kt(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function Wt(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){Kt(a,n,s,r,o,"next",e)}function o(e){Kt(a,n,s,r,o,"throw",e)}r(void 0)})}}var Vt={components:{},props:{related_column:{default:{},input_type:Object},focus_input_name:{default:"",input_type:String},is_inverted:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.station.scanner_module},actions_core_waybill_related_columns:function(){return this.current_store.actions_core_waybill_related_columns}},watch:{related_column:function(){this.init()},focus_input_name:{handler:function(e,t){this.focus_input()},deep:!0}},mounted:function(){var e=this;e.init()},methods:{init:function(){var e=Wt(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,new Promise(function(e){t.is_initialized=!0,e()});case 4:return e.next=6,t.focus_input();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log(e.t0);case 11:case"end":return e.stop()}},e,this,[[1,8]])}));function t(){return e.apply(this,arguments)}return t}(),focus_input:function(){var t=this;try{if(!t.focus_input_name)throw"no focus_input_name";if(!t.related_column.name)throw"no related_column.name";t.focus_input_name===t.related_column.name?setTimeout(function(){t.$refs[t.related_column.name].focus()},300):t.$refs[t.related_column.name].blur()}catch(e){console.log(e)}return Promise.resolve()}}},Xt=Vt,Qt=(n("747a"),Object(h["a"])(Xt,Gt,Ht,!1,null,"08b73a3e",null)),Zt=Qt.exports;function Jt(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function ei(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){Jt(a,n,s,r,o,"next",e)}function o(e){Jt(a,n,s,r,o,"throw",e)}r(void 0)})}}var ti={components:{FileUploader:It,InputText:Yt,InputTel:Zt,Carousel:X["Carousel"],Slide:X["Slide"]},props:{is_inverted:{default:!1,type:Boolean},is_modal_opened:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1,current_column:{},current_column_index:0}},computed:{current_store:function(){return this.$store.state.station.scanner_module},theme:function(){return this.current_store.config.theme},settings:function(){return this.current_store.settings},current_core_waybill:function(){return this.current_store.current_core_waybill},actions_core_waybill_related_columns:function(){return this.current_store.actions_core_waybill_related_columns},current_core_waybill_need_related_columns:function(){return this.$store.getters["station/scanner_module/current_core_waybill_need_related_columns"]},alert_core_waybill_related_columns_focus_input_name:function(){return this.current_store.alert_core_waybill_related_columns_focus_input_name}},watch:{is_modal_opened:function(e){e&&(this.toggle_scanner_is_keydown(!1),this.init())},current_core_waybill_need_related_columns:function(){this.init()}},mounted:function(){var e=this;e.$bus.$off("scanner_next_actions_core_waybill_related"),e.$bus.$on("scanner_next_actions_core_waybill_related",function(){e.next_actions_core_waybill_related()}),e.toggle_scanner_is_keydown(!1),e.init()},methods:{page_change:function(e){var t=this;t.current_column_index=e,t.current_core_waybill_need_related_columns[t.current_column_index]?t.set_focus_input_name(t.current_core_waybill_need_related_columns[t.current_column_index].name):t.set_focus_input_name(null)},toggle_scanner_is_keydown:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;t.current_store.is_keydown=e},init:function(){var e=ei(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,t.set_focus_input_name();case 4:return e.next=6,new Promise(function(e){t.current_column_index=0,t.is_initialized=!0,e()});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log(e.t0);case 11:case"end":return e.stop()}},e,this,[[1,8]])}));function t(){return e.apply(this,arguments)}return t}(),set_focus_input_name:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this;return t.current_store.alert_core_waybill_related_columns_focus_input_name="no_focus",setTimeout(function(){if(null==e){var i=_.head(t.current_core_waybill_need_related_columns);e=i.name}t.current_store.alert_core_waybill_related_columns_focus_input_name=e},50),Promise.resolve()},previous_core_waybill_related_columns:function(){var e=this;e.$nextTick(function(){e.current_column_index=e.current_column_index-1,e.set_focus_input_name(e.current_core_waybill_need_related_columns[e.current_column_index].name)})},give_up_core_waybill_related_columns:function(){var e=this,t=e.$t("ui.scanner.errors.give_up_core_waybill_related_columns");e.toggle_scanner_is_keydown(!0),e.$parent.alert_failure(t),e.$noty.error(t,1200)},next_actions_core_waybill_related:function(){var e=ei(regeneratorRuntime.mark(function e(){var t,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,i=t.current_core_waybill_need_related_columns[t.current_column_index],e.prev=2,!t.current_core_waybill_need_related_columns[t.current_column_index].is_required||t.actions_core_waybill_related_columns[i.name]){e.next=5;break}throw t.$t("ui.scanner.helps.write_related_columns");case 5:if(!(t.current_column_index+1>=t.current_core_waybill_need_related_columns.length)){e.next=22;break}return e.prev=6,e.next=9,t.$store.dispatch("station/scanner_module/update_core_waybill_related_columns");case 9:return e.next=11,new Promise(function(e){t.toggle_scanner_is_keydown(!0),t.$parent.alert_success(),e()});case 11:e.next=20;break;case 13:e.prev=13,e.t0=e["catch"](6),e.t1=e.t0,e.next="failed_to_update_core_waybill_related_column"===e.t1?18:20;break;case 18:return t.$noty.error(t.$t("ui.notifications.error.update__name",{name:t.$t("ui.scanner.alerts.required_field")})),e.abrupt("break",20);case 20:e.next=24;break;case 22:t.current_column_index=t.current_column_index+1,t.set_focus_input_name(t.current_core_waybill_need_related_columns[t.current_column_index].name);case 24:e.next=29;break;case 26:e.prev=26,e.t2=e["catch"](2),t.$noty.error(e.t2,1200);case 29:case"end":return e.stop()}},e,this,[[2,26],[6,13]])}));function t(){return e.apply(this,arguments)}return t}()}},ii=ti,ni=(n("7c41"),Object(h["a"])(ii,St,Nt,!1,null,"386bcfcc",null)),si=ni.exports;function ai(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function ri(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){ai(a,n,s,r,o,"next",e)}function o(e){ai(a,n,s,r,o,"throw",e)}r(void 0)})}}var oi={name:"ScannerMain",props:{is_modal:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1,is_modal_opened:!1,is_input_mode:!1,is_processing:!1,is_quick_setting_number:!1,is_any_error_message:!1,is_mobile_width:!1,current_scan_action_prototype_identity:this.fetch_current_scan_action_prototype_identity(),current_numbers:[],current_number:"",scan_actions:[],is_show_related_columns_alert:!1,is_show_create_core_waybill_alert:!1,is_show_scan_action_description_alert:!1}},watch:{current_setting_group:function(e){this.$store.dispatch("station/scanner_module/clear_distributed_to"),e.barcode&&localStorage.setItem("scanner_current_setting_group",e.barcode)},is_show_related_columns_alert:function(e){this.$bus.$emit("toggle_is_hide_icon_toggle_scanner_modal",e)},is_show_scan_action_description_alert:function(e){this.$bus.$emit("toggle_is_hide_icon_toggle_scanner_modal",e)},language:{handler:function(t){try{this.cahnge_language_in_store_js_text()}catch(e){console.log(e),this.$noty.error(e)}},deep:!0}},mounted:function(){var e=this;this.$bus.$off("set_modal_opened"),this.$bus.$on("set_modal_opened",function(t){return new Promise(function(i){e.is_modal_opened=t,i()})}),this.$bus.$off("quick_setting_number"),this.$bus.$on("quick_setting_number",function(t){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e.check_quick_setting_number(t,i,n)}),this.$bus.$off("set_current_scan_action_prototype"),this.$bus.$on("set_current_scan_action_prototype",function(t){e.set_current_scan_action_prototype(t)}),this.$bus.$off("set_input_mode"),this.$bus.$on("set_input_mode",function(t){return new Promise(function(i){e.is_input_mode=t,i()})}),this.$bus.$off("set_current_number"),this.$bus.$on("set_current_number",function(t){return new Promise(function(i){e.current_number=t,i()})}),this.$bus.$off("enqueue"),this.$bus.$on("enqueue",ri(regeneratorRuntime.mark(function t(){var i,n,s,a,r,o,c;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,i=e.current_store.settings.is_batch_mode?e.current_number.replace(/\s/g,"").split(","):[e.current_number],!e.current_store.settings.is_batch_mode||1!=i.length){t.next=4;break}throw"is_batch_mode_true, please use multiple number";case 4:n=!0,s=!1,a=void 0,t.prev=7,r=i[Symbol.iterator]();case 9:if(n=(o=r.next()).done){t.next=20;break}return c=o.value,t.next=13,e.$store.dispatch("station/scanner_module/enqueue",{task:e.current_store.settings.is_scan_action_mode?"operation":"search",number:c,station:e.$store.getters["station/current_station"],scan_action_prototype:e.current_scan_action_prototype});case 13:return t.next=15,new Promise(function(t){e.current_number="",t()});case 15:return t.next=17,new Promise(function(t){e.submit(),t()});case 17:n=!0,t.next=9;break;case 20:t.next=26;break;case 22:t.prev=22,t.t0=t["catch"](7),s=!0,a=t.t0;case 26:t.prev=26,t.prev=27,n||null==r["return"]||r["return"]();case 29:if(t.prev=29,!s){t.next=32;break}throw a;case 32:return t.finish(29);case 33:return t.finish(26);case 34:t.next=49;break;case 36:t.prev=36,t.t1=t["catch"](0),t.t2=t.t1,t.next="is_batch_mode_true, please use multiple number"===t.t2?41:"quick_setting"===t.t2?46:49;break;case 41:return e.current_store.jobs.push({id:e.current_store.jobs.slice(-1).pop()?e.current_store.jobs.slice(-1).pop().id+1:1,task:e.current_store.settings.is_scan_action_mode?"operation":"search",number:e.current_number,scan_action_prototype:e.current_scan_action_prototype,status:"Failure",is_waiting_user_action:!1,is_batch_mode:!0,errors:[e.$t("ui.scanner.errors.multiple_numbers_in_batch_mode")]}),e.current_number="",e.play_web_audio("error"),e.$store.dispatch("station/scanner_module/set_local_storage_job"),t.abrupt("break",49);case 46:return e.check_quick_setting_number(e.current_number,!0),e.current_number="",t.abrupt("break",49);case 49:case"end":return t.stop()}},t,null,[[0,36],[7,22,26,34],[27,,29,33]])}))),this.init()},methods:{init:function(){var e=ri(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$store.dispatch("station/scanner_module/fetch_scan_action_prototypes");case 3:return e.next=5,this.$store.dispatch("station/scanner_module/fetch_materials");case 5:return e.next=7,this.set_current_scan_action_prototype(this.current_scan_action_prototype_identity);case 7:return e.next=9,new Promise(function(e){_.forEach(["is_core_waybill_pieces_mode","is_noty_audio_mode","is_operation_mode","is_speech_mode"],function(e){t.$store.getters["station/scanner_module/is_can_use_setting"](e)?localStorage.setItem("scanner_"+e,!0):localStorage.setItem("scanner_"+e,!1)}),e()});case 9:return e.next=11,this.set_settings();case 11:return e.next=13,this.set_local_storage_to_store_state(["core_waybill_counters"]);case 13:return e.next=15,this.set_current_setting_group();case 15:return e.next=17,this.cahnge_language_in_store_js_text();case 17:return e.next=19,new Promise(function(e){t.is_initialized=!0,e()});case 19:return e.next=21,new Promise(function(e){window.addEventListener("keydown",t.keydown),e()});case 21:e.next=26;break;case 23:e.prev=23,e.t0=e["catch"](0),console.log(e.t0);case 26:case"end":return e.stop()}},e,this,[[0,23]])}));function t(){return e.apply(this,arguments)}return t}(),keydown:function(){var e=ri(regeneratorRuntime.mark(function e(t){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(console.log(t),!this.is_modal_opened||!this.current_store.is_keydown){e.next=25;break}if(i=new ut.a(t),i.meta||i.ctrl||this.is_input_mode){e.next=25;break}if("keypress"!=i.event.type){e.next=15;break}e.t0=i.key_code,e.next=13===e.t0?8:12;break;case 8:if(!this.current_number){e.next=11;break}return e.next=11,this.$bus.$emit("enqueue");case 11:return e.abrupt("break",13);case 12:this.current_number+=i.value;case 13:e.next=25;break;case 15:e.t1=i.key_code,e.next=8===e.t1?18:13===e.t1?20:24;break;case 18:return this.current_number=this.current_number.slice(0,-1),e.abrupt("break",25);case 20:if(!this.current_number){e.next=23;break}return e.next=23,this.$bus.$emit("enqueue");case 23:return e.abrupt("break",25);case 24:this.current_number+=i.value;case 25:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),submit:function(){var e=ri(regeneratorRuntime.mark(function e(){var t,i,n,s,a,r,o,c=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=!0,i=!1,n=void 0,e.prev=3,s=_.filter(this.current_store.jobs,function(e){return"Pending"==e.status})[Symbol.iterator]();case 5:if(t=(a=s.next()).done){e.next=58;break}return r=a.value,e.prev=7,e.next=10,this.$store.dispatch("station/scanner_module/perform",r);case 10:return e.next=12,new Promise(function(e){c.play_web_audio("ok"),e()});case 12:e.next=55;break;case 14:e.prev=14,e.t0=e["catch"](7),o="",e.t1=e.t0,e.next="quick_setting_not_found"===e.t1?20:"core_waybill_not_found"===e.t1?23:"no_input_number"===e.t1?27:"current_scan_action_prototype_identity"===e.t1?30:"failed_to_instantiate_scan_action_prototype"===e.t1?33:"failed_to_update_core_waybill_related_column"===e.t1?36:"failed_to_fetch_core_waybill_statuses"===e.t1?39:"core_waybill_related_column_is_empty"===e.t1?42:"scan_action_description_is_empty"===e.t1?45:"create_core_waybill"===e.t1?48:51;break;case 20:return o=this.$t("ui.scanner.errors.setting_not_found")+": "+this.current_number,this.play_web_audio("error"),e.abrupt("break",54);case 23:return o=this.$t("ui.scanner.errors.core_waybill_not_found"),this.current_store.current_job.errors.push(o),this.play_web_audio("error"),e.abrupt("break",54);case 27:return o=this.$t("ui.scanner.helps.write_number"),this.play_web_audio("error"),e.abrupt("break",54);case 30:return o=this.$t("ui.scanner.helps.select_scan_action"),this.play_web_audio("error"),e.abrupt("break",54);case 33:return o=this.$t("ui.scanner.errors.failed_to_instantiate_scan_action_prototype"),this.play_web_audio("error"),e.abrupt("break",54);case 36:return o=this.$t("ui.scanner.errors.failed_to_update_core_waybill_related_column")+": "+this.current_number,this.play_web_audio("error"),e.abrupt("break",54);case 39:return o=this.$t("ui.scanner.errors.failed_to_fetch_core_waybill_statuses"),this.play_web_audio("error"),e.abrupt("break",54);case 42:return this.is_show_related_columns_alert=!0,this.play_web_audio("alert"),e.abrupt("break",54);case 45:return this.is_show_scan_action_description_alert=!0,this.play_web_audio("alert"),e.abrupt("break",54);case 48:return this.is_show_create_core_waybill_alert=!0,this.play_web_audio("alert"),e.abrupt("break",54);case 51:return o=this.$t("models.attributes.core_waybills.number")+this.current_number+", "+e.t0,this.play_web_audio("error"),e.abrupt("break",54);case 54:o&&this.$noty.error(o,1200);case 55:t=!0,e.next=5;break;case 58:e.next=64;break;case 60:e.prev=60,e.t2=e["catch"](3),i=!0,n=e.t2;case 64:e.prev=64,e.prev=65,t||null==s["return"]||s["return"]();case 67:if(e.prev=67,!i){e.next=70;break}throw n;case 70:return e.finish(67);case 71:return e.finish(64);case 72:case"end":return e.stop()}},e,this,[[3,60,64,72],[7,14],[65,,67,71]])}));function t(){return e.apply(this,arguments)}return t}(),set_settings:function(){return this.current_store.settings={is_scan_mode:this.get_setting("is_scan_mode"),is_speech_mode:this.get_setting("is_speech_mode"),is_batch_mode:this.get_setting("is_batch_mode"),is_operation_mode:this.get_setting("is_operation_mode"),is_noty_audio_mode:this.get_setting("is_noty_audio_mode"),is_scan_action_mode:this.get_setting("is_scan_action_mode"),is_distributed_to_mode:this.get_setting("is_distributed_to_mode"),is_high_performance_mode:this.get_setting("is_high_performance_mode"),is_auto_print_label_mode:this.get_setting("is_auto_print_label_mode"),is_update_corewaybill_mode:this.get_setting("is_update_corewaybill_mode"),is_core_waybill_pieces_mode:this.get_setting("is_core_waybill_pieces_mode"),is_quick_corewaybill_related_columns:this.get_setting("is_quick_corewaybill_related_columns"),core_waybill_template_mode:this.fetch_setting_use_string("core_waybill_template_mode","card"),is_package_mode:this.get_setting("is_package_mode"),is_unpackage_mode:this.get_setting("is_unpackage_mode"),pack_need_source_mode:this.get_setting("pack_need_source_mode"),pack_p_m_mode:this.fetch_setting_use_string("pack_p_m_mode"),pack_m_mode:this.fetch_setting_use_string("pack_m_mode")},Promise.resolve()},set_local_storage_to_store_state:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.length&&_.forEach(t,function(t){var i=localStorage.getItem("scanner_"+t);i&&(i=$.parseJSON("["+i+"]"),"jobs"==t&&_.map(i,function(e){(e.is_waiting_user_action||"Processing"==e.status)&&(e.is_waiting_user_action=!1,e.status="Failure")}),e.current_store[t]=i)}),Promise.resolve()},set_current_setting_group:function(){var e=this.fetch_setting_use_string("current_setting_group","search");return this.current_store.current_setting_group=_.find(this.current_store.setting_groups,function(t){return t.barcode==e})||{},Promise.resolve()},alert_failure:function(){var e=ri(regeneratorRuntime.mark(function e(){var t,i=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=i.length>0&&void 0!==i[0]?i[0]:null,this.is_show_related_columns_alert=!1,this.is_show_create_core_waybill_alert=!1,this.is_show_scan_action_description_alert=!1,t&&this.current_store.current_job.errors.push(t),this.current_store.current_job.is_waiting_user_action=!1,this.current_store.current_job.status="Failure",this.play_web_audio("error"),this.$store.dispatch("station/scanner_module/set_local_storage_job");case 9:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),alert_success:function(){var e=ri(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.is_show_related_columns_alert=!1,this.is_show_create_core_waybill_alert=!1,this.is_show_scan_action_description_alert=!1,this.current_store.current_job.is_waiting_user_action=!1,this.submit();case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),toggle_settings_div:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null==e?this.current_store.is_setting=!this.current_store.is_setting:"boolean"==typeof e&&(this.current_store.is_setting=e)},check_quick_setting_number:function(e){var t=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=!1,a=e.match(this.quick_setting_regexps.group),r=e.match(this.quick_setting_regexps.barcode),o=e.match(this.quick_setting_regexps.mode);if(a)try{var c=a[1],l=_.findLast(this.current_store.setting_groups,function(e){return e.barcode==c});if(!l)throw this.$t("ui.scanner.errors.setting_group_not_found");var u="",d="";n&&this.toggle_settings_div(!1),this.set_current_store_setting_group(c),l.is_scan_action&&(u="####"+c+"####",this.quick_setting_barcode(u.match(this.quick_setting_regexps.barcode))?s=!0:this.$noty.error(this.$t("ui.scanner.errors.setting_not_found")+"： "+c,1200)),l.settings&&_.forEach(l.settings,function(e){d="##"+e+"##",t.quick_setting_mode(d.match(t.quick_setting_regexps.mode))?s=!0:t.$noty.error(t.$t("ui.scanner.errors.setting_not_found")+"： "+e,1200)})}catch(error){this.$noty.error(error)}return r&&(this.quick_setting_barcode(r)?s=!0:this.$noty.error(this.$t("ui.scanner.errors.setting_not_found")+"： "+r,1200)),o&&(this.quick_setting_mode(o)?s=!0:this.$noty.error(this.$t("ui.scanner.errors.setting_not_found")+"： "+o,1200)),s&&i&&(this.$noty.success(this.$t("ui.scanner.success.quick_setting")),this.is_quick_setting_number=s),Promise.resolve()},quick_setting_barcode:function(e){var t=_.find(this.current_store.scan_action_prototypes,function(t){return t.barcode==e[1]||t.barcode==e[2]});return void 0!=t&&(this.current_store.current_scan_action_prototype=t,localStorage.setItem("current_scan_action_prototype_identity",t.identity),this.current_store.current_core_waybill={},!0)},quick_setting_mode:function(e){var t=e[1],i=e[2];return"true"===e[2]&&(i=!0),"false"===e[2]&&(i=!1),void 0!=this.settings[t]&&(this.$store.getters["station/scanner_module/is_can_use_setting"](t)?(this.current_store.settings[t]=i,localStorage.setItem("scanner_"+t,i)):this.current_store.settings[t]=!1,!0)},set_current_store_setting_group:function(e){this.current_store.current_setting_group=_.find(this.current_store.setting_groups,function(t){return t.barcode==e})},set_current_scan_action_prototype:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=_.find(this.current_store.scan_action_prototypes,function(t){return t.identity==e});void 0!=t&&(this.current_store.current_scan_action_prototype=t,localStorage.setItem("current_scan_action_prototype_identity",t.identity))},get_setting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="scanner_".concat(e),i=localStorage.getItem(t);return null==i?(localStorage.setItem(t,!1),!1):"true"==i},fetch_setting_use_string:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i="scanner_".concat(e),n=localStorage.getItem(i);return null==n?(localStorage.setItem(i,t),t):localStorage.getItem(i)},fetch_current_scan_action_prototype_identity:function(){var e="current_scan_action_prototype_identity",t=localStorage.getItem(e);return null==t||""==t?(localStorage.setItem(e,""),null):localStorage.getItem(e)},play_web_audio:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.settings.is_noty_audio_mode)switch(e){case"ok":case"alert":case"error":this.$bus.$emit("provider_scanner_web_audio","play_sound",e);break;default:this.$bus.$emit("provider_scanner_web_audio","play_sound","error");break}},cahnge_language_in_store_js_text:function(){var e=this;return _.map(this.setting_groups,function(t){t.i18n_key&&(t.name=e.$t(t.i18n_key))}),Promise.resolve()}},computed:{language:function(){return this.$store.state.language},current_store:function(){return this.$store.state.station.scanner_module},theme:function(){return this.current_store.config.theme},quick_setting_regexps:function(){return this.current_store.quick_setting_regexps},settings:function(){return this.current_store.settings},setting_groups:function(){return this.current_store.setting_groups},current_setting_group:function(){return this.current_store.current_setting_group},core_waybills:function(){return this.current_store.core_waybills},current_core_waybill:function(){return this.current_store.current_core_waybill},error_messages:function(){return this.current_store.error_messages},desc_ordered_jobs:function(){return _.orderBy(this.current_store.jobs,"id","desc")},current_scan_action_prototype:function(){return this.current_store.current_scan_action_prototype}},components:{WebAudio:c["a"],Settings:ie,Dashboard:le,CoreWaybill:ot,CreateCoreWaybillAlert:vt,ScanActionDescriptionAlert:Pt,CoreWaybillRelatedColumnsAlert:si}},ci=oi,_i=(n("fdc2"),Object(h["a"])(ci,r,o,!1,null,"a632714e",null)),li=_i.exports;function ui(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function di(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function r(e){ui(a,n,s,r,o,"next",e)}function o(e){ui(a,n,s,r,o,"throw",e)}r(void 0)})}}var pi={name:"ScannerModal",props:{},data:function(){return{is_mobile_width:!1,console_log_content:"",console_log_theme_path:""}},computed:{current_store:function(){return this.$store.state.station},service_config:function(){return this.$store.state.station.service_config},service_name:function(){return this.current_store.current_node.service_name},scanner_module_store:function(){return this.$store.state.station.scanner_module}},mounted:function(){this.init()},watch:{is_mobile_width:{immediate:!0,handler:function(e){var t=this;this.$nextTick(function(){var i=t.scanner_module_store.config.theme,n=e?"mobile":"computer";if(i[n]){var s=i[n].background_position?i[n].background_position+" / cover":"0% 0%";t.scanner_module_store.config.theme.background=i.color.background_img?"url(/images/scanner_background/"+i.color.background_img+") "+s+" #1b1c1d":i.color.background}})}}},methods:{init:function(){var e=di(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.set_is_mobile_width();case 3:return e.next=5,this.set_scanner_theme();case 5:return e.next=7,this.set_scanner_setting();case 7:return e.next=9,this.set_scanner_setting_groups();case 9:return e.next=11,new Promise(function(e){console.log("//=============== \n  Now scanner configs: \n"+t.console_log_content+"\n  About setting file path: config/services/"+t.service_name+"/scanner/ \n  About theme file path: "+t.console_log_theme_path+" \n//=============== \n"),e()});case 11:e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](0),console.log(e.t0);case 16:case"end":return e.stop()}},e,this,[[0,13]])}));function t(){return e.apply(this,arguments)}return t}(),set_is_mobile_width:function(){var e=this;return this.is_mobile_width=$(window).width()<=767,$(window).resize(function(){var t=$(window).width();e.is_mobile_width=t<=767}),Promise.resolve()},set_scanner_theme:function(){var e,t,i,s,a=this;try{var r=n("f41c");if(i=_.findLast(r,function(e){return e.identity==a.$store.state.station.current_node.identity}),i&&i.theme_file_name?(s=i.theme_file_name,this.console_log_theme_path="components/scanner/station/themes/node.json"):(s=this.service_config.scanner_theme,this.console_log_theme_path="config/services/"+this.service_name+"/config.json"),!s)throw"Scanner theme file not find";e=s+".json",t=n("3c40")("./"+e),i=t}catch(u){e="default.json",i=n("4fe6"),this.console_log_theme_path="components/scanner/station/themes/default.json",console.log(u)}finally{this.scanner_module_store.config.theme=i,this.console_log_content+="    theme: "+e+"\n"}try{var o=this.scanner_module_store.config.theme,c=this.is_mobile_width?"mobile":"computer";if(o[c]){var l=o[c].background_position?o[c].background_position+" / cover":"0% 0%";this.scanner_module_store.config.theme.background=o.color.background_img?"url(/images/scanner_background/"+o.color.background_img+") "+l+" #1b1c1d":o.color.background}}catch(u){console.log(u)}return Promise.resolve()},set_scanner_setting:function(){var e,t,i;try{if(!this.service_name)throw"Scanner settings file not find";e=this.service_name+"/scanner/settings.json",t=n("ccaa")("./"+e),i=t}catch(s){e="default/scanner/settings.json",i=n("ccaa")("./"+e)}finally{this.scanner_module_store.config.settings=i.options,this.console_log_content+="    settings: "+e+"\n"}return Promise.resolve()},set_scanner_setting_groups:function(){try{if(!this.service_name)throw"Scanner setting groups file not find";var e=this.service_name+"/scanner/setting_groups.json",t=n("ccaa")("./"+e);this.scanner_module_store.setting_groups=t}catch(i){e="default/scanner/setting_groups.json",this.scanner_module_store.setting_groups=n("ccaa")("./"+e),console.log(i)}finally{this.console_log_content+="    setting_groups: "+e+"\n"}return Promise.resolve()}},components:{ScannerMain:li}},mi=pi,fi=(n("84f5"),Object(h["a"])(mi,s,a,!1,null,"0d91bb86",null));i["a"]=fi.exports},e756:function(e,t,i){"use strict";var n=i("c8d3"),s=i.n(n);s.a},e7a2:function(e,t,i){},e825:function(e,t,i){"use strict";var n=i("5989"),s=i.n(n);s.a},e8d5:function(e,t,i){"use strict";var n=i("c7bf"),s=i.n(n);s.a},e8f9:function(e,t,i){"use strict";var n=i("dc02"),s=i.n(n);s.a},e93b:function(e,t,i){"use strict";var n=i("b3c1"),s=i.n(n);s.a},ea2c:function(e,t,i){},ebb8:function(e){e.exports={logo_img:"neuron_logo.png",footer_imgs:["tw568_logo.png","neuron_logo.png","by_express_logo.jpg","t_cat_logo.jpg","hct_logo.png"],scanner_theme:"dark01",menu:[{name:"provider_operations",icon:"file large"},{name:"provider_partitions",icon:"tasks large"},{name:"provider_customers",icon:"street view large"},{name:"scan",icon:"barcode large",items:[{name:"scan_action_prototypes",icon:""},{name:"status_prototypes",icon:""}]},{name:"users",icon:"user large",items:[{name:"staffs",icon:""},{name:"roles",icon:""},{name:"permission_groups",icon:""}]},{name:"stations",icon:"inbox large"},{name:"provider_distributions",icon:"map signs large"},{name:"provider_uploader",icon:"upload large"},{name:"assets",icon:"cubes large"},{name:"materials",icon:"cube large"},{name:"core_waybills",icon:"boxes large"},{name:"provider_node",icon:"setting large"},{name:"user_logs",icon:"hourglass end large"},{name:"commission_policies",icon:"handshake large",items:[{name:"driver_commission_policies",icon:""}]},{name:"commission_reports",icon:"book large",items:[{name:"driver_commission_reports",icon:""},{name:"driver_commissions",icon:""}]}]}},ebca:function(e){e.exports={logo_img:"axon_logo.png",footer_imgs:["tw568_logo.png","axon_logo.png","by_express_logo.jpg","t_cat_logo.jpg","hct_logo.png"],scanner_theme:"dark01",menu:[{name:"provider_operations",icon:"file large"},{name:"provider_partitions",icon:"tasks large"},{name:"provider_customers",icon:"street view large"},{name:"scan",icon:"barcode large",items:[{name:"scan_action_prototypes",icon:""},{name:"status_prototypes",icon:""}]},{name:"users",icon:"user large",items:[{name:"staffs",icon:""},{name:"roles",icon:""},{name:"permission_groups",icon:""}]},{name:"stations",icon:"inbox large"},{name:"provider_uploader",icon:"upload large"},{name:"materials",icon:"cube large"},{name:"core_waybills",icon:"archive large"},{name:"provider_node",icon:"setting large"}]}},edae:function(e,t,i){},eee2:function(e,t,i){"use strict";var n=i("e1f6"),s=i.n(n);s.a},ef8b:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{color:"gray",float:"right"}},[e._v("\n    Neuron "+e._s(e.env)+" version "),i("span",{staticClass:"version"},[e._v(e._s(e.neuron_version))]),e._v(" - LMS "),i("span",{staticClass:"version"},[e._v(e._s(e.lms_version))])])},s=[],a={name:"SystemInfo",computed:{env:function(){return ENV.NODE_ENV.capitalize()},neuron_version:function(){return ENV.VUE_APP_NEURON_VERSION},lms_version:function(){return ENV.VUE_APP_LMS_VERSION}}},r=a,o=(i("6dab"),i("2877")),c=Object(o["a"])(r,n,s,!1,null,"33901c68",null);t["a"]=c.exports},f051:function(e,t,i){"use strict";var n=i("d792"),s=i.n(n);s.a},f096:function(e,t,i){"use strict";var n=i("2aa3"),s=i.n(n);s.a},f10f:function(e,t,i){"use strict";var n=i("6a7e"),s=i.n(n);s.a},f1b8:function(e,t,i){"use strict";var n=i("d5b1"),s=i.n(n);s.a},f221:function(e,t,i){"use strict";var n=i("703d"),s=i.n(n);s.a},f28c:function(e){e.exports={logo_img:"axon_logo.png",footer_imgs:["tw568_logo.png","axon_logo.png","by_express_logo.jpg","t_cat_logo.jpg","hct_logo.png"],scanner_theme:"dark01",menu:[{name:"provider_operations",icon:"file large"},{name:"provider_partitions",icon:"tasks large"},{name:"provider_customers",icon:"street view large"},{name:"scan",icon:"barcode large",items:[{name:"scan_action_prototypes",icon:""},{name:"status_prototypes",icon:""}]},{name:"users",icon:"user large",items:[{name:"staffs",icon:""},{name:"roles",icon:""},{name:"permission_groups",icon:""}]},{name:"stations",icon:"inbox large"},{name:"provider_uploader",icon:"upload large"},{name:"materials",icon:"cube large"},{name:"core_waybills",icon:"archive large"},{name:"provider_node",icon:"setting large"}]}},f2d5:function(e){e.exports=[{_comment:"axon premium 預設檔案",name:"運單起始貨況",i18n_key:"ui.scanner.setting_groups.LA00",barcode:"LA00",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA01",is_scan_action:!0,is_hide:!0,color:"black",settings:[]},{name:"1.放行",i18n_key:"ui.scanner.setting_groups.LB01",barcode:"LB01",primary_icon_classes:"clipboard check icon",secondary_icon_classes:null,icon_file_name:"LA01",is_scan_action:!0,is_hide:!1,color:"#3a8df5",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_package_mode_false","is_auto_print_label_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"2.點交",i18n_key:"ui.scanner.setting_groups.LB02",barcode:"LB02",primary_icon_classes:"exchange icon",secondary_icon_classes:"right bottom corner green check icon",icon_file_name:"LA02",is_scan_action:!0,is_hide:!1,color:"orange",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_package_mode_false","is_auto_print_label_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"1.收貨",i18n_key:"ui.scanner.setting_groups.LA01",barcode:"LA01",primary_icon_classes:"dolly icon",secondary_icon_classes:null,icon_file_name:"LA01",is_scan_action:!0,is_hide:!1,color:"#58B2DC",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_package_mode_false","is_auto_print_label_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"1.進站",i18n_key:"ui.scanner.setting_groups.LA02",barcode:"LA02",primary_icon_classes:"pallet icon",secondary_icon_classes:null,icon_file_name:"LA02",is_scan_action:!0,is_hide:!1,color:"#EFBB24",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_package_mode_false","is_distributed_to_mode_true","is_unpackage_mode_false","is_scan_action_mode_true","is_auto_print_label_mode_false","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"包裝",i18n_key:"ui.scanner.setting_groups.package",barcode:"package",primary_icon_classes:"box icon",secondary_icon_classes:null,icon_file_name:"package",is_scan_action:!1,is_hide:!1,color:"#1B813E",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_scan_action_mode_false","is_distributed_to_mode_false","is_package_mode_true","is_unpackage_mode_false","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_min_card"]},{name:"2.派件中",i18n_key:"ui.scanner.setting_groups.LA03",barcode:"LA03",primary_icon_classes:"shipping fast icon",secondary_icon_classes:null,icon_file_name:"LA03",is_scan_action:!0,is_hide:!1,color:"#77428D",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_true","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"2.聯運",i18n_key:"ui.scanner.setting_groups.LA10",barcode:"LA10",primary_icon_classes:"random icon",secondary_icon_classes:null,icon_file_name:"LA10",is_scan_action:!0,is_hide:!1,color:"#4A225D",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"3.回站",i18n_key:"ui.scanner.setting_groups.LA05",barcode:"LA05",primary_icon_classes:"home icon",secondary_icon_classes:"right bottom corner red undo icon",icon_file_name:"LA05",is_scan_action:!0,is_hide:!1,color:"#91989F",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"3.已配達",i18n_key:"ui.scanner.setting_groups.LA04",barcode:"LA04",primary_icon_classes:"clipboard list icon",secondary_icon_classes:"right bottom corner green check icon",icon_file_name:"LA04",is_scan_action:!0,is_hide:!1,color:"#86C166",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"0.異常件",i18n_key:"ui.scanner.setting_groups.LA06",barcode:"LA06",primary_icon_classes:"exclamation triangle icon",secondary_icon_classes:"right bottom corner red close icon",icon_file_name:"LA06",is_scan_action:!0,is_hide:!1,color:"#CB4042",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"0.異常件排除",i18n_key:"ui.scanner.setting_groups.LA07",barcode:"LA07",primary_icon_classes:"exclamation triangle icon",secondary_icon_classes:"right bottom corner green check icon",icon_file_name:"LA07",is_scan_action:!0,is_hide:!1,color:"#51A8DD",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"鎖定",i18n_key:"ui.scanner.setting_groups.LA11",barcode:"LA11",primary_icon_classes:"lock icon",secondary_icon_classes:null,icon_file_name:"LA11",is_scan_action:!0,is_hide:!1,color:"#CB4042",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_scan_action_mode_true","is_distributed_to_mode_false","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"解除鎖定",i18n_key:"ui.scanner.setting_groups.LA12",barcode:"LA12",primary_icon_classes:"lock open icon",secondary_icon_classes:null,icon_file_name:"LA12",is_scan_action:!0,is_hide:!1,color:"#51A8DD",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_scan_action_mode_true","is_distributed_to_mode_false","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"結案",i18n_key:"ui.scanner.setting_groups.LA13",barcode:"LA13",primary_icon_classes:"check icon",secondary_icon_classes:null,icon_file_name:"LA13",is_scan_action:!0,is_hide:!1,color:"#86C166",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_scan_action_mode_false","is_package_mode_false","is_unpackage_mode_false","is_distributed_to_mode_false","pack_need_source_mode_false","is_update_corewaybill_mode_false","core_waybill_template_mode_card"]},{name:"拆包",i18n_key:"ui.scanner.setting_groups.unpackage",barcode:"unpackage",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner red cut icon",icon_file_name:"unpackage",is_scan_action:!1,is_hide:!1,color:"#F75C2F",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_scan_action_mode_false","is_distributed_to_mode_false","is_package_mode_false","is_unpackage_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_min_card"]},{name:"查詢運單",i18n_key:"ui.scanner.setting_groups.search",barcode:"search",primary_icon_classes:"search icon",secondary_icon_classes:null,icon_file_name:"search",is_scan_action:!1,is_hide:!1,color:"#227D51",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_scan_action_mode_false","is_package_mode_false","is_unpackage_mode_false","is_distributed_to_mode_false","pack_need_source_mode_false","is_update_corewaybill_mode_false","core_waybill_template_mode_card"]},{name:"袋包運, 裝袋作業",i18n_key:"ui.scanner.setting_groups.pack_house_waybill",barcode:"pack_house_waybill",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"package",is_scan_action:!1,is_hide:!0,color:"green",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_true","is_unpackage_mode_false","is_scan_action_mode_false","is_update_corewaybill_mode_false","is_distributed_to_mode_false","core_waybill_template_mode_min_card","pack_need_source_mode_false","pack_p_m_mode_House","pack_m_mode_Waybill"]},{name:"運包子, 一票多件",i18n_key:"ui.scanner.setting_groups.pack_waybill_goods",barcode:"pack_waybill_goods",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"package",is_scan_action:!1,is_hide:!0,color:"limegreen",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_scan_action_mode_false","is_package_mode_true","is_unpackage_mode_false","is_distributed_to_mode_false","is_update_corewaybill_mode_false","pack_need_source_mode_true","pack_p_m_mode_Waybill","pack_m_mode_Goods"]}]},f347:function(e){e.exports={logo_img:"neuron_logo.png",footer_imgs:["tw568_logo.png","neuron_logo.png","by_express_logo.jpg","t_cat_logo.jpg","hct_logo.png"],scanner_theme:"dark01",menu:[{name:"provider_operations",icon:"file large"},{name:"provider_partitions",icon:"tasks large"},{name:"provider_customers",icon:"street view large"},{name:"scan",icon:"barcode large",items:[{name:"scan_action_prototypes",icon:""},{name:"status_prototypes",icon:""}]},{name:"users",icon:"user large",items:[{name:"staffs",icon:""},{name:"roles",icon:""},{name:"permission_groups",icon:""}]},{name:"stations",icon:"inbox large"},{name:"provider_distributions",icon:"map signs large"},{name:"provider_uploader",icon:"upload large"},{name:"assets",icon:"cubes large"},{name:"materials",icon:"cube large"},{name:"core_waybills",icon:"boxes large"},{name:"provider_node",icon:"setting large"},{name:"user_logs",icon:"hourglass end large"},{name:"commission_policies",icon:"handshake large",items:[{name:"driver_commission_policies",icon:""}]},{name:"commission_reports",icon:"book large",items:[{name:"driver_commission_reports",icon:""},{name:"driver_commissions",icon:""}]}]}},f36f:function(e,t,i){},f3af:function(e,t,i){"use strict";var n=i("8e2f"),s=i.n(n);s.a},f41c:function(e){e.exports=[{_comment:"此檔案Scanner config預設檔案。",name:"default",font:"white",identity:"default",theme_file_name:"default"},{name:"博宇",font:"white",identity:"6896bd65c1-28036-39768292",theme_file_name:"dark01"}]},f470:function(e,t,i){"use strict";var n=i("e55f"),s=i.n(n);s.a},f4a9:function(e,t,i){},f4d4:function(e,t,i){"use strict";var n=i("d200"),s=i.n(n);s.a},f4db:function(e,t,i){},f533:function(e,t,i){},f547:function(e,t,i){"use strict";var n=i("94315"),s=i.n(n);s.a},f59e:function(e,t,i){},f64b:function(e,t,i){"use strict";var n=i("5942"),s=i.n(n);s.a},f66a:function(e){e.exports={_comment:"此檔案為Scanner 設定 檔案",name:"axon",options:["is_scan_mode","is_scan_action_mode","is_batch_mode","is_operation_mode","is_core_waybill_pieces_mode","is_update_corewaybill_mode","is_auto_print_label_mode","is_noty_audio_mode","is_speech_mode","is_quick_corewaybill_related_columns","core_waybill_template_mode"]}},f726:function(e,t,i){},f76b:function(e){e.exports={models:{_comment:"關聯表名稱不在此上面",appraisals:"考績",assets:"資產",comments:"留言",contracts:"合約",conversion_attributes:"合約歸於",converters:"converters",core_waybills:"運單",customers:"客戶",quotations:"報價單",distributions:"分撥",distribution_tions:"分撥條件",driver_commissions:"收派件提成",driver_commission_policies:"收派件提成政策",driver_commission_reports:"收派件提成報告",logs:"使用者歷程",materials:"物料",nodes:"公司",operations:"訂單",partitions:"號碼區間",permissions:"權限",permission_groups:"權限群組",roles:"職位",staffs:"員工",stations:"站點",scan_actions:"掃描動作",status_prototypes:"貨況",scan_action_prototypes:"掃描動作",attributes:{assets:{barcode:"條碼",number:"編號",category:"資產種類",note:"備註",node_identity:"Node identity"},converters:{name:"名稱",number:"號碼",provider_node_identity:"provider_node_identity",customer_node_identity:"customer_node_identity",customer_identity:"customer_identity",carrier_class:"承運商類別",proxy_contract_identity:"proxy_contract_identity",third_party_api_data:"third_party_api_data",note:"備註"},customer_contracts:{name:"合約名稱",number:"客戶編號",carrier_class:"承運商類別",proxy_contract:"自動轉運合約",third_party_api_data:"第三方串接資訊",note:"備註"},customers:{username:"帳號",password:"密碼",password_confirmation:"確認密碼",authentication_token:"API Token",company_name:"公司名稱",company_short_name:"公司簡短名稱",company_en_name:"英文名稱",email:"E-mail",phone:"聯絡電話",fax:"傳真",website_url:"網站網址",default_sender_zip_code:"寄件人郵遞區號",default_sender_company_name:"寄件人公司名",default_sender_address:"寄件人地址",default_sender_name:"寄件人姓名",default_sender_phone:"寄件人電話",default_sender_email:"寄件人電子郵件",default_sender_fax:"寄件人傳真",default_sender_url:"寄件人網址",default_consignee_zip_code:"收件人郵遞區號",default_consignee_company_name:"收件人公司名",default_consignee_address:"收件人地址",default_consignee_name:"收件人姓名",default_consignee_phone:"收件人電話",default_consignee_email:"收件人電子郵件",default_consignee_fax:"收件人傳真",can_use_associated_partitions:"是否可使用上層運單",is_banned:"是否被停權"},conditions:{core_waybill_identity:"運單",scan_action_prototype_identity:"SAP",condition_type:"種類",can_use:"可使用",current_use:"使用中",already_use:"曾經用過",can_release:"可放行",current_release:"放行中",already_release:"曾經放行過",can_handover:"可點交",current_handover:"點交中",already_handover:"曾經點交過",can_collect:"可收貨",current_collect:"收貨中",already_collect:"曾經收貨過",can_check:"可進站",current_check:"進站中",already_check:"曾經進站過",can_ship:"可派件",current_ship:"派件中",already_ship:"曾經派件過",can_back:"可回站",current_back:"回站中",already_back:"曾經回站過",can_delivered:"可配達",current_delivered:"配達中",already_delivered:"曾經配達過",can_transfer:"可中轉",current_transfer:"中轉中",already_transfer:"曾經中轉過",can_intermodal:"可聯運",current_intermodal:"聯運中",already_intermodal:"曾經聯運過",can_exception:"可異常件",current_exception:"異常件中",already_exception:"曾經異常件過",can_lock:"可鎖定",current_lock:"鎖定中",already_lock:"曾經鎖定過",can_done:"可完成",current_done:"完成中",already_done:"曾經完成過",can_warehouse_in:"可進倉",current_warehouse_in:"進倉中",already_warehouse_in:"曾經進倉過",can_warehouse_out:"可出倉",current_warehouse_out:"出倉中",already_warehouse_out:"曾經出倉過",can_ready_to_ship:"可待出貨",current_ready_to_ship:"待出貨中",already_ready_to_ship:"曾經待出貨過"},distributions:{priority:"優先",name:"名稱",strategy:"策略",station:"管轄站點",station_identity:"管轄站點",strategy_value:"策略值",material:"限定物料",material_identity:"限定物料",is_activated:"是否啟用"},driver_commissions:{pick_up_driver:"取件司機",pick_up_core_waybill:"取件運單",delivery_core_waybill:"送件運單",delivery_driver:"送件司機",driver_commission_report:"收派件提成報告",driver_commission_policy:"收派件提成政策",amount:"金額",polarity:"極性",created_at:"產生日期",is_deleted:"已被刪除"},driver_commission_policies:{pick_up_first_weight:"取件首重重量(KG)",pick_up_first_price:"取件首重提成金額",pick_up_follow_up_weight:"取件續重重量單位(KG)",pick_up_follow_up_price:"取件續重單價",delivery_first_weight:"送件首重重量(KG)",delivery_first_price:"送件首重提成金額",delivery_follow_up_weight:"送件續重重量單位(KG)",delivery_follow_up_price:"送件續重單價",house_pick_up_first_weight:"取件首重重量(KG)",house_pick_up_first_price:"取件首重提成金額",house_pick_up_follow_up_weight:"取件續重重量單位(KG)",house_pick_up_follow_up_price:"取件續重單價",house_delivery_first_weight:"送件首重重量(KG)",house_delivery_first_price:"送件首重提成金額",house_delivery_follow_up_weight:"送件續重重量單位(KG)",house_delivery_follow_up_price:"送件續重單價",is_activated:"使否啟用"},driver_commission_reports:{staff:"人員",total_amount:"總金額",time:"期間",begin_at:"計算起日",end_at:"計算訖日",created_at:"產生日期"},materials:{name:"物料名稱",en_name:"英文名稱",core_waybill_level:"運單階層",class_name:"識別名稱",label_type:"標籤種類",needs_label:"需要標籤"},nodes:{is_sandbox_mode:"沙盒模式",client_id:"Magnet APP ID",client_secret:"Magnet APP ID",access_token:"Magnet AccessToken",refresh_token:"Magnet Authorization",tax:"統一編號",carrier_class:"carrier::class",host:"host",service_name:"前台產品",code:"代碼",company_name:"公司名稱",company_short_name:"簡短名稱",company_en_name:"英文名稱",email:"電子郵件",phone:"聯絡電話",fax:"聯絡傳真",website_url:"官網網址",customer_service_hotline:"客服專線"},operations:{number:"訂單編號",file:"託運文件",file_name:"託運文件名稱",file_url:"託運文件網址",original_file_name:"文件名稱",station:"分配站點",staffs:"分配人員",customer:"客戶",customer_identity:"客戶",your_note:"您的備註",customer_note:"客戶備註",provider_note:"備註",system_note:"系統備註",cancel_reason:"作廢理由",instantiate_note:"實例化備註",is_canceled:"已取消",is_operable:"",is_operated:"",is_ready:"",status:"狀態",is_done:"已完成",is_done_true:"已完成",is_done_false:"未完成",created_at:"建立時間"},partitions:{name:"名稱",numbers:"號碼",numbers_from:"起始",numbers_to:"結尾",numbers_rule:"號碼規則",parent:"子區間",customer:"客戶",contracts:"合約",customer_identity:"客戶",material:"物料",material_identity:"物料",partition_type:"區間類型",label_type:"標籤種類",note:"備註",regex:"regex"},permissions:{name:"名稱",uri:"uri",http_method:"http_method"},permission_groups:{name:"名稱"},roles:{name:"名稱"},scan_action_prototypes:{name:"動作名稱",barcode:"條碼號",required_condition:"需求條件",before_actions:"前置動作",is_default:"設定為初始貨況",description_required_scope:"綁定貨況描述之Scope",description_options:"綁定貨況描述之候選選項"},staffs:{username:"帳號",password:"密碼",password_confirmation:"確認密碼",name:"姓名",phone:"電話",email:"E-mail",mobile:"手機號碼",fax:"傳真",tax:"tax",country:"國家",state:"state",city:"城市",district:"區",address:"地址",theme_name:"版面配置",note:"備註",is_banned:"是否被停權",role_identity:"職位",role:"職位",station_identity:"所屬站點",station:"所屬站點"},stations:{name:"站點名稱",code:"代碼",address:"地址",phone:"電話",position:"範圍",note:"備註"},status_prototypes:{name:"名稱",material:"物料",material_class_name:"物料",description:"敘述",non_polarity:"無極性",positive_polarity:"正極性",negative_polarity:"負極性"},user_logs:{title:"主旨",description:"描述",modified_attributes:"數值遷移",level:"紀錄層級",action_type:"動作類型",is_undid:"復原紀錄",undid_at:"復原於",node_identity:"節點ID",operator_identity:"操作者ID",loggable_identity:"loggable_identity",loggable_type:"紀錄對象",created_at:"日期",updated_at:"updated_at",identity:"ID"},core_waybills:{number:"號碼",operation_number:"訂單號碼",original_number:"原單號碼",tracking_number:"追踪號碼",storage_number:"儲位號",warehouse_identity:"入倉代號",original_core_waybill_identity:"original_core_waybill_identity",tracking_core_waybill_identity:"tracking_core_waybill_identity",label_type:"標籤種類",sender:"寄件人",sender_company_name:"寄件人公司名",sender_zip_code:"寄件人郵遞區號",sender_address:"寄件人地址",sender_name:"寄件人姓名",sender_phone:"寄件人電話",sender_email:"寄件人email",sender_fax:"寄件人傳真",sender_url:"寄件人網址",consignee:"收件人",consignee_company_name:"收件人公司名",consignee_zip_code:"收件人郵遞區號",consignee_address:"收件人地址",consignee_name:"收件人姓名",consignee_phone:"收件人電話",consignee_email:"收件人email",consignee_fax:"收件人傳真",flight_number:"航次",cvs_store_number:"cvs商店號碼",cvs_store_name:"cvs商店名稱",cvs_store_address:"cvs商店地址",cvs_store_phone:"cvs商店電話",station_code:"地區編號",temperature:"溫層",payment_type:"付款方式",receipt_file:"簽收單",receipt_file_url:"簽收單網址",current_status:"當前狀態",goods_name:"品名",note:"備註",note_2:"備註2",note_3:"備註3",declared_value:"貨物申報價值",measurement:"材積",weight_in_kilo:"重量(KG)",serial:"串行",is_used:"使用狀態",node_identity:"node_identity",station_identity:"station_identity",operation_identity:"operation_identity",partition_identity:"partition_identity",material_identity:"material_identity",source_core_waybill_identity:"source_core_waybill_identity",parent_core_waybill_identity:"parent_core_waybill_identity",consignee_address_accuracy:"收件人準確地址",consignee_formatted_address:"收件人格式化地址",consignee_address_components:"收件人地址組件",is_done:"是否完成",is_collected:"代收貨款 是否繳回公司",no_paid:"未繳回",paid:"已繳回",collection:"代收貨款",collection_fee:"代收款手續費",simplified_declaration_form_fee:"簡易報單費",declaration_form_fee:"正式報單費",declaration_form_extra_fee:"長單費",tax:"稅金",price:"運費",insurance:"保險費",material_fee:"包材費",consignee_tax_point:"收件人稅點",sender_tax_point:"寄件人稅點",warehouse_fee:"倉租費",fuel_surcharge:"燃油附加費",value_added_service_fee:"加值服務費",overlength_fee:"超長費",overweight_fee:"超重費",extra_fee:"其他",shipping_date:"配送日期",shipping_period:"配送時段",shipping_note:"配送備註",latest_status:"貨況",created_at:"建立日期",updated_at:"更新日期",identity:"identity",is_deleted:"已被刪除",deleted_at:"刪除日期"}}},ui:{general:{cannot:"無法",cannot_use:"您無法使用",clear:"清除",select:"選擇",please_select:"請選擇",yes:"是",no:"無",no_data:"無資料",date:"日期",day:"天",days:"天",hour:"小時",hours:"小時",minute:"分",minutes:"分",second:"秒",operate:"操作",hot_key:"快捷鍵",copy:"複製",note:"備註",simple:"簡易",advanced:"進階",detail:"詳細",show:"檢視",edit:"編輯",create:"建立",creating:"建立中",search:"搜尋",searching:"搜尋中",search__key:"搜尋{key}...",submit:"送出",result:"結果",verify:"驗證",verifying:"驗證中",verify_staff:"驗證身份",update:"更新",updating:"更新中",delete:"刪除",deleteing:"刪除中",ready:"準備",readying:"準備中",handle:"處理",handling:"處理中",cancel:"取消",canceling:"取消中",print:"列印",printing:"列印中",upload:"上傳",uploading:"上傳中",fetch:"取得",success:"成功",failure:"失敗",network_abnormality:"線路狀況",server_offline:"伺服器忙碌中，請稍後再嘗試",error:"錯誤",back:"返回",initialize:"初始化",initializing:"載入中，請稍等",initialize_complete:"初始化完畢",created_at:"建立日期",updated_at:"更新日期",deleted_at:"刪除日期",folder:"資料夾",file:"檔案",all:"全部"},page_titles:{index:"首頁",current_page:"目前位置",provider_index:"快遞系統-管理端",station_index:"快遞系統-站點端",customer_index:"快遞系統-客戶端",provider_pages:"管理界面",customer_pages:"客戶界面",uploader:"匯入明細",station_uploader:"匯入明細",provider_uploader:"匯入明細",customer_uploader:"匯入明細",operation_show:"訂單內容",operation_print_list:"列印託運總表",operation_print_label:"列印託運標籤",assets:"資產列表",assets_index:"資產列表",new_asset:"新增資產",edit_asset:"編輯資產",print_asset:"印出資產標籤",quote_policies:"計價政策",quote_policy:"檢視計價政策",provider_customers:"客戶管理",new_provider_customer:"新增客戶",provider_customer:"檢視客戶",station_customers:"客戶管理",new_station_customer:"新增客戶",station_customer:"檢視客戶",provider_contracts:"客戶合約",new_provider_contract:"新增合約",provider_contract:"檢視合約",new_provider_quotation:"新增報價單",provider_quotation:"檢視報價單",station_contracts:"客戶合約",new_station_contract:"新增合約",station_contract:"檢視合約",new_station_quotation:"新增報價單",station_quotation:"檢視報價單",scanner:"掃描界面",provider_operations:"訂單列表",edit_provider_operation:"編輯訂單",driver_commissions:"抽成紀錄列表",materials:"物料管理",new_material:"新增物料",edit_material:"編輯物料",provider_partitions:"號碼區間",provider_associated_partitions:"我的號碼區間",customer_partitions:"號碼區間",new_provider_partition:"新增號碼區間",edit_provider_partition:"編輯號碼區間",station_partitions:"號碼區間",station_associated_partitions:"我的號碼區間",new_station_partition:"新增號碼區間",edit_station_partition:"編輯號碼區間",permissions:"權限列表",permission_groups:"權限群組管理",new_permission_group:"新增權限群組",edit_permission_group:"編輯權限群組",customer_core_waybills:"總運單管理",customer_core_waybills_operation:"訂單篩選管理",customer_show_core_waybill_operation:"檢視運單",customer_show_core_waybill:"檢視運單",core_waybills:"總運單管理",core_waybills_operation:"訂單篩選管理",edit_core_waybill_operation:"編輯運單",edit_core_waybill:"編輯運單",new_core_waybill:"新增運單",roles:"職位管理",new_role:"新增職位",edit_role:"編輯職位",settings:"設定",staffs:"員工管理",new_staff:"新增員工",staff:"員工內容",edit_staff:"編輯員工",stations:"站點管理",new_station:"新增站點",edit_station:"編輯站點",status_prototypes:"貨況管理",new_status_prototype:"新增貨況",status_prototype:"貨況內容",edit_status_prototype:"編輯貨況",pack:"打包界面",unpack:"拆包界面",page_404:"Not Found",operate:"處理",appraisals:"考績列表",edit_appraisal:"編輯考績",new_appraisal:"新增考績",user_logs:"使用者歷程",user_log:"使用者歷程",driver_commission_policies:"收派件提成政策",new_driver_commission_policy:"新增收派件提成政策",edit_driver_commission_policy:"編輯收派件提成政策",driver_commission_reports:"收派件提成報告",new_driver_commission_report:"建立收派件提成報告",driver_commission_report:"收派件提成報告內容",scan_action_prototypes:"掃描動作列表",scan_action_prototype:"掃描動作內容",new_scan_action_prototype:"建立掃描動作",edit_scan_action_prototype:"編輯掃描動作",provider_node:"公司資訊",customer_operations:"訂單列表",show_customer_operation:"訂單內容",new_provider_operation:"新增訂單",provider_distributions:"分撥設定",new_provider_distribution:"新增轄區",edit_provider_distribution:"轄區內容",permission_denied:"權限問題"},links:{menu:{provider_index:"後台首頁",scan:"掃描管理",scan_action_prototypes:"掃描動作",status_prototypes:"貨況管理",numbers:"單號管理",provider_partitions:"號碼區間",station_partitions:"號碼區間",assets:"資產管理",stations:"站點管理",materials:"物料管理",uploader:"匯入明細",provider_uploader:"匯入明細",station_uploader:"匯入明細",customer_uploader:"匯入明細",permission_groups:"權限群組",core_waybills:"總運單管理",provider_operations:"訂單管理",station_operations:"訂單管理",staffs:"員工",roles:"職位管理",users:"員工管理",routes:"路由表",processed_files:"文件紀錄",import_files:"API Openfile",intelligent:"intelligent",operation_managers:"Operation Manager",user_logs:"使用者歷程",commission_policies:"提成政策",commission_reports:"提成報告",driver_commission_policies:"收派件提成政策",driver_commission_reports:"收派件提成報告",driver_commissions:"收派件提成紀錄",provider_node:"公司管理",provider_distributions:"分撥設定",provider_customers:"客戶管理",station_customers:"客戶管理"},top_menu:{my_receipts:"我的簽收單",print_check_summary:"列印點交單",scanner:"掃描系統",language:"語言",notice:"通知",no_station:"尚未選擇站點",overtime_note:"逾時提示",full_logout:"完整登出",full_logout_help:"會完整清除設定記錄",logout:"登出"}},theme_names:{staff:"標準員工",driver:"司機",manager:"主管",operator:"操作員",exception:"例外帳號",default:"預設帳號"},status_scopes:{operator:"內部貨況",forwarder:"客戶貨況",public:"公開貨況",mark:"標記",condition:"流程控制",system:"系統",unknown:"不明"},validator:{is_required:" 為必填欄位。",greater_than:" 必須大於 ",if:"如果 ",is:" 為 ",then:" 那麼 "},notifications:{help:{this_page_is_out_of_date_please_click_here_to_refresh:"此頁面的資料已非最新，請點此重新整理",please_clicked_initialize_again:"請點擊再次初始化掃描系統"},success:{fetch:"取得成功",update:"更新成功",create:"建立成功",delete:"刪除成功",verify:"驗證成功",upload:"上傳成功",__name:"{name}成功",fetch__name:"取得{name}成功",update__name:"更新{name}成功",create__name:"建立{name}成功",delete__name:"刪除{name}成功",verify__name:"驗證{name}成功",upload__name:"上傳{name}成功",copy__name:"複製{name}成功"},warning:{are_you_sure_to_delete_it:"確定要刪除?",are_you_sure_to_cancel_it:"確定要取消?"},error:{find:"查詢失敗{reason}",fetch:"取得失敗{reason}",update:"更新失敗{reason}",create:"建立失敗{reason}",delete:"刪除失敗{reason}",verify:"驗證失敗{reason}",upload:"上傳失敗{reason}",copy:"複製失敗{reason}",__name:"{name}失敗",find__name:"查詢{name}失敗{reason}",fetch__name:"取得{name}失敗{reason}",update__name:"更新{name}失敗{reason}",create__name:"建立{name}失敗{reason}",delete__name:"刪除{name}失敗{reason}",verify__name:"驗證{name}失敗{reason}",upload__name:"上傳{name}失敗{reason}",copy__name:"複製{name}失敗{reason}",no_data:"沒有任何資料",please_handle_errors:"請處理以下錯誤",exception_error_please_contact_the_system_supplier:"例外錯誤，請聯絡系統商",please_check_to_write_in_the_required_fields_mark:"請檢查必填欄位(*標記)是否確實填寫"}},scanner:{settings:{is_scan_mode:{true:"掃描模式 | 掃描",false:"手動模式 | 手動"},is_scan_action_mode:{true:"點貨作業模式 | 點貨",false:"檢視資料模式 | 檢視"},is_batch_mode:{true:"批次處理 | 批次 | 警告！已啟用 批量作業模式，號碼需用逗號區隔，將不再提醒必填資訊",false:"不批次處理 | 不批次"},is_operation_mode:{true:"使用訂單模式 | 訂單",false:"不使用訂單模式 | 無訂單"},is_core_waybill_pieces_mode:{true:"多件一單 | 多件一單",false:"非多件一單 | 非多件一單"},is_core_waybill_creation_mode:{true:"建立原單號 | 建原單",false:"不建立原單號 | 不建原單"},is_webcam_mode:{true:"鏡頭 | 鏡頭",false:"關閉鏡頭 | 關閉鏡頭"},is_update_corewaybill_mode:{true:"更新運單 | 更新運單",false:"檢視運單 | 檢視運單"},is_auto_print_label_mode:{true:"自動產標 | 印標",false:"不產標籤 | 不印標"},is_distributed_to_mode:{true:"分撥模式 | 分撥",false:"不分撥 | 不分撥"},is_noty_audio_mode:{true:"提示聲模式 | 提示聲",false:"靜音模式 | 無提示聲"},is_speech_mode:{true:"語音報件模式 | 語音",false:"靜音語音報件 | 無語音"},is_quick_corewaybill_related_columns:{true:"快速套用欄位 | 快速套用",false:"不快速套用 | 不快速套用"},is_package_mode:{true:"自動包裝 | 包裝 | 包裝中",false:"不包裝"},is_unpackage_mode:{true:"自動拆包 | 拆包 | 拆包中",false:"不拆包"},pack_need_source_mode:{short_name:"套用資料",true:"套用",false:"不套用"},core_waybill_template_mode:{short_name:"檢視模式",min_card:"極簡運單檢視 | 極簡",card:"一般運單檢視 | 一般",detail:"詳細運單檢視 | 詳細"}},setting_groups:{LB00:"運單起始貨況",LB01:"1.放行",LB02:"2.點交",LB06:"3.異常件",LB07:"3.異常件排除",LB11:"鎖定",LB12:"解除鎖定",LA00:"運單起始貨況",LA01:"1.收貨",LA02:"2.進站",package:"包裝",LA03:"3.派件中",LA10:"3.聯運",LA09:"3.出站集貨中轉",LA05:"4.回站",LA04:"4.已配達",LA06:"4.異常件",LA07:"4.異常件排除",LA08:"寄件者退運",LA11:"鎖定",LA12:"解除鎖定",LA13:"結案",LA21:"進倉",LA22:"上架",LA23:"出倉",LA24:"不明貨",unpackage:"拆包",distributed_to:"分撥",pack_house_waybill:"袋包運, 裝袋作業",pack_waybill_goods:"運包子, 一票多件",search:"查詢運單",print:"列印標籤"},menus:{settings:"掃描設定",setting_group:"設定包",operation:"訂單",package:"包裝",core_waybill:"運單"},jobs:{job:"工作",clear_jobs:"清除紀錄",waiting_user_action:"等待使用者動作",idle:"閒置中",processing:"處理中",success:"成功",failure:"失敗",number:"號碼",no_add_status:"尚未新增貨況",no_error:"無錯誤",scope:{original_number:"原單號查詢",new:"建立新運單"}},package:{packing_material:"包材",package:"包",unpackage:"拆",total__number:"{number}件",detail:"檢視",hide:"隱藏"},upload:{receipt_file:"請上傳簽收單",result:"上傳結果"},helps:{select:"請選定",write:"請填寫",scan:"請掃描",quick_required_field_div:"快速套用必填欄位區",current_scan_action_prototype:"當前狀態條碼",distributed_result:"分撥結果",you_dont_any_operation:"您目前沒有任何訂單",write_or_scan_barcode:"輸入號碼或是掃描條碼",write_related_columns:"請填寫必要欄位",write_scan_action_note:"請填寫貨況備註",write_number:"請輸入號碼",select_scan_action:"請選定條碼狀態",select_pack_taget_parent:"請選定包材",select_pack_taget:"請選擇包裝目標",select_target_layer:"請選定目標層",selected_operation:"已選擇訂單",distributed:{please_select:"請選擇",current_station:"當前站點",can_use_distributed_to_mode:"才可啟用分撥"}},alerts:{is_created:"是否要建立",required:"必填",previous:"上一步",give_up:"放棄",definite:"確定",please_write:"請填入",required_field:"必填欄位",if_have_write:"有則填寫",upload_receipt_img:"請上傳簽收單",upload_result:"上傳結果",uploading:"上傳中",please_write_scan_note:"請填入貨況備註"},operations:{total:"共有 {operations_length} 件委託單，{sum_core_waybills}件貨",contents:"內容運單",current_operation_set_to:"已設定當前訂單為",clear_current_operation:"已清空當前訂單"},success:{quick_setting:"快速設定成功"},errors:{web_camera_error_will_close:"WebCamera 啟動失敗，將自動關閉",multiple_numbers_in_batch_mode:"批次作業下請輸入複數號碼",setting_group_not_found:"無此快速設定包",setting_not_found:"無此快速設定",partition_not_found:"無選擇號碼區間",core_waybill_not_found:"查無單號",failed_to_fetch_core_waybill_statuses:"查詢貨況資訊失敗",failed_to_instantiate_scan_action_prototype:"掃描動作失敗",failed_to_update_core_waybill_related_column:"更新運單必要欄位失敗",give_up_core_waybill_related_columns:"運單未填寫必要資訊",give_up_scan_action_description:"貨況未填寫必要備註",give_up_create_core_waybill:"未建立運單"}},pages:{customer_home:{title:"歡迎來到客戶管理"},partials:{page_404:{cant_find_page:"找不到頁面"},permission_denied:{you_dont_permission:"您無權限"},login_expiration_hint_modal:{idle:"閒置",content:"系統偵測到你很久沒有動作了，再過{time}就會自動登出。",i_am_back:"我回來了"}},login:{customer_management_login:"客戶登入",provider_management_login:"管理後台登入",station_management_login:"站點登入",please_enter_your_account_and_password:"請輸入您的帳號及密碼",account:"帳號",password:"密碼",verification_code:"請填入驗證碼",pass_next_timeout_will_dont_warn:"你能通過下次逾時檢查，我就不提示囉",btns:{auto_input_test_account:"自動輸入測試帳號",login:"登入"},errors:{your_site_has_not_registered_system:"您所在的網站尚未註冊本系統",please_fill_in_the_verification_code:"請填入驗證碼",account_or_password_incorrect:"帳號或密碼錯誤",verification_code_incorrect:"驗證碼錯誤",verification_code_expired:"驗證碼逾時失效",failure_to_login:"登入失敗",timeout:"閒置過久已自動登出"}},appraisals:{point:"分數",reason:"事由",staff_identity:"員工",registrant_identity:"登記人"},monitor:{menu_title:{all:"全部",myself:"個人",station:"站點"},title:{all_pending_operations:"全部待處理訂單",all_pending_waybills:"全部待處理運單",pending_operations:"待處理訂單",pending_waybill_in_operations:"訂單內待處理運單",pending_waybills:"待處理運單"},sub_title:{not_completed_operations:"未完成的訂單",not_completed_waybills:"未完成的運單",assigned_to_me_but_not_completed_operations:"分配給我處理但未完成的訂單",assigned_to_me_but_not_completed_waybill_in_operations:"分配給我處理的訂單中未完成的運單",the_unfinished_waybill_that_was_last_my_scanned:"最後在我手上掃描但未完成的運單",assigned_to_stationg_but_not_completed_operations:"分配給 <span style='color: green;'>{station_name}</span> 處理但未完成的訂單",assigned_to_stationg_but_not_completed_waybill_in_operations:"配給 <span style='color: green;'>{station_name}</span> 處理的訂單中未完成的運單"}},assets:{categories:"資產種類",print_barcode:"列印條碼",have_category:"既有種類",clear_value:"清空本欄",helps:{no_anything_category:"尚無類別",no_anything_assets:"尚無資產",write_or_use_category_list:"自行填寫或選擇右側列表",please_clicked_upper_left_new_asset_button:"點選左上新增資產按鈕建立"}},customer_contracts:{additional_information:"額外資訊"},customers:{contracts:"合約",normal:"正常",banned:"停權",unbanned:"復權",is_banned:"已停權",proxy_login:"代理登入",basic_information:"基本資料",common_sender_information:"常用寄件人資訊",common_consignee_information:"常用收件人資訊",is_open_use_associated_partition:"是否開放使用「我的號碼區間」",is_open_use_use_yourself_partition:"是否開放使用「自用號碼區間」",show_basic_information:"編輯、檢視客戶的帳號名稱、聯絡方式與使用權",show_common_sender_information:"編輯、檢視常用寄件人資訊",show_common_consignee_information:"編輯、檢視常用收件人資訊",show_contracts:"該客戶所擁有的合約",contract:{name:"名稱",created_at:"建立於"},helps:{the_password_does_not_match_the_confirmation_password:"密碼與確認密碼不相符"}},distributions:{activated:"已啟用",unactivated:"未啟用",add_condition:"增加條件",add_condition_help:"如何寫條件？",add_condition_help_content_1:"1. 同樣條件類型的項目會做OR比對，不同條件類型的項目是做AND比對，例如：直轄市台北市+直轄市區信義區+直轄市區中正區+直轄市新北市+直轄市區新店區五個條件，符合本區配送條件的地址有台北市信義區、台北市中正區及新北市新店區",add_condition_help_content_2:"2. 內容請填完整繁體中文名稱",condition_type:"條件類型",content:"內容",undo:"復原",filter:{direct:"站點直派",intermodal:"轉聯運"}},driver_commissions:{driver:"司機",no_done:"尚未結算",core_waybill_number:"運單號"},driver_commission_policies:{activated_switch:"啟用開關",activated:"啟用",pickup:"一般件",bag:"袋裝",table:{general_pickup:"一般取件",general_delivery:"一般送件",bag_pick:"袋裝取件",bag_delivery:"袋裝送件",is_activated:"啟用",first_weight:"首重",first_price:"首重價",follow_up_weight:"續重",follow_up_price:"續重價"}},driver_commission_reports:{total_amount_of_commission:"總提成金額",print:"列印",setting:"列印",print_setting:"列印設定",detailed_mode:"詳細模式",from:"從",to:"至",status:"狀態",no_select_date:"尚未選擇",start_all:"全部開始",go_to_report:"前往報告",table:{pickup_details:"取件明細",dispatch_details:"派件明細",No:"序號",number:"單號",weight:"重量",date:"日期",commission:"提成(元)",total:"總計"},filter:{staff_name:"人員",begin_at:"計算起日",end_at:"計算訖日",total_amount_from:"提成金額從...",total_amount_to:"提成金額到...",created_at:"產生日期"}},nodes:{company_information:"公司資訊"},operations:{provider_note_value:"寄件人姓名: \n寄件人電話: \n",processing:"處理中",contract:"合約",content:"訂單內容",schedule:"進度",waybill_amount:"單數",print_receipt:"印出簽收單",print_coew_waybill_labels:"印出運單標籤",print_coew_waybill_checklist:"印出託運總表",delete_help:"刪除訂單將會與下屬袋、運單、子單...等一併刪除",_name_operation_list:"{name}託運總表",_name_customer_receipt:"{name}客戶簽收單",helps:{please_confirm_sender_and_contract_are_selected:"請確認寄件人及合約皆有選取"},table:{finish:"完成",total:"總數"}},partitions:{automatic_number:"自動取號",use_yourself:"自用",statistics:"統計",total_amount:"總數量",available_quantity:"可用數量",if_use_it_yourself_do_not_write:"如自用請留空"},uploader:{redo:"重做",open_file:"開啟文件",operation_list:"託運總表",upload_operation_list:"上傳託運總表",selected:"已選擇",contract:"合約",your_actions:"您的動作",operation_order:"託運訂單",field_data_succeeded:"欄位檢查成功",checking_waybill_data_ok:"運單內容檢查完成",checking_operation_data_ok:"訂單內容填寫完成",upload_detail_completed:"明細上傳完畢",continue_next_file:"繼續上傳下一份文件",materialization_operation:"實體化訂單",consignment:"託運",delivery:"配送",total:"總計",total__number:"{number}筆",dimmer:{what_do_you_want_now:"您現在想要",please_upload_your_file:"請上傳您的檔案",download_sample_file:"下載範例文件",clicked_this_card_redo:"點擊這張卡片重新開始",select_file:"選擇檔案"},steps:{title:{operation:"訂單",confirm_data:"確認資料",upload_data:"上傳資料"},description:{operation_content:"指示本次託運內容",confirm_data_is_correct:"請確認資料是否正確",upload_data_to_server:"將資料上傳至伺服器"}},file:{name:"檔案名稱",size:"檔案大小",path:"檔案下載路徑",upload:"檔案上傳",complete:"完成",not_uploaded:"尚未上傳"},column_verification:{required_field:"必填欄位",unknown_waybill:"不明運單"}},scan_action_prototypes:{binding_material:"綁定物料",print_barcodes:"列印貨況條碼",field_name:"欄位名",value:"數值"},staffs:{appraisals:"考績",normal:"正常",banned:"停權",unbanned:"復權",is_banned:"已停權"},user_logs:{record_object:"紀錄對象",operator:"操作者",field_name:"欄位名",value:"數值",yes:"是",no:"否"},core_waybills:{done:"完成",print_filter_result_labels:"列印搜尋標籤",export_csv_file:"匯出csv",export_clearance_csv_file:"匯出清關csv",export_daily_csv_file:"匯出當日報表",download_daily_csv_file:"下載當日報表",please_select_partition:"請選擇號碼區間",back_to_select_partition:"返回 選號碼區間",partition_number_from:"起始號碼",partition_number_to:"結束號碼",again:"重新",upload_picture:"上傳圖片",no_upload_any_picture:"無上傳圖片",system_generation:"系統生成",have_contained_status:"且曾經含有貨況",is_where_like_filter_mode:"模糊搜尋",is_not_where_like_filter_mode:"準確搜尋",status:{"可使用":"可使用","使用中":"使用中","曾經使用過":"曾經使用過","可放行":"可放行","放行中":"放行中","曾經放行過":"曾經放行過","可點交":"可點交","點交中":"點交中","曾經點交過":"曾經點交過","可收貨":"可收貨","收貨中":"收貨中","曾經收貨過":"曾經收貨過","可進站":"可進站","進站中":"進站中","曾經進站過":"曾經進站過","可配送":"可配送","配送中":"配送中","曾經配送過":"曾經配送過","可回站":"可回站","回站中":"回站中","曾經回站過":"曾經回站過","可配達":"可配達","配達中":"配達中","曾經配達過":"曾經配達過","可中轉":"可中轉","中轉中":"中轉中","曾經中轉過":"曾經中轉過","可聯運":"可聯運","聯運中":"聯運中","曾經聯運過":"曾經聯運過","可異常件":"可異常件","異常件中":"異常件中","曾經異常件過":"曾經異常件過","可鎖定":"可鎖定","鎖定中":"鎖定中","曾經鎖定過":"曾經鎖定過","可完成":"可完成","完成中":"完成中","曾經完成過":"曾經完成過",USABLE:"可用的",CHECKABLE:"可進站",SHIPPABLE:"可配送",SHIPPING:"配送中",TRANSFERING:"正在集貨中轉",EXCEPTIONABLE:"可設異常件",EXCEPTIONING:"異常件",SENDER_REGRETABLE:"寄件人可反悔寄",CHECKING:"正在站內",TRANSFERABLE:"可集貨中轉",INTERMODALABLE:"可聯運",INTERMODALING:"聯運中",RELEASABLE:"可放行",CAN_HAND_OVER:"可點交",LOCKING:"鎖定中",IS_DONE:"已配達",system:"系統",condition:"系統",administrator:"管理員",operator:"內部貨況",forwarder:"客戶",public:"公開",mark:"標記",no_latest_status:"無最新貨況"},filter:{asynchronous:"異步查詢",find__key:"搜尋{key}...",find_number:"搜尋運單號碼...",clear:"清空",numbers:"號碼",waybill_content:"運單資訊",status:"貨況",have_contained:"且曾經含有",clearance_date:"清關日期",selected_is_used:"請選擇狀態",is_used:{true:"已使用",flase:"未使用"},material:"物料",selected_material:"請選擇物料",selected_station:"何處",selected_staff:"誰",selected_status:"貨況",selected_status_scope:"類別",selected_polarity:"正在/不在",polarity:{positive:"正在",negative:"不在"},status_depiction:{now:"現在 運單",at_the:"在",in_the:"在",by:"由",handle:"處理",before_by:"曾經由",added:"新增了"}}}},toolbox:{back_to_top_button:{back_to_top:"回到最上"},bulletin_board:{name:"留言板",message:"留言",no_messages:"尚無留言！",talk_your_comment:"說說你的意見"},crud_templates:{new:"新"},core_waybills_label_svg:{labels:{paper_type:"列印紙張種類",printing_type:"標籤種類",paper_size:"紙張大小",template:"排版"},printing_types:{"Label::Default":"預設","Label::ByExpress":"博宇速運","Label::ChangQing":"長慶運通","Label::FlyCargo":"飛樂數網","Label::Condor180":"協錸運","Label::Pelican":"宅配通","Label::HCT":"新竹物流","Label::TCat":"黑貓宅急便","Label::FamilyMart":"全家便利商店","Label::Presco":"統一數網","Label::Invoice":"發票","Label::FamilyMartInvoice":"全家便利商店(含發票)","Label::PrescoInvoice":"統一數網(含發票)"},btns:{print:"列印",old_print:"舊版列印",new_print:"新版列印"},helps:{numbers_input:"號碼 範例:123,456,789"},errors:{no_authentication_token:"pops 參數請給予 authentication_token",no_number:"請輸入號碼"}},core_waybill:{parent_core_waybill:"上層運單",child_core_waybill:"下層運單",no_any_parent_and_child_waybill:"無上下層運單",use_partition:"所使用的號碼區間",partition_number_from:"起始號碼",partition_number_to:"結束號碼",btns:{label:"展開標籤",print:"列印",print_again:"再次列印",update:"更新",switch_style:"切換樣式",simple:"簡易",detail:"詳細"},helps:{source:"資料來源",is_deleted:"已經刪除，請返回",tooltip_have_source_core_waybill:"當前運單資料來自於{number}，點擊以編輯"},errors:{please_clicked_initialize_again:"請點擊再次初始化掃描系統",change_template_error:"切換版形錯誤",no_number:"無號碼",invalid_loading_image:"載入圖片無效",waybill_no_label_class_cant_print:"此運單無綁定標籤種類，無法產標",props_is_can_print_label_unable:"參數 is_can_print_label 無啟用",no_label_type:"無指定標籤種類",label_type_error:"標籤種類錯誤",label_paper_type_error:"紙張種類錯誤"}},core_waybills:{quick_update_table:"快速更新表格",quick_update:"快速更新",batch_edit:"批次修改",no_station:"無貨況",packed_in:"包裝於",deleted:"已刪除",add_table:"加入表格"},operation_summary:{print_operation_list:"列印託運總表",table:{sender_signature:"寄件人簽名",driver_signature:"收貨司機簽名"}},receipts:{print_receipt:"列印簽收單"},stations_modal:{turn_of_GPS:"關閉gps",turn_on_GPS:"開啟gps",turn_on_auto_tracking:"已啟用自動判定",modify_current_station:"更改當前站點",please_select_the_current_station:"請先選擇當前站點",you_are_not_a_manager_will_modify_station_please_contact_the_manager:"您並非管理者, 今後更換站點 請聯絡管理員",you_do_not_belong_station_will_update_your_data_after_selection:"您目前無站點, 選完會更新您的使用者資料",current_station:"當前站點",tracking_GPS:"請求GPS",decisioning:"判定中",cancel_current_station:"取消當前站點",btns:{track_once:"自動判定(一次)",auto_tracking_every_minute:"自動判定(每分鐘)"},errors:{geolocation_is_not_supported_by_this_browser:"你當前瀏覽器不支持存取定位功能",your_web_protocol_is_not_HTTPS:"請使用HTTPS服務存取",get_location_failure:"取得 定位功能失敗"}},speed_test:{network_quality:"連線品質"},my_receipts:{neme:"我的簽收單",force_current_station:"強制當前站點",print:"{page}列印{note}",customer_receipt:"客戶簽收單"},notifications:{mark_all_read:"標示所有為已讀",no_new_notifications:"沒有新的動態",no_news:{title:"沒有新通知",content:"目前沒有新通知，所有的新通知會顯示於此。"}}},el:{colorpicker:{confirm:"確認",clear:"清空"},date_option_shortcut:{today:"今日",three_days:"三天前",week:"一周前",month:"一個月前",three_months:"三個月前",six_months:"半年前"},daterange_option_shortcut:{today:"今日",three_days:"最近三天",week:"最近一周",month:"最近一個月",three_months:"最近三個月",six_months:"最近半年"},datepicker:{now:"現在",today:"今天",cancel:"取消",clear:"清空",custom:"自訂",confirm:"確認",selectDateTime:"選擇日期時間",selectDate:"選擇日期",selectTime:"選擇時間",startDate:"開始日期",startTime:"開始時間",endDate:"結束日期",endTime:"結束時間",prevYear:"前一年",nextYear:"後一年",prevMonth:"上個月",nextMonth:"下個月",year:"年",month1:"1 月",month2:"2 月",month3:"3 月",month4:"4 月",month5:"5 月",month6:"6 月",month7:"7 月",month8:"8 月",month9:"9 月",month10:"10 月",month11:"11 月",month12:"12 月",week:"周次",weeks:{sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},months:{jan:"一月",feb:"二月",mar:"三月",apr:"四月",may:"五月",jun:"六月",jul:"七月",aug:"八月",sep:"九月",oct:"十月",nov:"十一月",dec:"十二月"}},select:{loading:"加載中",noMatch:"無匹配資料",noData:"無資料",placeholder:"請選擇"},cascader:{noMatch:"無匹配資料",loading:"加載中",placeholder:"請選擇"},pagination:{goto:"前往",pagesize:"項/頁",total:"共 {total} 項",pageClassifier:"頁"},messagebox:{title:"提示",confirm:"確定",cancel:"取消",error:"輸入的資料不符規定!"},upload:{deleteTip:"按 delete 鍵可刪除",delete:"刪除",preview:"查看圖片",continue:"繼續上傳"},table:{emptyText:"暫無資料",confirmFilter:"篩選",resetFilter:"重置",clearFilter:"全部",sumText:"Sum"},tree:{emptyText:"暫無資料"},transfer:{noMatch:"無匹配資料",noData:"無資料",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"}}}}},f7cf:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"notifications"},[i("div",{ref:"notification_button",staticClass:"ui icon button"},[e.has_processing?i("i",{staticClass:"loading circle notch large icon"}):0==e.notifications.length?i("i",{staticClass:"paper plane outline large icon"}):i("i",{staticClass:"paper plane large icon"}),e.unread_notificatons.length>0?i("div",{staticClass:"floating ui red circular label",staticStyle:{top:"-0.5em"}},[e._v("\n            "+e._s(e.unread_notificatons.length)+"\n        ")]):e._e()]),i("div",{staticClass:"ui flowing scrolling popup hidden"},[e.notifications.length>0?i("div",{staticClass:"ui feed"},e._l(e.notifications,function(e){return i("Notification",{key:e.identity,attrs:{notification:e}})})):i("div",{staticClass:"ui feed"},[i("div",{staticClass:"event"},[e._m(0),i("div",{staticClass:"content"},[i("div",{staticClass:"summary"},[e._v("\n                        "+e._s(e.$t("ui.toolbox.notifications.no_news.title"))+"\n                    ")]),i("div",{staticClass:"extra text"},[e._v("\n                        "+e._s(e.$t("ui.toolbox.notifications.no_news.content"))+"\n                    ")])])])])])])},s=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"label"},[i("i",{staticClass:"hand peace outline icon"})])}],a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.parsed_notification.target?i("div",{staticClass:"event"},[i("div",{staticClass:"label"},["processing"==e.notification.data.status?i("i",{staticClass:"loading cog icon"}):e._e(),"processed"==e.notification.data.status?i("i",{staticClass:"green check icon"}):e._e(),"failure"==e.notification.data.status?i("i",{staticClass:"red cancel icon"}):e._e()]),i("div",{staticClass:"content"},[i("div",{staticClass:"summary"},[e._v("\n            "+e._s(e.parsed_notification.target)+e._s(e.parsed_notification.action)+e._s(e.parsed_notification.status)+"\n            "),i("div",{staticClass:"date"},[e._v("\n                "+e._s(e.human_datetime(e.notification.created_at,null,"relative"))+"\n            ")])]),i("div",{staticClass:"extra text",domProps:{innerHTML:e._s(e.parsed_notification.message)}}),i("div",{staticClass:"meta"},[i("a",{staticClass:"like",on:{click:function(t){e.toggle_is_read()}}},[i("i",{staticClass:"eye icon"}),e._v(" "+e._s(e.notification.is_read?"已讀":"未讀")+"\n            ")])])])]):e._e()},r=[],o={props:{notification:Object},data:function(){return{}},watch:{},created:function(){},mounted:function(){},computed:{parsed_notification:function(){var e={},t=this.notification.data;switch(t.target){case"operation":switch(e.target="訂單",t.action){case"create":switch(e.action="建立",t.status){case"processing":e.status="中",e.message="訂單建立中，建立完成後於此顯示結果";break;case"processed":e.status="完成",e.message="訂單建立成功，訂單編號：<a>N4160755219144420983</a>";break;case"failure":e.action="建立失敗";default:}break;case"update":break;case"delete":break;default:}break;case"core_waybill":switch(e.target="運單",t.action){case"create":break;case"update":break;case"delete":break;case"export":switch(e.action="報表建立",t.status){case"processing":e.status="中",e.message="報表建立中，建立完成後將於此顯示結果";break;case"processed":e.status="完成",e.message="報表建立成功，下載連結：<a href='"+t.file_url+"'>"+t.filename+"</a>";break;case"failure":e.action="建立失敗";default:}break;case"filter":switch(e.action="查詢運單",t.status){case"processing":e.status="中",e.message="運單查詢中，查詢完成將後於此顯示結果";break;case"processed":switch(e.status="完成",t.scope){case"provider":this.$store.commit("provider/core_waybills_module/set_search_cache_key",t.search_cache_key),e.message="運單查詢成功，共有 "+t.amount+" 筆資料",t.amount>0?e.message+="，可以 <a>檢視</a> 或是於查詢欄匯出報表":e.message+="。";break;case"customer":this.$store.commit("customer/core_waybills_module/set_search_cache_key",t.search_cache_key),e.message="運單查詢成功，共有 "+t.amount+" 筆資料",t.amount>0?e.message+="，可以 <a>檢視</a> 或是於查詢欄匯出報表":e.message+="。";break}break;case"failure":e.action="建立失敗";default:}break;default:}break;default:}return e}},methods:{toggle_is_read:function(){this.notification.is_read=!0},update_notification:function(){this.$store.commit("provider/update_notification",this.notification)}},components:{}},c=o,l=i("2877"),u=Object(l["a"])(c,a,r,!1,null,"1a73d58d",null),d=u.exports,p={name:"ToolNotificationMain",props:{channel_identity:String},data:function(){return{unread_notificatons_count:0}},computed:{notifications:function(){return this.$store.state.provider.notifications},has_processing:function(){return _.findLast(this.notifications,function(e){return"processing"==e.status})},unread_notificatons:{cache:!1,get:function(){return _.filter(this.notifications,function(e){return!e.is_read})}}},watch:{},created:function(){},mounted:function(){var e=this;$(this.$refs.notification_button).popup({on:"click",hoverable:!0,position:"bottom center",lastResort:"bottom center",onShow:function(){$(".ui.popup").css("max-height",$(window).height()),e.notifications.forEach(function(t,i){e.notifications[i].is_read=!0})},delay:{show:300,hide:500}}),this.$cable.subscriptions.create({channel:"NotificationsChannel",channel_identity:this.channel_identity},{connected:function(){console.log("NotificaiontsChannel connected")},received:function(t){t.is_read=!1;var i=_.findIndex(e.notifications,function(e){return e.identity==t.identity});i>=0?e.$store.commit("provider/update_notification",t):e.$store.commit("provider/add_notification",t)}})},beforeDestroy:function(){},methods:{toggle_all_to_read:function(){_.forEach(this.$children,function(e){e.toggle_is_read()})}},components:{Notification:d}},m=p,f=(i("bef7"),Object(l["a"])(m,n,s,!1,null,"f2654624",null));t["a"]=f.exports},f7ff:function(e,t,i){"use strict";var n=i("7d53"),s=i.n(n);s.a},f881:function(t,i,n){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"date_picker"}},[e.style.width>752&&("daterange"==e.type||"datetimerange"==e.type)?i("el-date-picker",{class:e.is_row?"next_input_row":"",style:e.width?{width:e.width+"px !important"}:{width:"100%"},attrs:{"unlink-panels":"",align:"center",type:e.type,"start-placeholder":e.$t("ui.el.datepicker.startDate"),"end-placeholder":e.$t("ui.el.datepicker.endDate"),"picker-options":e.$store.state.element_ui_datepicker_daterange_options},model:{value:e.dates,callback:function(t){e.dates=t},expression:"dates"}}):e.style.width>752&&"datetime"==e.type?i("el-date-picker",{class:e.is_row?"next_input_row":"",style:e.width?{width:e.width+"px !important"}:{width:"100%"},attrs:{type:"datetime",placeholder:e.$t("ui.el.datepicker.selectDateTime")},model:{value:e.dates[0],callback:function(t){e.$set(e.dates,0,t)},expression:"dates[0]"}}):i("div",{staticClass:"fake_input",on:{click:function(t){e.$bus.$emit("date_picker_modal","show",e.type,e.datetimerange_channel_name)}}},[i("div",{staticStyle:{float:"left"},style:e.dates[0]&&e.dates[1]&&e.is_row?{lineHeight:"28px"}:{}},[i("i",{class:["datetimerange"==e.type||"datetime"==e.type?"el-icon-time":"el-icon-date"]})]),e.dates[0]||e.dates[1]?i("span",[i("span",{staticClass:"text"},[e._v("\n                "+e._s(e.$moment(e.dates[0]).format(e.format))+"\n            ")]),e.is_row?i("br"):e._e(),!e.is_row&&e.dates[1]?i("span",{staticClass:"text"},[e._v(" ~ ")]):e._e(),e.dates[1]?i("span",{staticClass:"text"},[e._v("\n                "+e._s(e.$moment(e.dates[1]).format(e.format))+"\n            ")]):e._e()]):i("span",{staticClass:"text"},[e._v("\n            "+e._s(e.$t("ui.el.datepicker.selectDate"))+"\n        ")])])],1)},a=[];function r(e,t,i,n,s,a,r){try{var o=e[a](r),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,s)}function o(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var a=e.apply(t,i);function o(e){r(a,n,s,o,c,"next",e)}function c(e){r(a,n,s,o,c,"throw",e)}o(void 0)})}}var c={components:{},props:{re_init:{type:Boolean,default:function(){return!1}},type:{type:String,default:function(){return"datetimerange"}},is_row:{type:Boolean,default:function(){return!1}},width:{type:Number,default:function(){return 0}},format:{type:String,default:function(){return"YYYY-MM-DD HH:mm:ss"}}},model:{prop:"value",event:"update"},data:function(){return{is_initialized:!1,datetimerange_channel_name:"datetimerange_channel",dates:[]}},computed:{style:function(){return this.$store.state.style}},watch:{dates:function(e){var t=null==e?[null,null]:e;this.$forceUpdate(),Array.isArray(t)&&this.update_value(t)},re_init:function(e){this.init()}},mounted:function(){var e=this;this.init(),this.datetimerange_channel_name=this.datetimerange_channel_name+this.$vnode.data.key,this.$bus.$off(this.datetimerange_channel_name),this.$bus.$on(this.datetimerange_channel_name,function(t){"datetime"==e.type&&(t[1]=null),e.dates=_.clone(t)})},methods:{init:function(){var t=o(regeneratorRuntime.mark(function t(){var i=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,new Promise(function(e){i.is_initialized=!1,i.current_index=null,e()});case 2:return t.next=4,new Promise(function(t){var n=null;try{n=i.$vnode.data.props.value,n?Array.isArray(n)?i.dates=[null==n[0]?"":n[0],null==n[1]?"":n[1]]:i.dates[0]=n:i.dates=["",""],i.$forceUpdate()}catch(e){}t()});case 4:return t.next=6,new Promise(function(e){i.is_initialized=!0,e()});case 6:case"end":return t.stop()}},t)}));function i(){return t.apply(this,arguments)}return i}(),set_current_index:function(e){this.current_index=e},update_value:function(e){"datetimerange"==this.type&&this.$moment(e[0]).unix()==this.$moment(e[1]).unix()&&(e[1]=date_to_end(e[1]));var t="datetime"==this.type?e[0]:e;this.$emit("update",t)}}},l=c,u=(n("8a4c"),n("2877")),d=Object(u["a"])(l,s,a,!1,null,"01aa3262",null);i["a"]=d.exports},f8a2:function(e,t,i){"use strict";var n=i("f726"),s=i.n(n);s.a},f8fd:function(e,t,i){},f938:function(e,t,i){"use strict";var n=i("dd28"),s=i.n(n);s.a},f9ea:function(e,t,i){"use strict";var n=i("bb3b"),s=i.n(n);s.a},fa04:function(e,t,i){},fa28:function(e,t,i){},fa83:function(e,t,i){},fb0a:function(e,t,i){},fb10:function(e,t,i){},fb5e:function(e,t,i){},fb72:function(e,t,i){"use strict";var n=i("c348"),s=i.n(n);s.a},fb99:function(e,t,i){},fc9b:function(e,t,i){},fd22:function(e,t,i){},fd26:function(e,t,i){},fd4f:function(e,t,i){},fdad:function(e,t,i){},fdc2:function(e,t,i){"use strict";var n=i("43bf"),s=i.n(n);s.a},fe68:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui footer segment",staticStyle:{position:"relative"}},[i("div",{staticClass:"ui center aligned container"},[i("div",{staticClass:"ui horizontal inverted small divided list"},[i("p",[e._v("\n                Copyright © "+e._s(e.current_year)+" Genki Inc. All rights reserved\n            ")])])])])},s=[],a={name:"FooterBar",computed:{current_year:function(){return(new Date).getFullYear()}}},r=a,o=i("2877"),c=Object(o["a"])(r,n,s,!1,null,"76b7142f",null);t["a"]=c.exports},ff47:function(e,t,i){"use strict";var n=i("0bd7"),s=i.n(n);s.a}});
//# sourceMappingURL=app.3d185ef7.js.map