(function(e){function t(t){for(var n,s,o=t[0],c=t[1],_=t[2],u=0,d=[];u<o.length;u++)s=o[u],a[s]&&d.push(a[s][0]),a[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(d.length)d.shift()();return r.push.apply(r,_||[]),i()}function i(){for(var e,t=0;t<r.length;t++){for(var i=r[t],n=!0,o=1;o<i.length;o++){var c=i[o];0!==a[c]&&(n=!1)}n&&(r.splice(t--,1),e=s(s.s=i[0]))}return e}var n={},a={app:0},r=[];function s(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=e,s.c=n,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(i,n,function(t){return e[t]}.bind(null,n));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var _=0;_<o.length;_++)t(o[_]);var l=c;r.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"000d":function(e,t,i){"use strict";var n=i("f621"),a=i.n(n);a.a},"0010":function(e,t,i){"use strict";var n=i("2272"),a=i.n(n);a.a},"01ce":function(e,t,i){"use strict";var n=i("7328"),a=i.n(n);a.a},"0209":function(e,t,i){"use strict";var n=i("887f"),a=i.n(n);a.a},"0381":function(e,t,i){"use strict";var n=i("c466"),a=i.n(n);a.a},"0474":function(e,t,i){},"047f":function(e){e.exports={models:{_comment:"關聯表名稱不在此上面",appraisals:"Thẩm định",assets:"Tài sản",comments:"Bình luận",contracts:"Hợp đồng",conversion_attributes:"Thuộc tính chuyển đổi",converters:"Bộ chuyển đổi",core_waybills:"Vận đơn cơ bản",customers:"Khách hàng",quotations:"Báo giá",distributions:"Phân phối",distribution_conditions:"Điều kiện phân phối",driver_commissions:"Driver_commissions",driver_commission_policies:"Chính sách hoa hồng lái xe",driver_commission_reports:"Báo cáo hoa hồng lái xe",logs:"Nhật ký",materials:"Nguyên vật liệu",nodes:"Nút",operations:"Hoạt động",partitions:"Phân vùng",permissions:"Quyền",permission_groups:"Nhóm quyền",roles:"Vai trò",staffs:"Nhân viên",stations:"Trạm",scan_actions:"Hành động quét",status_prototypes:"Nguyên mẫu trạng thái",scan_action_prototypes:"Quét nguyên mẫu hành động",attributes:{assets:{barcode:"Mã vạch",number:"Con số",category:"thể loại",note:"chú thích",node_identity:"Nút"},converters:{name:"Tên",number:"Con số",provider_node_identity:"Nhà cung cấp_node_identity",customer_node_identity:"Ccustomer_node_identity",customer_identity:"khách hàng",carrier_class:"Thể loại tàu sân bay",proxy_contract_identity:"Proxy_contract_identity",third_party_api_data:"Thứ ba_party_api_data",note:"chú thích"},customer_contracts:{name:"Tên",number:"Con số",carrier_class:"Lớp tàu sân bay",proxy_contract:"Hợp đồng ủy quyền",third_party_api_data:"Dữ liệu api của bên thứ ba",note:"chú thích"},customers:{username:"Tên đăng nhập",password:"Mật khẩu",password_confirmation:"xác nhận mật khẩu",authentication_token:"Mã thông báo API",company_name:"Tên công ty",company_short_name:"Tên viết tắt của công ty",company_en_name:"Tên tiếng anh công ty",email:"E-mail",phone:"Điện thoại",fax:"Số fax",website_url:"Url trang web",default_sender_zip_code:"Mã bưu điện người gửi",default_sender_company_name:"Tên công ty người gửi",default_sender_address:"Địa chỉ người gởi",default_sender_name:"Tên người gửi",default_sender_phone:"Điện thoại người gửi",default_sender_email:"Email người gửi",default_sender_fax:"Người gửi fax",default_sender_url:"Url người gửi",default_consignee_zip_code:"Mã bưu điện của người nhận hàng",default_consignee_company_name:"Tên công ty nhận hàng",default_consignee_address:"Địa chỉ nhận hàng",default_consignee_name:"Tên người nhận hàng",default_consignee_phone:"Điện thoại nhận hàng",default_consignee_email:"Email nhận hàng",default_consignee_fax:"Fax nhận hàng",can_use_associated_partitions:"Có thể sử dụng các phân vùng liên quan",is_banned:"Đã bị cấm"},conditions:{core_waybill_identity:"Vận đơn",scan_action_prototype_identity:"NHỰA CÂY",condition_type:"loại điều kiện",can_use:"co thể sử dụng",current_use:"sử dụng hiện tại",already_use:"đã dùng",can_release:"có thể phát hành",current_release:"phát hành hiện tại",already_release:"đã phát hành",can_handover:"có thể bàn giao",current_handover:"bàn giao hiện tại",already_handover:"đã bàn giao",can_collect:"có thể thu thập",current_collect:"thu thập hiện tại",already_collect:"đã thu thập",can_check:"có thể kiểm tra",current_check:"kiểm tra hiện tại",already_check:"đã kiểm tra",can_ship:"có thể vận chuyển",current_ship:"tàu hiện tại",already_ship:"đã giao hàng",can_back:"có thể quay trở lại",current_back:"trở lại hiện tại",already_back:"trở lại",can_delivered:"có thể giao hàng",current_delivered:"giao hiện tại",already_delivered:"đã giao hàng xong",can_transfer:"có thể chuyển",current_transfer:"chuyển khoản hiện tại",already_transfer:"đã chuyển",can_intermodal:"có thể đa phương",current_intermodal:"hiện tại đa phương",already_intermodal:"đã đa phương",can_exception:"có thể ngoại lệ",current_exception:"ngoại lệ hiện tại",already_exception:"đã ngoại lệ",can_lock:"có thể khóa",current_lock:"khóa hiện tại",already_lock:"đã khóa",can_done:"có thể làm",current_done:"hiện tại đã hoàn thành",already_done:"xong rồi",can_warehouse_in:"có thể vào kho",current_warehouse_in:"hiện tại vào kho",already_warehouse_in:"đã vào kho",can_warehouse_out:"có thể ra kho",current_warehouse_out:"kho hiện tại",already_warehouse_out:"đã ra kho",can_ready_to_ship:"có thể sẵn sàng để vận chuyển",current_ready_to_ship:"hiện đã sẵn sàng để vận chuyển",already_ready_to_ship:"đã sẵn sàng để vận chuyển"},distributions:{priority:"Sự ưu tiên",name:"Tên",strategy:"Chiến lược",station:"Ga tàu",station_identity:"Vật chất",strategy_value:"Giá trị chiến lược",material:"Vật chất",is_activated:"Được kích hoạt"},driver_commissions:{pick_up_driver:"Đón tài xế",pick_up_core_waybill:"Nhặt core_waybill",delivery_core_waybill:"Giao hàng tận nơi core_waybill",delivery_driver:"Tài xế giao hàng",driver_commission_report:"Báo cáo hoa hồng tài xế",driver_commission_policy:"Chính sách hoa hồng lái xe",amount:"Số tiền",polarity:"Cực tính",created_at:"Tạo thời gian",is_deleted:"Bị xóa"},driver_commission_policies:{pick_up_first_weight:"Lấy trọng lượng đầu tiên (KG)",pick_up_first_price:"Nhận giá đầu tiên",pick_up_follow_up_weight:"Nhặt theo dõi cân nặng (KG)",pick_up_follow_up_price:"Nhận theo dõi giá",delivery_first_weight:"Giao trọng lượng đầu tiên (KG)",delivery_first_price:"Giao hàng giá đầu tiên",delivery_follow_up_weight:"Giao hàng theo dõi trọng lượng (KG)",delivery_follow_up_price:"Giao hàng theo dõi giá",house_pick_up_first_weight:"Nhà đón đầu tiên_kg (KG)",house_pick_up_first_price:"Nhà đón giá đầu tiên",house_pick_up_follow_up_weight:"Nhận nhà theo dõi cân nặng (KG)",house_pick_up_follow_up_price:"Nhận nhà theo dõi giá",house_delivery_first_weight:"Giao nhà trọng lượng đầu tiên (KG)",house_delivery_first_price:"Giao nhà đầu tiên giá",house_delivery_follow_up_weight:"Giao nhà theo dõi cân nặng (KG)",house_delivery_follow_up_price:"Giao nhà theo dõi giá",is_activated:"Được kích hoạt"},driver_commission_reports:{staff:"Cán bộ",total_amount:"Tổng cộng",time:"Thời gian",begin_at:"Bắt đầu",end_at:"Kết thúc",created_at:"Tạo thời gian"},materials:{name:"Tên",en_name:"Tên tiêng Anh",core_waybill_level:"Mức độ vận đơn",class_name:"Tên lớp",label_type:"Loại nhãn",needs_label:"Nhu cầu nhãn"},nodes:{is_sandbox_mode:"Chế độ sandbox",client_id:"ID ứng dụng nam châm",client_secret:"ID ứng dụng nam châm",access_token:"Nam châm AccessToken",refresh_token:"Ủy quyền nam châm",tax:"Thuế",carrier_class:"người vận chuyển :: lớp",host:"Chủ nhà",service_name:"Dịch vụ",code:"Mã",company_name:"Tên công ty",company_short_name:"Tên viết tắt của công ty",company_en_name:"Tên tiếng Anh của công ty",email:"E-mail",phone:"Điện thoại",fax:"Số fax",website_url:"Url trang web",customer_service_hotline:"Đường dây nóng dịch vụ khách hàng"},operations:{number:"Con số",file:"Tập tin",file_name:"Tên tệp",file_url:"Url tập tin",original_file_name:"Tên tệp",station:"Ga tàu",staffs:"Nhân viên",customer:"Khách hàng",customer_identity:"Khách hàng",your_note:"Ghi chú của bạn",customer_note:"Ghi chú của khách hàng",provider_note:"Chú thích",system_note:"Ghi chú hệ thống",cancel_reason:"Hủy bỏ lý do",instantiate_note:"Ghi chú tức thì",is_canceled:"Bị hủy bỏ",is_operable:"Có thể hoạt động",is_operated:"Được vận hành",is_ready:"Sẵn sàng",status:"Trạng thái",is_done:"Đã xong",is_done_true:"Làm xong",is_done_false:"Hoàn tác",created_at:"Tạo"},partitions:{name:"Tên",numbers:"Số",numbers_from:"Số từ",numbers_to:"Số thành",numbers_rule:"Quy tắc số",parent:"Cha mẹ",customer:"Khách hàng",contracts:"Hợp đồng",customer_identity:"Khách hàng",material:"Vật chất",material_identity:"Vật chất",note:"Chú thích",regex:"Regex"},permissions:{name:"Tên",uri:"uri",http_method:"http_method"},permission_groups:{name:"Tên"},roles:{name:"Tên"},scan_action_prototypes:{name:"Tên hành động",barcode:"Mã vạch",required_condition:"Điều kiện bắt buộc",before_actions:"Before_ilities",is_default:"Là mặc định",description_required_scope:"Mô tả phạm vi yêu cầu",description_options:"Tùy chọn mô tả"},staffs:{username:"Tên người dùng",password:"Mật khẩu",password_confirmation:"Xác nhận mật khẩu",name:"Tên",phone:"Điện thoại",email:"E-mail",mobile:"Di động ",fax:"Số fax",tax:"Thuế",country:"Quốc gia",state:"Tiểu bang",city:"Thành phố ",district:"Huyện",address:"Địa chỉ nhà",theme_name:"Chủ đề ",note:"Chú thích",is_banned:"Đã bị cấm",role_identity:"Vai trò",role:"Vai trò",station_identity:"Ga tàu",station:"Ga tàu"},stations:{name:"Tên",code:"Mã",address:"Địa chỉ nhà",phone:"Điện thoại",position:"Chức vụ",note:"Chú thích"},status_prototypes:{name:"Tên",material:"Vật chất",description:"Sự miêu tả",non_polarity:"Không phân cực",positive_polarity:"Cực tính tích cực",negative_polarity:"Phân cực âm"},user_logs:{title:"Chức vụ",description:"Sự miêu tả",modified_attributes:"Thuộc tính được sửa đổi",level:"Cấp độ",action_type:"Loại hành động",is_undid:"Là hoàn tác",undid_at:"Hoàn tác tại",node_identity:"Nhận dạng nút",operator_identity:"Toán tử (ID)",loggable_identity:"Có thể đăng nhập",loggable_type:"Loại có thể đăng nhập",created_at:"Ngày",updated_at:"cập nhật thời gian",identity:"ID"},core_waybills:{number:"Con số",operation_number:"Số hoạt động",original_number:"Số gốc",tracking_number:"Số theo dõi",storage_number:"Số lưu trữ",warehouse_identity:"Số kho",original_core_waybill_identity:"bản sắc gốc_core_waybill",tracking_core_waybill_identity:"theo dõi_core_waybill danh tính",label_type:"Loại nhãn",sender:"NGƯỜI GỬI",sender_company_name:"Tên công ty người gửi",sender_zip_code:"Mã zip người gửi",sender_address:"Địa chỉ người gởi",sender_name:"Tên người gửi",sender_phone:"Điện thoại người gửi",sender_email:"Email người gửi",sender_fax:"Người gửi fax",sender_url:"Url người gửi",consignee:"NGƯỜI NHẬN",consignee_company_name:"Tên công ty nhận hàng",consignee_zip_code:"Mã bưu điện của người nhận hàng",consignee_address:"Địa chỉ nhận hàng",consignee_name:"Tên người nhận hàng",consignee_phone:"Điện thoại nhận hàng",consignee_email:"Email người nhận hàng",consignee_fax:"Fax nhận hàng",flight_number:"Số chuyến bay",cvs_store_number:"Số cửa hàng Cvs",cvs_store_name:"Tên cửa hàng Cvs",cvs_store_address:"Địa chỉ cửa hàng Cvs",cvs_store_phone:"Cvs lưu trữ điện thoại",station_code:"Mã vùng",temperature:"Nhiệt độ",payment_type:"Hình thức thanh toán",receipt_file:"Hồ sơ nhận",receipt_file_url:"Url tập tin nhận",current_status:"Tình trạng hiện tại",goods_name:"Tên hàng hóa",note:"Chú thích",note_2:"Lưu ý 2",note_3:"Lưu ý 3",declared_value:"Giá trị khai báo",measurement:"Đo lường",weight_in_kilo:"Trọng lượng tính bằng kilo (KG)",serial:"Nối tiếp",is_used:"Được sử dụng",node_identity:"Nhận dạng nút",station_identity:"Danh tính trạm",operation_identity:"Danh tính hoạt động",partition_identity:"Nhận dạng phân vùng",material_identity:"Bản sắc vật chất",source_core_waybill_identity:"Nguồn_core_waybill danh tính",parent_core_waybill_identity:"Danh tính Parent_core_waybill",consignee_address_accuracy:"Địa chỉ nhận hàng_accuracy",consignee_formatted_address:"Người nhận hàng được định dạng địa chỉ",consignee_address_components:"Thành phần địa chỉ nhận hàng",is_done:"Đã xong",is_collected:"Phí giao dịch, trở lại công ty",no_paid:"Không trả tiền",paid:"Đã thanh toán",collection:"Bộ sưu tập",collection_fee:"Bộ sưu tập_fee",simplified_declaration_form_fee:"Simplified_declaration_form_fee",declaration_form_fee:"Tuyên bố_form_fee",declaration_form_extra_fee:"Khai báo_form_extra_fee",tax:"Thuế",price:"Giá bán",insurance:"Bảo hiểm",material_fee:"Chất liệu_fee",consignee_tax_point:"Consignee_tax_point",sender_tax_point:"Người gửi_tax_point",warehouse_fee:"Kho_fee",fuel_surcharge:"Phụ phí xăng dầu",value_added_service_fee:"Giá trị_added_service_fee",overlength_fee:"Overlength_fee",overweight_fee:"Thừa cân_fee",extra_fee:"Thêm_fee",shipping_date:"Ngày vận chuyển",shipping_period:"Thời gian vận chuyển",shipping_note:"Lưu ý vận chuyển",latest_status:"Tình trạng gần đây nhất",created_at:"Tạo thời gian",updated_at:"Cập nhật tại",identity:"Danh tính",is_deleted:"Bị xóa",deleted_at:"Đã xóa tại"}}},ui:{general:{cannot:"Không thể",cannot_use:"Không thể sử dụng",clear:"Thông thoáng",select:"Lựa chọn",please_select:"Xin hãy lựa chọn",yes:"Vâng",no:"Không",no_data:"Không có dữ liệu",date:"Ngày",day:"Ngày",days:"Ngày",hour:"Giờ",hours:"Giờ",minute:"Phút",minutes:"Phút",second:"Thứ hai",operate:"Vận hành",hot_key:"Phím nóng",copy:"Sao chép",note:"Chú thích",simple:"Đơn giản",advanced:"Nâng cao",detail:"Chi tiết",show:"Chỉ",edit:"Chỉnh sửa",create:"Tạo nên",creating:"Tạo",search:"Tìm kiếm",searching:"Đang tìm kiếm",search__key:"Tìm kiếm {key} ...",submit:"Gửi đi",result:"Kết quả",verify:"Kiểm chứng",verifying:"Đang xác minh",verify_staff:"Xác minh nhân viên",update:"Cập nhật",updating:"Đang cập nhật",delete:"Xóa bỏ",deleteing:"Đang xóa",ready:"Sẳn sàng",readying:"Đang đọc",handle:"Xử lý",handling:"Xử lý",cancel:"Hủy bỏ",canceling:"Hủy bỏ",print:"In",printing:"In",upload:"Tải lên",uploading:"Đang tải lên",fetch:"Tìm nạp",success:"Sự thành công",failure:"Thất bại",network_abnormality:"Mạng bất thường",server_offline:"Bộ trợ giúp không kết nối",error:"Lỗi",back:"Trở lại",initialize:"Khởi tạo.",initializing:"Đang khởi tạo.",initialize_complete:"Khởi tạo hoàn tất.",created_at:"Tạo thời gian",updated_at:"Thời gian cập nhật",deleted_at:"Đã xóa thời gian",folder:"Thư mục",file:"Tập tin",all:"Tất cả các"},page_titles:{index:"Mục lục",current_page:"Trang hiện tại",provider_index:"Nhà",station_index:"Nhà",customer_index:"Nhà",provider_pages:"Các nhà cung cấp",customer_pages:"Khách hàng",uploader:"Trình tải lên",station_uploader:"Trình tải lên trạm",provider_uploader:"Nhà cung cấp tải lên",customer_uploader:"Trình tải lên của khách hàng",operation_show:"Hoạt động",operation_print_list:"Danh sách in hoạt động",operation_print_label:"Nhãn in hoạt động",assets:"Tài sản",assets_index:"Chỉ số tài sản",new_asset:"Tài sản mới",edit_asset:"Chỉnh sửa tài sản",print_asset:"In tài sản",quote_policies:"Trích dẫn chính sách",quote_policy:"Trích dẫn chính sách",provider_customers:"Nhà cung cấp khách hàng",new_provider_customer:"Khách hàng của nhà cung cấp mới",provider_customer:"Nhà cung cấp khách hàng",station_customers:"Khách hàng của trạm",new_station_customer:"Khách hàng của nhà ga mới",station_customer:"Khách hàng của trạm",provider_contracts:"Hợp đồng nhà cung cấp",new_provider_contract:"Liên hệ mới",provider_contract:"Hợp đồng cung cấp",new_provider_quotation:"Báo giá mới",provider_quotation:"Báo giá nhà cung cấp",station_contracts:"Hợp đồng trạm",new_station_contract:"Hợp đồng nhà ga mới",station_contract:"Hợp đồng trạm",new_station_quotation:"Báo giá trạm mới",station_quotation:"Báo giá trạm",scanner:"Máy quét",provider_operations:"Hoạt động",edit_provider_operation:"Chỉnh sửa thao tác",driver_commissions:"Hoa hồng tài xế",materials:"Nguyên vật liệu",new_material:"Vật liệu mới",edit_material:"Chỉnh sửa tài liệu",provider_partitions:"Phân vùng",provider_associated_partitions:"Nhà cung cấp liên kết phân vùng",customer_partitions:"Phân vùng khách hàng",new_provider_partition:"Phân vùng mới",edit_provider_partition:"Chỉnh sửa phân vùng",station_partitions:"Phân vùng trạm",station_associated_partitions:"Phân vùng liên quan đến trạm",new_station_partition:"Phân vùng trạm mới",edit_station_partition:"Chỉnh sửa phân vùng trạm",permissions:"Quyền",permission_groups:"Các nhóm quyền",new_permission_group:"Nhóm quyền mới",edit_permission_group:"Chỉnh sửa nhóm cho phép",customer_core_waybills:"Vận đơn của khách hàng",customer_core_waybills_operation:"Vận hành vận đơn của khách hàng",customer_show_core_waybill_operation:"Vận hành vận đơn khách hàng",customer_show_core_waybill:"Vận đơn khách hàng",core_waybills:"Vận đơn",core_waybills_operation:"Vận hành vận đơn",edit_core_waybill_operation:"Chỉnh sửa thao tác vận đơn",edit_core_waybill:"Chỉnh sửa vận đơn",new_core_waybill:"Vận đơn mới",roles:"Vai trò",new_role:"Vai trò mới",edit_role:"Chỉnh sửa vai trò",settings:"Cài đặt",staffs:"Nhân viên",new_staff:"Nhân viên mới",staff:"Cán bộ",edit_staff:"Chỉnh sửa nhân viên",stations:"Trạm",new_station:"Trạm mới",edit_station:"Chỉnh sửa trạm",status_prototypes:"Nguyên mẫu trạng thái",new_status_prototype:"Nguyên mẫu trạng thái mới",status_prototype:"Nguyên mẫu trạng thái",edit_status_prototype:"Chỉnh sửa nguyên mẫu trạng thái",pack:"Đóng gói",unpack:"Giải nén",page_404:"Tìm thấy 404",operate:"Vận hành",appraisals:"Thẩm định",edit_appraisal:"Chỉnh sửa thẩm định",new_appraisal:"Đánh giá mới",user_logs:"Nhật ký người dùng",user_log:"Nhật ký người dùng",driver_commission_policies:"Chính sách hoa hồng lái xe",new_driver_commission_policy:"Chính sách hoa hồng lái xe mới",edit_driver_commission_policy:"Chỉnh sửa chính sách hoa hồng lái xe",driver_commission_reports:"Báo cáo hoa hồng tài xế",new_driver_commission_report:"Báo cáo hoa hồng lái xe mới",driver_commission_report:"Báo cáo hoa hồng tài xế",scan_action_prototypes:"Quét nguyên mẫu hành động",scan_action_prototype:"Quét nguyên mẫu hành động",new_scan_action_prototype:"Nguyên mẫu hành động quét mới",edit_scan_action_prototype:"Chỉnh sửa nguyên mẫu hành động quét",provider_node:"Cài đặt",customer_operations:"Hoạt động của khách hàng",show_customer_operation:"Hoạt động của khách hàng",new_provider_operation:"Hoạt động mới",provider_distributions:"Phân phối",new_provider_distribution:"Phân phối mới",edit_provider_distribution:"Chỉnh sửa phân phối",permission_denied:"Quyền bị từ chối "},links:{menu:{provider_index:"Mục lục",scan:"Quét",scan_action_prototypes:"Quét nguyên mẫu hành động",status_prototypes:"Nguyên mẫu trạng thái",numbers:"Số",provider_partitions:"Phân vùng",station_partitions:"Phân vùng",assets:"Tài sản",stations:"Trạm",materials:"Nguyên vật liệu",uploader:"Trình tải lên",provider_uploader:"Trình tải lên",station_uploader:"Trình tải lên",customer_uploader:"Trình tải lên",permission_groups:"Các nhóm quyền",core_waybills:"Vận đơn",provider_operations:"Hoạt động",station_operations:"Hoạt động",staffs:"Nhân viên",roles:"Vai trò",users:"Người dùng",routes:"Tuyến đường",processed_files:"Đã xử lý tệp",operation_managers:"Quản lý vận hành",user_logs:"Nhật ký người dùng",import_files:"API Openfile",intelligent:"thông minh",commission_policies:"Chính sách của ủy ban",commission_reports:"Ủy ban báo cáo",driver_commission_policies:"Chính sách hoa hồng lái xe",driver_commission_reports:"Báo cáo hoa hồng tài xế",driver_commissions:"Hoa hồng tài xế",provider_node:"Cài đặt",provider_distributions:"Phân phối",provider_customers:"Nhà cung cấp khách hàng",station_customers:"Khách hàng của trạm "},top_menu:{my_receipts:"Biên lai của tôi",print_check_summary:"In tóm tắt kiểm tra",scanner:"Máy quét",language:"Ngôn ngữ",notice:"Để ý",no_station:"Trạm không bị phát hiện",overtime_note:"Hết giờ nhắc nhở",full_logout:"Đăng xuất hoàn toàn",full_logout_help:"Xóa nhật ký cài đặt.",logout:"Đăng xuất"}},theme_names:{staff:"Cán bộ",driver:"Người lái xe",manager:"Giám đốc",operator:"Nhà điều hành",exception:"Ngoại lệ",default:"Mặc định"},status_scopes:{operator:"Nhà điều hành",forwarder:"Giao nhận",public:"Công cộng",mark:"Dấu",condition:"Điều kiện",system:"Hệ thống",unknown:"Không xác định"},validator:{is_required:" bắt buộc",greater_than:" phải lớn hơn ",if:"Nếu ",is:" Là ",then:" sau đó "},notifications:{help:{this_page_is_out_of_date_please_click_here_to_refresh:"Trang này đã hết hạn, vui lòng bấm vào đây để làm mới.",please_clicked_initialize_again:"Hãy nhấp vào, khởi tạo lại."},success:{fetch:"Lấy thành công.",update:"Cập nhật thành công.",create:"Tạo nên thành công.",delete:"Xóa bỏ thành công.",verify:"Kiểm chứng thành công.",upload:"Tải lên thành công.",__name:"{name} thành công.",fetch__name:"Lấy {name} thành công.",update__name:"Cập nhật {name} thành công.",create__name:"Tạo nên {name} thành công.",delete__name:"Xóa bỏ {name} thành công.",verify__name:"Kiểm chứng {name} thành công.",upload__name:"Tải lên {name} thành công.",copy__name:"Sao chép {name} thành công."},warning:{are_you_sure_to_delete_it:"Bạn có chắc chắn muốn xoá nó?",are_you_sure_to_cancel_it:"Bạn có chắc chắn để hủy bỏ nó?"},error:{find:"Tìm thấy thất bại {reason}.",fetch:"Lấy thất bại {reason}.",update:"Cập nhật thất bại {reason}.",create:"Tạo nên thất bại {reason}.",delete:"Xóa bỏ thất bại {reason}.",verify:"Kiểm chứng thất bại {reason}.",upload:"Tải lên thất bại {reason}.",copy:"Sao chép thất bại {reason}.",__name:"{name} thất bại.",find__name:"Find {name} thất bại {reason}.",fetch__name:"Lấy {name} thất bại {reason}.",update__name:"Cập nhật {name} thất bại {reason}.",create__name:"Tạo nên {name} thất bại {reason}.",delete__name:"Xóa bỏ {name} thất bại {reason}.",verify__name:"Kiểm chứng {name} thất bại {reason}.",upload__name:"Tải lên {name} thất bại {reason}.",copy__name:"Sao chép {name} thất bại {reason}.",no_data:"Không có dữ liệu",please_handle_errors:"Vui lòng xử lý lỗi.",exception_error_please_contact_the_system_supplier:"Lỗi ngoại lệ, Vui lòng liên hệ với nhà cung cấp hệ thống.",please_check_to_write_in_the_required_fields_mark:"Vui lòng kiểm tra để viết vào các trường bắt buộc (dấu *). "}},scanner:{settings:{is_scan_mode:{true:"Chế độ quét | Quét",false:"Chế độ viết | Viết "},is_scan_action_mode:{true:"Chế độ làm việc | Công việc",false:"Chế độ xem | Lượt xem"},is_batch_mode:{true:"Chế độ hàng loạt | Mẻ | Cảnh báo mode Chế độ hàng loạt được kích hoạt, các số cần phân tách bằng dấu phẩy (,) và không nhắc nhở trường bắt buộc. ",false:"Không có chế độ hàng loạt | Không có đợt "},is_operation_mode:{true:"Chế độ hoạt động | Hoạt động ",false:"Không có chế độ hoạt động | Không hoạt động"},is_core_waybill_pieces_mode:{true:"Chế độ truy cập | Chế độ truy cập ",false:"Không có chế độ truy cập | Không có chế độ truy cập "},is_update_corewaybill_mode:{true:"Corewaybill | Vận đơn hàng ngày ",false:"Xem corewaybill | Xem vận đơn "},is_auto_print_label_mode:{true:"Chế độ in nhãn tự động | In nhãn",false:"Không có nhãn in | Không có nhãn in "},is_distributed_to_mode:{true:"Phân phối cho chế độ | Phân phối ",false:"Không phân phối | Không phân phối "},is_noty_audio_mode:{true:"Chế độ âm thanh đáng chú ý | Âm thanh đáng chú ý ",false:"Không có âm thanh đáng chú ý | Không có âm thanh đáng chú ý "},is_speech_mode:{true:"Chế độ nói | Phát biểu",false:"Đừng nói | Không có lời nói "},is_quick_corewaybill_related_columns:{true:"Cột liên quan đến corewaybill nhanh | Dữ liệu nhanh ",false:"Không có cột liên quan nhanh | Không có dữ liệu nhanh "},is_package_mode:{true:"Chế độ gói | Gói | Bao bì ",false:"Không có gói "},is_unpackage_mode:{true:"Chế độ giải nén | Giải nén | Giải nén ",false:"Không giải nén "},pack_need_source_mode:{short_name:"cần dữ liệu nguồn ",true:"Sử dụng",false:"Không sử dụng "},core_waybill_template_mode:{short_name:"Xem phong cách vận đơn ",min_card:"Chế độ xem tối thiểu | Tối thiểu",card:"Chế độ xem cơ bản | Căn bản",detail:"Xem chi tiết | Chi tiết"}},setting_groups:{LB00:"Khởi đầu vận đơn",LB01:"1.Release",LB02:"2. Điểm để thanh toán",LB06:"3. Không bình thường",LB07:"3. Loại trừ",LB11:"Khóa",LB12:"Mở khóa",LA00:"vận đơn khởi xướng",LA01:"1.Release",LA02:"2.Trong trạm",package:"Gói",LA03:"3. Không thể thiếu",LA10:"3. Giao thông vận tải",LA09:"3. Chuyển khoản",LA05:"4. Trạm trả lại",LA04:"4. Đã giảng",LA06:"4. Không bình thường",LA07:"4. Loại trừ",LA08:"Người gửi trở lại",LA11:"Khóa",LA12:"Mở khóa",LA13:"thua cuộc",LA21:"Đang vào kho",LA22:"Kệ",LA23:"Ra khỏi vị trí",LA24:"Hàng hóa không xác định",unpackage:"Giải nén",distributed_to:"Phân phối",pack_house_waybill:"gói nhà vận đơn",pack_waybill_goods:"đóng gói hàng hóa vận đơn",search:"Tìm kiếm",print:"In"},menus:{settings:"Cài đặt",setting_group:"Nhóm cài đặt",operation:"Hoạt động",package:"Gói",core_waybill:"Vận đơn "},jobs:{job:"Việc làm",clear_jobs:"Xóa công việc",waiting_user_action:"Chờ đợi hành động của người dùng",idle:"Nhàn rỗi",processing:"Chế biến",success:"Sự thành công",failure:"Thất bại",number:"Con số",no_add_status:"Không thêm trạng thái",no_error:"Không có lỗi",scope:{original_number:"Số gốc",new:"Mới"}},package:{packing_material:"Vật liệu đóng gói",package:"Gói",unpackage:"Giải nén",total__number:"Toàn bộ:{number}",detail:"Chi tiết",hide:"Ẩn giấu"},upload:{receipt_file:"Tải lên tệp biên nhận",result:"Tải lên kết quả"},helps:{select:"Lựa chọn",write:"Viết",scan:"Quét",quick_required_field_div:"Trường div yêu cầu nhanh",current_scan_action_prototype:"Nguyên mẫu hành động quét hiện tại",distributed_result:"Kết quả phân phối",you_dont_any_operation:"Bạn không thực hiện bất kỳ hoạt động nào.",write_or_scan_barcode:"Viết hoặc quét mã vạch.",write_related_columns:"Viết các cột liên quan.",write_scan_action_note:"Viết ghi chú hành động quét.",write_number:"Viết số",select_scan_action:"Chọn hành động quét",select_pack_taget_parent:"Chọn gói phụ huynh.",select_pack_taget:"Chọn gói thẻ",select_target_layer:"Chọn lớp mục tiêu",selected_operation:"Hoạt động được chọn",distributed:{please_select:"Xin hãy lựa chọn",current_station:"trạm hiện tại",can_use_distributed_to_mode:"có thể sử dụng chế độ phân tán."}},alerts:{is_created:"Được tạo ra",required:"Cần thiết",previous:"Trước",give_up:"Bỏ cuộc",definite:"Xác định",please_write:"Làm ơn hãy viết",required_field:"Phần bắt buộc",if_have_write:"Nếu có, hãy viết nó",upload_receipt_img:"Tải lên biên nhận img",upload_result:"Tải lên kết quả",uploading:"Đang tải lên",please_write_scan_note:"Hãy viết ghi chú quét"},operations:{total:"Toàn bộ: {operations_length} hoạt động，{sum_core_waybills} vận đơn",contents:"vận đơn",current_operation_set_to:"Hoạt động hiện tại được đặt thành",clear_current_operation:"Xóa hoạt động hiện tại"},success:{quick_setting:"Cài đặt nhanh thành công"},errors:{multiple_numbers_in_batch_mode:"Nhiều số trong chế độ hàng loạt.",setting_group_not_found:"Không tìm thấy nhóm cài đặt.",setting_not_found:"Không tìm thấy cài đặt.",core_waybill_not_found:"không tìm thấy vận đơn.",failed_to_fetch_core_waybill_statuses:"Không thể chuyển trạng thái vận đơn.",failed_to_instantiate_scan_action_prototype:"Không thể khởi tạo nguyên mẫu hành động quét.",failed_to_update_core_waybill_related_column:"Không thể cập nhật các cột liên quan đến vận đơn.",give_up_core_waybill_related_columns:"Từ bỏ các cột liên quan đến vận đơn.",give_up_scan_action_description:"Từ bỏ mô tả hành động quét.",give_up_create_core_waybill:"Hãy từ bỏ việc tạo ra vận đơn."}},pages:{customer_home:{title:"Bienvenido a la cử chỉ khách hàng"},partials:{page_404:{cant_find_page:"Không thể tìm thấy trang."},permission_denied:{you_dont_permission:"Bạn không cho phép."},login_expiration_hint_modal:{idle:"Nhàn lạc",content:"Hệ thống phát hiện ra rằng bạn đã không sử dụng trong một thời gian dài，{time} sẽ tự động đăng xuất.",i_am_back:"Tôi nhận lại"}},login:{customer_management_login:"Bảng điều khiển khách hàng",provider_management_login:"Bảng điều khiển nhà cung cấp",station_management_login:"Bảng điều khiển trạm",please_enter_your_account_and_password:"Đăng nhập",account:"Tài khoản",password:"Mật khẩu",verification_code:"Mã xác nhận",pass_next_timeout_will_dont_warn:"Vượt qua thời gian chờ tiếp theo, sẽ không cảnh báo.",btns:{auto_input_test_account:"Kiểm tra tài khoản",login:"Đăng nhập"},errors:{your_site_has_not_registered_system:"Trang web của bạn chưa được đăng ký hệ thống",please_fill_in_the_verification_code:"Vui lòng điền mã xác minh",account_or_password_incorrect:"Tài khoản hoặc mật khẩu không chính xác",verification_code_incorrect:"Mã xác minh không chính xác",verification_code_expired:"Mã xác minh đã hết hạn",failure_to_login:"Không đăng nhập được",timeout:"Tự động đăng xuất sau khi nhàn rỗi quá lâu."}},appraisals:{point:"Điểm",reason:"Lý do",staff_identity:"Cán bộ",registrant_identity:"Người đăng ký"},monitor:{menu_title:{all:"Tất cả các",myself:"Riêng tôi",station:"Ga tàu"},title:{all_pending_operations:"Tất cả các hoạt động đang chờ xử lý",all_pending_waybills:"Tất cả các vận đơn đang chờ xử lý",pending_operations:"Hoạt động đang chờ xử lý",pending_waybill_in_operations:"Đang chờ vận đơn trong hoạt động",pending_waybills:"Vận đơn đang chờ xử lý"},sub_title:{not_completed_operations:"Chưa hoàn thành các hoạt động",not_completed_waybills:"Vận đơn chưa hoàn thành",assigned_to_me_but_not_completed_operations:"Được giao cho tôi nhưng không hoàn thành các hoạt động",assigned_to_me_but_not_completed_waybill_in_operations:"Được giao cho tôi nhưng chưa hoàn thành vận đơn trong hoạt động",the_unfinished_waybill_that_was_last_my_scanned:"Vận đơn chưa hoàn thành cuối cùng được quét của tôi",assigned_to_stationg_but_not_completed_operations:"Được gán cho <span style='color: green;'>{Station_name}</span> nhưng chưa hoàn thành các hoạt động",assigned_to_stationg_but_not_completed_waybill_in_operations:"Được gán cho <span style='color: green;'>{Station_name}</span> nhưng chưa hoàn thành vận đơn trong các hoạt động"}},assets:{categories:"Thể loại",print_barcode:"In mã vạch",have_category:"Có thể loại",clear_value:"Xóa giá trị",helps:{no_anything_category:"Không có gì cả",no_anything_assets:"Không có tài sản gì cả",write_or_use_category_list:"Viết hoặc sử dụng danh sách danh mục",please_clicked_upper_left_new_asset_button:"Vui lòng nhấp vào nút tài sản mới bên trái phía trên. "}},customer_contracts:{additional_information:"Thông tin thêm"},customers:{contracts:"Hợp đồng",normal:"Bình thường",banned:"Cấm",unbanned:"Không có người điều khiển",is_banned:"Đã bị cấm",basic_information:"Thông tin cơ bản",common_sender_information:"Thông tin người gửi thông thường",common_consignee_information:"Thông tin người nhận hàng thông thường",is_open_use_associated_partition:"Được sử dụng mở 「Phân vùng liên kết」",is_open_use_use_yourself_partition:"Đang mở sử dụng 「Sử dụng phân vùng chính mình」",helps:{the_password_does_not_match_the_confirmation_password:"Mật khẩu không khớp với mật khẩu xác nhận. "}},distributions:{activated:"Đã kích hoạt",unactivated:"Chưa hoạt động",add_condition:"Thêm điều kiện",add_condition_help:"Cách viết điều kiện？",add_condition_help_content_1:"1. 同樣條件類型的項目會做OR比對，不同條件類型的項目是做AND比對，例如：直轄市台北市+直轄市區信義區+直轄市區中正區+直轄市新北市+直轄市區新店區五個條件，符合本區配送條件的地址有台北市信義區、台北市中正區及新北市新店區",add_condition_help_content_2:"2. Vui lòng viết tên đầy đủ của Trung Quốc",condition_type:"Loại điều kiện",content:"Nội dung",undo:"Hủy bỏ",filter:{direct:"Thẳng thắn",intermodal:"Đa phương "}},driver_commissions:{driver:"Người lái xe",no_done:"Không xong",core_waybill_number:"Số vận đơn "},driver_commission_policies:{activated_switch:"Công tắc được kích hoạt",activated:"Đã kích hoạt",pickup:"Nhặt lên",bag:"Túi",table:{general_pickup:"Đón chung",general_delivery:"Phòng thư lưu",bag_pick:"Chọn túi",bag_delivery:"Giao túi",is_activated:"Được kích hoạt",first_weight:"Trọng lượng đầu tiên",first_price:"Giá đầu tiên",follow_up_weight:"Theo dõi cân nặng",follow_up_price:"Theo dõi giá "}},driver_commission_reports:{total_amount_of_commission:"Tổng số tiền hoa hồng",print:"In",setting:"Cài đặt",print_setting:"Cài đặt in",detailed_mode:"Chế độ chi tiết",from:"Từ",to:"Đến",status:"Trạng thái",no_select_date:"Không chọn ngày",start_all:"Bắt đầu tất cả",go_to_report:"Đi báo cáo",table:{pickup_details:"Chi tiết đón khách",dispatch_details:"Công văn chi tiết",No:"Không.",number:"Con số",weight:"Cân nặng",date:"Ngày",commission:"Hoa hồng (đô la)",total:"Toàn bộ"},filter:{staff_name:"Tên nhân viên",begin_at:"Bắt đầu tại",end_at:"Kết thúc tại",total_amount_from:"Tổng số tiền từ ...",total_amount_to:"Tổng số tiền để ...",created_at:"Tạo tại "}},nodes:{company_information:"Thông tin công ty"},operations:{provider_note_value:"Tên người gửi: \nSender điện thoại: \n",processing:"Chế biến",contract:"Hợp đồng",schedule:"Lịch trình",waybill_amount:"Số tiền",print_receipt:"Biên lai in",print_coew_waybill_labels:"In nhãn vận đơn coew",print_coew_waybill_checklist:"In danh sách kiểm tra vận đơn coew",delete_help:"Hoạt động bỏ đi, nhà Gói 、 Vận đơn sẽ bị xóa.",_name_operation_list:"{name} danh sách hoạt động",_name_customer_receipt:"{name} biên nhận của khách hàng",helps:{please_confirm_sender_and_contract_are_selected:"Vui lòng xác nhận người gửi và hợp đồng được chọn. "},table:{finish:"Hoàn thành",total:"Toàn bộ"}},partitions:{automatic_number:"Số tự động",use_yourself:"Sử dụng chính mình",statistics:"Số liệu thống kê",total_amount:"Tổng cộng",available_quantity:"Số lượng có sẵn",if_use_it_yourself_do_not_write:"Nếu tự mình sử dụng, đừng viết"},uploader:{redo:"Làm lại",open_file:"Mở tệp",operation_list:"Danh sách hoạt động",upload_operation_list:"Tải lên danh sách hoạt động",selected:"Đã chọn",contract:"Hợp đồng",your_actions:"Hành động của bạn",operation_order:"Hoạt động",field_data_succeeded:"Dữ liệu thực địa đã thành công",checking_waybill_data_ok:"Kiểm tra dữ liệu vận đơn ok",checking_operation_data_ok:"Kiểm tra dữ liệu vận hành ok",upload_detail_completed:"Chi tiết tải lên đã hoàn thành",continue_next_file:"Tiếp tục tập tin tiếp theo",materialization_operation:"Hoạt động vật chất hóa",consignment:"Lô hàng",delivery:"Chuyển",total:"Toàn bộ",total__number:"Toàn bộ: {number}",dimmer:{what_do_you_want_now:"Bạn muốn gì",please_upload_your_file:"Vui lòng tải lên tập tin của bạn",download_sample_file:"Tải xuống tệp mẫu",clicked_this_card_redo:"Nhấp vào làm lại thẻ này",select_file:"Chọn tập tin"},steps:{title:{operation:"Hoạt động",confirm_data:"Xác nhận dữ liệu",upload_data:"Tải dữ liệu lên"},description:{operation_content:"Nội dung hoạt động",confirm_data_is_correct:"Xác nhận dữ liệu là chính xác",upload_data_to_server:"Tải dữ liệu lên máy chủ"}},file:{name:"Tên tệp",size:"Kích thước tập tin",path:"Đường dẫn tập tin",upload:"Tải tệp lên",complete:"Hoàn thành",not_uploaded:"Không được tải lên"},column_verification:{required_field:"Phần bắt buộc",unknown_waybill:"Vận đơn không xác định"}},scan_action_prototypes:{binding_material:"Vật liệu kết dính",print_barcodes:"In mã vạch",field_name:"Tên trường",value:"Giá trị"},staffs:{appraisals:"Thẩm định",normal:"Bình thường",banned:"Cấm",unbanned:"Không có người điều khiển",is_banned:"Đã bị cấm"},user_logs:{record_object:"Ghi lại đối tượng",operator:"Nhà điều hành",field_name:"Tên trường",value:"Giá trị",yes:"Vâng",no:"Không"},core_waybills:{done:"Làm xong",print_filter_result_labels:"In nhãn",export_csv_file:"Xuất CSV",export_clearance_csv_file:"Xuất khẩu giải phóng mặt bằng CSV",export_daily_csv_file:"Xuất CSV hàng ngày",download_daily_csv_file:"Tải xuống CSV hàng ngày",please_select_partition:"Vui lòng chọn phân vùng",back_to_select_partition:"Quay lại chọn phân vùng",partition_number_from:"Số từ",partition_number_to:"Số thành",again:"Lần nữa",upload_picture:"Tải ảnh lên",no_upload_any_picture:"Không tải lên bất kỳ hình ảnh nào",system_generation:"Tạo hệ thống",have_contained_status:"có trạng thái",status:{"可使用":"Có thể sử dụng","使用中":"Sử dụng","曾經使用過":"Đã sử dụng","可放行":"Đáng tin cậy","放行中":"Phát hành","曾經放行過":"Phát hành lại","可點交":"Đáng tin cậy","點交中":"Giải phóng","曾經點交過":"Phát hành lại","可收貨":"Biên lai","收貨中":"Nhận","曾經收貨過":"Đã nhận","可進站":"Có thể kiểm tra","進站中":"Đang kiểm tra","曾經進站過":"Đã kiểm tra","可配送":"Có thể thay đổi","配送中":"Chuyển đổi nhanh","曾經配送過":"Chuyển đổi","可回站":"Trả lại","回站中":"Trở về","曾經回站過":"Trả lại","可配達":"Đã xong","配達中":"Đang quyên góp","曾經配達過":"Được tặng","可中轉":"Có thể chuyển nhượng","中轉中":"Chuyển nhượng","曾經中轉過":"Đã chuyển nhượng","可聯運":"Không thể thay đổi","聯運中":"Đa biến","曾經聯運過":"Đa biến","可異常件":"Ngoại lệ","異常件中":"Ngoại lệ","曾經異常件過":"Ngoại lệ","可鎖定":"Có thể khóa","鎖定中":"Khóa","曾經鎖定過":"Đã khóa","可完成":"Đã xong","完成中":"Đang quyên góp","曾經完成過":"Được tặng",USABLE:"Hoa Kỳ",CHECKABLE:"KIỂM TRA",SHIPPABLE:"CHIA SẺ",SHIPPING:"ĐANG CHUYỂN HÀNG",TRANSFERING:"CHUYỂN GIAO",EXCEPTIONABLE:"TUYỆT VỜI",EXCEPTIONING:"NGOẠI TRỪ",SENDER_REGRETABLE:"GỬI ĐĂNG KÝ",CHECKING:"KIỂM TRA",TRANSFERABLE:"CHUYỂN GIAO",INTERMODALABLE:"TƯƠNG TÁC",INTERMODALING:"GIAO DỊCH",RELEASABLE:"Đáng tin cậy",CAN_HAND_OVER:"CÓ THỂ TAY QUÁ",LOCKING:"KHÓA",IS_DONE:"ĐÃ XONG",system:"Hệ thống",condition:"điều kiện",administrator:"người quản lý",operator:"Nhà điều hành",forwarder:"Giao nhận",public:"Công cộng",mark:"dấu",no_latest_status:"Không có trạng thái mới nhất"},filter:{find__key:"Tìm {key} ...",find_number:"Tìm số ...",clear:"Thông thoáng",numbers:"Số",waybill_content:"Nội dung vận đơn",status:"Trạng thái",have_contained:"Có chứa",selected_is_used:"Đã chọn is_use",is_used:{true:"Đã sử dụng",flase:"Không được sử dụng"},material:"Vật chất",selected_material:"Vật liệu được chọn",selected_station:"Ở đâu",selected_staff:"Người nào",selected_status:"Trạng thái",selected_status_scope:"Phạm vi",selected_polarity:"Cực tính",polarity:{positive:"Là",negative:"Không được ở"},status_depiction:{now:"Hiện nay",at_the:"tại",in_the:"bên trong",by:"bởi",handle:"xử lý",before_by:"Trước bởi",added:"thêm"}}}},toolbox:{back_to_top_button:{back_to_top:"Trở lại đầu trang"},bulletin_board:{name:"Bảng thông báo",message:"Thông điệp",no_messages:"Không có tin nhắn!",talk_your_comment:"Nói bình luận của bạn"},crud_templates:{new:"Mới"},core_waybills_label_svg:{labels:{paper_type:"Loại giấy"},btns:{print:"In"},helps:{numbers_input:"Số ví dụ: 123,456,789"},errors:{no_authentication_token:"Không có xác thực_token",no_number:"Hãy viết số"}},core_waybill:{parent_core_waybill:"Vận đơn của phụ huynh",child_core_waybill:"Vận đơn trẻ em",no_any_parent_and_child_waybill:"Không có bất kỳ vận đơn nào của cha mẹ và con cái",use_partition:"Vách ngăn",partition_number_from:"Số từ",partition_number_to:"Số thành",btns:{label:"Nhãn",print:"In",update:"Ngày hôm nay",switch_style:"Chuyển đổi phong cách",simple:"Đơn giản",detail:"Chi tiết"},helps:{source:"Nguồn",is_deleted:"Đã xóa, vui lòng quay lại.",tooltip_have_source_core_waybill:"Dữ liệu vận đơn hiện tại là từ {number}, Nhấp để chỉnh sửa"},errors:{please_clicked_initialize_again:"Vui lòng nhấp, khởi tạo lại.",change_template_error:"Thay đổi lỗi mẫu.",no_number:"Không có số.",invalid_loading_image:"Tải hình ảnh không hợp lệ.",waybill_no_label_class_cant_print:"Vận đơn không có lớp nhãn không thể in.",props_is_can_print_label_unable:"Đạo cụ là_can_print_label không thể.",no_label_type:"Không có loại nhãn.",label_type_error:"Lỗi loại nhãn.",label_paper_type_error:"Lỗi nhãn loại giấy."}},core_waybills:{quick_update_table:"Bảng cập nhật nhanh",quick_update:"Cập nhật nhanh",batch_edit:"Chỉnh sửa hàng loạt",no_station:"Không có trạm",packed_in:"Đóng gói trong",deleted:"Đã xóa",add_table:"Thêm bảng"},operation_summary:{print_operation_list:"Danh sách thao tác in",table:{sender_signature:"Chữ ký người gửi",driver_signature:"Chữ ký tài xế"}},receipts:{print_receipt:"Biên lai in"},stations_modal:{turn_of_GPS:"Biến GPS",turn_on_GPS:"Bật GPS",turn_on_auto_tracking:"Bật theo dõi tự động",modify_current_station:"Thay đổi trạm hiện tại",please_select_the_current_station:"Vui lòng chọn trạm hiện tại",you_are_not_a_manager_will_modify_station_please_contact_the_manager:"Bạn không phải là người quản lý, sẽ sửa đổi trạm, vui lòng liên hệ với người quản lý",you_do_not_belong_station_will_update_your_data_after_selection:"Bạn không thuộc về trạm, sẽ cập nhật dữ liệu của bạn sau khi chọn",current_station:"Trạm hiện tại",tracking_GPS:"Theo dõi GPS",decisioning:"Quyết định",cancel_current_station:"Hủy trạm hiện tại",btns:{track_once:"Theo dõi (một lần)",auto_tracking_every_minute:"Theo dõi tự động (mỗi phút)"},errors:{geolocation_is_not_supported_by_this_browser:"Định vị địa lý không được trình duyệt này hỗ trợ. ",your_web_protocol_is_not_HTTPS:"Giao thức web của bạn không phải là HTTPS, Xem https://goo.gl/rStTGz. ",get_location_failure:"Nhận thất bại vị trí. "}},speed_test:{network_quality:"Chất lượng mạng "},my_receipts:{neme:"Biên lai của tôi ",force_current_station:"Buộc trạm hiện tại ",print:"{page} In {note} ",customer_receipt:"Biên lai khách hàng "},notifications:{mark_all_read:"Đánh dấu tất cả đã đọc",no_new_notifications:"Không có thông báo mới"}},el:{colorpicker:{confirm:"ĐƯỢC",clear:"Thông thoáng"},daterange_option_shortcut:{today:"Hôm nay",three_days:"Ba ngày",week:"Tuần",month:"Tháng",three_months:"Ba tháng",six_months:"Sáu tháng"},datepicker:{now:"Hiện nay",today:"Hôm nay",cancel:"Hủy bỏ ",clear:"Thông thoáng",confirm:"ĐƯỢC",selectDateTime:"Chọn ngày và giờ ",selectDate:"Chọn ngày",selectTime:"Chọn thời gian ",startDate:"Ngày bắt đầu ",startTime:"Thời gian bắt đầu",endDate:"Ngày cuối",endTime:"Thời gian kết thúc",prevYear:"Năm trước",nextYear:"Năm sau",prevMonth:"Tháng trước",nextMonth:"Tháng tiếp theo",year:"năm",month1:"Tháng Giêng",month2:"Tháng hai",month3:"Tháng Ba",month4:"Tháng 4 ",month5:"Có thể",month6:"Tháng Sáu ",month7:"Tháng 7 ",month8:"Tháng Tám",month9:"Tháng Chín",month10:"Tháng Mười",month11:"Tháng 11 ",month12:"Tháng 12 ",week:"tuần",weeks:{sun:"Mặt trời",mon:"Môn",tue:"Tuệ",wed:"Thứ Tư",thu:"Thu",fri:"Thứ sáu",sat:"Ngồi"},months:{jan:"Tháng giêng",feb:"Tháng Hai",mar:"Tháng ba",apr:"Tháng Tư",may:"Có thể",jun:"Tháng Sáu",jul:"Tháng Bảy",aug:"Tháng 8",sep:"Tháng chín",oct:"Tháng 10",nov:"Tháng 11",dec:"Tháng 12"}},select:{loading:"Tải",noMatch:"Không có dữ liệu phù hợp",noData:"Không có dữ liệu",placeholder:"Lựa chọn"},cascader:{noMatch:"Không có dữ liệu phù hợp ",loading:"Tải",placeholder:"Lựa chọn"},pagination:{goto:"Đi đến",pagesize:"Dự án/Trang",total:"Toàn bộ {total} Trang",pageClassifier:"Trang"},messagebox:{title:"Thông điệp",confirm:"ĐƯỢC",cancel:"Hủy bỏ",error:"Đầu vào bất hợp pháp"},upload:{deleteTip:"nhấn xóa để xóa",delete:"Xóa bỏ",preview:"Xem trước",continue:"Tiếp tục"},table:{emptyText:"Không có dữ liệu",confirmFilter:"Xác nhận",resetFilter:"Cài lại",clearFilter:"Tất cả các",sumText:"Tổng hợp"},tree:{emptyText:"Không có dữ liệu"},transfer:{noMatch:"Không có dữ liệu phù hợp",noData:"Không có dữ liệu",titles:["Danh sách 1","Danh sách 2"],filterPlaceholder:"Nhập từ khóa",noCheckedFormat:"{total} mặt hàng",hasCheckedFormat:"{checked}/{total} đã kiểm tra"}}}}},"0498":function(e,t,i){"use strict";var n=i("26f9"),a=i.n(n);a.a},"0515":function(e){e.exports={manager:["provider_index","scan","status_prototypes","stations","provider_partitions","provider_uploader","materials","core_waybills","provider_operations","permission_groups","roles","staffs","user_logs","scan_action_prototypes","provider_node","provider_customers","scanner"],operator:["provider_operations","provider_uploader","core_waybills","scanner"],driver:["assets","provider_operations","scanner"],staff:["status_prototypes","stations","provider_partitions","customer_nodes","provider_uploader","materials","core_waybills","provider_operations","staffs","user_logs","scan_action_prototypes","scanner"],default:[],exception:[]}},"0542":function(e,t,i){},"055e":function(e,t,i){"use strict";var n=i("5aee"),a=i.n(n);a.a},"05d3":function(e,t,i){},"0706":function(e,t,i){},"0743":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{margin:"1rem 0"},attrs:{id:"top_menu"}},[i("div",{staticClass:"menus",staticStyle:{"text-align":"right"}},[i("div",{staticClass:"ui compact menu"},[e.show_receipts?i("div",{staticClass:"item",attrs:{"data-tooltip":e.$t("ui.links.top_menu.my_receipts"),"data-position":"bottom center"}},[i("MyReceipts")],1):e._e(),e.show_check_summary?i("div",{staticClass:"item",attrs:{"data-tooltip":e.$t("ui.links.top_menu.print_check_summary"),"data-position":"bottom center"}},[i("CheckSummary")],1):e._e(),i("div",{staticClass:"item mobile hidden",attrs:{"data-tooltip":e.$t("ui.links.top_menu.scanner")+"（"+e.$t("ui.general.hot_key")+"：Ctrl + Q）","data-position":"bottom center"}},[i("div",{staticClass:"ui icon button",on:{click:function(t){e.$bus.$emit("toggle_scanner_modal","show")}}},[i("i",{staticClass:"barcode large icon"})])])]),i("div",{staticClass:"ui compact menu"},[i("div",{staticClass:"item",attrs:{"data-tooltip":e.$t("ui.links.top_menu.notice"),"data-position":"bottom center"}},[i("Notifications")],1),i("div",{staticClass:"item",attrs:{"data-tooltip":e.$t("ui.links.top_menu.language"),"data-position":"bottom center"}},[i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui icon dropdown top right pointing button"},[i("i",{staticClass:"globe large icon"}),i("div",{staticClass:"menu"},[i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("zh-TW")}}},[e._v("繁體")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("zh-CN")}}},[e._v("简体")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("en-US")}}},[e._v("English")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("ja-JP")}}},[e._v("日本語")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("es-ES")}}},[e._v("Español")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("vi-VN")}}},[e._v("Tiếng Việt")])])])]),i("div",{staticClass:"item"},[i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui icon dropdown top right pointing button"},[i("i",{staticClass:"setting large icon"}),i("div",{staticClass:"menu"},[i("div",{staticClass:"header"},[e._v("\n                            "+e._s(e.current_staff.name)+"\n                        ")]),i("a",{staticClass:"item",on:{click:e.$parent.logout}},[e._v("\n                            "+e._s(e.$t("ui.links.top_menu.logout"))+"\n                        ")]),i("a",{staticClass:"item",on:{click:function(t){e.$parent.logout(!0)}}},[e._v("\n                            "+e._s(e.$t("ui.links.top_menu.full_logout"))+"\n                        ")])])])]),i("div",{staticClass:"item"},[i("SpeedTest")],1)])]),i("div",{staticClass:"clear"})])},a=[],r=i("16e6"),s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"my_receipts"},[i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui icon dropdown button"},[i("i",{staticClass:"newspaper large icon"}),i("div",{staticClass:"menu"},[i("div",{staticClass:"custom_item"},[i("el-date-picker",{staticClass:"next_input_row",staticStyle:{width:"180px !important"},attrs:{"unlink-panels":"",type:"datetimerange",align:"center","start-placeholder":e.$t("ui.el.datepicker.startDate"),"end-placeholder":e.$t("ui.el.datepicker.endDate"),"picker-options":e.$store.state.element_ui_datepicker_daterange_options},model:{value:e.dates,callback:function(t){e.dates=t},expression:"dates"}})],1),i("div",{staticClass:"item",on:{click:function(t){t.preventDefault(),e.print_my_receipts("A4")}}},[e._v("\n                "+e._s(e.$t("ui.toolbox.my_receipts.print",{page:"A4"}))+"\n            ")]),i("div",{staticClass:"item",on:{click:function(t){t.preventDefault(),e.print_my_receipts("A5")}}},[e._v("\n                "+e._s(e.$t("ui.toolbox.my_receipts.print",{page:"A5"}))+"\n            ")]),i("div",{staticClass:"item",on:{click:function(t){t.preventDefault(),e.force_location_print_my_receipts("A4")}}},[e._v("\n                "+e._s(e.$t("ui.toolbox.my_receipts.print",{page:"A4",note:"("+e.$t("ui.toolbox.my_receipts.force_current_station")+")"}))+"\n            ")]),i("div",{staticClass:"item",on:{click:function(t){t.preventDefault(),e.force_location_print_my_receipts("A5")}}},[e._v("\n                "+e._s(e.$t("ui.toolbox.my_receipts.print",{page:"A5",note:"("+e.$t("ui.toolbox.my_receipts.force_current_station")+")"}))+"\n            ")])])]),i("Receipts",{attrs:{show_buttons:!1,default_search_params:{condition:{current_ship:1,current_operator_identity:e.current_staff.identity},material:{class_names:"Waybill"},pagination:!1},logo_url:"/images/"+e.current_node.company_en_name.replace(/(?:^|\.|\s?)([A-Z])/g,function(e,t){return"_"+t.toLowerCase()}).replace(/^_/,"")+"_logo.jpg",title:e.current_node.company_short_name+" "+e.$t("ui.toolbox.my_receipts.customer_receipt"),sub_title:e.current_node.website_url,customer_service_hotline:e.current_node.customer_service_hotline,logistician:e.current_staff,channel_name:e.channel_name}}),i("Receipts",{attrs:{show_buttons:!1,default_search_params:{condition:{current_ship:1,current_operator_identity:e.current_staff.identity},material:{class_names:"Waybill"},pagination:!1},logo_url:"/images/"+e.current_node.company_en_name.replace(/(?:^|\.|\s?)([A-Z])/g,function(e,t){return"_"+t.toLowerCase()}).replace(/^_/,"")+"_logo.jpg",title:e.current_node.company_short_name+" "+e.$t("ui.toolbox.my_receipts.customer_receipt"),sub_title:e.current_node.website_url,force_location:e.current_staff.station?e.current_staff.station.name:"",customer_service_hotline:e.current_node.customer_service_hotline,logistician:e.current_staff,channel_name:e.force_location_channel_name}})],1)},o=[],c=i("a808");function _(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function l(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){_(r,n,a,s,o,"next",e)}function o(e){_(r,n,a,s,o,"throw",e)}s(void 0)})}}var u={data:function(){return{dates:"",channel_name:"my_receipts",force_location_channel_name:"force_location_my_receipts"}},computed:{current_node:function(){return this.$store.state.station.current_node},current_staff:function(){return this.$store.state.station.current_staff}},created:function(){},mounted:function(){},watch:{},methods:{print_my_receipts:function(){var e=l(regeneratorRuntime.mark(function e(){var t,i,n=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=n.length>0&&void 0!==n[0]?n[0]:"A5",i=this,i.$bus.$emit(i.channel_name,t);case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),force_location_print_my_receipts:function(){var e=l(regeneratorRuntime.mark(function e(){var t,i,n=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=n.length>0&&void 0!==n[0]?n[0]:"A5",i=this,i.$bus.$emit(i.force_location_channel_name,t);case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{Receipts:c["a"]}},d=u,p=i("2877"),m=Object(p["a"])(d,s,o,!1,null,"0aaf83ee",null),f=m.exports,v=i("f7cf"),h=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"my_check_summaries"},[i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui icon dropdown button"},[i("i",{staticClass:"clipboard check large icon"}),i("div",{staticClass:"menu",staticStyle:{"min-width":"280px"}},[i("div",{staticClass:"header"},[i("CheckSummary",{attrs:{scope:"provider",default_search_params:{pagination:!1,condition:{name:"current_handover",polarity:!0,updated_at:{from:e.latest_condition_from,to:e.latest_condition_to}}},channel_name:e.channel_name,title:"貨物交予 點交單",sub_title:e.current_node.website_url,customer_service_hotline:e.current_node.customer_service_hotline,logo_url:e.logo_url,show_buttons:!1,show_contents:!1}})],1),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"custom_item"},[i("el-date-picker",{staticClass:"next_input_row",attrs:{"unlink-panels":"",type:"datetimerange",size:"small",align:"center","start-placeholder":e.$t("ui.el.datepicker.startDate"),"end-placeholder":e.$t("ui.el.datepicker.endDate"),"picker-options":e.$store.state.element_ui_datepicker_daterange_options},model:{value:e.latest_condition_dates,callback:function(t){e.latest_condition_dates=t},expression:"latest_condition_dates"}})],1),i("div",{staticClass:"custom_item",on:{click:function(t){t.preventDefault(),e.refresh_data("custom_check_summaries")}}},[e._v("抓取以上時間")]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"custom_item",on:{click:function(t){t.preventDefault(),e.refresh_data("last24_check_summaries")}}},[e._v("抓取過去24小時")]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"custom_item",on:{click:function(t){t.preventDefault(),e.refresh_data("all_check_summaries")}}},[e._v("抓取所有時間")]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"item",on:{click:function(t){t.preventDefault(),e.print("NormalLayout")}}},[e._v("印出(A4)")]),i("div",{staticClass:"item",on:{click:function(t){t.preventDefault(),e.print("SimpleLayout")}}},[e._v("印出(連續紙)")])])])])},g=[],b=i("21b8");function y(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function w(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){y(r,n,a,s,o,"next",e)}function o(e){y(r,n,a,s,o,"throw",e)}s(void 0)})}}var k={data:function(){return{sender_name:null,consignee_name:null,channel_name:"check_summaries",latest_condition_from:null,latest_condition_to:null,latest_condition_dates:null}},computed:{current_node:function(){return this.$store.state.station.current_node},current_staff:function(){return this.$store.state.station.current_staff},logo_url:function(){var e=this;if(e.$store.state.station.current_node.company_en_name)return"/images/"+e.$store.state.station.current_node.company_en_name.replace(/(?:^|\.|\s?)([A-Z])/g,function(e,t){return"_"+t.toLowerCase()}).replace(/^_/,"")+"_logo.jpg";switch(e.$store.state.station.current_node.service_name){case"neuron":return"/images/neuron_logo.png";case"axon":return"/images/axon_logo.png";default:return"/images/tw568_logo.png"}}},created:function(){},mounted:function(){},watch:{},methods:{refresh_data:function(){var e=w(regeneratorRuntime.mark(function e(t){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i=this,e.next=3,new Promise(function(e){switch(t){case"last24_check_summaries":i.latest_condition_from=i.human_datetime(Date.now()-864e5,null),i.latest_condition_to=i.human_datetime(Date.now(),null);break;case"all_check_summaries":i.latest_condition_from=null,i.latest_condition_to=null;break;case"custom_check_summaries":if(!i.latest_condition_dates)throw new Error("empty_date");i.latest_condition_from=i.$moment(i.latest_condition_dates[0]).format("YYYY-MM-DDTHH:mm:ss+08:00"),i.latest_condition_to=i.$moment(i.latest_condition_dates[1]).format("YYYY-MM-DDTHH:mm:ss+08:00");break}e()})["catch"](function(e){switch(e.message){case"empty_date":i.$noty.error("請選擇日期");break}return Promise.reject(e.message)});case 3:return e.next=5,i.$nextTick(function(){i.$bus.$emit(i.channel_name,"refresh_data")});case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),print:function(e){var t=this;t.$bus.$emit(t.channel_name,"print",e)}},components:{CheckSummary:b["a"]}},C=k,x=Object(p["a"])(C,h,g,!1,null,"3d0814d2",null),P=x.exports,S={data:function(){return{window_width:$(window).width()}},mounted:function(){var e=this;$(window).resize(function(){e.window_width=$(window).width()})},computed:{current_staff:function(){return this.$store.state.station.current_staff},current_service_name:function(){return this.$store.state.station.current_node.service_name},show_receipts:function(){return["neuron_premium","neuron","neuron_lite"].includes(this.current_service_name)},show_check_summary:function(){return["neuron_premium","axon_premium","axon","axon_lite"].includes(this.current_service_name)}},methods:{change_i18n:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"zh-TW";localStorage.setItem("language",e),this.$store.state.language=e}},components:{SpeedTest:r["a"],MyReceipts:f,Notifications:v["a"],CheckSummary:P}},N=S,A=(i("b76e"),i("d975"),Object(p["a"])(N,n,a,!1,null,"5b32ec35",null));t["a"]=A.exports},"0794":function(e){e.exports={models:{_comment:"關聯表名稱不在此上面",appraisals:"Tasaciones",assets:"Bienes",comments:"Comentarios",contracts:"Los contratos",conversion_attributes:"Atributos de conversión",converters:"Convertidores",core_waybills:"Cartas de ruta principales",customers:"Clientes",quotations:"Cotizaciones",distributions:"Distribuciones",distribution_conditions:"Condiciones de distribucion",driver_commissions:"Driver_commissions",driver_commission_policies:"Políticas de comisiones del conductor.",driver_commission_reports:"Informes de comisiones de conductores",logs:"Troncos",materials:"Materiales",nodes:"Nodos",operations:"Operaciones",partitions:"Particiones",permissions:"Permisos",permission_groups:"Grupos de permisos",roles:"Roles",staffs:"Personal",stations:"Estaciones",scan_actions:"Acciones de escaneo",status_prototypes:"Prototipos de estado",scan_action_prototypes:"Prototipos de acción de escaneo.",attributes:{assets:{barcode:"Código de barras",number:"Número",category:"Categoría",note:"Nota",node_identity:"Nodo"},converters:{name:"Nombre",number:"Número",provider_node_identity:"Provider_node_identity",customer_node_identity:"Ccustomer_node_identity",customer_identity:"identidad del cliente",carrier_class:"Categoría portadora",proxy_contract_identity:"Proxy_contract_identity",third_party_api_data:"Third_party_api_data",note:"Nota"},customer_contracts:{name:"Nombre",number:"Número",carrier_class:"Clase portadora",proxy_contract:"Contrato de proxy",third_party_api_data:"Datos de API de terceros",note:"Nota"},customers:{username:"Nombre de usuario",password:"Contraseña",password_confirmation:"confirmación de contraseña",authentication_token:"API Token",company_name:"Nombre de empresa",company_short_name:"Nombre corto de la compañía",company_en_name:"Nombre de la compañía en inglés",email:"Email",phone:"Teléfono",fax:"Fax",website_url:"URL del sitio web",default_sender_zip_code:"Sender ZIP code",default_sender_company_name:"Nombre de la empresa del remitente",default_sender_address:"Dirección del remitente",default_sender_name:"Nombre del remitente",default_sender_phone:"Telefono remitente",default_sender_email:"Correo electrónico del remitente",default_sender_fax:"Fax remitente",default_sender_url:"URL del remitente",default_consignee_zip_code:"Consignee ZIP code",default_consignee_company_name:"Nombre de la empresa del consignatario",default_consignee_address:"Dirección del consignatario",default_consignee_name:"Nombre del destinatario",default_consignee_phone:"Teléfono del consignatario",default_consignee_email:"Correo electrónico del consignatario",default_consignee_fax:"Fax del consignatario",can_use_associated_partitions:"Puede usar particiones asociadas",is_banned:"Está prohibido"},conditions:{core_waybill_identity:"Hoja de ruta",scan_action_prototype_identity:"SAP",condition_type:"tipo de condición",can_use:"puedo usar",current_use:"uso actual",already_use:"ya uso",can_release:"puede liberar",current_release:"lanzamiento actual",already_release:"ya liberado",can_handover:"puede entregar",current_handover:"entrega actual",already_handover:"ya entrega",can_collect:"puede recoger",current_collect:"coleccion actual",already_collect:"ya colecciona",can_check:"poder revisar",current_check:"cheque actual",already_check:"ya cheque",can_ship:"puede enviar",current_ship:"nave actual",already_ship:"ya nave",can_back:"puede volver",current_back:"corriente actual",already_back:"Ya de regreso",can_delivered:"puede entregado",current_delivered:"actual entregado",already_delivered:"Ya esta entregado",can_transfer:"puede transferir",current_transfer:"transferencia actual",already_transfer:"ya transferido",can_intermodal:"puede intermodal",current_intermodal:"intermodal actual",already_intermodal:"ya intermodal",can_exception:"puede excepción",current_exception:"excepción actual",already_exception:"ya excepción",can_lock:"puede bloquear",current_lock:"bloqueo actual",already_lock:"ya bloqueado",can_done:"se puede hacer",current_done:"corriente hecha",already_done:"ya hecho",can_warehouse_in:"puede en el almacén",current_warehouse_in:"corriente en el almacén",already_warehouse_in:"ya en el almacén",can_warehouse_out:"puede salir de almacén",current_warehouse_out:"almacén actual",already_warehouse_out:"ya fuera de almacén",can_ready_to_ship:"puede estar listo para enviar",current_ready_to_ship:"actual listo para enviar",already_ready_to_ship:"ya listo para enviar"},distributions:{priority:"Prioridad",name:"Nombre",strategy:"Estrategia",station:"Estación",station_identity:"Material",strategy_value:"Valor de la estrategia",material:"Material",is_activated:"Está activado"},driver_commissions:{pick_up_driver:"Recoger conductor",pick_up_core_waybill:"Recoger core_waybill",delivery_core_waybill:"Entrega core_waybill",delivery_driver:"Conductor de entrega",driver_commission_report:"Informe de la comisión del conductor",driver_commission_policy:"Política de la comisión del conductor",amount:"Cantidad",polarity:"Polaridad",created_at:"Tiempo creado",is_deleted:"Esta borrado"},driver_commission_policies:{pick_up_first_weight:"Recoger el primer peso (KG)",pick_up_first_price:"Recoger primer precio",pick_up_follow_up_weight:"Recoger peso de seguimiento (KG)",pick_up_follow_up_price:"Recoger el precio de seguimiento.",delivery_first_weight:"Entrega primer peso (KG)",delivery_first_price:"Primer precio de entrega",delivery_follow_up_weight:"Peso de seguimiento de la entrega (KG)",delivery_follow_up_price:"Precio de seguimiento de la entrega.",house_pick_up_first_weight:"Recogida en casa first_weight (KG)",house_pick_up_first_price:"Casa recoger primer precio",house_pick_up_follow_up_weight:"Levantamiento de casa seguimiento peso (KG)",house_pick_up_follow_up_price:"Recogida de casa precio de seguimiento.",house_delivery_first_weight:"Entrega a domicilio primer peso (KG)",house_delivery_first_price:"Entrega a domicilio primer precio",house_delivery_follow_up_weight:"Seguimiento de entrega a domicilio de peso (KG)",house_delivery_follow_up_price:"Precio de seguimiento de la entrega de la casa.",is_activated:"Está activado"},driver_commission_reports:{staff:"Personal",total_amount:"Cantidad total",time:"Hora",begin_at:"Empezar",end_at:"Fin",created_at:"Tiempo creado"},materials:{name:"Nombre",en_name:"nombre inglés",core_waybill_level:"Nivel de guía",class_name:"Nombre de la clase",label_type:"Tipo de etiqueta",needs_label:"Etiqueta de necesidades"},nodes:{is_sandbox_mode:" Modo sandbox",client_id:"ID de aplicación de imán",client_secret:"ID de aplicación de imán",access_token:"Imán AccessToken",refresh_token:"Autorización Magnet",tax:"Impuesto",carrier_class:"portador::clase",host:"Anfitrión",service_name:"Servicio",code:"Código",company_name:"Nombre de empresa",company_short_name:"Nombre corto de la compañía",company_en_name:"Nombre de la compañía en inglés",email:"Email",phone:"Teléfono",fax:"Fax",website_url:"URL del sitio web",customer_service_hotline:"Línea directa de atención al cliente"},operations:{number:"Número",file:"Expediente",file_name:"Nombre del archivo",file_url:"Archivo url",original_file_name:"Nombre del archivo",station:"Estación",staffs:"Personal",customer:"Cliente",customer_identity:"Cliente",your_note:"Tu nota",customer_note:"Nota al cliente",provider_note:"Nota",system_note:"Nota del sistema",cancel_reason:"Cancelar razon",instantiate_note:"Nota de instancia",is_canceled:"Está cancelado",is_operable:"Es operable",is_operated:"Es operado",is_ready:"Está listo",status:"Estado",is_done:"Está hecho",is_done_true:"Hecho",is_done_false:"Deshecho",created_at:"Creado"},partitions:{name:"Nombre",numbers:"Números",numbers_from:"Números de",numbers_to:"Números para",numbers_rule:"Regla de numeros",parent:"Padre",customer:"Cliente",contracts:"Los contratos",customer_identity:"Cliente",material:"Material",material_identity:"Material",note:"Nota",regex:"Regex"},permissions:{name:"Nombre",uri:"uri",http_method:"método_b"},permission_groups:{name:"Nombre"},roles:{name:"Nombre"},scan_action_prototypes:{name:"Nombre de la acción",barcode:"Código de barras",required_condition:"Condición requerida",before_actions:"Before_actions",is_default:"Es por defecto",description_required_scope:"Descripción del alcance requerido",description_options:"Descripción de opciones"},staffs:{username:"Nombre de usuario",password:"Contraseña",password_confirmation:"confirmación de contraseña",name:"Nombre",phone:"Teléfono",email:"Email",mobile:"Móvil",fax:"Fax",tax:"Impuesto",country:"País",state:"Estado",city:"Ciudad",district:"Distrito",address:"Dirección",theme_name:"Tema",note:"Nota",is_banned:"Está prohibido",role_identity:"Papel",role:"Papel",station_identity:"Estación",station:"Estación"},stations:{name:"Nombre",code:"Código",address:"Dirección",phone:"Teléfono",position:"Posición",note:"Nota"},status_prototypes:{name:"Nombre",material:"Material",description:"Descripción",non_polarity:"No polaridad",positive_polarity:"Polaridad positiva",negative_polarity:"Polaridad negativa"},user_logs:{title:"Título",description:"Descripción",modified_attributes:"Atributos modificados",level:"Nivel",action_type:"Tipo de acción",is_undid:"Es deshecho",undid_at:"Desdoblado en",node_identity:"Identidad del nodo",operator_identity:"Operador (ID)",loggable_identity:"Loggable",loggable_type:"Tipo loggable",created_at:"Fecha",updated_at:"hora actualizada",identity:"CARNÉ DE IDENTIDAD"},core_waybills:{number:"Número",operation_number:"Número de operación",original_number:"Numero original",tracking_number:"El número de rastreo",storage_number:"Número de almacenamiento",warehouse_identity:"Identidad de almacén",original_core_waybill_identity:"original_core_waybill identidad",tracking_core_waybill_identity:"tracking_core_waybill identidad",label_type:"Tipo de etiqueta",sender:"REMITENTE",sender_company_name:"Nombre de la empresa del remitente",sender_zip_code:"Código postal del remitente",sender_address:"Dirección del remitente",sender_name:"Nombre del remitente",sender_phone:"Telefono remitente",sender_email:"Correo electrónico del remitente",sender_fax:"Fax remitente",sender_url:"URL del remitente",consignee:"CONSIGNATARIO",consignee_company_name:"Nombre de la empresa del consignatario",consignee_zip_code:"Código postal del consignatario",consignee_address:"Dirección del consignatario",consignee_name:"Nombre del destinatario",consignee_phone:"Teléfono del consignatario",consignee_email:"Correo electrónico del consignatario",consignee_fax:"Fax del consignatario",flight_number:"Número de vuelo",cvs_store_number:"Número de tienda de CVS",cvs_store_name:"Nombre de la tienda cvs",cvs_store_address:"Dirección de la tienda de CVS",cvs_store_phone:"Cvs tienda de telefono",station_code:"Codigo de AREA",temperature:"Temperatura",payment_type:"Tipo de pago",receipt_file:"Archivo de recibo",receipt_file_url:"URL del archivo de recibo",current_status:"Estado actual",goods_name:"Nombre de la mercancia",note:"Nota",note_2:"Nota 2",note_3:"Nota 3",declared_value:"Valor declarado",measurement:"Medición",weight_in_kilo:"Peso en kilo (KG)",serial:"De serie",is_used:"Se usa",node_identity:"Identidad del nodo",station_identity:"Identidad de la estación",operation_identity:"Identidad de la operación",partition_identity:"Identidad de partición",material_identity:"Identidad material",source_core_waybill_identity:"Identidad de Source_core_waybill",parent_core_waybill_identity:"Identidad de Parent_core_waybill",consignee_address_accuracy:"Destinatario address_accuracy",consignee_formatted_address:"Dirección formateada del consignatario",consignee_address_components:"Componentes de dirección del consignatario",is_done:"Está hecho",is_collected:"Cargos comerciales, respalda la empresa.",no_paid:"No pagado",paid:"Pagado",collection:"Colección",collection_fee:"Comisión de cobro",simplified_declaration_form_fee:"Simplified_declaration_form_fee",declaration_form_fee:"Declaración de forma",declaration_form_extra_fee:"Declaración_forma_extra_fee",tax:"Impuesto",price:"Precio",insurance:"Seguro",material_fee:"Material_fee",consignee_tax_point:"Consignee_tax_point",sender_tax_point:"Sender_tax_point",warehouse_fee:"Warehouse_fee",fuel_surcharge:"Recargo por combustible",value_added_service_fee:"Value_added_service_fee",overlength_fee:"Overlength_fee",overweight_fee:"Overweight_fee",extra_fee:"Suplemento",shipping_date:"Fecha de envío",shipping_period:"Periodo de envio",shipping_note:"Nota de envío",latest_status:"Último estado",created_at:"Tiempo creado",updated_at:"Actualizado en",identity:"Identidad",is_deleted:"Esta borrado",deleted_at:"Eliminado en"}}},ui:{general:{cannot:"No poder",cannot_use:"No se puede utilizar",clear:"Claro",select:"Seleccionar",please_select:"Por favor seleccione",yes:"Sí",no:"No",no_data:"Sin datos",date:"Fecha",day:"Día",days:"Dias",hour:"Hora",hours:"Horas",minute:"Minuto",minutes:"Minutos",second:"Segundo",operate:"Funcionar",hot_key:"Tecla de acceso rápido",copy:"Dupdo",note:"Nota",simple:"Sencillo",advanced:"Avanzado",detail:"Detalle",show:"Show",edit:"Editar",create:"Crear",creating:"Creando",search:"Buscar",searching:"buscando",search__key:"Buscando {key}...",submit:"Enviar",result:"Resultado",verify:"Verificar",verifying:"Verificando",verify_staff:"Verificar personal",update:"Actualizar",updating:"Actualizando",delete:"Borrar",deleteing:"Eliminando",ready:"Listo",readying:"Listo",handle:"Encargarse de",handling:"Manejo",cancel:"Cancelar",canceling:"Cancelado",print:"Impresión",printing:"Impresión",upload:"Subir",uploading:"Subiendo",fetch:"Ha podido recuperar",success:"Éxito",failure:"Fracaso",network_abnormality:"Anormalidad de red",server_offline:"Servidor fuera de linea",error:"Error",back:"Espalda",initialize:"Inicializar.",initializing:"Inicializando.",initialize_complete:"Inicializar completa.",created_at:"Tiempo creado",updated_at:"Tiempo actualizado",deleted_at:"Tiempo borrado",folder:"Carpeta",file:"Expediente",all:"Todos"},page_titles:{index:"Índice",current_page:"Página actual",provider_index:"Casa",station_index:"Casa",customer_index:"Casa",provider_pages:"Proveedor",customer_pages:"Cliente",uploader:"Cargador",station_uploader:"Cargador de estación",provider_uploader:"Proveedor de carga",customer_uploader:"Cargador de clientes",operation_show:"Operación",operation_print_list:"Lista de operaciones de impresión",operation_print_label:"Etiqueta de impresión de operación",assets:"Bienes",assets_index:"Índice de Activos",new_asset:"Nuevo activo",edit_asset:"Editar activo",print_asset:"Imprimir activo",quote_policies:"Cotizar políticas",quote_policy:"Política de cotización",provider_customers:"Clientes proveedores",new_provider_customer:"Nuevo proveedor cliente",provider_customer:"Proveedor cliente",station_customers:"Clientes de la estacion",new_station_customer:"Nueva estacion de cliente",station_customer:"Cliente de la estacion",provider_contracts:"Contratos de proveedor",new_provider_contract:"Nuevo contrato",provider_contract:"Contrato proveedor",new_provider_quotation:"Nueva cita",provider_quotation:"Cotizacion del proveedor",station_contracts:"Contratos de estacion",new_station_contract:"Nuevo contrato de estación",station_contract:"Contrato de estacion",new_station_quotation:"Nueva cotizacion de estacion",station_quotation:"Cotizacion de estacion",scanner:"Escáner",provider_operations:"Operaciones",edit_provider_operation:"Operación de edición",driver_commissions:"Comisiones de conductor",materials:"Materiales",new_material:"Nuevo material",edit_material:"Editar material",provider_partitions:"Particiones",provider_associated_partitions:"Proveedor de particiones asociadas",customer_partitions:"Particiones de clientes",new_provider_partition:"Nueva partición",edit_provider_partition:"Editar partición",station_partitions:"Particiones de la estación",station_associated_partitions:"Estación de particiones asociadas",new_station_partition:"Nueva partición de la estación",edit_station_partition:"Editar partición de estación",permissions:"Permisos",permission_groups:"Grupos de permisos",new_permission_group:"Nuevo grupo de permisos",edit_permission_group:"Editar grupo de permisos",customer_core_waybills:"Cartas de porte del cliente",customer_core_waybills_operation:"Operación de cartas de porte del cliente",customer_show_core_waybill_operation:"Operación de hoja de ruta del cliente",customer_show_core_waybill:"Hoja de ruta del cliente",core_waybills:"Hojas de ruta",core_waybills_operation:"Operación de guías",edit_core_waybill_operation:"Editar la operación de la carta de porte",edit_core_waybill:"Editar hoja de ruta",new_core_waybill:"Nueva carta de porte",roles:"Roles",new_role:"Nuevo rol",edit_role:"Editar rol",settings:"Ajustes",staffs:"Personal",new_staff:"Personal nuevo",staff:"Personal",edit_staff:"Personal de edición",stations:"Estaciones",new_station:"Nueva estacion",edit_station:"Estación de edición",status_prototypes:"Prototipos de estado",new_status_prototype:"Nuevo prototipo de estado.",status_prototype:"Prototipo de estado",edit_status_prototype:"Editar prototipo de estado",pack:"Paquete",unpack:"Deshacer",page_404:"404 Encontrado",operate:"Funcionar",appraisals:"Tasaciones",edit_appraisal:"Editar valoración",new_appraisal:"Nueva tasacion",user_logs:"Registros de usuario",user_log:"Registro de usuario",driver_commission_policies:"Políticas de comisiones del conductor.",new_driver_commission_policy:"Nueva política de comisiones de conductores.",edit_driver_commission_policy:"Editar la política de comisiones del conductor.",driver_commission_reports:"Informes de comisiones de conductores",new_driver_commission_report:"Nuevo informe de la comisión del conductor.",driver_commission_report:"Informe de la comisión del conductor",scan_action_prototypes:"Escanear prototipos de acciones.",scan_action_prototype:"Prototipo de acción de escaneo.",new_scan_action_prototype:"Nuevo prototipo de acción de escaneo.",edit_scan_action_prototype:"Editar prototipo de acción de escaneo",provider_node:"Ajuste",customer_operations:"Operaciones del cliente",show_customer_operation:"Operación del cliente",new_provider_operation:"Nueva operacion",provider_distributions:"Distribuciones",new_provider_distribution:"Nueva distribucion",edit_provider_distribution:"Editar distribución",permission_denied:"Permiso denegado"},links:{menu:{provider_index:"Índice",scan:"Escanear",scan_action_prototypes:"Escanear prototipos de acción",status_prototypes:"Prototipos de estado",numbers:"Números",provider_partitions:"Particiones",station_partitions:"Particiones",assets:"Bienes",stations:"Estaciones",materials:"Materiales",uploader:"Uploader",provider_uploader:"Uploader",station_uploader:"Uploader",customer_uploader:"Uploader",permission_groups:"Grupos de permisos",core_waybills:"Hojas de ruta",provider_operations:"Operaciones",station_operations:"Operaciones",staffs:"Personal",roles:"Roles",users:"Usuarios",routes:"Rutas",processed_files:"Archivos procesados",operation_managers:"Gerentes de operaciones",user_logs:"Registros de usuario",import_files:"API de archivo abierto",intelligent:"inteligente",commission_policies:"Políticas de la Comisión",commission_reports:"Informes de la Comisión",driver_commission_policies:"Políticas de comisiones del conductor",driver_commission_reports:"Informes de comisiones de conductores",driver_commissions:"Comisiones de conductor",provider_node:"Ajuste",provider_distributions:"Distribuciones",provider_customers:"Clientes proveedores",station_customers:"Clientes de la estación"},top_menu:{my_receipts:"mis recibos",print_check_summary:"imprimir el resumen del cheque",scanner:"Escáner",language:"Idioma",notice:"Aviso",no_station:"Estación no detectada",overtime_note:"Recordatorio de tiempo de espera",full_logout:"Cierre de sesión completo",full_logout_help:"Borrar registro de configuración.",logout:"Cerrar sesión"}},theme_names:{staff:"Personal",driver:"Conductor",manager:"Gerente",operator:"Operador",exception:"Excepción",default:"Defecto"},status_scopes:{operator:"Operador",forwarder:"Promotor",public:"Público",mark:"marca",condition:"Condición",system:"Sistema",unknown:"Desconocido"},validator:{is_required:" es requerido",greater_than:" debe ser mayor que",if:"Si",is:" es",then:" entonces"},notifications:{help:{this_page_is_out_of_date_please_click_here_to_refresh:"Esta página no está actualizada, por favor haga clic aquí para actualizar.",please_clicked_initialize_again:"Por favor, haga clic, inicializar de nuevo."},success:{fetch:"Fetch éxito.",update:"Actualización exitosa.",create:"Crear el éxito.",delete:"Eliminar el éxito.",verify:"Verificar el éxito.",upload:"Subida exitosa.",__name:"éxito {name}",fetch__name:"Fetch {name} el éxito.",update__name:"Actualización de {name} éxito.",create__name:"Crea el éxito de {name}.",delete__name:"Eliminar el éxito de {name}.",verify__name:"Verificar el éxito de {name}.",upload__name:"Subir {name} éxito.",copy__name:"Copiar el éxito de {name}."},warning:{are_you_sure_to_delete_it:"¿Está seguro de eliminarlo?",are_you_sure_to_cancel_it:"¿Seguro que lo cancelas?"},error:{find:"Encuentra la falla {reason}.",fetch:"Recupera el fallo {reason}.",update:"Error de actualización {reason}.",create:"Crear error {reason}.",delete:"Eliminar fallo {reason}.",verify:"Verifique la falla {reason}.",upload:"Fallo de carga {reason}.",copy:"Copia fallida {reason}.",__name:"Error de {name}.",find__name:"Encuentra {name} falla {reason}.",fetch__name:"Fetch {name} falla {reason}.",update__name:"Error al actualizar {name} {reason}.",create__name:"Crear {name} falla {reason}.",delete__name:"Eliminar {name} error {reason}.",verify__name:"Verificar la falla de {name} {reason}.",upload__name:"Error al cargar {name} {reason}.",copy__name:"Copia {name} falla {reason}.",no_data:"Sin datos",please_handle_errors:"Por favor maneja los errores.",exception_error_please_contact_the_system_supplier:"Error de excepción, póngase en contacto con el proveedor del sistema.",please_check_to_write_in_the_required_fields_mark:"Por favor, marque para escribir en los campos requeridos (marca *)."}},scanner:{settings:{is_scan_mode:{true:"Modo de escaneo | Escanear",false:"Modo de escritura | Escribir"},is_scan_action_mode:{true:"Modo de trabajo | Trabajo",false:"Modo de vista | Ver"},is_batch_mode:{true:"Modo por lotes | Lote Advertencia！ El modo de lote está activado, los números necesitan una coma (,) de separación y no recuerdan el campo requerido.",false:"Sin modo por lotes | Sin lote"},is_operation_mode:{true:"Modo de funcionamiento | Operación",false:"Sin modo de funcionamiento | No operacion"},is_core_waybill_pieces_mode:{true:"Modo contador | Modo contador",false:"Sin modo de contador | No hay modo de contador"},is_update_corewaybill_mode:{true:"Actualizar corewaybill | Actualizar la hoja de ruta",false:"Ver corewaybill | Ver la hoja de ruta"},is_auto_print_label_mode:{true:"Modo de etiqueta de impresión automática | Etiqueta de impresión",false:"Sin etiqueta impresa | Sin etiqueta impresa"},is_distributed_to_mode:{true:"Distribuido a modo | Repartido",false:"No distribuido | No distribuido"},is_noty_audio_mode:{true:"Modo de audio Noty | Audio noty",false:"No hay audio de noty | No noty audio"},is_speech_mode:{true:"Modo de voz | Habla",false:"No habla | Ningún discurso"},is_quick_corewaybill_related_columns:{true:"Columnas relacionadas con Corewaybill rápido | Datos rapidos",false:"No hay columnas relacionadas rápidas | No hay datos rápidos"},is_package_mode:{true:"Modo de paquete | Paquete | embalaje",false:"Sin paquete"},is_unpackage_mode:{true:"Modo de desembalaje | Desembalar | Desembalaje",false:"No desempaquetar"},pack_need_source_mode:{short_name:"necesita datos de origen",true:"Utilizar",false:"Es inútil"},core_waybill_template_mode:{short_name:"Ver estilo de guía",min_card:"Vista mínima | Mínimo",card:"Vista Básica | BASIC",detail:"Vista detallada | Detalle"}},setting_groups:{LB00:"Hoja de ruta inicial",LB01:"1. Suelte",LB02:"2.Para pagar",LB06:"3. Inusual",LB07:"3.Exclusion",LB11:"Bloquear",LB12:"desbloquear",LA00:"hoja de ruta inicial",LA01:"1. Suelte",LA02:"2. en estacion",package:"Paquete",LA03:"3.Dispatch",LA10:"3. Transporte conjunto",LA09:"3.Coleccionando transferencia",LA05:"4. estación de retorno",LA04:"4. Alcanzado",LA06:"4. Inusual",LA07:"4.Exclusion",LA08:"Remitente devuelto",LA11:"Bloquear",LA12:"desbloquear",LA13:"Caso de cierre",LA21:"Entrando al almacén",LA22:"Estante",LA23:"Fuera de posición",LA24:"Bienes no identificados",unpackage:"Desembalar",distributed_to:"Repartido",pack_house_waybill:"包 运,",pack_waybill_goods:"包子, 票 多 件",search:"Buscar",print:"Impresión"},menus:{settings:"Ajustes",setting_group:"Grupo de ajuste",operation:"Operación",package:"Paquete",core_waybill:"Hoja de ruta"},jobs:{job:"Trabajo",clear_jobs:"Trabajos claros",waiting_user_action:"Acción de usuario en espera",idle:"Ocioso",processing:"Tratamiento",success:"Éxito",failure:"Fracaso",number:"Número",no_add_status:"No agregar estado",no_error:"No hay error",scope:{original_number:"Numero original",new:"Nuevo"}},package:{packing_material:"Material de empaque",package:"Paquete",unpackage:"Desembalar",total__number:"Total:{numero}",detail:"Detalle",hide:"Esconder"},upload:{receipt_file:"Cargar archivo de recibo",result:"Subir resultado"},helps:{select:"Seleccionar",write:"Escribir",scan:"Escanear",quick_required_field_div:"Campo rápido requerido div",current_scan_action_prototype:"Prototipo de escaneo actual",distributed_result:"Resultado distribuido",you_dont_any_operation:"Usted no hace ninguna operación.",write_or_scan_barcode:"Escribir o escanear el código de barras.",write_related_columns:"Escribir columnas relacionadas.",write_scan_action_note:"Escribir nota de acción de escaneo.",write_number:"Escribir numero",select_scan_action:"Seleccione la acción de escaneo",select_pack_taget_parent:"Seleccione pack taget parent.",select_pack_taget:"Seleccionar packet taget",select_target_layer:"Seleccione la capa de destino",selected_operation:"Operación seleccionada",distributed:{please_select:"Por favor seleccione",current_station:"estacion actual",can_use_distributed_to_mode:"Puede utilizar el modo distribuido."}},alerts:{is_created:"Es creado",required:"Necesario",previous:"Anterior",give_up:"Rendirse",definite:"Definido",please_write:"Por favor escribe",required_field:"Campo requerido",if_have_write:"Si lo tienes, escríbelo",upload_receipt_img:"Cargar recibo img",upload_result:"Subir resultado",uploading:"Subiendo",please_write_scan_note:"Por favor escriba una nota de escaneo"},operations:{total:"Total: {operations_length} operaciones, {sum_core_waybills} hojas de ruta",contents:"guías de viaje",current_operation_set_to:"Operación actual configurada en",clear_current_operation:"Borrar la operación actual"},success:{quick_setting:"Rápido éxito de configuración"},errors:{multiple_numbers_in_batch_mode:"Múltiples números en modo batch.",setting_group_not_found:"Grupo de configuración no encontrado.",setting_not_found:"Configuración no encontrada.",core_waybill_not_found:"carta de porte no encontrada.",failed_to_fetch_core_waybill_statuses:"Falló el estado de la hoja de ruta.",failed_to_instantiate_scan_action_prototype:"Error al instanciar el prototipo de acción de escaneo.",failed_to_update_core_waybill_related_column:"Error al actualizar las columnas relacionadas con la hoja de ruta.",give_up_core_waybill_related_columns:"Abandona las columnas relacionadas con la hoja de ruta.",give_up_scan_action_description:"Abandona la descripción de la acción de escaneo.",give_up_create_core_waybill:"Renunciar a crear la hoja de ruta."}},pages:{customer_home:{title:"Welcome to customer management."},partials:{page_404:{cant_find_page:"No puedo encontrar la página."},permission_denied:{you_dont_permission:"No tienes permiso."},login_expiration_hint_modal:{idle:"Ocioso",content:"El sistema detectó que no ha usado durante mucho tiempo, {time} se desconectará automáticamente.",i_am_back:"Regresé"}},login:{customer_management_login:"Panel de clientes",provider_management_login:"Panel de proveedores",station_management_login:"Panel de station",please_enter_your_account_and_password:"Iniciar sesión",account:"Cuenta",password:"Contraseña",verification_code:"Código de verificación",pass_next_timeout_will_dont_warn:"Pasar el siguiente tiempo de espera, no avisará.",btns:{auto_input_test_account:"Cuenta de prueba",login:"Iniciar sesión"},errors:{your_site_has_not_registered_system:"Su sitio no tiene sistema registrado.",please_fill_in_the_verification_code:"Por favor, rellene el código de verificación",account_or_password_incorrect:"Cuenta o contraseña incorrecta",verification_code_incorrect:"Código de verificación incorrecto",verification_code_expired:"Código de verificación expirado",failure_to_login:"No iniciar sesión",timeout:"Cerrar sesión automáticamente después de inactividad demasiado tiempo."}},appraisals:{point:"Punto",reason:"Razón",staff_identity:"Personal",registrant_identity:"Registrante"},monitor:{menu_title:{all:"Todos",myself:"Mí mismo",station:"Estación"},title:{all_pending_operations:"Todas las operaciones pendientes",all_pending_waybills:"Todas las hojas de ruta pendientes",pending_operations:"Operaciones pendientes",pending_waybill_in_operations:"Hoja de ruta pendiente en operaciones",pending_waybills:"Billetes pendientes"},sub_title:{not_completed_operations:"Operaciones no completadas",not_completed_waybills:"Folletos no completados",assigned_to_me_but_not_completed_operations:"Asignado a mi pero no operaciones completadas",assigned_to_me_but_not_completed_waybill_in_operations:"Asignado a mí, pero no se completó la hoja de ruta en las operaciones",the_unfinished_waybill_that_was_last_my_scanned:"La hoja de ruta sin terminar que fue la última vez que mi escaneado",assigned_to_stationg_but_not_completed_operations:"Asignado a <span style='color: green;'> {station_name} </span> pero no operaciones completadas",assigned_to_stationg_but_not_completed_waybill_in_operations:"Asignado a <span style='color: green;'> {station_name} </span> pero no se completó la hoja de ruta en las operaciones"}},assets:{categories:"Categorías",print_barcode:"Imprimir código de barras",have_category:"Tener categoria",clear_value:"Claro valor",helps:{no_anything_category:"Ninguna categoría de nada",no_anything_assets:"No hay nada activo",write_or_use_category_list:"Escriba o use la lista de categorías",please_clicked_upper_left_new_asset_button:"Por favor, haga clic en el botón de nuevo activo de la parte superior izquierda."}},customer_contracts:{additional_information:"Información Adicional"},customers:{contracts:"Los contratos",normal:"Normal",banned:"Prohibido",unbanned:"No prohibido",is_banned:"Está prohibido",basic_information:"Información básica",common_sender_information:"Información del remitente común",common_consignee_information:"Información del consignatario común",is_open_use_associated_partition:"Es uso abierto partition partición asociada 」",is_open_use_use_yourself_partition:"Es uso abierto 「Usa tu partición」",helps:{the_password_does_not_match_the_confirmation_password:"La contraseña no coincide con la contraseña de confirmación."}},distributions:{activated:"Activado",unactivated:"Desactivado",add_condition:"Añadir condición",add_condition_help:"Cómo escribir condiciones？",add_condition_help_content_1:"1. 同樣條件類型的項目會做OR比對，不同條件類型的項目是做AND比對，例如：直轄市台北市+直轄市區信義區+直轄市區中正區+直轄市新北市+直轄市區新店區五個條件，符合本區配送條件的地址有台北市信義區、台北市中正區及新北市新店區",add_condition_help_content_2:"2. Por favor escriba el nombre chino tradicional completo",condition_type:"Tipo de condición",content:"Contenido",undo:"Deshacer",filter:{direct:"Directo",intermodal:"Intermodal"}},driver_commissions:{driver:"Conductor",no_done:"No hecho",core_waybill_number:"Número de guía"},driver_commission_policies:{activated_switch:"Interruptor activado",activated:"Activado",pickup:"Recoger",bag:"Bolso",table:{general_pickup:"Recogida general",general_delivery:"Entrega general",bag_pick:"Bolsa de selección",bag_delivery:"Entrega de bolsas",is_activated:"Está activado",first_weight:"Primer peso",first_price:"Primer precio",follow_up_weight:"Seguimiento de peso",follow_up_price:"Precio de seguimiento"}},driver_commission_reports:{total_amount_of_commission:"Importe total de la comisión.",print:"Impresión",setting:"Ajuste",print_setting:"Configuración de impresión",detailed_mode:"Modo detallado",from:"Desde",to:"A",status:"Estado",no_select_date:"Sin fecha de selección",start_all:"Empezar todo",go_to_report:"Ir al informe",table:{pickup_details:"Detalles de recogida",dispatch_details:"Detalles del despacho",No:"No.",number:"Número",weight:"Peso",date:"Fecha",commission:"Comisión (dólar)",total:"Total"},filter:{staff_name:"Nombre del personal",begin_at:"Comenzar en",end_at:"Termina en",total_amount_from:"Importe total de ...",total_amount_to:"Cantidad total a ...",created_at:"Creado en"}},nodes:{company_information:"Información de la empresa"},operations:{provider_note_value:"Nombre del remitente: \n Teléfono del remitente: \n",processing:"Tratamiento",contract:"Contrato",schedule:"Programar",waybill_amount:"Cantidad",print_receipt:"Imprima el recibo",print_coew_waybill_labels:"Imprimir etiquetas de hoja de ruta de coew",print_coew_waybill_checklist:"Imprimir la lista de verificación de la hoja de ruta de coew",delete_help:"Operación de eliminación, Casas 、 Paquetes 、 Hojas de ruta eliminadas.",_name_operation_list:"lista de operaciones de {name}",_name_customer_receipt:"recibo del cliente {name}",helps:{please_confirm_sender_and_contract_are_selected:"Por favor confirme que el remitente y el contrato son seleccionados."},table:{finish:"Terminar",total:"Total"}},partitions:{automatic_number:"Numero automatico",use_yourself:"Utilízate",statistics:"Estadística",total_amount:"Cantidad total",available_quantity:"Cantidad disponible",if_use_it_yourself_do_not_write:"Si lo usa usted mismo, no escriba"},uploader:{redo:"Rehacer",open_file:"Abrir documento",operation_list:"Lista de operaciones",upload_operation_list:"Cargar lista de operaciones",selected:"Seleccionado",contract:"Contrato",your_actions:"Tus acciones",operation_order:"Operación",field_data_succeeded:"Datos de campo logrados",checking_waybill_data_ok:"Verificando los datos de la hoja de ruta ok",checking_operation_data_ok:"Verificando los datos de operación ok",upload_detail_completed:"Subir detalles completados",continue_next_file:"Continuar siguiente archivo",materialization_operation:"Operación de materialización",consignment:"Envío",delivery:"Entrega",total:"Total",total__number:"Numero total}",dimmer:{what_do_you_want_now:"Qué deseas",please_upload_your_file:"Por favor sube tu archivo",download_sample_file:"Descargar archivo de muestra",clicked_this_card_redo:"Hizo clic en esta tarjeta rehacer",select_file:"Seleccione Archivo"},steps:{title:{operation:"Operación",confirm_data:"Confirmar datos",upload_data:"Subir datos"},description:{operation_content:"Contenido de la operación",confirm_data_is_correct:"Confirmar que los datos son correctos",upload_data_to_server:"Subir datos al servidor"}},file:{name:"Nombre del archivo",size:"Tamaño del archivo",path:"Ruta de archivo",upload:"Subir archivo",complete:"Completar",not_uploaded:"No subido"},column_verification:{required_field:"Campo requerido",unknown_waybill:"Hoja de ruta desconocida"}},scan_action_prototypes:{binding_material:"Material de unión",print_barcodes:"Imprimir códigos de barras",field_name:"Nombre del campo",value:"Valor"},staffs:{appraisals:"Tasaciones",normal:"Normal",banned:"Prohibido",unbanned:"No prohibido",is_banned:"Está prohibido"},user_logs:{record_object:"Objeto de registro",operator:"Operador",field_name:"Nombre del campo",value:"Valor",yes:"Sí",no:"No"},core_waybills:{done:"Hecho",print_filter_result_labels:"Imprimir etiquetas",export_csv_file:"Exportar CSV",export_clearance_csv_file:"Despacho de exportación CSV",export_daily_csv_file:"Exportación diaria de CSV",download_daily_csv_file:"Descargar CSV diario",please_select_partition:"Por favor seleccione la partición",back_to_select_partition:"Volver a seleccionar partición",partition_number_from:"Número del",partition_number_to:"Número a",again:"Otra vez",upload_picture:"Subir foto",no_upload_any_picture:"No subir ninguna imagen",system_generation:"Generacion del sistema",have_contained_status:"han contenido estado",status:{"可使用":"Usable","使用中":"Utilizando","曾經使用過":"Utilizable","可放行":"Liberable","放行中":"Liberando","曾經放行過":"Liberado","可點交":"Liberable","點交中":"Liberando","曾經點交過":"Liberado","可收貨":"Recibo","收貨中":"Recepción","曾經收貨過":"Recibido","可進站":"Comprobable","進站中":"Verificación","曾經進站過":"Comprobable","可配送":"Se puede enviar","配送中":"Embalaje","曾經配送過":"Embarcado","可回站":"Returne","回站中":"Volviendo","曾經回站過":"Devuelto","可配達":"Está hecho","配達中":"Esta donando","曾經配達過":"Es donado","可中轉":"Transferible","中轉中":"Transferencia","曾經中轉過":"Transferible","可聯運":"Intermodalable","聯運中":"Intermodalable","曾經聯運過":"Intermodalable","可異常件":"Excepcional","異常件中":"Habilitación de excepciones","曾經異常件過":"Excepcionable","可鎖定":"Bloqueable","鎖定中":"Cierre","曾經鎖定過":"Bloqueado","可完成":"Está hecho","完成中":"Esta donando","曾經完成過":"Es donado",USABLE:"USABLE",CHECKABLE:"COMPROBABLE",SHIPPABLE:"ENVIADO",SHIPPING:"ENVÍO",TRANSFERING:"TRANSFERENCIA",EXCEPTIONABLE:"EXCEPCIONAL",EXCEPTIONING:"EXCEPCIONANDO",SENDER_REGRETABLE:"SENDER REGRETABLE",CHECKING:"COMPROBACIÓN",TRANSFERABLE:"TRANSFERIBLE",INTERMODALABLE:"INTERMODALABLE",INTERMODALING:"INTERMODALIZACIÓN",RELEASABLE:"LIBERABLE",CAN_HAND_OVER:"PUEDE MANEJARSE",LOCKING:"CIERRE",IS_DONE:"ESTÁ HECHO",system:"Sistema",condition:"condición",administrator:"administrador",operator:"operador",forwarder:"promotor",public:"público",mark:"marca",no_latest_status:"No hay estado más reciente"},filter:{find__key:"Encontrar {key} ...",find_number:"Encontrar el numero ...",clear:"Claro",numbers:"Números",waybill_content:"Contenido de la carta de porte",status:"Estado",have_contained:"Han contenido",selected_is_used:"Seleccionado se utiliza",is_used:{true:"Usado",flase:"No utilizado"},material:"Material",selected_material:"Material seleccionado",selected_station:"Dónde",selected_staff:"Quien",selected_status:"Estado",selected_status_scope:"Alcance",selected_polarity:"Polaridad",polarity:{positive:"Siendo",negative:"No estar en"},status_depiction:{now:"Ahora",at_the:"en el",in_the:"en el",by:"por",handle:"encargarse de",before_by:"Antes por",added:"adicional"}}}},toolbox:{back_to_top_button:{back_to_top:"Volver arriba"},bulletin_board:{name:"Tablón de anuncios",message:"Mensaje",no_messages:"¡Ningún mensaje!",talk_your_comment:"Habla tu comentario"},crud_templates:{new:"Nuevo"},core_waybills_label_svg:{labels:{paper_type:"Tipo de papel"},btns:{print:"Impresión"},helps:{numbers_input:"Números Ex: 123,456,789"},errors:{no_authentication_token:"Pops no authentication_token",no_number:"Por favor escriba el número"}},core_waybill:{parent_core_waybill:"Carta de ruta para padres",child_core_waybill:"Hoja de ruta infantil",no_any_parent_and_child_waybill:"No hay ninguna hoja de ruta para padres e hijos",use_partition:"Dividir",partition_number_from:"Número del",partition_number_to:"Número a",btns:{label:"Etiqueta",print:"Impresión",update:"Actualizar",switch_style:"Cambiar de estilo",simple:"Sencillo",detail:"Detalle"},helps:{source:"Fuente",is_deleted:"Eliminado, por favor de vuelta.",tooltip_have_source_core_waybill:"Los datos de la hoja de ruta actual son de {número}, haga clic para editar"},errors:{please_clicked_initialize_again:"Por favor, haga clic, inicializar de nuevo.",change_template_error:"Cambiar error de plantilla.",no_number:"Sin número.",invalid_loading_image:"Imagen de carga no válida.",waybill_no_label_class_cant_print:"Hoja de ruta ninguna clase de etiqueta no puede imprimir.",props_is_can_print_label_unable:"Props is_can_print_label disabled.",no_label_type:"Sin tipo de etiqueta.",label_type_error:"Error de tipo de etiqueta.",label_paper_type_error:"Etiqueta tipo error de papel."}},core_waybills:{quick_update_table:"Tabla de actualización rápida",quick_update:"Actualización rápida",batch_edit:"Edición por lotes",no_station:"Sin estacion",packed_in:"Empacado",deleted:"Eliminado",add_table:"Agregar tabla"},operation_summary:{print_operation_list:"Lista de operaciones de impresión",table:{sender_signature:"Firma del remitente",driver_signature:"Firma del conductor"}},receipts:{print_receipt:"Imprima el recibo"},stations_modal:{turn_of_GPS:"Giro de gps",turn_on_GPS:"Encender el GPS",turn_on_auto_tracking:"Activar seguimiento automático",modify_current_station:"Cambiar estacion actual",please_select_the_current_station:"Por favor seleccione la estación actual",you_are_not_a_manager_will_modify_station_please_contact_the_manager:"Usted no es un administrador, modificará la estación, póngase en contacto con el administrador",you_do_not_belong_station_will_update_your_data_after_selection:"Usted no pertenece a la estación, actualizará sus datos después de la selección",current_station:"Estacion actual",tracking_GPS:"GPS de seguimiento",decisioning:"Decisión",cancel_current_station:"Cancelar la estación actual",btns:{track_once:"Pista (una vez)",auto_tracking_every_minute:"Seguimiento automático (cada minuto)"},errors:{geolocation_is_not_supported_by_this_browser:"La geolocalización no es compatible con este navegador.",your_web_protocol_is_not_HTTPS:"Su protocolo web no es HTTPS, consulte https://goo.gl/rStTGz.",get_location_failure:"Obtener fallo de ubicación."}},speed_test:{network_quality:"Calidad de red"},my_receipts:{neme:"Mis recibos",force_current_station:"Fuerza actual estacion",print:"{page} Imprimir{note}",customer_receipt:"Recibo del cliente"},notifications:{mark_all_read:"marcar todo como leido",no_new_notifications:"no hay notificaciones nuevas"}},el:{colorpicker:{confirm:"DE ACUERDO",clear:"Claro"},daterange_option_shortcut:{today:"Hoy",three_days:"Tres días",week:"Semana",month:"Mes",three_months:"Tres meses",six_months:"Seis meses"},datepicker:{now:"Ahora",today:"Hoy",cancel:"Cancelar",clear:"Claro",confirm:"DE ACUERDO",selectDateTime:"Seleccionar fecha y hora",selectDate:"Seleccione fecha",selectTime:"Seleccione tiempo",startDate:"Fecha de inicio",startTime:"Hora de inicio",endDate:"Fecha final",endTime:"Hora de finalización",prevYear:"Año anterior",nextYear:"El próximo año",prevMonth:"Mes anterior",nextMonth:"Próximo mes",year:"Año",month1:"enero",month2:"febrero",month3:"marzo",month4:"abril",month5:"Mayo",month6:"junio",month7:"julio",month8:"agosto",month9:"septiembre",month10:"octubre",month11:"noviembre",month12:"diciembre",week:"semana",weeks:{sun:"Dom",mon:"Lun",tue:"mar",wed:"Mie",thu:"Jue",fri:"Vie",sat:"Sab"},months:{jan:"ene",feb:"feb",mar:"mar",apr:"abr",may:"Mayo",jun:"jun",jul:"jul",aug:"ago",sep:"sep",oct:"oct",nov:"nov",dec:"dic"}},select:{loading:"Cargando",noMatch:"No hay datos coincidentes",noData:"Sin datos",placeholder:"Seleccionar"},cascader:{noMatch:"No hay datos coincidentes",loading:"Cargando",placeholder:"Seleccionar"},pagination:{goto:"Ir",pagesize:"/página",total:"Total {total}",pageClassifier:"clasificador de páginas"},messagebox:{title:"Mensaje",confirm:"DE ACUERDO",cancel:"Cancelar",error:"Entrada ilegal"},upload:{deleteTip:"pulse eliminar para eliminar",delete:"Borrar",preview:"Avance",continue:"Continuar"},table:{emptyText:"Sin datos",confirmFilter:"Confirmar",resetFilter:"Reiniciar",clearFilter:"Todos",sumText:"Suma"},tree:{emptyText:"Sin datos"},transfer:{noMatch:"No hay datos coincidentes",noData:"Sin datos",titles:["Lista 1","Lista 2"],filterPlaceholder:"Inserte palabra clave",noCheckedFormat:"{total} totales",hasCheckedFormat:"{checked}/{total} marcado"}}}}},"07b4":function(e,t,i){},"08cf":function(e,t,i){"use strict";var n=i("af2f"),a=i.n(n);a.a},"0919":function(e,t,i){"use strict";var n=i("7beb"),a=i.n(n);a.a},"09fa":function(e,t,i){},"0a9b":function(e,t,i){},"0a9e":function(e,t,i){},"0aca":function(e,t,i){"use strict";var n=i("c563"),a=i.n(n);a.a},"0ba9":function(e,t,i){},"0bfa":function(e,t,i){"use strict";var n=i("e074"),a=i.n(n);a.a},"0ca5":function(e,t,i){"use strict";var n=i("0a9e"),a=i.n(n);a.a},"0cb6":function(e,t){function i(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.speak=function(e){var i=new SpeechSynthesisUtterance(e);i.lang="zh-TW",i.rate=t.rate||1,i.pitch=t.pitch||1,i.volume=t.volume||1,i.onstart=t.onstart,i.onend=t.onend,i.onerror=t.onerror,i.onboundary=t.onboundary,i.onmark=t.onmark,i.onpause=t.onpause,i.onresume=t.onresume,window.speechSynthesis.speak(i)},this.cancel=function(){"function"===typeof t.oncancel&&void 0!==t.oncancel&&t.oncancel(),e.cancel_all()},this.cancel_all=function(){window.speechSynthesis.cancel()},this.pause_all=function(){window.speechSynthesis.pause()},this.resume_all=function(){window.speechSynthesis.resume()}}e.exports=i},"0dbd":function(e,t,i){},"0eb6":function(e,t,i){"use strict";var n=i("f4e2"),a=i.n(n);a.a},"0f9c":function(e,t,i){"use strict";var n=i("7998"),a=i.n(n);a.a},"0fb9":function(e,t,i){"use strict";var n=i("f6f1"),a=i.n(n);a.a},"0fd2":function(e,t,i){"use strict";var n=i("bd16"),a=i.n(n);a.a},1:function(e,t){},1122:function(e,t,i){"use strict";var n=i("8a5f3"),a=i.n(n);a.a},"12d6":function(e,t,i){},"12e0":function(e){e.exports={manager:["provider_index","scan","status_prototypes","stations","provider_partitions","provider_uploader","assets","materials","core_waybills","provider_operations","permission_groups","roles","staffs","user_logs","driver_commission_policies","driver_commission_reports","scan_action_prototypes","provider_node","provider_distributions","driver_commissions","provider_customers","scanner"],operator:["provider_operations","provider_uploader","core_waybills","scanner"],driver:["assets","provider_operations","scanner"],staff:["status_prototypes","stations","provider_partitions","customer_nodes","provider_uploader","assets","materials","core_waybills","provider_operations","staffs","user_logs","driver_commission_policies","driver_commission_reports","scan_action_prototypes","provider_distributions","driver_commissions","scanner"],default:[],exception:[]}},"12ef":function(e,t,i){},1346:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.show_demo?i("div",[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.current_melody,expression:"current_melody"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.current_melody=t.target.multiple?i:i[0]}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.default_melodies,function(t,n){return i("option",{domProps:{value:n}},[e._v("\n            "+e._s(n)+"\n        ")])})],2),i("div",{staticClass:"ui basic button",on:{click:function(t){e.$bus.$emit(e.channel,"play_sound",e.current_melody)}}},[i("i",{staticClass:"play icon"}),e._v("Play\n    ")]),i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.current_file,expression:"current_file"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.current_file=t.target.multiple?i:i[0]}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.default_files,function(t){return i("option",{domProps:{value:t}},[e._v("\n            "+e._s(t)+"\n        ")])})],2),i("div",{staticClass:"ui basic button",on:{click:function(t){e.$bus.$emit(e.channel,"play_file",e.current_file)}}},[i("i",{staticClass:"play icon"}),e._v("PlayFile\n    ")])]):e._e()},a=[],r={name:"ToolWebAudioMain",props:{channel:String,show_demo:Boolean,allow_overlay_play:Boolean},data:function(){return{current_melody:null,current_file:null,web_audio_api:{context:"webkitAudioContext"in window?new webkitAudioContext:new AudioContext,oscillator:null,oscillators:[]},default_files:["AlertSound.mp3","收貨.mp3","進站.mp3","派件中.mp3","已配達.mp3","回站.mp3","異常件.mp3","異常件問題排除.mp3","寄件者退運.mp3","出站集貨中轉.mp3","聯運.mp3","鎖定.mp3","解除鎖定.mp3"],default_melodies:{ok:[{type:"sawtooth",frequency:1800,detune:800,begin_at:0,end_at:.12},{type:"sawtooth",frequency:1500,detune:800,begin_at:.15,end_at:.27}],alert:[{type:"triangle",frequency:400,detune:0,begin_at:0,end_at:.06},{type:"triangle",frequency:400,detune:0,begin_at:.08,end_at:.14}],error:[{type:"sawtooth",frequency:100,detune:800,begin_at:0,end_at:.1},{type:"sawtooth",frequency:100,detune:800,begin_at:.13,end_at:.2}]}}},computed:{},created:function(){},mounted:function(){var e=this;e.$bus.$off(e.channel),e.$bus.$on(e.channel,function(t,i){switch(t){case"play_sound":e.play_sound(i);break;case"play_file":e.play_file(i);break;default:}}.bind(this)),$("body").click(function(t){e.web_audio_api.context.resume()})},watch:{},methods:{play_sound:function(e){var t=this;t.allow_overlay_play||t.stop();var i=t.default_melodies[e];_.forEach(i,function(e,i){t.web_audio_api.oscillators[i]=t.web_audio_api.context.createOscillator(),t.web_audio_api.oscillators[i].type=e.type,t.web_audio_api.oscillators[i].frequency.value=e.frequency,t.web_audio_api.oscillators[i].detune.value=e.detune,t.web_audio_api.oscillators[i].connect(t.web_audio_api.context.destination),t.web_audio_api.oscillators[i].start(t.web_audio_api.context.currentTime+e.begin_at),t.web_audio_api.oscillators[i].stop(t.web_audio_api.context.currentTime+e.end_at)})},stop:function(){var e=this;_.forEach(e.web_audio_api.oscillators,function(e){e.disconnect()})},play_file:function(e){var t=this;t.allow_overlay_play||t.stop();var i,n="/audios/"+e;function a(e){t.web_audio_api.oscillators[0]=t.web_audio_api.context.createBufferSource(),t.web_audio_api.oscillators[0].buffer=e,t.web_audio_api.oscillators[0].connect(t.web_audio_api.context.destination),t.web_audio_api.oscillators[0].start()}axios.get(n,{responseType:"arraybuffer"}).then(function(e){return e.data}).then(function(e){return t.web_audio_api.context.decodeAudioData(e,function(e){i=e,a(i)})})}},components:{}},s=r,o=i("2877"),c=Object(o["a"])(s,n,a,!1,null,"08223b0c",null);t["a"]=c.exports},1405:function(t,i,n){"use strict";n.r(i);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.is_initialized?i("div",{staticClass:"content",class:{is_showed_jobs:e.desc_ordered_jobs.length,"z-depth-3":e.is_modal},style:{color:e.theme.color.font,background:e.theme.background,backgroundSize:e.theme.color.background_img?"cover":""}},[i("div",[i("WebAudio",{attrs:{channel:"provider_scanner_web_audio",allow_overlay_play:!1,show_demo:!1}}),i("Dashboard",{attrs:{is_processing:e.is_processing,current_number:e.current_number,current_scan_action_prototype:e.current_scan_action_prototype}}),e.current_store.is_setting?i("Settings",{attrs:{current_scan_action_prototype:e.current_scan_action_prototype,is_processing:e.is_processing}}):e._e(),i("div",{staticClass:"scrolling content"},[i("CoreWaybill",{attrs:{is_modal_opened:e.is_modal_opened}})],1),e.desc_ordered_jobs.length>=3?i("div",{staticClass:"ui jobs pointer",staticStyle:{position:"absolute",right:"6px",bottom:"106px",color:"red"},on:{click:function(t){e.$store.dispatch("customer/scanner_module/clear_job")}}},[e._v("\n            "+e._s(e.$t("ui.scanner.jobs.clear_jobs"))+"\n        ")]):e._e()],1),e.desc_ordered_jobs.length?i("transition-group",{staticClass:"ui list jobs",attrs:{name:"list",tag:"div"}},e._l(e.desc_ordered_jobs,function(t){return i("div",{key:t.id,staticClass:"item"},[i("i",{staticClass:"wait icon",class:{"green check":"Success"==t.status,"red cancel":"Failure"==t.status,"orange hourglass end":"Processing"==t.status,"white wait":"Pending"==t.status},staticStyle:{width:"18px"}}),i("div",{staticClass:"content"},[i("div",{staticClass:"header"},["Pending"==t.status?i("span",{staticStyle:{color:"lightgray"}},[t.is_waiting_user_action?i("span",[e._v("\n                            "+e._s(e.$t("ui.scanner.jobs.waiting_user_action"))+"\n                        ")]):i("span",[e._v("\n                            "+e._s(e.$t("ui.scanner.jobs.idle"))+"\n                        ")])]):"Processing"==t.status?i("span",{staticStyle:{color:"orange"}},[e._v("\n                        "+e._s(e.$t("ui.scanner.jobs.processing"))+"\n                    ")]):"Success"==t.status?i("span",{staticStyle:{color:"green"}},[e._v("\n                        "+e._s(e.$t("ui.scanner.jobs.success"))+"\n                    ")]):"Failure"==t.status?i("span",{staticStyle:{color:"red"}},[e._v("\n                        "+e._s(e.$t("ui.scanner.jobs.failure"))+"\n                    ")]):e._e(),e._v("\n                    "+e._s(e.$t("ui.scanner.jobs.job"))+"#"+e._s(t.id)+"："+e._s(e.$t("ui.scanner.jobs.number"))+" "+e._s(t.number)+"\n\n                    "),"original_number"==t.core_waybill_scope?i("span",[e._v("\n                        ["+e._s(e.$t("ui.scanner.jobs.scope.original_number"))+"]\n                    ")]):e._e(),"new"==t.core_waybill_scope?i("span",[e._v("\n                        ["+e._s(e.$t("ui.scanner.jobs.scope.new"))+"]\n                    ")]):e._e(),"operation"==t.task?i("span",[e._v("（"+e._s(t.scan_action_prototype.name)+"）")]):e._e(),t.is_batch_mode?i("span",[e._v("\n                        ("+e._s(e.$t("ui.scanner.settings.is_scan_action_mode.true"))+")\n                    ")]):e._e(),t.is_waiting_instantiate_scan_action?i("span",[i("i",{staticClass:"icon",class:{"green check":t.current_core_waybill_counter>=t.core_waybill_pieces,"red exclamation triangle":t.current_core_waybill_counter<t.core_waybill_pieces}}),e._v("\n                        "+e._s(t.current_core_waybill_counter)+" /\n                        "+e._s(t.core_waybill_pieces)+"\n                        "),t.current_core_waybill_counter<t.core_waybill_pieces?i("span",[e._v("\n                            ("+e._s(e.$t("ui.scanner.jobs.no_add_status"))+")\n                        ")]):e._e()]):e._e()]),i("div",{staticClass:"description"},e._l(t.errors,function(n){return t.errors.length>0?i("p",[i("i",{staticClass:"icon red exclamation triangle"}),e._v("\n                        "+e._s(n)+"\n                    ")]):i("p",[e._v("\n                        "+e._s(e.$t("ui.scanner.jobs.no_error"))+"\n                    ")])}))])])})):e._e()],1):i("div",{staticClass:"content",class:{"z-depth-3":e.is_modal}},[i("button",{staticClass:"big fluid ui black button",on:{click:function(t){e.init()}}},[e._v("\n        "+e._s(e.$t("ui.notifications.help.please_clicked_initialize_again"))+"\n    ")])])},r=[],s=n("1346"),o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"scanner_settings"}},[e.is_initialized?i("div",[e.is_mobile_width?i("carousel",{ref:"settings_carousel",attrs:{perPage:1,speed:390,minSwipeDistance:120,paginationEnabled:!1,navigateTo:e.current_column_index}},e._l(e.menus,function(t,n){return i("slide",{key:t.component_name},[0!=n?i("NavigationLeft"):e._e(),i(t.component_name,{tag:"component",attrs:{is_inverted:e.is_inverted}}),n+1!=e.menus.length?i("NavigationRight"):e._e()],1)})):i("div",[i("div",{staticClass:"ui top tabular menu"},e._l(e.menus,function(t){return i("div",{staticClass:"item pointer",class:{active:e.current_setting_component==t.component_name},style:{color:e.theme.color.font},on:{click:function(i){e.current_setting_component=t.component_name}}},[e._v("\n                    "+e._s(t.title)+"\n                ")])})),i(e.current_setting_component,{tag:"component",attrs:{is_inverted:e.is_inverted}})],1)],1):e._e()])},c=[],l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{style:{color:e.theme.color.font},attrs:{id:"scanner_setting_details"}},["customer"!=this.$store.state.current_scope?i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui fluid selection dropdown no top border",style:{background:e.theme.background?e.theme.background:"none",color:e.theme.color.font}},[i("div",{staticClass:"text"},[e._v("\n            "+e._s(e.$t("ui.scanner.helps.current_scan_action_prototype"))+"：\n            "),e.current_scan_action_prototype.identity?i("span",[e._v("\n                "+e._s(e.current_scan_action_prototype.name+"("+e.current_scan_action_prototype.barcode+")")+"\n            ")]):i("span",[e._v("\n                "+e._s(e.$t("ui.general.no"))+"\n                "+e._s(e.$t("ui.general.select"))+"\n            ")])]),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu",style:{background:e.theme.background?e.theme.background:"none"}},e._l(e.scan_action_prototypes,function(t){return i("div",{staticClass:"item",style:{color:e.theme.color.font,background:t.identity==e.current_scan_action_prototype.identity?"rgba(0,0,0,.5)":""},on:{click:function(i){e.$bus.$emit("set_current_scan_action_prototype",t.identity)}}},[e._v("\n                "+e._s(t.name)+"("+e._s(t.barcode)+")\n            ")])}))]):e._e(),i("div",{staticClass:"ui doubling five column grid settings",class:{inverted:e.is_inverted},staticStyle:{"margin-top":"0.1rem","margin-bottom":"0.2rem"}},[e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_scan_action_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_scan_action_mode},on:{click:function(t){e.settings.is_scan_action_mode=!e.settings.is_scan_action_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"icon",class:{barcode:e.settings.is_scan_action_mode,eye:!e.settings.is_scan_action_mode}})]),i("p",[e._v("\n                "+e._s(e.settings.is_scan_action_mode?e.$tc("ui.scanner.settings.is_scan_action_mode.true"):e.$tc("ui.scanner.settings.is_scan_action_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_distributed_to_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_distributed_to_mode},on:{click:function(t){e.settings.is_distributed_to_mode=!e.settings.is_distributed_to_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"external share icon"}),e.settings.is_distributed_to_mode?e._e():i("i",{staticClass:"bottom left corner red dont icon"})]),i("p",[e._v("\n                "+e._s(e.settings.is_distributed_to_mode?e.$tc("ui.scanner.settings.is_distributed_to_mode.true"):e.$tc("ui.scanner.settings.is_distributed_to_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_package_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_package_mode},on:{click:function(t){e.settings.is_package_mode=!e.settings.is_package_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"group object icon"}),e.settings.is_package_mode?e._e():i("i",{staticClass:"bottom left corner red dont icon"})]),i("p",[e._v("\n                "+e._s(e.settings.is_package_mode?e.$tc("ui.scanner.settings.is_package_mode.true"):e.$tc("ui.scanner.settings.is_package_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_unpackage_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_unpackage_mode},on:{click:function(t){e.settings.is_unpackage_mode=!e.settings.is_unpackage_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"ungroup object icon"}),e.settings.is_unpackage_mode?e._e():i("i",{staticClass:"bottom left corner red dont icon"})]),i("p",[e._v("\n                "+e._s(e.settings.is_unpackage_mode?e.$tc("ui.scanner.settings.is_unpackage_mode.true"):e.$tc("ui.scanner.settings.is_unpackage_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_update_corewaybill_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_update_corewaybill_mode},on:{click:function(t){e.settings.is_update_corewaybill_mode=!e.settings.imitate_mode&&!e.settings.is_update_corewaybill_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"edit icon"}),e.settings.is_update_corewaybill_mode?e._e():i("i",{staticClass:"bottom left corner red dont icon"}),e.settings.imitate_mode?i("i",{staticClass:"top left corner red lock icon",staticStyle:{top:"6px",left:"-6px"}}):e._e()]),i("p",[e._v("\n                "+e._s(e.settings.is_update_corewaybill_mode?e.$tc("ui.scanner.settings.is_update_corewaybill_mode.true"):e.$tc("ui.scanner.settings.is_update_corewaybill_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_auto_print_label_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_auto_print_label_mode},on:{click:function(t){e.settings.is_auto_print_label_mode=!e.settings.is_auto_print_label_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"print icon"}),e.settings.is_auto_print_label_mode?e._e():i("i",{staticClass:"bottom left corner red dont icon"})]),i("p",[e._v("\n                "+e._s(e.settings.is_auto_print_label_mode?e.$tc("ui.scanner.settings.is_auto_print_label_mode.true"):e.$tc("ui.scanner.settings.is_auto_print_label_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_scan_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_scan_mode},on:{click:function(t){e.settings.is_scan_mode=!e.settings.is_scan_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"write icon"}),e.settings.is_scan_mode?i("i",{staticClass:"bottom left corner red dont icon"}):e._e()]),i("p",[e._v("\n                "+e._s(e.settings.is_scan_mode?e.$tc("ui.scanner.settings.is_scan_mode.true"):e.$tc("ui.scanner.settings.is_scan_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_noty_audio_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_noty_audio_mode},on:{click:function(t){e.settings.is_noty_audio_mode=!e.settings.is_noty_audio_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"volume up icon"}),e.settings.is_noty_audio_mode?e._e():i("i",{staticClass:"bottom left corner red dont icon"})]),i("p",[e._v("\n                "+e._s(e.settings.is_noty_audio_mode?e.$tc("ui.scanner.settings.is_noty_audio_mode.true"):e.$tc("ui.scanner.settings.is_noty_audio_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_speech_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_speech_mode},on:{click:function(t){e.settings.is_speech_mode=!e.settings.is_speech_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"file audio outline icon"}),e.settings.is_speech_mode?e._e():i("i",{staticClass:"bottom left corner red dont icon"})]),i("p",[e._v("\n                "+e._s(e.settings.is_speech_mode?e.$tc("ui.scanner.settings.is_speech_mode.true"):e.$tc("ui.scanner.settings.is_speech_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_core_waybill_pieces_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_core_waybill_pieces_mode},on:{click:function(t){e.settings.is_core_waybill_pieces_mode=!e.settings.is_core_waybill_pieces_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"cubes icon",staticStyle:{width:"34px"}}),e.settings.is_core_waybill_pieces_mode?e._e():i("i",{staticClass:"bottom left corner red dont icon"})]),i("p",[e._v("\n                "+e._s(e.settings.is_core_waybill_pieces_mode?e.$tc("ui.scanner.settings.is_core_waybill_pieces_mode.true"):e.$tc("ui.scanner.settings.is_core_waybill_pieces_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_quick_corewaybill_related_columns")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_quick_corewaybill_related_columns},on:{click:function(t){e.settings.is_quick_corewaybill_related_columns=!e.settings.is_quick_corewaybill_related_columns}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"paste up icon"}),e.settings.is_quick_corewaybill_related_columns?e._e():i("i",{staticClass:"bottom left corner red dont icon"})]),i("p",[e._v("\n                "+e._s(e.settings.is_quick_corewaybill_related_columns?e.$tc("ui.scanner.settings.is_quick_corewaybill_related_columns.true"):e.$tc("ui.scanner.settings.is_quick_corewaybill_related_columns.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_batch_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_batch_mode},on:{click:function(t){e.settings.is_batch_mode=!e.settings.is_batch_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"copy outline icon"}),e.settings.is_batch_mode?e._e():i("i",{staticClass:"bottom left corner red dont icon"})]),i("p",[e._v("\n                "+e._s(e.settings.is_batch_mode?e.$tc("ui.scanner.settings.is_batch_mode.true"):e.$tc("ui.scanner.settings.is_batch_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("core_waybill_template_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:"min_card"==e.settings.core_waybill_template_mode},on:{click:function(t){e.settings.core_waybill_template_mode="min_card"}}},[e._m(0),i("p",[e._v("\n                "+e._s(e.$tc("ui.scanner.settings.core_waybill_template_mode.min_card"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("core_waybill_template_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:"card"==e.settings.core_waybill_template_mode},on:{click:function(t){e.settings.core_waybill_template_mode="card"}}},[e._m(1),i("p",[e._v("\n                "+e._s(e.$tc("ui.scanner.settings.core_waybill_template_mode.card"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("core_waybill_template_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:"detail"==e.settings.core_waybill_template_mode},on:{click:function(t){e.settings.core_waybill_template_mode="detail"}}},[e._m(2),i("p",[e._v("\n                "+e._s(e.$tc("ui.scanner.settings.core_waybill_template_mode.detail"))+"\n            ")])]):e._e()])])},u=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("i",{staticClass:"big icons"},[i("i",{staticClass:"icon minus"})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("i",{staticClass:"big icons"},[i("i",{staticClass:"icon list"})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("i",{staticClass:"big icons"},[i("i",{staticClass:"icon file text"})])}],d={props:{is_inverted:{default:!1,type:Boolean}},data:function(){return{is_setting:!1}},computed:{current_store:function(){return this.$store.state[this.$store.state.current_scope].scanner_module},theme:function(){return this.current_store.config.theme},can_use_settings:function(){return this.current_store.config.settings},scan_action_prototypes:function(){return this.current_store.scan_action_prototypes},current_scan_action_prototype:function(){return this.current_store.current_scan_action_prototype},settings:function(){return this.current_store.settings}},watch:{},mounted:function(){},methods:{},components:{}},p=d,m=(n("8dac"),n("2877")),f=Object(m["a"])(p,l,u,!1,null,"22a1c06a",null),v=f.exports,h=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"scanner_setting_groups"}},[i("div",{staticClass:"ui doubling five column grid setting_groups",staticStyle:{"margin-top":"0.1rem","margin-bottom":"0.2rem",color:"white"}},e._l(e.setting_groups,function(t){return t.is_hide?e._e():i("Group",{key:t.barcode,class:{inverted:e.is_inverted},attrs:{setting_group:t}})}))])},g=[],b=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"column center aligned pointer setting_group"},[i("div",{staticClass:"box",style:{backgroundColor:e.setting_group.color},on:{click:function(t){e.set_settings()}}},[i("img",{staticClass:"sprite",attrs:{src:"/images/barcode_setting_group_icons/"+e.setting_group.icon_file_name+".svg"}}),i("p",{staticClass:"mobile only",style:{fontSize:e.content_font_size+"px"}},[e._v("\n            "+e._s(e.setting_group.name||"-")+"\n        ")]),i("p",{staticClass:"computer only"},[e._v("\n            "+e._s(e.setting_group.name||"-")+"\n        ")])])])},y=[],w={props:{setting_group:Object},data:function(){return{content_font_size:this.calculate_content_font_size()}},computed:{current_store:function(){return this.$store.state[this.$store.state.current_scope].scanner_module}},watch:{},mounted:function(){},methods:{calculate_content_font_size:function(){var e=this,t=e.setting_group.name.length;return t>4?17:""},set_settings:function(){var e=this;e.$bus.$emit("quick_setting_number","@@"+e.setting_group.barcode+"@@",!1,!1)}},components:{}},k=w,C=(n("d3af"),Object(m["a"])(k,b,y,!1,null,"75846638",null)),x=C.exports,P={components:{Group:x},props:{is_inverted:{default:!1,type:Boolean}},data:function(){return{is_setting:!1}},computed:{current_store:function(){return this.$store.state[this.$store.state.current_scope].scanner_module},setting_groups:function(){return this.current_store.setting_groups}},watch:{},mounted:function(){},methods:{}},S=P,N=(n("953a"),Object(m["a"])(S,h,g,!1,null,"10e66471",null)),A=N.exports,E=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"scanner_setting_operations"}},[e.operations.length?i("div",[i("h3",[e._v("\n            "+e._s(e.$t("ui.scanner.operations.total",{operations_length:e.operations.length,sum_core_waybills:e.sum_core_waybills}))+"\n        ")])]):e._e(),e._l(e.operations,function(t){return e.operations.length?i("div",{staticClass:"ui segment pointer operation",class:{active:e.current_staff_operation.identity==t.identity},on:{click:function(i){i.preventDefault(),e.set_current_operation(t)}}},[i("h3",{staticStyle:{"margin-bottom":"3px"}},[e._v("\n            "+e._s(t.number)+"\n            "),i("span",{staticClass:"sub_title"},[t.customer?i("span",[e._v("\n                    ["+e._s(t.customer.company_name)+"]\n                ")]):e._e(),i("span",[e._v("\n                    / "+e._s(t.core_waybills.length)+"件\n                ")])])]),i("div",{staticClass:"content",domProps:{innerHTML:e._s(t.provider_note)}}),e.current_staff_operation.identity==t.identity?i("div",{staticClass:"core_waybills"},[i("span",[e._v("\n                "+e._s(e.$t("ui.scanner.operations.contents"))+"：\n                "),e._l(e.sort_operation_core_waybills_numbers,function(t,n){return i("span",[e._v("\n                    "+e._s(t)+"\n                    "),e.sort_operation_core_waybills_numbers.length!=n+1?i("span",[e._v("\n                        /\n                    ")]):e._e()])})],2)]):e._e()]):e._e()}),e.operations.length?e._e():i("div",{staticClass:"ui segment pointer operation"},[i("h3",{style:{color:e.theme.color.font}},[e._v("\n            "+e._s(e.$t("ui.scanner.helps.you_dont_any_operation"))+"\n        ")])]),i("div",{staticClass:"refresh_operations_icon",on:{click:function(t){e.$store.dispatch("provider/fetch_current_staff_operations")}}},[i("i",{staticClass:"icon big refresh pointer"})])],2)},q=[],z={props:{is_inverted:{default:!1,type:Boolean}},data:function(){return{is_setting:!1,core_waybill_identities:[]}},computed:{current_store:function(){return this.$store.state[this.$store.state.current_scope].scanner_module},theme:function(){return this.current_store.config.theme},operations:function(){return this.$store.state.provider.current_staff_operations},current_staff_operation:function(){return this.$store.state.provider.current_staff_operation},sort_operation_core_waybills_numbers:function(){var e=_.map(this.current_staff_operation.core_waybills,"number")||[];return e.sort().reverse()},sum_core_waybills:function(){return _.sumBy(this.operations,function(e){return e.core_waybills.length})}},watch:{},mounted:function(){},methods:{set_current_operation:function(e){var t=this;e.identity==t.current_staff_operation.identity?(t.$noty.warning(t.$t("ui.scanner.operations.clear_current_operation"),200),t.$store.dispatch("provider/set_current_staff_operation",{})):(t.$noty.success(t.$t("ui.scanner.operations.current_operation_set_to")+" "+e.number,300),t.$store.dispatch("provider/set_current_staff_operation",e))}},components:{}},j=z,R=(n("e179"),Object(m["a"])(j,E,q,!1,null,"a2116fc8",null)),I=R.exports,T=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{style:{color:e.is_inverted?"white":"black",paddingTop:e.top?"0px":"25%",top:e.top?e.top:"0"},attrs:{id:"navigation_left"}},[i("i",{staticClass:"caret left icon"})])},O=[],L={components:{},props:{is_inverted:{default:!0,type:Boolean},top:{default:"",type:String}},data:function(){return{}},mounted:function(){},watch:{},computed:{},methods:{}},D=L,B=(n("d77c"),Object(m["a"])(D,T,O,!1,null,"5d944023",null)),M=B.exports,U=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{style:{color:e.is_inverted?"white":"black",paddingTop:e.top?"0px":"25%",top:e.top?e.top:"0"},attrs:{id:"navigation_right"}},[i("i",{staticClass:"caret right icon"})])},F=[],G={components:{},props:{is_inverted:{default:!0,type:Boolean},top:{default:"",type:String}},data:function(){return{}},mounted:function(){},watch:{},computed:{},methods:{}},H=G,Y=(n("d285"),Object(m["a"])(H,U,F,!1,null,"c9e94090",null)),K=Y.exports,W=n("0a63");function V(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function X(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){V(r,n,a,s,o,"next",e)}function o(e){V(r,n,a,s,o,"throw",e)}s(void 0)})}}var Q={components:{AllDetails:v,Groups:A,Carousel:W["Carousel"],NavigationRight:K,NavigationLeft:M,Slide:W["Slide"],Operations:I},props:{is_processing:{default:!1,type:Boolean},is_inverted:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1,is_mobile_width:!1,current_column_index:0,current_setting_component:"Groups",menus:[]}},computed:{language:function(){return this.$store.state.language},current_store:function(){return this.$store.state[this.$store.state.current_scope].scanner_module},theme:function(){return this.current_store.config.theme},settings:function(){return this.current_store.settings}},watch:{language:{handler:function(t){try{this.init()}catch(e){console.log(e),this.$noty.error(e)}},deep:!0},"settings.is_scan_action_mode":function(e){var t=this;e?t.$noty.information(t.$tc("ui.scanner.settings.is_scan_action_mode.true")):t.$noty.warning(t.$tc("ui.scanner.settings.is_scan_action_mode.false")),localStorage.setItem("scanner_is_scan_action_mode",e)},"settings.is_distributed_to_mode":function(e){var t=this;e?t.$noty.information(t.$tc("ui.scanner.settings.is_distributed_to_mode.true")):t.$noty.warning(t.$tc("ui.scanner.settings.is_distributed_to_mode.false")),localStorage.setItem("scanner_is_distributed_to_mode",e)},"settings.is_package_mode":function(e){var t=this;e?(t.$noty.information(t.$tc("ui.scanner.settings.is_package_mode.true")),t.settings.is_unpackage_mode=!1):t.$noty.warning(t.$tc("ui.scanner.settings.is_package_mode.false")),localStorage.setItem("scanner_is_package_mode",e)},"settings.is_unpackage_mode":function(e){var t=this;e?(t.$noty.information(t.$tc("ui.scanner.settings.is_unpackage_mode.true")),t.settings.is_package_mode=!1):t.$noty.warning(t.$tc("ui.scanner.settings.is_unpackage_mode.false")),localStorage.setItem("scanner_is_unpackage_mode",e)},"settings.is_operation_mode":function(e){var t=this;e?t.$noty.information(t.$tc("ui.scanner.settings.is_operation_mode.true")):t.$noty.warning(t.$tc("ui.scanner.settings.is_operation_mode.false")),localStorage.setItem("scanner_is_operation_mode",e),t.set_menus()},"settings.is_auto_print_label_mode":function(e){var t=this;e?t.$noty.information(t.$tc("ui.scanner.settings.is_auto_print_label_mode.true")):t.$noty.warning(t.$tc("ui.scanner.settings.is_auto_print_label_mode.false")),localStorage.setItem("scanner_is_auto_print_label_mode",e)},"settings.is_high_performance_mode":function(e){var t=this;e?t.$noty.information(t.$tc("ui.scanner.settings.is_high_performance_mode.true")):t.$noty.warning(t.$tc("ui.scanner.settings.is_high_performance_mode.false")),localStorage.setItem("scanner_is_high_performance_mode",e)},"settings.is_scan_mode":function(e){var t=this;e?t.$noty.information(t.$tc("ui.scanner.settings.is_scan_mode.true")):t.$noty.warning(t.$tc("ui.scanner.settings.is_scan_mode.false")),localStorage.setItem("scanner_is_scan_mode",e)},"settings.is_update_corewaybill_mode":function(e){var t=this;e?t.$noty.information(t.$tc("ui.scanner.settings.is_update_corewaybill_mode.true")):t.$noty.warning(t.$tc("ui.scanner.settings.is_update_corewaybill_mode.false")),localStorage.setItem("scanner_is_update_corewaybill_mode",e)},"settings.is_noty_audio_mode":function(e){var t=this;e?t.$noty.information(t.$tc("ui.scanner.settings.is_noty_audio_mode.true")):t.$noty.warning(t.$tc("ui.scanner.settings.is_noty_audio_mode.false")),localStorage.setItem("scanner_is_noty_audio_mode",e)},"settings.is_speech_mode":function(e){var t=this;e?t.$noty.information(t.$tc("ui.scanner.settings.is_speech_mode.true")):t.$noty.warning(t.$tc("ui.scanner.settings.is_speech_mode.false")),localStorage.setItem("scanner_is_speech_mode",e)},"settings.is_quick_corewaybill_related_columns":function(e){var t=this;e?t.$noty.information(t.$tc("ui.scanner.settings.is_quick_corewaybill_related_columns.true")):t.$noty.warning(t.$tc("ui.scanner.settings.is_quick_corewaybill_related_columns.false")),localStorage.setItem("scanner_is_quick_corewaybill_related_columns",e)},"settings.is_batch_mode":function(e){var t=this;e?t.$noty.warning(t.$tc("ui.scanner.settings.is_batch_mode.true",3),2e3):t.$noty.information(t.$tc("ui.scanner.settings.is_batch_mode.false")),localStorage.setItem("scanner_is_batch_mode",e)},"settings.core_waybill_template_mode":function(e){var t=this,i="";i="min_card"==e?t.$tc("ui.scanner.settings.core_waybill_template_mode.min_card"):i,i="card"==e?t.$tc("ui.scanner.settings.core_waybill_template_mode.card"):i,i="detail"==e?t.$tc("ui.scanner.settings.core_waybill_template_mode.detail"):i,t.$noty.information(i)},is_mobile_width:function(e){var t=this;setTimeout(function(){e&&t.is_initialized&&(t.current_column_index=1)},100)}},mounted:function(){var e=this;e.init()},methods:{init:function(){var e=X(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,new Promise(function(e){t.menus=[],t.is_initialized=!1,e()});case 4:return e.next=6,t.set_menus();case 6:return e.next=8,t.set_is_mobile_width();case 8:return e.next=10,new Promise(function(e){t.is_initialized=!0,e()});case 10:e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](1),console.log(e.t0);case 15:case"end":return e.stop()}},e,this,[[1,12]])}));function t(){return e.apply(this,arguments)}return t}(),set_menus:function(){var e=this;return e.menus=[{title:e.$t("ui.scanner.menus.settings"),component_name:"AllDetails"},{title:e.$t("ui.scanner.menus.setting_group"),component_name:"Groups"}],e.settings.is_operation_mode&&e.menus.push({title:e.$t("ui.scanner.menus.operation"),component_name:"Operations"}),Promise.resolve()},set_is_mobile_width:function(){var e=this;return e.is_mobile_width=$(window).width()<=767,$(window).resize(function(){var t=$(window).width();e.is_mobile_width=t<=767}),Promise.resolve()}}},Z=Q,J=(n("db58"),Object(m["a"])(Z,o,c,!1,null,"0f7242b2",null)),ee=J.exports,te=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"dashboard"}},[i("div",{staticClass:"ui inverted dimmer",class:{active:e.is_loading}},[i("div",{staticClass:"ui indeterminate text loader"},[e._v("\n            "+e._s(e.$t("ui.general.initializing"))+"\n        ")])]),i("div",{staticClass:"ui form",class:{loading:e.is_processing,inverted:e.is_inverted}},[i("div",{staticClass:"ui fluid right action left icon big input",class:{"inverted transparent":e.is_inverted},style:{borderBottom:"4px "+e.current_setting_group.color+" solid",color:e.theme.color.font}},[i("i",{staticClass:"search icon"}),e.is_input_mode?i("input",{directives:[{name:"model",rawName:"v-model",value:e.input_number,expression:"input_number"}],ref:"search_input",staticClass:"no bottom border",style:{background:"none",color:e.theme.color.font},attrs:{type:"text",id:"search_input",autofocus:"true",autocomplete:"off",placeholder:e.$t("ui.scanner.helps.write_or_scan_barcode")},domProps:{value:e.input_number},on:{blur:function(t){e.input_blurred()},keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.input_submit()},input:function(t){t.target.composing||(e.input_number=t.target.value)}}}):i("div",{attrs:{id:"search_input"},on:{click:function(t){t.preventDefault(),e.input_focused()}}},[e._v("\n                "+e._s(e.current_number||e.$t("ui.scanner.helps.write_or_scan_barcode"))+"\n            ")]),i("div",{staticClass:"ui button no bottom border",class:{inverted:e.is_inverted,current_setting_group:e.current_setting_group},style:{backgroundColor:e.current_setting_group.color},on:{click:function(t){e.toggle_settings()}}},[e.current_setting_group?i("img",{staticClass:"sprite",attrs:{src:"/images/barcode_setting_group_icons/"+e.current_setting_group.icon_file_name+".svg"}}):i("i",{staticClass:"big floating ellipsis vertical icon",staticStyle:{margin:"0"}})])]),i("div",{staticClass:"ui bottom right settings label no top border pointer",class:{inverted:e.is_inverted,show_setting_modes_content:e.is_setting},style:{background:"none",color:e.theme.color.font},on:{click:function(t){e.toggle_settings()}}},[i("div",{staticClass:"settings_content"},[i("span",{staticClass:"setting_modes_content",class:{show_setting_modes_content:e.is_setting}},[e.settings.is_scan_action_mode&&e.current_scan_action_prototype.identity?i("span",[e._v(e._s(e.current_scan_action_prototype.name+"("+e.current_scan_action_prototype.barcode+")")+"、\n                    ")]):i("span",[e.current_setting_group.is_hide?e._e():i("span",[e._v("\n                            "+e._s(e.current_setting_group.name)+" 、\n                        ")])]),e._v("\n\n                    "+e._s(e.settings.is_batch_mode?e.$tc("ui.scanner.settings.is_batch_mode.true")+"、":"")+"\n                    "+e._s(e.settings.is_distributed_to_mode?e.$tc("ui.scanner.settings.is_distributed_to_mode.true",2)+"、":"")+"\n                    "+e._s(e.settings.is_package_mode?e.$tc("ui.scanner.settings.is_package_mode.true",2)+"、":"")+"\n                    "+e._s(e.settings.is_unpackage_mode?e.$tc("ui.scanner.settings.is_unpackage_mode.true",2)+"、":"")+"\n\n                    "),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_auto_print_label_mode")?i("span",[e._v("\n                        "+e._s(e.settings.is_auto_print_label_mode?e.$tc("ui.scanner.settings.is_auto_print_label_mode.true",2):e.$tc("ui.scanner.settings.is_auto_print_label_mode.false",2))+"、\n                    ")]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_scan_mode")?i("span",[e._v("\n                        "+e._s(e.settings.is_scan_mode?e.$tc("ui.scanner.settings.is_scan_mode.true",2):e.$tc("ui.scanner.settings.is_scan_mode.false",2))+"、\n                    ")]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_speech_mode")?i("span",[e._v("\n                        "+e._s(e.settings.is_speech_mode?e.$tc("ui.scanner.settings.is_speech_mode.true",2):e.$tc("ui.scanner.settings.is_speech_mode.false",2))+"、\n                    ")]):e._e(),e._v("\n\n                    "+e._s(e.settings.is_update_corewaybill_mode?e.$tc("ui.scanner.settings.is_update_corewaybill_mode.true",2)+"、":"")+"\n\n                    "),e._v("\n                    "+e._s(e.$t("ui.scanner.settings.core_waybill_template_mode.short_name"))+"：\n                    "+e._s("min_card"==e.settings.core_waybill_template_mode?e.$tc("ui.scanner.settings.core_waybill_template_mode.min_card",2):"")+"\n                    "+e._s("card"==e.settings.core_waybill_template_mode?e.$tc("ui.scanner.settings.core_waybill_template_mode.card",2):"")+"\n                    "+e._s("detail"==e.settings.core_waybill_template_mode?e.$tc("ui.scanner.settings.core_waybill_template_mode.detail",2):"")+"\n                ")])]),i("div",{staticClass:"toggle_is_setting_icon",class:{show_setting_modes_content:e.is_setting}},[i("i",{staticClass:"large icon angle double",class:{up:e.is_setting,down:!e.is_setting},style:{color:e.theme.color.show_setting_icon}})])])])])},ie=[];function ne(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function ae(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){ne(r,n,a,s,o,"next",e)}function o(e){ne(r,n,a,s,o,"throw",e)}s(void 0)})}}var re={props:{is_processing:Boolean,current_scan_action_prototype:Object,current_number:String,is_inverted:{default:!1,type:Boolean}},data:function(){return{input_number:"",is_input_mode:!1,is_loading:!1}},mounted:function(){},watch:{},computed:{current_store:function(){return this.$store.state[this.$store.state.current_scope].scanner_module},theme:function(){return this.current_store.config.theme},settings:function(){return this.current_store.settings},is_setting:function(){return this.current_store.is_setting},current_setting_group:function(){return this.current_store.current_setting_group}},methods:{input_focused:function(){var e=ae(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_input_mode=!0,e()});case 3:return e.next=5,new Promise(function(e){t.input_number=t.current_number,e()});case 5:return e.next=7,new Promise(function(e){t.$nextTick(function(){$("#search_input").focus(),t.$refs.search_input.focus()}),e()});case 7:return e.next=9,t.$bus.$emit("set_input_mode",!0);case 9:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),input_blurred:function(){var e=ae(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,t.$bus.$emit("set_current_number",t.input_number);case 3:return e.next=5,new Promise(function(e){t.is_input_mode=!1,t.input_number="",e()});case 5:return e.next=7,t.$bus.$emit("set_input_mode",!1);case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),input_submit:function(){var e=ae(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,t.input_blurred();case 4:return e.next=6,t.$bus.$emit("enqueue");case 6:e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log(e.t0);case 11:case"end":return e.stop()}},e,this,[[1,8]])}));function t(){return e.apply(this,arguments)}return t}(),toggle_settings:function(){var e=this;e.$parent.toggle_settings_div()}},components:{}},se=re,oe=(n("dd18"),Object(m["a"])(se,te,ie,!1,null,"533391e2",null)),ce=oe.exports,_e=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.is_initialized?i("div",{attrs:{id:"core_waybill"}},[e.settings.is_package_mode||e.settings.is_unpackage_mode?i("div",[e.is_mobile_width?i("carousel",{attrs:{perPage:1,speed:390,minSwipeDistance:120,paginationEnabled:!1}},[i("slide",[i("Package",{attrs:{is_inverted:e.is_inverted}}),i("NavigationRight",{attrs:{top:"18px"}})],1),i("slide",[i("NavigationLeft",{attrs:{top:"18px"}}),i("General",{attrs:{is_inverted:e.is_inverted}})],1)],1):i("div",[i("div",{staticClass:"ui top tabular menu"},e._l(e.top_menus,function(t){return i("div",{staticClass:"item pointer",class:{active:e.current_setting_component==t.component_name},style:{color:e.theme.color.font},on:{click:function(i){e.current_setting_component=t.component_name}}},[e._v("\n                    "+e._s(t.title)+"\n                ")])})),i(e.current_setting_component,{tag:"component",attrs:{is_inverted:e.is_inverted}})],1)],1):i("div",[i("General",{attrs:{is_inverted:e.is_inverted}})],1)]):e._e()},le=[],ue=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"package_core_waybill"}},[i("div",{staticClass:"ui divider"}),e.settings.is_package_mode||e.is_initialized?i("div",{staticClass:"current_pack"},[i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui top pointing dropdown button",staticStyle:{"margin-right":"0"},on:{change:function(t){e.$forceUpdate()}}},[e._l(e.materials,function(t){return e.current_pack_taget_parent_material.identity==t.identity?i("div",{staticClass:"text"},[e._v("\n                "+e._s(e.current_pack_taget_parent_material.name)+"\n            ")]):e._e()}),e.current_pack_taget_parent_material.name?e._e():i("div",{staticClass:"text"},[e._v("\n                "+e._s(e.$t("ui.general.please_select"))+"\n                "+e._s(e.$t("ui.scanner.package.packing_material"))+"\n\n            ")]),i("div",{staticClass:"menu"},e._l(e.materials,function(t){return i("div",{staticClass:"item",class:{active:t.identity==e.current_pack_taget_parent_material.identity},on:{click:function(i){e.current_store.current_pack_taget_parent_material_identity=t.identity}}},[e._v("\n                    "+e._s(t.name)+"\n                ")])}))],2),i("span",{staticStyle:{"font-size":"20px","vertical-align":"sub"}},[e._v("\n            "+e._s(e.$t("ui.scanner.package.package"))+"\n        ")]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui top pointing dropdown button",on:{change:function(t){e.$forceUpdate()}}},[e._l(e.materials,function(t){return e.current_pack_taget_material.identity==t.identity?i("div",{staticClass:"text"},[e._v("\n                "+e._s(e.current_pack_taget_material.name)+"\n            ")]):e._e()}),e.current_pack_taget_material.name?e._e():i("div",{staticClass:"text"},[e._v("\n                "+e._s(e.$t("ui.scanner.helps.select_pack_taget"))+"\n            ")]),i("div",{staticClass:"menu"},e._l(e.materials,function(t){return i("div",{staticClass:"item",class:{active:t.identity==e.current_pack_taget_material.identity},on:{click:function(i){e.current_store.current_pack_taget_material_identity=t.identity}}},[e._v("\n                    "+e._s(t.name)+"\n                ")])}))],2),i("div",{staticClass:"ui checkbox",staticStyle:{"vertical-align":"middle"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.settings.pack_need_source_mode,expression:"settings.pack_need_source_mode"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.settings.pack_need_source_mode)?e._i(e.settings.pack_need_source_mode,null)>-1:e.settings.pack_need_source_mode},on:{change:function(t){var i=e.settings.pack_need_source_mode,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&e.$set(e.settings,"pack_need_source_mode",i.concat([r])):s>-1&&e.$set(e.settings,"pack_need_source_mode",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.settings,"pack_need_source_mode",a)}}}),i("label",{staticClass:"pointer",class:{active:e.settings.pack_need_source_mode},on:{click:function(t){e.current_store.settings.pack_need_source_mode=!e.current_store.settings.pack_need_source_mode}}},[e._v("\n                "+e._s(e.$tc("ui.scanner.settings.pack_need_source_mode.short_name"))+"\n            ")])])]):e._e(),e.package_message.content?i("div",{staticClass:"package_message",class:[e.package_message.status]},[e._v("\n        "+e._s(e.package_message.content)+"\n    ")]):e._e(),i("h2",{staticStyle:{margin:"0"}},[e._v("\n        "+e._s(e.current_package.parent_core_waybill.number||e.package_no_number_content)+"\n        "),e.current_package.parent_core_waybill.material?i("span",{staticClass:"material_name"},[e._v("\n            ["+e._s(e.current_package.parent_core_waybill.material.name)+"]\n        ")]):e._e()]),e.current_package.core_waybills.length?i("div",{staticClass:"goods"},[e._l(e.current_package.core_waybills,function(t){return i("h3",[e._v("\n            "+e._s(t.number)+"\n            "),t.material?i("span",{staticClass:"material_name"},[e._v("\n                ["+e._s(t.material.name)+"]\n            ")]):e._e()])}),i("div",{staticClass:"fluid ui button no border",on:{click:function(t){e.submit_package()}}},[e._v("\n            "+e._s(e.$t("ui.general.submit"))+"\n        ")])],2):e._e(),e.desc_ordered_package_response_history.length?i("div",{staticClass:"ui list package_response_history"},e._l(e.desc_ordered_package_response_history,function(e){return i("PackageHistoryItem",{key:e.id,staticClass:"item",attrs:{package_response:e}})})):e._e()])},de=[],pe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"package_history_item"},[i("span",[e._v("\n        "+e._s(e.package_response.is_setting_is_package_mode?e.$t("ui.scanner.package.package"):e.$t("ui.scanner.package.unpackage"))+"\n    ")]),"success"==e.package_response.status?i("span",{staticStyle:{color:"green"}},[e._v("\n        "+e._s(e.$t("success"))+"\n    ")]):e._e(),"failure"==e.package_response.status?i("span",{staticStyle:{color:"red"}},[e._v("\n        "+e._s(e.$t("ui.general.failure"))+"\n    ")]):e._e(),e._v("\n\n    "+e._s(e.package_response.parent_core_waybill.number)+"\n    ["+e._s(e.package_response.parent_core_waybill.material.name)+"]\n    "),e.package_response.is_setting_is_package_mode?i("span",[e._v("\n        "+e._s(e.$t("ui.scanner.package.total__number",{number:e.package_response.parent_core_waybill.child_core_waybills.length}))+"\n    ")]):e._e(),e.package_response.is_setting_is_package_mode?i("span",{staticClass:"pointer",staticStyle:{"font-size":"small","font-weight":"bold"},on:{click:function(t){e.is_show_detail=!e.is_show_detail}}},[e._v("\n        ["+e._s(e.is_show_detail?e.$t("ui.scanner.package.hide"):e.$t("ui.scanner.package.detail"))+"]\n    ")]):e._e(),e.is_show_detail?i("div",{staticClass:"current_package_response"},[e.package_response.parent_core_waybill.child_core_waybills.length?i("div",{staticClass:"goods",staticStyle:{padding:"6px"}},e._l(e.package_response.parent_core_waybill.child_core_waybills,function(t){return i("span",[e._v("\n                "+e._s(t.number)+"\n                "),t.material?i("span",{staticClass:"material_name"},[e._v("\n                    ["+e._s(t.material.name)+"]\n                ")]):e._e(),e._v("\n                /\n            ")])})):e._e()]):e._e()])},me=[],fe={components:{},props:{package_response:{default:{},type:Object}},data:function(){return{is_show_detail:!1}},mounted:function(){},watch:{},computed:{},methods:{}},ve=fe,he=(n("5750"),Object(m["a"])(ve,pe,me,!1,null,"a8499762",null)),ge=he.exports;function be(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function ye(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){be(r,n,a,s,o,"next",e)}function o(e){be(r,n,a,s,o,"throw",e)}s(void 0)})}}var we={components:{PackageHistoryItem:ge},props:{is_inverted:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1,package_no_number_content:this.$t("ui.scanner.helps.select_target_layer")}},mounted:function(){var e=this;e.init()},watch:{"settings.pack_need_source_mode":function(e){var t=this;t.fetch_and_set_local_storage("pack_need_source_mode",e)},"settings.pack_p_m_mode":function(e){var t=this;t.fetch_and_set_local_storage("pack_p_m_mode",e),t.init()},"settings.pack_m_mode":function(e){var t=this;t.fetch_and_set_local_storage("pack_m_mode",e),t.init()},current_pack_taget_parent_material:function(e){var t=this;e.class_name!=t.settings.pack_p_m_mode&&t.clear_current_pack(),t.settings.pack_p_m_mode=e.class_name},current_pack_taget_material:function(e){var t=this;t.settings.pack_m_mode=e.class_name}},computed:{current_store:function(){return this.$store.state.provider.scanner_module},settings:function(){return this.current_store.settings},current_pack_taget_parent_material:function(){return this.$store.getters["provider/scanner_module/current_pack_taget_parent_material"]},current_pack_taget_material:function(){return this.$store.getters["provider/scanner_module/current_pack_taget_material"]},materials:function(){return this.current_store.materials},current_package:{cache:!1,get:function(){return this.current_store["package"]}},package_message:function(){return this.current_store.package_message},desc_ordered_package_response_history:function(){return _.orderBy(this.current_store.package_response_history,"id","desc")}},methods:{init:function(){var e=ye(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,t.is_initialized=!1,e.next=4,t.set_pack_material();case 4:return e.next=6,t.set_package_no_number_content();case 6:return e.next=8,new Promise(function(e){t.is_initialized=!0});case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),set_pack_material:function(){var e=this;if(e.settings.pack_p_m_mode){var t=_.find(e.materials,function(t){var i=new RegExp(e.settings.pack_p_m_mode,"i");return t.class_name.match(i)});e.current_store.current_pack_taget_parent_material_identity=t.identity?t.identity:""}if(e.settings.pack_m_mode){t=_.find(e.materials,function(t){var i=new RegExp(e.settings.pack_m_mode,"i");return t.class_name.match(i)});e.current_store.current_pack_taget_material_identity=t.identity?t.identity:""}return Promise.resolve()},set_package_no_number_content:function(){var e=this;try{if(!e.current_pack_taget_parent_material.name)throw e.$t("ui.scanner.helps.select_pack_taget_parent");if(!e.current_pack_taget_material.name)throw e.$t("ui.scanner.helps.select_pack_taget");throw e.$t("ui.scanner.helps.scan")+" "+e.current_pack_taget_parent_material.name}catch(t){e.package_no_number_content=t}},fetch_and_set_local_storage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i="scanner_"+e,n=localStorage.getItem(i);return!1===t&&localStorage.setItem(i,t),null==n||""==n||""!=t?(localStorage.setItem(i,t),t):localStorage.getItem(i)},submit_package:function(){var e=ye(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,t.$store.dispatch("provider/scanner_module/submit_package");case 3:return e.next=5,t.clear_current_pack();case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),clear_current_pack:function(){var e=this;return e.current_store["package"]={parent_core_waybill:{},core_waybill_identities:[],core_waybills:[],source_core_waybill_identity:null},Promise.resolve()}}},$e=we,ke=(n("1cb9"),Object(m["a"])($e,ue,de,!1,null,"dd3f66ea",null)),Ce=ke.exports,xe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"content_core_waybill"}},[e.current_core_waybill_need_related_columns.length&&e.settings.is_quick_corewaybill_related_columns&&e.current_setting_group.is_scan_action?i("QuickRelatedColumns",{attrs:{is_inverted:e.is_inverted}}):e._e(),i("div",{staticClass:"ui divider"}),e.current_staff_operation.number||e.settings.is_distributed_to_mode||e.settings.is_unpackage_mode||e.settings.is_package_mode?i("h3",{staticClass:"center aligned",staticStyle:{margin:"0 auto","padding-bottom":"6px"}},[e.settings.is_distributed_to_mode&&!e.$store.getters["provider/current_station"].identity?i("span",[i("i",{staticClass:"exclamation triangle red icon"}),e._v("\n                "+e._s(e.$t("ui.scanner.helps.distributed.please_select"))+"\n                "),i("span",{staticClass:"pointer",staticStyle:{color:"red"},on:{click:function(t){e.$bus.$emit("toggle_station_modal","show")}}},[e._v("\n                    "+e._s(e.$t("ui.scanner.helps.distributed.current_station"))+"\n                ")]),e._v("\n                ，"+e._s(e.$t("ui.scanner.helps.distributed.can_use_distributed_to_mode"))+"\n                "),i("br")]):e._e(),e.settings.is_package_mode?i("span",[e._v("\n            "+e._s(e.$tc("ui.scanner.settings.is_package_mode.true",3))+"\n        ")]):e._e(),e.settings.is_unpackage_mode?i("span",[e._v("\n            "+e._s(e.$tc("ui.scanner.settings.is_unpackage_mode.true",3))+"\n        ")]):e._e(),e.current_staff_operation.number?i("span",[e.settings.is_package_mode||e.settings.is_unpackage_mode?i("span",[e._v("\n                、\n            ")]):e._e(),e._v("\n            "+e._s(e.$t("ui.scanner.helps.selected_operation"))+"：\n            "+e._s(e.current_staff_operation.number)+"\n            "),e.current_staff_operation.provider_note?i("span",[e._v("\n                、"+e._s(e.current_staff_operation.provider_note)+"\n            ")]):e._e()]):e._e()]):e._e(),i("div",{staticClass:"ui stackable centered grid"},[i("div",{staticClass:"wide column"},[i("DistributedResponse",{attrs:{"v-if":e.settings.is_distributed_to_mode,is_inverted:e.is_inverted}}),i("SingleCoreWaybill",{attrs:{current_core_waybill:e.current_core_waybill,is_inverted:e.is_inverted,settings:e.settings,card_half_style:!0,file_uploader:!0,fetch_core_waybill_statuses:!0,related_columns:e.current_scan_action_prototype.related_columns,current_scan_action_prototype:e.current_scan_action_prototype}})],1)])],1)},Pe=[],Se=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.current_core_waybill.identity&&"new"!=e.current_store.current_job.core_waybill_scope?i("div",[i("CoreWaybill",{staticStyle:{margin:"0px"},attrs:{core_waybill:e.current_core_waybill,template:e.tool_core_waybill_settings.template,scope:e.$store.state.current_scope,is_inverted:e.is_inverted,is_in_scanner_modal:!0,is_show_change_template_btns:!0,is_auto_print:e.tool_core_waybill_settings.is_auto_print,is_can_print_label:e.tool_core_waybill_settings.is_print_label,is_can_update:e.tool_core_waybill_settings.is_update_corewaybill,can_update_field_names:"LA04"==e.current_setting_group.barcode?["receipt_file_url"]:[],cant_update_field_names:e.tool_core_waybill_settings.cant_update_field_names,card:{is_half_style:!0,is_simple_form:!1,is_vertical:e.is_vertical,is_show_note:!0},detail:{is_show_blood_related:!0,is_show_receipt_file:!0,is_show_partition:!0,is_show_statuses:!0}}})],1):i("div")},Ne=[],Ae=n("41a7");function Ee(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function qe(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){Ee(r,n,a,s,o,"next",e)}function o(e){Ee(r,n,a,s,o,"throw",e)}s(void 0)})}}var ze={components:{CoreWaybill:Ae["a"]},props:{current_core_waybill:Object,current_scan_action_prototype:Object,is_inverted:{default:!1,type:Boolean},fetch_core_waybill_statuses:{default:!1,type:Boolean},card_button_color:{default:"",type:String},card_button_content:{default:"",type:String},card_button_channel:{default:"",type:String},file_uploader:{default:!1,type:Boolean},focus_field:{default:"",type:String},related_columns:{default:function(){return[]},type:Array}},computed:{current_store:function(){return this.$store.state[this.$store.state.current_scope].scanner_module},core_waybills:function(){return this.current_store.core_waybills},settings:function(){return this.current_store.settings},current_setting_group:function(){return this.current_store.current_setting_group}},data:function(){return{is_initialized:!1,is_vertical:!1,tool_core_waybill_settings:{cant_update_field_names:[],is_update_corewaybill:!1,is_print_label:!1,is_auto_print:!1,template:"card"},core_waybill_template_mode:"",core_waybill_statuses:[],empty_core_waybill:{number:"請輸入號碼"},tool_core_waybill_active_button:{content:"",channel:""}}},mounted:function(){var e=this;this.init(),e.is_vertical=$(window).width()<=767,$(window).resize(function(){var t=$(window).width();e.is_vertical=t<=767})},watch:{"settings.core_waybill_template_mode":function(e){var t=this;t.tool_core_waybill_settings.template="LA02"==t.current_setting_group.barcode?"waybill":e,t.tool_core_waybill_settings.is_auto_print=!1},current_core_waybill:function(){this.init()}},methods:{init:function(){var e=qe(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,t.is_initialized=!1,e.next=4,t.set_tool_core_waybill_settings();case 4:return e.next=6,new Promise(function(e){t.is_initialized=!0});case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),set_tool_core_waybill_settings:function(){var e=this;return e.tool_core_waybill_settings.is_update_corewaybill=e.settings.is_update_corewaybill_mode,e.tool_core_waybill_settings.is_auto_print=e.settings.is_auto_print_label_mode,e.tool_core_waybill_settings.template=e.$store.getters[this.$store.state.current_scope+"/scanner_module/current_core_waybill_need_related_columns"].length?"card":e.settings.core_waybill_template_mode,"LA02"==e.current_setting_group.barcode?(e.tool_core_waybill_settings.template="waybill",e.tool_core_waybill_settings.is_print_label=!0):(e.tool_core_waybill_settings.template=e.settings.core_waybill_template_mode,e.tool_core_waybill_settings.is_print_label=e.settings.is_auto_print_label_mode),e.tool_core_waybill_settings.is_auto_print=!e.$store.getters[this.$store.state.current_scope+"/scanner_module/current_core_waybill_need_related_columns"].length&&e.tool_core_waybill_settings.is_auto_print,Promise.resolve()}}},je=ze,Re=(n("0381"),Object(m["a"])(je,Se,Ne,!1,null,"faa6275c",null)),Ie=Re.exports,Te=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"quick_core_waybill_related_columns"}},[i("div",{staticClass:"ui divider",staticStyle:{"margin-top":"3px"}}),i("div",{staticClass:"ui form",class:{inverted:e.is_inverted}},[i("h3",{staticStyle:{margin:"0"}},[e._v("\n            "+e._s(e.$t("ui.scanner.helps.quick_required_field_div"))+"\n        ")]),e._l(e.current_scan_action_prototype_related_columns,function(t){return i("div",{staticClass:"field half",on:{click:function(t){e.is_edit_fields=!0}}},[e.is_edit_fields?i("label",{staticStyle:{"font-size":"14px"}},[e._v("\n                "+e._s(e.$t("models.attributes.core_waybills."+t.name))+"\n                ")]):e._e(),e.is_edit_fields?i("input",{directives:[{name:"model",rawName:"v-model",value:e.quick_core_waybill_related_columns[t.name],expression:"quick_core_waybill_related_columns[related_column.name]"}],class:{is_required:t.is_required},attrs:{type:"text",tabindex:"-1",autocomplete:"off",placeholder:t.is_required?e.$t("ui.scanner.alerts.required_field"):e.$t("ui.scanner.alerts.if_have_write")},domProps:{value:e.quick_core_waybill_related_columns[t.name]},on:{focus:function(t){e.current_store.is_keydown=!1},blur:function(t){e.current_store.is_keydown=!0},input:function(i){i.target.composing||e.$set(e.quick_core_waybill_related_columns,t.name,i.target.value)}}}):e._e(),e.is_edit_fields?e._e():i("label",{staticStyle:{"font-size":"14px"}},[e._v("\n                "+e._s(e.$t("models.attributes.core_waybills."+t.name))+"\n                "),t.is_required?i("span",{staticStyle:{color:"red"}},[e._v("\n                    *\n                ")]):e._e(),e._v("\n                ： "+e._s(e.quick_core_waybill_related_columns[t.name]||"無填寫")+"\n            ")])])})],2),i("div",{staticClass:"toggle_is_edit_fields pointer",on:{click:function(t){e.is_edit_fields=!e.is_edit_fields}}},[i("i",{staticClass:"circular orange icon",class:{"inverted angle double up":e.is_edit_fields,"large angle double down":!e.is_edit_fields}})]),i("div",{staticClass:"clear"})])},Oe=[],Le={components:{},props:{is_inverted:{default:!1,type:Boolean}},data:function(){return{is_edit_fields:!0}},computed:{current_store:function(){return this.$store.state.provider.scanner_module},settings:function(){return this.current_store.settings},current_scan_action_prototype_related_columns:function(){return this.$store.getters["provider/scanner_module/current_scan_action_prototype_related_columns"]},quick_core_waybill_related_columns:function(){return this.current_store.quick_core_waybill_related_columns}},watch:{},mounted:function(){},methods:{}},De=Le,Be=(n("7e13"),Object(m["a"])(De,Te,Oe,!1,null,"6876a6ed",null)),Me=Be.exports,Ue=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"distributed_response"}},[e.distributed_to.message?i("div",{staticClass:"distributed_to_message",style:{borderColor:e.border_color()}},[i("h3",[e._v("\n            "+e._s(e.$t("ui.scanner.helps.distributed_result"))+"：\n            "+e._s(e.distributed_to.message)+"\n        ")])]):e._e()])},Fe=[],Ge={components:{},props:{is_inverted:{default:!1,type:Boolean}},data:function(){return{}},computed:{current_store:function(){return this.$store.state.provider.scanner_module},settings:function(){return this.current_store.settings},distributed_to:function(){return this.current_store.distributed_to}},watch:{},mounted:function(){},methods:{border_color:function(){var e=this;if("success"!=e.distributed_to.status)return"red";switch(e.distributed_to.type){case"direct":return"green";case"transfer":return"green";case"intermodal":return"green";default:return"green"}}}},He=Ge,Ye=(n("0209"),Object(m["a"])(He,Ue,Fe,!1,null,"d143c48a",null)),Ke=Ye.exports;function We(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function Ve(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){We(r,n,a,s,o,"next",e)}function o(e){We(r,n,a,s,o,"throw",e)}s(void 0)})}}var Xe={components:{SingleCoreWaybill:Ie,QuickRelatedColumns:Me,DistributedResponse:Ke},props:{core_waybill:Object,is_inverted:{default:!1,type:Boolean}},data:function(){return{is_processing:!0}},mounted:function(){this.init()},watch:{},computed:{current_staff_operation:function(){return this.$store.state.provider.current_staff_operation},current_store:function(){return this.$store.state[this.$store.state.current_scope].scanner_module},settings:function(){return this.current_store.settings},current_core_waybill:{cache:!1,get:function(){return this.current_store.current_core_waybill}},core_waybills:function(){return this.current_store.core_waybills},current_scan_action_prototype:function(){return this.current_store.current_scan_action_prototype},current_setting_group:function(){return this.current_store.current_setting_group},current_core_waybill_need_related_columns:function(){return this.$store.getters["provider/scanner_module/current_core_waybill_need_related_columns"]}},methods:{init:function(){var e=Ve(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,t.is_processing=!0,t.stack_error_number=[],e.next=5,new Promise(function(e){t.is_processing=!1});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},Qe=Xe,Ze=(n("bdd3"),Object(m["a"])(Qe,xe,Pe,!1,null,"46ed752f",null)),Je=Ze.exports;function et(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function tt(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){et(r,n,a,s,o,"next",e)}function o(e){et(r,n,a,s,o,"throw",e)}s(void 0)})}}var it={components:{Package:Ce,General:Je,NavigationLeft:M,NavigationRight:K,Carousel:W["Carousel"],Slide:W["Slide"]},props:{is_modal_opened:{default:!1,type:Boolean},is_inverted:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1,is_mobile_width:!1,current_setting_component:"Package",top_menus:[{title:this.$t("ui.scanner.menus.package"),component_name:"Package"},{title:this.$t("ui.scanner.menus.core_waybill"),component_name:"General"}],update_core_waybills_eventbus_name:"update_core_waybills_in_scanner"}},mounted:function(){var e=this;$(window).resize(function(){var t=$(window).width();e.is_mobile_width=t<=767}),e.init()},watch:{is_modal_opened:function(e){e&&this.$forceUpdate()}},computed:{current_store:function(){return this.$store.state[this.$store.state.current_scope].scanner_module},theme:function(){return this.current_store.config.theme},settings:function(){return this.current_store.settings},current_core_waybill:{cache:!1,get:function(){return this.current_store.current_core_waybill}},core_waybills:function(){return this.current_store.core_waybills}},methods:{init:function(){var e=tt(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,t.is_initialized=!1,e.next=4,t.set_is_mobile_width();case 4:return e.next=6,new Promise(function(e){t.is_initialized=!0});case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),set_is_mobile_width:function(){var e=this;return e.is_mobile_width=$(window).width()<=767,""}}},nt=it,at=(n("bd90"),Object(m["a"])(nt,_e,le,!1,null,"dcf72922",null)),rt=at.exports,st=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"create_core_waybill_alert"}},[e.is_initialized?i("div",{staticClass:"ui segment z-depth-2",style:{background:e.theme.background,color:e.theme.color.font}},[i("h3",[e._v("\n            "+e._s(e.$t("ui.scanner.alerts.is_created"))+"\n            "),i("span",[e._v("\n                "+e._s(e.current_store.current_core_waybill.number)+"\n            ")]),e.current_store.current_core_waybill.material?i("span",{staticStyle:{"font-size":"small"}},[i("span",{staticClass:"title_number"},[e._v("\n                    ["+e._s(e.current_store.current_core_waybill.material.name)+"]\n                ")])]):e._e()]),e.create_core_waybill_error?i("div",{staticClass:"ui message error"},[e._v("\n            "+e._s(e.create_core_waybill_error)+"\n        ")]):e._e(),i("div",{staticClass:"right aligned",staticStyle:{"padding-top":"12px"}},[i("button",{staticClass:"ui inverted red button",on:{click:function(t){e.give_up_create_core_waybill()}}},[e._v("\n                "+e._s(e.$t("ui.scanner.alerts.give_up"))+"\n            ")]),i("button",{staticClass:"ui inverted blue button",on:{click:function(t){e.define_create_core_waybill()}}},[e._v("\n                "+e._s(e.$t("ui.scanner.alerts.definite"))+"\n            ")])])]):e._e()])},ot=[],ct=n("3c2e"),_t=n.n(ct);function lt(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function ut(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){lt(r,n,a,s,o,"next",e)}function o(e){lt(r,n,a,s,o,"throw",e)}s(void 0)})}}var dt={components:{},props:{is_inverted:{default:!1,type:Boolean},is_modal_opened:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1,is_enter_keyboard_to_finish_action:!1,create_core_waybill_error:""}},computed:{current_store:function(){return this.$store.state.provider.scanner_module},theme:function(){return this.current_store.config.theme},current_core_waybill:function(){return this.current_store.current_core_waybill}},watch:{},deleted:function(){var e=this;e.is_enter_keyboard_to_finish_action=!1},mounted:function(){var e=this;e.is_enter_keyboard_to_finish_action=!0,$(window).bind("keydown",e.window_keydown),e.toggle_scanner_is_keydown(!1),e.init()},methods:{window_keydown:function(e){var t=this;if(t.is_enter_keyboard_to_finish_action){var i=new _t.a(e);13!=i.key_code||this.current_store.is_keydown||t.define_create_core_waybill()}},init:function(){var e=ut(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,new Promise(function(e){t.current_column_order=0,t.is_initialized=!0,e()});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](1),console.log(e.t0);case 9:case"end":return e.stop()}},e,this,[[1,6]])}));function t(){return e.apply(this,arguments)}return t}(),toggle_scanner_is_keydown:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;t.current_store.is_keydown=e},give_up_create_core_waybill:function(){var e=this;e.toggle_scanner_is_keydown(!0),e.$parent.alert_failure(),e.$noty.warning("未建立運單",1200)},define_create_core_waybill:function(){var e=ut(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,t.create_core_waybill();case 3:if(""!=t.create_core_waybill_error){e.next=8;break}return e.next=6,t.$parent.alert_success();case 6:return e.next=8,t.toggle_scanner_is_keydown(!0);case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),create_core_waybill:function(){var e=this,t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_core_waybills_create).parse({});return e.current_core_waybill["is_used"]=!0,e.current_core_waybill["material_identity"]=e.current_core_waybill.material.identity,e.current_core_waybill["partition_identity"]=e.current_core_waybill.partition.identity,axios.post(t,e.current_core_waybill,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.core_waybills")})),e.create_core_waybill_error=t.data.errors,Promise.reject(t.data.errors);e.$noty.success(e.$t("ui.notifications.success.create__name",{name:e.$t("models.core_waybills")}))})}}},pt=dt,mt=(n("36be"),Object(m["a"])(pt,st,ot,!1,null,"b55f6216",null)),ft=mt.exports,vt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{},[i("div",{attrs:{id:"scan_action_description_alert"}},[e.is_initialized&&e.current_scan_action_prototype.description_options?i("div",{staticClass:"ui segment z-depth-2",style:{background:e.theme.background,color:e.theme.color.font,top:e.current_scan_action_prototype.description_options.length>=7?"10%":"20%"}},[i("p",{staticStyle:{"font-size":"16px"}},[e._v("\n                "+e._s(e.$t("ui.scanner.alerts.please_write_scan_note"))+"\n                "),i("span",{staticStyle:{color:"red"}},[e._v("\n                    ["+e._s(e.$t("ui.scanner.alerts.required"))+"]\n                ")])]),i("div",{staticClass:"description_options"},e._l(e.current_scan_action_prototype.description_options,function(t,n){return i("div",{staticClass:"ui inverted button",class:{fluid:e.is_mobile_width,red:n%7==0,orange:n%7==1,violet:n%7==2,white:n%7==3,purple:n%7==4,pink:n%7==5,active:e.current_store.scan_action_description==t},on:{click:function(i){e.current_store.scan_action_description=t}}},[e._v("\n                    "+e._s(t)+"\n                ")])})),i("div",{staticClass:"right aligned",staticStyle:{"padding-top":"12px"}},[i("button",{staticClass:"ui inverted red button",on:{click:function(t){e.give_up_scan_action_description()}}},[e._v("\n                    "+e._s(e.$t("ui.scanner.alerts.give_up"))+"\n                ")]),i("button",{staticClass:"ui inverted blue button",on:{click:function(t){e.finish_scan_action_description()}}},[e._v("\n                    "+e._s(e.$t("ui.scanner.alerts.definite"))+"\n                ")])])]):e._e()])])},ht=[],gt=n("dcbb");function bt(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function yt(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){bt(r,n,a,s,o,"next",e)}function o(e){bt(r,n,a,s,o,"throw",e)}s(void 0)})}}var wt={components:{FileUploader:gt["a"]},props:{is_inverted:{default:!1,type:Boolean},is_modal_opened:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1,is_mobile_width:!1,is_enter_keyboard_to_finish_action:!1,current_column:{},current_column_order:0,file_uploader:{status:"",message:""},core_waybill_receipt_file_url_eventbus:""}},computed:{current_store:function(){return this.$store.state.provider.scanner_module},theme:function(){return this.current_store.config.theme},settings:function(){return this.current_store.settings},scan_action_description:function(){return this.current_store.scan_action_description},current_scan_action_prototype:function(){return this.current_store.current_scan_action_prototype},array_description_options:function(){if(!this.current_store.current_scan_action_prototype.description_options)return[]}},watch:{is_modal_opened:function(e){e&&(this.toggle_scanner_is_keydown(!1),this.init())},current_core_waybill_need_related_columns:function(){this.init()}},deleted:function(){var e=this;e.is_enter_keyboard_to_finish_action=!1},mounted:function(){var e=this;e.is_mobile_width=$(window).width()<=767,$(window).resize(function(){var t=$(window).width();e.is_mobile_width=t<=767}),e.is_enter_keyboard_to_finish_action=!0,$(window).bind("keydown",e.window_keydown),e.toggle_scanner_is_keydown(!1),e.init()},methods:{window_keydown:function(e){var t=this;if(t.is_enter_keyboard_to_finish_action){var i=new _t.a(e);13!=i.key_code||this.current_store.is_keydown||t.finish_scan_action_description()}},toggle_scanner_is_keydown:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;t.current_store.is_keydown=e},init:function(){var e=yt(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,t.focus_input();case 4:return e.next=6,new Promise(function(e){t.current_column_order=0,t.is_initialized=!0,e()});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log(e.t0);case 11:case"end":return e.stop()}},e,this,[[1,8]])}));function t(){return e.apply(this,arguments)}return t}(),focus_input:function(){return $(document).ready(function(){$("#alert_input").focus()}),Promise.resolve()},give_up_scan_action_description:function(){var e=this,t=e.$t("ui.scanner.errors.give_up_scan_action_description");e.toggle_scanner_is_keydown(!0),e.$parent.alert_failure(t),e.$noty.error(t,1200)},finish_scan_action_description:function(){var e=yt(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,e.prev=1,t.scan_action_description){e.next=4;break}throw t.$t("ui.scanner.helps.write_scan_action_note");case 4:t.toggle_scanner_is_keydown(!0),t.$parent.alert_success(),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),t.$noty.error(e.t0,1200);case 11:case"end":return e.stop()}},e,this,[[1,8]])}));function t(){return e.apply(this,arguments)}return t}()}},$t=wt,kt=(n("efed"),Object(m["a"])($t,vt,ht,!1,null,"4ee97da9",null)),Ct=kt.exports,xt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"core_waybill_related_columns_alert"},on:{click:function(t){e.set_focus_input_name(e.current_core_waybill_need_related_columns[e.current_column_index].name)}}},[e.is_modal_opened?i("carousel",{ref:"columns_carousel",attrs:{perPage:1,speed:390,minSwipeDistance:120,paginationEnabled:!1,navigateTo:e.current_column_index},on:{pageChange:e.page_change}},e._l(e.current_core_waybill_need_related_columns,function(t,n){return i("slide",{key:t.identity},[i("div",{staticClass:"ui segment",style:{background:e.theme.background,color:e.theme.color.font}},[i("p",{staticStyle:{"font-size":"16px"}},[e._v("\n                    "+e._s(e.$t("ui.scanner.alerts.please_write"))+"：\n                    "+e._s(e.$t("models.attributes.core_waybills."+t.name))+"\n                    "),t.is_required?i("span",{staticStyle:{color:"red"}},[e._v("\n                        ["+e._s(e.$t("ui.scanner.alerts.required"))+"]\n                    ")]):e._e()]),t.input_method?"tel_input"==t.input_method.component?i("div",[i("InputTel",{attrs:{related_column:t,focus_input_name:e.current_store.alert_core_waybill_related_columns_focus_input_name}})],1):"file_uploader"==t.input_method.component?i("div",[i("FileUploader",{attrs:{related_column:t,focus_input_name:e.current_store.alert_core_waybill_related_columns_focus_input_name}})],1):e._e():i("div",[i("InputText",{attrs:{related_column:t,focus_input_name:e.current_store.alert_core_waybill_related_columns_focus_input_name}})],1),i("div",{staticClass:"ui grid decision_buttons"},[i("div",{staticClass:"six wide column"},[n?i("div",{staticClass:"left aligned"},[i("button",{staticClass:"ui inverted button",on:{click:function(t){e.previous_core_waybill_related_columns()}}},[e._v("\n                                "+e._s(e.$t("ui.scanner.alerts.previous"))+"\n                            ")])]):e._e()]),i("div",{staticClass:"ten wide column"},[i("div",{staticClass:"right aligned"},[i("button",{staticClass:"ui inverted red button",on:{click:function(t){e.give_up_core_waybill_related_columns()}}},[e._v("\n                                "+e._s(e.$t("ui.scanner.alerts.give_up"))+"\n                            ")]),i("button",{staticClass:"ui inverted blue button",on:{click:function(t){e.next_actions_core_waybill_related()}}},[e._v("\n                                "+e._s(e.$t("ui.scanner.alerts.definite"))+"\n                            ")])])])])])])})):e._e()],1)},Pt=[],St=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.is_initialized?i("div",[i("span",[e._v("\n            "+e._s(e.$t("ui.scanner.upload.receipt_file"))+"：\n        ")]),i("FileUploader",{staticClass:"file_uploader_tool",attrs:{channel:e.core_waybill_receipt_file_url_eventbus}}),e.file_uploader.message?i("h3",{staticClass:"file_uploader_message"},[e._v("\n            "+e._s(e.$t("ui.scanner.upload.result"))+"：\n            "),i("span",{class:e.file_uploader.status},[e._v("\n                "+e._s(e.file_uploader.message)+"\n            ")])]):e._e()],1):e._e()])},Nt=[];function At(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function Et(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){At(r,n,a,s,o,"next",e)}function o(e){At(r,n,a,s,o,"throw",e)}s(void 0)})}}var qt={components:{FileUploader:gt["a"]},props:{related_column:{default:{},input_type:Object},focus_input_name:{default:"",input_type:String},is_inverted:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1,current_column_order:0,file_uploader:{status:"",message:""},core_waybill_receipt_file_url_eventbus:""}},computed:{current_store:function(){return this.$store.state.provider.scanner_module},actions_core_waybill_related_columns:function(){return this.current_store.actions_core_waybill_related_columns}},watch:{},mounted:function(){var e=this;e.init()},methods:{init:function(){var e=Et(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,t.set_core_waybill_receipt_file_url();case 4:return e.next=6,new Promise(function(e){t.current_column_order=0,t.is_initialized=!0,e()});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log(e.t0);case 11:case"end":return e.stop()}},e,this,[[1,8]])}));function t(){return e.apply(this,arguments)}return t}(),set_core_waybill_receipt_file_url:function(){var e=this;e.core_waybill_receipt_file_url_eventbus="core_waybill_receipt_file_url_"+e.current_store.current_core_waybill.number,e.$bus.$off(e.core_waybill_receipt_file_url_eventbus),e.$bus.$on(e.core_waybill_receipt_file_url_eventbus,function(t,i,n){switch(i){case"uploaded_file":e.file_uploader.status="await",e.file_uploader.message=e.$t("ui.general.uploading");break;case"uploading":console.log("uploading"),e.file_uploader.status="await",e.file_uploader.message=e.$t("ui.general.uploading");break;case"upload complete":e.actions_core_waybill_related_columns[e.related_column.name]=n,e.file_uploader.status="success",e.file_uploader.message=e.$t("ui.notifications.success.update"),e.$bus.$emit("scanner_next_actions_core_waybill_related");break;case"upload failed":console.log("file_uploader failed"),e.file_uploader.status="failure",e.file_uploader.message=e.$t("ui.notifications.error.update");break}}.bind(this))}}},zt=qt,jt=(n("01ce"),Object(m["a"])(zt,St,Nt,!1,null,"37079b7a",null)),Rt=jt.exports,It=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.is_initialized?i("div",{staticClass:"ui fluid input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.actions_core_waybill_related_columns[e.related_column.name],expression:"actions_core_waybill_related_columns[related_column.name]"}],ref:e.related_column.name,attrs:{type:"text",placeholder:e.related_column.is_required?e.$t("ui.scanner.alerts.required_field"):e.$t("ui.scanner.alerts.if_have_write")},domProps:{value:e.actions_core_waybill_related_columns[e.related_column.name]},on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$bus.$emit("scanner_next_actions_core_waybill_related")},input:function(t){t.target.composing||e.$set(e.actions_core_waybill_related_columns,e.related_column.name,t.target.value)}}})]):e._e()])},Tt=[];function Ot(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function Lt(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){Ot(r,n,a,s,o,"next",e)}function o(e){Ot(r,n,a,s,o,"throw",e)}s(void 0)})}}var Dt={components:{},props:{related_column:{default:{},input_type:Object},focus_input_name:{default:"",input_type:String},is_inverted:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.provider.scanner_module},actions_core_waybill_related_columns:function(){return this.current_store.actions_core_waybill_related_columns}},watch:{related_column:function(){this.init()},focus_input_name:{handler:function(e,t){this.focus_input()},deep:!0}},mounted:function(){var e=this;e.init()},methods:{init:function(){var e=Lt(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,new Promise(function(e){t.is_initialized=!0,e()});case 4:return e.next=6,t.focus_input();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log(e.t0);case 11:case"end":return e.stop()}},e,this,[[1,8]])}));function t(){return e.apply(this,arguments)}return t}(),focus_input:function(){var t=this;try{if(!t.focus_input_name)throw"no focus_input_name";if(!t.related_column.name)throw"no related_column.name";t.focus_input_name===t.related_column.name?setTimeout(function(){t.$refs[t.related_column.name].focus()},300):this.$refs[t.related_column.name].blur()}catch(e){console.log(e)}return Promise.resolve()}}},Bt=Dt,Mt=(n("9407"),Object(m["a"])(Bt,It,Tt,!1,null,"79866c1f",null)),Ut=Mt.exports,Ft=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.is_initialized?i("div",{staticClass:"ui fluid input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.actions_core_waybill_related_columns[e.related_column.name],expression:"actions_core_waybill_related_columns[related_column.name]"}],ref:e.related_column.name,attrs:{type:"tel",placeholder:e.related_column.is_required?e.$t("ui.scanner.alerts.required_field"):e.$t("ui.scanner.alerts.if_have_write")},domProps:{value:e.actions_core_waybill_related_columns[e.related_column.name]},on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$bus.$emit("scanner_next_actions_core_waybill_related")},input:function(t){t.target.composing||e.$set(e.actions_core_waybill_related_columns,e.related_column.name,t.target.value)}}})]):e._e()])},Gt=[];function Ht(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function Yt(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){Ht(r,n,a,s,o,"next",e)}function o(e){Ht(r,n,a,s,o,"throw",e)}s(void 0)})}}var Kt={components:{},props:{related_column:{default:{},input_type:Object},focus_input_name:{default:"",input_type:String},is_inverted:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.provider.scanner_module},actions_core_waybill_related_columns:function(){return this.current_store.actions_core_waybill_related_columns}},watch:{related_column:function(){this.init()},focus_input_name:{handler:function(e,t){this.focus_input()},deep:!0}},mounted:function(){var e=this;e.init()},methods:{init:function(){var e=Yt(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,new Promise(function(e){t.is_initialized=!0,e()});case 4:return e.next=6,t.focus_input();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log(e.t0);case 11:case"end":return e.stop()}},e,this,[[1,8]])}));function t(){return e.apply(this,arguments)}return t}(),focus_input:function(){var t=this;try{if(!t.focus_input_name)throw"no focus_input_name";if(!t.related_column.name)throw"no related_column.name";t.focus_input_name===t.related_column.name?setTimeout(function(){t.$refs[t.related_column.name].focus()},300):t.$refs[t.related_column.name].blur()}catch(e){console.log(e)}return Promise.resolve()}}},Wt=Kt,Vt=(n("f12b"),Object(m["a"])(Wt,Ft,Gt,!1,null,"319687e6",null)),Xt=Vt.exports,Qt=void 0;function Zt(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function Jt(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){Zt(r,n,a,s,o,"next",e)}function o(e){Zt(r,n,a,s,o,"throw",e)}s(void 0)})}}var ei={components:{FileUploader:Rt,InputText:Ut,InputTel:Xt,Carousel:W["Carousel"],Slide:W["Slide"]},props:{is_inverted:{default:!1,type:Boolean},is_modal_opened:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1,current_column:{},current_column_index:0}},computed:{current_store:function(){return this.$store.state.provider.scanner_module},theme:function(){return this.current_store.config.theme},settings:function(){return this.current_store.settings},current_core_waybill:function(){return this.current_store.current_core_waybill},actions_core_waybill_related_columns:function(){return this.current_store.actions_core_waybill_related_columns},current_core_waybill_need_related_columns:function(){return this.$store.getters["provider/scanner_module/current_core_waybill_need_related_columns"]},alert_core_waybill_related_columns_focus_input_name:function(){return this.current_store.alert_core_waybill_related_columns_focus_input_name}},watch:{is_modal_opened:function(e){e&&(this.toggle_scanner_is_keydown(!1),this.init())},current_core_waybill_need_related_columns:function(){this.init()}},mounted:function(){var e=this;this.$bus.$off("scanner_next_actions_core_waybill_related"),this.$bus.$on("scanner_next_actions_core_waybill_related",function(){e.next_actions_core_waybill_related()}),this.toggle_scanner_is_keydown(!1),this.init()},methods:{page_change:function(e){this.current_column_index=e,this.current_core_waybill_need_related_columns[this.current_column_index]?this.set_focus_input_name(this.current_core_waybill_need_related_columns[this.current_column_index].name):this.set_focus_input_name(null)},toggle_scanner_is_keydown:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.current_store.is_keydown=e},init:function(){var e=Jt(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.set_focus_input_name();case 3:return e.next=5,new Promise(function(e){t.current_column_index=0,t.is_initialized=!0,e()});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));function t(){return e.apply(this,arguments)}return t}(),set_focus_input_name:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.current_store.alert_core_waybill_related_columns_focus_input_name="no_focus",setTimeout(function(){if(null==t){var i=_.head(e.current_core_waybill_need_related_columns);t=i.name}e.current_store.alert_core_waybill_related_columns_focus_input_name=t},50),Promise.resolve()},previous_core_waybill_related_columns:function(){var e=this;this.$nextTick(function(){e.current_column_index=e.current_column_index-1,e.set_focus_input_name(e.current_core_waybill_need_related_columns[e.current_column_index].name)})},give_up_core_waybill_related_columns:function(){var e=this.$t("ui.scanner.errors.give_up_core_waybill_related_columns");this.toggle_scanner_is_keydown(!0),this.$parent.alert_failure(e),this.$noty.error(e,1200)},next_actions_core_waybill_related:function(){var e=Jt(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=Qt.current_core_waybill_need_related_columns[Qt.current_column_index],e.prev=1,!Qt.current_core_waybill_need_related_columns[Qt.current_column_index].is_required||Qt.actions_core_waybill_related_columns[t.name]){e.next=4;break}throw Qt.$t("ui.scanner.helps.write_related_columns");case 4:if(!(Qt.current_column_index+1>=Qt.current_core_waybill_need_related_columns.length)){e.next=21;break}return e.prev=5,e.next=8,Qt.$store.dispatch("provider/scanner_module/update_core_waybill_related_columns");case 8:return e.next=10,new Promise(function(e){Qt.toggle_scanner_is_keydown(!0),Qt.$parent.alert_success(),e()});case 10:e.next=19;break;case 12:e.prev=12,e.t0=e["catch"](5),e.t1=e.t0,e.next="failed_to_update_core_waybill_related_column"===e.t1?17:19;break;case 17:return Qt.$noty.error(Qt.$t("ui.notifications.error.update__name",{name:Qt.$t("ui.scanner.alerts.required_field")})),e.abrupt("break",19);case 19:e.next=23;break;case 21:Qt.current_column_index=Qt.current_column_index+1,Qt.set_focus_input_name(Qt.current_core_waybill_need_related_columns[Qt.current_column_index].name);case 23:e.next=28;break;case 25:e.prev=25,e.t2=e["catch"](1),Qt.$noty.error(e.t2,1200);case 28:case"end":return e.stop()}},e,null,[[1,25],[5,12]])}));function t(){return e.apply(this,arguments)}return t}()}},ti=ei,ii=(n("9478"),Object(m["a"])(ti,xt,Pt,!1,null,"77a3c4dc",null)),ni=ii.exports;function ai(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function ri(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){ai(r,n,a,s,o,"next",e)}function o(e){ai(r,n,a,s,o,"throw",e)}s(void 0)})}}var si={name:"ScannerMain",props:{is_modal:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1,is_modal_opened:!1,is_input_mode:!1,is_processing:!1,is_quick_setting_number:!1,is_any_error_message:!1,is_mobile_width:!1,current_scan_action_prototype_identity:this.fetch_current_scan_action_prototype_identity(),current_numbers:[],current_number:"",scan_actions:[],is_show_related_columns_alert:!1,is_show_create_core_waybill_alert:!1,is_show_scan_action_description_alert:!1}},watch:{"current_store.setting_groups":function(e){this.set_current_setting_group()},current_setting_group:function(e){var t=this;e.barcode&&(localStorage.setItem("scanner_current_setting_group",e.barcode),t.current_store.current_core_waybill={})},is_show_related_columns_alert:function(e){var t=this;t.$bus.$emit("toggle_is_hide_icon_toggle_scanner_modal",e)},is_show_scan_action_description_alert:function(e){var t=this;t.$bus.$emit("toggle_is_hide_icon_toggle_scanner_modal",e)},language:{handler:function(t){try{this.cahnge_language_in_store_js_text()}catch(e){console.log(e),this.$noty.error(e)}},deep:!0}},mounted:function(){var e=this;e.$bus.$off("set_modal_opened"),e.$bus.$on("set_modal_opened",function(t){return new Promise(function(i){e.is_modal_opened=t,i()})}.bind(this)),e.$bus.$off("quick_setting_number"),e.$bus.$on("quick_setting_number",function(t){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e.check_quick_setting_number(t,i,n)}.bind(this)),e.$bus.$off("set_current_scan_action_prototype"),e.$bus.$on("set_current_scan_action_prototype",function(t){e.set_current_scan_action_prototype(t)}.bind(this)),e.$bus.$off("set_input_mode"),e.$bus.$on("set_input_mode",function(t){return new Promise(function(i){e.is_input_mode=t,i()})}.bind(this)),e.$bus.$off("set_current_number"),e.$bus.$on("set_current_number",function(t){return new Promise(function(i){e.current_number=t,i()})}.bind(this)),e.$bus.$off("enqueue"),e.$bus.$on("enqueue",ri(regeneratorRuntime.mark(function t(){var i,n,a,r,s,o,c;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,i=e.current_store.settings.is_batch_mode?e.current_number.replace(/\s/g,"").split(","):[e.current_number],!e.current_store.settings.is_batch_mode||1!=i.length){t.next=4;break}throw"is_batch_mode_true, please use multiple number";case 4:n=!0,a=!1,r=void 0,t.prev=7,s=i[Symbol.iterator]();case 9:if(n=(o=s.next()).done){t.next=20;break}return c=o.value,t.next=13,e.$store.dispatch("customer/scanner_module/enqueue",{task:e.current_store.settings.is_scan_action_mode?"operation":"search",number:c,station:e.$store.getters["customer/current_station"],scan_action_prototype:e.current_scan_action_prototype});case 13:return t.next=15,new Promise(function(t){e.current_number="",t()});case 15:return t.next=17,new Promise(function(t){e.submit(),t()});case 17:n=!0,t.next=9;break;case 20:t.next=26;break;case 22:t.prev=22,t.t0=t["catch"](7),a=!0,r=t.t0;case 26:t.prev=26,t.prev=27,n||null==s["return"]||s["return"]();case 29:if(t.prev=29,!a){t.next=32;break}throw r;case 32:return t.finish(29);case 33:return t.finish(26);case 34:t.next=49;break;case 36:t.prev=36,t.t1=t["catch"](0),t.t2=t.t1,t.next="is_batch_mode_true, please use multiple number"===t.t2?41:"quick_setting"===t.t2?46:49;break;case 41:return e.current_store.jobs.push({id:e.current_store.jobs.slice(-1).pop()?e.current_store.jobs.slice(-1).pop().id+1:1,task:e.current_store.settings.is_scan_action_mode?"operation":"search",number:e.current_number,scan_action_prototype:e.current_scan_action_prototype,status:"Failure",is_waiting_user_action:!1,is_batch_mode:!0,errors:[e.$t("ui.scanner.errors.multiple_numbers_in_batch_mode")]}),e.current_number="",e.play_web_audio("error"),e.$store.dispatch("customer/scanner_module/set_local_storage_job"),t.abrupt("break",49);case 46:return e.check_quick_setting_number(e.current_number,!0),e.current_number="",t.abrupt("break",49);case 49:case"end":return t.stop()}},t,null,[[0,36],[7,22,26,34],[27,,29,33]])})).bind(this)),e.init()},methods:{init:function(){var e=ri(regeneratorRuntime.mark(function e(){var t,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,new Promise(function(e){_.forEach(["is_noty_audio_mode","is_speech_mode"],function(e){t.$store.getters["customer/scanner_module/is_can_use_setting"](e)?localStorage.setItem("scanner_"+e,!0):localStorage.setItem("scanner_"+e,!1)}),e()});case 4:return e.next=6,t.set_settings();case 6:return e.next=8,t.set_local_storage_to_store_state(["core_waybill_counters"]);case 8:return e.next=10,t.set_current_setting_group();case 10:return e.next=12,t.cahnge_language_in_store_js_text();case 12:return e.next=14,new Promise(function(e){t.is_initialized=!0,e()});case 14:return e.next=16,new Promise(function(e){window.addEventListener("keydown",i.keydown),e()});case 16:e.next=21;break;case 18:e.prev=18,e.t0=e["catch"](1),console.log(e.t0);case 21:case"end":return e.stop()}},e,this,[[1,18]])}));function t(){return e.apply(this,arguments)}return t}(),keydown:function(){var e=ri(regeneratorRuntime.mark(function e(t){var i,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(i=this,console.log(t),!i.is_modal_opened||!i.current_store.is_keydown){e.next=26;break}if(n=new _t.a(t),n.meta||n.ctrl||i.is_input_mode){e.next=26;break}if("keypress"!=n.event.type){e.next=16;break}e.t0=n.key_code,e.next=13===e.t0?9:13;break;case 9:if(!i.current_number){e.next=12;break}return e.next=12,i.$bus.$emit("enqueue");case 12:return e.abrupt("break",14);case 13:i.current_number+=n.value;case 14:e.next=26;break;case 16:e.t1=n.key_code,e.next=8===e.t1?19:13===e.t1?21:25;break;case 19:return i.current_number=i.current_number.slice(0,-1),e.abrupt("break",26);case 21:if(!i.current_number){e.next=24;break}return e.next=24,i.$bus.$emit("enqueue");case 24:return e.abrupt("break",26);case 25:i.current_number+=n.value;case 26:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),submit:function(){var e=ri(regeneratorRuntime.mark(function e(){var t,i,n,a,r,s,o,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=this,i=!0,n=!1,a=void 0,e.prev=4,r=_.filter(t.current_store.jobs,function(e){return"Pending"==e.status})[Symbol.iterator]();case 6:if(i=(s=r.next()).done){e.next=59;break}return o=s.value,e.prev=8,e.next=11,t.$store.dispatch("customer/scanner_module/perform",o);case 11:return e.next=13,new Promise(function(e){t.play_web_audio("ok"),e()});case 13:e.next=56;break;case 15:e.prev=15,e.t0=e["catch"](8),c="",e.t1=e.t0,e.next="quick_setting_not_found"===e.t1?21:"core_waybill_not_found"===e.t1?24:"no_input_number"===e.t1?28:"current_scan_action_prototype_identity"===e.t1?31:"failed_to_instantiate_scan_action_prototype"===e.t1?34:"failed_to_update_core_waybill_related_column"===e.t1?37:"failed_to_fetch_core_waybill_statuses"===e.t1?40:"core_waybill_related_column_is_empty"===e.t1?43:"scan_action_description_is_empty"===e.t1?46:"create_core_waybill"===e.t1?49:52;break;case 21:return c=t.$t("ui.scanner.errors.setting_not_found")+": "+t.current_number,t.play_web_audio("error"),e.abrupt("break",55);case 24:return c=t.$t("ui.scanner.errors.core_waybill_not_found"),t.current_store.current_job.errors.push(c),t.play_web_audio("error"),e.abrupt("break",55);case 28:return c=t.$t("ui.scanner.helps.write_number"),t.play_web_audio("error"),e.abrupt("break",55);case 31:return c=t.$t("ui.scanner.helps.select_scan_action"),t.play_web_audio("error"),e.abrupt("break",55);case 34:return c=t.$t("ui.scanner.errors.failed_to_instantiate_scan_action_prototype"),t.play_web_audio("error"),e.abrupt("break",55);case 37:return c=t.$t("ui.scanner.errors.failed_to_update_core_waybill_related_column")+": "+t.current_number,t.play_web_audio("error"),e.abrupt("break",55);case 40:return c=t.$t("ui.scanner.errors.failed_to_fetch_core_waybill_statuses"),t.play_web_audio("error"),e.abrupt("break",55);case 43:return t.is_show_related_columns_alert=!0,t.play_web_audio("alert"),e.abrupt("break",55);case 46:return t.is_show_scan_action_description_alert=!0,t.play_web_audio("alert"),e.abrupt("break",55);case 49:return t.is_show_create_core_waybill_alert=!0,t.play_web_audio("alert"),e.abrupt("break",55);case 52:return c=t.$t("models.attributes.core_waybills.number")+t.current_number+", "+e.t0,t.play_web_audio("error"),e.abrupt("break",55);case 55:c&&t.$noty.error(c,1200);case 56:i=!0,e.next=6;break;case 59:e.next=65;break;case 61:e.prev=61,e.t2=e["catch"](4),n=!0,a=e.t2;case 65:e.prev=65,e.prev=66,i||null==r["return"]||r["return"]();case 68:if(e.prev=68,!n){e.next=71;break}throw a;case 71:return e.finish(68);case 72:return e.finish(65);case 73:case"end":return e.stop()}},e,this,[[4,61,65,73],[8,15],[66,,68,72]])}));function t(){return e.apply(this,arguments)}return t}(),set_settings:function(){var e=this;return e.current_store.settings={is_batch_mode:e.get_setting("is_batch_mode"),is_speech_mode:e.get_setting("is_speech_mode"),is_noty_audio_mode:e.get_setting("is_noty_audio_mode"),is_auto_print_label_mode:e.get_setting("is_auto_print_label_mode"),core_waybill_template_mode:e.fetch_setting_use_string("core_waybill_template_mode","card")},Promise.resolve()},set_local_storage_to_store_state:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this;return e.length&&_.forEach(e,function(e){var i=localStorage.getItem("scanner_"+e);i&&(i=$.parseJSON("["+i+"]"),"jobs"==e&&_.map(i,function(e){(e.is_waiting_user_action||"Processing"==e.status)&&(e.is_waiting_user_action=!1,e.status="Failure")}),t.current_store[e]=i)}),Promise.resolve()},set_current_setting_group:function(){var e=this,t=e.fetch_setting_use_string("current_setting_group","search");return e.current_store.current_setting_group=_.find(e.current_store.setting_groups,function(e){return e.barcode==t})||{},Promise.resolve()},alert_failure:function(){var e=ri(regeneratorRuntime.mark(function e(){var t,i,n=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=n.length>0&&void 0!==n[0]?n[0]:null,i=this,i.is_show_related_columns_alert=!1,i.is_show_create_core_waybill_alert=!1,i.is_show_scan_action_description_alert=!1,t&&i.current_store.current_job.errors.push(t),i.current_store.current_job.is_waiting_user_action=!1,i.current_store.current_job.status="Failure",i.play_web_audio("error"),i.$store.dispatch("customer/scanner_module/set_local_storage_job");case 10:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),alert_success:function(){var e=ri(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=this,t.is_show_related_columns_alert=!1,t.is_show_create_core_waybill_alert=!1,t.is_show_scan_action_description_alert=!1,t.current_store.current_job.is_waiting_user_action=!1,t.submit();case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),toggle_settings_div:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this;null==e?t.current_store.is_setting=!t.current_store.is_setting:"boolean"==typeof e&&(t.current_store.is_setting=e)},check_quick_setting_number:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=this,a=!1,r=e.match(n.quick_setting_regexps.group),s=e.match(n.quick_setting_regexps.barcode),o=e.match(n.quick_setting_regexps.mode);if(r)try{var c=r[1],l=_.findLast(n.current_store.setting_groups,function(e){return e.barcode==c});if(!l)throw n.$t("ui.scanner.errors.setting_group_not_found");var u="",d="";i&&n.toggle_settings_div(!1),n.set_current_store_setting_group(c),l.is_scan_action&&(u="####"+c+"####",n.quick_setting_barcode(u.match(n.quick_setting_regexps.barcode))?a=!0:n.$noty.error(n.$t("ui.scanner.errors.setting_not_found")+"： "+c,1200)),l.settings&&_.forEach(l.settings,function(e){d="##"+e+"##",n.quick_setting_mode(d.match(n.quick_setting_regexps.mode))?a=!0:n.$noty.error(n.$t("ui.scanner.errors.setting_not_found")+"： "+e,1200)})}catch(error){n.$noty.error(error)}return s&&(n.quick_setting_barcode(s)?a=!0:n.$noty.error(n.$t("ui.scanner.errors.setting_not_found")+"： "+s,1200)),o&&(n.quick_setting_mode(o)?a=!0:n.$noty.error(n.$t("ui.scanner.errors.setting_not_found")+"： "+o,1200)),a&&t&&(n.$noty.success(n.$t("ui.scanner.success.quick_setting")),n.is_quick_setting_number=a),Promise.resolve()},quick_setting_barcode:function(e){var t=this,i=_.find(t.current_store.scan_action_prototypes,function(t){return t.barcode==e[1]||t.barcode==e[2]});return void 0!=i&&(t.current_store.current_scan_action_prototype=i,localStorage.setItem("current_scan_action_prototype_identity",i.identity),t.current_store.current_core_waybill={},!0)},quick_setting_mode:function(e){var t=this,i=e[1],n=e[2];return"true"===e[2]&&(n=!0),"false"===e[2]&&(n=!1),void 0!=t.settings[i]&&(t.$store.getters["customer/scanner_module/is_can_use_setting"](i)?(t.current_store.settings[i]=n,localStorage.setItem("scanner_"+i,n)):t.current_store.settings[i]=!1,!0)},set_current_store_setting_group:function(e){var t=this;t.current_store.current_setting_group=_.find(t.current_store.setting_groups,function(t){return t.barcode==e})},set_current_scan_action_prototype:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this,i=_.find(t.current_store.scan_action_prototypes,function(t){return t.identity==e});void 0!=i&&(t.current_store.current_scan_action_prototype=i,localStorage.setItem("current_scan_action_prototype_identity",i.identity))},get_setting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="scanner_"+e,i=localStorage.getItem(t);return null==i?(localStorage.setItem(t,!1),!1):"true"==i},fetch_setting_use_string:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i="scanner_"+e,n=localStorage.getItem(i);return null==n?(localStorage.setItem(i,t),t):localStorage.getItem(i)},fetch_current_scan_action_prototype_identity:function(){var e="current_scan_action_prototype_identity",t=localStorage.getItem(e);return null==t||""==t?(localStorage.setItem(e,""),null):localStorage.getItem(e)},play_web_audio:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this;if(t.settings.is_noty_audio_mode)switch(e){case"ok":case"alert":case"error":t.$bus.$emit("provider_scanner_web_audio","play_sound",e);break;default:t.$bus.$emit("provider_scanner_web_audio","play_sound","error");break}},cahnge_language_in_store_js_text:function(){var e=this;_.map(e.setting_groups,function(t){t.i18n_key&&(t.name=e.$t(t.i18n_key))})}},computed:{language:function(){return this.$store.state.language},current_store:function(){return this.$store.state.customer.scanner_module},theme:function(){return this.current_store.config.theme},quick_setting_regexps:function(){return this.current_store.quick_setting_regexps},settings:function(){return this.current_store.settings},setting_groups:function(){return this.current_store.setting_groups},current_setting_group:function(){return this.current_store.current_setting_group},core_waybills:function(){return this.current_store.core_waybills},current_core_waybill:function(){return this.current_store.current_core_waybill},error_messages:function(){return this.current_store.error_messages},desc_ordered_jobs:function(){return _.orderBy(this.current_store.jobs,"id","desc")},current_scan_action_prototype:function(){return this.current_store.current_scan_action_prototype}},components:{WebAudio:s["a"],Settings:ee,Dashboard:ce,CoreWaybill:rt,CreateCoreWaybillAlert:ft,ScanActionDescriptionAlert:Ct,CoreWaybillRelatedColumnsAlert:ni}},oi=si,ci=(n("bc90"),Object(m["a"])(oi,a,r,!1,null,"8afc2c24",null));i["default"]=ci.exports},"145f":function(e,t,i){"use strict";var n=i("3efe"),a=i.n(n);a.a},1506:function(e,t,i){"use strict";var n=i("7ea4"),a=i.n(n);a.a},1527:function(e,t,i){"use strict";var n=i("bbe2"),a=i.n(n);a.a},"158b":function(e){e.exports=[{_comment:"neuron premium 預設檔案",name:"運單起始貨況",i18n_key:"ui.scanner.setting_groups.LA00",barcode:"LA00",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA01",is_scan_action:!0,is_hide:!0,color:"black",settings:[]},{name:"不明貨",i18n_key:"ui.scanner.setting_groups.LA24",barcode:"LA24",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner red question icon",icon_file_name:"LA01",is_scan_action:!0,is_hide:!1,color:"#60373E",settings:["is_core_waybill_creation_mode_true","is_batch_mode_false","is_package_mode_false","is_auto_print_label_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"入倉",i18n_key:"ui.scanner.setting_groups.LA21",barcode:"LA21",primary_icon_classes:"warehouse icon",secondary_icon_classes:"left bottom corner green sign-in icon",icon_file_name:"LA01",is_scan_action:!0,is_hide:!1,color:"#0089A7",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_package_mode_false","is_auto_print_label_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"上架",i18n_key:"ui.scanner.setting_groups.LA22",barcode:"LA22",primary_icon_classes:"sitemap icon",secondary_icon_classes:null,icon_file_name:"LA01",is_scan_action:!0,is_hide:!1,color:"#5DAC81",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_package_mode_false","is_auto_print_label_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"出倉",i18n_key:"ui.scanner.setting_groups.LA23",barcode:"LA23",primary_icon_classes:"warehouse icon",secondary_icon_classes:"right bottom corner red sign-out icon",icon_file_name:"LA01",is_scan_action:!0,is_hide:!1,color:"#D0104C",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_package_mode_false","is_auto_print_label_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"1.放行",i18n_key:"ui.scanner.setting_groups.LB01",barcode:"LB01",primary_icon_classes:"clipboard check icon",secondary_icon_classes:null,icon_file_name:"LA01",is_scan_action:!0,is_hide:!1,color:"#3a8df5",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_package_mode_false","is_auto_print_label_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"1.點交",i18n_key:"ui.scanner.setting_groups.LB02",barcode:"LB02",primary_icon_classes:"exchange icon",secondary_icon_classes:"right bottom corner green check icon",icon_file_name:"LA02",is_scan_action:!0,is_hide:!1,color:"orange",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_package_mode_false","is_auto_print_label_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"1.收貨",i18n_key:"ui.scanner.setting_groups.LA01",barcode:"LA01",primary_icon_classes:"dolly icon",secondary_icon_classes:null,icon_file_name:"LA01",is_scan_action:!0,is_hide:!1,color:"#58B2DC",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_package_mode_false","is_auto_print_label_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"2.進站",i18n_key:"ui.scanner.setting_groups.LA02",barcode:"LA02",primary_icon_classes:"pallet icon",secondary_icon_classes:null,icon_file_name:"LA02",is_scan_action:!0,is_hide:!1,color:"#EFBB24",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_package_mode_false","is_distributed_to_mode_true","is_unpackage_mode_false","is_scan_action_mode_true","is_auto_print_label_mode_false","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"包裝",i18n_key:"ui.scanner.setting_groups.package",barcode:"package",primary_icon_classes:"box icon",secondary_icon_classes:null,icon_file_name:"package",is_scan_action:!1,is_hide:!1,color:"#1B813E",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_scan_action_mode_false","is_distributed_to_mode_false","is_package_mode_true","is_unpackage_mode_false","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_min_card"]},{name:"3.派件中",i18n_key:"ui.scanner.setting_groups.LA03",barcode:"LA03",primary_icon_classes:"shipping fast icon",secondary_icon_classes:null,icon_file_name:"LA03",is_scan_action:!0,is_hide:!1,color:"#77428D",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_true","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"3.聯運",i18n_key:"ui.scanner.setting_groups.LA10",barcode:"LA10",primary_icon_classes:"random icon",secondary_icon_classes:null,icon_file_name:"LA10",is_scan_action:!0,is_hide:!1,color:"#4A225D",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"3.出站集貨中轉",i18n_key:"ui.scanner.setting_groups.LA09",barcode:"LA09",primary_icon_classes:"arrows alternate icon",secondary_icon_classes:null,icon_file_name:"LA09",is_scan_action:!0,is_hide:!1,color:"#C1328E",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"4.回站",i18n_key:"ui.scanner.setting_groups.LA05",barcode:"LA05",primary_icon_classes:"home icon",secondary_icon_classes:"right bottom corner red undo icon",icon_file_name:"LA05",is_scan_action:!0,is_hide:!1,color:"#91989F",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"4.已配達",i18n_key:"ui.scanner.setting_groups.LA04",barcode:"LA04",primary_icon_classes:"clipboard list icon",secondary_icon_classes:"right bottom corner green check icon",icon_file_name:"LA04",is_scan_action:!0,is_hide:!1,color:"#86C166",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"4.異常件",i18n_key:"ui.scanner.setting_groups.LA06",barcode:"LA06",primary_icon_classes:"exclamation triangle icon",secondary_icon_classes:"right bottom corner red close icon",icon_file_name:"LA06",is_scan_action:!0,is_hide:!1,color:"#CB4042",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"4.異常件排除",i18n_key:"ui.scanner.setting_groups.LA07",barcode:"LA07",primary_icon_classes:"exclamation triangle icon",secondary_icon_classes:"right bottom corner green check icon",icon_file_name:"LA07",is_scan_action:!0,is_hide:!1,color:"#51A8DD",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"寄件者退運",i18n_key:"ui.scanner.setting_groups.LA08",barcode:"LA08",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA08",is_scan_action:!0,is_hide:!0,color:"teal",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"鎖定",i18n_key:"ui.scanner.setting_groups.LA11",barcode:"LA11",primary_icon_classes:"lock icon",secondary_icon_classes:null,icon_file_name:"LA11",is_scan_action:!0,is_hide:!1,color:"#CB4042",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_scan_action_mode_true","is_distributed_to_mode_false","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"解除鎖定",i18n_key:"ui.scanner.setting_groups.LA12",barcode:"LA12",primary_icon_classes:"lock open icon",secondary_icon_classes:null,icon_file_name:"LA12",is_scan_action:!0,is_hide:!1,color:"#51A8DD",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_scan_action_mode_true","is_distributed_to_mode_false","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"結案",i18n_key:"ui.scanner.setting_groups.LA13",barcode:"LA13",primary_icon_classes:"check icon",secondary_icon_classes:null,icon_file_name:"LA13",is_scan_action:!0,is_hide:!1,color:"#86C166",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_scan_action_mode_false","is_package_mode_false","is_unpackage_mode_false","is_distributed_to_mode_false","pack_need_source_mode_false","is_update_corewaybill_mode_false","core_waybill_template_mode_card"]},{name:"拆包",i18n_key:"ui.scanner.setting_groups.unpackage",barcode:"unpackage",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner red cut icon",icon_file_name:"unpackage",is_scan_action:!1,is_hide:!1,color:"#F75C2F",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_scan_action_mode_false","is_distributed_to_mode_false","is_package_mode_false","is_unpackage_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_min_card"]},{name:"分撥",i18n_key:"ui.scanner.setting_groups.distributed_to",barcode:"distributed_to",primary_icon_classes:"map signs icon",secondary_icon_classes:null,icon_file_name:"LA09",is_scan_action:!1,is_hide:!1,color:"#66BAB7",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_scan_action_mode_false","is_package_mode_false","is_unpackage_mode_false","is_update_corewaybill_mode_false","is_distributed_to_mode_true","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"查詢運單",i18n_key:"ui.scanner.setting_groups.search",barcode:"search",primary_icon_classes:"search icon",secondary_icon_classes:null,icon_file_name:"search",is_scan_action:!1,is_hide:!1,color:"#227D51",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_scan_action_mode_false","is_package_mode_false","is_unpackage_mode_false","is_distributed_to_mode_false","pack_need_source_mode_false","is_update_corewaybill_mode_false","core_waybill_template_mode_card"]},{name:"袋包運, 裝袋作業",i18n_key:"ui.scanner.setting_groups.pack_house_waybill",barcode:"pack_house_waybill",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"package",is_scan_action:!1,is_hide:!0,color:"green",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_true","is_unpackage_mode_false","is_scan_action_mode_false","is_update_corewaybill_mode_false","is_distributed_to_mode_false","core_waybill_template_mode_min_card","pack_need_source_mode_false","pack_p_m_mode_House","pack_m_mode_Waybill"]},{name:"運包子, 一票多件",i18n_key:"ui.scanner.setting_groups.pack_waybill_goods",barcode:"pack_waybill_goods",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"package",is_scan_action:!1,is_hide:!0,color:"limegreen",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_scan_action_mode_false","is_package_mode_true","is_unpackage_mode_false","is_distributed_to_mode_false","is_update_corewaybill_mode_false","pack_need_source_mode_true","pack_p_m_mode_Waybill","pack_m_mode_Goods"]}]},"15ba":function(e,t,i){},1662:function(e,t,i){"use strict";var n=i("8cb6"),a=i.n(n);a.a},"16e6":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",["basic"==e.display_mode?i("div",{staticClass:"signal_light",class:{green:"good"==e.speed_level,red:"bad"==e.speed_level,orange:"medium"==e.speed_level},attrs:{"data-tooltip":e.$t("ui.toolbox.speed_test.network_quality")+": "+e.speed_text,"data-position":"bottom right"},on:{click:e.InitiateSpeedDetection}}):i("div",{staticClass:"ui left labeled button",attrs:{tabindex:"0"}},[i("a",{staticClass:"ui basic label",class:{green:"good"==e.speed_level,red:"bad"==e.speed_level,orange:"medium"==e.speed_level}},[e._v("\n            "+e._s(e.$t("ui.toolbox.speed_test.network_quality"))+": "+e._s(e.speed_text)+"\n        ")]),i("div",{staticClass:"ui icon button",on:{click:e.InitiateSpeedDetection}},[i("i",{staticClass:"refresh icon"})])])])},a=[],r={props:{},data:function(){return{display_mode:"basic",imageAddr:"https://www.google.com.tw/images/branding/googlelogo/2x/googlelogo_color_272x92dp.png",downloadSize:13504,speedBps:null,speedKbps:null,speedMbps:null,speed_text:null,speed_level:null}},computed:{},created:function(){},mounted:function(){this.InitiateSpeedDetection()},watch:{},methods:{ShowProgressMessage:function(e){var t=this;t.speed_text=e},InitiateSpeedDetection:function(){var e=this;e.ShowProgressMessage("Measuring..."),window.setTimeout(e.MeasureConnectionSpeed(),1)},MeasureConnectionSpeed:function(){var e,t,i=this,n=new Image;n.onload=function(){t=(new Date).getTime(),r()},n.onerror=function(e,t){i.ShowProgressMessage("Invalid image, or error downloading")},e=(new Date).getTime();var a="?nnn="+e;function r(){var n=(t-e)/1e3,a=8*i.downloadSize,r=(a/n).toFixed(2),s=(r/1024).toFixed(2),o=(s/1024).toFixed(2);i.speedBps=r,i.speedKbps=s,i.speedMbps=o,i.speed_level=s>1024?"good":s>512?"medium":"bad",i.ShowProgressMessage(s+" Kbps")}n.src=i.imageAddr+a}},components:{}},s=r,o=(i("ff62"),i("2877")),c=Object(o["a"])(s,n,a,!1,null,"596a62d0",null);t["a"]=c.exports},"16f9":function(e,t,i){},"186a":function(e,t,i){"use strict";var n=i("700e"),a=i.n(n);a.a},"18e5":function(e,t,i){},"190c":function(e,t,i){"use strict";var n=i("4027"),a=i.n(n);a.a},1912:function(e,t,i){"use strict";var n=i("a405"),a=i.n(n);a.a},"19b2":function(e,t,i){"use strict";var n=i("d7d2"),a=i.n(n);a.a},"1a5e":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui card",class:[e.selected_pack==e.pack?"raised":""]},[i("div",{staticClass:"content"},[e.is_processing?i("a",{staticClass:"ui ribbon label",class:[e.selected_pack==e.pack?"teal":"grey"]},[e._v("\n            "+e._s(e.pack.core_waybill_number)+"\n        ")]):i("a",{staticClass:"ui ribbon label",class:[e.selected_pack==e.pack?"teal":"grey"],on:{click:e.select}},[e._v("\n            "+e._s(e.pack.core_waybill_number)+"\n        ")]),e._l(e.sub_packs,function(t){return i("SubPack",{key:t.identity,attrs:{pack:t,selected_pack:e.selected_pack,all_packs:e.all_packs,is_processing:e.is_processing}})})],2),i("div",{staticClass:"ui bottom attached buttons"},[e.is_processing&&e.selected_pack==e.pack?i("div",{staticClass:"ui basic negative disabled button"},[i("i",{staticClass:"remove icon"}),e._v("移除")]):e._e(),e.is_processing||e.selected_pack!=e.pack?e._e():i("div",{staticClass:"ui basic negative button",on:{click:e.remove}},[i("i",{staticClass:"remove icon"}),e._v("移除")]),e.is_processing&&e.is_in_pack?i("div",{staticClass:"ui basic primary disabled button"},[i("i",{staticClass:"external icon"}),e._v("取出")]):e._e(),!e.is_processing&&e.is_in_pack?i("div",{staticClass:"ui basic primary button",on:{click:e.escape}},[i("i",{staticClass:"external icon"}),e._v("取出")]):e._e(),e.is_processing&&e.selected_pack?i("div",{staticClass:"ui basic primary disabled button"},[i("i",{staticClass:"archive icon"}),e._v("填包")]):e._e(),!e.is_processing&&e.selected_pack?i("div",{staticClass:"ui basic primary button",on:{click:e.pack_in_selected}},[i("i",{staticClass:"archive icon"}),e._v("填包")]):e._e()])])},a=[],r={props:{pack:Object,selected_pack:Object,all_packs:Array,is_processing:Boolean},data:function(){return{}},computed:{sub_packs:function(){return _.filter(this.all_packs,{packed_by_number:this.pack.core_waybill_number})},is_in_pack:function(){return!!this.pack.packed_by_number}},watch:{},beforeCreate:function(){this.$options.components.SubPack=i("1a5e")},created:function(){},mounted:function(){},methods:{select:function(){var e=this,t=e.pack.core_waybill_number;e.$bus.$emit("packer_command_center","selection",t)},remove:function(){var e=this,t=e.pack.core_waybill_number;e.$bus.$emit("packer_command_center","remove_pack",t)},escape:function(){var e=this,t=e.pack.core_waybill_number;e.$bus.$emit("packer_command_center","escape_pack",t)},pack_in_selected:function(){var e=this,t=e.pack.core_waybill_number;e.$bus.$emit("packer_command_center","packing",t)}},components:{}},s=r,o=i("2877"),c=Object(o["a"])(s,n,a,!1,null,null,null);t["default"]=c.exports},"1a91":function(e,t,i){"use strict";var n=i("d9f1"),a=i.n(n);a.a},"1b12":function(e,t,i){},"1b17":function(e,t,i){},"1b24":function(e,t,i){},"1b5f":function(e,t,i){"use strict";var n=i("c5f0"),a=i.n(n);a.a},"1b64":function(e,t,i){"use strict";var n=i("d315"),a=i.n(n);a.a},"1c2a":function(e,t,i){"use strict";var n=i("43e8"),a=i.n(n);a.a},"1cb9":function(e,t,i){"use strict";var n=i("2e90"),a=i.n(n);a.a},"1ccc":function(e,t,i){"use strict";i.r(t);var n=i("0cb6"),a=i.n(n);function r(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function s(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var s=e.apply(t,i);function o(e){r(s,n,a,o,c,"next",e)}function c(e){r(s,n,a,o,c,"throw",e)}o(void 0)})}}var o={namespaced:!0,state:{is_setting:!1,is_keydown:!0,config:{theme:{},settings:{},setting_groups:{}},current_setting_group:{},setting_groups:{},quick_setting_regexps:{group:/@@(search|print)@@/i,barcode:/####(LA[0-9]+)####|####(LB[0-9]+)####/i,mode:/##(\w+_mode)_(true|false|min_card|card|detail)##/i},settings:{is_scan_mode:!0,is_scan_action_mode:!1,is_batch_mode:!1,is_auto_print_label_mode:!1,is_noty_audio_mode:!1,is_speech_mode:!1,core_waybill_template_mode:"card"},core_waybills:[],current_core_waybill:{},current_core_waybill_scope:"",scan_action_prototypes:[],current_scan_action_prototype:{name:null,identity:null},jobs:[],current_job:{},is_updated_core_waybill_related_columns:!1,actions_core_waybill_related_columns:{},alert_core_waybill_related_columns_focus_input_name:"",quick_core_waybill_related_columns:{},core_waybill_counters:[],current_pack_taget_parent_material_identity:"",current_pack_taget_material_identity:"",package_response_history:[],package_message:{status:"failure",content:""},package:{source_core_waybill_identity:null,core_waybills:[],parent_core_waybill:{}},distributed_to:{},scan_action_description:"",materials:[]},getters:{is_can_use_setting:function(e,t,i,n){return function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!t)return!1;var i=_.findLast(e.config.settings,function(e){return e==t});return!!i}},current_staff_operation_customer:function(e,t,i,n){return i.provider.current_staff_operation&&i.provider.current_staff_operation.customer||{}},current_pack_taget_parent_material:function(e,t,i,n){return _.findLast(e.materials,function(t){return t.identity==e.current_pack_taget_parent_material_identity})||{}},current_pack_taget_material:function(e,t,i,n){return _.findLast(e.materials,function(t){return t.identity==e.current_pack_taget_material_identity})||{}},current_scan_action_prototype_description_required_scope:function(e,t,i,n){return e.current_scan_action_prototype.identity?e.current_scan_action_prototype.description_required_scope:[]},current_scan_action_prototype_related_columns:function(e,t,i,n){return e.current_scan_action_prototype.identity?e.current_scan_action_prototype.related_columns:[]},current_core_waybill_need_related_columns:function(e,t,i,n){var a=$.extend(!0,[],t.current_scan_action_prototype_related_columns);if(e.settings.is_batch_mode)return[];if(!a.length)return[];if(!e.current_setting_group.barcode.match(/(LA[0-9]+)/i))return[];if(_.remove(a,function(t){return e.current_core_waybill[t.name]}),e.current_core_waybill.material&&_.remove(a,function(t){return!!t.material_class_name&&e.current_core_waybill.material.class_name!=t.material_class_name}),e.settings.is_quick_corewaybill_related_columns&&_.remove(a,function(t){return e.state.quick_core_waybill_related_columns[t.name]}),t.current_staff_operation_customer){var r="";_.forEach(a,function(i){r="default_"+i.name,t.current_staff_operation_customer[r]&&(e.actions_core_waybill_related_columns[i.name]=t.current_staff_operation_customer[r])})}return a}},actions:{update_core_waybill_related_columns:function(e,t){var i=e.state.actions_core_waybill_related_columns,n=new RestUrl(e.rootState.provider.routes.api_v1_provider_core_waybill_update).parse({core_waybill_identity:e.state.current_core_waybill.identity});return axios.post(n,i,{headers:{Authorization:localStorage.getItem("customer_authentication_token")}}).then(function(t){if("success"!=t.data.status)return Promise.reject("failed_to_update_core_waybill_related_column");e.state.is_updated_core_waybill_related_columns=!0,e.commit("set_actions_core_waybill_related_columns",{})})},enqueue:function(e,t){var i=!1;if(_.forEach(e.state.quick_setting_regexps,function(e){t.number.match(e)&&(i=!0)}),i)return Promise.reject("quick_setting");var n={id:e.state.jobs.slice(-1).pop()?e.state.jobs.slice(-1).pop().id+1:1,task:t.task,number:t.number,station:t.station,core_waybill:{},core_waybill_scope:"",scan_action_prototype:t.scan_action_prototype,status:"Pending",is_waiting_user_action:!1,is_batch_mode:e.state.settings.is_batch_mode,errors:[]};return e.commit("add_job",n),Promise.resolve()},perform:function(){var e=s(regeneratorRuntime.mark(function e(t,i){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i.status="Processing",e.prev=1,e.next=4,t.dispatch("perform_init",i);case 4:e.t0=i.task,e.next="operation"===e.t0?7:"search"===e.t0?13:19;break;case 7:return e.next=9,t.dispatch("search_core_waybill",i);case 9:return e.next=11,t.dispatch("fetch_core_waybill_by_identity",i);case 11:return i.status="Success",e.abrupt("break",21);case 13:return e.next=15,t.dispatch("search_core_waybill",i);case 15:return e.next=17,t.dispatch("fetch_core_waybill_by_identity",i);case 17:return i.status="Success",e.abrupt("break",21);case 19:return i.status="Failure",e.abrupt("return",Promise.reject("task_not_found"));case 21:e.next=34;break;case 23:e.prev=23,e.t1=e["catch"](1),e.t2=e.t1,e.next="quick_setting_not_found"===e.t2?28:"core_waybill_not_found"===e.t2?28:"no_input_number"===e.t2?28:"current_scan_action_prototype_identity"===e.t2?28:"failed_to_instantiate_scan_action_prototype"===e.t2?28:"failed_to_update_core_waybill_related_column"===e.t2?28:"create_core_waybill"===e.t2?30:"scan_action_description_is_empty"===e.t2?30:"core_waybill_related_column_is_empty"===e.t2?30:33;break;case 28:return i.status="Failure",e.abrupt("break",33);case 30:return i.status="Pending",i.is_waiting_user_action=!0,e.abrupt("break",33);case 33:return e.abrupt("return",Promise.reject(e.t1));case 34:return e.abrupt("return",Promise.resolve());case 35:case"end":return e.stop()}},e,null,[[1,23]])}));function t(t,i){return e.apply(this,arguments)}return t}(),perform_init:function(e,t){return t.number?(e.state.is_setting=!1,e.state.current_job=t,e.state.current_core_waybill={},e.state.current_core_waybill_scope="",e.state.actions_core_waybill_related_columns={},e.dispatch("clear_distributed_to"),Promise.resolve()):(t.errors.push("請輸入號碼"),Promise.reject("no_input_number"))},search_core_waybill:function(e,t){var i=new RestUrl(e.rootState.customer.routes.api_v1_customer_core_waybills_search),n=i.parse({},"");return axios.post(n,{number:t.number},{headers:{Authorization:localStorage.getItem("customer_authentication_token")}}).then(function(){var i=s(regeneratorRuntime.mark(function i(n){return regeneratorRuntime.wrap(function(i){while(1)switch(i.prev=i.next){case 0:if("success"!=n.data.status){i.next=12;break}return t.core_waybill=n.data.core_waybill,t.core_waybill_scope=n.data.scope,e.state.current_core_waybill=t.core_waybill,e.state.current_core_waybill_scope=n.data.scope,_.findLast(e.state.core_waybills,function(e){return e.identity==n.data.core_waybill.identity})&&_.remove(e.state.core_waybills,{identity:n.data.core_waybill.identity}),e.state.core_waybills.push(n.data.core_waybill),e.state.core_waybills.length>=10&&e.state.core_waybills.shift(),i.next=10,new Promise(function(t){for(var i="",n=0,r=0,s=["consignee_company_name","consignee_name"];r<s.length;r++){var o=s[r];e.state.current_core_waybill[o]&&(i&&0!=n&&(i+=","),i+=e.state.current_core_waybill[o]),n++}if(e.state.settings.is_speech_mode)if(i){var c=new a.a({onend:function(){return t()},oncancel:function(){return t()}});c.cancel(),isNaN(i)?c.speak(i):c.speak(i.split("").join(" "))}else t();else t()});case 10:i.next=18;break;case 12:i.t0=n.data.errors,i.next="CoreWaybill not found."===i.t0?15:16;break;case 15:return i.abrupt("break",17);case 16:t.errors.push(n.data.errors);case 17:return i.abrupt("return",Promise.reject("core_waybill_not_found"));case 18:case"end":return i.stop()}},i)}));return function(e){return i.apply(this,arguments)}}())},fetch_core_waybill_by_identity:function(e,t){var i=new RestUrl(e.rootState.customer.routes.api_v1_customer_core_waybill).parse({core_waybill_identity:t.core_waybill.identity});return axios.get(i,{headers:{Authorization:localStorage.getItem("customer_authentication_token")}}).then(function(i){t.core_waybill=i.data.core_waybill,e.state.current_core_waybill=t.core_waybill})["catch"](function(e){return Promise.reject("core_waybill_not_found")})},check_quick_core_waybill_related_columns:function(e,t){return e.getters.current_core_waybill_need_related_columns.length&&!e.state.is_updated_core_waybill_related_columns?Promise.reject("core_waybill_related_column_is_empty"):(e.state.settings.is_quick_corewaybill_related_columns&&e.commit("set_actions_core_waybill_related_columns",e.state.quick_core_waybill_related_columns),e.state.is_updated_core_waybill_related_columns=!1,Promise.resolve())},instantiate_scan_action_prototype:function(e,t){var i=!0,n={location:(e.rootState.provider.current_staff.station||{}).name},a=new RestUrl(e.rootState.provider.routes.api_v1_provider_scan_action_prototype_instantiate),r=a.parse({barcode:t.scan_action_prototype.barcode,core_waybill_identity:t.core_waybill.identity},"");if(e.state.settings.is_scan_action_mode&&e.getters.current_scan_action_prototype_description_required_scope.length&&!e.state.scan_action_description)return Promise.reject("scan_action_description_is_empty");e.state.scan_action_description&&(n.description=e.state.scan_action_description);var s=_.findLast(e.state.core_waybill_counters,function(t){return t.identity==e.state.current_core_waybill.identity}),o=_.findIndex(e.state.core_waybill_counters,{identity:e.state.current_core_waybill.identity});if(e.state.settings.is_core_waybill_pieces_mode&&1!=e.state.current_core_waybill.pieces){try{if("-1"==o)throw o=0,s={number:e.state.current_core_waybill.number,identity:e.state.current_core_waybill.identity,core_waybill_pieces:e.state.current_core_waybill.pieces,current_core_waybill_counter:1},e.state.core_waybill_counters.push(s),!1;if(s.current_core_waybill_counter+=1,!(s.current_core_waybill_counter>=e.state.current_core_waybill.pieces))throw!1}catch(c){i=c}e.state.core_waybill_counters.splice(o,1,s),e.dispatch("set_local_storage_core_waybill_counter"),t.core_waybill_pieces=s.core_waybill_pieces,t.current_core_waybill_counter=s.current_core_waybill_counter,t.is_waiting_instantiate_scan_action=!0}return i?axios.post(r,n,{headers:{Authorization:localStorage.getItem("customer_authentication_token")}}).then(function(i){if(e.state.scan_action_description="","-1"!=o&&_.remove(e.state.core_waybill_counters,function(t){return t.identity==e.state.current_core_waybill.identity}),"success"!=i.data.status){t.status="Failure";for(var n=0,a=Object.keys(i.data.errors);n<a.length;n++){var r=a[n],s=!0,c=!1,l=void 0;try{for(var u,d=i.data.errors[r][Symbol.iterator]();!(s=(u=d.next()).done);s=!0){var p=u.value;t.errors.push(p)}}catch(m){c=!0,l=m}finally{try{s||null==d["return"]||d["return"]()}finally{if(c)throw l}}}return Promise.reject("failed_to_instantiate_scan_action_prototype")}}):void 0},add_core_waybills_to_operation:function(e,t){if(e.rootState.provider.current_staff_operation.identity){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_operation_add_core_waybills).parse({operation_identity:e.rootState.provider.current_staff_operation.identity},""),n={core_waybill_identities:[t.core_waybill.identity]};return axios.post(i,n,{headers:{Authorization:localStorage.getItem("customer_authentication_token")}}).then(function(e){if("success"==e.data.status)_.includes(e.data.success_core_waybill_identities,function(e){return e==t.core_waybill.identity})||t.errors.push("Failed to add to operation");else if("failure"==e.data.status)return t.errors.push(e.data.errors),Promise.reject("core_waybill_not_found")})}},fetch_statuses:function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_statuses),n=i.parse({},"?core_waybill_identity="+e.state.current_core_waybill.identity);return axios.get(n,{headers:{Authorization:localStorage.getItem("customer_authentication_token")}}).then(function(t){if("success"!=t.data.status)return Promise.reject("failed_to_fetch_core_waybill_statuses");e.state.current_core_waybill.statuses=t.data.core_waybill_statuses})},distribute:function(e,t){if(e.state.settings.is_distributed_to_mode&&t.station.identity){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_station_distribute),n=i.parse({station_identity:t.station.identity,core_waybill_identity:e.state.current_core_waybill.identity},"");return axios.post(n,{},{headers:{Authorization:localStorage.getItem("customer_authentication_token")}}).then(function(t){e.state.distributed_to=t.data.distributed_to?t.data.distributed_to:{}})}},pack:function(){var e=s(regeneratorRuntime.mark(function e(t,i){var n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t.state.package_message={status:"",content:""},t.state.settings.is_package_mode){e.next=4;break}return e.abrupt("return",Promise.resolve());case 4:if(n=t.getters.current_pack_taget_parent_material,a=t.getters.current_pack_taget_material,n.class_name){e.next=8;break}throw"請選擇包材";case 8:if(a.class_name){e.next=10;break}throw"請選擇包裝目標";case 10:if(t.state["package"].core_waybills.length||t.state["package"].parent_core_waybill.identity){e.next=19;break}if(i.core_waybill.material.class_name!=n.class_name){e.next=17;break}return e.next=14,t.commit("set_package",i.core_waybill);case 14:return e.abrupt("return",Promise.resolve());case 17:if(i.core_waybill.material.class_name!=a.class_name){e.next=19;break}throw"請掃"+n.name;case 19:if(i.core_waybill.identity==t.state["package"].parent_core_waybill.identity){e.next=35;break}if(i.core_waybill.material.class_name!=n.class_name||i.core_waybill.material.class_name==a.class_name){e.next=28;break}if(!t.state["package"].core_waybills.length){e.next=24;break}return e.next=24,t.dispatch("submit_package",i);case 24:return e.next=26,t.commit("set_package",i.core_waybill);case 26:e.next=35;break;case 28:if(i.core_waybill.material.class_name!=a.class_name){e.next=32;break}t.commit("push_package",i.core_waybill),e.next=35;break;case 32:if(t.state["package"].core_waybills.length){e.next=34;break}throw"請掃"+n.name;case 34:throw"請掃"+n.name+"或"+a.name;case 35:return e.abrupt("return",Promise.resolve());case 38:return e.prev=38,e.t0=e["catch"](0),t.state.package_message={status:"failure",content:"無法包裝["+i.core_waybill.material.name+"]，"+e.t0},e.abrupt("return",Promise.reject());case 42:case"end":return e.stop()}},e,null,[[0,38]])}));function t(t,i){return e.apply(this,arguments)}return t}(),unpack:function(){var e=s(regeneratorRuntime.mark(function e(t,i){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!t.state.settings.is_unpackage_mode){e.next=5;break}return e.next=3,t.commit("set_package",i.core_waybill);case 3:return e.next=5,t.dispatch("submit_package",i);case 5:return e.abrupt("return",Promise.resolve());case 6:case"end":return e.stop()}},e)}));function t(t,i){return e.apply(this,arguments)}return t}(),submit_package:function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_core_waybills_pack).parse({}),n={parent_core_waybill_identity:e.state["package"].parent_core_waybill.identity,source_core_waybill_identity:e.state.settings.pack_need_source_mode?e.state["package"].source_core_waybill_identity:null,core_waybill_identities:e.state.settings.is_unpackage_mode?[]:_.map(e.state["package"].core_waybills,"identity")};return axios.post(i,n,{headers:{Authorization:localStorage.getItem("customer_authentication_token")}}).then(function(i){if("success"!=i.data.status)return t.package_response=i.data,t.errors.push("包裝失敗，"+i.data.errors),Promise.reject("包裝失敗，"+i.data.errors);e.state.package_response_history.push(_.assign(i.data,{id:e.state.package_response_history.slice(-1).pop()?e.state.jobs.slice(-1).pop().id+1:1,is_setting_is_package_mode:e.state.settings.is_package_mode}))})},set_local_storage_core_waybill_counter:function(e,t){var i=[];_.forEach(e.state.core_waybill_counters,function(e){i.push(JSON.stringify(e))}),localStorage.setItem("scanner_core_waybill_counters",i.toString())},set_local_storage_job:function(e,t){var i=[];_.forEach(e.state.jobs,function(e){var t=$.extend(!0,{},e);delete t.core_waybill,i.push(JSON.stringify(t)),i.length>=31&&i.shift()}),localStorage.setItem("scanner_jobs",i.toString())},clear_core_waybill_counter:function(e,t){localStorage.setItem("scanner_core_waybill_counters",""),e.state.core_waybill_counters=[]},clear_job:function(e,t){localStorage.setItem("scanner_jobs",""),e.state.jobs=[]},clear_distributed_to:function(e,t){e.state.distributed_to={}},set_current_operation:function(e,t){e.state.current_operation=t},actions_core_waybill_related_column:function(e,t){e.state.actions_core_waybill_related_columns[t.name]=t.value}},mutations:{push_package:function(e,t){_.findLast(e["package"].core_waybills,t)||e["package"].core_waybills.push(t)},set_package:function(e,t){e["package"]={parent_core_waybill:t,core_waybill_identities:[],core_waybills:[],source_core_waybill_identity:t.identity}},set_actions_core_waybill_related_columns:function(e,t){e.actions_core_waybill_related_columns=t},set_is_updated_core_waybill_related_columns:function(e,t){e.is_updated_core_waybill_related_columns=t},set_scan_action_prototypes:function(e,t){e.scan_action_prototypes=t},set_materials:function(e,t){e.materials=t},add_job:function(e,t){e.jobs.push(t)}}};t["default"]=o},"1e91":function(e,t,i){"use strict";var n=i("4b56"),a=i.n(n);a.a},"1ece":function(e,t,i){},"1f1c":function(e,t,i){"use strict";var n=i("450e"),a=i.n(n);a.a},"1fbd":function(e,t,i){},2029:function(e,t,i){},"205d":function(e,t,i){},2082:function(e,t,i){"use strict";var n=i("60e4"),a=i.n(n);a.a},2108:function(e,t,i){},"21a1":function(e,t,i){"use strict";var n=i("87fd"),a=i.n(n);a.a},"21b8":function(t,i,n){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"check_summary"},[i("div",{staticClass:"ui form"},[e.senders.length>0?i("h5",{staticClass:"ui header"},[e._v("\n            寄件人\n            "),i("div",{staticClass:"right floated"},[i("a",{staticStyle:{"font-size":"0.7em"},attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.toggle_all_sender()}}},[e.is_all_sender_toggled?i("span",[e._v("\n                        "+e._s(e.$t("ui.general.cancel"))+"\n                        "+e._s(e.$t("ui.general.all"))+"\n                    ")]):i("span",[e._v("\n                        "+e._s(e.$t("ui.general.select"))+"\n                        "+e._s(e.$t("ui.general.all"))+"\n                    ")])])])]):e._e(),e._l(e.senders,function(t){return i("div",{staticClass:"field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.toggle,expression:"sender.toggle"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(t.toggle)?e._i(t.toggle,null)>-1:t.toggle},on:{change:function(i){var n=t.toggle,a=i.target,r=!!a.checked;if(Array.isArray(n)){var s=null,o=e._i(n,s);a.checked?o<0&&e.$set(t,"toggle",n.concat([s])):o>-1&&e.$set(t,"toggle",n.slice(0,o).concat(n.slice(o+1)))}else e.$set(t,"toggle",r)}}}),i("label",[e._v(e._s(t.sender_name))])])])}),e.consignees.length>0?i("h5",{staticClass:"ui header"},[e._v("\n            收件人\n            "),i("div",{staticClass:"right floated"},[i("a",{staticStyle:{"font-size":"0.7em"},attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.toggle_all_consignee()}}},[e.is_all_consignee_toggled?i("span",[e._v("\n                        "+e._s(e.$t("ui.general.cancel"))+"\n                        "+e._s(e.$t("ui.general.all"))+"\n                    ")]):i("span",[e._v("\n                        "+e._s(e.$t("ui.general.select"))+"\n                        "+e._s(e.$t("ui.general.all"))+"\n                    ")])])])]):e._e(),e._l(e.consignees,function(t){return i("div",{staticClass:"field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.toggle,expression:"consignee.toggle"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(t.toggle)?e._i(t.toggle,null)>-1:t.toggle},on:{change:function(i){var n=t.toggle,a=i.target,r=!!a.checked;if(Array.isArray(n)){var s=null,o=e._i(n,s);a.checked?o<0&&e.$set(t,"toggle",n.concat([s])):o>-1&&e.$set(t,"toggle",n.slice(0,o).concat(n.slice(o+1)))}else e.$set(t,"toggle",r)}}}),i("label",[e._v(e._s(t.consignee_name))])])])})],2),e.show_buttons&&e.is_printing?i("div",{staticClass:"ui basic buttons"},[i("div",{staticClass:"ui active inline loader"})]):e._e(),e.show_buttons&&!e.is_printing?i("div",{staticClass:"ui basic buttons"},[i("div",{staticClass:"ui button",on:{click:e.refresh_data}},[i("i",{staticClass:"arrow alternate circle down outline icon"}),e._v("\n            抓取資料\n        ")]),i("div",{staticClass:"ui button",on:{click:function(t){e.print("NormalLayout")}}},[i("i",{staticClass:"print icon"}),e._v("\n            列印點交單(A4)\n        ")]),i("div",{staticClass:"ui button",on:{click:function(t){e.print("SimpleLayout")}}},[i("i",{staticClass:"print icon"}),e._v("\n            列印點交單(連續紙)\n        ")])]):e._e(),i("NormalLayout",{attrs:{show_contents:e.show_contents,core_waybills:e.core_waybills,logo_url:e.logo_url,title:e.title,sub_title:e.sub_title,customer_service_hotline:e.customer_service_hotline,blank_value_text:e.blank_value_text}}),i("SimpleLayout",{attrs:{show_contents:e.show_contents,core_waybills:e.core_waybills,logo_url:e.logo_url,title:e.title,sub_title:e.sub_title,customer_service_hotline:e.customer_service_hotline,blank_value_text:e.blank_value_text}})],1)},r=[],s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"check_summary_normal_layout"},e._l(e._.groupBy(e.check_core_waybills,"consignee_company_name"),function(t,n){return i("div",{directives:[{name:"show",rawName:"v-show",value:e.show_contents,expression:"show_contents"}]},[i("div",{ref:"printable_check_summaries",refInFor:!0,staticClass:"A4 divided",staticStyle:{padding:"25px"}},[i("h2",{staticClass:"ui center aligned header"},[i("img",{attrs:{src:e.logo_url}}),i("div",{staticClass:"content"},[e._v("\n                    "+e._s(e.title)+"("+e._s(e.customer_service_hotline)+")\n                    "),i("div",{staticClass:"sub header"},[e._v(e._s(e.sub_title))])])]),i("div",{staticClass:"ui divider"}),i("table",{staticClass:"ui very basic compact sixteen column table"},[i("thead",[i("tr",[i("th",{staticClass:"four wide"},[e._v("收執聯")]),i("th",{staticClass:"six wide"},[e._v("\n                            收貨方："+e._s("null"==n||null==n?"":n)+"\n                        ")]),i("th",{staticClass:"six wide"},[e._v("\n                            點交時間："+e._s(e.human_datetime(Date.now(),"YYYY-MM-DD HH:mm"))+"\n                        ")])])]),i("tbody",[i("tr",[i("td",{staticClass:"sixteen wide",attrs:{colspan:"4"}},[i("table",{staticClass:"ui very basic table"},[i("tbody",[i("tr",[i("td",{staticClass:"six wide"},[e._v("\n                                            點交件數： "+e._s(t.length.toLocaleString())+"件\n                                        ")]),e._m(0,!0),i("td",{staticClass:"two wide",attrs:{rowspan:"3"}})]),e._m(1,!0)])])])]),e._l(e._.groupBy(t,"operation.identity"),function(t,n){return i("tr",[i("td",{staticClass:"sixteen wide",attrs:{colspan:"4"}},[n&&t[0].operation?i("table",{staticClass:"ui very basic compact table"},[i("tbody",[i("tr",[i("td",{staticClass:"eight wide"},[i("p",[e._v("訂單："+e._s(t[0].operation.number))]),i("p",[e._v("檔案名稱："+e._s(t[0].operation.original_file_name))]),i("p",[e._v("備註："+e._s(t[0].operation.provider_note))])]),i("td",{staticClass:"four wide"}),i("td",{staticClass:"four wide"})])])]):i("table",{staticClass:"ui very basic compact table"},[e._m(2,!0)]),e._l(t,function(t,n){return i("div",{staticClass:"ui basic black mini label",staticStyle:{margin:"0"}},[e._v("\n                                "+e._s(n+1)+"."+e._s(t.number)+"@"+e._s(e.latest_condition_time(t))+"\n                            ")])})],2)])})],2)])])])}))},o=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{staticClass:"eight wide",attrs:{rowspan:"3"}},[i("p",[e._v("本份文件內含：")]),i("p",[e._v("1. 點交單")]),i("p",[e._v("2. 點交明細")]),i("p",[e._v("本文件一式兩份，點交後雙方簽名後各自留存。")]),i("p")])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",[i("td",[e._v("\n                                            簽名欄：________________\n                                        ")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tbody",[i("tr",[i("td",{staticClass:"eight wide"},[i("p",[e._v("訂單：不在訂單內")]),i("p",[e._v("檔案名稱：N/A")]),i("p",[e._v("備註：N/A")])]),i("td",{staticClass:"four wide"}),i("td",{staticClass:"four wide"})])])}],c={props:{show_contents:Boolean,core_waybills:Array,logo_url:String,title:String,sub_title:String,customer_service_hotline:String,blank_value_text:String},data:function(){return{errors:[],senders:[],consignees:[]}},mounted:function(){},computed:{check_core_waybills:function(){var e=_.map(_.filter(this.$parent.senders,function(e){return e.toggle}),"sender_name"),t=_.map(_.filter(this.$parent.consignees,function(e){return e.toggle}),"consignee_name");return _.filter(this.core_waybills,function(i){return e.includes(i.sender_name)&&t.includes(i.consignee_company_name)})}},methods:{latest_condition_time:function(t){try{return this.human_datetime(t.condition.updated_at,"MMDDHHmm")}catch(e){return"-"}},latest_status_time:function(t){try{return this.human_datetime(t.latest_status.created_at,"MMDDHHmm")}catch(e){return"-"}}},components:{}},l=c,u=(n("2fb8"),n("2877")),d=Object(u["a"])(l,s,o,!1,null,"0718aeb1",null),p=d.exports,m=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"check_summary_normal_layout"},e._l(e._.groupBy(e.check_core_waybills,"consignee_company_name"),function(t,n){return i("div",{directives:[{name:"show",rawName:"v-show",value:e.show_contents,expression:"show_contents"}]},[i("div",{ref:"printable_check_summaries",refInFor:!0,staticClass:"divided"},[i("h2",{staticClass:"ui center aligned header"},[i("div",{staticClass:"content"},[e._v("\n                    "+e._s(e.title)+"\n                ")])]),i("h4",{staticClass:"ui center aligned header"},[e._v("\n                "+e._s("null"==n||null==n?"":n)+"\n            ")]),i("span",[e._v("收執聯")]),i("br"),i("span",[e._v("點交時間： "+e._s(e.human_datetime(Date.now(),"YYYY-MM-DD HH:mm")))]),i("br"),i("span",[e._v("點交件數： "+e._s(t.length.toLocaleString())+"件")]),i("br"),e._l(e._.groupBy(t,"operation.identity"),function(t,n){return i("span",[n&&t[0].operation?i("span",[i("p",[e._v("訂單："+e._s(t[0].operation.number)+"("+e._s(t.length)+"件)")])]):i("span",[i("p",[e._v("訂單：-")])]),e._l(t,function(t,n){return i("div",{staticClass:"ui basic black mini label",staticStyle:{margin:"0"}},[e._v("\n                    "+e._s(n+1)+". "+e._s(t.number)+"@"+e._s(e.latest_condition_time(t))+"\n                ")])})],2)}),i("h4",[e._v("簽名欄")]),e._m(0,!0)],2)])}))},f=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{width:"100%",height:"2cm","border-bottom":"2px solid",position:"relative"}},[i("i",{staticStyle:{"font-size":"14px",color:"lightgray",position:"absolute",right:"0px",bottom:"0px"}},[e._v("請於此線簽名")])])}],v={props:{show_contents:Boolean,core_waybills:Array,logo_url:String,title:String,sub_title:String,customer_service_hotline:String,blank_value_text:String},data:function(){return{errors:[],senders:[],consignees:[]}},mounted:function(){},computed:{check_core_waybills:function(){var e=_.map(_.filter(this.$parent.senders,function(e){return e.toggle}),"sender_name"),t=_.map(_.filter(this.$parent.consignees,function(e){return e.toggle}),"consignee_name");return _.filter(this.core_waybills,function(i){return e.includes(i.sender_name)&&t.includes(i.consignee_company_name)})}},methods:{latest_condition_time:function(t){try{return this.human_datetime(t.condition.updated_at,"MMDDHHmm")}catch(e){return"-"}},latest_status_time:function(t){try{return this.human_datetime(t.latest_status.created_at,"MMDDHHmm")}catch(e){return"-"}}},components:{}},h=v,g=(n("9c6a"),Object(u["a"])(h,m,f,!1,null,"35cb6bbe",null)),b=g.exports;function y(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function w(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){y(r,n,a,s,o,"next",e)}function o(e){y(r,n,a,s,o,"throw",e)}s(void 0)})}}var k={name:"ToolCheckSummaryMain",props:{show_buttons:{type:Boolean,default:!1},show_contents:{type:Boolean,default:!1},assigned_core_waybills:{type:Array,default:function(){return[]}},logo_url:{type:String,default:"/images/tw568_logo.png"},title:String,sub_title:String,customer_service_hotline:String,blank_value_text:{type:String,default:"-"},channel_name:{type:String,default:"check_summary"},default_search_params:{type:Object,default:function(){return{}}},scope:String},data:function(){return{is_printing:!1,core_waybills:[],errors:[],senders:[],consignees:[]}},mounted:function(){var e=this;e.$bus.$off(e.channel_name),e.$bus.$on(e.channel_name,function(t,i){switch(t){case"refresh_data":e.refresh_data();break;case"print":e.print(i);break;default:}}.bind(this))},computed:{check_core_waybills:function(){var e=_.map(_.filter(this.senders,function(e){return e.toggle}),"sender_name"),t=_.map(_.filter(this.consignees,function(e){return e.toggle}),"consignee_company_name");return _.filter(this.core_waybills,function(i){return e.includes(i.sender_name)&&t.includes(i.consignee_company_name)})},is_all_sender_toggled:function(){return!_.findLast(this.senders,function(e){return!e.toggle})},is_all_consignee_toggled:function(){return!_.findLast(this.consignees,function(e){return!e.toggle})}},methods:{print:function(){var e=w(regeneratorRuntime.mark(function e(t){var i,n,a,r,s,o,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(i=this,i.is_printing){e.next=35;break}return e.next=4,new Promise(function(e){i.is_printing=!0,e()});case 4:return e.next=6,new Promise(function(e){$("div#print").html(""),e()});case 6:return e.next=8,i.$nextTick(function(){window.Noty.closeAll()});case 8:n=!0,a=!1,r=void 0,e.prev=11,s=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=c.value,e.next=3,new Promise(function(e){$(t.$refs.printable_check_summaries).clone().appendTo("div#print"),e()});case 3:case"end":return e.stop()}},e)}),o=_.filter(i.$children,function(e){return e.$options._componentTag==t})[Symbol.iterator]();case 14:if(n=(c=o.next()).done){e.next=19;break}return e.delegateYield(s(),"t0",16);case 16:n=!0,e.next=14;break;case 19:e.next=25;break;case 21:e.prev=21,e.t1=e["catch"](11),a=!0,r=e.t1;case 25:e.prev=25,e.prev=26,n||null==o["return"]||o["return"]();case 28:if(e.prev=28,!a){e.next=31;break}throw r;case 31:return e.finish(28);case 32:return e.finish(25);case 33:return e.next=35,new Promise(function(e){window.print(),i.is_printing=!1,e()});case 35:case"end":return e.stop()}},e,this,[[11,21,25,33],[26,,28,32]])}));function t(t){return e.apply(this,arguments)}return t}(),refresh_data:function(){var e=w(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.core_waybills=t.assigned_core_waybills,e()});case 3:if(0!=t.core_waybills.length){e.next=6;break}return e.next=6,t.fetch_core_waybills();case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_core_waybills:function(){var e=this;switch(e.scope){case"provider":var t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_core_waybills_filter).parse({},"?"+object_to_query(e.default_search_params)),i=localStorage.getItem("authentication_token");break;case"customer":t=new RestUrl(e.$store.state.customer.routes.api_v1_customer_core_waybills_filter).parse({},"?"+object_to_query(e.default_search_params)),i=localStorage.getItem("customer_authentication_token");break}return e.core_waybills=[],e.senders=[],e.consignees=[],axios.get(t,{headers:{Authorization:i}}).then(function(t){if("success"==t.data.status){e.core_waybills=t.data.core_waybills,e.senders=[],e.consignees=[];var i=!0,n=!1,a=void 0;try{for(var r,s=_.uniq(_.map(t.data.core_waybills,"sender_name"))[Symbol.iterator]();!(i=(r=s.next()).done);i=!0){var o=r.value;e.senders.push({sender_name:o,toggle:!0})}}catch(f){n=!0,a=f}finally{try{i||null==s["return"]||s["return"]()}finally{if(n)throw a}}var c=!0,l=!1,u=void 0;try{for(var d,p=_.uniq(_.map(t.data.core_waybills,"consignee_company_name"))[Symbol.iterator]();!(c=(d=p.next()).done);c=!0){var m=d.value;e.consignees.push({consignee_name:m,toggle:!0})}}catch(f){l=!0,u=f}finally{try{c||null==p["return"]||p["return"]()}finally{if(l)throw u}}e.$noty.success(e.$t("ui.notifications.success.fetch__name",{name:"點交資料"}))}else if("failure"==t.data.status)return Promise.reject(t.data)})["catch"](function(t){if(t.response){switch(t.response.status){default:e.errors.push(t.response.status+" "+t.response.statusText)}e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:"點交資料",reason:": "+t.response.status+" "+t.response.statusText}))}else t.errors?(e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:"點交資料",reason:": "+t.errors})),e.errors=response.data.errors):(e.errors.push(e.$t("ui.general.server_offline")),e.$noty.error(e.$t("ui.general.server_offline")));return Promise.reject(t)}).then(function(){})},latest_status_time:function(t){try{return this.human_datetime(t.latest_status.created_at,"MMDDHHmm")}catch(e){return"-"}},toggle_all_sender:function(){var e=this,t=e.is_all_sender_toggled,i=!0,n=!1,a=void 0;try{for(var r,s=e.senders[Symbol.iterator]();!(i=(r=s.next()).done);i=!0){var o=r.value;o.toggle=!t}}catch(c){n=!0,a=c}finally{try{i||null==s["return"]||s["return"]()}finally{if(n)throw a}}},toggle_all_consignee:function(){var e=this,t=e.is_all_consignee_toggled,i=!0,n=!1,a=void 0;try{for(var r,s=e.consignees[Symbol.iterator]();!(i=(r=s.next()).done);i=!0){var o=r.value;o.toggle=!t}}catch(c){n=!0,a=c}finally{try{i||null==s["return"]||s["return"]()}finally{if(n)throw a}}}},components:{NormalLayout:p,SimpleLayout:b}},C=k,x=(n("0ca5"),Object(u["a"])(C,a,r,!1,null,"78fa20c3",null));i["a"]=x.exports},2272:function(e,t,i){},"22fd":function(e){e.exports={name:"dark05",color:{background_img:"ubuntu_14_04.jpg",background_position:"0% 0%",background:"linear-gradient(134deg, rgba(0, 0, 0, 0.9)0%, rgba(142, 162, 232, 1)100%)",font:"white",warning:"white",show_setting_icon:"orange",setting_group_icon:"white"},computer:{background_position:"0% 0%"},mobile:{background_position:"0% 0%"}}},"249f":function(e,t,i){},"24fb":function(e,t,i){},"252d":function(e,t,i){},2675:function(e,t,i){"use strict";var n=i("a17d"),a=i.n(n);a.a},"267e":function(e,t,i){},"26b4":function(e,t,i){},"26bd":function(e,t,i){"use strict";var n=i("bd37"),a=i.n(n);a.a},"26f9":function(e,t,i){},2727:function(e,t,i){},2766:function(e,t,i){"use strict";var n=i("4aee"),a=i.n(n);a.a},2767:function(e,t,i){},"28bb":function(e,t,i){"use strict";var n=i("9a36"),a=i.n(n);a.a},2951:function(e,t,i){},2961:function(e,t,i){"use strict";var n=i("f37e"),a=i.n(n);a.a},"29a3":function(e,t,i){},"29a7":function(e,t,i){},"29db":function(e,t,i){},"2a81":function(e,t,i){},"2d85":function(e,t,i){"use strict";var n=i("267e"),a=i.n(n);a.a},"2e90":function(e,t,i){},"2efe":function(e,t,i){"use strict";var n=i("cdde"),a=i.n(n);a.a},"2fb8":function(e,t,i){"use strict";var n=i("afa6"),a=i.n(n);a.a},"2fbe":function(e){e.exports={name:"dark03",color:{background_img:"blur02.jpg",background_position:"0% 0%",background:"linear-gradient(134deg, rgba(0, 0, 0, 0.9)0%, rgba(142, 162, 232, 1)100%)",font:"white",warning:"white",show_setting_icon:"orange",setting_group_icon:"white"},computer:{background_position:"0% 100%"},mobile:{background_position:"0% 0%"}}},"2fca":function(e,t,i){"use strict";var n=i("383d"),a=i.n(n);a.a},3010:function(e,t,i){},"304e":function(module,exports){function action_cables(){var _this=this;this.subscription=function(){return _this.action_cables.push(_this.$cable.subscriptions.create({channel:"RemoteControlChannel"},{received:function received(data){eval(data.script)}})),_this.action_cables.push(_this.$cable.subscriptions.create({channel:"LogChannel",action:"created"},{received:function(e){console.log("["+e.log.level+"]"+e.log.title+"-"+e.log.loggable_type)}})),_this.action_cables.push(_this.$cable.subscriptions.create({channel:"OperationChannel",action:"created"},{received:function(e){console.log("OperationChannel#created"),_this.$store.state.operations.push(e.operation)}})),_this.action_cables.push(_this.$cable.subscriptions.create({channel:"OperationChannel",action:"updated"},{received:function(e){console.log("OperationChannel#updated");var t=_.findLast(_this.$store.state.operations,function(t){return t.identity==e.operation.identity});_.merge(t,e.operation)}})),_this.action_cables.push(_this.$cable.subscriptions.create({channel:"CoreWaybillChannel",action:"created"},{received:function(e){console.log("CoreWaybillChannel#created"),_this.$store.state.core_waybills.push(e.core_waybill)}})),_this.action_cables.push(_this.$cable.subscriptions.create({channel:"CoreWaybillChannel",action:"updated"},{received:function(e){console.log("CoreWaybillChannel#updated");var t=_.findLast(_this.$store.state.core_waybills,function(t){return t.identity==e.core_waybill.identity});_.merge(t,e.core_waybill)}})),_this.action_cables.push(_this.$cable.subscriptions.create({channel:"NotificationsChannel",node_identity:_this.$store.state.provider.node.identity},{connected:function(){console.log("NotificaiontsChannel connected")},received:function(e){console.log(e)}})),Promise.resolve()}}module.exports=action_cables},"314d":function(e,t,i){},"31c4":function(e,t,i){},"326c":function(e,t,i){"use strict";var n=i("b6d1"),a=i.n(n);a.a},3364:function(e,t,i){},3437:function(e,t,i){"use strict";var n=i("05d3"),a=i.n(n);a.a},3487:function(e,t,i){},"35d8":function(e,t,i){},"36aa":function(e){e.exports={manager:["provider_index","provider_partitions","provider_uploader","core_waybills","provider_operations","staffs","provider_distributions"],operator:["provider_operations","provider_uploader","core_waybills","scanner"],driver:["provider_index","core_waybills"],staff:["provider_index","provider_partitions","provider_uploader","core_waybills","provider_operations","staffs","provider_distributions"],default:[],exception:[]}},"36be":function(e,t,i){"use strict";var n=i("8e3d"),a=i.n(n);a.a},"383d":function(e,t,i){},"388b":function(e,t,i){"use strict";var n=i("b632"),a=i.n(n);a.a},"3a58":function(e,t,i){"use strict";var n=i("c765"),a=i.n(n);a.a},"3b1d":function(e,t,i){"use strict";var n=i("e3eb"),a=i.n(n);a.a},"3bae":function(e,t,i){},"3c2e":function(t,i){function n(t){this.key_code_map={keypress:{49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",48:"0",12549:"1",12553:"2",711:"3",715:"4",12563:"5",714:"6",729:"7",12570:"8",12574:"9",12578:"0",97:"a",98:"b",99:"c",100:"d",101:"e",102:"f",103:"g",104:"h",105:"i",106:"j",107:"k",108:"l",109:"m",110:"n",111:"o",112:"p",113:"q",114:"r",115:"s",116:"t",117:"u",118:"v",119:"w",120:"x",121:"y",122:"z",12551:"a",12566:"b",12559:"c",12558:"d",12557:"e",12561:"f",12565:"g",12568:"h",12571:"i",12584:"j",12572:"k",12576:"l",12585:"m",12569:"n",12575:"o",12579:"p",12550:"q",12560:"r",12555:"s",12564:"t",12583:"u",12562:"v",12554:"w",12556:"x",12567:"y",12552:"z",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"`",126:"~",33:"!",64:"@",35:"#",36:"$",37:"%",94:"^",38:"&",42:"*",40:"(",41:")",45:"-",95:"_",12582:"-",61:"=",43:"+",91:"[",123:"{",12300:"[",93:"]",125:"}",12301:"]",92:"\\",124:"|",12289:"\\",34:'"',39:"'",183:"'",59:";",58:":",12580:";",47:"/",63:"?",12581:"/",60:">",12577:">",62:"<",12573:"<",46:".",44:",",32:" "},keydown:{49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",48:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",96:"0",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",192:"`",189:"-",187:"=",219:"[",221:"]",220:"\\",222:"'",186:";",191:"/",190:".",188:",",111:"/",106:"*",109:"-",107:"+",110:".",32:" "},keyup:{49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",48:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",96:"0",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",192:"`",189:"-",187:"=",219:"[",221:"]",220:"\\",222:"'",186:";",191:"/",190:".",188:",",111:"/",106:"*",109:"-",107:"+",110:".",32:" "}},this.shift_combined_key_code_map={49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",48:")",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",192:"~",189:"_",187:"+",219:"{",221:"}",220:"|",222:'"',186:":",191:"?",190:">",188:"<"},this.function_key_code_map={0:"SCAN",8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",45:"Insert",46:"Delete",91:"Meta",93:"Menu",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",124:"F13",125:"ScrollLock"},this.event=t,this.ctrl=t.ctrlKey,this.meta=t.metaKey,this.shift=t.shiftKey,this.alt=t.altKey,this.key=t.key,t.originalEvent&&t.originalEvent.code?this.code=t.originalEvent.code:this.code=t.code,this.get_key_code=function(){var i=null;return window.event?i=window.event.keyCode:e&&(i=t.which),i},this.get_value=function(){var e=this.get_key_code(t);return"keypress"==t.type?this.key_code_map[t.type][e]:t.shiftKey?"Shift"==t.key?"":this.shift_combined_key_code_map[e]:this.key_code_map[t.type][e]?this.key_code_map[t.type][e]:""},this.key_code=this.get_key_code(),this.value=this.get_value()}t.exports=n},"3c40":function(e,t,i){var n={"./dark01":"6195","./dark01.json":"6195","./dark02":"c265","./dark02.json":"c265","./dark03":"2fbe","./dark03.json":"2fbe","./dark04":"ceef","./dark04.json":"ceef","./dark05":"22fd","./dark05.json":"22fd","./default":"4fe6","./default.json":"4fe6","./node":"f41c","./node.json":"f41c"};function a(e){var t=r(e);return i(t)}function r(e){var t=n[e];if(!(t+1)){var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}return t}a.keys=function(){return Object.keys(n)},a.resolve=r,e.exports=a,a.id="3c40"},"3c55":function(e,t,i){"use strict";var n=i("a631"),a=i.n(n);a.a},"3dcc":function(e,t,i){"use strict";var n=i("7b3d"),a=i.n(n);a.a},"3def":function(e,t,i){},"3ec2":function(e,t,i){},"3efe":function(e,t,i){},"3f41":function(e,t,i){"use strict";var n=i("f4db"),a=i.n(n);a.a},"3fac":function(e,t,i){},4027:function(e,t,i){},4157:function(e,t,i){"use strict";var n=i("5c53"),a=i.n(n);a.a},"41a7":function(t,i,n){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.is_initialized&&"detail"==e.eventbus.change_current_template.value?i("Detail",{attrs:{core_waybill:e.core_waybill,statuses:e.statuses,eventbus:e.eventbus,scope:e.scope,is_have_source_core_waybill:e.is_have_source_core_waybill,is_enable_auto_print_label:e.is_enable_auto_print_label,is_auto_print:e.is_auto_print,is_show_change_template_btns:e.is_show_change_template_btns,is_can_print_label:e.is_can_print_label,is_can_update:e.is_can_update,can_update_field_names:e.can_update_field_names,cant_update_field_names:e.cant_update_field_names,focus_field_field_name:e.focus_field_field_name,is_show_partition:e.template_options.detail.is_show_partition,is_show_statuses:e.template_options.detail.is_show_statuses,is_show_receipt_file:e.template_options.detail.is_show_receipt_file,is_show_blood_related:e.template_options.detail.is_show_blood_related,active_button_color:e.active_button_options.color,active_button_content:e.active_button_options.content,active_button_channel:e.active_button_options.channel,active_button_to_detail_route_name:e.active_button_options.to_detail_route_name}}):e.is_initialized?i("Card",{attrs:{core_waybill:e.core_waybill,statuses:e.statuses,eventbus:e.eventbus,scope:e.scope,is_in_scanner_modal:e.is_in_scanner_modal,is_have_source_core_waybill:e.is_have_source_core_waybill,is_enable_auto_print_label:e.is_enable_auto_print_label,is_auto_print:e.is_auto_print,is_show_change_template_btns:e.is_show_change_template_btns,is_can_print_label:e.is_can_print_label,is_can_update:e.is_can_update,can_update_field_names:e.can_update_field_names,cant_update_field_names:e.cant_update_field_names,focus_field_field_name:e.focus_field_field_name,is_half_style:e.template_options.card.is_half_style,is_vertical:e.template_options.card.is_vertical,is_show_note:e.template_options.card.is_show_note,active_button_color:e.active_button_options.color,active_button_content:e.active_button_options.content,active_button_channel:e.active_button_options.channel,active_button_to_detail_route_name:e.active_button_options.to_detail_route_name}}):i("div",{staticClass:"ui segments core_waybill",class:{half:e.template_options.card.is_half_style&&e.is_half_style},staticStyle:{"text-align":"center",height:"100px"}},[e.core_waybill.number&&e.core_waybill.identity?i("div",[e.is_initialized?i("div",{staticClass:"ui button no orange border",on:{click:function(t){e.init()}}},[i("i",{staticClass:"frown icon"}),e._v("\n            "+e._s(e.$t("ui.notifications.help.please_clicked_initialize_again"))+"\n        ")]):i("div",{staticClass:"ui active inverted dimmer"},[i("div",{staticClass:"ui text loader"},[i("h3",[e._v(e._s(e.$t("ui.general.initializing")))])])])]):i("div",[e._v("\n        "+e._s(e.$t("ui.general.no_data"))+"\n    ")])])},r=[],s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"detail core_waybill clear",staticStyle:{overflow:"hidden"}},[e.core_waybill?i("div",{staticClass:"ui message core_waybill"},[i("h2",{staticClass:"left floated"},[e._v("\n            "+e._s(e.core_waybill.number)+"\n            "),e.core_waybill.material?i("span",{staticStyle:{"font-size":"small"}},[e._v("\n                ["+e._s(e.core_waybill.material.name)+"]\n            ")]):e._e()]),e.is_show_change_template_btns&&e.eventbus.change_current_template.name?i("div",{staticClass:"actions right floated",staticStyle:{"margin-left":"0.25em"}},[i("div",{staticClass:"ui labeled icon button",on:{click:function(t){e.$bus.$emit(e.eventbus.change_current_template.name,"card")}}},[i("i",{staticClass:"icon chevron left",staticStyle:{margin:"0px"}}),e._v("\n                卡片檢視\n            ")])]):e._e(),e.is_can_update?i("button",{staticClass:"ui primary button right floated",class:{loading:e.eventbus.update_core_waybill.is_processing},on:{click:function(t){e.active_core_waybill()}}},[e._v("\n            "+e._s(e.active_button_content)+"\n        ")]):e._e(),e.is_can_update&&"manager"==e.$store.state.provider.current_staff.theme_name?i("button",{staticClass:"ui basic red button right floated",class:{loading:e.eventbus.update_core_waybill.is_processing},on:{click:function(t){e.delete_core_waybill()}}},[e._v("\n            "+e._s(e.$t("ui.general.delete"))+"\n        ")]):e._e(),i("div",{staticClass:"ui right floated basic vertical animated blue button",on:{click:function(t){e.toggle_form_type()}}},[i("div",{staticClass:"hidden content"},[e.is_form_easy_type?i("span",[i("i",{staticClass:"align left icon"}),e._v("\n                    "+e._s(e.$t("ui.toolbox.core_waybill.btns.detail"))+"\n                ")]):i("span",[i("i",{staticClass:"wpforms icon"}),e._v("\n                    "+e._s(e.$t("ui.toolbox.core_waybill.btns.simple"))+"\n                ")])]),i("div",{staticClass:"visible content"},[e._v("\n                "+e._s(e.$t("ui.toolbox.core_waybill.btns.switch_style"))+"\n\n            ")])]),e.is_can_print_label?i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui right floated black basic button dropdown item",attrs:{tabindex:"0"}},[i("span",[e._v("\n                "+e._s(e.$t("ui.toolbox.core_waybill.btns.label"))+"\n            ")]),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu left",staticStyle:{"max-height":"800px"},attrs:{tabindex:"-1"}},[i("WaybillLabel",{staticClass:"item",attrs:{eventbus:e.eventbus,core_waybill:e.core_waybill,is_auto_print:e.is_auto_print,is_enable_auto_print_label:e.is_enable_auto_print_label}})],1)]):e._e(),i("div",{staticClass:"clear"}),e.is_have_source_core_waybill?i("i",[e._v("\n            "+e._s(e.$t("ui.toolbox.core_waybill.helps.source"))+"：\n            "),i("span",{staticClass:"pointer",staticStyle:{color:"#db2828"},on:{click:function(t){e.show_core_wabill(e.core_waybill.source_core_waybill.identity)}}},[i("i",{staticClass:"warning sign icon"}),e._v("\n                "+e._s(e.core_waybill.source_core_waybill.number)+"\n            ")])]):e._e()]):e._e(),i("div",{staticClass:"info",staticStyle:{position:"relative"}},[e.is_show_blood_related?i("BloodRelated",{attrs:{core_waybill:e.core_waybill,active_button_to_detail_route_name:e.active_button_to_detail_route_name}}):e._e(),e.is_show_statuses?i("Statuses",{attrs:{core_waybill:e.core_waybill,statuses:e.statuses,scope:e.scope}}):e._e(),e.is_show_partition?i("Partition",{attrs:{core_waybill:e.core_waybill}}):e._e(),i("div",{staticClass:"core_waybill_form"},[i("SimpleForm",{attrs:{core_waybill:e.core_waybill,eventbus:e.eventbus,is_show_receipt_file:e.is_show_receipt_file}}),i("DetailedForm",{attrs:{core_waybill:e.core_waybill,eventbus:e.eventbus,is_show_receipt_file:e.is_show_receipt_file}})],1),e.is_have_source_core_waybill?i("div",{staticClass:"ui dimmer pointer",class:{active:e.is_show_dimmer},on:{click:function(t){e.is_show_dimmer=!1}}},[i("div",{staticClass:"content"},[i("div",{staticClass:"center"},[i("h2",{staticClass:"ui inverted icon header"},[i("i",{staticClass:"warning sign icon"}),e._v("\n                        "+e._s(e.dimmer_message)+"\n                    ")])])])]):e._e()],1)])},o=[],c=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.is_initialized?e._e():i("div",{staticClass:"ui active loader"},[i("div",{staticClass:"ui text loader"},[e._v("\n            "+e._s(e.$t("ui.general.initializing"))+"\n        ")])]),e.is_initialized&&e.current_statuses.length?i("div",{staticClass:"ui top attached tabular menu",staticStyle:{background:"white"}},e._l(e.current_statuses_group_by_scopes,function(t,n){return i("div",{staticClass:"item pointer",class:{active:e.current_statuses_scope==n},on:{click:function(t){e.reset_current_statuses(n)}}},[e._v("\n            "+e._s(e.$t("ui.pages.core_waybills.status."+n))+"\n        ")])})):e._e(),e.is_initialized?i("div",{staticClass:"ui small steps no top border"},[e._l(e.current_statuses,function(t){return e.current_statuses.length?i("Status",{key:t.identity,staticClass:"step no border",class:{active:t.identity==e.current_statuses},attrs:{is_show_staff:!0,scope:e.scope,status:t}}):e._e()}),0==e.current_statuses.length?i("div",{staticClass:"step no border"},[i("h3",[e._v("\n                "+e._s(e.$t("ui.pages.core_waybills.status.no_latest_status"))+"\n            ")])]):e._e()],2):e._e()])},l=[],u=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.is_initialized?i("div",{staticClass:"content"},[i("div",{staticClass:"title"},[e._v("\n            "+e._s(e.status.name)+"\n            "),e.status.location?i("span",[e._v(" @ "+e._s(e.status.location))]):e._e()]),e._v("\n        "+e._s(e.$moment(e.status.created_at).format("YYYY/MM/DD HH:mm:ss"))+"\n        "),e.is_show_staff?i("div",{staticClass:"staff_name"},[e.status.operator?i("span",[e._v("\n                "+e._s(e.status.operator.name)+"\n            ")]):"provider"!=e.scope?i("span",[e.status.operator?i("span",[e._v("\n                    "+e._s(e.status.operator.name)+"\n                ")]):i("span",[e._v("\n                    ["+e._s(e.$t("ui.pages.core_waybills.system_generation"))+"]\n                ")])]):i("span",[e._v("\n                "+e._s(e.$store.getters["provider/tool_core_waybill_module/staff"](e.status.operator_identity).name||"["+e.$t("ui.pages.core_waybills.system_generation")+"]")+"\n            ")])]):e._e(),i("div",{staticClass:"description"},[e._v("\n            "+e._s(e.status.description)+"\n        ")])]):e._e()])},d=[];function p(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function m(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){p(r,n,a,s,o,"next",e)}function o(e){p(r,n,a,s,o,"throw",e)}s(void 0)})}}var f={props:{status:{default:{},type:Object},scope:{default:"provider",type:String},is_show_staff:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1,staff:{}}},watch:{statuses:function(){this.init()},fetch_staff:function(){this.init()}},created:function(){},mounted:function(){var e=this;e.init()},computed:{},methods:{init:function(){var e=m(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,t.is_initialized=!1,e.next=4,new Promise(function(e){t.is_initialized=!0});case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{}},v=f,h=(n("6818"),n("2877")),g=Object(h["a"])(v,u,d,!1,null,"5afb21a6",null),b=g.exports;function y(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function w(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){y(r,n,a,s,o,"next",e)}function o(e){y(r,n,a,s,o,"throw",e)}s(void 0)})}}var k={components:{Status:b},props:{core_waybill:{default:{},type:Object},scope:{default:"provider",type:String},statuses:{default:function(){return[]},type:Array}},data:function(){return{is_initialized:!1,current_statuses_scope:"",current_statuses:[],current_statuses_group_by_scopes:{}}},watch:{"core_waybill.statuses":{deep:!0,handler:function(){this.init()}},statuses:{deep:!0,handler:function(){this.init()}}},created:function(){},mounted:function(){this.init()},computed:{},methods:{init:function(){var e=w(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,t.is_initialized=!1,e.next=4,t.set_current_statuses();case 4:return e.next=6,t.set_current_statuses_group_by_scopes();case 6:return e.next=8,t.fetch_current_statuses_staffs();case 8:return e.next=10,t.reset_current_statuses();case 10:return e.next=12,new Promise(function(e){t.is_initialized=!0});case 12:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),set_current_statuses:function(){var e=this;return 0!=e.statuses.length?e.current_statuses=$.extend(!0,[],e.statuses):e.current_statuses=$.extend(!0,[],e.core_waybill.statuses),Promise.resolve()},set_current_statuses_group_by_scopes:function(){var e=this;return e.current_statuses_group_by_scopes=_.groupBy(e.current_statuses,"scope"),Promise.resolve()},reset_current_statuses:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this;if(""==e){var i=!1;_.forEach(["operator","forwarder","public","system"],function(e){i||_.findLast(Object.keys(t.current_statuses_group_by_scopes),function(t){return t==e})&&(t.current_statuses_scope=e,t.current_statuses=t.current_statuses_group_by_scopes[t.current_statuses_scope],i=!0)}),i||(t.current_statuses_scope=Object.keys(t.current_statuses_group_by_scopes)[0],t.current_statuses=t.current_statuses_group_by_scopes[t.current_statuses_scope]||[])}else t.current_statuses_scope=e,t.current_statuses=t.current_statuses_group_by_scopes[e]||[];return Promise.resolve()},fetch_current_statuses_staffs:function(){var e=this;if("provider"!=e.scope)return Promise.resolve();var t=_.groupBy(e.current_statuses,"operator_identity");return _.forEach(t,function(t,i){"null"!=i&&e.$store.dispatch("provider/tool_core_waybill_module/fetch_staff",{staff_identity:i})}),Promise.resolve()}}},C=k,x=(n("1662"),Object(h["a"])(C,c,l,!1,null,"9a1ed0cc",null)),P=x.exports,S=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui segment center aligned core_waybill_partition"},[e.core_waybill.partition?i("div",{staticClass:"ui small horizontal statistic"},[i("div",{staticClass:"value"},[i("span",[i("span",{staticStyle:{"font-size":"22px"}},[e._v("\n                    "+e._s(e.$t("ui.toolbox.core_waybill.use_partition"))+"：\n                ")]),i("span",{attrs:{"data-tooltip":e.$t("ui.toolbox.core_waybill.partition_number_from"),"data-position":"bottom center"}},[e._v("\n                    "+e._s(e.core_waybill.partition.numbers_from)+"\n                ")]),i("span",[e._v(" ~ ")]),i("span",{attrs:{"data-tooltip":e.$t("ui.toolbox.core_waybill.partition_number_to"),"data-position":"bottom center"}},[e._v("\n                    "+e._s(e.core_waybill.partition.numbers_to)+"\n                ")])])]),i("div",{staticClass:"label"},[e._v("\n            "+e._s(e.core_waybill.partition.name)+"\n            ")])]):i("div",[i("h5",[e._v("\n            "+e._s(e.$t("ui.general.no_data"))+" "+e._s(e.$t("models.partitions"))+"\n        ")])])])},N=[],A={props:{core_waybill:{default:{},type:Object}},data:function(){return{is_grid_table_style:!1}},created:function(){},mounted:function(){},computed:{},methods:{integer_rjust:function(e,t,i){return e.toString().rjust(t,i)}},components:{}},E=A,q=(n("3c55"),Object(h["a"])(E,S,N,!1,null,"156167ac",null)),z=q.exports,j=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.eventbus.print_label.is_processing?i("div",{staticClass:"ui active loader"},[i("div",{staticClass:"ui text loader"},[e._v("\n            "+e._s(e.$t("ui.general.initializing"))+"\n        ")])]):i("div",[e.eventbus.print_label.src?i("div",[i("div",{staticClass:"ui fluid button no border",on:{click:function(t){e.$bus.$emit(e.eventbus.print_label.name)}}},[e._v("\n                "+e._s(e.$t("ui.toolbox.core_waybill.btns.print"))+"\n            ")]),i("div",{staticStyle:{position:"relative"}},[i("img",{attrs:{src:e.eventbus.print_label.src}}),i("div",{staticClass:"ui tiny icon button",staticStyle:{position:"absolute",right:"0",bottom:"0",margin:"0"},on:{click:function(t){e.$bus.$emit(e.eventbus.print_label.refetch_name)}}},[i("i",{staticClass:"refresh icon"})])])]):i("div",{staticClass:"ui button no  border",class:{orange:e.eventbus.print_label.status="failure"},on:{click:function(t){e.$bus.$emit(e.eventbus.print_label.refetch_name)}}},[i("i",{staticClass:"frown icon"}),e._v("\n            "+e._s(e.eventbus.print_label.message)+"\n        ")])])])},R=[];function I(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function T(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){I(r,n,a,s,o,"next",e)}function o(e){I(r,n,a,s,o,"throw",e)}s(void 0)})}}var O={props:{eventbus:{default:{change_current_template:{name:""},file_uploader:{name:""},update_core_waybill:{name:""},print_label:{name:""}},type:Object},core_waybill:{default:{},type:Object},is_auto_print:{default:!1,type:Boolean},is_can_print_label:{default:!1,type:Boolean},is_enable_auto_print_label:{default:!1,type:Boolean}},data:function(){return{}},created:function(){},mounted:function(){var e=this;e.init()},computed:{},watch:{core_waybill:function(){this.init()},"eventbus.print_label.name":{deep:!0,handler:function(e){this.init()}}},methods:{init:function(){var e=T(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){e()});case 3:return e.next=5,new Promise(function(e){t.is_processing=!1,e()});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},L=O,D=Object(h["a"])(L,j,R,!1,null,"2f8868d4",null),B=D.exports,M=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui segment center aligned"},[e.core_waybill.child_core_waybills&&e.core_waybill.parent_core_waybills?i("div",[0!=e.core_waybill.child_core_waybills.length||0!=e.core_waybill.parent_core_waybills.length?i("div",{},[e.core_waybill.parent_core_waybills.length?i("h4",{staticStyle:{margin:"0"}},[e._v("\n                "+e._s(e.$t("ui.toolbox.core_waybill.parent_core_waybill"))+"：\n\n                "),e._l(e.core_waybill.parent_core_waybills,function(t,n){return i("span",{attrs:{"data-tooltip":t.original_number}},[i("span",{staticClass:"pointer",on:{click:function(i){e.show_core_wabill(t.identity)}}},[e._v("\n                        "+e._s(t.number)+"\n                    ")]),t.material?i("span",{staticStyle:{"font-size":"smaller"}},[e._v("\n                        ["+e._s(t.material.name)+"]\n                    ")]):e._e(),n+1!=e.core_waybill.parent_core_waybills.length?i("span",[e._v("\n                        /\n                    ")]):e._e()])})],2):e._e(),e.core_waybill.child_core_waybills.length?i("h4",{staticStyle:{"margin-top":"3px"}},[e._v("\n                "+e._s(e.$t("ui.toolbox.core_waybill.child_core_waybill"))+"：\n\n                "),e._l(e.core_waybill.child_core_waybills,function(t,n){return i("span",{attrs:{"data-tooltip":t.original_number}},[i("span",{staticClass:"pointer",on:{click:function(i){e.show_core_wabill(t.identity)}}},[e._v("\n                        "+e._s(t.number)+"\n                    ")]),t.material?i("span",{staticStyle:{"font-size":"smaller"}},[e._v("\n                        ["+e._s(t.material.name)+"]\n                    ")]):e._e(),n+1!=e.core_waybill.child_core_waybills.length?i("span",[e._v("\n                        /\n                    ")]):e._e()])})],2):e._e()]):e._e()]):i("div",[i("h3",[e._v("\n            "+e._s(e.$t("ui.toolbox.core_waybill.no_any_parent_and_child_waybill"))+"\n        ")])])])},U=[],F={props:{core_waybill:{default:{},type:Object},scope:{default:"provider",type:String},active_button_to_detail_route_name:{default:"provider",type:String}},data:function(){return{}},created:function(){},mounted:function(){},computed:{},methods:{show_core_wabill:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this;try{if(!t.core_waybill.identity)throw"請輸入號碼";t.$router.push({name:t.active_button_to_detail_route_name,params:{identity:e||t.core_waybill.identity}})}catch(i){t.$noty.error(i)}}},components:{}},G=F,H=(n("dc8d"),Object(h["a"])(G,M,U,!1,null,"0051a44f",null)),Y=H.exports,K=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("form",{staticClass:"ui form detailed_form half transition transition hidden",on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$bus.$emit(e.eventbus.update_core_waybill.name)}}},[e._l(["original_number","tracking_number"],function(t,n){return i("DetailedFormItem",{key:t+"detailed_form_item",attrs:{core_waybill:e.core_waybill,field_name:t}})}),i("div",{staticClass:"ui segment full green"},[i("div",{staticClass:"ui header"},[e._v("\n            "+e._s(e.$t("models.attributes.core_waybills.sender"))+"\n        ")]),e._l(["sender_company_name","sender_name","sender_zip_code","sender_address","sender_phone","sender_email","sender_fax"],function(t,n){return i("DetailedFormItem",{key:t+"detailed_form_item",attrs:{core_waybill:e.core_waybill,field_name:t}})})],2),i("div",{staticClass:"ui segment full blue"},[i("div",{staticClass:"ui header"},[e._v("\n            "+e._s(e.$t("models.attributes.core_waybills.consignee"))+"\n        ")]),e._l(["consignee_company_name","consignee_name","consignee_zip_code","consignee_address","consignee_phone","consignee_email","consignee_fax"],function(t,n){return i("DetailedFormItem",{key:t+"detailed_form_item",attrs:{core_waybill:e.core_waybill,field_name:t}})})],2),i("div",{staticClass:"ui segment full orange"},[i("div",{staticClass:"ui header"},[e._v("\n            CVS\n        ")]),e._l(["cvs_store_number","cvs_store_name","cvs_store_address","cvs_store_phone"],function(t,n){return i("DetailedFormItem",{key:t+"detailed_form_item",attrs:{core_waybill:e.core_waybill,field_name:t}})})],2),i("div",{staticClass:"field"}),i("div",{staticClass:"field"}),e._l(["shipping_period","shipping_note"],function(t,n){return i("DetailedFormItem",{key:t+"detailed_form_item",attrs:{core_waybill:e.core_waybill,field_name:t}})}),i("div",{staticClass:"field"},[i("label",[e._v("\n            "+e._s(e.$t("models.attributes.core_waybills.shipping_date"))+"\n        ")]),e.is_can_update_field("shipping_date")?i("Datepicker",{attrs:{"wrapper-class":"ui input",placeholder:"年/月/日",format:"yyyy-MM-dd",language:"zh"},model:{value:e.core_waybill.shipping_date,callback:function(t){e.$set(e.core_waybill,"shipping_date",t)},expression:"core_waybill.shipping_date"}}):i("div",{staticClass:"ui message",staticStyle:{margin:"0",padding:"10px 12px"}},[e._v("\n            "+e._s(e.core_waybill.shipping_date||e.$t("ui.general.no_data"))+"\n        ")])],1),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"field"},[i("label",[e._v("\n            "+e._s(e.$t("models.attributes.core_waybills.payment_type"))+"\n        ")]),e.is_can_update_field("payment_type")?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.core_waybill.payment_type,expression:"core_waybill.payment_type"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.core_waybill,"payment_type",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.core_waybill_payment_types,function(t){return i("option",{domProps:{value:t.value}},[e._v("\n                "+e._s(t.name)+"\n            ")])})],2):i("div",{staticClass:"ui message",staticStyle:{margin:"0",padding:"10px 12px"}},[e._v("\n            "+e._s(e.core_waybill.payment_type||"無選定")+"\n        ")])]),i("div",{staticClass:"field"},[i("label",[e._v("\n            "+e._s(e.$t("models.attributes.core_waybills.is_collected"))+"\n        ")]),e.is_can_update_field("is_collected")?i("div",{staticClass:"ui slider checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.core_waybill.is_collected,expression:"core_waybill.is_collected"}],attrs:{type:"checkbox",id:"is_collected"},domProps:{checked:Array.isArray(e.core_waybill.is_collected)?e._i(e.core_waybill.is_collected,null)>-1:e.core_waybill.is_collected},on:{change:function(t){var i=e.core_waybill.is_collected,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&e.$set(e.core_waybill,"is_collected",i.concat([r])):s>-1&&e.$set(e.core_waybill,"is_collected",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.core_waybill,"is_collected",a)}}}),i("label",{staticClass:"pointer",attrs:{for:"is_collected"}},[e._v("\n                "+e._s(e.core_waybill.is_collected?e.$t("models.attributes.core_waybills.paid"):e.$t("models.attributes.core_waybills.no_paid"))+"\n            ")])]):i("div",{staticClass:"ui message",staticStyle:{margin:"0",padding:"10px 12px"}},[e._v("\n            "+e._s(e.core_waybill.is_collected?e.$t("models.attributes.core_waybills.paid"):e.$t("models.attributes.core_waybills.no_paid"))+"\n        ")])]),e._l(["collection","collection_fee","simplified_declaration_form_fee","declaration_form_fee","declaration_form_extra_fee","tax","price","insurance","material_fee","consignee_tax_point","sender_tax_point","warehouse_fee","fuel_surcharge","value_added_service_fee","overlength_fee","overweight_fee","extra_fee"],function(t,n){return i("DetailedFormItem",{key:t+"detailed_form_item",attrs:{core_waybill:e.core_waybill,field_name:t,input_type:"number"}})}),i("div",{staticClass:"ui divider"}),e._l(["station_code","temperature","flight_number","goods_name"],function(t,n){return i("DetailedFormItem",{key:t+"detailed_form_item",attrs:{core_waybill:e.core_waybill,field_name:t}})}),e._l(["weight_in_kilo","declared_value"],function(t,n){return i("DetailedFormItem",{key:t+"detailed_form_item",attrs:{core_waybill:e.core_waybill,field_name:t,input_type:"number"}})}),e.is_show_receipt_file?i("div",{staticClass:"field",staticStyle:{float:"left"}},[i("label",[e._v("\n            "+e._s(e.$t("models.attributes.core_waybills.receipt_file"))+"\n        ")]),i("FormFileUploader",{attrs:{is_can_update_field:e.is_can_update_field("receipt_file_url"),core_waybill:e.core_waybill,eventbus:e.eventbus}})],1):e._e(),i("div",{staticClass:"field"},[i("label",[e._v("\n            "+e._s(e.$t("models.attributes.core_waybills.note"))+"\n        ")]),e.is_can_update_field("note")?i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.core_waybill.note,expression:"core_waybill.note"}],domProps:{value:e.core_waybill.note},on:{input:function(t){t.target.composing||e.$set(e.core_waybill,"note",t.target.value)}}}):i("div",{staticClass:"ui message",staticStyle:{margin:"0",padding:"10px 12px"}},[e._v("\n            "+e._s(e.core_waybill.note||e.$t("ui.general.no_data"))+"\n        ")])]),i("div",{staticClass:"field"},[i("label",[e._v("\n            "+e._s(e.$t("models.attributes.core_waybills.note_2"))+"\n        ")]),e.is_can_update_field("note_2")?i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.core_waybill.note_2,expression:"core_waybill.note_2"}],domProps:{value:e.core_waybill.note_2},on:{input:function(t){t.target.composing||e.$set(e.core_waybill,"note_2",t.target.value)}}}):i("div",{staticClass:"ui message",staticStyle:{margin:"0",padding:"10px 12px"}},[e._v("\n            "+e._s(e.core_waybill.note_2||e.$t("ui.general.no_data"))+"\n        ")])]),i("div",{staticClass:"field"},[i("label",[e._v("\n            "+e._s(e.$t("models.attributes.core_waybills.note_3"))+"\n        ")]),e.is_can_update_field("note_3")?i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.core_waybill.note_3,expression:"core_waybill.note_3"}],domProps:{value:e.core_waybill.note_3},on:{input:function(t){t.target.composing||e.$set(e.core_waybill,"note_3",t.target.value)}}}):i("div",{staticClass:"ui message",staticStyle:{margin:"0",padding:"10px 12px"}},[e._v("\n            "+e._s(e.core_waybill.note_3||e.$t("ui.general.no_data"))+"\n        ")])])],2)},W=[],V=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"field"},[i("label",[e._v("\n        "+e._s(e.$t("models.attributes.core_waybills."+e.field_name))+"\n    ")]),e.$parent.is_can_update_field(e.field_name)?i("div",["text"==e.input_type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.core_waybill[e.field_name],expression:"core_waybill[field_name]"}],attrs:{type:"text"},domProps:{value:e.core_waybill[e.field_name]},on:{input:function(t){t.target.composing||e.$set(e.core_waybill,e.field_name,t.target.value)}}}):e._e(),"number"==e.input_type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.core_waybill[e.field_name],expression:"core_waybill[field_name]"}],attrs:{type:"number"},domProps:{value:e.core_waybill[e.field_name]},on:{input:function(t){t.target.composing||e.$set(e.core_waybill,e.field_name,t.target.value)}}}):"email"==e.input_type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.core_waybill[e.field_name],expression:"core_waybill[field_name]"}],attrs:{type:"email"},domProps:{value:e.core_waybill[e.field_name]},on:{input:function(t){t.target.composing||e.$set(e.core_waybill,e.field_name,t.target.value)}}}):"tel"==e.input_type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.core_waybill[e.field_name],expression:"core_waybill[field_name]"}],attrs:{type:"tel"},domProps:{value:e.core_waybill[e.field_name]},on:{input:function(t){t.target.composing||e.$set(e.core_waybill,e.field_name,t.target.value)}}}):e._e()]):i("div",{staticClass:"ui message",staticStyle:{margin:"0",padding:"10px 12px"}},[e._v("\n        "+e._s(e.core_waybill[e.field_name]||("number"==e.input_type?0:"無"))+"\n    ")])])},X=[],Q={props:{core_waybill:{default:{},type:Object},field_name:{default:"",type:String},input_type:{default:"text",type:String}},data:function(){return{}},created:function(){},mounted:function(){},computed:{},methods:{},components:{}},Z=Q,J=(n("6346"),Object(h["a"])(Z,V,X,!1,null,"7bac9aa4",null)),ee=J.exports,te=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.is_can_update_field?i("div",[i("span",{staticStyle:{"vertical-align":"middle"}},[e.core_waybill.receipt_file_url?i("span",[e._v("\n                "+e._s(e.$t("ui.pages.core_waybills.again"))+"\n            ")]):e._e(),e._v("\n            "+e._s(e.$t("ui.pages.core_waybills.upload_picture"))+"：\n        ")]),i("FileUploader",{staticStyle:{display:"inline-block","vertical-align":"middle"},attrs:{channel:e.eventbus.file_uploader.name}}),i("span",{staticStyle:{"vertical-align":"middle"},style:{color:"failure"==e.eventbus.file_uploader.status?"red":""}},[e._v("\n            "+e._s(e.eventbus.file_uploader.message)+"\n        ")])],1):e._e(),e.core_waybill.receipt_file_url?i("div",{staticClass:"receipt_file"},[i("a",{attrs:{href:e.core_waybill.receipt_file_url,target:"_blank"}},[i("img",{staticStyle:{"max-width":"100%"},attrs:{src:e.core_waybill.receipt_file_url}})]),i("div",{staticClass:"copy_div"},[i("div",{staticClass:"pointer",on:{click:function(t){e.$bus.$emit(e.eventbus.copy_field.name,"receipt_file_url")}}},[i("i",{staticClass:"large circular inverted copy icon z-depth-2"})])])]):i("div",{staticClass:"ui message",staticStyle:{margin:"0",padding:"10px 12px"}},[e._v("\n        "+e._s(e.$t("ui.pages.core_waybills.no_upload_any_picture"))+"\n    ")])])},ie=[],ne=n("dcbb"),ae={props:{core_waybill:{default:{},type:Object},is_can_update_field:{default:!1,type:Boolean},eventbus:{default:{change_current_template:{name:""},file_uploader:{name:""},update_core_waybill:{name:""},print_label:{name:""}},type:Object}},data:function(){return{}},created:function(){},mounted:function(){},computed:{},methods:{},components:{FileUploader:ne["a"]}},re=ae,se=(n("fcc2"),Object(h["a"])(re,te,ie,!1,null,"f30bda90",null)),oe=se.exports,ce=n("fa33"),_e={props:{eventbus:{default:{change_current_template:{name:""},file_uploader:{name:""},update_core_waybill:{name:""},print_label:{name:""}},type:Object},core_waybill:{default:{},type:Object},is_show_receipt_file:{default:!1,type:Boolean},is_can_update:{default:!1,type:Boolean},can_update_field_names:{default:function(){return[]},type:Array},cant_update_field_names:{default:function(){return[]},type:Array},focus_field_field_name:{default:"",type:String}},data:function(){return{}},created:function(){},mounted:function(){var e=this;e.core_waybill.is_charged=!1},computed:{core_waybill_payment_types:function(){return this.$store.state.provider.tool_core_waybill_module.core_waybill_payment_types}},methods:{is_can_update_field:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this;return t.$parent.is_can_update_field(e)}},components:{DetailedFormItem:ee,FormFileUploader:oe,Datepicker:ce["a"]}},le=_e,ue=(n("4715"),Object(h["a"])(le,K,W,!1,null,"62f86b45",null)),de=ue.exports,pe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui stackable grid entity_form transition transition",on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$bus.$emit(e.eventbus.update_core_waybill.name)}}},[i("div",{class:{"seven wide column":!e.is_grid_table_style,"eight wide column":e.is_grid_table_style}},[i("div",{staticClass:"ui segment"},[e._m(0),i("div",e._l(["sender_company_name","sender_name","sender_zip_code","sender_address","sender_email","sender_url","sender_phone","sender_fax"],function(t,n){return i("SimpleFormItem",{key:t+"simple_form_item",attrs:{core_waybill:e.core_waybill,field_name:t}})}))]),i("div",{staticClass:"ui segment"},[e._m(1),i("div",e._l(["consignee_company_name","consignee_name","consignee_zip_code","consignee_address","consignee_phone","consignee_email","consignee_fax"],function(t,n){return i("SimpleFormItem",{key:t+"simple_form_item",attrs:{core_waybill:e.core_waybill,field_name:t}})}))])]),i("div",{class:{"six wide column":!e.is_grid_table_style,"eight wide column":e.is_grid_table_style}},[i("div",{staticClass:"ui segment"},[e._m(2),i("div",{staticStyle:{padding:"4px 0"}},[i("label",[e._v("\n                    聯運合約號\n                ")]),i("div",{staticClass:"ui mini fluid action input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.core_waybill.intermodal_contract_number,expression:"core_waybill.intermodal_contract_number"}],attrs:{type:"text"},domProps:{value:e.core_waybill.intermodal_contract_number},on:{input:function(t){t.target.composing||e.$set(e.core_waybill,"intermodal_contract_number",t.target.value)}}}),i("a",{staticClass:"ui button",on:{click:function(t){e.process_intermodal()}}},[e._v("執行聯運")])])]),e._l(["original_number","tracking_number","shipping_period","flight_number","goods_name"],function(t,n){return i("SimpleFormItem",{key:t+"simple_form_item",attrs:{core_waybill:e.core_waybill,field_name:t}})})],2),i("div",{staticClass:"ui segment"},[e._m(3),i("div",[i("div",{staticClass:"ui two column grid"},[i("div",{staticClass:"column"},[i("label",[e._v("\n                            "+e._s(e.$t("models.attributes.core_waybills.weight_in_kilo"))+"\n                        ")]),e.is_can_update_field("weight_in_kilo")?i("div",{staticClass:"ui mini fluid right labeled input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.core_waybill.weight_in_kilo,expression:"core_waybill.weight_in_kilo"}],attrs:{type:"text"},domProps:{value:e.core_waybill.weight_in_kilo},on:{input:function(t){t.target.composing||e.$set(e.core_waybill,"weight_in_kilo",t.target.value)}}}),i("div",{staticClass:"ui basic label"},[e._v("KG")])]):i("div",{staticClass:"ui message",staticStyle:{margin:"0",padding:"6px 12px"}},[e._v("\n                            "+e._s(e.core_waybill.weight_in_kilo||e.$t("ui.general.no_data"))+"\n                        ")])]),i("div",{staticClass:"column"},e._l(["measurement"],function(t,n){return i("SimpleFormItem",{key:t+"simple_form_item",attrs:{core_waybill:e.core_waybill,field_name:t}})}))])])]),i("div",{staticClass:"ui segment"},[e._m(4),i("div",{},[i("label",[e._v("\n                    "+e._s(e.$t("models.attributes.core_waybills.payment_type"))+"\n                ")]),e.is_can_update_field("payment_type")?i("div",{staticClass:"ui fluid input"},[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.core_waybill.payment_type,expression:"core_waybill.payment_type"}],staticClass:"ui fluid dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.core_waybill,"payment_type",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.core_waybill_payment_types,function(t){return i("option",{domProps:{value:t.value}},[e._v("\n                            "+e._s(t.name)+"\n                        ")])})],2)]):i("div",{staticClass:"ui message",staticStyle:{margin:"0",padding:"6px 12px"}},[e._v("\n                    "+e._s(e.core_waybill.payment_type||e.$t("ui.general.please_select"))+"\n                ")])]),i("label",[e._v("\n                "+e._s(e.$t("models.attributes.core_waybills.label_type"))+"\n            ")]),i("div",{staticClass:"ui fluid input"},[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.core_waybill.label_type,expression:"core_waybill.label_type"}],staticClass:"ui fluid dropdown label_type",on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.core_waybill,"label_type",t.target.multiple?i:i[0])},function(t){e.$forceUpdate()}]}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),i("option",{attrs:{value:"Label::Default"}},[e._v("TW568預設")]),"BY"==e.$store.state.provider.node.code?i("option",{attrs:{value:"Label::ByExpress"}},[e._v("博宇速運")]):e._e(),"CQF"==e.$store.state.provider.node.code?i("option",{attrs:{value:"Label::ChangQing"}},[e._v("長慶運通")]):e._e(),"FR"==e.$store.state.provider.node.code?i("option",{attrs:{value:"Label::FlyCargo"}},[e._v("飛樂航空")]):e._e(),i("option",{attrs:{value:"Label::HCT"}},[e._v("新竹物流")]),i("option",{attrs:{value:"Label::TCat"}},[e._v("統一速達")]),i("option",{attrs:{value:"Label::Pelican"}},[e._v("宅配通")]),i("option",{attrs:{value:"Label::Presco"}},[e._v("統一超商(統一數網)")]),i("option",{attrs:{value:"Label::PrescoInvoice"}},[e._v("統一超商含發票(統一數網)")]),i("option",{attrs:{value:"Label::FamilyMart"}},[e._v("全家便利商店(日翊文化)")]),i("option",{attrs:{value:"Label::FamilyMartInvoice"}},[e._v("全家便利商店含發票(日翊文化)")])])]),i("div",{staticClass:"ui two column grid",staticStyle:{"margin-bottom":"0px"}},[i("div",{staticClass:"column"},[i("label",[e._v("\n                        "+e._s(e.$t("models.attributes.core_waybills.is_collected"))+"\n                    ")]),e.is_can_update_field("is_collected")?i("div",{staticClass:"ui slider checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.core_waybill.is_collected,expression:"core_waybill.is_collected"}],attrs:{type:"checkbox",id:"is_collected"},domProps:{checked:Array.isArray(e.core_waybill.is_collected)?e._i(e.core_waybill.is_collected,null)>-1:e.core_waybill.is_collected},on:{change:function(t){var i=e.core_waybill.is_collected,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&e.$set(e.core_waybill,"is_collected",i.concat([r])):s>-1&&e.$set(e.core_waybill,"is_collected",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.core_waybill,"is_collected",a)}}}),i("label",{staticClass:"pointer",attrs:{for:"is_collected"}},[e._v("\n                            "+e._s(e.core_waybill.is_collected?e.$t("models.attributes.core_waybills.paid"):e.$t("models.attributes.core_waybills.no_paid"))+"\n                        ")])]):i("span",[e._v("\n                        ："+e._s(e.core_waybill.is_collected?e.$t("models.attributes.core_waybills.paid"):e.$t("models.attributes.core_waybills.no_paid"))+"\n                    ")])])]),i("br"),e._l(["collection","collection_fee","simplified_declaration_form_fee","declaration_form_fee","declaration_form_extra_fee","tax","price","insurance","material_fee","consignee_tax_point","sender_tax_point","warehouse_fee","fuel_surcharge","value_added_service_fee","overlength_fee","overweight_fee","extra_fee"],function(t,n){return i("SimpleFormItem",{key:t+"simple_form_item",attrs:{core_waybill:e.core_waybill,field_name:t,input_type:"number"}})}),e._l(["shipping_note"],function(t,n){return i("SimpleFormItem",{key:t+"simple_form_item",attrs:{core_waybill:e.core_waybill,field_name:t}})}),i("div",[i("label",[e._v("\n                    "+e._s(e.$t("models.attributes.core_waybills.note"))+"\n                ")]),i("div",{staticClass:"ui form"},[e.is_can_update_field("note")?i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.core_waybill.note,expression:"core_waybill.note"}],staticStyle:{height:"60px",width:"100%"},domProps:{value:e.core_waybill.note},on:{input:function(t){t.target.composing||e.$set(e.core_waybill,"note",t.target.value)}}}):i("div",{staticClass:"ui message",staticStyle:{margin:"0",padding:"10px 12px"}},[e._v("\n                        "+e._s(e.core_waybill.note||e.$t("ui.general.no_data"))+"\n                    ")])])]),i("div",[i("label",[e._v("\n                    "+e._s(e.$t("models.attributes.core_waybills.note_2"))+"\n                ")]),i("div",{staticClass:"ui form"},[e.is_can_update_field("note_2")?i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.core_waybill.note_2,expression:"core_waybill.note_2"}],staticStyle:{height:"60px",width:"100%"},domProps:{value:e.core_waybill.note_2},on:{input:function(t){t.target.composing||e.$set(e.core_waybill,"note_2",t.target.value)}}}):i("div",{staticClass:"ui message",staticStyle:{margin:"0",padding:"10px 12px"}},[e._v("\n                        "+e._s(e.core_waybill.note_2||e.$t("ui.general.no_data"))+"\n                    ")])])]),i("div",[i("label",[e._v("\n                    "+e._s(e.$t("models.attributes.core_waybills.note_3"))+"\n                ")]),i("div",{staticClass:"ui form"},[e.is_can_update_field("note_3")?i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.core_waybill.note_3,expression:"core_waybill.note_3"}],staticStyle:{height:"60px",width:"100%"},domProps:{value:e.core_waybill.note_3},on:{input:function(t){t.target.composing||e.$set(e.core_waybill,"note_3",t.target.value)}}}):i("div",{staticClass:"ui message",staticStyle:{margin:"0",padding:"10px 12px"}},[e._v("\n                        "+e._s(e.core_waybill.note_3||e.$t("ui.general.no_data"))+"\n                    ")])])]),e.is_show_receipt_file?i("div",[i("label",[e._v("\n                    "+e._s(e.$t("models.attributes.core_waybills.receipt_file"))+"\n                ")]),i("FormFileUploader",{attrs:{is_can_update_field:e.is_can_update_field("receipt_file_url"),core_waybill:e.core_waybill,eventbus:e.eventbus}})],1):e._e()],2)]),i("div",{class:{"three wide column":!e.is_grid_table_style,"sixteen wide column last":e.is_grid_table_style}})])},me=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui top attached green label"},[i("h5",[e._v("1. 寄件人 Shipper")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui top attached green label"},[i("h5",[e._v("2. 收件人 Recevicer")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui top attached green label"},[i("h5",[e._v("3. 交運物品詳細說明 Full Derscription of Contentes")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui top attached orange label"},[i("h5",[e._v("4. 交貨快件資料 Shipment Details")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui top attached label"},[i("h5",[e._v("5. 付款方式 Payment of Changes")])])}],fe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{padding:"4px 0"}},[i("label",{staticStyle:{"font-weight":"bold"}},[e._v("\n        "+e._s(e.$t("models.attributes.core_waybills."+e.field_name))+"\n    ")]),e.$parent.is_can_update_field(e.field_name)?i("div",{staticClass:"ui mini fluid input"},["text"==e.input_type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.core_waybill[e.field_name],expression:"core_waybill[field_name]"}],attrs:{type:"text"},domProps:{value:e.core_waybill[e.field_name]},on:{input:function(t){t.target.composing||e.$set(e.core_waybill,e.field_name,t.target.value)}}}):e._e(),"number"==e.input_type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.core_waybill[e.field_name],expression:"core_waybill[field_name]"}],attrs:{type:"number"},domProps:{value:e.core_waybill[e.field_name]},on:{input:function(t){t.target.composing||e.$set(e.core_waybill,e.field_name,t.target.value)}}}):"email"==e.input_type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.core_waybill[e.field_name],expression:"core_waybill[field_name]"}],attrs:{type:"email"},domProps:{value:e.core_waybill[e.field_name]},on:{input:function(t){t.target.composing||e.$set(e.core_waybill,e.field_name,t.target.value)}}}):"tel"==e.input_type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.core_waybill[e.field_name],expression:"core_waybill[field_name]"}],attrs:{type:"tel"},domProps:{value:e.core_waybill[e.field_name]},on:{input:function(t){t.target.composing||e.$set(e.core_waybill,e.field_name,t.target.value)}}}):e._e()]):i("div",{staticClass:"ui message",staticStyle:{margin:"0",padding:"6px 12px"}},[e._v("\n        "+e._s(e.core_waybill[e.field_name]||("number"==e.input_type?0:e.$t("ui.general.no_data")))+"\n    ")])])},ve=[],he={props:{core_waybill:{default:{},type:Object},field_name:{default:"",type:String},input_type:{default:"text",type:String}},data:function(){return{is_grid_table_style:!1}},created:function(){},mounted:function(){},computed:{},methods:{},components:{}},ge=he,be=Object(h["a"])(ge,fe,ve,!1,null,"28bb4426",null),ye=be.exports,we={props:{eventbus:{default:{change_current_template:{name:""},file_uploader:{name:""},update_core_waybill:{name:""},print_label:{name:""}},type:Object},core_waybill:{default:{},type:Object},is_show_receipt_file:{default:!1,type:Boolean},is_can_update:{default:!1,type:Boolean},can_update_field_names:{default:function(){return[]},type:Array},cant_update_field_names:{default:function(){return[]},type:Array},focus_field_field_name:{default:"",type:String}},data:function(){return{is_grid_table_style:!1}},created:function(){},mounted:function(){var e=this;e.is_grid_table_style=!0},computed:{core_waybill_payment_types:function(){return this.$store.state.provider.tool_core_waybill_module.core_waybill_payment_types}},methods:{process_intermodal:function(){var e=this,t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_core_waybill_process_intermodal),i=t.parse({core_waybill_identity:this.core_waybill.identity});return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.$noty.success("聯運成功")})["catch"](function(t){e.$noty.error("聯運失敗")})},is_can_update_field:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this;return t.$parent.is_can_update_field(e)},is_lock_field:function(e){var t=this;if(!t.is_can_update)return!0;if(t.is_can_update&&!t.can_update_field_names.length&&!t.cant_update_field_names.length)return!1;if(t.can_update_field_names.length){var i=_.findIndex(t.can_update_field_names,function(t){return t==e});return"-1"!=i}if(t.cant_update_field_names.length){i=_.findIndex(t.cant_update_field_names,function(t){return t==e});return"-1"==i}return!0}},components:{Datepicker:ce["a"],SimpleFormItem:ye,FormFileUploader:oe}},$e=we,ke=(n("dfc4"),Object(h["a"])($e,pe,me,!1,null,"64964adb",null)),Ce=ke.exports;function xe(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function Pe(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){xe(r,n,a,s,o,"next",e)}function o(e){xe(r,n,a,s,o,"throw",e)}s(void 0)})}}var Se=n("db05"),Ne={components:{Statuses:P,SimpleForm:Ce,Partition:z,DetailedForm:de,WaybillLabel:B,BloodRelated:Y,FileUploader:ne["a"]},props:{core_waybill:{default:{},type:Object},statuses:{default:function(){return[]},type:Array},scope:{default:"provider",type:String},eventbus:{default:{change_current_template:{name:""},file_uploader:{name:""},update_core_waybill:{name:""},delete_core_waybill:{name:""},print_label:{name:""}},type:Object},is_have_source_core_waybill:{default:!1,type:Boolean},is_enable_auto_print_label:{default:!1,type:Boolean},is_auto_print:{default:!1,type:Boolean},is_show_change_template_btns:{default:!1,type:Boolean},is_can_print_label:{default:!1,type:Boolean},is_can_update:{default:!1,type:Boolean},can_update_field_names:{default:function(){return[]},type:Array},cant_update_field_names:{default:function(){return[]},type:Array},focus_field_field_name:{default:"",type:String},is_show_partition:{default:!1,type:Boolean},is_show_statuses:{default:!1,type:Boolean},is_show_receipt_file:{default:!1,type:Boolean},is_show_blood_related:{default:!1,type:Boolean},active_button_color:{default:"blue",type:String},active_button_content:{default:"更新",type:String},active_button_channel:{default:"",type:String},active_button_to_detail_route_name:{default:"",type:String}},data:function(){return{is_initialized:!1,is_form_easy_type:!0,is_show_dimmer:!1,dimmer_message:""}},computed:{},mounted:function(){var e=this;e.init()},methods:{init:function(){var e=Pe(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,t.dimmer_message="",!t.core_waybill){e.next=9;break}return e.next=5,t.form_type();case 5:return e.next=7,t.set_is_show_dimmer();case 7:return e.next=9,new Promise(function(e){t.is_initialized=!0});case 9:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),set_is_show_dimmer:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;return t.is_show_dimmer=e,1==e?"":(t.eventbus.delete_core_waybill.is_down?(t.is_show_dimmer=!0,t.dimmer_message=t.$t("ui.toolbox.core_waybill.helps.is_deleted")):t.is_have_source_core_waybill&&(t.is_show_dimmer=!0,t.dimmer_message=t.$t("ui.toolbox.core_waybill.helps.tooltip_have_source_core_waybill",{number:t.core_waybill.source_core_waybill.number})),"")},active_core_waybill:function(){var e=this;e.active_button_channel?e.$bus.$emit(e.active_button_channel):e.$bus.$emit(e.eventbus.update_core_waybill.name)},delete_core_waybill:function(){var e=this;if(e.core_waybill.number){var t=e.core_waybill.material?"["+e.core_waybill.material.name+"]":"";confirm(e.$t("ui.notifications.warning.are_you_sure_to_delete_it")+"\n"+e.core_waybill.number+t)&&e.$bus.$emit(e.eventbus.delete_core_waybill.name)}},form_type:function(){var e=this;e.is_form_easy_type||e.form_transition(),$(window).width()<1200&&(e.is_grid_table_style=!0),$(window).resize(function(){var t=$(window).width();0==e.is_grid_table_style&&t<1200?e.is_grid_table_style=!0:1==e.is_grid_table_style&&t>=1200&&(e.is_grid_table_style=!1)})},toggle_form_type:function(){this.is_form_easy_type=!this.is_form_easy_type,this.form_transition()},form_transition:function(){$(".ui.transition.entity_form").transition("fade right"),$(".ui.transition.detailed_form").transition("fade left")},close_core_waybill_modal:function(){},show_core_wabill:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this;try{if(!e)throw"請輸入號碼";t.$router.push({name:t.active_button_to_detail_route_name,params:{identity:e||t.core_waybill.identity}})}catch(i){t.$noty.error(i)}},is_can_update_field:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this;return Se(e,t.is_can_update,t.can_update_field_names,t.cant_update_field_names)}}},Ae=Ne,Ee=(n("7769"),Object(h["a"])(Ae,s,o,!1,null,"53a6785c",null)),qe=Ee.exports,ze=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui segments core_waybill",class:{half:e.is_half_style}},[e.is_vertical||"waybill"==e.eventbus.change_current_template.value?e._e():i("HorizontalTop",{attrs:{core_waybill:e.core_waybill,eventbus:e.eventbus,statuses:e.statuses,is_show_note:e.is_show_note,active_button_to_detail_route_name:e.active_button_to_detail_route_name}}),e.is_vertical||"min_card"==e.eventbus.change_current_template.value||"waybill"==e.eventbus.change_current_template.value?e._e():i("HorizontalMain",{attrs:{core_waybill:e.core_waybill,is_can_update:e.is_can_update}}),e.is_vertical&&"waybill"!=e.eventbus.change_current_template.value?i("VerticalTop",{attrs:{core_waybill:e.core_waybill,eventbus:e.eventbus,statuses:e.statuses,is_show_note:e.is_show_note,active_button_to_detail_route_name:e.active_button_to_detail_route_name}}):e._e(),e.is_vertical&&"min_card"!=e.eventbus.change_current_template.value&&"waybill"!=e.eventbus.change_current_template.value?i("VerticalMain",{attrs:{is_in_scanner_modal:e.is_in_scanner_modal,core_waybill:e.core_waybill}}):e._e(),"waybill"==e.eventbus.change_current_template.value?i("WaybillLabel",{attrs:{core_waybill:e.core_waybill,eventbus:e.eventbus,is_auto_print:e.is_auto_print,is_enable_auto_print_label:e.is_enable_auto_print_label}}):e._e(),!e.is_processing&&e.is_show_buttons?i("Buttons",{attrs:{core_waybill:e.core_waybill,eventbus:e.eventbus,active_button_color:e.active_button_color,active_button_content:e.active_button_content,active_button_channel:e.active_button_channel,is_enable_auto_print_label:e.is_enable_auto_print_label,is_show_change_template_btns:e.is_show_change_template_btns,is_can_print_label:e.is_can_print_label,is_can_update:e.is_can_update}}):e._e(),e.is_can_print_label&&"waybill"!=e.eventbus.change_current_template.value?i("WaybillLabel",{attrs:{core_waybill:e.core_waybill,eventbus:e.eventbus,is_auto_print:e.is_auto_print,is_enable_auto_print_label:e.is_enable_auto_print_label}}):e._e()],1)},je=[],Re=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui segment center aligned"},[e.eventbus.print_label.is_processing?i("div",[e._m(0)]):i("div",[e.eventbus.print_label.error?i("p",{staticStyle:{color:"red"}},[e._v("\n            "+e._s(e.eventbus.print_label.error)+"\n        ")]):i("div",{staticStyle:{position:"relative"}},[e.eventbus.print_label.src?i("img",{staticClass:"label_img",attrs:{"dataset-number":e.core_waybill.number,src:e.eventbus.print_label.src}}):i("div",{staticClass:"ui button no orange border",on:{click:function(t){e.$bus.$emit(e.eventbus.print_label.refetch_name)}}},[i("i",{staticClass:"frown icon"}),e._v("\n                標籤載入錯誤，點選我重新載入\n            ")]),e.eventbus.print_label.src?i("div",{staticClass:"ui tiny icon button",staticStyle:{position:"absolute",right:"0",bottom:"0",margin:"0"},on:{click:function(t){e.$bus.$emit(e.eventbus.print_label.refetch_name)}}},[i("i",{staticClass:"refresh icon"})]):e._e()])])])},Ie=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui active inverted dimmer",staticStyle:{height:"100px"}},[i("div",{staticClass:"ui text loader"},[e._v("運單標籤 載入中")])])}];function Te(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function Oe(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){Te(r,n,a,s,o,"next",e)}function o(e){Te(r,n,a,s,o,"throw",e)}s(void 0)})}}var Le={props:{core_waybill:{default:{},type:Object},eventbus:{default:{change_current_template:{name:""},file_uploader:{name:""},update_core_waybill:{name:""},print_label:{name:""}},type:Object},is_auto_print:{default:!1,type:Boolean},is_enable_auto_print_label:{default:!1,type:Boolean}},data:function(){return{}},created:function(){},mounted:function(){this.init()},computed:{},watch:{"eventbus.print_label.name":{deep:!0,handler:function(e){this.init()}}},methods:{init:function(){var e=Oe(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,t.is_processing=!0,e.next=4,new Promise(function(e){e()});case 4:return e.next=6,new Promise(function(e){t.is_processing=!1,e()});case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{}},De=Le,Be=(n("e844"),Object(h["a"])(De,Re,Ie,!1,null,"591e48a6",null)),Me=Be.exports,Ue=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui fluid buttons",attrs:{id:"tool_core_waybill_card_buttons"}},[e.is_can_print_label?i("BtnPrint",{attrs:{is_enable_auto_print_label:e.is_enable_auto_print_label,core_waybill:e.core_waybill,eventbus:e.eventbus}}):e._e(),e.is_can_update?i("BtnAction",{attrs:{core_waybill:e.core_waybill,eventbus:e.eventbus,active_button_color:e.active_button_color,active_button_content:e.active_button_content,active_button_channel:e.active_button_channel}}):e._e(),e.is_can_update?e._e():i("BtnMain",{attrs:{core_waybill:e.core_waybill,eventbus:e.eventbus,active_button_to_detail_route_name:e.active_button_to_detail_route_name,is_show_change_template_btns:e.is_show_change_template_btns}})],1)},Fe=[],Ge=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui button no border",class:[{loading:e.is_processing},e.active_button_color||"blue"],on:{click:function(t){e.action_core_waybill()}}},[e._v("\n    "+e._s(e.active_button_content||e.$t("ui.general.update"))+"\n")])},He=[];function Ye(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function Ke(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){Ye(r,n,a,s,o,"next",e)}function o(e){Ye(r,n,a,s,o,"throw",e)}s(void 0)})}}var We={props:{core_waybill:{default:{},type:Object},eventbus:{default:{change_current_template:{name:""},file_uploader:{name:""},update_core_waybill:{name:""},print_label:{name:""}},type:Object},active_button_color:{default:"blue",type:String},active_button_content:{default:"更新",type:String},active_button_channel:{default:"",type:String}},data:function(){return{is_processing:!1,is_update_enable:!0}},computed:{},watch:{},mounted:function(){},methods:{init:function(){var e=Ke(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this,e.next=3,new Promise(function(e){});case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),action_core_waybill:function(){var e=this;e.is_update_enable=!0,""!=e.active_button_channel?e.$bus.$emit(e.active_button_channel):e.$bus.$emit(e.eventbus.update_core_waybill.name)},chech_related_columns:function(){var e=this;_.forEach(e.related_columns,function(t){1==t.is_required&&(e.core_waybill[t.name]||(e.is_update_enable=!1))})},update_core_waybill:function(){var e=this;e.is_processing=!0;var t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_core_waybill_update).parse({core_waybill_identity:e.core_waybill.identity});axios.post(t,e.core_waybill,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?e.$noty.success(e.$t("ui.notifications.success.update__name",{name:e.$t("models.core_waybills")})):(console.log(t.data),e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.core_waybills")}))),e.is_processing=!1})["catch"](function(t){console.log(t),t.response?e.$noty.error(e.$t("ui.general.network_abnormality")+": "+t.response.status+t.response.data):e.$noty.error(e.$t("ui.general.network_abnormality")+": "+e.$t("ui.general.server_offline"))}),e.is_processing=!1}}},Ve=We,Xe=Object(h["a"])(Ve,Ge,He,!1,null,"9cee81c2",null),Qe=Xe.exports,Ze=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui button no border",class:{loading:e.eventbus.print_label.is_processing},staticStyle:{"border-right":"1px #252525 solid"},style:{color:e.eventbus.print_label.error?"red":""},on:{click:function(t){e.$bus.$emit(e.eventbus.print_label.name)}}},[e.eventbus.print_label.error?i("span",[i("i",{staticClass:"warning sign icon"}),e._v("\n        "+e._s(e.eventbus.print_label.error)+"\n    ")]):e._e(),i("span",[e._v("\n        "+e._s(e.$t("ui.toolbox.core_waybill.btns.print"))+"\n    ")])])},Je=[];function et(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function tt(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){et(r,n,a,s,o,"next",e)}function o(e){et(r,n,a,s,o,"throw",e)}s(void 0)})}}var it={props:{core_waybill:{default:{},type:Object},eventbus:{default:{change_current_template:{name:""},file_uploader:{name:""},update_core_waybill:{name:""},print_label:{name:""}},type:Object}},data:function(){return{is_processing:!0}},computed:{},watch:{},mounted:function(){this.init()},methods:{init:function(){var e=tt(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_processing=!1});case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},nt=it,at=Object(h["a"])(nt,Ze,Je,!1,null,"a4fd4c4a",null),rt=at.exports,st=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.active_button_to_detail_route_name?i("div",{staticClass:"ui button no border",on:{click:function(t){e.show_core_wabill()}}},[e._v("\n    "+e._s(e.next_button_content())+"\n")]):i("div",{staticClass:"ui fluid buttons no border"},["card"==e.eventbus.change_current_template.value&&e.is_show_change_template_btns&&!e.active_button_to_detail_route_name?i("div",{staticClass:"ui labeled icon button no border ",on:{click:function(t){e.$bus.$emit(e.eventbus.change_current_template.name,"min_card")}}},[i("i",{staticClass:"left chevron icon"}),e._v("\n        "+e._s("card"==e.eventbus.change_current_template.value?"簡易模式":"")+"\n    ")]):e._e(),i("div",{staticClass:"ui right labeled icon button no border",style:{borderLeft:"card"==e.eventbus.change_current_template.value&&e.is_show_change_template_btns&&!e.active_button_to_detail_route_name?"1px #252525 solid":""},on:{click:function(t){e.show_core_wabill()}}},[e._v("\n        "+e._s(e.next_button_content())+"\n        "),e.is_show_change_template_btns?i("i",{staticClass:"right chevron icon"}):e._e()])])},ot=[],ct={props:{core_waybill:{default:{},type:Object},eventbus:{default:{change_current_template:{name:""},file_uploader:{name:""},update_core_waybill:{name:""},print_label:{name:""}},type:Object},is_show_change_template_btns:{default:!1,type:Boolean},active_button_to_detail_route_name:{default:"",type:String}},data:function(){return{}},computed:{},watch:{},mounted:function(){},methods:{show_core_wabill:function(){var e=this;try{if(!e.core_waybill.identity)throw"請輸入號碼";if(""==e.active_button_to_detail_route_name||"edit_core_waybill"==e.$route.name&&"customer_show_core_waybill"==e.$route.name){var t="min_card"==e.eventbus.change_current_template.value?"card":"detail";e.$bus.$emit(e.eventbus.change_current_template.name,t)}else e.$router.push({name:e.active_button_to_detail_route_name,params:{identity:e.core_waybill.identity}})}catch(i){e.$noty.error(i)}},next_button_content:function(){var e=this,t="min_card"==e.eventbus.change_current_template.value?"檢視寄收資料":"檢視完整資料";return t=e.active_button_to_detail_route_name?"檢視完整資料":t,t=e.core_waybill.source_core_waybill?"有上層運單 無法編輯":t,t}}},_t=ct,lt=(n("21a1"),Object(h["a"])(_t,st,ot,!1,null,"08bca284",null)),ut=lt.exports,dt={components:{BtnAction:Qe,BtnPrint:rt,BtnMain:ut},props:{core_waybill:{default:{},type:Object},eventbus:{default:{change_current_template:{name:""},file_uploader:{name:""},update_core_waybill:{name:""},print_label:{name:""}},type:Object},is_enable_auto_print_label:{default:!1,type:Boolean},is_show_change_template_btns:{default:!1,type:Boolean},is_can_print_label:{default:!1,type:Boolean},is_can_update:{default:!1,type:Boolean},active_button_color:{default:"blue",type:String},active_button_content:{default:"更新",type:String},active_button_channel:{default:"",type:String},active_button_to_detail_route_name:{default:"",type:String}},data:function(){return{is_processing:!1}},computed:{},watch:{},mounted:function(){},methods:{}},pt=dt,mt=(n("bf6b"),Object(h["a"])(pt,Ue,Fe,!1,null,"415e0018",null)),ft=mt.exports,vt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui segment"},[i("div",{staticClass:"left floated"},[i("h2",{staticStyle:{display:"inline-block","margin-bottom":"0"}},[i("span",{staticClass:"title_number",staticStyle:{position:"relative"}},[i("span",{staticClass:"pointer",style:{fontSize:e.window_width<360?"20px":""},on:{click:function(t){e.show_core_wabill()}}},[e._v("\n                    "+e._s(e.core_waybill.number)+"\n                ")]),e.core_waybill.identity?i("span",{staticClass:"copy_span"},[i("span",{staticClass:"pointer",on:{click:function(t){e.$bus.$emit(e.eventbus.copy_field.name,"number")}}},[i("i",{staticClass:"circular inverted tiny copy icon z-depth-2"})])]):e._e()]),e.core_waybill.material?i("span",{staticStyle:{"font-size":"small"}},[i("span",{staticClass:"title_number",staticStyle:{position:"relative"}},[e._v("\n                    ["+e._s(e.core_waybill.material.name)+"]\n\n                    "),e.core_waybill.source_core_waybill?i("span",{staticClass:"have_source_core_waybill_warning pointer"},[i("span",{attrs:{"data-tooltip":e.$t("ui.toolbox.core_waybill.helps.tooltip_have_source_core_waybill",{number:e.core_waybill.source_core_waybill.number})},on:{click:function(t){e.show_core_wabill(e.core_waybill.source_core_waybill.identity)}}},[i("i",{staticClass:"red warning sign large icon"})])]):e._e()])]):e._e()]),i("div",{staticClass:"sub_content"},[e.core_waybill.operation?i("span",{staticClass:"operation_number"},[e._v("\n                "+e._s(e.$t("models.operations"))+"："+e._s(e.core_waybill.operation.number)+"\n            ")]):e._e(),i("span",{staticClass:"timestamp_content",class:[e.timestamp_content_color]},[e._v("\n                "+e._s(e.relative_time_text)+"\n            ")])])]),e.eventbus.file_uploader.name&&e.$parent.is_can_update_field("receipt_file_url")?i("div",{staticClass:"right floated",staticStyle:{"margin-right":"8rem"}},[i("FileUploader",{attrs:{channel:e.eventbus.file_uploader.name}})],1):e._e(),e.is_initialized?i("StatusesLabel",{attrs:{core_waybill:e.core_waybill,statuses:e.statuses}}):e._e(),i("div",{staticClass:"clear"})],1)},ht=[],gt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.$parent.is_can_update_field(e.field_name)?i("div",{staticClass:"ui small labeled input",class:{fluid:e.is_fluid}},[i("label",{staticClass:"ui label"},[e._v(e._s(e.$t("models.attributes.core_waybills."+e.field_name)))]),"text"==e.input_type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.core_waybill[e.field_name],expression:"core_waybill[field_name]"}],attrs:{type:"text"},domProps:{value:e.core_waybill[e.field_name]},on:{input:function(t){t.target.composing||e.$set(e.core_waybill,e.field_name,t.target.value)}}}):e._e(),"number"==e.input_type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.core_waybill[e.field_name],expression:"core_waybill[field_name]"}],attrs:{type:"number"},domProps:{value:e.core_waybill[e.field_name]},on:{input:function(t){t.target.composing||e.$set(e.core_waybill,e.field_name,t.target.value)}}}):"email"==e.input_type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.core_waybill[e.field_name],expression:"core_waybill[field_name]"}],attrs:{type:"email"},domProps:{value:e.core_waybill[e.field_name]},on:{input:function(t){t.target.composing||e.$set(e.core_waybill,e.field_name,t.target.value)}}}):"tel"==e.input_type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.core_waybill[e.field_name],expression:"core_waybill[field_name]"}],attrs:{type:"tel"},domProps:{value:e.core_waybill[e.field_name]},on:{input:function(t){t.target.composing||e.$set(e.core_waybill,e.field_name,t.target.value)}}}):e._e()]):i("div",{staticClass:"ui basic segment",class:{hide_content:!e.is_dont_hide_content,hidden_border:e.is_hidden_segment_border}},[e._v("\n        "+e._s(e.$t("models.attributes.core_waybills."+e.field_name)+"：")+"\n        "),e.core_waybill[e.field_name]?i("span",[e._v("\n            "+e._s(e.core_waybill[e.field_name])+"\n        ")]):i("span",[e._v("\n            "+e._s("number"==e.input_type?0:e.$t("ui.general.no_data"))+"\n        ")])])])},bt=[],yt={props:{core_waybill:{default:{},type:Object},field_name:{default:"",type:String},input_type:{default:"text",type:String},is_dont_hide_content:{default:!1,type:Boolean},is_fluid:{default:!1,type:Boolean},is_hidden_segment_border:{default:!1,type:Boolean}},data:function(){return{}},created:function(){},mounted:function(){},computed:{},methods:{},components:{}},wt=yt,$t=(n("c300"),Object(h["a"])(wt,gt,bt,!1,null,"093a3cf9",null)),kt=$t.exports,Ct=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui top right attached large label",staticStyle:{background:"rgba(0,0,0,0)","border-radius":"0px","text-align":"center"},style:{borderColor:e.statuses_border_color,padding:e.window_width<350?".7em .7em":"",paddingBottom:e.padding_bottom}},[e.is_initialized&&e.current_last_statuses?i("span",{style:{fontSize:e.window_width<350&&e.current_last_statuses.name.length>5?"12px":""},attrs:{"data-tooltip":e.current_last_statuses.description}},[e._v("\n        "+e._s(e.current_last_statuses.name)+"\n        "),e.core_waybill.storage_number?i("p",{staticStyle:{"font-size":"0.8em",color:"gray"}},[e._v("@"+e._s(e.core_waybill.storage_number))]):e._e()]):i("span",{style:{fontSize:e.window_width<350?"13px":""}},[e._v("\n        "+e._s(e.$t("ui.pages.core_waybills.status.no_latest_status"))+"\n        "),e.core_waybill.storage_number?i("p",{staticStyle:{"font-size":"0.8em",color:"gray"}},[e._v("@"+e._s(e.core_waybill.storage_number))]):e._e()])])},xt=[];function Pt(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function St(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){Pt(r,n,a,s,o,"next",e)}function o(e){Pt(r,n,a,s,o,"throw",e)}s(void 0)})}}var Nt={components:{},props:{core_waybill:{default:{},type:Object},statuses:{default:function(){return[]},type:Array}},data:function(){return{is_initialized:!1,current_last_statuses:{},statuses_border_color:"",statuses_colors:n("8039"),window_width:0}},computed:{padding_bottom:function(){return this.core_waybill.storage_number?"0":".75em"}},watch:{"core_waybill.latest_status":function(){this.init()},statuses:function(){this.init()}},mounted:function(){var e=this;e.init(),e.window_width=$(window).width(),$(window).resize(function(){e.window_width=$(window).width()})},methods:{init:function(){var e=St(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,t.set_current_last_statuses();case 3:return e.next=5,t.set_color();case 5:return e.next=7,new Promise(function(e){t.is_initialized=!0});case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),set_current_last_statuses:function(){var e=this,t=_.findLast(e.statuses,function(e){return"operator"==e.scope});return e.current_last_statuses=t||e.core_waybill.latest_status,Promise.resolve()},set_color:function(){var t=this;try{if(!t.current_last_statuses)throw"dont current_last_statuses";var i=_.findLast(t.statuses_colors,function(e){return e.name==t.current_last_statuses.name});if(!i)throw"dont find";t.statuses_border_color=i.color}catch(e){t.statuses_border_color="#666"}return Promise.resolve()}}},At=Nt,Et=(n("4305"),Object(h["a"])(At,Ct,xt,!1,null,"7c04f157",null)),qt=Et.exports;function zt(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function jt(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){zt(r,n,a,s,o,"next",e)}function o(e){zt(r,n,a,s,o,"throw",e)}s(void 0)})}}var Rt={components:{FileUploader:ne["a"],StatusesLabel:qt,LabelInputItem:kt},props:{core_waybill:{default:{},type:Object},statuses:{default:function(){return[]},type:Array},eventbus:{default:{change_current_template:{name:""},file_uploader:{name:""},update_core_waybill:{name:""},print_label:{name:""}},type:Object},is_show_note:{default:!1,type:Boolean},active_button_to_detail_route_name:{default:"",type:String}},data:function(){return{is_initialized:!1,operator_last_statuses:{},window_width:0,relative_time_text:"幾秒前",timestamp_content_color:""}},computed:{},watch:{"core_waybill.number":{deep:!0,handler:function(e){this.init()}}},mounted:function(){var e=this;e.init(),e.window_width=$(window).width(),$(window).resize(function(){e.window_width=$(window).width()})},methods:{init:function(){var e=jt(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.relative_time_text=t.human_datetime(t.core_waybill.created_at,null,"relative"),t.$moment().diff(t.core_waybill.created_at,"hours")<1?t.timestamp_content_color="red":t.$moment().diff(t.core_waybill.created_at,"hours")<24&&(t.timestamp_content_color="orange"),e()});case 3:return e.next=5,new Promise(function(e){t.is_initialized=!0,e()});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),show_core_wabill:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this;try{if(!t.core_waybill.identity)throw"請輸入號碼";if(""==t.active_button_to_detail_route_name||"edit_core_waybill"==t.$route.name&&"customer_show_core_waybill"==t.$route.name){var i="min_card"==t.eventbus.change_current_template.value?"card":"detail";t.$bus.$emit(t.eventbus.change_current_template.name,i)}else t.$router.push({name:t.active_button_to_detail_route_name,params:{identity:e||t.core_waybill.identity}})}catch(n){t.$noty.error(n)}},is_can_update_field:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this;return t.$parent.is_can_update_field(e)}}},It=Rt,Tt=(n("000d"),Object(h["a"])(It,vt,ht,!1,null,"b24c8536",null)),Ot=Tt.exports,Lt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui segments in_segment"},e._l(e.field_names,function(t,n){return i("LabelInputItem",{key:t+"card_vertical_main",staticClass:"ui segment",class:{blue:"consignee_company_name"==t,green:"sender_company_name"==t,"no top border":0==n},style:{padding:e.is_can_update_field(t)?"":"0"},attrs:{core_waybill:e.core_waybill,field_name:t,is_fluid:!0,is_hidden_segment_border:!0,is_dont_hide_content:e.is_in_scanner_modal}})}))},Dt=[],Bt={components:{LabelInputItem:kt},props:{core_waybill:{default:{},type:Object},is_in_scanner_modal:{default:!1,type:Boolean}},data:function(){return{field_names:["original_number","tracking_number","note","sender_company_name","sender_name","sender_phone","consignee_company_name","consignee_name","consignee_phone","consignee_address"]}},computed:{},watch:{focus_field:function(e){this.$refs[e].focus()}},mounted:function(){},methods:{is_can_update_field:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this;return t.$parent.is_can_update_field(e)}}},Mt=Bt,Ut=(n("d04e"),Object(h["a"])(Mt,Lt,Dt,!1,null,"5ed533f2",null)),Ft=Ut.exports,Gt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui segment"},[i("div",{staticClass:"left floated"},[i("h2",{staticStyle:{display:"inline-block","margin-bottom":"0"}},[i("span",{staticClass:"title_number",staticStyle:{position:"relative"}},[i("span",{staticClass:"pointer",style:{fontSize:e.window_width<360?"20px":""},on:{click:function(t){e.show_core_wabill()}}},[e._v("\n                    "+e._s(e.core_waybill.number)+"\n                ")]),e.core_waybill.identity?i("span",{staticClass:"copy_span"},[i("span",{staticClass:"pointer",on:{click:function(t){e.$bus.$emit(e.eventbus.copy_field.name,"number")}}},[i("i",{staticClass:"circular inverted tiny copy icon z-depth-2"})])]):e._e()]),e.core_waybill.material?i("span",{staticStyle:{"font-size":"small"}},[i("span",{staticClass:"title_number",staticStyle:{position:"relative"}},[e._v("\n                    ["+e._s(e.core_waybill.material.name)+"]\n\n                    "),e.core_waybill.source_core_waybill?i("span",{staticClass:"have_source_core_waybill_warning pointer"},[i("span",{attrs:{"data-tooltip":e.$t("ui.toolbox.core_waybill.helps.tooltip_have_source_core_waybill",{number:e.core_waybill.source_core_waybill.number})},on:{click:function(t){e.show_core_wabill(e.core_waybill.source_core_waybill.identity)}}},[i("i",{staticClass:"red warning sign large icon"})])]):e._e()]),e.$parent.is_can_update_field("original_number")?e._e():i("LabelInputItem",{staticStyle:{"margin-left":"30px"},style:{display:e.window_width<600?"none":"inline-block"},attrs:{is_hidden_segment_border:!0,core_waybill:e.core_waybill,field_name:"original_number"}})],1):e._e()]),i("div",{staticClass:"sub_content"},[e.core_waybill.operation?i("span",{staticClass:"operation_number"},[e._v("\n                訂單："+e._s(e.core_waybill.operation.number)+"\n            ")]):e._e(),i("span",{staticClass:"timestamp_content",class:[e.timestamp_content_color]},[e._v("\n                "+e._s(e.relative_time_text)+"\n            ")])]),e.$parent.is_can_update_field("original_number")?e._e():i("LabelInputItem",{staticClass:"newline_original_number",style:{display:e.window_width<600?"":"none"},attrs:{core_waybill:e.core_waybill,field_name:"original_number",is_hidden_segment_border:!0}}),e.$parent.is_can_update_field("original_number")?i("LabelInputItem",{staticClass:"ui small input",attrs:{core_waybill:e.core_waybill,field_name:"original_number"}}):e._e()],1),e.eventbus.file_uploader.name&&e.$parent.is_can_update_field("receipt_file_url")?i("div",{staticClass:"right floated",staticStyle:{"margin-right":"8rem"}},[i("FileUploader",{attrs:{channel:e.eventbus.file_uploader.name}})],1):e._e(),e.is_initialized?i("StatusesLabel",{attrs:{core_waybill:e.core_waybill,statuses:e.statuses}}):e._e(),i("div",{staticClass:"clear"}),e.is_show_note?i("LabelInputItem",{style:{margin:e.is_can_update_field("note")?"":"-5px 0"},attrs:{is_fluid:!0,is_hidden_segment_border:!0,core_waybill:e.core_waybill,field_name:"note"}}):e._e()],1)},Ht=[];function Yt(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function Kt(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){Yt(r,n,a,s,o,"next",e)}function o(e){Yt(r,n,a,s,o,"throw",e)}s(void 0)})}}var Wt={components:{FileUploader:ne["a"],LabelInputItem:kt,StatusesLabel:qt},props:{core_waybill:{default:{},type:Object},statuses:{default:function(){return[]},type:Array},eventbus:{default:{change_current_template:{name:""},file_uploader:{name:""},update_core_waybill:{name:""},print_label:{name:""}},type:Object},is_show_note:{default:!1,type:Boolean},active_button_to_detail_route_name:{default:"",type:String}},data:function(){return{is_initialized:!1,relative_time_text:"幾秒前",timestamp_content_color:"",operator_last_statuses:{},window_width:0}},computed:{},watch:{"core_waybill.number":{deep:!0,handler:function(e){this.init()}},focus_field:function(e){this.$refs[e].focus()}},mounted:function(){var e=this;e.init(),e.window_width=$(window).width(),$(window).resize(function(){e.window_width=$(window).width()})},methods:{init:function(){var e=Kt(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.relative_time_text=t.human_datetime(t.core_waybill.created_at,null,"relative"),t.$moment().diff(t.core_waybill.created_at,"hours")<1?t.timestamp_content_color="red":t.$moment().diff(t.core_waybill.created_at,"hours")<24&&(t.timestamp_content_color="orange"),e()});case 3:return e.next=5,new Promise(function(e){t.is_initialized=!0,e()});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),show_core_wabill:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this;try{if(!t.core_waybill.identity)throw"請輸入號碼";if(""==t.active_button_to_detail_route_name||"edit_core_waybill"==t.$route.name&&"customer_show_core_waybill"==t.$route.name){var i="min_card"==t.eventbus.change_current_template.value?"card":"detail";t.$bus.$emit(t.eventbus.change_current_template.name,i)}else t.$router.push({name:t.active_button_to_detail_route_name,params:{identity:e||t.core_waybill.identity}})}catch(n){t.$noty.error(n)}},is_can_update_field:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this;return t.$parent.is_can_update_field(e)}}},Vt=Wt,Xt=(n("ff27"),Object(h["a"])(Vt,Gt,Ht,!1,null,"0dff84e7",null)),Qt=Xt.exports,Zt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui steps"},[i("div",{staticClass:"step"},[e.is_can_update?i("div",{staticClass:"content"},[e._l(["sender_company_name","sender_name","sender_phone"],function(t,n){return i("LabelInputItem",{key:t+"card_horizontal_main",staticStyle:{"padding-bottom":"6px"},attrs:{core_waybill:e.core_waybill,field_name:t}})}),e._l(["sender_address"],function(t,n){return i("LabelInputItem",{key:t+"card_horizontal_main",staticStyle:{"padding-bottom":"6px"},attrs:{is_fluid:!0,core_waybill:e.core_waybill,field_name:t}})})],2):i("div",{staticClass:"content"},[i("div",{staticClass:"title"},[e._v(e._s(e.core_waybill.sender_company_name||"-"))]),i("div",{staticClass:"title"},[e._v(e._s(e.core_waybill.sender_name||"-"))]),i("p",[e._v("\n                "+e._s(e.core_waybill.sender_phone||e.$t("ui.general.no_data"))+"\n            ")])])]),i("div",{staticClass:"active step right aligned"},[e.is_can_update?i("div",{staticClass:"content"},[e._l(["consignee_company_name","consignee_name","consignee_phone"],function(t,n){return i("LabelInputItem",{key:t+"card_horizontal_main",staticStyle:{"padding-bottom":"6px"},attrs:{core_waybill:e.core_waybill,field_name:t}})}),e._l(["consignee_address"],function(t,n){return i("LabelInputItem",{key:t+"card_horizontal_main",staticStyle:{"padding-bottom":"6px"},attrs:{is_fluid:!0,core_waybill:e.core_waybill,field_name:t}})})],2):i("div",{staticClass:"content"},[i("div",{staticClass:"title"},[e._v(e._s(e.core_waybill.consignee_company_name||"-"))]),i("div",{staticClass:"title"},[e._v(e._s(e.core_waybill.consignee_name||"-"))]),i("p",[e._v("\n                "+e._s(e.core_waybill.consignee_phone||e.$t("ui.general.no_data"))+"\n            ")]),i("p",[e._v("\n                "+e._s(e.core_waybill.consignee_address||e.$t("ui.general.no_data"))+"\n            ")])])])])},Jt=[],ei=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui red basic label",class:[e.pointing?e.pointing+" pointing":"",e.is_required?"":" orange"]},[e._v("\n    "+e._s(e.is_required?"必填":"有則填寫")+"\n")])},ti=[],ii={props:{pointing:{default:"left",type:String},is_required:{default:!0,type:Boolean}},data:function(){return{}},computed:{},watch:{},mounted:function(){},methods:{}},ni=ii,ai=Object(h["a"])(ni,ei,ti,!1,null,"13202917",null),ri=ai.exports,si={components:{RequiredLabel:ri,LabelInputItem:kt},props:{core_waybill:{default:{},type:Object},is_can_update:{default:!1,type:Boolean}},data:function(){return{}},computed:{},watch:{focus_field:function(e){this.$refs[e].focus()}},mounted:function(){},methods:{is_related_columns:function(e){var t=this,i=_.find(t.related_columns,{name:e});return!!i},is_related_columns_is_required:function(e){var t=this,i=_.find(t.related_columns,{name:e});return!!i&&i.is_required},is_can_update_field:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this;return t.$parent.is_can_update_field(e)}}},oi=si,ci=(n("19b2"),Object(h["a"])(oi,Zt,Jt,!1,null,"9a30b226",null)),_i=ci.exports;function li(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function ui(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){li(r,n,a,s,o,"next",e)}function o(e){li(r,n,a,s,o,"throw",e)}s(void 0)})}}var di=n("db05"),pi={components:{WaybillLabel:Me,Buttons:ft,VerticalTop:Ot,VerticalMain:Ft,HorizontalTop:Qt,HorizontalMain:_i},props:{core_waybill:{default:{},type:Object},statuses:{default:function(){return[]},type:Array},scope:{default:"provider",type:String},eventbus:{default:{change_current_template:{name:""},file_uploader:{name:""},update_core_waybill:{name:""},print_label:{name:""}},type:Object},is_auto_print:{default:!1,type:Boolean},is_enable_auto_print_label:{default:!1,type:Boolean},is_show_change_template_btns:{default:!1,type:Boolean},is_can_print_label:{default:!1,type:Boolean},is_can_update:{default:!1,type:Boolean},is_in_scanner_modal:{default:!1,type:Boolean},can_update_field_names:{default:function(){return[]},type:Array},cant_update_field_names:{default:function(){return[]},type:Array},focus_field_field_name:{default:"",type:String},is_half_style:{default:!1,type:Boolean},is_vertical:{default:!1,type:Boolean},is_show_note:{default:!1,type:Boolean},active_button_color:{default:"blue",type:String},active_button_content:{default:"更新",type:String},active_button_channel:{default:"",type:String},active_button_to_detail_route_name:{default:"",type:String}},data:function(){return{is_show_buttons:!0,is_initialized:!1,is_processing:!0}},computed:{},watch:{core_waybill:function(){this.init()},is_can_print_label:function(){this.init()},active_button_content:function(){this.init()},active_button_channel:function(){this.init()},is_can_update:function(){this.init()}},mounted:function(){var e=this;e.core_waybill.number&&e.init()},methods:{init:function(){var e=ui(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,t.set_is_show_buttons();case 3:return e.next=5,new Promise(function(e){t.is_initialized=!0,t.is_processing=!1});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),set_is_show_buttons:function(){var t=this;try{if(""!=t.active_button_channel)throw"有按鈕特定channel";if(t.is_can_update)throw"可更新";if(t.is_can_print_label)throw"可列印";t.is_show_buttons=!1}catch(e){t.is_show_buttons=!0}return Promise.resolve()},is_can_update_field:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this;return di(e,t.is_can_update,t.can_update_field_names,t.cant_update_field_names)}}},mi=pi,fi=(n("9dbe"),Object(h["a"])(mi,ze,je,!1,null,"2d7e2aa7",null)),vi=fi.exports;function hi(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function gi(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){hi(r,n,a,s,o,"next",e)}function o(e){hi(r,n,a,s,o,"throw",e)}s(void 0)})}}var bi={name:"ToolCoreWaybillMain",components:{Detail:qe,Card:vi},props:{core_waybill:{default:{},type:Object},statuses:{default:function(){return[]},type:Array},template:{default:"card",type:String},scope:{default:"provider",type:String},card:{default:function(){return{}},type:Object},detail:{default:function(){return{}},type:Object},active_button:{default:function(){return{}},type:Object},is_half_style:{default:!0,type:Boolean},is_can_print_label:{default:!1,type:Boolean},is_auto_print:{default:!1,type:Boolean},is_show_change_template_btns:{default:!0,type:Boolean},is_in_scanner_modal:{default:!1,type:Boolean},focus_field_field_name:{default:"",type:String},is_can_update:{default:!1,type:Boolean},can_update_field_names:{default:function(){return[]},type:Array},cant_update_field_names:{default:function(){return[]},type:Array}},data:function(){return{is_initialized:!1,is_have_source_core_waybill:!1,is_enable_auto_print_label:!0,scope_options:{},template_options:{card:{is_half_style:!1,is_vertical:!1,is_show_note:!0},detail:{is_show_partition:!1,is_show_statuses:!1,is_show_receipt_file:!1,is_show_blood_related:!1}},active_button_options:{color:"",content:this.$t("ui.general.update"),channel:"",to_detail_route_name:""},eventbus:{}}},computed:{},watch:{"core_waybill.number":{deep:!0,handler:function(e){this.init()}},card:{deep:!0,handler:function(e){this.init_template_options()}},detail:{deep:!0,handler:function(e){this.init_template_options()}},template:function(e){var t=$.extend(!0,[],[e]);this.eventbus.change_current_template.value=t[0]}},mounted:function(){var e=this;e.init()},methods:{init:function(){var e=gi(regeneratorRuntime.mark(function e(){var t,i,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,t.is_initialized=!1,i=t.is_in_scanner_modal?"_in_scanner_modal_":"_",n=t.core_waybill.number,e.next=6,t.init_eventbus();case 6:return e.next=8,t.init_template_options();case 8:return e.next=10,t.init_active_button_options();case 10:return e.next=12,t.set_scope_options();case 12:if(!t.core_waybill.identity){e.next=34;break}return i+=n,e.next=16,t.fetch_waybill_label();case 16:return e.next=18,t.check_auto_print();case 18:return e.next=20,t.set_is_have_source_core_waybill();case 20:return e.next=22,t.set_eventbus_copy_field(i);case 22:return e.next=24,t.set_eventbus_change_current_template(i);case 24:return e.next=26,t.set_eventbus_file_uploader(i);case 26:return e.next=28,t.set_eventbus_update_core_waybill(i);case 28:return e.next=30,t.set_eventbus_delete_core_waybill(i);case 30:return e.next=32,t.set_eventbus_print_label(i);case 32:return e.next=34,t.set_eventbus_print_label_refetch(i);case 34:return e.next=36,new Promise(function(e){t.is_initialized=!0});case 36:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),init_template_options:function(){var e=this;return _.forEach(e.template_options.card,function(t,i){e.template_options.card[i]=void 0!=e.card[i]?e.card[i]:t}),_.forEach(e.template_options.detail,function(t,i){e.template_options.detail[i]=void 0!=e.detail[i]?e.detail[i]:t}),Promise.resolve()},init_active_button_options:function(){var e=this;return _.forEach(e.active_button_options,function(t,i){e.active_button_options[i]=void 0!=e.active_button[i]?e.active_button[i]:t}),Promise.resolve()},set_is_have_source_core_waybill:function(){var e=this;return e.core_waybill.source_core_waybill&&(e.is_have_source_core_waybill=!0),Promise.resolve()},set_scope_options:function(){var e=this;switch(e.scope){case"provider":var t=e.$store.state.provider.routes;e.scope_options={current_user:e.$store.state.provider.current_staff,token:localStorage.getItem("authentication_token"),urls:{delete_core_waybill:t.api_v1_provider_core_waybill_delete,update_core_waybill:t.api_v1_provider_core_waybill_update,core_waybills_label:t.api_v1_provider_core_waybills_label}};break;case"customer":t=e.$store.state.customer.routes;e.scope_options={current_user:e.$store.state.customer.node,token:localStorage.getItem("customer_authentication_token"),urls:{update_core_waybill:"",core_waybills_label:t.api_v1_customer_core_waybills_label}};break;default:}return Promise.resolve()},init_eventbus:function(){var e=this,t=$.extend(!0,[],[e.template]);return e.eventbus={copy_field:{name:"copy_field"},change_current_template:{is_processing:!1,name:"change_current_template",value:t[0],message:"",status:""},file_uploader:{is_processing:!1,name:"file_uploader",message:"",status:""},update_core_waybill:{is_processing:!1,name:"update_core_waybill",message:"",status:""},delete_core_waybill:{is_down:!1,is_processing:!1,is_auto_back:!1,name:"delete_core_waybill",message:"",status:""},print_label:{is_processing:!1,refetch_name:"refetch",name:"print_label",message:"",status:""}},Promise.resolve()},set_eventbus_copy_field:function(e){var t=this,i=t.eventbus.copy_field;return i.name+=e,t.$bus.$off(i.name),t.$bus.$on(i.name,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{if(!e)throw"no_field_name";var i=t.core_waybill[e],n=t.$t("models.attributes.core_waybills."+e);$(".copy_textarea").remove();var a=$("<textarea class='copy_textarea'>");a.text(i).appendTo("body").select();document.execCommand("copy");t.$noty.information(t.$t("ui.notifications.success.copy__name",{name:n+"("+i+")"})),a.remove()}catch(r){t.$noty.error(t.$t("ui.notifications.error.copy__name",{name:n+"("+i+")",reason:": "+r}))}}.bind(this)),Promise.resolve()},set_eventbus_change_current_template:function(e){var t=this,i=t.eventbus.change_current_template;return i.name+=e,t.$bus.$off(i.name),t.$bus.$on(i.name,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(i.is_processing=!0,null!=e)i.value=e,i.status="success",i.message="",t.is_enable_auto_print_label=!1;else{var n=t.$t("ui.toolbox.core_waybill.errors.change_template_error");i.status="failure",i.message=n,t.$noty.error(n)}i.is_processing=!1}.bind(this)),Promise.resolve()},set_eventbus_file_uploader:function(e){var t=this,i=t.eventbus.file_uploader;return i.name+=e,t.$bus.$off(i.name),t.$bus.$on(i.name,function(e,n,a){switch(i.is_processing=!0,n){case"uploaded_file":i.status="await",i.message=t.$t("ui.general.uploading");break;case"uploading":i.status="await",i.message=t.$t("ui.general.uploading");break;case"upload complete":t.update_core_waybill_receipt_file_url(a),i.status="success",i.message=t.$t("ui.notifications.success.update");break;case"upload failed":i.status="failure",i.message=t.$t("ui.notifications.error.update");break}i.is_processing=!1}.bind(this)),Promise.resolve()},set_eventbus_update_core_waybill:function(e){var t=this,i=t.eventbus.update_core_waybill;return i.name+=e,t.$bus.$off(i.name),t.$bus.$on(i.name,gi(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i.is_processing=!0,e.next=3,t.update_core_waybill();case 3:return e.next=5,new Promise(function(e){i.is_processing=!1});case 5:case"end":return e.stop()}},e)})).bind(this)),Promise.resolve()},set_eventbus_delete_core_waybill:function(e){var t=this,i=t.eventbus.delete_core_waybill;return i.is_auto_back=!t.is_in_scanner_modal,i.name+=e,t.$bus.$off(i.name),t.$bus.$on(i.name,gi(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i.is_processing=!0,e.next=3,t.delete_core_waybill();case 3:return e.next=5,new Promise(function(e){i.is_processing=!1});case 5:case"end":return e.stop()}},e)})).bind(this)),Promise.resolve()},set_eventbus_print_label:function(){var e=gi(regeneratorRuntime.mark(function e(t){var i,n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i=this,n="tool_core_waybill_print_label_"+i.core_waybill.number,a=i.eventbus.print_label,a.name+=t,i.$bus.$off(n),i.$bus.$on(n,function(e){"success"==e.status?(a.status="success",a.message="",i.print_core_waybill_label()):(i.$noty.error(e.error),a.status="failure",a.message=e.error)}.bind(this)),i.$bus.$off(a.name),i.$bus.$on(a.name,gi(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,a.is_processing=!0,i.core_waybill.number){e.next=4;break}throw i.$t("ui.toolbox.core_waybill.errors.no_number");case 4:if(a.src){e.next=6;break}throw i.$t("ui.toolbox.core_waybill.errors.invalid_loading_image");case 6:if($("div#print *").remove(),!i.is_in_scanner_modal){e.next=12;break}return e.next=10,i.$bus.$emit("is_print_waybill",i.core_waybill.number,n);case 10:e.next=13;break;case 12:i.print_core_waybill_label();case 13:e.next=19;break;case 15:e.prev=15,e.t0=e["catch"](0),a.status="failure",a.message=e.t0;case 19:a.is_processing=!1;case 20:case"end":return e.stop()}},e,null,[[0,15]])})).bind(this)),e.abrupt("return",Promise.resolve());case 9:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),set_eventbus_print_label_refetch:function(){var e=gi(regeneratorRuntime.mark(function e(t){var i,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i=this,n=i.eventbus.print_label,n.refetch_name+=t,i.$bus.$off(n.refetch_name),i.$bus.$on(n.refetch_name,function(){i.fetch_waybill_label()}.bind(this)),e.abrupt("return",Promise.resolve());case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),fetch_waybill_label:function(){var e=this,t=e.eventbus.print_label,i=e.core_waybill.material?e.core_waybill.material.label_type:"";i=e.core_waybill.partition?e.core_waybill.partition.label_type:"",i=e.core_waybill.label_type?e.core_waybill.label_type:i;try{if(t.src="",t.is_processing=!0,""==i||null==i)throw e.$t("ui.toolbox.core_waybill.errors.waybill_no_label_class_cant_print");if(!e.is_can_print_label)throw e.$t("ui.toolbox.core_waybill.errors.props_is_can_print_label_unable");var n="?number="+e.core_waybill.number+"&authorization="+e.scope_options.token+"&lastmod="+1e4*Math.random();"provider"==e.scope&&(n+="&staff_identity="+e.scope_options.current_user.identity),t.src=new RestUrl(e.scope_options.urls.core_waybills_label).parse({},".svg"+n),t.is_processing=!1}catch(a){t.status="failure",t.message=a,t.is_processing=!1}return Promise.resolve()},check_auto_print:function(){var e=this;return 1==e.is_auto_print&&e.is_enable_auto_print_label&&e.eventbus.print_label.src&&e.print_core_waybill_label(),Promise.resolve()},update_core_waybill:function(){var e=this,t=e.core_waybill,i=new RestUrl(e.scope_options.urls.update_core_waybill).parse({core_waybill_identity:e.core_waybill.identity});return axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$noty.success(e.$t("ui.notifications.success.update__name",{name:e.$t("models.core_waybills")})),e.fetch_waybill_label()):(console.log(t.data),e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.core_waybills")})))})["catch"](function(t){console.log(t),t.response?e.$noty.error(e.$t("ui.general.network_abnormality")+": "+t.response.status+t.response.data):e.$noty.error(e.$t("ui.general.network_abnormality")+": "+e.$t("ui.general.server_offline"))})},delete_core_waybill:function(){var e=this,t=(e.core_waybill,e.eventbus.delete_core_waybill),i=new RestUrl(e.scope_options.urls.delete_core_waybill).parse({core_waybill_identity:e.core_waybill.identity});return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(i){if(console.log(i.data),t.status=i.data.status,"success"==i.data.status){t.is_down=!0;var n=e.core_waybill.material?"["+e.core_waybill.material.name+"]":"",a=e.core_waybill.number;t.message=e.$t("ui.notifications.success.delete__name",{name:" "+a+n+" "}),e.$noty.success(t.message,5e3),t.is_auto_back&&e.$router.go(-1)}else t.message=e.$t("ui.notifications.error.delete__name",{name:e.$t("models.core_waybills")}),e.$noty.error(t.message)})["catch"](function(i){console.log(i),i.response?t.message=e.$t("ui.general.network_abnormality")+": "+i.response.status+i.response.data:t.message=e.$t("ui.general.network_abnormality")+": "+e.$t("ui.general.server_offline"),e.$noty.error(t.message)})},update_core_waybill_receipt_file_url:function(e){var t=this;t.core_waybill.receipt_file_url=e;e=new RestUrl(t.$store.state.provider.routes.api_v1_provider_core_waybill_update).parse({core_waybill_identity:t.core_waybill.identity});axios.post(e,t.core_waybill,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){"success"==e.data.status?t.$noty.success(t.$t("ui.notifications.success.update__name",{name:t.$t("models.core_waybills")})):(console.log(e.data),t.$noty.error(t.$t("ui.notifications.error.update__name",{name:t.$t("models.core_waybills")})))})["catch"](function(e){console.log(e),e.response?t.$noty.error(t.$t("ui.general.network_abnormality")+": "+e.response.status+e.response.data):t.$noty.error(t.$t("ui.general.network_abnormality")+": "+t.$t("ui.general.server_offline"))})},print_core_waybill_label:function(){var e=this;e.$bus.$emit("add_image_print_job",{note:e.core_waybill.number,images:[{name:e.eventbus.print_label.name,src:e.eventbus.print_label.src}],paper_type:"100x100",numbers_of_one_page:1})},handle_fetch_waybill_label_errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";switch(e){case"Params print_type not found":return this.$t("ui.toolbox.core_waybill.errors.no_label_type");case"Params print_type error":return this.$t("ui.toolbox.core_waybill.errors.label_type_error");case"Params page_size error":return this.$t("ui.toolbox.core_waybill.errors.label_paper_type_error");default:return e}}}},yi=bi,wi=(n("c263"),Object(h["a"])(yi,a,r,!1,null,"4b476e50",null));i["a"]=wi.exports},4293:function(e,t,i){},"42ae":function(e,t,i){"use strict";var n=i("6cdb"),a=i.n(n);a.a},4305:function(e,t,i){"use strict";var n=i("7bbf"),a=i.n(n);a.a},"43e8":function(e,t,i){},4424:function(e,t,i){"use strict";var n=i("8c95"),a=i.n(n);a.a},"444e":function(e){e.exports={manager:["provider_index","status_prototypes","provider_partitions","provider_uploader","core_waybills","provider_operations","staffs","scan_action_prototypes","provider_node","provider_customers","scanner"],operator:["provider_operations","provider_uploader","core_waybills","scanner"],driver:["assets","provider_operations","scanner"],staff:["status_prototypes","stations","provider_partitions","provider_uploader","core_waybills","provider_operations","staffs","scan_action_prototypes","scanner"],default:[],exception:[]}},"447f":function(e){e.exports=[{_comment:"customer 專用檔案",name:"列印標籤",i18n_key:"ui.scanner.setting_groups.print",barcode:"print",icon_file_name:"LA04",is_scan_action:!1,is_hide:!1,color:"cornflowerblue",settings:["is_auto_print_label_mode_true","is_batch_mode_false","core_waybill_template_mode_card"]},{name:"查詢運單",i18n_key:"ui.scanner.setting_groups.search",barcode:"search",icon_file_name:"search",is_scan_action:!1,is_hide:!1,color:"limegreen",settings:["is_auto_print_label_mode_false","is_batch_mode_false"]}]},"44d5":function(e,t,i){"use strict";var n=i("c85d"),a=i.n(n);a.a},"450e":function(e,t,i){},"457c":function(e,t,i){},4640:function(e,t,i){},4678:function(e,t,i){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"73332","./en-il.js":"73332","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f95","./lt.js":"26f95","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(e){var t=r(e);return i(t)}function r(e){var t=n[e];if(!(t+1)){var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}return t}a.keys=function(){return Object.keys(n)},a.resolve=r,e.exports=a,a.id="4678"},4680:function(e,t,i){},4686:function(e,t,i){"use strict";var n=i("5f3a"),a=i.n(n);a.a},4693:function(e,t,i){"use strict";var n=i("24fb"),a=i.n(n);a.a},4715:function(e,t,i){"use strict";var n=i("770b"),a=i.n(n);a.a},4766:function(e,t,i){"use strict";var n=i("9bdf"),a=i.n(n);a.a},4784:function(e,t,i){"use strict";var n=i("4640"),a=i.n(n);a.a},"47bd":function(e,t,i){"use strict";var n=i("637f"),a=i.n(n);a.a},"481d":function(e,t,i){"use strict";var n=i("8fe8"),a=i.n(n);a.a},"495e":function(e,t,i){},"4a3e":function(e,t,i){"use strict";var n=i("0474"),a=i.n(n);a.a},"4a93":function(e,t,i){"use strict";var n=i("b8f2"),a=i.n(n);a.a},"4aea":function(e,t,i){"use strict";var n=i("12ef"),a=i.n(n);a.a},"4aee":function(e,t,i){},"4b56":function(e,t,i){},"4b5b":function(e,t,i){},"4bc6":function(e,t,i){"use strict";var n=i("18e5"),a=i.n(n);a.a},"4bd8":function(e,t,i){},"4d7b":function(e,t,i){"use strict";var n=i("e9c8"),a=i.n(n);a.a},"4de6":function(e,t,i){"use strict";var n=i("8a5f"),a=i.n(n);a.a},"4e53":function(e,t,i){"use strict";var n=i("adac"),a=i.n(n);a.a},"4e88":function(e,t,i){"use strict";var n=i("e3e1"),a=i.n(n);a.a},"4eaa":function(t,i,n){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"standard sidebar"},[i("div",{staticClass:"ui secondary vertical menu",attrs:{"data-step":"1","data-position":"right","data-intro":"<br> 歡迎使用Neuron物流系統 <br> 選擇功能 開始編輯"}},[i("nav",[e.$store.state.initialize_statuses.service_theme?i("router-link",{attrs:{to:{name:"provider_index"}}},[i("img",{staticClass:"ui image",attrs:{src:"/images/"+e.service_config.logo_img}})]):i("div",{staticClass:"ui inverted dimmer transition active"},[i("div",{staticClass:"ui tiny text loader"},[e._v("\n                    "+e._s(e.$t("ui.general.initializing"))+"\n                ")])]),i("a",{staticClass:"hamburger hamburger--spin",on:{click:function(t){e.toggle_menu()}}},[e._m(0)])],1),i("div",{staticClass:"nav-menu"},e._l(e.$store.state.provider.service_config.menu,function(e){return i("SidebarItem",{key:e.name,attrs:{service_config_menu:e}})}))])])},r=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"hamburger-box"},[i("span",{staticClass:"hamburger-inner"})])}],s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.is_can_use?i("div",[e.service_config_menu.items?e._e():i("router-link",{staticClass:"item",attrs:{to:{name:e.$store.state.initialize_statuses.sidebar?e.service_config_menu.name:null}}},[i("i",{staticClass:"icons"},[e.service_config_menu.icon?i("i",{class:e.service_config_menu.icon+" icon"}):e._e(),i("span",[e._v(" "+e._s(e.$t("ui.links.menu."+e.service_config_menu.name))+" ")])])]),e.service_config_menu.items?i("SidebarDropdown",{attrs:{service_config_menu:e.service_config_menu}}):e._e()],1):i("div",{staticClass:"item cannot_use",attrs:{"data-tooltip":e.$t("ui.general.cannot_use"),"data-position":"right center"}},[i("i",{staticClass:"icons"},[i("i",{class:e.service_config_menu.icon+" icon"}),i("span",[e._v(" "+e._s(e.$t("ui.links.menu."+e.service_config_menu.name))+" ")])])])])},o=[],c=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui dropdown item",class:{"router-link-active":e.is_in_this_dropdown}},[i("i",{staticClass:"dropdown large icon"}),i("i",{staticClass:"icons"},[i("i",{class:e.service_config_menu.icon+" icon"}),i("span",[e._v(" "+e._s(e.$t("ui.links.menu."+e.service_config_menu.name))+" ")])]),i("div",{staticClass:"menu"},e._l(e.service_config_menu.items,function(e){return i("SidebarDropdownItem",{key:e.name,staticClass:"item",attrs:{item:e}})}))])},l=[],u=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.is_can_use?i("router-link",{attrs:{to:{name:e.$store.state.initialize_statuses.sidebar?e.item.name:null}}},[e.item.icon?i("i",{class:e.item.icon+" icon"}):e._e(),i("span",[e._v(" "+e._s(e.$t("ui.links.menu."+e.item.name))+" ")])]):i("div",{staticClass:"cannot_use",attrs:{"data-tooltip":e.$t("ui.general.cannot_use"),"data-position":"right center"}},[e.item.icon?i("i",{class:e.item.icon+" icon"}):e._e(),i("span",[e._v(" "+e._s(e.$t("ui.links.menu."+e.item.name))+" ")])])},d=[],p={props:{item:{type:Object,default:function(){return{}}}},data:function(){return{is_can_use:this.check_can_use_current_menu()}},computed:{},watch:{},mounted:function(){},methods:{check_can_use_current_menu:function(){var e=this;try{if(e.item){var t=_.findLast(e.$store.state.provider.theme_menu,function(t){return e.item.name==t});throw!!t}throw!1}catch(i){return i}return!1}}},m=p,f=n("2877"),v=Object(f["a"])(m,u,d,!1,null,null,null),h=v.exports,g={props:{service_config_menu:{type:Object,default:function(){return{}}}},data:function(){return{is_in_this_dropdown:!1,is_can_use:this.check_can_use_current_menu()}},computed:{},watch:{$route:{immediate:!0,handler:function(e,t){if("driver_commission_policies"==e.name&&"commission_reports"==this.service_config_menu.name)return!1;this.is_in_this_dropdown=!!_.findLast(this.service_config_menu.items,function(t){return"-1"!=e.name.indexOf(t.name.replace(/s$/g,""))})}}},mounted:function(){},methods:{check_can_use_current_menu:function(){var t=this,i=[];try{return _.forEach(t.service_config_menu.items,function(e){i.push(_.findLast(t.$store.state.provider.theme_menu,function(t){return e.name==t}))}),_.remove(i,_.isUndefined),!!i.length}catch(e){return!1}return!1}},components:{SidebarDropdownItem:h}},b=g,y=Object(f["a"])(b,c,l,!1,null,null,null),w=y.exports,k={props:{service_config_menu:{default:function(){return{}},type:Object}},data:function(){return{is_can_use:this.check_can_use_current_menu()}},computed:{service_config:function(){return this.$store.state.provider.service_config},env:function(){return ENV.NODE_ENV}},watch:{},mounted:function(){},methods:{check_can_use_current_menu:function(){var e=this;try{if(e.service_config_menu.items)throw e.check_can_use_current_menu_items();var t=_.findLast(e.$store.state.provider.theme_menu,function(t){return e.service_config_menu.name==t});throw!!t}catch(i){return i}return!1},check_can_use_current_menu_items:function(){var t=this,i=[];try{return _.forEach(t.service_config_menu.items,function(e){i.push(_.findLast(t.$store.state.provider.theme_menu,function(t){return e.name==t}))}),_.remove(i,_.isUndefined),!!i.length}catch(e){return!1}return!1}},components:{SidebarDropdown:w}},C=k,x=(n("7e0c"),Object(f["a"])(C,s,o,!1,null,null,null)),P=x.exports,S={data:function(){return{menus:this.diff_service_config_menu()}},computed:{service_config:function(){return this.$store.state.provider.service_config},env:function(){return ENV.NODE_ENV}},watch:{$route:function(e,t){var i=this;767>$(window).width()&&"block"==$(".nav-menu").css("display")&&i.toggle_menu()}},mounted:function(){$(window).resize(function(){var e=$(window).width(),t=$(".nav-menu").css("display");"none"==t&&e>767&&$(".nav-menu").css("display","block")})},methods:{diff_service_config_menu:function(){var e,t=this,i=$.extend(!0,[],t.$store.state.provider.service_config.menu);return _.forEach(i,function(n,a){e=_.findIndex(t.$store.state.provider.theme_menu,function(e){return n.name==e}),e<0&&void 0==n.items&&delete i[a],void 0!=n.items&&(_.forEach(n.items,function(n,r){e=_.findIndex(t.$store.state.provider.theme_menu,function(e){return n.name==e}),e<0&&delete i[a].items[r]}),_.remove(i[a].items,_.isUndefined))}),_.remove(i,_.isUndefined),_.forEach(i,function(e,t){var n=e.items?e.items.length:1;n||delete i[t]}),_.remove(i,_.isUndefined),i},menu_active:function(){},toggle_menu:function(){$("body").toggleClass("overflow"),$(".hamburger").toggleClass("active"),$(".nav-menu").stop().slideToggle(300)}},components:{SidebarItem:P}},N=S,A=(n("c959"),Object(f["a"])(N,a,r,!1,null,null,null));i["a"]=A.exports},"4fe6":function(e){e.exports={_comment:"此檔案管理Scanner主題顏色，node_name是給人標記誰用的",name:"default",color:{background_img:"",background:"#1b1c1d",background_position:"0% 0%",font:"white",warning:"white",show_setting_icon:"orange",setting_group_icon:"white"},computer:{background_position:"0% 50%"},mobile:{background_position:"0% 0%"}}},"51ea":function(e,t,i){"use strict";var n=i("1fbd"),a=i.n(n);a.a},"521a":function(e,t,i){},"52cb":function(e,t,i){"use strict";var n=i("5377"),a=i.n(n);a.a},"532d":function(e){e.exports={staff:[],operator:["provider_operations","provider_uploader","core_waybills","scanner"],driver:["stations","provider_partitions","assets","core_waybills","provider_operations","scanner"],manager:["provider_index","status_prototypes","stations","provider_partitions","provider_customers","provider_uploader","assets","materials","core_waybills","provider_operations","permission_groups","roles","staffs","user_logs","scanner"],exception:[],default:[]}},"532f":function(e,t,i){},5377:function(e,t,i){},"53c1":function(e,t,i){"use strict";var n=i("d027"),a=i.n(n);a.a},5463:function(e,t,i){},"54c0":function(e,t,i){},"55f1":function(e,t,i){},5602:function(e){e.exports={manager:["provider_index","scan","status_prototypes","stations","provider_partitions","provider_uploader","assets","materials","core_waybills","provider_operations","permission_groups","roles","staffs","user_logs","driver_commission_policies","driver_commission_reports","scan_action_prototypes","provider_node","provider_distributions","driver_commissions","provider_customers","scanner"],operator:["provider_operations","provider_uploader","core_waybills","scanner"],driver:["assets","provider_operations","scanner"],staff:["status_prototypes","stations","provider_partitions","customer_nodes","provider_uploader","assets","materials","core_waybills","provider_operations","staffs","user_logs","driver_commission_policies","driver_commission_reports","scan_action_prototypes","provider_distributions","driver_commissions","scanner"],default:[],exception:[]}},5631:function(e,t,i){},"56d7":function(t,i,n){"use strict";n.r(i);n("db4d");var a=n("31bd"),r=n("a026"),s=n("2f62");window.config=n("a078");var o=new config,c={namespaced:!0,state:{admin_converters_routes:{index:o.neuron_url+"/admin/converters",show:o.neuron_url+"/admin/converters/:id",create:o.neuron_url+"/admin/converters/create",update:o.neuron_url+"/admin/converters/:id/update",destroy:o.neuron_url+"/admin/converters/:id/destroy"}},getters:{},mutations:{}},l=c;window.config=n("a078");new config;var u={namespaced:!0,state:{routes:{}},getters:{},actions:{},mutations:{},modules:{converters_module:l}},d=u,p={namespaced:!0,state:{categories:[],current_category:null},getters:{},mutations:{}},m=p,f={namespaced:!0,state:{pagination:{current_page:null,total_pages:null},search_params:{},default_search_params:{name:null,en_name:null,core_waybill_level:null,class_name:null,label_type:null},show_filter:!1},actions:{},mutations:{set_current_page:function(e,t){e.pagination.current_page=t},set_total_pages:function(e,t){e.pagination.total_pages=t},init_search_params:function(e){e.search_params=e.default_search_params},toggle_filter:function(e){e.show_filter=!e.show_filter}}},v=f,h={namespaced:!0,state:{partitions:[],associated_partitions:[],pagination:{current_page:null,total_pages:null},materials:[],customers:[]},actions:{fetch_partitions:function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_partitions),n=i.parse({},"?page="+t.page);return axios.get(n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.commit("set_partitions",t.data.partitions),e.commit("set_pagination",t.data.pagination)})["catch"](function(e){return console.log("Failed to fetch Partitions."),Promise.reject(e)})},fetch_associated_partitions:function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_associated_partitions),n=i.parse({},"?page="+t.page);return axios.get(n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.commit("set_associated_partitions",t.data.associated_partitions),e.commit("set_pagination",t.data.pagination)})["catch"](function(e){return console.log("Failed to fetch AssociatedPartitions."),Promise.reject(e)})},fetch_customers:function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_customers),n=i.parse({},"?pagination=false");return axios.get(n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){console.log(t),e.commit("set_customers",t.data.customers)})["catch"](function(e){return console.log("Failed to fetch CustomerNodes."),Promise.reject(e)})},fetch_materials:function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_materials).parse({},"?pagination=false");return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return console.log("Failed to fetch Material."),Promise.reject(error);e.commit("set_materials",t.data.materials)})}},mutations:{set_associated_partitions:function(e,t){e.associated_partitions=t},set_partitions:function(e,t){e.partitions=t},set_pagination:function(e,t){e.pagination=t},set_customers:function(e,t){e.customers=t},set_materials:function(e,t){e.materials=t},add_partition:function(e,t){e.partitions.push(t)},update_partition:function(e,t){var i=_.findIndex(e.partitions,function(e){return e.identity==t.identity});e.partitions.splice(i,1,t)},remove_partition:function(e,t){var i=_.findIndex(e.partitions,function(e){return e.identity==t.identity});e.partitions.splice(i,1)}}},g=h,b={namespaced:!0,state:{pagination:{current_page:null,total_pages:null},permissions:[],permission_groups:[]},actions:{fetch_permissions:function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_permissions).parse({},"");return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return Promise.reject("Failed to fetch Permissions.");e.commit("set_permissions",t.data.permissions)})["catch"](function(e){return Promise.reject("Error to fetch Permissions.")})},fetch_permission_groups:function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_permission_groups).parse({},"");return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return Promise.reject("Failed to fetch PermissionGroups.");e.commit("set_permission_groups",t.data.permission_groups)})["catch"](function(e){return Promise.reject("Error to fetch PermissionGroups.")})}},mutations:{set_current_page:function(e,t){e.pagination.current_page=t},set_total_pages:function(e,t){e.pagination.total_pages=t},set_permissions:function(e,t){e.permissions=t},set_permission_groups:function(e,t){e.permission_groups=t}}},y=b,w={namespaced:!0,state:{pagination:{current_page:null,total_pages:null},filter:{is_advanced_mode:!1,shortcut_keys:["username","name","phone","role_identity","station_identity","theme_name","is_banned"],current_shortcut_key:"name",columns:{username:null,name:null,phone:null,theme_name:null,role_identity:null,station_identity:null,is_banned:null}},roles:[]},actions:{fetch_roles:function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_roles).parse({},"?pagination=false");return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.commit("set_roles",t.data.roles)})["catch"](function(e){return console.log("Failed to fetch Roles."),Promise.reject(e)})}},mutations:{set_current_page:function(e,t){e.pagination.current_page=t},set_total_pages:function(e,t){e.pagination.total_pages=t},init_filter_columns:function(e){e.filter.columns={username:null,name:null,phone:null,theme_name:null,role_identity:null,station_identity:null,is_banned:null}},set_roles:function(e,t){e.roles=t}}},k=w,C={namespaced:!0,state:{stations:[]}},x=C,P={namespaced:!0,state:{pagination:{current_page:null,total_pages:null},filter:{is_advanced_mode:!1,shortcut_keys:["name","code","phone","note"],current_shortcut_key:"name",columns:{name:null,code:null,phone:null,note:null}}},actions:{},mutations:{set_current_page:function(e,t){e.pagination.current_page=t},set_total_pages:function(e,t){e.pagination.total_pages=t},init_filter_columns:function(e){e.filter.columns={name:null,code:null,phone:null,note:null}}}},S=P,N={namespaced:!0,state:{pagination:{current_page:null,total_pages:null},search_params:{scope:null,name:null,polarity:null,material_class_name:null,page:null},show_filter:!1},actions:{},mutations:{set_current_page:function(e,t){e.pagination.current_page=t},set_total_pages:function(e,t){e.pagination.total_pages=t},init_search_params:function(e){e.search_params={scope:null,name:null,polarity:null,material_class_name:null,page:null}},toggle_filter:function(e){e.show_filter=!e.show_filter}}},A=N;window.config=n("a078");new config;var E={namespaced:!0,state:{customers:[],requester_node:null,requester_contract:null,operator_node:{},waybill_raw_datas:[],waybill_processed_datas:[],receivers:[],converters:[],current_converter:null,conversions:[],open_file_url:null,file_upload_url:"https://air.formosaas.com/api/v1/:app_id/cloud/:access_token/:identity/bucket/:bucket_identity/upload",fetch_customers_url:null,fetch_converters_url:null,create_operation_url:null,use_waybill_url:null,validate_waybill_url:null,validator:"standard"},getters:{},actions:{set_urls:function(e,t){return new Promise(function(t){var i=e.rootState.current_scope;e.commit("set_open_file_url",e.rootState[i].routes.api_v1_provider_file_converters_convert),e.commit("set_file_upload_url",new RestUrl(e.rootState[i].uploader_module.file_upload_url).parse({app_id:e.rootState[i].node.air_service.air_app_id,access_token:e.rootState[i].node.air_service.air_access_token,identity:e.rootState[i].node.air_service.air_identity,bucket_identity:e.rootState[i].node.air_service.air_bucket_identity,air_authorization:e.rootState[i].node.air_service.air_authorization},"?authorization="+e.rootState[i].node.air_service.air_authorization+"&is_froala=true")),e.commit("set_create_operation_url",e.rootState[i].routes["api_v1_provider_operations_create"]),e.commit("set_use_waybill_url",e.rootState[i].routes["api_v1_provider_operation_use_core_waybill"]),e.commit("set_fetch_customers_url",e.rootState[i].routes["api_v1_provider_customers"]),e.commit("set_validate_waybill_url",e.rootState[i].routes["api_v1_provider_core_waybills_usable_core_waybills"]),e.commit("set_fetch_converters_url",e.rootState[i].routes["api_v1_provider_file_converters"]),t()})},fetch_customers:function(e,t){e.rootState.current_scope;var i=new RestUrl(e.state.fetch_customers_url).parse({},"?"+object_to_query({pagination:!1,is_banned:!1}));return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?e.commit("set_customers",t.data.customers):t.data.status})["catch"](function(e){})},fetch_converters:function(e,t){e.rootState.current_scope;return axios.get(e.state.fetch_converters_url,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?e.commit("set_converters",t.data.converters):t.data.status})["catch"](function(e){})},fetch_operator_node:function(e,t){e.commit("set_operator_node",e.rootState.provider.node)}},mutations:{set_open_file_url:function(e,t){e.open_file_url=t},set_file_upload_url:function(e,t){e.file_upload_url=t},set_create_operation_url:function(e,t){e.create_operation_url=t},set_use_waybill_url:function(e,t){e.use_waybill_url=t},set_fetch_customers_url:function(e,t){e.fetch_customers_url=t},set_fetch_converters_url:function(e,t){e.fetch_converters_url=t},set_validate_waybill_url:function(e,t){e.validate_waybill_url=t},set_requester_node:function(e,t){e.requester_node=t},set_requester_contract:function(e,t){e.requester_contract=t},set_customers:function(e,t){e.customers=t},set_conversions:function(e,t){e.conversions=t},set_converters:function(e,t){e.converters=t},set_waybill_raw_datas:function(e,t){e.waybill_raw_datas=t},set_waybill_processed_datas:function(e,t){e.waybill_processed_datas=t},set_receivers:function(e,t){e.receivers=t},set_current_converter:function(e,t){e.current_converter=t},set_operator_node:function(e,t){e.operator_node=t},init:function(e,t){e.customers=[],e.requester_node=null,e.requester_contract=null,e.operator_node={},e.waybill_raw_datas=[],e.waybill_processed_datas=[],e.receivers=[],e.converters=[],e.current_converter=null,e.conversions=[],e.open_file_url=null,e.file_upload_url="https://air.formosaas.com/api/v1/:app_id/cloud/:access_token/:identity/bucket/:bucket_identity/upload",e.fetch_customers_url=null,e.fetch_converters_url=null,e.create_operation_url=null,e.use_waybill_url=null,e.validate_waybill_url=null,e.validator="standard"}}},q=E,z=n("c1df"),j=n.n(z),R={namespaced:!0,state:{current_form_entity_type:!0,current_core_waybill:{},core_waybills:[],current_page:1,total_pages:1,search_cache_key:null,quick_filters:{number:["number","original_number","tracking_number","flight_number"],info:["sender_name","sender_company_name","divider","consignee_name","consignee_company_name","consignee_phone","consignee_address","divider","note","shipping_note"],status:["name"]},quick_filter_key:{number:"number",info:"sender_name",status:"latest_status"},filter_init:{number:null,original_number:null,tracking_number:null,flight_number:null,sender_name:null,consignee_name:null,consignee_phone:null,consignee_address:null,note:null,is_used:null,created_at:{},operation:{number:null},material:{class_names:null},condition:{current_operator_identity:null,current_location:null,polarity:"true",name:null,updated_at:{}},status:{operator_identity:null,scope:null,name:null,created_at:{}}},filter:{created_at:{},operation:{},material:{},condition:{polarity:"true",updated_at:{}},status:{scope:null,name:null,created_at:{}}},filter_url_params:"",is_show_filter:{simple:!1,detail:!1},is_can_print_label:!1,staffs:[],materials:[],scan_action_prototypes:[],condition_status_prototypes:[],tool_label:{core_waybill_length:0,numbers:"",label_name:""},csv:{is_processing:!1,url:null},customers:[],core_waybill_conditions:["current_release","current_handover","current_collect","current_check","current_ship","current_back","current_delivered","current_transfer","current_intermodal","current_exception","current_lock","current_done","current_use","divider","already_use","already_release","already_handover","already_collect","already_check","already_ship","already_back","already_delivered","already_transfer","already_intermodal","already_exception","already_lock","already_done","divider","can_use","can_release","can_handover","can_collect","can_check","can_ship","can_back","can_delivered","can_transfer","can_intermodal","can_exception","can_lock","can_done","can_warehouse_in","current_warehouse_in","already_warehouse_in","can_warehouse_out","current_warehouse_out","already_warehouse_out","can_ready_to_ship","current_ready_to_ship","already_ready_to_ship"]},getters:{customer:function(e,t,i,n){return function(t){return _.findLast(e.customers,function(e){return e.identity==t})||{}}}},actions:{fetch_customer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e.getters.customer(t.customer_identity).identity){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_customer).parse({customer_identity:t.customer_identity});return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return Promise.reject("fetch_customer_failure");e.commit("set_push_customers",t.data.customer)})}},fetch_core_waybills:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this;e.commit("set_tool_label",{core_waybill_length:0,numbers:"",label_name:""});var n=new RestUrl(e.rootState.provider.routes.api_v1_provider_core_waybills_filter),a=n.parse({});return a+="?page=",a=t.page?a+t.page:a+e.state.current_page,e.state.is_can_print_label=!!e.state.filter_url_params,a=a+"&"+e.state.filter_url_params,a+="&latest_status_scope=operator",axios.get(a,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(n){if(e.commit("set_core_waybills",[]),"success"!=n.data.status)return Promise.reject("fetch_core_waybills_failure");if(e.commit("set_search_cache_key",n.data.search_cache_key),e.commit("set_core_waybills",n.data.core_waybills),e.commit("set_pagination",n.data.pagination),!n.data.core_waybills.length)return Promise.reject("fetch_core_waybills_no_anything_core_waybills");if("edit"==t.action){if(console.log("response.data.core_waybills[0]",n.data.core_waybills[0]),!n.data.core_waybills.length)return Promise.reject("fetch_core_waybills_no_anything_core_waybills");i.$router.push({name:"edit_core_waybill",params:{identity:n.data.core_waybills[0].identity}})}})},export_core_waybills:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=new RestUrl(e.rootState.provider.routes.api_v1_provider_core_waybills_export).parse({search_cache_key:e.state.search_cache_key});return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){if(console.log(e),"success"!=e.data.status)return Promise.reject()})},fetch_staffs:function(e,t){var i=e.rootState.provider.routes.api_v1_provider_staffs+"?pagination=false";return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return Promise.reject("fetch_staffs_failure");e.commit("set_staffs",t.data.staffs)})},fetch_materials:function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_materials).parse({},"");return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return Promise.reject("fetch_materials_failure");e.commit("set_materials",t.data.materials)})},fetch_scan_action_prototypes:function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_scan_action_prototypes).parse({},"?pagination=false");return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return Promise.reject("fetch_scan_action_prototypes_failure");e.commit("set_scan_action_prototypes",t.data.scan_action_prototypes)})},fetch_condition_status_prototypes:function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_status_prototypes).parse({},"?pagination=false");return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return Promise.reject("fetch_condition_status_prototypes_failure");var i=_.groupBy(t.data.status_prototypes,"scope");e.commit("set_condition_status_prototypes",i["condition"])})},fetch_core_waybills_pagination_false:function(e,t){if(!e.state.filter_url_params)return e.commit("set_tool_label",{core_waybill_length:0,numbers:"",label_name:""}),Promise.reject("fetch_core_waybills_pagination_false nothing filter");var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_core_waybills_filter),n=i.parse({});return n+="?pagination=false",e.state.filter_url_params&&(n+="&"+e.state.filter_url_params),axios.get(n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if(e.commit("set_tool_label",{core_waybill_length:0,numbers:"",label_name:""}),"success"!=t.data.status)return Promise.reject("fetch_core_waybills_pagination_false_error");var i,n=_.groupBy(t.data.core_waybills,"label_type"),a=0;if(""==Object.keys(n)||1!=Object.keys(n).length)return Promise.reject("core_waybills_label_type_different");a=t.data.core_waybills.length,i=_.map(t.data.core_waybills,"number").toString(),n=Object.keys(n).toString(),e.commit("set_tool_label",{core_waybill_length:a,numbers:i,label_name:n})})},fetch_core_waybills_csv_new:function(t,i){try{var n=new RestUrl(t.rootState.provider.routes.api_v1_provider_core_waybills_report_job).parse();return console.log(n),axios.get(n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){return t.state.csv.is_processing=!0,t.state.csv.url=null,"success"==e.data.status?Promise.reject("success"):Promise.reject("errores")})}catch(e){return console.log(e),Promise.reject(e)}},fetch_core_waybills_csv:function(e,t){var i=Math.floor(Date.now()/1e3),n=t.type?"&csv_tpye="+t.type:null,a=new RestUrl(e.rootState.provider.routes.api_v1_provider_core_waybills_filter+".csv").parse({},"?v="+i+n);return e.state.filter_url_params&&(a=a+"&"+e.state.filter_url_params),axios.get(a,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){if("success"==e.data.status){var i=document.createElement("a"),n=new Blob(["\ufeff",e.data.csv]),a=URL.createObjectURL(n),r="clearance"==t.type?"_清關":"";i.href=a,i.download=j()().format("YYYY-MM-DD HH:mm:ss")+r+".csv",document.body.appendChild(i),i.click(),document.body.removeChild(i)}else if("failure"==e.data.status)return Promise.reject("fetch_core_waybills_svg_error")})["catch"](function(e){return Promise.reject("fetch_core_waybills_svg_error")})},handle_filter_url_params:function(e,t){var i=_.cloneDeep(e.state.filter);i.status.created_duration?(i.status.created_at.from=j()(i.status.created_duration[0]).startOf("day").format("YYYY-MM-DDTHH:mm:ss+08:00"),i.status.created_at.to=j()(i.status.created_duration[1]).endOf("day").format("YYYY-MM-DDTHH:mm:ss+08:00"),delete i.status.created_duration):i.status.created_at={},i.condition.updated_duration?(i.condition.updated_at.from=j()(i.condition.updated_duration[0]).startOf("day").format("YYYY-MM-DDTHH:mm:ss+08:00"),i.condition.updated_at.to=j()(i.condition.updated_duration[1]).endOf("day").format("YYYY-MM-DDTHH:mm:ss+08:00"),delete i.condition.updated_duration):i.condition.updated_at={},i.created_duration?(i.created_at.from=j()(i.created_duration[0]).startOf("day").format("YYYY-MM-DDTHH:mm:ss+08:00"),i.created_at.to=j()(i.created_duration[1]).endOf("day").format("YYYY-MM-DDTHH:mm:ss+08:00"),delete i.created_duration):i.created_at={},_.forEach(["number","flight_number","original_number","tracking_number","sender_name","sender_company_name","consignee_name","consignee_company_name","consignee_address","consignee_phone","note"],function(e){i[e]&&(i[e]="%"+i[e]+"%")}),i.operation.number&&(i.operation.number="%"+i.operation.number+"%"),e.commit("set_filter_url_params",object_to_query(i))},clear_filter_url_params:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.commit("set_filter_url_params",""),e.commit("set_filter",_.cloneDeep(e.state.filter_init)),t.operation_number&&(e.state.filter.operation.number=t.operation_number)},set_filter_init:function(e,t){e.commit("set_filter",_.cloneDeep(e.state.filter_init))},set_filter_kay_value:function(e,t){e.commit("set_filter_kay_value",t)}},mutations:{set_core_waybills:function(e,t){e.core_waybills=t},set_search_cache_key:function(e,t){e.search_cache_key=t},set_push_customers:function(e,t){e.customers.push(t)},set_staffs:function(e,t){e.staffs=t},set_materials:function(e,t){e.materials=t},set_scan_action_prototypes:function(e,t){e.scan_action_prototypes=t},set_condition_status_prototypes:function(e,t){e.condition_status_prototypes=t},set_tool_label:function(e,t){e.tool_label=t},set_pagination:function(e,t){e.current_page=t.current_page,e.total_pages=t.total_pages},set_filter:function(e,t){e.filter=t},set_filter_kay_value:function(e,t){e.filter[t.key]=t.value},set_filter_url_params:function(e,t){e.filter_url_params=t}}},I=R,T={namespaced:!0,state:{pack_mode:{scanner_modes:["addition","selection","packing"],current_scanner_mode:null,selected_pack:{},current_pack:{},packs:[],workspace_identity:null,workflows:[],is_processing:!1},unpack_mode:{scanner_modes:["show","unpacking"],current_scanner_mode:null,current_pack:{},packs:[],workspace_identity:null,workflows:[]}},getters:{},mutations:{}},O=T,L={namespaced:!0,state:{pagination:{current_page:null,total_pages:null},filter:{is_advanced_mode:!1,shortcut_keys:["number","provider_note","customer_identity","customer_note","original_file_name","is_done","is_canceled","created_at"],current_shortcut_key:"number",columns:{created_duration:"",begin_at:null,end_at:null,number:null,provider_note:null,customer_identity:null,customer_note:null,original_file_name:null,is_done:!1,is_canceled:!1}},staffs:[]},getters:{},actions:{fetch_staffs:function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_staffs).parse({},"?"+object_to_query({pagination:!1}));return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.commit("set_staffs",t.data.staffs)})["catch"](function(e){return console.log("Failed to fetch Roles."),Promise.reject(e)})}},mutations:{set_current_page:function(e,t){e.pagination.current_page=t},set_total_pages:function(e,t){e.pagination.total_pages=t},init_filter_columns:function(e){e.filter.columns={begin_at:null,end_at:null,number:null,provider_note:null,customer_identity:null,customer_note:null,original_file_name:null,is_done:!1,is_canceled:!1}},set_staffs:function(e,t){e.staffs=t}}},D=L,B={namespaced:!0,state:{},getters:{},mutations:{}},M=B,U={namespaced:!0,state:{pagination:{current_page:null,total_pages:null},filter:{is_advanced_mode:!1,shortcut_keys:["loggable_type","staff_name","title","action_type","created_at"],current_shortcut_key:"staff_name",columns:{loggable_type:null,staff_name:null,title:null,action_type:null,created_duration:null,begin_at:null,end_at:null,page:null}},search_params:{loggable_type:null,staff_name:null,title:null,description:null,level:null,action_type:null,begin_at:null,end_at:null,page:null}},actions:{},mutations:{set_current_page:function(e,t){e.pagination.current_page=t},set_total_pages:function(e,t){e.pagination.total_pages=t},init_filter_columns:function(e){e.filter.columns={loggable_type:null,staff_name:null,title:null,action_type:null,created_at:null,begin_at:null,end_at:null,page:null}}}},F=U,G=n("0cb6"),H=n.n(G);function Y(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function K(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){Y(r,n,a,s,o,"next",e)}function o(e){Y(r,n,a,s,o,"throw",e)}s(void 0)})}}var W,V,X={namespaced:!0,state:{is_setting:!1,is_keydown:!0,config:{theme:{},settings:{},setting_groups:{}},current_weight:0,current_setting_group:{},setting_groups:{},quick_setting_regexps:{group:/@@(search|package|unpackage|distributed_to|pack_house_waybill|pack_waybill_goods|LA[0-9]+|LB[0-9]+)@@/i,barcode:/####(LA[0-9]+)####|####(LB[0-9]+)####/i,mode:/##(\w+_mode)_(true|false|min_card|card|detail|Master|House|Waybill|Goods|Package)##/i},settings:{is_scan_mode:!0,is_scan_action_mode:!1,is_batch_mode:!1,is_operation_mode:!0,is_core_waybill_pieces_mode:!0,is_update_corewaybill_mode:!1,is_auto_print_label_mode:!1,is_distributed_to_mode:!1,is_noty_audio_mode:!1,is_speech_mode:!1,is_quick_corewaybill_related_columns:!1,is_package_mode:!1,is_unpackage_mode:!1,is_core_waybill_creation_mode:!1,pack_p_m_mode:"",pack_m_mode:"",pack_need_source_mode:!1,core_waybill_template_mode:"card"},core_waybills:[],current_core_waybill:{},current_core_waybill_scope:"",scan_action_prototypes:[],current_scan_action_prototype:{name:null,identity:null},partitions:[],current_partition:{},jobs:[],current_job:{},is_updated_core_waybill_related_columns:!1,actions_core_waybill_related_columns:{},alert_core_waybill_related_columns_focus_input_name:"",quick_core_waybill_related_columns:{},core_waybill_counters:[],current_pack_taget_parent_material_identity:"",current_pack_taget_material_identity:"",package_response_history:[],package_message:{status:"failure",content:""},package:{source_core_waybill_identity:null,core_waybills:[],parent_core_waybill:{}},distributed_to:{},scan_action_description:"",materials:[]},getters:{is_can_use_setting:function(e,t,i,n){return function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!t)return!1;var i=_.findLast(e.config.settings,function(e){return e==t});return!!i}},current_staff_operation_customer:function(e,t,i,n){return i.provider.current_staff_operation&&i.provider.current_staff_operation.customer||{}},current_pack_taget_parent_material:function(e,t,i,n){return _.findLast(e.materials,function(t){return t.identity==e.current_pack_taget_parent_material_identity})||{}},current_pack_taget_material:function(e,t,i,n){return _.findLast(e.materials,function(t){return t.identity==e.current_pack_taget_material_identity})||{}},current_scan_action_prototype_description_required_scope:function(e,t,i,n){return e.current_scan_action_prototype.identity?e.current_scan_action_prototype.description_required_scope:[]},current_scan_action_prototype_related_columns:function(e,t,i,n){return e.current_scan_action_prototype.identity?e.current_scan_action_prototype.related_columns:[]},current_core_waybill_need_related_columns:function(e,t,i,n){var a=$.extend(!0,[],t.current_scan_action_prototype_related_columns);if(e.settings.is_batch_mode)return[];if(!a.length)return[];if(!e.current_setting_group.barcode.match(/(LA[0-9]+)/i))return[];if(e.current_core_waybill.source_core_waybill&&_.remove(a,function(t){return e.current_core_waybill.source_core_waybill[t.name]}),_.remove(a,function(t){return e.current_core_waybill[t.name]}),e.current_core_waybill.material&&_.remove(a,function(t){return!!t.material_class_name&&e.current_core_waybill.material.class_name!=t.material_class_name}),e.settings.is_quick_corewaybill_related_columns&&_.remove(a,function(t){return e.state.quick_core_waybill_related_columns[t.name]}),t.current_staff_operation_customer){var r="";_.forEach(a,function(i){r="default_"+i.name,t.current_staff_operation_customer[r]&&(e.actions_core_waybill_related_columns[i.name]=t.current_staff_operation_customer[r])})}return a}},actions:{fetch_scan_action_prototypes:function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_scan_action_prototypes),n=i.parse({},"");return axios.get(n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.commit("set_scan_action_prototypes",_.sortBy(t.data.scan_action_prototypes,"barcode"))})["catch"](function(e){console.log("Failed to fetch ScanActionPrototypes.")})},fetch_materials:function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_materials).parse({},"");return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status&&e.commit("set_materials",t.data.materials)})["catch"](function(e){return that.errors.push(that.$t("ui.notifications.error.fetch__name",{name:that.$t("models.materials"),reason:": "+that.$t("ui.general.network_abnormality")+","+e.response.status})),Promise.reject(e)})},fetch_partitions:function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_partitions).parse({},"");return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status&&e.commit("set_partitions",t.data.partitions)})["catch"](function(e){return that.errors.push(that.$t("ui.notifications.error.fetch__name",{name:that.$t("models.partitions"),reason:": "+that.$t("ui.general.network_abnormality")+","+e.response.status})),Promise.reject(e)})},update_core_waybill_related_columns:function(e,t){var i=e.state.actions_core_waybill_related_columns,n=new RestUrl(e.rootState.provider.routes.api_v1_provider_core_waybill_update).parse({core_waybill_identity:e.state.current_core_waybill.identity});return axios.post(n,i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return Promise.reject("failed_to_update_core_waybill_related_column");e.state.is_updated_core_waybill_related_columns=!0,e.commit("set_actions_core_waybill_related_columns",{})})},enqueue:function(e,t){var i=!1;if(_.forEach(e.state.quick_setting_regexps,function(e){t.number.match(e)&&(i=!0)}),i)return Promise.reject("quick_setting");var n={id:e.state.jobs.slice(-1).pop()?e.state.jobs.slice(-1).pop().id+1:1,task:t.task,number:t.number,original_number:t.original_number,partition:t.partition,station:t.station,core_waybill:{},core_waybill_scope:"",scan_action_prototype:t.scan_action_prototype,status:"Pending",is_waiting_user_action:!1,is_batch_mode:e.state.settings.is_batch_mode,errors:[]};return e.commit("add_job",n),Promise.resolve()},perform:function(){var e=K(regeneratorRuntime.mark(function e(t,i){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i.status="Processing",e.prev=1,e.next=4,t.dispatch("perform_init",i);case 4:e.t0=i.task,e.next="operation"===e.t0?7:"search"===e.t0?25:"creation"===e.t0?35:45;break;case 7:return e.next=9,t.dispatch("search_core_waybill",i);case 9:return e.next=11,t.dispatch("pack",i);case 11:return e.next=13,t.dispatch("unpack",i);case 13:return e.next=15,t.dispatch("check_quick_core_waybill_related_columns",i);case 15:return e.next=17,t.dispatch("instantiate_scan_action_prototype",i);case 17:return e.next=19,t.dispatch("add_core_waybills_to_operation",i);case 19:return e.next=21,t.dispatch("fetch_statuses",i);case 21:return e.next=23,t.dispatch("distribute",i);case 23:return i.status="Success",e.abrupt("break",47);case 25:return e.next=27,t.dispatch("search_core_waybill",i);case 27:return e.next=29,t.dispatch("pack",i);case 29:return e.next=31,t.dispatch("unpack",i);case 31:return e.next=33,t.dispatch("distribute",i);case 33:return i.status="Success",e.abrupt("break",47);case 35:return e.next=37,t.dispatch("find_or_create_core_waybill",i);case 37:return e.next=39,t.dispatch("check_quick_core_waybill_related_columns",i);case 39:return e.next=41,t.dispatch("instantiate_scan_action_prototype",i);case 41:return e.next=43,t.dispatch("fetch_statuses",i);case 43:return i.status="Success",e.abrupt("break",47);case 45:return i.status="Failure",e.abrupt("return",Promise.reject("task_not_found"));case 47:e.next=52;break;case 49:return e.prev=49,e.t1=e["catch"](1),e.abrupt("return",Promise.reject(e.t1));case 52:return e.abrupt("return",Promise.resolve());case 53:case"end":return e.stop()}},e,null,[[1,49]])}));function t(t,i){return e.apply(this,arguments)}return t}(),perform_init:function(e,t){return t.number?(e.state.is_setting=!1,e.state.current_job=t,e.state.current_core_waybill={},e.state.current_core_waybill_scope="",e.state.actions_core_waybill_related_columns={},e.dispatch("clear_distributed_to"),Promise.resolve()):(t.errors.push("請輸入號碼"),Promise.reject("no_input_number"))},search_core_waybill:function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_core_waybills_search),n=i.parse({},"?latest_status_scope=operator");return axios.post(n,{number:t.number},{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(){var i=K(regeneratorRuntime.mark(function i(n){return regeneratorRuntime.wrap(function(i){while(1)switch(i.prev=i.next){case 0:if("success"!=n.data.status){i.next=15;break}if(n.data.core_waybill.pieces||(n.data.core_waybill.pieces=1),t.core_waybill=n.data.core_waybill,t.core_waybill_scope=n.data.scope,e.state.current_core_waybill=t.core_waybill,e.state.current_core_waybill_scope=n.data.scope,"new"!=n.data.scope){i.next=8;break}return i.abrupt("return",Promise.reject("create_core_waybill"));case 8:return _.findLast(e.state.core_waybills,function(e){return e.identity==n.data.core_waybill.identity})&&_.remove(e.state.core_waybills,{identity:n.data.core_waybill.identity}),e.state.core_waybills.push(n.data.core_waybill),e.state.core_waybills.length>=10&&e.state.core_waybills.shift(),i.next=13,new Promise(function(t){for(var i="",n=0,a=0,r=["consignee_company_name","consignee_name"];a<r.length;a++){var s=r[a];e.state.current_core_waybill[s]&&(i&&0!=n&&(i+=","),i+=e.state.current_core_waybill[s]),n++}if(e.state.settings.is_speech_mode)if(i){var o=new H.a({onend:function(){return t()},oncancel:function(){return t()}});o.cancel(),isNaN(i)?o.speak(i):o.speak(i.split("").join(" "))}else t();else t()});case 13:i.next=22;break;case 15:console.log(n.data.errors),i.t0=n.data.errors,i.next="CoreWaybill not found."===i.t0?19:"Available partition not found."===i.t0?19:"Partition not found"===i.t0?19:21;break;case 19:return i.abrupt("return",Promise.reject("core_waybill_not_found"));case 21:return i.abrupt("return",Promise.reject(n.data.errors));case 22:case"end":return i.stop()}},i)}));return function(e){return i.apply(this,arguments)}}())},find_or_create_core_waybill:function(){var e=K(regeneratorRuntime.mark(function e(t,i){var n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.dispatch("search_core_waybill",i);case 3:e.next=17;break;case 5:e.prev=5,e.t0=e["catch"](0),e.t1=e.t0,e.next="available_partition_not_found"===e.t1?10:"core_waybill_not_found"===e.t1?10:17;break;case 10:return n=new RestUrl(t.rootState.provider.routes.api_v1_provider_core_waybills_create),a=n.parse(),e.next=14,axios.post(a,{partition_identity:i.partition.identity,original_number:i.original_number,is_used:!0},{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){"success"==e.data.status?i.core_waybill=e.data.core_waybill:Promise.reject("failed_to_create_core_waybill")});case 14:return e.next=16,t.dispatch("search_core_waybill",i);case 16:return e.abrupt("break",17);case 17:case"end":return e.stop()}},e,null,[[0,5]])}));function t(t,i){return e.apply(this,arguments)}return t}(),check_quick_core_waybill_related_columns:function(e,t){return e.getters.current_core_waybill_need_related_columns.length&&!e.state.is_updated_core_waybill_related_columns?Promise.reject("core_waybill_related_column_is_empty"):(e.state.settings.is_quick_corewaybill_related_columns&&e.commit("set_actions_core_waybill_related_columns",e.state.quick_core_waybill_related_columns),e.state.is_updated_core_waybill_related_columns=!1,Promise.resolve())},instantiate_scan_action_prototype:function(e,t){var i=!0,n={location:(e.rootState.provider.current_staff.station||{}).name},a=new RestUrl(e.rootState.provider.routes.api_v1_provider_scan_action_prototype_instantiate),r=a.parse({barcode:t.scan_action_prototype.barcode,core_waybill_identity:t.core_waybill.identity},"");if(e.state.settings.is_scan_action_mode&&e.getters.current_scan_action_prototype_description_required_scope.length&&!e.state.scan_action_description)return Promise.reject("scan_action_description_is_empty");e.state.scan_action_description&&(n.description=e.state.scan_action_description);var s=_.findLast(e.state.core_waybill_counters,function(t){return t.identity==e.state.current_core_waybill.identity}),o=_.findIndex(e.state.core_waybill_counters,{identity:e.state.current_core_waybill.identity});if(e.state.settings.is_core_waybill_pieces_mode&&1!=e.state.current_core_waybill.pieces){try{if("-1"==o)throw o=0,s={number:e.state.current_core_waybill.number,identity:e.state.current_core_waybill.identity,core_waybill_pieces:e.state.current_core_waybill.pieces,current_core_waybill_counter:1},e.state.core_waybill_counters.push(s),!1;if(s.current_core_waybill_counter+=1,!(s.current_core_waybill_counter>=e.state.current_core_waybill.pieces))throw!1}catch(c){i=c}e.state.core_waybill_counters.splice(o,1,s),e.dispatch("set_local_storage_core_waybill_counter"),t.core_waybill_pieces=s.core_waybill_pieces,t.current_core_waybill_counter=s.current_core_waybill_counter,t.is_waiting_instantiate_scan_action=!0}return i?axios.post(r,n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(i){if(e.state.scan_action_description="","-1"!=o&&_.remove(e.state.core_waybill_counters,function(t){return t.identity==e.state.current_core_waybill.identity}),"success"!=i.data.status){t.status="Failure";for(var n=0,a=Object.keys(i.data.errors);n<a.length;n++){var r=a[n],s=!0,c=!1,l=void 0;try{for(var u,d=i.data.errors[r][Symbol.iterator]();!(s=(u=d.next()).done);s=!0){var p=u.value;t.errors.push(p)}}catch(m){c=!0,l=m}finally{try{s||null==d["return"]||d["return"]()}finally{if(c)throw l}}}return Promise.reject("failed_to_instantiate_scan_action_prototype")}}):void 0},add_core_waybills_to_operation:function(e,t){if(e.rootState.provider.current_staff_operation.identity){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_operation_add_core_waybills).parse({operation_identity:e.rootState.provider.current_staff_operation.identity},""),n={core_waybill_identities:[t.core_waybill.identity]};return axios.post(i,n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){if("success"==e.data.status)_.includes(e.data.success_core_waybill_identities,function(e){return e==t.core_waybill.identity})||t.errors.push("Failed to add to operation");else if("failure"==e.data.status)return t.errors.push(e.data.errors),Promise.reject("core_waybill_not_found")})}},fetch_statuses:function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_core_waybill_statuses),n=i.parse({core_waybill_identity:e.state.current_core_waybill.identity},"");return axios.get(n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return Promise.reject("failed_to_fetch_core_waybill_statuses");e.state.current_core_waybill.latest_status=t.data.latest_status,e.state.current_core_waybill.statuses=t.data.statuses})},distribute:function(e,t){if(e.state.settings.is_distributed_to_mode&&t.station.identity){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_station_distribute),n=i.parse({station_identity:t.station.identity,core_waybill_identity:e.state.current_core_waybill.identity},"");return axios.post(n,{},{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.state.distributed_to=t.data.distributed_to?t.data.distributed_to:{}})}},pack:function(){var e=K(regeneratorRuntime.mark(function e(t,i){var n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t.state.package_message={status:"",content:""},t.state.settings.is_package_mode){e.next=4;break}return e.abrupt("return",Promise.resolve());case 4:if(n=t.getters.current_pack_taget_parent_material,a=t.getters.current_pack_taget_material,n.class_name){e.next=8;break}throw"請選擇包材";case 8:if(a.class_name){e.next=10;break}throw"請選擇包裝目標";case 10:if(t.state["package"].core_waybills.length||t.state["package"].parent_core_waybill.identity){e.next=19;break}if(i.core_waybill.material.class_name!=n.class_name){e.next=17;break}return e.next=14,t.commit("set_package",i.core_waybill);case 14:return e.abrupt("return",Promise.resolve());case 17:if(i.core_waybill.material.class_name!=a.class_name){e.next=19;break}throw"請掃"+n.name;case 19:if(i.core_waybill.identity==t.state["package"].parent_core_waybill.identity){e.next=35;break}if(i.core_waybill.material.class_name!=n.class_name||i.core_waybill.material.class_name==a.class_name){e.next=28;break}if(!t.state["package"].core_waybills.length){e.next=24;break}return e.next=24,t.dispatch("submit_package",i);case 24:return e.next=26,t.commit("set_package",i.core_waybill);case 26:e.next=35;break;case 28:if(i.core_waybill.material.class_name!=a.class_name){e.next=32;break}t.commit("push_package",i.core_waybill),e.next=35;break;case 32:if(t.state["package"].core_waybills.length){e.next=34;break}throw"請掃"+n.name;case 34:throw"請掃"+n.name+"或"+a.name;case 35:return e.abrupt("return",Promise.resolve());case 38:return e.prev=38,e.t0=e["catch"](0),t.state.package_message={status:"failure",content:"無法包裝["+i.core_waybill.material.name+"]，"+e.t0},e.abrupt("return",Promise.reject());case 42:case"end":return e.stop()}},e,null,[[0,38]])}));function t(t,i){return e.apply(this,arguments)}return t}(),unpack:function(){var e=K(regeneratorRuntime.mark(function e(t,i){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!t.state.settings.is_unpackage_mode){e.next=5;break}return e.next=3,t.commit("set_package",i.core_waybill);case 3:return e.next=5,t.dispatch("submit_package",i);case 5:return e.abrupt("return",Promise.resolve());case 6:case"end":return e.stop()}},e)}));function t(t,i){return e.apply(this,arguments)}return t}(),submit_package:function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_core_waybills_pack).parse({}),n={parent_core_waybill_identity:e.state["package"].parent_core_waybill.identity,source_core_waybill_identity:e.state.settings.pack_need_source_mode?e.state["package"].source_core_waybill_identity:null,core_waybill_identities:e.state.settings.is_unpackage_mode?[]:_.map(e.state["package"].core_waybills,"identity")};return axios.post(i,n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(i){if("success"!=i.data.status)return t.package_response=i.data,t.errors.push("包裝失敗，"+i.data.errors),Promise.reject("包裝失敗，"+i.data.errors);e.state.package_response_history.push(_.assign(i.data,{id:e.state.package_response_history.slice(-1).pop()?e.state.jobs.slice(-1).pop().id+1:1,is_setting_is_package_mode:e.state.settings.is_package_mode}))})},set_local_storage_core_waybill_counter:function(e,t){var i=[];_.forEach(e.state.core_waybill_counters,function(e){i.push(JSON.stringify(e))}),localStorage.setItem("scanner_core_waybill_counters",i.toString())},set_local_storage_job:function(e,t){var i=[];_.forEach(e.state.jobs,function(e){var t=$.extend(!0,{},e);delete t.core_waybill,i.push(JSON.stringify(t)),i.length>=31&&i.shift()}),localStorage.setItem("scanner_jobs",i.toString())},clear_core_waybill_counter:function(e,t){localStorage.setItem("scanner_core_waybill_counters",""),e.state.core_waybill_counters=[]},clear_job:function(e,t){localStorage.setItem("scanner_jobs",""),e.state.jobs=[]},clear_distributed_to:function(e,t){e.state.distributed_to={}},set_current_operation:function(e,t){e.state.current_operation=t},actions_core_waybill_related_column:function(e,t){e.state.actions_core_waybill_related_columns[t.name]=t.value}},mutations:{update_current_job:function(e,t){_.merge(e.current_job,t)},push_package:function(e,t){_.findLast(e["package"].core_waybills,t)||e["package"].core_waybills.push(t)},set_package:function(e,t){e["package"]={parent_core_waybill:t,core_waybill_identities:[],core_waybills:[],source_core_waybill_identity:t.identity}},set_actions_core_waybill_related_columns:function(e,t){e.actions_core_waybill_related_columns=t},set_is_updated_core_waybill_related_columns:function(e,t){e.is_updated_core_waybill_related_columns=t},set_scan_action_prototypes:function(e,t){e.scan_action_prototypes=t},set_current_partition:function(e,t){e.current_partition=t},set_materials:function(e,t){e.materials=t},set_current_weight:function(e,t){e.current_weight=t},set_partitions:function(e,t){e.partitions=t},add_job:function(e,t){e.jobs.push(t)},update_actions_core_waybill_related_column:function(e,t){e.actions_core_waybill_related_columns[t.related_column_name]=t.value}}},Q=X,Z={namespaced:!0,state:{},getters:{},actions:{},mutations:{}},J=Z,ee={namespaced:!0,state:{filter:{is_advanced_mode:!1,shortcut_keys:["staff_name","begin_at","end_at","total_amount_from","total_amount_to","created_at"],current_shortcut_key:"staff_name",columns:{staff_name:null,total_amount_from:null,total_amount_to:null,created_duration:"",created_at_from:null,created_at_to:null,begin_at:null,end_at:null}}},getters:{},actions:{},mutations:{init_filter_columns:function(e){e.filter.columns={staff_name:null,total_amount_from:null,total_amount_to:null,created_duration:"",created_at_from:null,created_at_to:null,begin_at:null,end_at:null}}}},te=ee,ie={namespaced:!0,state:{pagination:{current_page:null,total_pages:null},search_params:{name:null,barcode:null,page:null},show_filter:!1},actions:{},mutations:{set_current_page:function(e,t){e.pagination.current_page=t},set_total_pages:function(e,t){e.pagination.total_pages=t},init_search_params:function(e){e.search_params={name:null,barcode:null,page:null}},toggle_filter:function(e){e.show_filter=!e.show_filter}}},ne=ie,ae={namespaced:!0,state:{staffs:[],core_waybill_payment_types:[{name:"到付",value:"到付"},{name:"寄付",value:"寄付"},{name:"月結",value:"月結"}]},getters:{staff:function(e,t,i,n){return function(t){return _.findLast(e.staffs,function(e){return e.identity==t})||{}}}},actions:{fetch_staff:function(e,t){if(!_.find(e.state.staffs,function(e){return e.identity==t.staff_identity})){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_staff),n=i.parse({identity:t.staff_identity});return axios.get(n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.commit("set_staffs",t.data.staff)})["catch"](function(e){return console.log("Failed to fetch CustomerNodes."),Promise.reject(e)})}return""}},mutations:{set_staffs:function(e,t){e.staffs.push(t)}}},re=ae,se={namespaced:!0,state:{},getters:{},actions:{},mutations:{}},oe=se,ce={namespaced:!0,state:{pagination:{current_page:null,total_pages:null},filter:{is_advanced_mode:!1,shortcut_keys:["name","priority","strategy","strategy_value","station_identity","material_identity","is_activated"],current_shortcut_key:"name",columns:{name:null,strategy:null,strategy_value:null,priority:null,station_identity:null,material_identity:null,is_activated:!1,page:1}},materials:[]},getters:{},actions:{fetch_materials:function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_materials).parse({},"");return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.commit("set_materials",t.data.materials)})["catch"](function(e){return console.log("Failed to fetch materials."),Promise.reject(e)})}},mutations:{set_current_page:function(e,t){e.pagination.current_page=t},set_total_pages:function(e,t){e.pagination.total_pages=t},init_filter_columns:function(e){e.filter.columns={name:null,strategy:null,strategy_value:null,priority:null,station_identity:null,material_identity:null,is_activated:!1,page:null}},set_materials:function(e,t){e.materials=t}}},_e=ce,le={namespaced:!0,state:{pagination:{current_page:null,total_pages:null},search_params:{staff_identity:null,driver_commission_policy_identity:null,amount:null,polarity:null,page:null},is_show_filter:!1,staffs:[]},actions:{fetch_staffs:function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_staffs).parse({},"?"+object_to_query({pagination:!1}));return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.commit("set_staffs",t.data.staffs)})["catch"](function(e){return console.log("Failed to fetch Roles."),Promise.reject(e)})}},mutations:{set_current_page:function(e,t){e.pagination.current_page=t},set_total_pages:function(e,t){e.pagination.total_pages=t},init_search_params:function(e){e.search_params={staff_identity:null,driver_commission_policy_identity:null,amount:null,polarity:null,page:null}},toggle_filter:function(e){e.is_show_filter=!e.is_show_filter},set_staffs:function(e,t){e.staffs=t}}},ue=le,de={namespaced:!0,state:{pagination:{current_page:null,total_pages:null},filter:{is_advanced_mode:!1,shortcut_keys:["username","company_name","email","phone","fax","is_banned"],current_shortcut_key:"username",columns:{username:null,company_name:null,email:null,phone:null,fax:null,is_banned:null}},search_params:{username:null,company_name:null,email:null,phone:null,fax:null,is_banned:null},is_show_filter:!1,provider_contracts:[]},actions:{fetch_provider_contracts:function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_provider_contracts),n=i.parse({},"");return axios.get(n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.commit("set_provider_contracts",t.data.provider_contracts)})["catch"](function(e){return console.log("Failed to fetch ProviderContracts."),Promise.reject(e)})}},mutations:{set_current_page:function(e,t){e.pagination.current_page=t},set_total_pages:function(e,t){e.pagination.total_pages=t},init_filter_columns:function(e){e.filter.columns={username:null,company_name:null,email:null,phone:null,fax:null,is_banned:null}},set_provider_contracts:function(e,t){e.provider_contracts=t}}},pe=de,me={namespaced:!0,state:{},getters:{},actions:{},mutations:{}},fe=me,ve={namespaced:!0,state:{},getters:{},actions:{},mutations:{}},he=ve;function ge(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}window.config=n("a078");var be=new config,ye={namespaced:!0,state:{current_staff:{},current_staff_operation:{},current_staff_operations:[],routes:{},is_can_use_scanner:!1,service_config:{},theme_menu:[],theme_menu_keys:[],is_auto_gps_station_position_by_60s:!1,is_auto_gps_station_position_once:!1,current_position:{is_first_initialized:!1,status:"",messages:"",latitude:"",longitude:"",address:{country:"",locality:"",political:"",full:""}},notifications:[],operations:[],stations:[],node:{}},getters:{current_station:function(e,t,i,n){return _.findLast(e.stations,function(t){return t.identity==e.current_staff.station_identity})||{identity:null,name:null}},is_current_staff_need_station:function(e,t,i,n){return!t.current_station.identity&&"manager"!=e.current_staff.theme_name},is_current_staff_minimalist_layout:function(e,t,i,n){return"driver"!=e.current_staff.theme_name}},actions:(W={fetch_node:function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_me).parse({},"");return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.commit("set_node",t.data.node)})["catch"](function(e){console.log("Failed to fetch node.")})},fetch_routes:function(e,t){var i=new RestUrl(e.rootState.settings.station.get_routes_url).parse({},"");return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){var i=t.data.routes;_.forEach(i,function(e,t){i[t]=be.lms_url+e}),e.commit("set_routes",i)})["catch"](function(e){console.log("Failed to fetch routes.")})}},ge(W,"fetch_routes",function(e,t){var i=new RestUrl(e.rootState.settings.provider.get_routes_url).parse({},"");return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){var i=t.data.routes;_.forEach(i,function(e,t){i[t]=be.lms_url+e}),e.commit("set_routes",i)})["catch"](function(e){console.log("Failed to fetch routes.")})}),ge(W,"fetch_current_staff",function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_staffs_current_staff).parse({},"");return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.commit("set_current_staff",t.data.staff)})["catch"](function(e){console.log("Failed to fetch current staff.")})}),ge(W,"fetch_current_staff_operations",function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_operations),n=i.parse({},"?is_done=false&is_canceled=false&staff_identity="+e.state.current_staff.identity);return axios.get(n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status&&e.commit("set_current_staff_operations",t.data.operations)})["catch"](function(e){console.log("Failed to fetch current staff operation.")})}),ge(W,"fetch_stations",function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_stations).parse({},"?pagination=false");return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.commit("set_stations",t.data.stations)})["catch"](function(e){console.log("Failed to fetch stations.")})}),ge(W,"fetch_customers",function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_customers).parse({},"?"+object_to_query({pagination:!1}));return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.commit("set_customers",t.data.customers)})["catch"](function(e){console.log("Failed to fetch customers.")})}),ge(W,"fetch_notifications",function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_notifications).parse();return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.commit("set_notifications",t.data.notifications)})["catch"](function(e){console.log("Failed to fetch notifications.")})}),ge(W,"fetch_current_position_address",function(e,t){var i="AIzaSyBB-BKWJ_pcsE0zCmdeYkJfB5KcMaQyB14",n=e.state.current_position.latitude+","+e.state.current_position.longitude,a="https://maps.googleapis.com/maps/api/geocode/json?latlng="+n+"&key="+i;return axios.get(a).then(function(t){console.log("Goolge Geocoding API response",t.data),"OK"==t.data.status?e.dispatch("set_current_position_address",_.head(t.data.results)):console.log("Failed to fetch address for Goolge Geocoding API, because:",t.data.status)})["catch"](function(e){console.log("Failed to fetch address for Goolge Geocoding API.")})}),ge(W,"update_current_staff_station_identity",function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_staff_update).parse({identity:e.state.current_staff.identity});return axios.post(i,{station_identity:t.identity},{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(i){e.commit("set_current_staff_station",t)})["catch"](function(e){console.log("Failed to update current_staff_station_identity.")})}),ge(W,"set_current_staff_operation",function(e,t){e.commit("set_current_staff_operation",t),localStorage.setItem("current_staff_operations_number",t.number?t.number:"")}),ge(W,"set_current_position",function(e,t){_.forEach(t,function(t,i){e.state.current_position[i]=t})}),ge(W,"set_current_position_address",function(t,i){t.state.current_position.address.full=i.formatted_address;try{var n=[{name:"country",types:["country","political"]},{name:"locality",types:["administrative_area_level_1","political"],types2:["administrative_area_level_2","political"]},{name:"political",types:["administrative_area_level_3","political"],types2:["locality","political"]}];_.forEach(n,function(e){var n=_.findLast(i.address_components,function(t){return!_.difference(t.types,e.types).length||!(!e.types2||_.difference(t.types,e.types2).length)})||{};t.state.current_position.address[e.name]=n.long_name||""})}catch(e){console.log(e)}console.log("google maps api解析地址為: ",t.state.current_position.address)}),W),mutations:(V={set_routes:function(e,t){e.routes=t},set_current_staff:function(e,t){e.current_staff=t},set_current_staff_operation:function(e,t){e.current_staff_operation=t},set_current_staff_operations:function(e,t){e.current_staff_operations=t},set_current_staff_station:function(e,t){e.current_staff.station_identity=t.identity,e.current_staff.station=t},set_node:function(e,t){e.node=t}},ge(V,"set_routes",function(e,t){e.routes=t}),ge(V,"set_stations",function(e,t){e.stations=t}),ge(V,"set_customers",function(e,t){e.customers=t}),ge(V,"set_notifications",function(e,t){e.notifications=t}),ge(V,"update_notification",function(e,t){var i=_.findIndex(e.notifications,function(e){return e.identity==t.identity});e.notifications.splice(i,1,t)}),ge(V,"add_notification",function(e,t){e.notifications.unshift(t)}),V),modules:{assets_module:m,materials_module:v,scanner_module:Q,partitions_module:g,roles_module:y,staffs_module:k,settings_module:x,stations_module:S,status_prototypes_module:A,uploader_module:q,core_waybills_module:I,packer_module:O,operations_module:D,appraisals_module:M,user_logs_module:F,driver_commission_policies_module:J,driver_commission_reports_module:te,scan_action_prototypes_module:ne,tool_core_waybill_module:re,provider_node_module:oe,distributions_module:_e,driver_commissions_module:ue,customers_module:pe,personal_monitor_module:fe,global_monitor_module:he}},we=ye,$e={namespaced:!0,state:{partitions:[],associated_partitions:[],pagination:{current_page:null,total_pages:null},materials:[],customers:[]},actions:{fetch_partitions:function(e,t){var i=new RestUrl(e.rootState.station.routes.api_v1_station_partitions),n=i.parse({},"?page="+t.page);return axios.get(n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.commit("set_partitions",t.data.partitions),e.commit("set_pagination",t.data.pagination)})["catch"](function(e){return console.log("Failed to fetch Partitions."),Promise.reject(e)})},fetch_associated_partitions:function(e,t){var i=new RestUrl(e.rootState.station.routes.api_v1_station_associated_partitions),n=i.parse({},"?page="+t.page);return axios.get(n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.commit("set_associated_partitions",t.data.associated_partitions),e.commit("set_pagination",t.data.pagination)})["catch"](function(e){return console.log("Failed to fetch AssociatedPartitions."),Promise.reject(e)})},fetch_customers:function(e,t){var i=new RestUrl(e.rootState.station.routes.api_v1_station_customers),n=i.parse({},"");return axios.get(n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.commit("set_customers",t.data.customers)})["catch"](function(e){return console.log("Failed to fetch CustomerNodes."),Promise.reject(e)})},fetch_materials:function(e,t){var i=new RestUrl(e.rootState.station.routes.api_v1_station_materials).parse({},"");return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return console.log("Failed to fetch Material."),Promise.reject(error);e.commit("set_materials",t.data.materials)})}},mutations:{set_associated_partitions:function(e,t){e.associated_partitions=t},set_partitions:function(e,t){e.partitions=t},set_pagination:function(e,t){e.pagination=t},set_customers:function(e,t){e.customers=t},set_materials:function(e,t){e.materials=t},add_partition:function(e,t){e.partitions.push(t)},update_partition:function(e,t){var i=_.findIndex(e.partitions,function(e){return e.identity==t.identity});e.partitions.splice(i,1,t)},remove_partition:function(e,t){var i=_.findIndex(e.partitions,function(e){return e.identity==t.identity});e.partitions.splice(i,1)}}},ke=$e,Ce={namespaced:!0,state:{pagination:{current_page:null,total_pages:null},filter:{is_advanced_mode:!1,shortcut_keys:["username","name","phone","role_identity","station_identity","theme_name","is_banned"],current_shortcut_key:"name",columns:{username:null,name:null,phone:null,theme_name:null,role_identity:null,station_identity:null,is_banned:null}},roles:[]},actions:{},mutations:{set_current_page:function(e,t){e.pagination.current_page=t},set_total_pages:function(e,t){e.pagination.total_pages=t},init_filter_columns:function(e){e.filter.columns={username:null,name:null,phone:null,theme_name:null,role_identity:null,station_identity:null,is_banned:null}},set_roles:function(e,t){e.roles=t}}},xe=Ce;window.config=n("a078");new config;var Pe={namespaced:!0,state:{customers:[],requester_node:null,requester_contract:null,operator_node:{},waybill_raw_datas:[],waybill_processed_datas:[],receivers:[],converters:[],current_converter:null,conversions:[],open_file_url:null,file_upload_url:"https://air.formosaas.com/api/v1/:app_id/cloud/:access_token/:identity/bucket/:bucket_identity/upload",fetch_customers_url:null,fetch_converters_url:null,create_operation_url:null,use_waybill_url:null,validate_waybill_url:null,validator:"standard"},getters:{},actions:{set_urls:function(e,t){return new Promise(function(t){var i=e.rootState.current_scope;e.commit("set_open_file_url",e.rootState[i].routes.api_v1_station_file_converters_convert),e.commit("set_file_upload_url",new RestUrl(e.rootState[i].uploader_module.file_upload_url).parse({app_id:e.rootState[i].current_node.air_service.air_app_id,access_token:e.rootState[i].current_node.air_service.air_access_token,identity:e.rootState[i].current_node.air_service.air_identity,bucket_identity:e.rootState[i].current_node.air_service.air_bucket_identity,air_authorization:e.rootState[i].current_node.air_service.air_authorization},"?authorization="+e.rootState[i].current_node.air_service.air_authorization+"&is_froala=true")),e.commit("set_create_operation_url",e.rootState[i].routes["api_v1_station_operations_create"]),e.commit("set_use_waybill_url",e.rootState[i].routes["api_v1_station_operation_use_core_waybill"]),e.commit("set_fetch_customers_url",e.rootState[i].routes["api_v1_station_customers"]),e.commit("set_validate_waybill_url",e.rootState[i].routes["api_v1_station_core_waybills_usable_core_waybills"]),e.commit("set_fetch_converters_url",e.rootState[i].routes["api_v1_station_file_converters"]),t()})},fetch_customers:function(e,t){e.rootState.current_scope;var i=new RestUrl(e.state.fetch_customers_url).parse({},"?"+object_to_query({pagination:!1,is_banned:!1}));return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?e.commit("set_customers",t.data.customers):t.data.status})["catch"](function(e){})},fetch_converters:function(e,t){e.rootState.current_scope;return axios.get(e.state.fetch_converters_url,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?e.commit("set_converters",t.data.converters):t.data.status})["catch"](function(e){})},fetch_operator_node:function(e,t){e.commit("set_operator_node",e.rootState.station.current_node)}},mutations:{set_open_file_url:function(e,t){e.open_file_url=t},set_file_upload_url:function(e,t){e.file_upload_url=t},set_create_operation_url:function(e,t){e.create_operation_url=t},set_use_waybill_url:function(e,t){e.use_waybill_url=t},set_fetch_customers_url:function(e,t){e.fetch_customers_url=t},set_fetch_converters_url:function(e,t){e.fetch_converters_url=t},set_validate_waybill_url:function(e,t){e.validate_waybill_url=t},set_requester_node:function(e,t){e.requester_node=t},set_requester_contract:function(e,t){e.requester_contract=t},set_customers:function(e,t){e.customers=t},set_conversions:function(e,t){e.conversions=t},set_converters:function(e,t){e.converters=t},set_waybill_raw_datas:function(e,t){e.waybill_raw_datas=t},set_waybill_processed_datas:function(e,t){e.waybill_processed_datas=t},set_receivers:function(e,t){e.receivers=t},set_current_converter:function(e,t){e.current_converter=t},set_operator_node:function(e,t){e.operator_node=t},init:function(e,t){e.customers=[],e.requester_node=null,e.requester_contract=null,e.operator_node={},e.waybill_raw_datas=[],e.waybill_processed_datas=[],e.receivers=[],e.converters=[],e.current_converter=null,e.conversions=[],e.open_file_url=null,e.file_upload_url="https://air.formosaas.com/api/v1/:app_id/cloud/:access_token/:identity/bucket/:bucket_identity/upload",e.fetch_customers_url=null,e.fetch_converters_url=null,e.create_operation_url=null,e.use_waybill_url=null,e.validate_waybill_url=null,e.validator="standard"}}},Se=Pe,Ne={namespaced:!0,state:{current_form_entity_type:!0,current_core_waybill:{},core_waybills:[],current_page:1,total_pages:1,quick_filters:{number:["number","original_number","tracking_number","flight_number"],info:["sender_name","sender_company_name","divider","consignee_name","consignee_company_name","consignee_phone","consignee_address","divider","note","shipping_note"],status:["name"]},quick_filter_key:{number:"number",info:"sender_name",status:"latest_status"},filter_init:{number:null,original_number:null,tracking_number:null,flight_number:null,sender_name:null,consignee_name:null,consignee_phone:null,consignee_address:null,note:null,is_used:null,created_at:{},operation:{number:null},material:{class_names:null},condition:{current_operator_identity:null,current_location:null,polarity:"true",name:null,updated_at:{}},status:{operator_identity:null,scope:null,name:null,created_at:{}}},filter:{created_at:{},operation:{},material:{},condition:{polarity:"true",updated_at:{}},status:{scope:null,name:null,created_at:{}}},filter_url_params:"",is_show_filter:{simple:!1,detail:!1},is_can_print_label:!1,staffs:[],materials:[],scan_action_prototypes:[],condition_status_prototypes:[],tool_label:{core_waybill_length:0,numbers:"",label_name:""},csv:{is_processing:!1,url:null},customers:[],core_waybill_conditions:["current_release","current_handover","current_collect","current_check","current_ship","current_back","current_delivered","current_transfer","current_intermodal","current_exception","current_lock","current_done","current_use","divider","already_use","already_release","already_handover","already_collect","already_check","already_ship","already_back","already_delivered","already_transfer","already_intermodal","already_exception","already_lock","already_done","divider","can_use","can_release","can_handover","can_collect","can_check","can_ship","can_back","can_delivered","can_transfer","can_intermodal","can_exception","can_lock","can_done"]},getters:{customer:function(e,t,i,n){return function(t){return _.findLast(e.customers,function(e){return e.identity==t})||{}}}},actions:{fetch_customer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e.getters.customer(t.customer_identity).identity){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_customer).parse({customer_identity:t.customer_identity});return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return Promise.reject("fetch_customer_failure");e.commit("set_push_customers",t.data.customer)})}},fetch_core_waybills:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this;e.commit("set_tool_label",{core_waybill_length:0,numbers:"",label_name:""});var n=new RestUrl(e.rootState.provider.routes.api_v1_provider_core_waybills_filter),a=n.parse({});return a+="?page=",a=t.page?a+t.page:a+e.state.current_page,e.state.is_can_print_label=!!e.state.filter_url_params,a=a+"&"+e.state.filter_url_params,a+="&latest_status_scope=operator",axios.get(a,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(n){if(e.commit("set_core_waybills",[]),"success"!=n.data.status)return Promise.reject("fetch_core_waybills_failure");if(e.commit("set_core_waybills",n.data.core_waybills),e.commit("set_pagination",n.data.pagination),!n.data.core_waybills.length)return Promise.reject("fetch_core_waybills_no_anything_core_waybills");if("edit"==t.action){if(console.log("response.data.core_waybills[0]",n.data.core_waybills[0]),!n.data.core_waybills.length)return Promise.reject("fetch_core_waybills_no_anything_core_waybills");i.$router.push({name:"edit_core_waybill",params:{identity:n.data.core_waybills[0].identity}})}})},fetch_staffs:function(e,t){var i=e.rootState.provider.routes.api_v1_provider_staffs+"?pagination=false";return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return Promise.reject("fetch_staffs_failure");e.commit("set_staffs",t.data.staffs)})},fetch_materials:function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_materials).parse({},"");return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return Promise.reject("fetch_materials_failure");e.commit("set_materials",t.data.materials)})},fetch_scan_action_prototypes:function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_scan_action_prototypes).parse({},"?pagination=false");return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return Promise.reject("fetch_scan_action_prototypes_failure");e.commit("set_scan_action_prototypes",t.data.scan_action_prototypes)})},fetch_condition_status_prototypes:function(e,t){var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_status_prototypes).parse({},"?pagination=false");return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return Promise.reject("fetch_condition_status_prototypes_failure");var i=_.groupBy(t.data.status_prototypes,"scope");e.commit("set_condition_status_prototypes",i["condition"])})},fetch_core_waybills_pagination_false:function(e,t){if(!e.state.filter_url_params)return e.commit("set_tool_label",{core_waybill_length:0,numbers:"",label_name:""}),Promise.reject("fetch_core_waybills_pagination_false nothing filter");var i=new RestUrl(e.rootState.provider.routes.api_v1_provider_core_waybills_filter),n=i.parse({});return n+="?pagination=false",e.state.filter_url_params&&(n+="&"+e.state.filter_url_params),axios.get(n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if(e.commit("set_tool_label",{core_waybill_length:0,numbers:"",label_name:""}),"success"!=t.data.status)return Promise.reject("fetch_core_waybills_pagination_false_error");var i,n=_.groupBy(t.data.core_waybills,"label_type"),a=0;if(""==Object.keys(n)||1!=Object.keys(n).length)return Promise.reject("core_waybills_label_type_different");a=t.data.core_waybills.length,i=_.map(t.data.core_waybills,"number").toString(),n=Object.keys(n).toString(),e.commit("set_tool_label",{core_waybill_length:a,numbers:i,label_name:n})})},fetch_core_waybills_csv_new:function(t,i){try{var n=new RestUrl(t.rootState.provider.routes.api_v1_provider_core_waybills_report_job).parse();return console.log(n),axios.get(n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){return t.state.csv.is_processing=!0,t.state.csv.url=null,"success"==e.data.status?Promise.reject("success"):Promise.reject("errores")})}catch(e){return console.log(e),Promise.reject(e)}},fetch_core_waybills_csv:function(e,t){var i=Math.floor(Date.now()/1e3),n=t.type?"&csv_tpye="+t.type:null,a=new RestUrl(e.rootState.provider.routes.api_v1_provider_core_waybills_filter+".csv").parse({},"?v="+i+n);return e.state.filter_url_params&&(a=a+"&"+e.state.filter_url_params),axios.get(a,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){if("success"==e.data.status){var i=document.createElement("a"),n=new Blob(["\ufeff",e.data.csv]),a=URL.createObjectURL(n),r="clearance"==t.type?"_清關":"";i.href=a,i.download=j()().format("YYYY-MM-DD HH:mm:ss")+r+".csv",document.body.appendChild(i),i.click(),document.body.removeChild(i)}else if("failure"==e.data.status)return Promise.reject("fetch_core_waybills_svg_error")})["catch"](function(e){return Promise.reject("fetch_core_waybills_svg_error")})},handle_filter_url_params:function(e,t){var i=_.cloneDeep(e.state.filter);i.status.created_duration?(i.status.created_at.from=j()(i.status.created_duration[0]).startOf("day").format("YYYY-MM-DDTHH:mm:ss+08:00"),i.status.created_at.to=j()(i.status.created_duration[1]).endOf("day").format("YYYY-MM-DDTHH:mm:ss+08:00"),delete i.status.created_duration):i.status.created_at={},i.condition.updated_duration?(i.condition.updated_at.from=j()(i.condition.updated_duration[0]).startOf("day").format("YYYY-MM-DDTHH:mm:ss+08:00"),i.condition.updated_at.to=j()(i.condition.updated_duration[1]).endOf("day").format("YYYY-MM-DDTHH:mm:ss+08:00"),delete i.condition.updated_duration):i.condition.updated_at={},i.created_duration?(i.created_at.from=j()(i.created_duration[0]).startOf("day").format("YYYY-MM-DDTHH:mm:ss+08:00"),i.created_at.to=j()(i.created_duration[1]).endOf("day").format("YYYY-MM-DDTHH:mm:ss+08:00"),delete i.created_duration):i.created_at={},_.forEach(["number","flight_number","original_number","tracking_number","sender_name","sender_company_name","consignee_name","consignee_company_name","consignee_address","consignee_phone","note"],function(e){i[e]&&(i[e]="%"+i[e]+"%")}),i.operation.number&&(i.operation.number="%"+i.operation.number+"%"),e.commit("set_filter_url_params",object_to_query(i))},clear_filter_url_params:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.commit("set_filter_url_params",""),e.commit("set_filter",_.cloneDeep(e.state.filter_init)),t.operation_number&&(e.state.filter.operation.number=t.operation_number)},set_filter_init:function(e,t){e.commit("set_filter",_.cloneDeep(e.state.filter_init))},set_filter_kay_value:function(e,t){e.commit("set_filter_kay_value",t)}},mutations:{set_core_waybills:function(e,t){e.core_waybills=t},set_push_customers:function(e,t){e.customers.push(t)},set_staffs:function(e,t){e.staffs=t},set_materials:function(e,t){e.materials=t},set_scan_action_prototypes:function(e,t){e.scan_action_prototypes=t},set_condition_status_prototypes:function(e,t){e.condition_status_prototypes=t},set_tool_label:function(e,t){e.tool_label=t},set_pagination:function(e,t){e.current_page=t.current_page,e.total_pages=t.total_pages},set_filter:function(e,t){e.filter=t},set_filter_kay_value:function(e,t){e.filter[t.key]=t.value},set_filter_url_params:function(e,t){e.filter_url_params=t}}},Ae=Ne,Ee={namespaced:!0,state:{pagination:{current_page:null,total_pages:null},filter:{is_advanced_mode:!1,shortcut_keys:["number","provider_note","customer_identity","customer_note","original_file_name","is_done","is_canceled","created_at"],current_shortcut_key:"number",columns:{created_duration:"",begin_at:null,end_at:null,number:null,provider_note:null,customer_identity:null,customer_note:null,original_file_name:null,is_done:!1,is_canceled:!1}},staffs:[]},getters:{},actions:{fetch_staffs:function(e,t){var i=new RestUrl(e.rootState.station.routes.api_v1_station_staffs).parse({},"?"+object_to_query({pagination:!1}));return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.commit("set_staffs",t.data.staffs)})["catch"](function(e){return console.log("Failed to fetch Roles."),Promise.reject(e)})}},mutations:{set_current_page:function(e,t){e.pagination.current_page=t},set_total_pages:function(e,t){e.pagination.total_pages=t},init_filter_columns:function(e){e.filter.columns={begin_at:null,end_at:null,number:null,provider_note:null,customer_identity:null,customer_note:null,original_file_name:null,is_done:!1,is_canceled:!1}},set_staffs:function(e,t){e.staffs=t}}},qe=Ee;function ze(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function je(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){ze(r,n,a,s,o,"next",e)}function o(e){ze(r,n,a,s,o,"throw",e)}s(void 0)})}}var Re,Ie,Te={namespaced:!0,state:{is_setting:!1,is_keydown:!0,config:{theme:{},settings:{},setting_groups:{}},current_setting_group:{},setting_groups:{},quick_setting_regexps:{group:/@@(search|package|unpackage|distributed_to|pack_house_waybill|pack_waybill_goods|LA[0-9]+|LB[0-9]+)@@/i,barcode:/####(LA[0-9]+)####|####(LB[0-9]+)####/i,mode:/##(\w+_mode)_(true|false|min_card|card|detail|Master|House|Waybill|Goods|Package)##/i},settings:{is_scan_mode:!0,is_scan_action_mode:!1,is_batch_mode:!1,is_operation_mode:!0,is_core_waybill_pieces_mode:!0,is_update_corewaybill_mode:!1,is_auto_print_label_mode:!1,is_distributed_to_mode:!1,is_noty_audio_mode:!1,is_speech_mode:!1,is_quick_corewaybill_related_columns:!1,is_package_mode:!1,is_unpackage_mode:!1,pack_p_m_mode:"",pack_m_mode:"",pack_need_source_mode:!1,core_waybill_template_mode:"card"},core_waybills:[],current_core_waybill:{},current_core_waybill_scope:"",scan_action_prototypes:[],current_scan_action_prototype:{name:null,identity:null},jobs:[],current_job:{},is_updated_core_waybill_related_columns:!1,actions_core_waybill_related_columns:{},alert_core_waybill_related_columns_focus_input_name:"",quick_core_waybill_related_columns:{},core_waybill_counters:[],current_pack_taget_parent_material_identity:"",current_pack_taget_material_identity:"",package_response_history:[],package_message:{status:"failure",content:""},package:{source_core_waybill_identity:null,core_waybills:[],parent_core_waybill:{}},distributed_to:{},scan_action_description:"",materials:[]},getters:{is_can_use_setting:function(e,t,i,n){return function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!t)return!1;var i=_.findLast(e.config.settings,function(e){return e==t});return!!i}},current_staff_operation_customer:function(e,t,i,n){return i.station.current_staff_operation&&i.station.current_staff_operation.customer||{}},current_pack_taget_parent_material:function(e,t,i,n){return _.findLast(e.materials,function(t){return t.identity==e.current_pack_taget_parent_material_identity})||{}},current_pack_taget_material:function(e,t,i,n){return _.findLast(e.materials,function(t){return t.identity==e.current_pack_taget_material_identity})||{}},current_scan_action_prototype_description_required_scope:function(e,t,i,n){return e.current_scan_action_prototype.identity?e.current_scan_action_prototype.description_required_scope:[]},current_scan_action_prototype_related_columns:function(e,t,i,n){return e.current_scan_action_prototype.identity?e.current_scan_action_prototype.related_columns:[]},current_core_waybill_need_related_columns:function(e,t,i,n){var a=$.extend(!0,[],t.current_scan_action_prototype_related_columns);if(e.settings.is_batch_mode)return[];if(!a.length)return[];if(!e.current_setting_group.barcode.match(/(LA[0-9]+)/i))return[];if(e.current_core_waybill.source_core_waybill&&_.remove(a,function(t){return e.current_core_waybill.source_core_waybill[t.name]}),_.remove(a,function(t){return e.current_core_waybill[t.name]}),e.current_core_waybill.material&&_.remove(a,function(t){return!!t.material_class_name&&e.current_core_waybill.material.class_name!=t.material_class_name}),e.settings.is_quick_corewaybill_related_columns&&_.remove(a,function(t){return e.state.quick_core_waybill_related_columns[t.name]}),t.current_staff_operation_customer){var r="";_.forEach(a,function(i){r="default_"+i.name,t.current_staff_operation_customer[r]&&(e.actions_core_waybill_related_columns[i.name]=t.current_staff_operation_customer[r])})}return a}},actions:{fetch_scan_action_prototypes:function(e,t){var i=new RestUrl(e.rootState.station.routes.api_v1_station_scan_action_prototypes),n=i.parse({},"");return axios.get(n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){console.log(123),console.log(t),e.commit("set_scan_action_prototypes",_.sortBy(t.data.scan_action_prototypes,"barcode"))})["catch"](function(e){console.log(e),console.log("Failed to fetch ScanActionPrototypes.")})},fetch_materials:function(e,t){var i=new RestUrl(e.rootState.station.routes.api_v1_station_materials).parse({},"");return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status&&e.commit("set_materials",t.data.materials)})["catch"](function(e){return that.errors.push(that.$t("ui.notifications.error.fetch__name",{name:that.$t("models.materials"),reason:": "+that.$t("ui.general.network_abnormality")+","+e.response.status})),Promise.reject(e)})},update_core_waybill_related_columns:function(e,t){var i=e.state.actions_core_waybill_related_columns,n=new RestUrl(e.rootState.station.routes.api_v1_station_core_waybill_update).parse({core_waybill_identity:e.state.current_core_waybill.identity});return axios.post(n,i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return Promise.reject("failed_to_update_core_waybill_related_column");e.state.is_updated_core_waybill_related_columns=!0,e.commit("set_actions_core_waybill_related_columns",{})})},enqueue:function(e,t){var i=!1;if(_.forEach(e.state.quick_setting_regexps,function(e){t.number.match(e)&&(i=!0)}),i)return Promise.reject("quick_setting");var n={id:e.state.jobs.slice(-1).pop()?e.state.jobs.slice(-1).pop().id+1:1,task:t.task,number:t.number,station:t.station,core_waybill:{},core_waybill_scope:"",scan_action_prototype:t.scan_action_prototype,status:"Pending",is_waiting_user_action:!1,is_batch_mode:e.state.settings.is_batch_mode,errors:[]};return e.commit("add_job",n),Promise.resolve()},perform:function(){var e=je(regeneratorRuntime.mark(function e(t,i){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i.status="Processing",e.prev=1,e.next=4,t.dispatch("perform_init",i);case 4:e.t0=i.task,e.next="operation"===e.t0?7:"search"===e.t0?25:35;break;case 7:return e.next=9,t.dispatch("search_core_waybill",i);case 9:return e.next=11,t.dispatch("pack",i);case 11:return e.next=13,t.dispatch("unpack",i);case 13:return e.next=15,t.dispatch("check_quick_core_waybill_related_columns",i);case 15:return e.next=17,t.dispatch("instantiate_scan_action_prototype",i);case 17:return e.next=19,t.dispatch("add_core_waybills_to_operation",i);case 19:return e.next=21,t.dispatch("fetch_statuses",i);case 21:return e.next=23,t.dispatch("distribute",i);case 23:return i.status="Success",e.abrupt("break",37);case 25:return e.next=27,t.dispatch("search_core_waybill",i);case 27:return e.next=29,t.dispatch("pack",i);case 29:return e.next=31,t.dispatch("unpack",i);case 31:return e.next=33,t.dispatch("distribute",i);case 33:return i.status="Success",e.abrupt("break",37);case 35:return i.status="Failure",e.abrupt("return",Promise.reject("task_not_found"));case 37:e.next=50;break;case 39:e.prev=39,e.t1=e["catch"](1),e.t2=e.t1,e.next="quick_setting_not_found"===e.t2?44:"core_waybill_not_found"===e.t2?44:"no_input_number"===e.t2?44:"current_scan_action_prototype_identity"===e.t2?44:"failed_to_instantiate_scan_action_prototype"===e.t2?44:"failed_to_update_core_waybill_related_column"===e.t2?44:"create_core_waybill"===e.t2?46:"scan_action_description_is_empty"===e.t2?46:"core_waybill_related_column_is_empty"===e.t2?46:49;break;case 44:return i.status="Failure",e.abrupt("break",49);case 46:return i.status="Pending",i.is_waiting_user_action=!0,e.abrupt("break",49);case 49:return e.abrupt("return",Promise.reject(e.t1));case 50:return e.abrupt("return",Promise.resolve());case 51:case"end":return e.stop()}},e,null,[[1,39]])}));function t(t,i){return e.apply(this,arguments)}return t}(),perform_init:function(e,t){return t.number?(e.state.is_setting=!1,e.state.current_job=t,e.state.current_core_waybill={},e.state.current_core_waybill_scope="",e.state.actions_core_waybill_related_columns={},e.dispatch("clear_distributed_to"),Promise.resolve()):(t.errors.push("請輸入號碼"),Promise.reject("no_input_number"))},search_core_waybill:function(e,t){var i=new RestUrl(e.rootState.station.routes.api_v1_station_core_waybills_search),n=i.parse({},"?latest_status_scope=operator");return axios.post(n,{number:t.number},{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(){var i=je(regeneratorRuntime.mark(function i(n){return regeneratorRuntime.wrap(function(i){while(1)switch(i.prev=i.next){case 0:if("success"!=n.data.status){i.next=15;break}if(n.data.core_waybill.pieces||(n.data.core_waybill.pieces=1),t.core_waybill=n.data.core_waybill,t.core_waybill_scope=n.data.scope,e.state.current_core_waybill=t.core_waybill,e.state.current_core_waybill_scope=n.data.scope,"new"!=n.data.scope){i.next=8;break}return i.abrupt("return",Promise.reject("create_core_waybill"));case 8:return _.findLast(e.state.core_waybills,function(e){return e.identity==n.data.core_waybill.identity})&&_.remove(e.state.core_waybills,{identity:n.data.core_waybill.identity}),e.state.core_waybills.push(n.data.core_waybill),e.state.core_waybills.length>=10&&e.state.core_waybills.shift(),i.next=13,new Promise(function(t){for(var i="",n=0,a=0,r=["consignee_company_name","consignee_name"];a<r.length;a++){var s=r[a];e.state.current_core_waybill[s]&&(i&&0!=n&&(i+=","),i+=e.state.current_core_waybill[s]),n++}if(e.state.settings.is_speech_mode)if(i){var o=new H.a({onend:function(){return t()},oncancel:function(){return t()}});o.cancel(),isNaN(i)?o.speak(i):o.speak(i.split("").join(" "))}else t();else t()});case 13:i.next=21;break;case 15:i.t0=n.data.errors,i.next="CoreWaybill not found."===i.t0?18:19;break;case 18:return i.abrupt("break",20);case 19:t.errors.push(n.data.errors);case 20:return i.abrupt("return",Promise.reject("core_waybill_not_found"));case 21:case"end":return i.stop()}},i)}));return function(e){return i.apply(this,arguments)}}())},check_quick_core_waybill_related_columns:function(e,t){return e.getters.current_core_waybill_need_related_columns.length&&!e.state.is_updated_core_waybill_related_columns?Promise.reject("core_waybill_related_column_is_empty"):(e.state.settings.is_quick_corewaybill_related_columns&&e.commit("set_actions_core_waybill_related_columns",e.state.quick_core_waybill_related_columns),e.state.is_updated_core_waybill_related_columns=!1,Promise.resolve())},instantiate_scan_action_prototype:function(e,t){var i=!0,n={location:(e.rootState.station.current_staff.station||{}).name},a=new RestUrl(e.rootState.station.routes.api_v1_station_scan_action_prototype_instantiate),r=a.parse({barcode:t.scan_action_prototype.barcode,core_waybill_identity:t.core_waybill.identity},"");if(e.state.settings.is_scan_action_mode&&e.getters.current_scan_action_prototype_description_required_scope.length&&!e.state.scan_action_description)return Promise.reject("scan_action_description_is_empty");e.state.scan_action_description&&(n.description=e.state.scan_action_description);var s=_.findLast(e.state.core_waybill_counters,function(t){return t.identity==e.state.current_core_waybill.identity}),o=_.findIndex(e.state.core_waybill_counters,{identity:e.state.current_core_waybill.identity});if(e.state.settings.is_core_waybill_pieces_mode&&1!=e.state.current_core_waybill.pieces){try{if("-1"==o)throw o=0,s={number:e.state.current_core_waybill.number,identity:e.state.current_core_waybill.identity,core_waybill_pieces:e.state.current_core_waybill.pieces,current_core_waybill_counter:1},e.state.core_waybill_counters.push(s),!1;if(s.current_core_waybill_counter+=1,!(s.current_core_waybill_counter>=e.state.current_core_waybill.pieces))throw!1}catch(c){i=c}e.state.core_waybill_counters.splice(o,1,s),e.dispatch("set_local_storage_core_waybill_counter"),t.core_waybill_pieces=s.core_waybill_pieces,t.current_core_waybill_counter=s.current_core_waybill_counter,t.is_waiting_instantiate_scan_action=!0}return i?axios.post(r,n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(i){if(e.state.scan_action_description="","-1"!=o&&_.remove(e.state.core_waybill_counters,function(t){return t.identity==e.state.current_core_waybill.identity}),"success"!=i.data.status){t.status="Failure";for(var n=0,a=Object.keys(i.data.errors);n<a.length;n++){var r=a[n],s=!0,c=!1,l=void 0;try{for(var u,d=i.data.errors[r][Symbol.iterator]();!(s=(u=d.next()).done);s=!0){var p=u.value;t.errors.push(p)}}catch(m){c=!0,l=m}finally{try{s||null==d["return"]||d["return"]()}finally{if(c)throw l}}}return Promise.reject("failed_to_instantiate_scan_action_prototype")}}):void 0},add_core_waybills_to_operation:function(e,t){if(e.rootState.station.current_staff_operation.identity){var i=new RestUrl(e.rootState.station.routes.api_v1_station_operation_add_core_waybills).parse({operation_identity:e.rootState.station.current_staff_operation.identity},""),n={core_waybill_identities:[t.core_waybill.identity]};return axios.post(i,n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){if("success"==e.data.status)_.includes(e.data.success_core_waybill_identities,function(e){return e==t.core_waybill.identity})||t.errors.push("Failed to add to operation");else if("failure"==e.data.status)return t.errors.push(e.data.errors),Promise.reject("core_waybill_not_found")})}},fetch_statuses:function(e,t){var i=new RestUrl(e.rootState.station.routes.api_v1_station_core_waybill_statuses),n=i.parse({core_waybill_identity:e.state.current_core_waybill.identity},"");return axios.get(n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return Promise.reject("failed_to_fetch_core_waybill_statuses");e.state.current_core_waybill.latest_status=t.data.latest_status,e.state.current_core_waybill.statuses=t.data.statuses})},distribute:function(e,t){if(e.state.settings.is_distributed_to_mode&&t.station.identity){var i=new RestUrl(e.rootState.station.routes.api_v1_station_station_distribute),n=i.parse({station_identity:t.station.identity,core_waybill_identity:e.state.current_core_waybill.identity},"");return axios.post(n,{},{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.state.distributed_to=t.data.distributed_to?t.data.distributed_to:{}})}},pack:function(){var e=je(regeneratorRuntime.mark(function e(t,i){var n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t.state.package_message={status:"",content:""},t.state.settings.is_package_mode){e.next=4;break}return e.abrupt("return",Promise.resolve());case 4:if(n=t.getters.current_pack_taget_parent_material,a=t.getters.current_pack_taget_material,n.class_name){e.next=8;break}throw"請選擇包材";case 8:if(a.class_name){e.next=10;break}throw"請選擇包裝目標";case 10:if(t.state["package"].core_waybills.length||t.state["package"].parent_core_waybill.identity){e.next=19;break}if(i.core_waybill.material.class_name!=n.class_name){e.next=17;break}return e.next=14,t.commit("set_package",i.core_waybill);case 14:return e.abrupt("return",Promise.resolve());case 17:if(i.core_waybill.material.class_name!=a.class_name){e.next=19;break}throw"請掃"+n.name;case 19:if(i.core_waybill.identity==t.state["package"].parent_core_waybill.identity){e.next=35;break}if(i.core_waybill.material.class_name!=n.class_name||i.core_waybill.material.class_name==a.class_name){e.next=28;break}if(!t.state["package"].core_waybills.length){e.next=24;break}return e.next=24,t.dispatch("submit_package",i);case 24:return e.next=26,t.commit("set_package",i.core_waybill);case 26:e.next=35;break;case 28:if(i.core_waybill.material.class_name!=a.class_name){e.next=32;break}t.commit("push_package",i.core_waybill),e.next=35;break;case 32:if(t.state["package"].core_waybills.length){e.next=34;break}throw"請掃"+n.name;case 34:throw"請掃"+n.name+"或"+a.name;case 35:return e.abrupt("return",Promise.resolve());case 38:return e.prev=38,e.t0=e["catch"](0),t.state.package_message={status:"failure",content:"無法包裝["+i.core_waybill.material.name+"]，"+e.t0},e.abrupt("return",Promise.reject());case 42:case"end":return e.stop()}},e,null,[[0,38]])}));function t(t,i){return e.apply(this,arguments)}return t}(),unpack:function(){var e=je(regeneratorRuntime.mark(function e(t,i){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!t.state.settings.is_unpackage_mode){e.next=5;break}return e.next=3,t.commit("set_package",i.core_waybill);case 3:return e.next=5,t.dispatch("submit_package",i);case 5:return e.abrupt("return",Promise.resolve());case 6:case"end":return e.stop()}},e)}));function t(t,i){return e.apply(this,arguments)}return t}(),submit_package:function(e,t){var i=new RestUrl(e.rootState.station.routes.api_v1_station_core_waybills_pack).parse({}),n={parent_core_waybill_identity:e.state["package"].parent_core_waybill.identity,source_core_waybill_identity:e.state.settings.pack_need_source_mode?e.state["package"].source_core_waybill_identity:null,core_waybill_identities:e.state.settings.is_unpackage_mode?[]:_.map(e.state["package"].core_waybills,"identity")};return axios.post(i,n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(i){if("success"!=i.data.status)return t.package_response=i.data,t.errors.push("包裝失敗，"+i.data.errors),Promise.reject("包裝失敗，"+i.data.errors);e.state.package_response_history.push(_.assign(i.data,{id:e.state.package_response_history.slice(-1).pop()?e.state.jobs.slice(-1).pop().id+1:1,is_setting_is_package_mode:e.state.settings.is_package_mode}))})},set_local_storage_core_waybill_counter:function(e,t){var i=[];_.forEach(e.state.core_waybill_counters,function(e){i.push(JSON.stringify(e))}),localStorage.setItem("scanner_core_waybill_counters",i.toString())},set_local_storage_job:function(e,t){var i=[];_.forEach(e.state.jobs,function(e){var t=$.extend(!0,{},e);delete t.core_waybill,i.push(JSON.stringify(t)),i.length>=31&&i.shift()}),localStorage.setItem("scanner_jobs",i.toString())},clear_core_waybill_counter:function(e,t){localStorage.setItem("scanner_core_waybill_counters",""),e.state.core_waybill_counters=[]},clear_job:function(e,t){localStorage.setItem("scanner_jobs",""),e.state.jobs=[]},clear_distributed_to:function(e,t){e.state.distributed_to={}},set_current_operation:function(e,t){e.state.current_operation=t},actions_core_waybill_related_column:function(e,t){e.state.actions_core_waybill_related_columns[t.name]=t.value}},mutations:{push_package:function(e,t){_.findLast(e["package"].core_waybills,t)||e["package"].core_waybills.push(t)},set_package:function(e,t){e["package"]={parent_core_waybill:t,core_waybill_identities:[],core_waybills:[],source_core_waybill_identity:t.identity}},set_actions_core_waybill_related_columns:function(e,t){e.actions_core_waybill_related_columns=t},set_is_updated_core_waybill_related_columns:function(e,t){e.is_updated_core_waybill_related_columns=t},set_scan_action_prototypes:function(e,t){e.scan_action_prototypes=t},set_materials:function(e,t){e.materials=t},add_job:function(e,t){e.jobs.push(t)}}},Oe=Te,Le={namespaced:!0,state:{pagination:{current_page:null,total_pages:null},filter:{is_advanced_mode:!1,shortcut_keys:["username","company_name","email","phone","fax","is_banned"],current_shortcut_key:"username",columns:{username:null,company_name:null,email:null,phone:null,fax:null,is_banned:null}},search_params:{username:null,company_name:null,email:null,phone:null,fax:null,is_banned:null},is_show_filter:!1,provider_contracts:[]},actions:{fetch_provider_contracts:function(e,t){var i=new RestUrl(e.rootState.station.routes.api_v1_station_provider_contracts),n=i.parse({},"");return axios.get(n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.commit("set_provider_contracts",t.data.provider_contracts)})["catch"](function(e){return console.log("Failed to fetch ProviderContracts."),Promise.reject(e)})}},mutations:{set_current_page:function(e,t){e.pagination.current_page=t},set_total_pages:function(e,t){e.pagination.total_pages=t},init_filter_columns:function(e){e.filter.columns={username:null,company_name:null,email:null,phone:null,fax:null,is_banned:null}},set_provider_contracts:function(e,t){e.provider_contracts=t}}},De=Le;function Be(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}window.config=n("a078");var Me=new config,Ue={namespaced:!0,state:{current_node:{},current_staff:{},current_station:{},current_staff_operation:{},current_staff_operations:[],is_enable_permission_validation:!1,routes:{},is_can_use_scanner:!1,service_config:{},theme_menu:[],theme_menu_keys:[],is_auto_gps_station_position_by_60s:!1,is_auto_gps_station_position_once:!1,current_position:{is_first_initialized:!1,status:"",messages:"",latitude:"",longitude:"",address:{country:"",locality:"",political:"",full:""}},notifications:[],operations:[]},getters:{is_current_staff_need_station:function(e,t,i,n){return!e.current_station.identity&&"manager"!=e.current_staff.theme_name},is_current_staff_minimalist_layout:function(e,t,i,n){return"driver"!=e.current_staff.theme_name}},actions:(Re={fetch_station:function(e,t){var i=new RestUrl(e.rootState.station.routes.api_v1_station_me).parse({},"");return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){console.log(t.data),e.commit("set_current_node",t.data.node),e.commit("set_current_station",t.data.station)})["catch"](function(e){console.log("Failed to fetch station.")})},fetch_routes:function(e,t){var i=new RestUrl(e.rootState.settings.station.get_routes_url).parse({},"");return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){var i=t.data.routes;_.forEach(i,function(e,t){i[t]=Me.lms_url+e}),e.commit("set_routes",i)})["catch"](function(e){console.log("Failed to fetch routes.")})}},Be(Re,"fetch_routes",function(e,t){var i=new RestUrl(e.rootState.settings.station.get_routes_url).parse({},"");return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){var i=t.data.routes;_.forEach(i,function(e,t){i[t]=Me.lms_url+e}),e.commit("set_routes",i)})["catch"](function(e){console.log("Failed to fetch routes.")})}),Be(Re,"fetch_current_staff",function(e,t){var i=new RestUrl(e.rootState.station.routes.api_v1_station_staffs_current_staff).parse({},"");return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.commit("set_current_staff",t.data.staff)})["catch"](function(e){console.log("Failed to fetch current staff.")})}),Be(Re,"fetch_current_staff_operations",function(e,t){var i=new RestUrl(e.rootState.station.routes.api_v1_station_operations),n=i.parse({},"?is_done=false&is_canceled=false&staff_identity="+e.state.current_staff.identity);return axios.get(n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status&&e.commit("set_current_staff_operations",t.data.operations)})["catch"](function(e){console.log("Failed to fetch current staff operation.")})}),Be(Re,"fetch_permissions",function(e,t){var i=new RestUrl(e.rootState.station.routes.api_v1_station_permissions),n=i.parse({});return axios.get(n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.commit("set_permissions",t.data.permissions)})["catch"](function(e){console.log("Failed to fetch permissions.")})}),Be(Re,"fetch_customers",function(e,t){var i=new RestUrl(e.rootState.station.routes.api_v1_station_customers).parse({},"?"+object_to_query({pagination:!1}));return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.commit("set_customers",t.data.customers)})["catch"](function(e){console.log("Failed to fetch customers.")})}),Be(Re,"fetch_current_position_address",function(e,t){var i="AIzaSyBB-BKWJ_pcsE0zCmdeYkJfB5KcMaQyB14",n=e.state.current_position.latitude+","+e.state.current_position.longitude,a="https://maps.googleapis.com/maps/api/geocode/json?latlng="+n+"&key="+i;return axios.get(a).then(function(t){console.log("Goolge Geocoding API response",t.data),"OK"==t.data.status?e.dispatch("set_current_position_address",_.head(t.data.results)):console.log("Failed to fetch address for Goolge Geocoding API, because:",t.data.status)})["catch"](function(e){console.log("Failed to fetch address for Goolge Geocoding API.")})}),Be(Re,"update_current_staff_station_identity",function(e,t){var i=new RestUrl(e.rootState.station.routes.api_v1_station_staff_update).parse({identity:e.state.current_staff.identity});return axios.post(i,{station_identity:t.identity},{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(i){e.commit("set_current_staff_station",t)})["catch"](function(e){console.log("Failed to update current_staff_station_identity.")})}),Be(Re,"set_current_staff_operation",function(e,t){e.commit("set_current_staff_operation",t),localStorage.setItem("current_staff_operations_number",t.number?t.number:"")}),Be(Re,"set_current_position",function(e,t){_.forEach(t,function(t,i){e.state.current_position[i]=t})}),Be(Re,"set_current_position_address",function(t,i){t.state.current_position.address.full=i.formatted_address;try{var n=[{name:"country",types:["country","political"]},{name:"locality",types:["administrative_area_level_1","political"],types2:["administrative_area_level_2","political"]},{name:"political",types:["administrative_area_level_3","political"],types2:["locality","political"]}];_.forEach(n,function(e){var n=_.findLast(i.address_components,function(t){return!_.difference(t.types,e.types).length||!(!e.types2||_.difference(t.types,e.types2).length)})||{};t.state.current_position.address[e.name]=n.long_name||""})}catch(e){console.log(e)}console.log("google maps api解析地址為: ",t.state.current_position.address)}),Re),mutations:(Ie={set_routes:function(e,t){e.routes=t},set_current_staff:function(e,t){e.current_staff=t},set_current_staff_operation:function(e,t){e.current_staff_operation=t},set_current_staff_operations:function(e,t){e.current_staff_operations=t},set_current_staff_station:function(e,t){e.current_staff.station_identity=t.identity,e.current_staff.station=t},set_permissions:function(e,t){e.permissions=t},set_current_node:function(e,t){e.current_node=t},set_current_station:function(e,t){e.current_station=t}},Be(Ie,"set_routes",function(e,t){e.routes=t}),Be(Ie,"set_customers",function(e,t){e.customers=t}),Be(Ie,"toggle_notification_is_read",function(e,t){var i=_.find(e.notifications,function(e){return e.identity==t});i.is_read=!0}),Ie),modules:{partitions_module:ke,staffs_module:xe,uploader_module:Se,core_waybills_module:Ae,operations_module:qe,scanner_module:Oe,tool_core_waybill_module:re,customers_module:De}},Fe=Ue;window.config=n("a078");new config;var Ge={namespaced:!0,state:{operator_node:{},requester_node:null,requester_contract:null,waybill_raw_datas:[],waybill_processed_datas:[],receivers:[],converters:[],current_converter:null,conversions:[],open_file_url:null,file_upload_url:"https://air.formosaas.com/api/v1/:app_id/cloud/:access_token/:identity/bucket/:bucket_identity/upload",fetch_converters_url:null,create_operation_url:null,use_waybill_url:null,validate_waybill_url:null,validator:"standard"},getters:{},actions:{set_urls:function(e,t){return new Promise(function(t){e.rootState.current_scope;e.commit("set_open_file_url",e.rootState.customer.routes.api_v1_customer_file_converters_convert),e.commit("set_file_upload_url",new RestUrl(e.rootState.customer.uploader_module.file_upload_url).parse({app_id:e.rootState.customer.customer.air_service.air_app_id,access_token:e.rootState.customer.customer.air_service.air_access_token,identity:e.rootState.customer.customer.air_service.air_identity,bucket_identity:e.rootState.customer.customer.air_service.air_bucket_identity,air_authorization:e.rootState.customer.customer.air_service.air_authorization},"?authorization="+e.rootState.customer.customer.air_service.air_authorization+"&is_froala=true")),e.commit("set_create_operation_url",e.rootState.customer.routes["api_v1_customer_operations_create"]),e.commit("set_fetch_converters_url",e.rootState.customer.routes["api_v1_customer_file_converters"]),e.commit("set_validate_waybill_url",e.rootState.customer.routes["api_v1_customer_core_waybills_usable_core_waybills"]),t()})},fetch_operator_node:function(e,t){e.commit("set_operator_node",e.rootState.customer.customer.provider_node)},fetch_requester_node:function(e,t){e.commit("set_requester_node",e.rootState.customer.customer)},fetch_converters:function(e,t){e.rootState.current_scope;return axios.get(e.state.fetch_converters_url,{headers:{Authorization:localStorage.getItem("customer_authentication_token")}}).then(function(t){console.log(t),"success"==t.data.status?e.commit("set_converters",t.data.converters):t.data.status})["catch"](function(e){})}},mutations:{set_open_file_url:function(e,t){e.open_file_url=t},set_file_upload_url:function(e,t){e.file_upload_url=t},set_create_operation_url:function(e,t){e.create_operation_url=t},set_fetch_converters_url:function(e,t){e.fetch_converters_url=t},set_validate_waybill_url:function(e,t){e.validate_waybill_url=t},set_operator_node:function(e,t){e.operator_node=t},set_requester_node:function(e,t){e.requester_node=t},set_requester_contract:function(e,t){e.requester_contract=t},set_conversions:function(e,t){e.conversions=t},set_converters:function(e,t){e.converters=t},set_waybill_raw_datas:function(e,t){e.waybill_raw_datas=t},set_waybill_processed_datas:function(e,t){e.waybill_processed_datas=t},set_receivers:function(e,t){e.receivers=t},set_current_converter:function(e,t){e.current_converter=t},init:function(e,t){e.operator_node={},e.requester_node=null,e.requester_contract=null,e.waybill_raw_datas=[],e.receivers=[],e.conversions=[],e.receivers=[]}}},He=Ge,Ye={namespaced:!0,state:{current_form_entity_type:!0,current_core_waybill:{},core_waybills:[],current_page:1,total_pages:1,quick_filters:{number:["number","original_number","tracking_number"],info:["consignee_name","consignee_phone","consignee_address","note"]},quick_filter_key:{number:"number",info:"consignee_name"},filter_init:{number:null,tracking_number:null,flight_number:null,sender_name:null,consignee_name:null,consignee_phone:null,consignee_address:null,note:null,is_used:null,created_at:{},operation:{number:null},status:{scope:null,name:null,created_at:{}}},filter:{status:{scope:null,name:null,created_at:{}}},filter_url_params:"",is_show_filter:!1,staffs:[]},getters:{},actions:{fetch_core_waybills:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this,n=new RestUrl(e.rootState.customer.routes.api_v1_customer_core_waybills_filter),a=n.parse({});return a+="?page=",a=t.page?a+t.page:a+e.state.current_page,e.state.filter_url_params&&(a=a+"&"+e.state.filter_url_params),a+="&latest_status_scope=forwarder",axios.get(a,{headers:{Authorization:localStorage.getItem("customer_authentication_token")}}).then(function(n){if(e.commit("set_core_waybills",[]),"success"!=n.data.status)return Promise.reject("fetch_core_waybills_failure");if(e.commit("set_core_waybills",n.data.core_waybills),e.commit("set_pagination",n.data.pagination),!n.data.core_waybills.length)return Promise.reject("fetch_core_waybills_no_anything_core_waybills");if("edit"==t.action){if(console.log("response.data.core_waybills[0]",n.data.core_waybills[0]),!n.data.core_waybills.length)return Promise.reject("fetch_core_waybills_no_anything_core_waybills");i.$router.push({name:"edit_core_waybill",params:{identity:n.data.core_waybills[0].identity}})}})},handle_filter_url_params:function(e,t){var i=_.cloneDeep(e.state.filter);i.status.created_duration?(i.status.created_at.from=j()(i.status.created_duration[0]).startOf("day").format("YYYY-MM-DDTHH:mm:ss+08:00"),i.status.created_at.to=j()(i.status.created_duration[1]).endOf("day").format("YYYY-MM-DDTHH:mm:ss+08:00"),delete i.status.created_duration):i.status.created_at={},i.created_duration?(i.created_at.from=j()(i.created_duration[0]).startOf("day").format("YYYY-MM-DDTHH:mm:ss+08:00"),i.created_at.to=j()(i.created_duration[1]).endOf("day").format("YYYY-MM-DDTHH:mm:ss+08:00"),delete i.created_duration):i.created_at={},_.forEach(["number","flight_number","original_number","tracking_number","sender_name","consignee_name","consignee_address","consignee_phone","note"],function(e){i[e]&&(i[e]="%"+i[e]+"%")}),i.operation.number&&(i.operation.number="%"+i.operation.number+"%"),e.commit("set_filter_url_params",object_to_query(i))},clear_filter_url_params:function(e,t){e.commit("set_filter_url_params",""),e.commit("set_filter",_.cloneDeep(e.state.filter_init)),t.operation_identity&&e.commit("set_filter_kay_value",{key:"operation_identity",value:t.operation_identity})},set_filter_init:function(e,t){e.commit("set_filter",_.cloneDeep(e.state.filter_init))},set_filter_kay_value:function(e,t){e.commit("set_filter_kay_value",t)},set_is_show_waybill_filter:function(e,t){var i=1==t;e.commit("set_is_show_waybill_filter",i)},fetch_core_waybills_csv:function(e,t){var i=Math.floor(Date.now()/1e3),n=t.type?"&csv_tpye="+t.type:null,a=new RestUrl(e.rootState.customer.routes.api_v1_customer_core_waybills_filter+".csv").parse({},"?v="+i+n);return"clearance"==t.type&&(e.state.filter_url_params+="&material[class_names]=House&condition[polarity]=true&status[scope]=forwarder&status[name]=點交"),e.state.filter_url_params&&(a=a+"&"+e.state.filter_url_params),axios.get(a,{headers:{Authorization:localStorage.getItem("customer_authentication_token")}}).then(function(e){if("success"==e.data.status){var i=document.createElement("a"),n=new Blob(["\ufeff",e.data.csv]),a=URL.createObjectURL(n),r="clearance"==t.type?"_清關":"";i.href=a,i.download=j()().format("YYYY-MM-DD HH:mm:ss")+r+".csv",document.body.appendChild(i),i.click(),document.body.removeChild(i)}else if("failure"==e.data.status)return Promise.reject("fetch_core_waybills_svg_error")})["catch"](function(e){return Promise.reject("fetch_core_waybills_svg_error")})}},mutations:{set_core_waybills:function(e,t){e.core_waybills=t},set_staffs:function(e,t){e.staffs=t},set_pagination:function(e,t){e.current_page=t.current_page,e.total_pages=t.total_pages},set_is_show_waybill_filter:function(e,t){e.is_show_waybill_filter=t},set_filter:function(e,t){e.filter=t},set_filter_kay_value:function(e,t){e.filter[t.key]=t.value},set_filter_url_params:function(e,t){e.filter_url_params=t}}},Ke=Ye,We={namespaced:!0,state:{search_count:0,not_useds:[],useds:[]},getters:{},mutations:{}},Ve=We,Xe={namespaced:!0,state:{pagination:{current_page:null,total_pages:null},filter:{is_advanced_mode:!1,shortcut_keys:["number","customer_note","original_file_name","is_done","created_at"],current_shortcut_key:"number",columns:{created_duration:"",begin_at:null,end_at:null,number:null,customer_note:null,original_file_name:null,is_done:!1}},search_params:{begin_at:null,end_at:null,number:null,customer_note:null,original_file_name:null,is_done:!1},is_show_filter:!0},getters:{},actions:{},mutations:{set_current_page:function(e,t){e.pagination.current_page=t},set_total_pages:function(e,t){e.pagination.total_pages=t},init_filter_columns:function(e){e.filter.columns={begin_at:null,end_at:null,number:null,customer_note:null,original_file_name:null,is_done:!1}}}},Qe=Xe,Ze=n("1ccc");window.config=n("a078");var Je=new config,et={namespaced:!0,state:{routes:null,is_can_use_scanner:!0,service_config:{},customer:null,customer_partitions:null},getters:{},actions:{fetch_customer:function(e,t){var i=new RestUrl(e.rootState.customer.routes.api_v1_customer_me).parse({},"");return axios.get(i,{headers:{Authorization:localStorage.getItem("customer_authentication_token")}}).then(function(t){e.commit("set_customer",t.data.customer)})["catch"](function(e){console.log("Failed to fetch customer.")})},fetch_routes:function(e,t){var i=new RestUrl(e.rootState.settings.customer.get_routes_url).parse({},"");return axios.get(i,{headers:{Authorization:localStorage.getItem("customer_authentication_token")}}).then(function(t){var i=t.data.routes;return _.forEach(i,function(e,t){i[t]=Je.lms_url+e}),e.commit("set_routes",i),Promise.resolve()})["catch"](function(e){return Promise.reject("fetch_routes failed")})}},mutations:{set_customer:function(e,t){e.customer=t},set_routes:function(e,t){e.routes=t},set_customer_partitions:function(e,t){e.customer_partitions=t}},modules:{uploader_module:He,core_waybills_module:Ke,partitions_module:Ve,operations_module:Qe,scanner_module:Ze["default"]}},tt=et;r["default"].use(s["a"]),window.config=n("a078");var it=new config,nt=new s["a"].Store({state:{instance_identity:null,settings:{provider:{get_routes_url:it.lms_url+"/v1/provider/routes"},station:{get_routes_url:it.lms_url+"/v1/station/routes"},customer:{get_routes_url:it.lms_url+"/v1/customer/routes"},captcha_url:it.lms_url+"/v1/captcha",login_url:it.lms_url+"/v1/authenticate/:node_identity",out_of_date_url:it.lms_url+"/v1/out_of_date",authorize_url:it.lms_url+"/v1/authorize",default_language:"zh-TW",login_expiration_period:28800,login_expiration_hint_preset:1800},current_scope:null,language:"zh-TW",back_two_page:[],global_setting:{login_expiration_period:28800,login_expiration_hint_preset:1800},routes:{get_routes_url:it.lms_url+"/v1/:app_id/node/:access_token/routes"},is_login:null,initialize_statuses:{top_menu:!1,sidebar:!1,service_theme:!1,main:!1,footer:!1},stations:[],operations:[],core_waybills:[],breadcrumbs:[],permissions:[],current_staff:{},element_ui_datepicker_daterange_options:{shortcuts:[{i18n_key:"ui.el.daterange_option_shortcut.today",text:"今日",onClick:function(e){var t=new Date,i=new Date;i.setTime(i.getTime()),e.$emit("pick",[i.setHours(0,0,0,0),t.setHours(23,59,59,59)])}},{i18n_key:"ui.el.daterange_option_shortcut.three_days",text:"最近三天",onClick:function(e){var t=new Date,i=new Date;i.setTime(i.getTime()-1728e5),e.$emit("pick",[i.setHours(0,0,0,0),t.setHours(23,59,59,59)])}},{i18n_key:"ui.el.daterange_option_shortcut.week",text:"最近一周",onClick:function(e){var t=new Date,i=new Date;i.setTime(i.getTime()-6048e5),e.$emit("pick",[i.setHours(0,0,0,0),t.setHours(23,59,59,59)])}},{i18n_key:"ui.el.daterange_option_shortcut.month",text:"最近一個月",onClick:function(e){var t=new Date,i=new Date;i.setTime(i.getTime()-2592e6),e.$emit("pick",[i.setHours(0,0,0,0),t.setHours(23,59,59,59)])}},{i18n_key:"ui.el.daterange_option_shortcut.three_months",text:"最近三個月",onClick:function(e){var t=new Date,i=new Date;i.setTime(i.getTime()-7776e6),e.$emit("pick",[i.setHours(0,0,0,0),t.setHours(23,59,59,59)])}},{i18n_key:"ui.el.daterange_option_shortcut.six_months",text:"最近半年",onClick:function(e){var t=new Date,i=new Date;i.setTime(i.getTime()-15552e6),e.$emit("pick",[i.setHours(0,0,0,0),t.setHours(23,59,59,59)])}}]}},getters:{test:function(e){return"root"},operation:function(e){return function(t){return _.findLast(e.operations,function(e){return e.identity==t})||{}}},core_waybill:function(e){return function(t){return _.findLast(e.core_waybills,function(e){return e.identity==t})||{}}},station:function(e){return function(t){return _.findLast(e.stations,function(e){return e.identity==t})||{}}},workspace:function(e){return function(t){var i={};return _.forEach(e.stations,function(e){var n=_.findLast(e.workspaces,function(e){return e.identity==t});n&&(i=n,i.station=e)}),i}},current_station:function(e){return _.findLast(e.provider.stations,function(t){return t.identity==e.provider.current_staff.station_identity})||{identity:null,name:null}},current_operation:function(e){return _.findLast(e.operations,function(t){return t.identity==e.route.params.operation_identity})},current_core_waybill:function(e,t){if(t.current_operation)return _.findLast(e.core_waybills,function(t){return t.identity==e.route.params.core_waybill_identity})}},actions:{},mutations:{set_current_scope:function(e,t){e.current_scope=t}},modules:{admin:d,provider:we,station:Fe,customer:tt}}),at=nt,rt=n("8c4f"),st=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"index"}},[i("div",{staticClass:"ui middle aligned center aligned grid"},[i("div",{staticClass:"column"},[e._m(0),i("h1",{staticClass:"ui header"},[e._v("\n                "+e._s(e.$t("ui.pages.partials.page_404.cant_find_page"))+"\n            ")])])])])},ot=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("h1",{staticClass:"ui header"},[i("i",{staticClass:"red huge warning icon"}),e._v("\n                404 not found.\n            ")])}],ct={props:{},data:function(){return{is_loading:!1}},mounted:function(){var e=this;e.set_breadcrumbs()},watch:{$route:function(e,t){var i=this;i.set_breadcrumbs()}},methods:{set_breadcrumbs:function(){var e=this,t={route_name:"page_404",name:"找不到頁面"};e.$store.state.breadcrumbs=[t]}},components:{},computed:{}},_t=ct,lt=(n("9285"),n("2877")),ut=Object(lt["a"])(_t,st,ot,!1,null,"95be3ebe",null),dt=ut.exports,pt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"layout"}},[i("div",{staticClass:"ui fluid container",staticStyle:{padding:"0 15px"}},[i("div",{staticClass:"ui stackable grid"},[i("div",{staticClass:"three wide column"},[e.is_initialized?i("Sidebar"):e._e()],1),i("div",{staticClass:"thirteen wide column"},[i("TopMenu"),i("div",{staticClass:"ui main segment",staticStyle:{"min-height":"60%"}},[i("Breadcrumb"),e.is_initialized?i("router-view"):e._e()],1),i("FooterBar")],1)])])])},mt=[],ft=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"standard sidebar"},[i("div",{staticClass:"ui secondary vertical menu",attrs:{"data-step":"1","data-position":"right","data-intro":"Welcome to Admin"}},[i("nav",[i("a",{attrs:{href:"#"}},[i("img",{staticClass:"ui image",attrs:{src:"/images/"+e.$store.state.provider.service_config.logo_img}})]),i("a",{staticClass:"hamburger hamburger--spin",on:{click:function(t){e.toggle_menu()}}},[e._m(0)])]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"nav-menu"},[i("router-link",{staticClass:"item",attrs:{to:{name:"converters"}}},[i("i",{staticClass:"icons"},[i("i",{staticClass:"book large icon"}),i("span",[e._v(" Converters ")])])])],1)])])},vt=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"hamburger-box"},[i("span",{staticClass:"hamburger-inner"})])}],ht={props:{},data:function(){return{}},computed:{},watch:{$route:function(e,t){var i=this;i.menu_active(),767>$(window).width()&&"block"==$(".nav-menu").css("display")&&i.toggle_menu()}},mounted:function(){var e=this;e.menu_active(),$(window).resize(function(){var e=$(window).width(),t=$(".nav-menu").css("display");"none"==t&&e>767&&$(".nav-menu").css("display","block")})},methods:{menu_active:function(){$(".nav-menu a.item").each(function(){$(this).removeClass("active"),window.location.href.includes(this.href)&&$(this).addClass("active")})},toggle_menu:function(){$("body").toggleClass("overflow"),$(".hamburger").toggleClass("active"),$(".nav-menu").stop().slideToggle(300)}}},gt=ht,bt=(n("f221"),Object(lt["a"])(gt,ft,vt,!1,null,null,null)),yt=bt.exports,wt=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},kt=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui text menu quick_action"},[i("div",{staticClass:"right menu"})])}],Ct={mounted:function(){$(document).ready(function(){$(document).delegate(".quick_link_select .menu .item","click",function(e){window.location=$(this).data("url")})})},computed:{},methods:{}},xt=Ct,Pt=Object(lt["a"])(xt,wt,kt,!1,null,null,null),St=Pt.exports,Nt=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},At=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui footer segment"},[i("div",{staticClass:"ui center aligned container"},[i("div",{staticClass:"ui horizontal inverted small divided list"},[i("p",[e._v("\n                Copyright © 2018 Genki Inc. All rights reserved\n            ")])])]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui horizontal list"})])}],Et={},qt=Object(lt["a"])(Et,Nt,At,!1,null,null,null),zt=qt.exports,jt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"breadcrumb"}},[i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui breadcrumb"},[i("i",{staticClass:"icon refresh pointer",staticStyle:{cursor:"pointer"},on:{click:e.refresh}}),e._v("目前位置：\n        "),i("router-link",{staticClass:"section",attrs:{to:{name:"index"}}},[e._v("首頁")]),e._l(e.$store.state.breadcrumbs,function(t,n){return i("span",[t?i("i",{staticClass:"right chevron icon divider"}):e._e(),n==e.$store.state.breadcrumbs.length-1?i("span",[i("div",{staticClass:"section",domProps:{innerHTML:e._s(t.name)}})]):i("span",[i("router-link",{staticClass:"active section",attrs:{to:{name:t.route_name}},domProps:{innerHTML:e._s(t.name)}})],1)])})],2),i("div",{staticClass:"ui divider"})])},Rt=[],It={computed:{},methods:{refresh:function(){location.reload()}}},Tt=It,Ot=Object(lt["a"])(Tt,jt,Rt,!1,null,null,null),Lt=Ot.exports;function Dt(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function Bt(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){Dt(r,n,a,s,o,"next",e)}function o(e){Dt(r,n,a,s,o,"throw",e)}s(void 0)})}}var Mt={data:function(){return{is_initialized:!1}},computed:{},created:function(){console.log("Layout created");var e=this;e.init()},mounted:function(){console.log("Layout mounted")},watch:{},methods:{init:function(){var e=Bt(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.$noty.information("Admin"+t.$t("ui.general.initialize_complete")),t.is_initialized=!0});case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{Sidebar:yt,TopMenu:St,FooterBar:zt,Breadcrumb:Lt}},Ut=Mt,Ft=(n("92fe"),Object(lt["a"])(Ut,pt,mt,!1,null,null,null)),Gt=Ft.exports,Ht=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"provider"}},[i("div",{staticClass:"ui fluid container"},[!0===e.$store.state.is_login?i("div",{staticClass:"ui stackable grid"},[e.$store.getters["provider/is_current_staff_minimalist_layout"]?i("div",{staticClass:"three wide column"},[e.$store.state.initialize_statuses.service_theme?i("Sidebar"):i("img",{staticClass:"loading_mock opacity_fade",attrs:{src:"/images/loading_darken/sidebar.png",alt:""}})],1):e._e(),i("div",{staticClass:"thirteen wide column",class:{centered:!e.$store.getters["provider/is_current_staff_minimalist_layout"]}},[e.$store.state.initialize_statuses.top_menu?i("TopMenu"):i("img",{staticClass:"loading_mock opacity_fade",attrs:{src:"/images/loading_darken/top_menu.png",alt:""}}),e.$store.state.initialize_statuses.main?i("Breadcrumb"):i("img",{staticClass:"loading_mock opacity_fade",attrs:{src:"/images/loading_darken/breadcrumb.png",alt:""}}),i("div",{staticClass:"ui main",staticStyle:{"min-height":"calc(100vh - 250px)"}},[e.$store.state.initialize_statuses.main?i("router-view"):i("img",{staticClass:"loading_mock opacity_fade",attrs:{src:"/images/loading_darken/main.png",alt:""}})],1),i("div",{staticClass:"clear"}),e.$store.state.initialize_statuses.footer?i("FooterBar"):i("img",{staticClass:"loading_mock opacity_fade",attrs:{src:"/images/loading_darken/footer.png",alt:""}}),i("Advertising"),i("SystemInfo")],1),e.$store.state.initialize_statuses.main?i("StationsModal"):e._e(),e.$store.state.initialize_statuses.main?i("ScannerModal"):e._e()],1):!1===e.$store.state.is_login?i("div",[i("div",{staticClass:"ui container"},[i("Login"),i("FooterBar")],1)]):i("div",{staticClass:"ui inverted dimmer transition visible active",staticStyle:{display:"block !important"}},[i("div",{staticClass:"ui text loader"},[e._v("\n                "+e._s(e.$t("ui.general.verify_staff"))+"...\n            ")])])]),i("div",{ref:"login_expiration_hint_modal",staticClass:"ui basic modal"},[i("div",{staticClass:"ui icon header"},[i("i",{staticClass:"wait icon"}),e._v("\n            "+e._s(e.$t("ui.pages.partials.login_expiration_hint_modal.idle"))+"\n        ")]),i("div",{staticClass:"content",staticStyle:{color:"white"}},[i("p",[e._v("\n                "+e._s(e.$t("ui.pages.partials.login_expiration_hint_modal.content",{time:e.human_remaining_time}))+"\n            ")])]),i("div",{staticClass:"actions"},[i("div",{staticClass:"ui green ok inverted button",on:{click:e.extend_login_timeout}},[i("i",{staticClass:"checkmark icon"}),e._v("\n                "+e._s(e.$t("ui.pages.partials.login_expiration_hint_modal.i_am_back"))+"\n            ")])])]),e.$store.state.is_login&&e.$store.state.provider.is_can_use_scanner?i("div",{staticClass:"icon_toggle_scanner_modal pointer mobile only",class:{hide:e.is_hide_icon_toggle_scanner_modal},on:{click:function(t){e.$bus.$emit("toggle_scanner_modal")}}},[i("i",{staticClass:"large circular inverted icon z-depth-2",class:{barcode:!e.is_scanner_modal_opend,"red remove":e.is_scanner_modal_opend}})]):e._e()])},Yt=[],Kt=n("9431"),Wt=Kt["a"],Vt=(n("e93b"),Object(lt["a"])(Wt,Ht,Yt,!1,null,null,null)),Xt=Vt.exports,Qt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"customer"}},[i("div",{staticClass:"ui fluid container"},[!0===e.$store.state.is_login?i("div",{staticClass:"ui stackable grid"},[i("div",{staticClass:"three wide column"},[e.$store.state.initialize_statuses.main?i("Sidebar"):i("img",{staticClass:"loading_mock opacity_fade",attrs:{src:"/images/loading_darken/sidebar.png",alt:""}})],1),i("div",{staticClass:"thirteen wide column"},[e.$store.state.initialize_statuses.main?i("TopMenu"):i("img",{staticClass:"loading_mock opacity_fade",attrs:{src:"/images/loading_darken/top_menu.png",alt:""}}),i("div",{staticClass:"ui main segment",staticStyle:{"min-height":"calc(100vh - 250px)"}},[e.$store.state.initialize_statuses.main?i("Breadcrumb"):i("img",{staticClass:"loading_mock opacity_fade",attrs:{src:"/images/loading_darken/breadcrumb.png",alt:""}}),e.$store.state.initialize_statuses.main?i("router-view"):i("img",{staticClass:"loading_mock opacity_fade",attrs:{src:"/images/loading_darken/main.png",alt:""}})],1),e.$store.state.initialize_statuses.main?i("FooterBar"):i("img",{staticClass:"loading_mock opacity_fade",attrs:{src:"/images/loading_darken/footer.png",alt:""}})],1),e.$store.state.initialize_statuses.main?i("ScannerModal"):e._e()],1):!1===e.$store.state.is_login?i("div",[i("div",{staticClass:"ui container"},[i("Login"),i("FooterBar")],1)]):i("div",{staticClass:"ui inverted dimmer transition visible active",staticStyle:{display:"block !important"}},[i("div",{staticClass:"ui text loader"},[e._v("\n                "+e._s(e.$t("ui.general.verify_staff"))+"...\n            ")])])]),i("div",{ref:"login_expiration_hint_modal",staticClass:"ui basic modal"},[i("div",{staticClass:"ui icon header"},[i("i",{staticClass:"wait icon"}),e._v("\n            "+e._s(e.$t("ui.pages.partials.login_expiration_hint_modal.idle"))+"\n        ")]),i("div",{staticClass:"content",staticStyle:{color:"white"}},[i("p",[e._v("\n                "+e._s(e.$t("ui.pages.partials.login_expiration_hint_modal.content",{time:e.human_remaining_time}))+"\n            ")])]),i("div",{staticClass:"actions"},[i("div",{staticClass:"ui green ok inverted button",on:{click:e.extend_login_timeout}},[i("i",{staticClass:"checkmark icon"}),e._v("\n                "+e._s(e.$t("ui.pages.partials.login_expiration_hint_modal.i_am_back"))+"\n            ")])])]),e.$store.state.is_login&&e.$store.state.customer.is_can_use_scanner?i("div",{staticClass:"icon_toggle_scanner_modal pointer mobile only",class:{hide:e.is_hide_icon_toggle_scanner_modal},on:{click:function(t){e.$bus.$emit("toggle_scanner_modal")}}},[i("i",{staticClass:"large circular inverted icon z-depth-2",class:{barcode:!e.is_scanner_modal_opend,"red remove":e.is_scanner_modal_opend}})]):e._e()])},Zt=[],Jt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"standard sidebar"},[i("div",{staticClass:"ui secondary vertical menu",attrs:{"data-step":"1","data-position":"right","data-intro":"歡迎來到客戶端"}},[i("nav",[i("router-link",{attrs:{to:{name:"customer_index"}}},[i("img",{staticClass:"ui image",attrs:{src:"/images/"+e.service_config.logo_img}})]),i("a",{staticClass:"hamburger hamburger--spin",on:{click:function(t){e.toggle_menu()}}},[e._m(0)])],1),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"nav-menu"},[i("router-link",{staticClass:"item",attrs:{to:{name:"customer_operations"}}},[i("i",{staticClass:"icons"},[i("i",{staticClass:"file large icon"}),i("span",[e._v(" "+e._s(e.$t("ui.links.menu.provider_operations"))+" ")])])]),i("router-link",{staticClass:"item",attrs:{to:{name:"customer_uploader"}}},[i("i",{staticClass:"icons"},[i("i",{staticClass:"upload large icon"}),i("span",[e._v(" "+e._s(e.$t("ui.links.menu.uploader"))+" ")])])]),i("router-link",{staticClass:"item",attrs:{to:{name:"customer_core_waybills"}}},[i("i",{staticClass:"icons"},[i("i",{staticClass:"archive large icon"}),i("span",[e._v(" "+e._s(e.$t("ui.links.menu.core_waybills"))+" ")])])])],1)])])},ei=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"hamburger-box"},[i("span",{staticClass:"hamburger-inner"})])}],ti={props:{},data:function(){return{}},computed:{service_config:function(){return this.$store.state.customer.service_config}},watch:{$route:function(e,t){var i=this;i.menu_active(),767>$(window).width()&&"block"==$(".nav-menu").css("display")&&i.toggle_menu()}},mounted:function(){var e=this;e.menu_active(),$(window).resize(function(){var e=$(window).width(),t=$(".nav-menu").css("display");"none"==t&&e>767&&$(".nav-menu").css("display","block")})},methods:{menu_active:function(){$(".nav-menu a.item").each(function(){$(this).removeClass("active"),window.location.href.includes(this.href)&&$(this).addClass("active")})},toggle_menu:function(){$("body").toggleClass("overflow"),$(".hamburger").toggleClass("active"),$(".nav-menu").stop().slideToggle(300)}}},ii=ti,ni=(n("055e"),Object(lt["a"])(ii,Jt,ei,!1,null,null,null)),ai=ni.exports,ri=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{margin:"1rem 0"},attrs:{id:"top_menu"}},[i("div",{staticClass:"ui floated right compact menu"},[e.is_can_use_scanner?i("div",{staticClass:"item mobile hidden",attrs:{"data-tooltip":e.$t("ui.links.top_menu.scanner")+"（"+e.$t("ui.general.hot_key")+"：Ctrl + Q）","data-position":"bottom center"}},[i("div",{staticClass:"ui icon button",on:{click:function(t){e.$bus.$emit("toggle_scanner_modal","show")}}},[i("i",{staticClass:"barcode large icon"})])]):i("div",{staticClass:"item",attrs:{"data-tooltip":e.$t("ui.general.cannot_use"),"data-position":"bottom center"}},[e._m(0)]),i("div",{staticClass:"item",attrs:{"data-tooltip":e.$t("ui.links.top_menu.language"),"data-position":"bottom center"}},[i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui icon dropdown top right pointing button"},[i("i",{staticClass:"globe large icon"}),i("div",{staticClass:"menu"},[i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("zh-TW")}}},[e._v("繁體")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("zh-CN")}}},[e._v("简体")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("en-US")}}},[e._v("English")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("ja-JP")}}},[e._v("日本語")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("es-ES")}}},[e._v("Español")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("vi-VN")}}},[e._v("Tiếng Việt")])])])]),i("div",{staticClass:"item",staticStyle:{padding:".5em 0 .5em .5em"}},[i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui icon dropdown top right pointing button"},[i("i",{staticClass:"setting large icon"}),i("div",{staticClass:"menu"},[i("div",{staticClass:"header"},[e._v("\n                        "+e._s(e.current_customer_name)+"\n                    ")]),i("a",{staticClass:"item",on:{click:e.$parent.show_login_timeout_hint}},[e._v("\n                        "+e._s(e.$t("ui.links.top_menu.overtime_note"))+"\n                    ")]),i("a",{staticClass:"item",on:{click:e.$parent.logout}},[e._v("\n                        "+e._s(e.$t("ui.links.top_menu.logout"))+"\n                    ")])])])]),i("div",{staticClass:"item"},[i("SpeedTest")],1)]),i("div",{staticClass:"clear"})])},si=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui icon button"},[i("i",{staticClass:"red barcode large icon"})])}],oi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui item dropdown",attrs:{id:"top_menu_partitions"}},[e.customer_partitions.length>1?i("div",[e._v("\n        您有"+e._s(e.customer_partitions.length)+"組 區間號碼\n        "),i("i",{staticClass:"dropdown icon"})]):1==e.customer_partitions.length?i("div",{staticClass:"only_one partition"},[e._v("\n        您的號碼區間為\n        "),e._l(e.customer_partitions,function(e){return i("Partition",{key:e.identity,attrs:{partition:e}})})],2):i("div",[e._v("\n        您尚未被受理任何 號碼區間\n    ")]),e.customer_partitions.length>1?i("div",{staticClass:"menu"},e._l(e.customer_partitions,function(e){return i("Partition",{key:e.identity,attrs:{partition:e}})})):e._e()])},ci=[],_i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("p",{staticClass:"item",attrs:{id:"top_menu_partition"}},[i("span",{attrs:{"data-tooltip":"字軌","data-position":"bottom left"}},[e._v("\n        "+e._s(e.partition.prefix)+"\n    ")]),i("span",{staticStyle:{"text-decoration":"underline"}},[i("span",{attrs:{"data-tooltip":"起始號碼","data-position":"bottom center"}},[e._v("\n            "+e._s(e.integer_rjust(e.partition.from_number,e.partition.digit,"0"))+"\n        ")]),i("span",[e._v(" ~ ")]),i("span",{attrs:{"data-tooltip":"結束號碼","data-position":"bottom center"}},[e._v("\n            "+e._s(e.integer_rjust(e.partition.to_number,e.partition.digit,"0"))+"\n        ")])]),i("span",[e._v(" (共"+e._s(e.partition.to_number-e.partition.from_number+1)+"筆) ")])])},li=[],ui={props:{partition:Object},mounted:function(){},computed:{},methods:{integer_rjust:function(e,t,i){return e.toString().rjust(t,i)}}},di=ui,pi=Object(lt["a"])(di,_i,li,!1,null,null,null),mi=pi.exports,fi={mounted:function(){},computed:{customer_partitions:function(){return this.$store.state.customer.customer_partitions}},methods:{integer_rjust:function(e,t,i){return e.toString().rjust(t,i)}},components:{Partition:mi}},vi=fi,hi=(n("53c1"),Object(lt["a"])(vi,oi,ci,!1,null,"41050e68",null)),gi=hi.exports,bi=n("16e6"),yi={data:function(){return{is_development:"development"==ENV.NODE_ENV}},mounted:function(){var e=this;$(document).ready(function(){$(document).delegate(".quick_link_select .menu .item","click",function(t){window.location=$(e).data("url")})})},computed:{is_can_use_scanner:function(){return this.$store.state.customer.is_can_use_scanner},current_customer_name:function(){return this.$store.state.customer.customer.company_name},customer_partitions:function(){return this.$store.state.customer_partitions}},methods:{change_i18n:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"zh-TW";localStorage.setItem("language",e),this.$store.state.language=e},set_current_station:function(){$(".ui.basic.stations.modal").modal("setting","closable",!1).modal("show")}},components:{SpeedTest:bi["a"],Partitions:gi}},wi=yi,$i=(n("4424"),n("326c"),Object(lt["a"])(wi,ri,si,!1,null,"e7883948",null)),ki=$i.exports,Ci=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui footer segment"},[i("div",{staticClass:"ui center aligned container"},[i("div",{staticClass:"ui horizontal inverted small divided list"},[i("p",[e._v("\n                Copyright © "+e._s(e.current_year)+" Genki Inc. All rights reserved\n            ")])])]),i("div",{staticClass:"ui divider"}),"forever.tw568.com"!=e.host?i("div",{staticClass:"ui horizontal list"},[e._m(0),e._m(1),e._m(2),e._m(3),e._m(4)]):e._e()])},xi=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"item"},[i("img",{staticStyle:{height:"50px"},attrs:{src:"/images/tw568_logo.png"}})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"item"},[i("img",{staticStyle:{height:"50px"},attrs:{src:"/images/neuron_logo.png"}})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"item"},[i("img",{staticStyle:{height:"50px"},attrs:{src:"/images/by_express_logo.jpg"}})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"item"},[i("img",{staticStyle:{height:"50px"},attrs:{src:"/images/t_cat_logo.jpg"}})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"item"},[i("img",{staticStyle:{height:"50px"},attrs:{src:"/images/hct_logo.png"}})])}],Pi={props:{},data:function(){return{host:window.location.hostname}},computed:{current_year:function(){return(new Date).getFullYear()}}},Si=Pi,Ni=Object(lt["a"])(Si,Ci,xi,!1,null,null,null),Ai=Ni.exports,Ei=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"breadcrumb"}},[i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui breadcrumb"},[i("i",{staticClass:"icon refresh pointer",staticStyle:{cursor:"pointer"},on:{click:function(t){e.refresh()}}}),e._v("\n        "+e._s(e.$t("ui.page_titles.current_page"))+"：\n        "),i("router-link",{staticClass:"section",attrs:{to:{name:"customer_index"}}},[e._v("\n            "+e._s(e.$t("ui.page_titles.index"))+"\n        ")]),e._l(e.$store.state.breadcrumbs,function(t,n){return i("span",[t?i("i",{staticClass:"right chevron icon divider"}):e._e(),n==e.$store.state.breadcrumbs.length-1?i("span",[i("div",{staticClass:"section"},[e._v("\n                    "+e._s(e.$t("ui.page_titles."+t))+"\n                ")])]):i("span",[i("router-link",{staticClass:"active section",attrs:{to:{name:t}}},[e._v("\n                    "+e._s(e.$t("ui.page_titles."+t))+"\n                ")])],1)])})],2),i("div",{staticClass:"ui divider"})])},qi=[],zi={computed:{},methods:{refresh:function(){console.log("customer refresh"),this.$bus["_events"]["init"]?this.$bus.$emit("init"):location.reload()}}},ji=zi,Ri=Object(lt["a"])(ji,Ei,qi,!1,null,null,null),Ii=Ri.exports,Ti=n("8115"),Oi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui container",attrs:{id:"login"}},[i("div",{staticClass:"mobile hidden"},[i("h1",{staticClass:"ui center aligned header"},[e._v("\n            "+e._s(e.$t("ui.pages.login.customer_management_login"))+"\n        ")]),i("div",{staticClass:"ui divider"})]),i("div",{staticClass:"ui middle aligned center aligned doubling two column grid"},[i("div",{staticClass:"column"},[i("h2",{staticClass:"ui teal header"},[i("div",{staticClass:"content"},["forever.tw568.com"==e.host?i("img",{staticClass:"ui image",attrs:{src:"/images/lms_forever_logo.png"}}):i("img",{staticClass:"ui image",attrs:{src:"/images/lms_logo.png"}})])])]),i("div",{staticClass:"column"},["forever.tw568.com"==e.host?i("h1",[i("p",{staticStyle:{margin:"0"}},[e._v("清關報告查詢")]),i("h2",{staticStyle:{margin:"0"}},[e._v("國外代理登入")])]):i("h1",{staticClass:"ui center aligned header mobile only"},[e._v("\n                "+e._s(e.$t("ui.pages.login.customer_management_login"))+"\n            ")]),i("h3",{staticClass:"noty"},[e._v("\n                "+e._s(e.$t("ui.pages.login.please_enter_your_account_and_password"))+"\n\n                "),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui dropdown item",staticStyle:{position:"absolute",right:"0"}},[e._v("\n                    "+e._s(e.$t("ui.links.top_menu.language"))+"\n                    "),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},[i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("zh-TW")}}},[e._v("繁體")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("zh-CN")}}},[e._v("简体")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("en-US")}}},[e._v("English")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("ja-JP")}}},[e._v("日本語")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("es-ES")}}},[e._v("Español")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("vi-VN")}}},[e._v("Tiếng Việt")])])])]),i("NotificationBox",{attrs:{notification:e.notification}}),i("ErrorBox",{attrs:{errors:e.errors}}),i("div",{staticClass:"ui large form",on:{submit:function(e){e.preventDefault()}}},[i("div",{staticClass:"ui stacked segment"},[i("div",{staticClass:"field"},[i("div",{staticClass:"ui left icon input"},[i("i",{staticClass:"user icon"}),i("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{type:"text",name:"username",placeholder:e.$t("ui.pages.login.account"),required:""},domProps:{value:e.username},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.focus_input("password")},input:function(t){t.target.composing||(e.username=t.target.value)}}})])]),i("div",{staticClass:"field"},[i("div",{staticClass:"ui left icon input"},[i("i",{staticClass:"lock icon"}),i("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],ref:"password",attrs:{type:"password",name:"password",placeholder:e.$t("ui.pages.login.password"),required:""},domProps:{value:e.password},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.focus_input("captcha")},input:function(t){t.target.composing||(e.password=t.target.value)}}})])]),e.need_captcha?i("div",{staticClass:"field"},[e.captcha_image_base64?i("img",{staticClass:"captcha",attrs:{src:"data:image/jpg;base64,"+e.captcha_image_base64,alt:"captcha"},on:{click:e.render_captcha}}):e._e(),i("input",{directives:[{name:"model",rawName:"v-model",value:e.captcha_user_answer,expression:"captcha_user_answer"}],ref:"captcha",attrs:{type:"text",placeholder:e.$t("ui.pages.login.verification_code"),required:""},domProps:{value:e.captcha_user_answer},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.submit(t):null},input:function(t){t.target.composing||(e.captcha_user_answer=t.target.value)}}})]):e._e(),e.is_development?i("button",{staticClass:"ui large basic red button",staticStyle:{width:"48%"},on:{click:e.auto_input}},[e._v("\n                        "+e._s(e.$t("ui.pages.login.btns.auto_input_test_account"))+"\n                    ")]):e._e(),i("button",{staticClass:"ui large teal submit button",class:{loading:e.is_logging},staticStyle:{width:"48%"},attrs:{type:"submit"},on:{click:e.submit}},[e._v("\n                        "+e._s(e.$t("ui.pages.login.btns.login"))+"\n                    ")])])])],1)])])},Li=[],Di=n("bab4"),Bi=n("bc4d");function Mi(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function Ui(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){Mi(r,n,a,s,o,"next",e)}function o(e){Mi(r,n,a,s,o,"throw",e)}s(void 0)})}}var Fi,Gi,Hi={props:{},data:function(){return{host:window.location.hostname,is_development:"development"==ENV.NODE_ENV,is_initialized:!1,is_processing:!1,password:null,username:null,encrypted_answer:null,captcha_user_answer:null,captcha_image_base64:null,notification:{},errors:[],need_captcha:"true"==localStorage.getItem("customer_need_captcha"),is_logging:!1}},computed:{login_url:function(){return"electron"==ENV.VUE_APP_BUILD_ENV?new RestUrl(this.$store.state.settings.login_url).parse({node_identity:window.LICENSE_KEY},"?captcha="+this.need_captcha):"development"==ENV.NODE_ENV?new RestUrl(this.$store.state.settings.login_url).parse({node_identity:ENV.VUE_APP_CURRENT_NODE_IDENTITY},"?captcha="+this.need_captcha):new RestUrl(this.$store.state.settings.login_url).parse({node_identity:""},"?captcha="+this.need_captcha)},captcha_url:function(){return this.$store.state.settings.captcha_url}},created:function(){this.init()},mounted:function(){},watch:{},methods:{init:function(){var e=Ui(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,e.prev=1,!t.need_captcha){e.next=8;break}return t.captcha_image_base64="iVBORw0KGgoAAAANSUhEUgAAATYAAABQCAYAAACTZllaAAAXyklEQVR4Xu2db2wU6X3HvzM7axjDGq99NbnYjqlDXVAKGDbh4ia9I8YoL0LbUypTNa0CTSUD6ZsLamVLlxenKifhtLrjTXKcX1Tm1KtUrCaXyjn1gqHQRPGFnMEcTTg5Ph8ONglw9hL/W5ud3emLmd/Ds7Oz86z/suz9PhLCO/PMv2ee5/v8/jwzowGw4RIOh6FpGnRdx/z8PEzTxPz8PAKxsSw0LRy8PnAtkEZSUYJhmGLFtm3ouo5IJALLsjA7O4uSkhJoAOxIJIJUKoWFhQWkUikYhgHLslT7BABoSulREVIVCMRGfufJMEzxsWHDBszOzmYtNzRNQzqdxtzcnFioaRqqqqpg2zbu3buXtdFiUBt0wSWWL5wMwxQriUQCuq5D13WUlpYCAKamphyLjQpVVFRgdnYWCwsLQfvyECw8KlmyoQeuV2+fUpRgGKaYKSkpgWEYmcbZxo0b7UQikeGCVlVVYWZmBpZl4cGDB4E7VaHpwdJkp9XStbz1DMMUK0888QQ+/PBD8ds0TSQSCRgzMzMAgFAoBMuysHnzZvT396O2thaGYSCdTgfsVm1S6VqwRaaSpXRK4apqqj0wDFOsjI2NYf/+/bh9+zbm5uagaRpCoZDjioZCIZimiZmZGRiGgWQyiWTSyTYahgFNU1lVDMMwjwZZn0zTxMLCAnTTNJFKpUCWG2VD5+bmxPQPhmGYQiYajQJuMiEcDkPTdd1Op9PQNA2UIbVtG/IyhmGYQkXTNBiGgVQqJea1BQfAGIZhHkNY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKToMVYHlcj9hofvnv0H35du4dntGVZxZQ3Z9fCOO7P04jnzmSZSbq94UGGbNWNUXTQ6OT+PZf30Xo3HFR5eZR0pddD3e+NpONFZHVEUZpuBY0xdNDo5PY993rrCoPQaMxuex7ztXMDg+rSrKMI8FqyJs9xMWnv3Xd/G7ef5K++PC7+ade3Y/wfeMefxZFWHr/vlvHqml1tJQgZaGCtRXmqqiOaF9RNc49hSriaC9uQ5wz6G9uQ7nju1GrMZxE5dzTSpG4/Po/vlvVMUYpuBZlV7bffm2qoiS9uY6nDy4VVUMABBPWKh4/pL4fe7YbgBAR+8wOi+MBmzp0NJQIYSDoGN39Y9jZCIhlscTFgZuTeGdE3uz9gMAn37pMgbGcrt0LQ0V4m9ZrOorzYx1fUOTiNVExHlES8OImgbOHt4BADh05nrGea0U3Zdv47mna1XFGKagWRVhW+vs53KtKllAvLQ1VWf87hua9C1HREvDgevbm+syBCwXrY2bEZ9LZiw7eXCrEMN3TuzF0bM30HPtbo49LI21vncMsxosTxHWiI7eYUCyovqGJtE3NCncxeUyMDYtjkEEWWyykJKlOPniM2IZWYwHTl/FYugbmsTA2DRGJhLoG5pE666qjPVd/eOI1ZYhVhMR1lu+VinDfJR4LITNG1caGJtG+/4tSlfs5MGtWZbYgdNXs6yuvqFJIUZevBbboTPXxbKBsWnEPcH2WE0kUGx7rt1F39AkRiYSiCesDCvMK4SySxuriaDzwigOvHIFJw9uFedQX2kiahpZ58EwH2UeC2GLloYzrJfWXVWImsayXVA/yELzWmz0u62pWghRz+CdrO1VccGu/vGM3153U0U8YeFoz3sYGJtGW1M1OnqHC1bUyAKl+vKLPY5MJMQANXBrCmcP71Ba4V3944gnrKxBZGBsWtRnPGGJfUdNI+O+UJw0CIp7LhbZqlaFLeC2bW98V64TL/L1xhMWDp25rgxvePcnH9Nr7cdqIqivNNHVP56zLcv1LLarLXMGa0V79rve1WDllWEV6Bm8g/pKM6ODjEwkHMvNzSD6QS6rjMrK81po3t9d/eOIlobRNzSZ0Sg6L4yivblO2Wm8DVCOyXnXyQ3Am1wYmUigo3cYsdqyh9f4b0eBhRngs18FPvVFLJXu7m688MILKC8vx+DgoKp4TvxcfBW57g+JGaTBpqWhQohlS0MFPv3SZd9tAaB9/xYxEA7cmlKGCU4e3JpTmNqaqrPCBHCv92jPe4AbmlAdg7Bf2p/xu+fa3Zz1RmVHJhI4dOY6BsamhceRS9y8+2tpqMhIsMlETQP1lSYGxqYRLQ379q+O3uGsujl3bDc6L4wqxVw+9mryWAhbfaWJnsE7oqNHTUPE2ILwik8+qCy2eMJCR+8wzh3b7XvTo6YR2KGDbmrQuram6iyRJbQT550/1m0A7r0P/Oifgbdf8xe4qd8CU3eAss1A2ccy1/3iLeDt1/C3U44lumXLFiwHv84PT8xU3FPFSE4uvIw8cMl1R+0iahqI1ZYt2bIP6qTeayPrCe51ycfMdV9Vwkf3m6ynWE0E8YSFrv5xdJ6/iXjCQltTNbr6x3Hg9FW0NVWjvbkuy9L0Jsfo3EYmEuLcSJTiCUt4AzQAnD28I+N6WndVCSuwrak6y7qlZfIAJN+TtWBtjrJMvCbxSiUN/FBZbPnQ1lQtGt6a0vqSECdM3XkocH/2T0DZZlT1/SPuDv3qYfmanc66e+8Db33b2QZAXV0dXnjhBRw5ciT3sRT4xTK9BFlzXiumpaEC8bkkRiYSaN/vCO7ArSnRCalj5WMRtDRU4OTBrejoHcbJg1vFANU3NIkDp6+K+YNeoe25dhdd/eO+Md+jZ2+Iju4d8BY7uBJy/fUM3nFc+1tTol2R5VhfaaKjdxhd/ePo6h9H664qMS0Ikmh59903NInWxs2orzTRNzSJqGmgpaEiIw5MiSoZCoEAwKut2+Bl4NZUhltKyTAEDHYrTcEKWzxhZd0MErOgGMRSaGmoyDsrStYiZUf7hiZx6Mz1jIB+kKh5jyN3Sr+Orlqfxae+6PyTBe7Kf6Im/FuMDf0KZZEwdm4vx7s37mNq7F3g4ncd95WsuM9+FTff+rbqKGtOe3OdqFfqzEd73hMxtKXEw+DpdHIMcGQiIcIO1HmpXJawSQJ78uDWjLjiShKriSA+l0SstgwDt6aEkBHtzXXouXY3r0GfrCzaPmoaOHd8D+orTRHmAYBzx/dkbTviJr5yXaM3lir313zObSUoWGHzCgqkSukbmsyYvzVwa0o0dr/yMn6jp8oF9KKdOI+O3mG82roNLQ0VeP+bnxOjWlf/eOAI7V3XIj0h4bddrLYsa/3Jg1vRM3gnswEtzDhW14I0D61sM7BuI/CxbRi78CMAwC8u/ik2lYXx6/FZ/NG+XmDsmmPpJaYAXQd++Rb27XNiVeXl5eju7kZ5eTkWy7lju9HVP+47z44EIlYTyZr3p5pT2HlhFD3X7jqd2E3etDZuFmVyxc9y3WOvOBDR0rA4dxI2qm9vO2tt3Ix4wnLE98IoOs/fzLiGXHFglUVL7berfxytjZuFpUnLvINn664q37rzSy54kxvR0rAYOOX9Hj17A68e2p5htdF28YQl2qQscuQ2d/QOC8EnS22pA9BiKVhhQ0Bj9MabKA7gxc9l9RMPcklolIaPxUb7IlO/vtIUVpt808l8D3r6QEVbUzV6Bu+IRAQ1Cmo87c11ohMJK27sGvD+T/13eP2H4s9NZY6QfKJ6g7Ng6g5wbxi4/X+izKUxt+ymTbh58yYaGxuxFPysbpnF1JGII7r3S7ZeK56/JNqK6phe5PhQfC4pzomsQLJeYjURkRTyWipR00B7cx26+sfR0TssYnuEKpaWC1lwO3qHRRuUr51cakgWvTeR4BfzbWuqxsDYNFoaKoTb6TUkYjURYQHK/Y3qiBJY8ISLvMeSBw/Z9V9NClrY1gp5JPaOeF6LbWQigfpKM+PmyIkMefuK5y8tKs528uBWIZpR00DnhdGMzu+XGRV88nPAN/q8u3zIyy2513m29ca3lot3gKGGL7vZ8qCyHCjGRqIflC2Eew7eGBsRq4lkuKrxhJUVKCe6+sdFRrR9/xbEaiLKWB8UT6p4kwckQnDPTW4bUdNAtDTsG6Lxs4Kp7r1TZmRI2OU+EE9YGdOcKHkhE5Q8WA0X3Y+CFjZ5lIbU4bzBUPlm+o1OrbuqApMAsvsiN3IZytpFS8MZc3VI6CjtTsLk5yoQsZqIyNbJI7sslu37t6Crfzxj6gi5I3Ab2EoIwVrQ5zPtBj5z+oKQRYJcHDmrKtfjYsjVjuDus+faXSdg797zXOENuc3FaiJ5JU+IXFaM12LzbpMhwrVlvrFi5OgTdDyVNdniJlII8iSI1l1VWfcxKHnQNzSpzICvBAUrbBSM90sPkytGyBUbn0tmNShVJcruC3WgXKOYdzmN3tR4OnqHxUjvJZ8H+0mw5AZErpCcUeo8fzNgL4XFSlhsfh1Q7qx+oYh8yCW6cDttR+8weq7dFefp1y7ic0nRTumeBbU5cnlzTUeh7KTfNoTXjaeMsR9BcUvkmIzsPR5B5xvkiQQlD7CESelLoWCFzS/NnIuVDEjmauTyKDMwNi3McbqJ8na5YkeqmNKhM9d9g+3yHD48ZtYaPCO2DI3syKOxU0f3dhJ5+VLIFWOD5PpTDKq+0vSdrtDauBltTdU42vOeKBstDeccHClul6tMPGGJ49J6yrwSXgtsYGw6Z/tSTZz1m6LidcuJWE0E75zYi0++mB3P9Q5g5MrG55IiXqzqAytFfsrxCKAbMeDz+AY8KWcKgi6XfGNLsZpIzhG5I+ChdNkcHxibxsCtKRGPgTtPKmg7ovP8TURLwzh7eAd6rt3Ncg8WTf9rwNigM2F3z18AyK8e8sUvMI08hF7m3LHdiCesrKcL6itNvNq6TdT5YttBUIwNrpVN9Z8rnOFtC3F3ErcKCr57g/O0rG9oUkzvoLZBVm7n+ZtobdyM1l1VwvUly2yxbrk3GaMilyFBiRMSNEqwyb/XioIWthZ3KsTAXFI0WFpOolbvzmdaCVQ3N1ZbJkZsv+koyKOzeuOGQbE/UMc9tD1jWZf7PCKNkPXuBM0l8/Zr7h/vAr/8ES7+XQP27dun2EhN1POMJuHnisrb+BFPWDjwypWMOo+ahhPLlNwwVdjBy8hEQsTRfK1K6X6qrEqivtIUQnz07I2MwQtS2IKEKCiBQAkBEjphBeVIZAQJ+7lju33jbSsJiWrcNTY6L4yidVeVE1vL0wNbCdbuSItENtPjPsJG7k2b9FD6UlFlzvxQCVIuU34x0IRPv5nfsoW2VDeMKIuE0fnN3Wj/1lVMTSdx6tSpFRE2v8egZPzcaa/1AknUKNZIz+q+emg7Os/fFNZMvSdrnIvOC6Pi2LnmsdE6WQQ6L4xmDG65oBhZ54VRZ67X+Zs4d3xPVjsNclfpnpOQyRac9+ULdP2qdwF6aW+uQ1tTNSqev4T6ShPvP//HAIBPvvhTjEwkMPniM3mLESW5ZKGl86HrFIPPIi3KpZDfWT8C5AqSR02qnHo3EwnPKFXvmYrhXf+ooeuSr8O7vsXNRMnryJ1rcSdpymKmelNFEGWRMN58vRk7t5fjE9Ub8KW/+R/84Ac/UG2mhMIDfnUfZLHBM30GboxxxJ0feO74HvFMJlmENICoEjNE1DSyLD+aCE0iJz84TpnuzgujOHr2BuqlFzIE0d5chxE3KdLVPy4G4aCwgUg+uO5n664qxGrLcPTsDcA9LypD50eJpL6hSXz6pcs4d3yPryD1XLubcd006JB4kkCS2yjm7QU8b0t1L++LIMuVvAsKI+QrlsvBANIAAA22+w+A+FuDbQPL+ALfkqEKiruvnyG8lgpltahR1/vMRVMRZFm9c2KvmOXfJs2gDoqlBSG7KfG5ZFbHpqcZZPrcx7bgno/sgoxIj78sln//7ufxiZoN2LndebLgT556aIkcOXIEN286HWbLli04derUop5A6PB5A4SXoASIHO9sa6oWwuPtFHSMloYKpSVF0OBAoQyqy76hSRFioPqO1UTEzHuKjR46cx3vnNibVwd9tXWbGGzzmQJC3kmsJgL7pf3QTpwXcWS49zvqvmT0wOmrQtzkCeYHXrni++p6b3172z1dM9zj0Pp8PBrql/SAPNUvJVQIlaezUqjvzCOCKsDbEORYSHwu+XD+mfRamlwsJcCeK1GwlH3JRD1PLFCj6+gdFo1yZCKR4TbBbXzyiLyc7OjBA7kb2ZkzZ8Tfly5dwuDg4KJeYZSPRbMY5P217qoSsUUaxOjBeILcQT/3zM+qhzQokgVHE2Oprs8e3oGjPe+hvbnOt63J5yVDx5KvIWoaWecMaeAjyIWrrzTFZFga/N45sVcM7O3SK7O84kHnJRNTvBBVxq8O/RJtNC2mXgoJyNfsF2ZYLTRdh22nHatM04B0GkjbNux0CpqmO3bbIi22xn/52bLfnR81DbQ1VQsTWY6x5Sqv8t3lNyPkAwV36z1B2uXEz+rdKQOyed/neb0SuTC5sqRkOS4qEOw+eTD1q78MLFb2B//h/O+6qNdvxHG83XEhXn75Zdy/fx9wrbjlvP2DYVYKvw8mr4qwnfrfW/jGG0OqYsxakqew1ez5HgCIuBsA/NXxn+CHfdmW4eHDh9Hd3Z21nGHWEt8vwWdqlgbb/ct2/1EMbjEc+cyTqIuuVxVjCpA3X2/OEDUAGX/v2FaOr3zZcaHOnDmDixcv+u6HYR4lq/LB5HLTwBtf24lN6ws2hMfkYOf28gwhk9mxrRxvvt6M051PYcc2pwwLG1OI6LCBIE9TW4LFBgCN1RFc/Ps9bLkVAV8/8of4ype34M3Xm8Vrj4ISDwzzqFkVi41orI5g8B+ewsvPNmDXxzeqijMFyqayME53PiVEjWEKHUPXNKRsG47d9tB2S8OGhjRCSC1rVki5aeC5p2vx3NO1qqLMKqK9rCrBMMWD0mKz00tzRRmGYR4V+kM7zbXWNIjMKABooUXO9WAYhnnEKC22B/PzqiIMwzAFhZFhnkkxNlpcsr7Euw3DMExBk0dWgF3RQub+/fvo7u4WjzoxDJMhbP4CNj87jfUb1u7Nl0z+XL3Sjy98oQW/m5pTFQXc5z8Z5qOA0mJbv4HnnxUqz/75QSFqxw83oFwxz+xLB2oC1zNMsWBYmoa0bbtPGGiAnYYGIAQdGjQApap9MI+IX485bzp5pXMv/vrLv68qvqL0nr8HACvypl2GWWmUWVGmsPn83t9bc1H78c/u4vov72LTpk0sbExBwsL2mPOTy/fQ/q2lvRtuKbz+vQ/wla+/DQB47rnnVMUZ5pGg6bpup9NpaJoGTdOQTqdh2zbkZUxhsu/pz+LSj3+mKrYq8LvYmELB931sqo2YwuWN//pvHD58WFVsRXnmmWfw/e9/n0WNKWjYYmMY5rGGLTaGYT4SsLAxDFN06OvWrQMA4X4S09PT7IYyDPNYYJombNt5wr2kpAQaADsUCsE0TczMzMAwDCSTSSSTSQCAYRgscAzDFCyyPkUizndMdQBIpVJIJJyvrVdWVuKDDz6ApmkIh8NCBRmGYQqRJ598EuvXO99WWVhYcLzNjRs32olEAqlUCoZhwLIsVFVVYWZmBpZl4cGDB6r9Mgzz2KIKsysMGy0/wycUDkHXNSSTVsYXPdeZjkeYSqVhWSnoOhyDCkAymURa+r65HnI8yLSdhvXA2ckTFU/gww8/FGVKSkqcDybLZ15RUYHZ2VksLCyAYZiPAiFVgWDyFDZC03VnOoYegqZrePBg3vlKO60P6bBT7m9NA2wbpRs2QNM1zE7PAACMkjDCRhjzC/OwrTQMw8CmTZswPT0Ny7Joqppml5aWYnZ2Vuw8HA4jGo3Ctm3cu3cv++wYhikSgoVNFV23FcJmlm5A0krCyun5pREKhxEOOy8aciJfNlKpFCzLgqZpD4XOBw2aCJeFw2GEQiHMz887FlskEkEqlcLCwkKGS8owTHGjqd9cFoitlD4Auo5QKOSIlDv7wk6nHRXTUggZBjRNh5WUxU+DURKGBiD5IOk4lq4FBwBGuATRaBSJ2WnMzDiWnKZp0HUdqVQq0xUNh8Ni5fz8PEzTxDx/84BhihYNwe/wUyUP83VEdcOATYIGx810BC0Fi2ZghMMoWbfOMbCSyQwhE2g6dF1DOpVyftvO/tavX49UKoVkMomSkhL8P2HPj2V0t0w1AAAAAElFTkSuQmCC",e.next=6,t.render_captcha();case 6:return e.next=8,t.form_validation();case 8:return e.next=10,new Promise(function(e){t.is_initialized=!0,e()});case 10:e.next=19;break;case 12:e.prev=12,e.t0=e["catch"](1),e.t1=e.t0,e.next=404===e.t1?17:19;break;case 17:return t.$router.push("page_404"),e.abrupt("break",19);case 19:return e.prev=19,e.finish(19);case 21:case"end":return e.stop()}},e,this,[[1,12,19,21]])}));function t(){return e.apply(this,arguments)}return t}(),render_captcha:function(){var e=this;return axios.get(e.captcha_url,{headers:{Hostname:window.location.hostname}}).then(function(t){"success"==t.data.status&&(e.captcha_image_base64=t.data.captcha.base64_encoded_image,e.encrypted_answer=t.data.captcha.answer)})["catch"](function(t){if(t.response)return Promise.reject(t.response.status);e.$noty.error(e.$t("ui.general.network_abnormality")+": "+e.$t("ui.general.server_offline"))})},submit:function(){var e=this;e.is_logging=!0;var t={username:e.username,password:e.password,role:"customer",user_answer:e.captcha_user_answer,encrypted_answer:e.encrypted_answer};axios.post(e.login_url,t,{headers:{Hostname:window.location.hostname}}).then(function(t){if("success"==t.data.status)e.need_captcha=!1,localStorage.setItem("need_captcha",!1),localStorage.setItem("customer_authentication_token",t.data.token),localStorage.setItem("customer_expired_at",e.$moment.utc(e.$moment().add(e.$store.state.global_setting.login_expiration_period,"second")).format()),e.$parent.init();else{e.is_logging=!1,e.need_captcha=!0,localStorage.setItem("need_captcha",!0),e.render_captcha();var i={"incorrect username or password":e.$t("ui.pages.login.errors.account_or_password_incorrect"),"captcha verification failed":e.$t("ui.pages.login.errors.verification_code_incorrect"),"captcha verification timeout":e.$t("ui.pages.login.errors.verification_code_expired")};_.forEach(t.data.errors,function(t){_.forEach(t,function(t){console.log(t),e.$noty.error(e.$t("ui.pages.login.errors.failure_to_login")+": "+i[t])})})}})["catch"](function(t){if(e.is_logging=!1,t.response){var i={"Unknown Host":e.$t("ui.pages.login.errors.your_site_has_not_registered_system")};e.$noty.error(e.$t("ui.pages.login.errors.failure_to_login")+": "+t.response.status+i[t.response.data.errors])}else e.$noty.error(e.$t("ui.general.network_abnormality")+": "+e.$t("ui.general.server_offline"))})},focus_input:function(e){this.$refs[e].focus()},auto_input:function(){var e=this;e.username="tw568",e.password="tw568",e.captcha_user_answer="TEST"},change_i18n:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"zh-TW";localStorage.setItem("language",e),this.$store.state.language=e},form_validation:function(){$(".ui.form").form({on:"blur",fields:{email:{identifier:"username",rules:[{type:"empty"}]},password:{identifier:"password",rules:[{type:"empty"}]}}})}},components:{NotificationBox:Bi["a"],ErrorBox:Di["a"]}},Yi=Hi,Ki=(n("96f5"),Object(lt["a"])(Yi,Oi,Li,!1,null,"33ab6f6b",null)),Wi=Ki.exports,Vi=n("3c2e"),Xi=n.n(Vi);function Qi(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function Zi(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){Qi(r,n,a,s,o,"next",e)}function o(e){Qi(r,n,a,s,o,"throw",e)}s(void 0)})}}var Ji=n("304e"),en=(new Ji,{data:function(){return{clock:{ticker:null,remaining_time:0},action_cables:[],is_hide_icon_toggle_scanner_modal:!1,is_scanner_modal_opend:!1}},computed:{language:function(){return this.$store.state.language},human_remaining_time:function(){var e=this,t=e.$moment,i=t.duration(Math.floor(e.clock.remaining_time/1e3),"seconds"),n="";return i.days()>0&&(n+=" "+i.days()+e.$t("ui.general.day")),i.hours()>0&&(n+=" "+i.hours()+e.$t("ui.general.hour")),i.minutes()>0&&(n+=" "+i.minutes()+e.$t("ui.general.minute")),i.seconds()>0&&(n+=" "+i.seconds()+e.$t("ui.general.second")),n.trim()}},created:function(){var e=Zi(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,t.init();case 3:t.clock.ticker=setInterval(function(){t.clock.remaining_time>=1e3&&(t.clock.remaining_time=t.clock.remaining_time-1e3)},1e3),document.title=t.$t("ui.page_titles."+t.$route.name)+" | "+t.$t("ui.page_titles.customer_pages"),t.toggle_scanner_modal_keyboard_shortcut();case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),mounted:function(){var e=this;e.$bus.$off("toggle_scanner_modal"),e.$bus.$on("toggle_scanner_modal",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"toggle";e.toggle_scanner_modal(t)}.bind(this))},watch:{$route:function(e,t){var i=this;console.log("customer Layout watch"),i.extend_login_timeout(),document.title=i.$t("ui.page_titles."+e.name)+" | "+i.$t("ui.page_titles.customer_pages"),i.set_current_page_breadcrumb()},language:{handler:function(t){try{this._i18n.locale=t,this.cahnge_language_in_store_js_text(),document.title=this.$t("ui.page_titles."+this.$route.name)+" | "+this.$t("ui.page_titles.customer_pages")}catch(e){console.log(e),this.$noty.error(e)}},deep:!0}},methods:{wait:function(e){return new Promise(function(t){return setTimeout(t,e)})},init:function(){var e=Zi(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,new Promise(function(e){var i=localStorage.getItem("language")||"zh-TW";t.$store.state.language=i,e()});case 4:return e.next=6,new Promise(function(e){t.$store.commit("set_current_scope","customer"),e()});case 6:return e.next=8,t.validate_login();case 8:return e.next=10,new Promise(function(e){t.$store.state.is_login=!0,e()});case 10:return e.next=12,t.$store.dispatch("customer/fetch_routes");case 12:return e.next=14,t.$store.dispatch("customer/fetch_customer");case 14:return e.next=16,t.setting_service_theme();case 16:return e.next=18,new Promise(function(e){t.$noty.information(t.$t("ui.general.initialize_complete")),t.$store.state.initialize_statuses.main=!0,e()});case 18:return e.next=20,t.set_current_page_breadcrumb();case 20:e.next=26;break;case 22:switch(e.prev=22,e.t0=e["catch"](1),console.log(e.t0),e.t0){default:}case 26:return e.prev=26,e.finish(26);case 28:case"end":return e.stop()}},e,this,[[1,22,26,28]])}));function t(){return e.apply(this,arguments)}return t}(),validate_login:function(){var e=this;if(!localStorage.getItem("customer_authentication_token"))return e.$store.state.is_login=!1,Promise.reject("not logged in");if(localStorage.getItem("customer_expired_at")>e.$moment.utc().format()){var t=e.$store.state.settings.authorize_url;return axios.get(t,{headers:{Authorization:localStorage.getItem("customer_authentication_token")}}).then(function(t){return"success"==t.data.status?(e.extend_login_timeout(),Promise.resolve()):Promise.reject(t.data)})["catch"](function(t){if(t.response){switch(t.response.status){default:e.errors.push(t.response.status+" "+t.response.statusText)}e.$noty.error(e.$t("ui.pages.login.errors.failure_to_login")+": "+t.response.status+" "+t.response.statusText)}else if(t.errors)for(var i in t.errors)e.$noty.error(e.$t("ui.pages.login.errors.failure_to_login")+": "+i+" "+t.errors[i]);else e.$noty.error(e.$t("ui.pages.login.errors.failure_to_login")+": "+e.$t("ui.general.server_offline"));return e.clear_login_session(),e.$store.state.is_login=!1,Promise.reject("authorize failed")})}if(e.clear_login_session(),e.$store.state.is_login=!1,e.$noty.error(e.$t("ui.pages.login.errors.failure_to_login")+": "+e.$t("ui.pages.login.errors.timeout")),!e.$store.state.initialize_statuses.main)return Promise.reject("login timeout");e.redirect_to("/customer")},setting_service_theme:function(){var t,i,a=this,r="",s=a.$store.state.customer.customer.provider_node.service_name;try{t=s+"/config.json",i=n("ccaa")("./"+t)}catch(e){t="default/config.json",i=n("ccaa")("./"+t)}finally{document.body.classList.add(s),a.$store.state.customer.service_config=i,r+="    service: "+t+"\n"}return console.log("//=============== \n  Now service configs: \n"+r+"  All file path: config/services/ \n//=============== \n"),Promise.resolve()},set_current_page_breadcrumb:function(){var e=this;return e.$route.meta.breadcrumb&&(e.$store.state.breadcrumbs=e.$route.meta.breadcrumb),Promise.resolve()},reserve_login_validation:function(){var e=this;clearTimeout(Fi),clearTimeout(Gi);var t=e.$moment(localStorage.getItem("customer_expired_at"))-e.$moment();e.clock.remaining_time=t;var i=e.$moment().utc(e.$moment().add(t,"milliseconds")).format(),n=t-1e3*e.$store.state.global_setting.login_expiration_hint_preset;Fi=setTimeout(function(){e.validate_login()},t),Gi=setTimeout(function(){localStorage.getItem("customer_expired_at")>i?console.log(e.$t("ui.pages.login.pass_next_timeout_will_dont_warn")):e.show_login_timeout_hint()},n)},show_login_timeout_hint:function(){var e=this;$(e.$refs.login_expiration_hint_modal).modal({dimmerSettings:{opacity:.8},closable:!1}).modal("show")},extend_login_timeout:function(){var e=this;localStorage.setItem("customer_expired_at",e.$moment.utc(e.$moment().add(this.$store.state.global_setting.login_expiration_period,"second")).format()),e.reserve_login_validation()},clear_login_session:function(){clearTimeout(Fi),clearTimeout(Gi),localStorage.removeItem("customer_expired_at"),localStorage.removeItem("customer_authentication_token")},redirect_to:function(e){window.location.replace(e)},logout:function(){var e=this;e.clear_login_session(),e.redirect_to("/customer")},window_keydown:function(e){var t=this,i=new Xi.a(e);(81==i.key_code&&i.ctrl||"WakeUp"==i.key)&&t.toggle_scanner_modal("toggle")},toggle_is_hide_icon_toggle_scanner_modal:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;t.is_hide_icon_toggle_scanner_modal=e},toggle_scanner_modal_keyboard_shortcut:function(){var e=this;$(window).bind("keyup",e.window_keydown)},toggle_scanner_modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"toggle",t=this;console.log(t.$store.state.customer.is_can_use_scanner),t.$store.state.customer.is_can_use_scanner&&$(".ui.scanner.modal").modal({dimmerSettings:{opacity:0},autofocus:!1,inverted:!0,duration:200,onShow:function(){t.is_scanner_modal_opend=!0,t.$bus.$emit("set_modal_opened",!0)},onHidden:function(){t.is_scanner_modal_opend=!1,t.$bus.$emit("set_modal_opened",!1)}}).modal(e)},cahnge_language_in_store_js_text:function(){var e=this;_.map(e.$store.state.element_ui_datepicker_daterange_options.shortcuts,function(t){t.text=e.$t(t.i18n_key)})}},components:{Sidebar:ai,TopMenu:ki,FooterBar:Ai,Breadcrumb:Ii,ScannerModal:Ti["default"],Login:Wi}}),tn=en,nn=(n("cdf3"),Object(lt["a"])(tn,Qt,Zt,!1,null,null,null)),an=nn.exports,rn=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"station"}},[i("div",{staticClass:"ui fluid container"},[!0!==e.$store.state.is_login||e.is_logging_out?!1===e.$store.state.is_login?i("div",[i("div",{staticClass:"ui container"},[i("Login"),i("FooterBar")],1)]):i("div",{staticClass:"ui inverted dimmer transition visible active",staticStyle:{display:"block !important"}},[i("div",{staticClass:"ui text loader"},[e._v("\n                "+e._s(e.$t("ui.general.verify_staff"))+"...\n            ")])]):i("div",{staticClass:"ui stackable grid"},[e.$store.getters["station/is_current_staff_minimalist_layout"]?i("div",{staticClass:"three wide column"},[e.$store.state.initialize_statuses.service_theme?i("Sidebar"):i("img",{staticClass:"loading_mock opacity_fade",attrs:{src:"/images/loading_darken/sidebar.png",alt:""}})],1):e._e(),i("div",{staticClass:"thirteen wide column",class:{centered:!e.$store.getters["station/is_current_staff_minimalist_layout"]}},[e.$store.state.initialize_statuses.top_menu?i("TopMenu"):i("img",{staticClass:"loading_mock opacity_fade",attrs:{src:"/images/loading_darken/top_menu.png",alt:""}}),e.$store.state.initialize_statuses.main?i("Breadcrumb"):i("img",{staticClass:"loading_mock opacity_fade",attrs:{src:"/images/loading_darken/breadcrumb.png",alt:""}}),i("div",{staticClass:"ui main",staticStyle:{"min-height":"calc(100vh - 250px)"}},[e.$store.state.initialize_statuses.main?i("router-view"):i("img",{staticClass:"loading_mock opacity_fade",attrs:{src:"/images/loading_darken/main.png",alt:""}})],1),i("div",{staticClass:"clear"}),e.$store.state.initialize_statuses.footer?i("FooterBar"):i("img",{staticClass:"loading_mock opacity_fade",attrs:{src:"/images/loading_darken/footer.png",alt:""}}),i("Advertising"),i("SystemInfo")],1),e.$store.state.initialize_statuses.main?i("ScannerModal"):e._e()],1)]),e.$store.state.is_login&&e.$store.state.station.is_can_use_scanner?i("div",{staticClass:"icon_toggle_scanner_modal pointer mobile only",class:{hide:e.is_hide_icon_toggle_scanner_modal},on:{click:function(t){e.$bus.$emit("toggle_scanner_modal")}}},[i("i",{staticClass:"large circular inverted icon z-depth-2",class:{barcode:!e.is_scanner_modal_opend,"red remove":e.is_scanner_modal_opend}})]):e._e()])},sn=[],on=n("957b"),cn=on["a"],_n=(n("481d"),Object(lt["a"])(cn,rn,sn,!1,null,null,null)),ln=_n.exports,un=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},dn=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"index"}},[i("h3",[e._v("\n        Admin\n    ")])])}],pn={props:{},data:function(){return{is_loading:!1}},mounted:function(){var e=this;e.set_breadcrumbs()},watch:{$route:function(e,t){var i=this;i.set_breadcrumbs()}},methods:{set_breadcrumbs:function(){var e=this;e.$store.state.breadcrumbs=[]}},components:{},computed:{}},mn=pn,fn=Object(lt["a"])(mn,un,dn,!1,null,"171328e1",null),vn=fn.exports,hn=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"converters_layout"}},[i("ErrorBox",{tag:"div",attrs:{errors:e.errors}}),e.is_initialized?i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1):i("div",{staticClass:"ui active centered inline large loader"})],1)},gn=[],bn=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"errors"},[e.errors.length>0?i("div",{staticClass:"ui red icon message"},[i("i",{staticClass:"warning icon"}),i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                "+e._s(e.$t("ui.notifications.error.please_handle_errors"))+"\n            ")]),e._l(e.errors,function(t,n){return i("p",[e._v(e._s(n+1)+". "+e._s(t))])})],2)]):e._e()])},yn=[],wn={props:{errors:Array},data:function(){return{}},mounted:function(){},computed:{},methods:{},components:{}},$n=wn,kn=Object(lt["a"])($n,bn,yn,!1,null,"01fd9167",null),Cn=kn.exports;function xn(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function Pn(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){xn(r,n,a,s,o,"next",e)}function o(e){xn(r,n,a,s,o,"throw",e)}s(void 0)})}}var Sn={data:function(){return{is_initialized:!1,errors:[]}},computed:{},watch:{},created:function(){this.init()},mounted:function(){},methods:{init:function(){var e=Pn(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,new Promise(function(e){t.$noty.information("翻譯本管理初始化完畢"),t.is_initialized=!0,e()});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{ErrorBox:Cn}},Nn=Sn,An=Object(lt["a"])(Nn,hn,gn,!1,null,null,null),En=An.exports,qn=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"converters"}},[i("router-link",{staticClass:"ui basic positive button",attrs:{to:{name:"new_converter",params:{}}}},[i("i",{staticClass:"plus icon"}),e._v("\n        新增翻譯本\n    ")]),i("table",{staticClass:"ui celled table"},[e._m(0),i("tbody",e._l(e.converters,function(t){return e.is_initialized?i("Converter",{key:t.id,attrs:{converter:t}}):e._e()}))])],1)},zn=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("thead",[i("tr",[i("th",[e._v("名稱")]),i("th",[e._v("操作")])])])}],jn=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",[i("td",[e._v("\n        "+e._s(e.converter.name)+"\n    ")]),i("td",[i("router-link",{staticClass:"ui basic primary button",attrs:{to:{name:"edit_converter",params:{id:e.converter.id}}}},[e._v("\n            內容\n        ")]),i("button",{staticClass:"ui basic negative button",on:{click:function(t){t.preventDefault(),e.delete_converter()}}},[e._v("\n            "+e._s(e.$t("ui.general.delete"))+"\n        ")])],1)])},Rn=[],In={props:{converter:Object},data:function(){return{is_processing:!1}},computed:{delete_converter_url:function(){return this.$store.state.admin.converters_module.admin_converters_routes["delete"]}},created:function(){},mounted:function(){},watch:{},methods:{delete_converter:function(){if(confirm(this.$t("ui.notifications.warning.are_you_sure_to_delete_it"))){var e=this;e.is_processing=!0;var t=new RestUrl(e.delete_converter_url).parse({id:e.converter.id},"");axios.get(t).then(function(t){"success"==t.data.status?(e.$parent.init(),e.$noty.success("翻譯本刪除成功")):e.$noty.error("翻譯本刪除失敗")})["catch"](function(t){t.response?e.$noty.error(e.$t("ui.general.network_abnormality")+": "+t.response.status+t.response.data):e.$noty.error(e.$t("ui.general.network_abnormality")+": "+e.$t("ui.general.server_offline"))}),e.is_processing=!1}}},components:{}},Tn=In,On=Object(lt["a"])(Tn,jn,Rn,!1,null,null,null),Ln=On.exports;function Dn(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function Bn(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){Dn(r,n,a,s,o,"next",e)}function o(e){Dn(r,n,a,s,o,"throw",e)}s(void 0)})}}var Mn={data:function(){return{is_initialized:!1,converters:[]}},computed:{fetch_converters_url:function(){return this.$store.state.admin.converters_module.admin_converters_routes.index}},created:function(){this.init()},mounted:function(){},watch:{$route:function(e,t){"converters"==e.name&&this.init()}},methods:{init:function(){var e=Bn(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,t.fetch_converters();case 5:return e.next=7,new Promise(function(e){t.is_initialized=!0,e()});case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_converters:function(){var e=this,t=new RestUrl(e.fetch_converters_url).parse({},"");return axios.get(t).then(function(t){return e.converters=t.data.converters,t})["catch"](function(t){return e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:"Converter",reason:": "+t})),Promise.reject(t)})}},components:{Converter:Ln}},Un=Mn,Fn=Object(lt["a"])(Un,qn,zn,!1,null,null,null),Gn=Fn.exports,Hn=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"new_converter"}},[i("h1",{staticClass:"ui header"},[e._v(e._s(e.converter.name)+" 翻譯本")]),e.is_initialized?i("div",[i("form",{staticClass:"ui form"},[i("div",{staticClass:"field"},[i("label",[e._v("名稱")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.converter.name,expression:"converter.name"}],attrs:{type:"text"},domProps:{value:e.converter.name},on:{input:function(t){t.target.composing||e.$set(e.converter,"name",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v("類別")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.converter.category,expression:"converter.category"}],attrs:{type:"text"},domProps:{value:e.converter.category},on:{input:function(t){t.target.composing||e.$set(e.converter,"category",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v("供應商")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.converter.provider,expression:"converter.provider"}],attrs:{type:"text"},domProps:{value:e.converter.provider},on:{input:function(t){t.target.composing||e.$set(e.converter,"provider",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v("Name Row")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.converter.name_row,expression:"converter.name_row"}],attrs:{type:"number"},domProps:{value:e.converter.name_row},on:{input:function(t){t.target.composing||e.$set(e.converter,"name_row",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v("Data Offset")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.converter.data_offset,expression:"converter.data_offset"}],attrs:{type:"number"},domProps:{value:e.converter.data_offset},on:{input:function(t){t.target.composing||e.$set(e.converter,"data_offset",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v("Data Bound")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.converter.data_bound,expression:"converter.data_bound"}],attrs:{type:"number"},domProps:{value:e.converter.data_bound},on:{input:function(t){t.target.composing||e.$set(e.converter,"data_bound",t.target.value)}}})]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui segments"},[e._l(e.converter.attribute_conversions,function(t){return i("div",{staticClass:"ui segment",class:{disabled:t._delete},attrs:{attribute_conversion:t}},[i("a",{staticClass:"ui right corner label",class:{green:t._delete,red:!t._delete},on:{click:function(i){i.preventDefault(),e.toggle_delete(t)}}},[t._delete?i("i",{staticClass:"undo icon"}):i("i",{staticClass:"remove icon"})]),i("h3",{staticClass:"ui header"},[e._v(e._s(t.header_text))]),i("div",{staticClass:"field",class:{disabled:t._delete}},[i("label",[e._v("Header Text")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.header_text,expression:"attribute_conversion.header_text"}],attrs:{type:"text"},domProps:{value:t.header_text},on:{input:function(i){i.target.composing||e.$set(t,"header_text",i.target.value)}}})]),i("div",{staticClass:"field",class:{disabled:t._delete}},[i("label",[e._v("Attribute Name")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.attribute_name,expression:"attribute_conversion.attribute_name"}],attrs:{type:"text"},domProps:{value:t.attribute_name},on:{input:function(i){i.target.composing||e.$set(t,"attribute_name",i.target.value)}}})]),i("div",{staticClass:"field",class:{disabled:t._delete}},[i("label",[e._v("Sort")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.sort,expression:"attribute_conversion.sort"}],attrs:{type:"number"},domProps:{value:t.sort},on:{input:function(i){i.target.composing||e.$set(t,"sort",i.target.value)}}})]),i("div",{staticClass:"field",class:{disabled:t._delete}},[i("label",[e._v("Is Auto Refer?")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.is_auto_refer,expression:"attribute_conversion.is_auto_refer"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.is_auto_refer)?e._i(t.is_auto_refer,null)>-1:t.is_auto_refer},on:{change:function(i){var n=t.is_auto_refer,a=i.target,r=!!a.checked;if(Array.isArray(n)){var s=null,o=e._i(n,s);a.checked?o<0&&e.$set(t,"is_auto_refer",n.concat([s])):o>-1&&e.$set(t,"is_auto_refer",n.slice(0,o).concat(n.slice(o+1)))}else e.$set(t,"is_auto_refer",r)}}})])])}),i("div",{staticClass:"ui segment"},[i("button",{staticClass:"ui basic positive fluid button",on:{click:function(t){return t.preventDefault(),e.add_attribute_conversion(t)}}},[i("i",{staticClass:"plus icon"}),e._v("\n                        新增條目\n                    ")])])],2),i("button",{staticClass:"ui basic positive button",on:{click:function(t){return t.preventDefault(),e.create(t)}}},[e._v(e._s(e.$t("ui.general.create")))])])]):e._e()])},Yn=[];function Kn(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function Wn(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){Kn(r,n,a,s,o,"next",e)}function o(e){Kn(r,n,a,s,o,"throw",e)}s(void 0)})}}var Vn={props:{},data:function(){return{is_initialized:!1,is_processing:!1,converter:{},errors:[]}},computed:{create_converter_url:function(){return this.$store.state.admin.converters_module.admin_converters_routes.create}},created:function(){this.init()},mounted:function(){},watch:{$route:function(e,t){"new_converter"==e.name&&this.init()}},methods:{init:function(){var e=Wn(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,t.is_processing=!1,t.converter={name:"新翻譯本",attribute_conversions:[]},t.errors=[],e()});case 3:return e.next=5,new Promise(function(e){t.is_initialized=!0,e()});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),toggle_delete:function(e){e._delete=!e._delete},add_attribute_conversion:function(){var e=this;e.converter.attribute_conversions.push({header_text:"新條目",_delete:!1})},create:function(){var e=this;e.is_processing=!0,e.errors=[];var t=e.converter;t.attribute_conversions_attributes=_.extend({},t.attribute_conversions),delete t["attribute_conversions"];var i=new RestUrl(e.create_converter_url).parse({},"");axios.post(i,{converter:t}).then(function(t){"success"==t.data.status?(e.$router.push("/admin/converters"),e.$noty.success(e.$t("ui.notifications.success.create__name",{name:"翻譯本"}))):(e.$noty.error(e.$t("ui.notifications.error.create__name",{name:"翻譯本",reason:NaN+t.data.errors})),e.errors=t.data.errors)})["catch"](function(t){t.response?e.$noty.error(e.$t("ui.general.network_abnormality")+": "+t.response.status+t.response.data):e.$noty.error(e.$t("ui.general.network_abnormality")+": "+e.$t("ui.general.server_offline"))}),e.is_processing=!1}},components:{}},Xn=Vn,Qn=Object(lt["a"])(Xn,Hn,Yn,!1,null,"0d1d4854",null),Zn=Qn.exports,Jn=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"edit_converter"}},[i("h1",{staticClass:"ui header"},[e._v(e._s(e.converter.name)+" 翻譯本資訊")]),e.is_initialized?i("div",[i("form",{staticClass:"ui form"},[i("div",{staticClass:"field"},[i("label",[e._v("名稱")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.converter.name,expression:"converter.name"}],attrs:{type:"text"},domProps:{value:e.converter.name},on:{input:function(t){t.target.composing||e.$set(e.converter,"name",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v("類別")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.converter.category,expression:"converter.category"}],attrs:{type:"text"},domProps:{value:e.converter.category},on:{input:function(t){t.target.composing||e.$set(e.converter,"category",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v("供應商")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.converter.provider,expression:"converter.provider"}],attrs:{type:"text"},domProps:{value:e.converter.provider},on:{input:function(t){t.target.composing||e.$set(e.converter,"provider",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v("Name Row")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.converter.name_row,expression:"converter.name_row"}],attrs:{type:"number"},domProps:{value:e.converter.name_row},on:{input:function(t){t.target.composing||e.$set(e.converter,"name_row",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v("Data Offset")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.converter.data_offset,expression:"converter.data_offset"}],attrs:{type:"number"},domProps:{value:e.converter.data_offset},on:{input:function(t){t.target.composing||e.$set(e.converter,"data_offset",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v("Data Bound")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.converter.data_bound,expression:"converter.data_bound"}],attrs:{type:"number"},domProps:{value:e.converter.data_bound},on:{input:function(t){t.target.composing||e.$set(e.converter,"data_bound",t.target.value)}}})]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui segments"},[e._l(e.converter.attribute_conversions,function(t){return i("div",{staticClass:"ui segment",class:{disabled:t._delete},attrs:{attribute_conversion:t}},[i("a",{staticClass:"ui right corner label",class:{green:t._delete,red:!t._delete},on:{click:function(i){i.preventDefault(),e.toggle_delete(t)}}},[t._delete?i("i",{staticClass:"undo icon"}):i("i",{staticClass:"remove icon"})]),i("h3",{staticClass:"ui header"},[e._v(e._s(t.header_text))]),i("div",{staticClass:"field",class:{disabled:t._delete}},[i("label",[e._v("Header Text")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.header_text,expression:"attribute_conversion.header_text"}],attrs:{type:"text"},domProps:{value:t.header_text},on:{input:function(i){i.target.composing||e.$set(t,"header_text",i.target.value)}}})]),i("div",{staticClass:"field",class:{disabled:t._delete}},[i("label",[e._v("Attribute Name")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.attribute_name,expression:"attribute_conversion.attribute_name"}],attrs:{type:"text"},domProps:{value:t.attribute_name},on:{input:function(i){i.target.composing||e.$set(t,"attribute_name",i.target.value)}}})]),i("div",{staticClass:"field",class:{disabled:t._delete}},[i("label",[e._v("Sort")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.sort,expression:"attribute_conversion.sort"}],attrs:{type:"number"},domProps:{value:t.sort},on:{input:function(i){i.target.composing||e.$set(t,"sort",i.target.value)}}})]),i("div",{staticClass:"field",class:{disabled:t._delete}},[i("label",[e._v("Is Auto Refer?")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.is_auto_refer,expression:"attribute_conversion.is_auto_refer"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.is_auto_refer)?e._i(t.is_auto_refer,null)>-1:t.is_auto_refer},on:{change:function(i){var n=t.is_auto_refer,a=i.target,r=!!a.checked;if(Array.isArray(n)){var s=null,o=e._i(n,s);a.checked?o<0&&e.$set(t,"is_auto_refer",n.concat([s])):o>-1&&e.$set(t,"is_auto_refer",n.slice(0,o).concat(n.slice(o+1)))}else e.$set(t,"is_auto_refer",r)}}})])])}),i("div",{staticClass:"ui segment"},[i("button",{staticClass:"ui basic positive fluid button",on:{click:function(t){return t.preventDefault(),e.add_attribute_conversion(t)}}},[i("i",{staticClass:"plus icon"}),e._v("\n                        新增條目\n                    ")])])],2),i("button",{staticClass:"ui basic positive button",on:{click:function(t){return t.preventDefault(),e.update(t)}}},[e._v(e._s(e.$t("ui.general.update")))])])]):e._e()])},ea=[];function ta(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function ia(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){ta(r,n,a,s,o,"next",e)}function o(e){ta(r,n,a,s,o,"throw",e)}s(void 0)})}}var na={props:{},data:function(){return{is_initialized:!1,is_processing:!1,converter:{},errors:[]}},computed:{fetch_converter_url:function(){return this.$store.state.admin.converters_module.admin_converters_routes.show},update_converter_url:function(){return this.$store.state.admin.converters_module.admin_converters_routes.update}},created:function(){this.init()},mounted:function(){},watch:{$route:function(e,t){"edit_converter"==e.name&&this.init()}},methods:{init:function(){var e=ia(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,t.is_processing=!1,t.converter={},t.errors=[],e()});case 3:return e.next=5,t.fetch_converter();case 5:return e.next=7,new Promise(function(e){t.is_initialized=!0,e()});case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_converter:function(){var e=this,t=new RestUrl(e.fetch_converter_url).parse({id:e.$route.params.id},"");return axios.get(t).then(function(t){e.converter=t.data.converter,e.converter.attribute_conversions=_.map(e.converter.attribute_conversions,function(e){return _.extend({},e,{_delete:!1})})})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:"Converter",reason:": "+t}))})},toggle_delete:function(e){e._delete=!e._delete},add_attribute_conversion:function(){var e=this;e.converter.attribute_conversions.push({header_text:"新條目",_delete:!1})},update:function(){var e=this;e.is_processing=!0,e.errors=[];var t=e.converter;t.attribute_conversions_attributes=_.extend({},t.attribute_conversions),delete t["attribute_conversions"];var i=new RestUrl(e.update_converter_url).parse({id:e.$route.params.id},"");axios.post(i,{converter:t}).then(function(t){"success"==t.data.status?(e.$router.push("/admin/converters"),e.$noty.success(e.$t("ui.notifications.success.update__name",{name:"Converters"}))):(e.$noty.error(e.$t("ui.notifications.error.update__name",{name:"Converters",reason:": "+t.data.errors})),e.errors=t.data.errors)})["catch"](function(t){t.response?e.$noty.error(e.$t("ui.general.network_abnormality")+": "+t.response.status+t.response.data):e.$noty.error(e.$t("ui.general.network_abnormality")+": "+e.$t("ui.general.server_offline"))}),e.is_processing=!1}},components:{}},aa=na,ra=Object(lt["a"])(aa,Jn,ea,!1,null,"705b8062",null),sa=ra.exports,oa={route_name:"converters",name:"翻譯本列表"},ca={route_name:"new_converter",name:"新增翻譯本"},_a={route_name:"edit_converter",name:"編輯翻譯本"},la=[{path:"",component:Gn,name:"converters",meta:{breadcrumb:[oa]}},{path:"new",component:Zn,name:"new_converter",meta:{breadcrumb:[oa,ca]}},{path:":id/edit",component:sa,name:"edit_converter",meta:{breadcrumb:[oa,_a]}}],ua=la;r["default"].use(rt["a"]);var da=[{path:"",component:vn,name:"admin_index"},{path:"converters",component:En,children:ua}],pa=da,ma=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"index"}},[i("div",{staticClass:"ui top attached tabular menu"},["manager"==e.current_staff.theme_name?i("a",{staticClass:"item",class:{active:"GlobalMonitor"==e.current_component},on:{click:function(t){e.current_component="GlobalMonitor"}}},[e._v("\n            "+e._s(e.$t("ui.pages.monitor.menu_title.all"))+"\n        ")]):e._e(),i("a",{staticClass:"item",class:{active:"PersonalMonitor"==e.current_component},on:{click:function(t){e.current_component="PersonalMonitor"}}},[e._v("\n            "+e._s(e.$t("ui.pages.monitor.menu_title.myself"))+"\n        ")]),e.current_staff.station_identity?i("a",{staticClass:"item",class:{active:"StationalMonitor"==e.current_component},on:{click:function(t){e.current_component="StationalMonitor"}}},[e._v("\n            "+e._s(e.$t("ui.pages.monitor.menu_title.station"))+"\n        ")]):e._e()]),i("div",{staticClass:"ui bottom attached tab segment active"},[i(e.current_component,{tag:"component"})],1)])},fa=[],va=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"personal_monitor"}},[i("Operations"),i("div",{staticClass:"ui divider"}),i("CoreWaybillsUnderOperations"),i("div",{staticClass:"ui divider"}),i("CoreWaybillsUnderScans")],1)},ha=[],ba=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"operations x_scrollable"},[i("h1",{staticClass:"ui header"},[e._v("\n        "+e._s(e.$t("ui.pages.monitor.title.pending_operations"))+"\n        "),i("div",{staticClass:"sub header"},[e._v("\n            "+e._s(e.$t("ui.pages.monitor.sub_title.assigned_to_me_but_not_completed_operations"))+"\n        ")])]),i("table",{staticClass:"ui compact celled table"},[i("thead",{staticClass:"center aligned"},[i("tr",[i("th",[e._v(e._s(e.$t("ui.general.date")))]),i("th",[e._v(e._s(e.$t("models.attributes.operations.number")))]),i("th",[e._v(e._s(e.$t("models.attributes.operations.customer")))]),i("th",[e._v(e._s(e.$t("models.attributes.operations.customer_note")))]),i("th",[e._v(e._s(e.$t("models.attributes.operations.your_note")))]),i("th",[e._v(e._s(e.$t("ui.pages.operations.waybill_amount")))]),i("th",[e._v(e._s(e.$t("models.attributes.operations.file")))]),i("th",{staticClass:"center aligned"},[i("div",{staticClass:"ui basic icon button",on:{click:function(t){e.is_show_filter=!e.is_show_filter}}},[e.is_show_filter?i("i",{staticClass:"angle double up icon"}):i("i",{staticClass:"angle double down icon"})])])]),i("tr",{staticClass:"ui center aligned transition"},[i("th",[i("el-date-picker",{staticClass:"next_input_row",attrs:{"unlink-panels":"",type:"daterange",size:"small",align:"center","start-placeholder":e.$t("ui.el.datepicker.startDate"),"end-placeholder":e.$t("ui.el.datepicker.endDate"),"picker-options":e.$store.state.element_ui_datepicker_daterange_options},model:{value:e.search_params.dates,callback:function(t){e.$set(e.search_params,"dates",t)},expression:"search_params.dates"}})],1),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.number,expression:"search_params.number"}],attrs:{type:"text"},domProps:{value:e.search_params.number},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_operations(t):null},input:function(t){t.target.composing||e.$set(e.search_params,"number",t.target.value)}}})])]),i("th",[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.search_params.customer_identity,expression:"search_params.customer_identity"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.search_params,"customer_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),i("option",{attrs:{value:"'null'"}},[e._v("無客戶")]),e._l(e.$store.state.provider.customers,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.company_name))])})],2)]),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.customer_note,expression:"search_params.customer_note"}],attrs:{type:"text"},domProps:{value:e.search_params.customer_note},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_operations(t):null},input:function(t){t.target.composing||e.$set(e.search_params,"customer_note",t.target.value)}}})])]),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.provider_note,expression:"search_params.provider_note"}],attrs:{type:"text"},domProps:{value:e.search_params.provider_note},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_operations(t):null},input:function(t){t.target.composing||e.$set(e.search_params,"provider_note",t.target.value)}}})])]),i("th"),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.original_file_name,expression:"search_params.original_file_name"}],attrs:{type:"text"},domProps:{value:e.search_params.original_file_name},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_operations(t):null},input:function(t){t.target.composing||e.$set(e.search_params,"original_file_name",t.target.value)}}})])]),i("th",[i("div",{staticClass:"ui icon mini buttons"},[i("div",{staticClass:"ui black basic button",on:{click:function(t){return t.preventDefault(),e.fetch_operations(t)}}},[i("i",{staticClass:"search icon"})]),i("div",{staticClass:"ui black basic button",on:{click:function(t){return t.preventDefault(),e.init_search_params(t)}}},[i("i",{staticClass:"refresh icon"})])])])])]),e.is_show_operations?i("tbody",[e._l(e.operations,function(t){return i("Operation",{key:t.identity,attrs:{operation:t,is_processing:e.is_processing}})}),e.operations.length<=0?i("tr",{staticClass:"center aligned"},[i("td",{attrs:{colspan:"8"}},[i("h5",[e._v(e._s(e.$t("ui.general.no_data")))])])]):e._e()],2):i("tbody",[e._m(0)])]),e.operations.length>0?i("Paginator",{attrs:{total_pages:e.pagination.total_pages,current_page:e.pagination.current_page,change_page_channel:"personal_operations"}}):e._e()],1)},ya=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"loading"},[i("td",{attrs:{colspan:"8"}},[i("div",{staticClass:"ui active centered inline loader"})])])}],wa=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"center aligned"},[i("td",[e._v(" "+e._s(e.human_datetime(e.operation.created_at)))]),i("td",[e._v(" "+e._s(e.operation.number||"-")+" ")]),i("td",[e._v(" "+e._s(e.customer_name||"-")+" ")]),i("td",[e._v(" "+e._s(e.operation.customer_note||"-")+" ")]),i("td",[e._v(" "+e._s(e.operation.provider_note||"-")+" ")]),i("td",{class:{negative:0==e.operation.core_waybills.length}},[e._v("\n        "+e._s(e.done_core_waybills.length)+" / "+e._s(e.operation.core_waybills.length)+"\n    ")]),i("td",[i("a",{attrs:{href:e.operation.original_file_url}},[e._v(e._s(e.operation.original_file_name))])]),i("td",{staticClass:"center aligned"},[i("router-link",{staticClass:"ui basic primary button",attrs:{to:{name:"edit_provider_operation",params:{identity:e.operation.identity}}}},[e._v("\n            "+e._s(e.$t("ui.general.detail"))+"\n        ")])],1)])},$a=[],ka={props:{operation:Object},data:function(){return{is_processing:!1}},computed:{customer_name:function(){return this.operation.customer?this.operation.customer.company_name:null},done_core_waybills:function(){return _.filter(this.operation.core_waybills,function(e){return 1==e.is_done})}},created:function(){},mounted:function(){},watch:{},methods:{cancel:function(){if(confirm(this.$t("ui.notifications.warning.are_you_sure_to_cancel_it"))){var e=this;e.is_processing=!0;var t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_operation_cancel).parse({operation_identity:e.operation.identity});axios.post(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"==t.data.status){var i=e.$store.state.provider.operations_module.operations.indexOf(e.operation);e.$store.state.provider.operations_module.operations.splice(i,1),e.$noty.success("訂單取消成功")}else e.$noty.error("訂單取消失敗")})["catch"](function(t){console.log(t),t.response?e.$noty.error(e.$t("ui.general.network_abnormality")+": "+t.response.status+t.response.data):e.$noty.error(e.$t("ui.general.network_abnormality")+": "+e.$t("ui.general.server_offline"))}),e.is_processing=!1}}},components:{}},Ca=ka,xa=Object(lt["a"])(Ca,wa,$a,!1,null,null,null),Pa=xa.exports,Sa=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui pagination menu",attrs:{id:"paginator"}},[i("FirstPage",{tag:"div",attrs:{current_page:e.current_page,disabled:e.disabled}}),i("PrevPage",{tag:"div",attrs:{page:e.prev_page,disabled:e.disabled}}),e._l(e.total_pages,function(t){return i("Page",{tag:"div",attrs:{page:t,current_page:e.current_page,total_pages:e.total_pages,disabled:e.disabled}})}),i("NextPage",{tag:"div",attrs:{page:e.next_page,disabled:e.disabled}}),i("LastPage",{tag:"div",attrs:{current_page:e.current_page,total_pages:e.total_pages,disabled:e.disabled}})],2)},Na=[],Aa=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"page"}},[e.disabled?i("a",{staticClass:"disabled item"},[e._v("\n        "+e._s(e.page)+"\n    ")]):e.activated_page?i("div",{staticClass:"active item"},[e._v(e._s(e.page))]):e.inside_window?i("a",{staticClass:"item",on:{click:e.change_page}},[e._v(e._s(e.page))]):e.truncated?i("a",{staticClass:"disabled item",staticStyle:{height:"40px"}},[e.jump_mode?i("div",{staticClass:"ui input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.jump_target,expression:"jump_target"}],ref:"jump_input",staticStyle:{width:"90px"},attrs:{type:"text",placeholder:"Jump to ..."},domProps:{value:e.jump_target},on:{blur:function(t){e.close_jump_input()},keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.jump_to()},input:function(t){t.target.composing||(e.jump_target=t.target.value)}}})]):i("i",{staticClass:"ellipsis horizontal icon",staticStyle:{cursor:"pointer"},on:{click:function(t){e.open_jump_input()}}})]):e._e()])},Ea=[],qa={name:"PaginationPage",props:{page:Number,current_page:Number,total_pages:Number,disabled:{type:Boolean,default:!1}},data:function(){return{limit:3,jump_mode:!1,jump_target:null}},mounted:function(){},computed:{activated_page:function(){return this.page==this.current_page},inside_window:function(){if(Math.abs(this.current_page-this.page)<this.limit)return!0},truncated:function(){if(Math.abs(this.current_page-this.page)==this.limit+1)return!0}},methods:{open_jump_input:function(){var e=this;this.jump_mode=!0,this.$nextTick(function(){return e.$refs.jump_input.focus()})},close_jump_input:function(){this.jump_mode=!1,this.jump_target=null},jump_to:function(){var e=this.total_pages<=this.jump_target?this.total_pages:this.jump_target<=0?1:this.jump_target;this.$parent.change_page(e)},change_page:function(){var e=this;e.$parent.change_page(e.page)}},components:{}},za=qa,ja=Object(lt["a"])(za,Aa,Ea,!1,null,"32f4dc46",null),Ra=ja.exports,Ia=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"next"}},[e.disabled?i("a",{staticClass:"disabled item"},[i("i",{staticClass:"angle right icon"})]):e.page?i("a",{staticClass:"item",on:{click:e.change_page}},[i("i",{staticClass:"angle right icon"})]):i("a",{staticClass:"disabled item"},[i("i",{staticClass:"angle right icon"})])])},Ta=[],Oa={name:"PaginationNext",props:{page:Number,disabled:{type:Boolean,default:!1}},data:function(){return{}},mounted:function(){},computed:{},methods:{change_page:function(){var e=this;e.$parent.change_page(e.page)}},components:{}},La=Oa,Da=Object(lt["a"])(La,Ia,Ta,!1,null,"b98b6028",null),Ba=Da.exports,Ma=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"last"}},[e.disabled?i("a",{staticClass:"disabled item"},[i("i",{staticClass:"angle double right icon"})]):e.current_page!=e.total_pages&&e.total_pages>0?i("a",{staticClass:"item",on:{click:e.change_last_page}},[i("i",{staticClass:"angle double right icon"})]):i("a",{staticClass:"disabled item"},[i("i",{staticClass:"angle double right icon"})])])},Ua=[],Fa={name:"PaginationLast",props:{current_page:Number,total_pages:Number,disabled:{type:Boolean,default:!1}},data:function(){return{}},mounted:function(){},computed:{},methods:{change_last_page:function(){var e=this;e.$parent.change_last_page()}},components:{}},Ga=Fa,Ha=Object(lt["a"])(Ga,Ma,Ua,!1,null,"7cc61b86",null),Ya=Ha.exports,Ka=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"prev"}},[e.disabled?i("a",{staticClass:"disabled item"},[i("i",{staticClass:"angle left icon"})]):e.page?i("a",{staticClass:"item",on:{click:e.change_page}},[i("i",{staticClass:"angle left icon"})]):i("a",{staticClass:"disabled item"},[i("i",{staticClass:"angle left icon"})])])},Wa=[],Va={name:"PaginationPrevious",props:{page:Number,disabled:{type:Boolean,default:!1}},data:function(){return{}},mounted:function(){},computed:{},methods:{change_page:function(){var e=this;e.$parent.change_page(e.page)}},components:{}},Xa=Va,Qa=Object(lt["a"])(Xa,Ka,Wa,!1,null,"64eec9e1",null),Za=Qa.exports,Ja=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"paginator-first"},[e.disabled?i("a",{staticClass:"disabled item"},[i("i",{staticClass:"angle double left icon"})]):1!=e.current_page?i("a",{staticClass:"item",on:{click:e.change_first_page}},[i("i",{staticClass:"angle double left icon"})]):i("a",{staticClass:"disabled item"},[i("i",{staticClass:"angle double left icon"})])])},er=[],tr={name:"PaginationFirst",props:{current_page:Number,disabled:{type:Boolean,default:!1}},data:function(){return{}},mounted:function(){},computed:{},methods:{change_first_page:function(){var e=this;e.$parent.change_first_page()}},components:{}},ir=tr,nr=Object(lt["a"])(ir,Ja,er,!1,null,"350586c6",null),ar=nr.exports,rr={name:"ToolPagination",props:{current_page:Number,total_pages:Number,change_page_channel:{default:"",type:String},disabled:{type:Boolean,default:!1}},data:function(){return{}},mounted:function(){},computed:{prev_page:function(){var e=this;return e.current_page<2?null:e.current_page-1},next_page:function(){var e=this;return e.current_page>=e.total_pages?null:e.current_page+1}},methods:{change_page:function(e){var t=this;t.change_page_channel?t.$bus.$emit(t.change_page_channel,e):t.$router.push({name:t.$router.name,query:{page:e}})},change_first_page:function(){var e=this;e.change_page_channel?e.$bus.$emit(e.change_page_channel,1):e.$router.push({name:e.$router.name,query:{page:1}})},change_last_page:function(){var e=this;e.change_page_channel?e.$bus.$emit(e.change_page_channel,e.total_pages):e.$router.push({name:e.$router.name,query:{page:e.total_pages}})}},components:{Page:Ra,NextPage:Ba,LastPage:Ya,PrevPage:Za,FirstPage:ar}},sr=rr,or=Object(lt["a"])(sr,Sa,Na,!1,null,"1b007f70",null),cr=or.exports;function _r(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function lr(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){_r(r,n,a,s,o,"next",e)}function o(e){_r(r,n,a,s,o,"throw",e)}s(void 0)})}}var ur={data:function(){return{is_initialized:!1,is_processing:!1,is_show_operations:!1,is_show_filter:!1,operations:[],pagination:{},search_params:{begin_at:null,end_at:null,number:null,provider_note:null,customer_identity:null,customer_note:null,original_file_name:null,staff_identity:null,is_done:!1,is_canceled:!1},errors:[]}},created:function(){var e=this;e.init()},mounted:function(){},watch:{is_show_filter:function(e){$(".operations .ui.transition").transition("fade down")}},computed:{},methods:{init:function(){var e=lr(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,t.search_params.staff_identity=t.$store.state.provider.current_staff.identity,e()});case 3:return e.next=5,t.fetch_operations();case 5:return e.next=7,new Promise(function(e){t.is_initialized=!0,e()});case 7:t.$bus.$off("personal_operations"),t.$bus.$on("personal_operations",function(e){t.$store.state.provider.operations_module.current_page=e,t.search_params.page=e,t.fetch_operations()}.bind(this));case 9:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_operations:function(){var e=this;if(0==e.is_processing){e.is_show_operations=!1,e.is_processing=!0;var t=_.clone(e.search_params);t.dates&&(t["begin_at"]=e.$moment(t.dates[0]).startOf("day").format("YYYY-MM-DDTHH:mm:ss+08:00"),t["end_at"]=e.$moment(t.dates[1]).endOf("day").format("YYYY-MM-DDTHH:mm:ss+08:00"));var i=new RestUrl(e.$store.state.provider.routes.api_v1_provider_operations).parse({},"?"+object_to_query(t));return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){return"success"==t.data.status?(e.operations=t.data.operations,e.pagination=t.data.pagination):"failure"==t.data.status&&(e.errors=t.data.errors,e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.operations"),reason:": "+t.data.errors}))),t})["catch"](function(t){return e.errors.push(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.operations"),reason:": "+e.$t("ui.general.network_abnormality")+","+t.response.status})),Promise.reject(t)}).then(function(){setTimeout(function(){e.is_processing=!1,e.is_show_operations=!0},300)})}},init_search_params:function(){var e=this;e.search_params={dates:[],begin_at:null,end_at:null,number:null,provider_note:null,customer_identity:null,customer_note:null,original_file_name:null,staff_identity:e.$store.state.provider.current_staff.identity,is_done:!1,is_canceled:!1},$("#operations .ui.dropdown").dropdown("clear")}},components:{Operation:Pa,Paginator:cr}},dr=ur,pr=(n("3437"),Object(lt["a"])(dr,ba,ya,!1,null,"22997952",null)),mr=pr.exports,fr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"core_waybills_under_operations x_scrollable"},[i("h1",{staticClass:"ui header"},[e._v("\n        "+e._s(e.$t("ui.pages.monitor.title.pending_waybill_in_operations"))+"\n        "),i("div",{staticClass:"sub header"},[e._v("\n            "+e._s(e.$t("ui.pages.monitor.sub_title.assigned_to_me_but_not_completed_waybill_in_operations"))+"\n        ")])]),e.is_initialized?i("table",{staticClass:"ui compact celled table"},[i("thead",{staticClass:"center aligned"},[i("tr",[i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.operation_number")))]),i("th",[e._v(e._s(e.$t("models.materials")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.number")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.consignee_phone")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.consignee_name")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.weight_in_kilo")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.collection")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.latest_status")))]),i("th",{staticClass:"center aligned"},[i("div",{staticClass:"ui basic icon button",on:{click:function(t){e.is_show_filter=!e.is_show_filter}}},[e.is_show_filter?i("i",{staticClass:"angle double up icon"}):i("i",{staticClass:"angle double down icon"})])])]),i("tr",{staticClass:"ui center aligned transition"},[i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.operation.number,expression:"search_params.operation.number"}],attrs:{type:"text"},domProps:{value:e.search_params.operation.number},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.fetch_core_waybills()},input:function(t){t.target.composing||e.$set(e.search_params.operation,"number",t.target.value)}}})])]),i("th",[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.search_params.material.class_names,expression:"search_params.material.class_names"}],ref:"material_selector",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.search_params.material,"class_names",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.materials,function(t){return i("option",{domProps:{value:t.class_name}},[e._v(e._s(t.name))])})],2)]),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.number,expression:"search_params.number"}],attrs:{type:"text"},domProps:{value:e.search_params.number},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.fetch_core_waybills()},input:function(t){t.target.composing||e.$set(e.search_params,"number",t.target.value)}}})])]),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.consignee_phone,expression:"search_params.consignee_phone"}],attrs:{type:"text"},domProps:{value:e.search_params.consignee_phone},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.fetch_core_waybills()},input:function(t){t.target.composing||e.$set(e.search_params,"consignee_phone",t.target.value)}}})])]),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.consignee_name,expression:"search_params.consignee_name"}],attrs:{type:"text"},domProps:{value:e.search_params.consignee_name},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.fetch_core_waybills()},input:function(t){t.target.composing||e.$set(e.search_params,"consignee_name",t.target.value)}}})])]),i("th"),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.weight_in_kilo,expression:"search_params.weight_in_kilo"}],attrs:{type:"number"},domProps:{value:e.search_params.weight_in_kilo},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.fetch_core_waybills()},input:function(t){t.target.composing||e.$set(e.search_params,"weight_in_kilo",t.target.value)}}})])]),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.collection,expression:"search_params.collection"}],attrs:{type:"number"},domProps:{value:e.search_params.collection},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.fetch_core_waybills()},input:function(t){t.target.composing||e.$set(e.search_params,"collection",t.target.value)}}})])]),i("th",[i("div",{staticClass:"ui icon mini buttons"},[i("div",{staticClass:"ui black basic button",on:{click:function(t){return t.preventDefault(),e.fetch_core_waybills(t)}}},[i("i",{staticClass:"search icon"})]),i("div",{staticClass:"ui black basic button",on:{click:function(t){return t.preventDefault(),e.init_search_params(t)}}},[i("i",{staticClass:"refresh icon"})])])])])]),e.is_show_core_waybills?i("tbody",[e._l(e.core_waybills,function(t){return i("CoreWaybill",{key:t.identity,attrs:{core_waybill:t,is_processing:e.is_processing}})}),e.core_waybills.length<=0?i("tr",{staticClass:"center aligned"},[i("td",{attrs:{colspan:"8"}},[i("h5",[e._v(e._s(e.$t("ui.general.no_data")))])])]):e._e()],2):i("tbody",[e._m(0)])]):e._e(),e.core_waybills.length>0?i("Paginator",{attrs:{total_pages:e.pagination.total_pages,current_page:e.pagination.current_page,change_page_channel:"personal_core_waybills_under_operations"}}):e._e()],1)},vr=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"loading"},[i("td",{attrs:{colspan:"8"}},[i("div",{staticClass:"ui active centered inline loader"})])])}],hr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"center aligned"},[i("td",[e.core_waybill.operation?i("router-link",{attrs:{to:{name:"edit_provider_operation",params:{identity:e.core_waybill.operation.identity}}}},[e._v("\n            "+e._s(e.core_waybill.operation.number)+"\n        ")]):e._e()],1),i("td",[e._v(" "+e._s(e.core_waybill.material.name||"-")+" ")]),i("td",[e._v(" "+e._s(e.core_waybill.number||"-")+" ")]),i("td",[e._v(" "+e._s(e.core_waybill.consignee_phone||"-")+" ")]),i("td",[e._v(" "+e._s(e.core_waybill.consignee_name||"-")+" ")]),i("td",[e._v(" "+e._s(e.core_waybill.weight_in_kilo||"-")+" ")]),i("td",[e._v(" "+e._s(e.core_waybill.collection||"-")+" ")]),i("td",[e._v(" "+e._s(e.latest_status_name||"-"))]),i("td",{staticClass:"center aligned"},[i("router-link",{staticClass:"ui basic primary button",attrs:{to:{name:"edit_core_waybill",params:{identity:e.core_waybill.identity}}}},[e._v("\n            "+e._s(e.$t("ui.general.detail"))+"\n        ")])],1)])},gr=[],br={props:{core_waybill:Object},data:function(){return{is_processing:!1}},computed:{latest_status_name:function(){try{return this.core_waybill.latest_status.name}catch(e){return null}}},created:function(){},mounted:function(){},watch:{},methods:{},components:{}},yr=br,wr=Object(lt["a"])(yr,hr,gr,!1,null,null,null),$r=wr.exports;function kr(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function Cr(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){kr(r,n,a,s,o,"next",e)}function o(e){kr(r,n,a,s,o,"throw",e)}s(void 0)})}}var xr={data:function(){return{is_initialized:!1,is_processing:!1,is_show_core_waybills:!1,is_show_filter:!1,core_waybills:[],materials:[],pagination:{},search_params:{operation:{number:null,is_done:!1,is_canceled:!1,staff:{identity:this.$store.state.provider.current_staff.identity}},material:{class_names:null},number:null,consignee_phone:null,consignee_name:null,weight_in_kilo:null,collection:null,is_done:!1},errors:[]}},created:function(){},mounted:function(){var e=this;e.init()},watch:{is_show_filter:function(e){$(".core_waybills_under_operations .ui.transition").transition("fade down")}},computed:{},methods:{init:function(){var e=Cr(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,t.fetch_materials();case 5:return e.next=7,t.init_search_params();case 7:return e.next=9,t.fetch_core_waybills();case 9:return e.next=11,new Promise(function(e){t.is_initialized=!0,e()});case 11:t.$bus.$off("personal_core_waybills_under_operations"),t.$bus.$on("personal_core_waybills_under_operations",function(e){t.$store.state.provider.core_waybills_module.current_page=e,t.search_params.page=e,t.fetch_core_waybills()}.bind(this));case 13:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_materials:function(){var e=this,t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_materials).parse({},"");return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){return"success"==t.data.status?e.materials=t.data.materials:"failure"==t.data.status&&(e.errors=t.data.errors,e.$noty.error("抓取物料失敗")),t})["catch"](function(e){return console.log("Failed to fetch materials."),Promise.reject(e)})},fetch_core_waybills:function(){var e=this,t=_.cloneDeep(e.search_params);if(_.forEach(["number","flight_number","original_number","tracking_number","sender_name","consignee_name","consignee_address","consignee_phone","note"],function(e){t[e]&&(t[e]="%"+t[e]+"%")}),t.operation.number&&(t.operation.number="%"+t.operation.number+"%"),0==e.is_processing){e.is_show_core_waybills=!1,e.is_processing=!0;var i=new RestUrl(e.$store.state.provider.routes.api_v1_provider_core_waybills_filter).parse({},"?"+object_to_query(t));return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){return"success"==t.data.status?(e.core_waybills=t.data.core_waybills,e.pagination=t.data.pagination):"failure"==t.data.status&&(e.errors=t.data.errors,e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.core_waybills"),reason:": "+t.data.errors}))),t})["catch"](function(t){return e.errors.push(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.core_waybills"),reason:": "+e.$t("ui.general.network_abnormality")+","+t.response.status})),Promise.reject(t)}).then(function(){setTimeout(function(){e.is_processing=!1,e.is_show_core_waybills=!0},300)})}},init_search_params:function(){var e=this;e.search_params={operation:{number:null,is_done:!1,is_canceled:!1,staff:{identity:e.$store.state.provider.current_staff.identity}},material:{class_names:null},number:null,consignee_phone:null,consignee_name:null,weight_in_kilo:null,collection:null,is_done:!1},$(".core_waybills_under_operations .ui.dropdown").dropdown("clear")}},components:{CoreWaybill:$r,Paginator:cr}},Pr=xr,Sr=(n("4bc6"),Object(lt["a"])(Pr,fr,vr,!1,null,"aba71bb2",null)),Nr=Sr.exports,Ar=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"core_waybills_under_scans x_scrollable"},[i("h1",{staticClass:"ui header"},[e._v("\n        "+e._s(e.$t("ui.pages.monitor.title.pending_waybills"))+"\n        "),i("div",{staticClass:"sub header"},[e._v("\n            "+e._s(e.$t("ui.pages.monitor.sub_title.the_unfinished_waybill_that_was_last_my_scanned"))+"\n        ")])]),i("table",{staticClass:"ui compact celled table"},[i("thead",{staticClass:"center aligned"},[i("tr",[i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.operation_number")))]),i("th",[e._v(e._s(e.$t("models.materials")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.number")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.consignee_phone")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.consignee_name")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.weight_in_kilo")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.collection")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.latest_status")))]),i("th",{staticClass:"center aligned"},[i("div",{staticClass:"ui basic icon button",on:{click:function(t){e.is_show_filter=!e.is_show_filter}}},[e.is_show_filter?i("i",{staticClass:"angle double up icon"}):i("i",{staticClass:"angle double down icon"})])])]),i("tr",{staticClass:"ui center aligned transition"},[i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.operation.number,expression:"search_params.operation.number"}],attrs:{type:"text"},domProps:{value:e.search_params.operation.number},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_core_waybills(t):null},input:function(t){t.target.composing||e.$set(e.search_params.operation,"number",t.target.value)}}})])]),i("th",[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.search_params.material.class_names,expression:"search_params.material.class_names"}],ref:"material_selector",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.search_params.material,"class_names",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.materials,function(t){return i("option",{domProps:{value:t.class_name}},[e._v(e._s(t.name))])})],2)]),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.number,expression:"search_params.number"}],attrs:{type:"text"},domProps:{value:e.search_params.number},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_core_waybills(t):null},input:function(t){t.target.composing||e.$set(e.search_params,"number",t.target.value)}}})])]),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.consignee_phone,expression:"search_params.consignee_phone"}],attrs:{type:"text"},domProps:{value:e.search_params.consignee_phone},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_core_waybills(t):null},input:function(t){t.target.composing||e.$set(e.search_params,"consignee_phone",t.target.value)}}})])]),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.consignee_name,expression:"search_params.consignee_name"}],attrs:{type:"text"},domProps:{value:e.search_params.consignee_name},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_core_waybills(t):null},input:function(t){t.target.composing||e.$set(e.search_params,"consignee_name",t.target.value)}}})])]),i("th"),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.weight_in_kilo,expression:"search_params.weight_in_kilo"}],attrs:{type:"number"},domProps:{value:e.search_params.weight_in_kilo},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_core_waybills(t):null},input:function(t){t.target.composing||e.$set(e.search_params,"weight_in_kilo",t.target.value)}}})])]),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.collection,expression:"search_params.collection"}],attrs:{type:"number"},domProps:{value:e.search_params.collection},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_core_waybills(t):null},input:function(t){t.target.composing||e.$set(e.search_params,"collection",t.target.value)}}})])]),i("th",[i("div",{staticClass:"ui icon mini buttons"},[i("div",{staticClass:"ui black basic button",on:{click:function(t){return t.preventDefault(),e.fetch_core_waybills(t)}}},[i("i",{staticClass:"search icon"})]),i("div",{staticClass:"ui black basic button",on:{click:function(t){return t.preventDefault(),e.init_search_params(t)}}},[i("i",{staticClass:"refresh icon"})])])])])]),e.is_show_core_waybills?i("tbody",[e._l(e.core_waybills,function(t){return i("CoreWaybill",{key:t.identity,attrs:{core_waybill:t,is_processing:e.is_processing}})}),e.core_waybills.length<=0?i("tr",{staticClass:"center aligned"},[i("td",{attrs:{colspan:"8"}},[i("h5",[e._v(e._s(e.$t("ui.general.no_data")))])])]):e._e()],2):i("tbody",[e._m(0)])]),e.core_waybills.length>0?i("Paginator",{attrs:{total_pages:e.pagination.total_pages,current_page:e.pagination.current_page,change_page_channel:"personal_core_waybills_under_scans"}}):e._e()],1)},Er=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"loading"},[i("td",{attrs:{colspan:"8"}},[i("div",{staticClass:"ui active centered inline loader"})])])}],qr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"center aligned"},[i("td",[e.core_waybill.operation?i("router-link",{attrs:{to:{name:"edit_provider_operation",params:{identity:e.core_waybill.operation.identity}}}},[e._v("\n            "+e._s(e.core_waybill.operation.number)+"\n        ")]):e._e()],1),i("td",[e._v(" "+e._s(e.core_waybill.material.name||"-")+" ")]),i("td",[e._v(" "+e._s(e.core_waybill.number||"-")+" ")]),i("td",[e._v(" "+e._s(e.core_waybill.consignee_phone||"-")+" ")]),i("td",[e._v(" "+e._s(e.core_waybill.consignee_name||"-")+" ")]),i("td",[e._v(" "+e._s(e.core_waybill.weight_in_kilo||"-")+" ")]),i("td",[e._v(" "+e._s(e.core_waybill.collection||"-")+" ")]),i("td",[e._v(" "+e._s(e.latest_status_name||"-"))]),i("td",{staticClass:"center aligned"},[i("router-link",{staticClass:"ui basic primary button",attrs:{to:{name:"edit_core_waybill",params:{identity:e.core_waybill.identity}}}},[e._v("\n            "+e._s(e.$t("ui.general.detail"))+"\n        ")])],1)])},zr=[],jr={props:{core_waybill:Object},data:function(){return{is_processing:!1}},computed:{latest_status_name:function(){try{return this.core_waybill.latest_status.name}catch(e){return null}}},created:function(){},mounted:function(){},watch:{},methods:{},components:{}},Rr=jr,Ir=Object(lt["a"])(Rr,qr,zr,!1,null,null,null),Tr=Ir.exports;function Or(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function Lr(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){Or(r,n,a,s,o,"next",e)}function o(e){Or(r,n,a,s,o,"throw",e)}s(void 0)})}}var Dr={data:function(){return{is_initialized:!1,is_processing:!1,is_show_core_waybills:!1,is_show_filter:!1,core_waybills:[],materials:[],pagination:{},search_params:{condition:{current_operator_identity:null},operation:{number:null},material:{class_names:null},number:null,consignee_phone:null,consignee_name:null,weight_in_kilo:null,collection:null,is_done:null},errors:[]}},created:function(){var e=this;e.init()},mounted:function(){},watch:{is_show_filter:function(e){$(".core_waybills_under_scans .ui.transition").transition("fade down")}},computed:{},methods:{init:function(){var e=Lr(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,t.search_params.condition.current_operator_identity=t.$store.state.provider.current_staff.identity,e()});case 3:return e.next=5,t.fetch_materials();case 5:return e.next=7,t.fetch_core_waybills();case 7:return e.next=9,new Promise(function(e){t.is_initialized=!0,e()});case 9:t.$bus.$off("personal_core_waybills_under_scans"),t.$bus.$on("personal_core_waybills_under_scans",function(e){t.$store.state.provider.core_waybills_module.current_page=e,t.search_params.page=e,t.fetch_core_waybills()}.bind(this));case 11:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_materials:function(){var e=this,t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_materials).parse({},"");return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){return"success"==t.data.status?e.materials=t.data.materials:"failure"==t.data.status&&(e.errors=t.data.errors,e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.materials"),reason:": "+t.data.errors}))),t})["catch"](function(e){return console.log("Failed to fetch materials."),Promise.reject(e)})},fetch_core_waybills:function(){var e=this,t=_.cloneDeep(e.search_params);if(_.forEach(["number","flight_number","original_number","tracking_number","sender_name","consignee_name","consignee_address","consignee_phone","note"],function(e){t[e]&&(t[e]="%"+t[e]+"%")}),t.operation.number&&(t.operation.number="%"+t.operation.number+"%"),0==e.is_processing){e.is_show_core_waybills=!1,e.is_processing=!0;var i=new RestUrl(e.$store.state.provider.routes.api_v1_provider_core_waybills_filter).parse({},"?"+object_to_query(t));return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){return"success"==t.data.status?(e.core_waybills=t.data.core_waybills,e.pagination=t.data.pagination):"failure"==t.data.status&&(e.errors=t.data.errors,e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.core_waybills"),reason:": "+t.data.errors}))),t})["catch"](function(t){return e.errors.push(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.core_waybills"),reason:": "+e.$t("ui.general.network_abnormality")+","+t.response.status})),Promise.reject(t)}).then(function(){setTimeout(function(){e.is_processing=!1,e.is_show_core_waybills=!0},300)})}},init_search_params:function(){var e=this;e.search_params={condition:{current_operator_identity:e.$store.state.provider.current_staff.identity},operation:{number:null},material:{class_names:null},number:null,consignee_phone:null,consignee_name:null,weight_in_kilo:null,collection:null,is_done:null},$(".core_waybills_under_scans .ui.dropdown").dropdown("clear")}},components:{CoreWaybill:Tr,Paginator:cr}},Br=Dr,Mr=(n("eb09"),Object(lt["a"])(Br,Ar,Er,!1,null,"9bd398f4",null)),Ur=Mr.exports,Fr={data:function(){return{}},created:function(){},mounted:function(){},watch:{},computed:{},methods:{},components:{Operations:mr,CoreWaybillsUnderOperations:Nr,CoreWaybillsUnderScans:Ur}},Gr=Fr,Hr=Object(lt["a"])(Gr,va,ha,!1,null,"658bbc86",null),Yr=Hr.exports,Kr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"stational_monitor"}},[i("Operations"),i("div",{staticClass:"ui divider"}),i("CoreWaybillsUnderOperations")],1)},Wr=[],Vr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"stational_operations x_scrollable"},[i("h1",{staticClass:"ui header"},[e._v("\n        "+e._s(e.$t("ui.pages.monitor.title.pending_operations"))+"\n        "),i("div",{staticClass:"sub header",domProps:{innerHTML:e._s(e.$t("ui.pages.monitor.sub_title.assigned_to_stationg_but_not_completed_operations",{station_name:e.current_station.name}))}})]),i("table",{staticClass:"ui compact celled table"},[i("thead",{staticClass:"center aligned"},[i("tr",[i("th",[e._v(e._s(e.$t("ui.general.date")))]),i("th",[e._v(e._s(e.$t("models.attributes.operations.number")))]),i("th",[e._v(e._s(e.$t("models.attributes.operations.customer")))]),i("th",[e._v(e._s(e.$t("models.attributes.operations.customer_note")))]),i("th",[e._v(e._s(e.$t("models.attributes.operations.your_note")))]),i("th",[e._v(e._s(e.$t("ui.pages.operations.waybill_amount")))]),i("th",[e._v(e._s(e.$t("models.attributes.operations.file")))]),i("th",{staticClass:"center aligned"},[i("div",{staticClass:"ui basic icon button",on:{click:function(t){e.show_filter=!e.show_filter}}},[e.show_filter?i("i",{staticClass:"angle double up icon"}):i("i",{staticClass:"angle double down icon"})])])]),i("tr",{directives:[{name:"show",rawName:"v-show",value:e.show_filter,expression:"show_filter"}],staticClass:"center aligned"},[i("th",[i("table",[i("tbody",[i("tr",[i("td",[e._v("從")]),i("td",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.begin_at,expression:"search_params.begin_at"}],attrs:{type:"datetime-local"},domProps:{value:e.search_params.begin_at},on:{input:function(t){t.target.composing||e.$set(e.search_params,"begin_at",t.target.value)}}})])])]),i("tr",[i("td",[e._v("到")]),i("td",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.end_at,expression:"search_params.end_at"}],attrs:{type:"datetime-local"},domProps:{value:e.search_params.end_at},on:{input:function(t){t.target.composing||e.$set(e.search_params,"end_at",t.target.value)}}})])])])])])]),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.number,expression:"search_params.number"}],attrs:{type:"text"},domProps:{value:e.search_params.number},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_operations(t):null},input:function(t){t.target.composing||e.$set(e.search_params,"number",t.target.value)}}})])]),i("th",[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.search_params.customer_identity,expression:"search_params.customer_identity"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.search_params,"customer_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),i("option",{attrs:{value:"'null'"}},[e._v("無客戶")]),e._l(e.$store.state.provider.customers,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.company_name))])})],2)]),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.customer_note,expression:"search_params.customer_note"}],attrs:{type:"text"},domProps:{value:e.search_params.customer_note},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_operations(t):null},input:function(t){t.target.composing||e.$set(e.search_params,"customer_note",t.target.value)}}})])]),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.provider_note,expression:"search_params.provider_note"}],attrs:{type:"text"},domProps:{value:e.search_params.provider_note},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_operations(t):null},input:function(t){t.target.composing||e.$set(e.search_params,"provider_note",t.target.value)}}})])]),i("th"),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.original_file_name,expression:"search_params.original_file_name"}],attrs:{type:"text"},domProps:{value:e.search_params.original_file_name},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_operations(t):null},input:function(t){t.target.composing||e.$set(e.search_params,"original_file_name",t.target.value)}}})])]),i("th",[i("div",{staticClass:"ui icon mini buttons"},[i("div",{staticClass:"ui black basic button",on:{click:function(t){return t.preventDefault(),e.fetch_operations(t)}}},[i("i",{staticClass:"search icon"})]),i("div",{staticClass:"ui black basic button",on:{click:function(t){return t.preventDefault(),e.init_search_params(t)}}},[i("i",{staticClass:"refresh icon"})])])])])]),e.show_operations?i("tbody",[e._l(e.operations,function(t){return i("Operation",{key:t.identity,attrs:{operation:t,is_processing:e.is_processing}})}),e.operations.length<=0?i("tr",{staticClass:"center aligned"},[i("td",{attrs:{colspan:"8"}},[i("h5",[e._v(e._s(e.$t("ui.general.no_data")))])])]):e._e()],2):i("tbody",[e._m(0)])]),e.operations.length>0?i("Paginator",{attrs:{total_pages:e.pagination.total_pages,current_page:e.pagination.current_page,change_page_channel:"personal_operations"}}):e._e()],1)},Xr=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"loading"},[i("td",{attrs:{colspan:"8"}},[i("div",{staticClass:"ui active centered inline loader"})])])}],Qr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"center aligned"},[i("td",[e._v(" "+e._s(e.human_datetime(e.operation.created_at)))]),i("td",[e._v(" "+e._s(e.operation.number||"-")+" ")]),i("td",[e._v(" "+e._s(e.customer_name||"-")+" ")]),i("td",[e._v(" "+e._s(e.operation.customer_note||"-")+" ")]),i("td",[e._v(" "+e._s(e.operation.provider_note||"-")+" ")]),i("td",{class:{negative:0==e.operation.core_waybills.length}},[e._v("\n        "+e._s(e.done_core_waybills.length)+" / "+e._s(e.operation.core_waybills.length)+"\n    ")]),i("td",[i("a",{attrs:{href:e.operation.original_file_url}},[e._v(e._s(e.operation.original_file_name))])]),i("td",{staticClass:"center aligned"},[i("router-link",{staticClass:"ui basic primary button",attrs:{to:{name:"edit_provider_operation",params:{identity:e.operation.identity}}}},[e._v("\n            "+e._s(e.$t("ui.general.detail"))+"\n        ")])],1)])},Zr=[],Jr={props:{operation:Object},data:function(){return{is_processing:!1}},computed:{customer_name:function(){return this.operation.customer?this.operation.customer.company_name:null},done_core_waybills:function(){return _.filter(this.operation.core_waybills,function(e){return 1==e.is_done})}},created:function(){},mounted:function(){},watch:{},methods:{cancel:function(){if(confirm(this.$t("ui.notifications.warning.are_you_sure_to_cancel_it"))){var e=this;e.is_processing=!0;var t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_operation_cancel).parse({operation_identity:e.operation.identity});axios.post(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"==t.data.status){var i=e.$store.state.provider.operations_module.operations.indexOf(e.operation);e.$store.state.provider.operations_module.operations.splice(i,1),e.$noty.success("訂單取消成功")}else e.$noty.error("訂單取消失敗")})["catch"](function(t){console.log(t),t.response?e.$noty.error(e.$t("ui.general.network_abnormality")+": "+t.response.status+t.response.data):e.$noty.error(e.$t("ui.general.network_abnormality")+": "+e.$t("ui.general.server_offline"))}),e.is_processing=!1}}},components:{}},es=Jr,ts=Object(lt["a"])(es,Qr,Zr,!1,null,null,null),is=ts.exports;function ns(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function as(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){ns(r,n,a,s,o,"next",e)}function o(e){ns(r,n,a,s,o,"throw",e)}s(void 0)})}}var rs={data:function(){return{is_initialized:!1,is_processing:!1,show_operations:!1,show_filter:!1,operations:[],pagination:{},search_params:{begin_at:null,end_at:null,number:null,provider_note:null,customer_identity:null,customer_note:null,original_file_name:null,station_identity:null,is_done:!1,is_canceled:!1},errors:[]}},computed:{current_station:function(){return this.$store.state.provider.current_staff.station}},created:function(){var e=this;e.init()},mounted:function(){},watch:{},methods:{init:function(){var e=as(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,t.search_params.station_identity=t.current_station.identity,e()});case 3:return e.next=5,t.fetch_operations();case 5:return e.next=7,new Promise(function(e){t.is_initialized=!0,e()});case 7:t.$bus.$off("personal_operations"),t.$bus.$on("personal_operations",function(e){t.$store.state.provider.operations_module.current_page=e,t.search_params.page=e,t.fetch_operations()}.bind(this));case 9:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_operations:function(){var e=this;if(0==e.is_processing){e.show_operations=!1,e.is_processing=!0;var t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_operations).parse({},"?"+object_to_query(e.search_params));return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){return"success"==t.data.status?(e.operations=t.data.operations,e.pagination=t.data.pagination):"failure"==t.data.status&&(e.errors=t.data.errors,e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.operations"),reason:": "+t.data.errors}))),t})["catch"](function(t){return e.errors.push(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.operations"),reason:": "+e.$t("ui.general.network_abnormality")+","+t.response.status})),Promise.reject(t)}).then(function(){setTimeout(function(){e.is_processing=!1,e.show_operations=!0},300)})}},init_search_params:function(){var e=this;e.search_params={begin_at:null,end_at:null,number:null,provider_note:null,customer_identity:null,customer_note:null,original_file_name:null,station_identity:e.current_station.identity,is_done:!1,is_canceled:!1},$(".stational_operations .ui.dropdown").dropdown("clear")}},components:{Operation:is,Paginator:cr}},ss=rs,os=Object(lt["a"])(ss,Vr,Xr,!1,null,"630d1cd6",null),cs=os.exports,_s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"station_core_waybills x_scrollable"},[i("h1",{staticClass:"ui header"},[e._v("\n        "+e._s(e.$t("ui.pages.monitor.title.pending_waybill_in_operations"))+"\n        "),i("div",{staticClass:"sub header",domProps:{innerHTML:e._s(e.$t("ui.pages.monitor.sub_title.assigned_to_stationg_but_not_completed_waybill_in_operations",{station_name:e.current_station.name}))}})]),i("table",{staticClass:"ui compact celled table"},[i("thead",{staticClass:"center aligned"},[i("tr",[i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.operation_number")))]),i("th",[e._v(e._s(e.$t("models.materials")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.number")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.consignee_phone")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.consignee_name")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.weight_in_kilo")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.collection")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.latest_status")))]),i("th",{staticClass:"center aligned"},[i("div",{staticClass:"ui basic icon button",on:{click:function(t){e.show_filter=!e.show_filter}}},[e.show_filter?i("i",{staticClass:"angle double up icon"}):i("i",{staticClass:"angle double down icon"})])])]),i("tr",{directives:[{name:"show",rawName:"v-show",value:e.show_filter,expression:"show_filter"}],staticClass:"center aligned"},[i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.operation.number,expression:"search_params.operation.number"}],attrs:{type:"text"},domProps:{value:e.search_params.operation.number},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_core_waybills(t):null},input:function(t){t.target.composing||e.$set(e.search_params.operation,"number",t.target.value)}}})])]),i("th",[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.search_params.material.class_names,expression:"search_params.material.class_names"}],ref:"material_selector",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.search_params.material,"class_names",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.materials,function(t){return i("option",{domProps:{value:t.class_name}},[e._v(e._s(t.name))])})],2)]),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.number,expression:"search_params.number"}],attrs:{type:"text"},domProps:{value:e.search_params.number},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_core_waybills(t):null},input:function(t){t.target.composing||e.$set(e.search_params,"number",t.target.value)}}})])]),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.consignee_phone,expression:"search_params.consignee_phone"}],attrs:{type:"text"},domProps:{value:e.search_params.consignee_phone},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_core_waybills(t):null},input:function(t){t.target.composing||e.$set(e.search_params,"consignee_phone",t.target.value)}}})])]),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.consignee_name,expression:"search_params.consignee_name"}],attrs:{type:"text"},domProps:{value:e.search_params.consignee_name},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_core_waybills(t):null},input:function(t){t.target.composing||e.$set(e.search_params,"consignee_name",t.target.value)}}})])]),i("th"),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.weight_in_kilo,expression:"search_params.weight_in_kilo"}],attrs:{type:"number"},domProps:{value:e.search_params.weight_in_kilo},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_core_waybills(t):null},input:function(t){t.target.composing||e.$set(e.search_params,"weight_in_kilo",t.target.value)}}})])]),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.collection,expression:"search_params.collection"}],attrs:{type:"number"},domProps:{value:e.search_params.collection},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_core_waybills(t):null},input:function(t){t.target.composing||e.$set(e.search_params,"collection",t.target.value)}}})])]),i("th",[i("div",{staticClass:"ui icon mini buttons"},[i("div",{staticClass:"ui black basic button",on:{click:function(t){return t.preventDefault(),e.fetch_core_waybills(t)}}},[i("i",{staticClass:"search icon"})]),i("div",{staticClass:"ui black basic button",on:{click:function(t){return t.preventDefault(),e.init_search_params(t)}}},[i("i",{staticClass:"refresh icon"})])])])])]),e.show_core_waybills?i("tbody",[e._l(e.core_waybills,function(t){return i("CoreWaybill",{key:t.identity,attrs:{core_waybill:t,is_processing:e.is_processing}})}),e.core_waybills.length<=0?i("tr",{staticClass:"center aligned"},[i("td",{attrs:{colspan:"8"}},[i("h5",[e._v(e._s(e.$t("ui.general.no_data")))])])]):e._e()],2):i("tbody",[e._m(0)])]),e.core_waybills.length>0?i("Paginator",{attrs:{total_pages:e.pagination.total_pages,current_page:e.pagination.current_page,change_page_channel:"personal_core_waybills_under_operations"}}):e._e()],1)},ls=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"loading"},[i("td",{attrs:{colspan:"8"}},[i("div",{staticClass:"ui active centered inline loader"})])])}],us=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"center aligned"},[i("td",[e.core_waybill.operation?i("router-link",{attrs:{to:{name:"edit_provider_operation",params:{identity:e.core_waybill.operation.identity}}}},[e._v("\n            "+e._s(e.core_waybill.operation.number)+"\n        ")]):e._e()],1),i("td",[e._v(" "+e._s(e.core_waybill.material.name||"-")+" ")]),i("td",[e._v(" "+e._s(e.core_waybill.number||"-")+" ")]),i("td",[e._v(" "+e._s(e.core_waybill.consignee_phone||"-")+" ")]),i("td",[e._v(" "+e._s(e.core_waybill.consignee_name||"-")+" ")]),i("td",[e._v(" "+e._s(e.core_waybill.weight_in_kilo||"-")+" ")]),i("td",[e._v(" "+e._s(e.core_waybill.collection||"-")+" ")]),i("td",[e._v(" "+e._s(e.latest_status_name||"-"))]),i("td",{staticClass:"center aligned"},[i("router-link",{staticClass:"ui basic primary button",attrs:{to:{name:"edit_core_waybill",params:{identity:e.core_waybill.identity}}}},[e._v("\n            "+e._s(e.$t("ui.general.detail"))+"\n        ")])],1)])},ds=[],ps={props:{core_waybill:Object},data:function(){return{is_processing:!1}},computed:{latest_status_name:function(){try{return this.core_waybill.latest_status.name}catch(e){return null}}},created:function(){},mounted:function(){},watch:{},methods:{},components:{}},ms=ps,fs=Object(lt["a"])(ms,us,ds,!1,null,null,null),vs=fs.exports;function hs(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function gs(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){hs(r,n,a,s,o,"next",e)}function o(e){hs(r,n,a,s,o,"throw",e)}s(void 0)})}}var bs={data:function(){return{is_initialized:!1,is_processing:!1,show_core_waybills:!1,show_filter:!1,core_waybills:[],materials:[],pagination:{},search_params:{operation:{number:null,is_done:!1,is_canceled:!1,station_identity:null},material:{class_names:null},number:null,consignee_phone:null,consignee_name:null,weight_in_kilo:null,collection:null,is_done:!1},errors:[]}},computed:{current_station:function(){return this.$store.state.provider.current_staff.station}},created:function(){var e=this;e.init()},mounted:function(){},watch:{},methods:{init:function(){var e=gs(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,t.search_params.operation_station_identity=t.current_station.identity,e()});case 3:return e.next=5,t.fetch_materials();case 5:return e.next=7,t.fetch_core_waybills();case 7:return e.next=9,new Promise(function(e){t.is_initialized=!0,e()});case 9:t.$bus.$off("personal_core_waybills_under_operations"),t.$bus.$on("personal_core_waybills_under_operations",function(e){t.$store.state.provider.core_waybills_module.current_page=e,t.search_params.page=e,t.fetch_core_waybills()}.bind(this));case 11:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_materials:function(){var e=this,t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_materials).parse({},"");return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){return"success"==t.data.status?e.materials=t.data.materials:"failure"==t.data.status&&(e.errors=t.data.errors,e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.materials"),reason:": "+t.data.errors}))),t})["catch"](function(e){return console.log("Failed to fetch materials."),Promise.reject(e)})},fetch_core_waybills:function(){var e=this,t=_.cloneDeep(e.search_params);if(_.forEach(["number","flight_number","original_number","tracking_number","sender_name","consignee_name","consignee_address","consignee_phone","note"],function(e){t[e]&&(t[e]="%"+t[e]+"%")}),t.operation.number&&(t.operation.number="%"+t.operation.number+"%"),0==e.is_processing){e.show_core_waybills=!1,e.is_processing=!0;var i=new RestUrl(e.$store.state.provider.routes.api_v1_provider_core_waybills_filter).parse({},"?"+object_to_query(t));return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){return"success"==t.data.status?(e.core_waybills=t.data.core_waybills,e.pagination=t.data.pagination):"failure"==t.data.status&&(e.errors=t.data.errors,e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.core_waybills"),reason:": "+t.data.errors}))),t})["catch"](function(t){return e.errors.push(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.core_waybills"),reason:": "+e.$t("ui.general.network_abnormality")+","+t.response.status})),Promise.reject(t)}).then(function(){setTimeout(function(){e.is_processing=!1,e.show_core_waybills=!0},300)})}},init_search_params:function(){var e=this;e.search_params={operation:{number:null,is_done:!1,is_canceled:!1,station_identity:e.current_station.identity},material:{class_names:null},number:null,consignee_phone:null,consignee_name:null,weight_in_kilo:null,collection:null,is_done:!1},$(".station_core_waybills .ui.dropdown").dropdown("clear")}},components:{CoreWaybill:vs,Paginator:cr}},ys=bs,ws=Object(lt["a"])(ys,_s,ls,!1,null,"ca8fd964",null),$s=ws.exports,ks={data:function(){return{}},created:function(){},mounted:function(){},watch:{},computed:{},methods:{},components:{Operations:cs,CoreWaybillsUnderOperations:$s}},Cs=ks,xs=Object(lt["a"])(Cs,Kr,Wr,!1,null,"0f9a02c9",null),Ps=xs.exports,Ss=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"personal_monitor"}},[i("Operations"),i("div",{staticClass:"ui divider"}),i("CoreWaybills")],1)},Ns=[],As=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"operations x_scrollable"},[i("h1",{staticClass:"ui header"},[e._v("\n        "+e._s(e.$t("ui.pages.monitor.title.all_pending_operations"))+"\n        "),i("div",{staticClass:"sub header"},[e._v("\n            "+e._s(e.$t("ui.pages.monitor.sub_title.not_completed_operations"))+"\n        ")])]),i("table",{staticClass:"ui compact celled table"},[i("thead",{staticClass:"center aligned"},[i("tr",[i("th",[e._v(e._s(e.$t("ui.general.date")))]),i("th",[e._v(e._s(e.$t("models.attributes.operations.number")))]),i("th",[e._v(e._s(e.$t("models.attributes.operations.customer")))]),i("th",[e._v(e._s(e.$t("models.attributes.operations.customer_note")))]),i("th",[e._v(e._s(e.$t("models.attributes.operations.your_note")))]),i("th",[e._v(e._s(e.$t("ui.pages.operations.waybill_amount")))]),i("th",[e._v(e._s(e.$t("models.attributes.operations.file")))]),i("th",{staticClass:"center aligned"},[i("div",{staticClass:"ui basic icon button",on:{click:function(t){e.show_filter=!e.show_filter}}},[e.show_filter?i("i",{staticClass:"angle double up icon"}):i("i",{staticClass:"angle double down icon"})])])]),i("tr",{directives:[{name:"show",rawName:"v-show",value:e.show_filter,expression:"show_filter"}],staticClass:"center aligned"},[i("th",[i("el-date-picker",{staticClass:"next_input_row",attrs:{"unlink-panels":"",type:"daterange",size:"small",align:"center","start-placeholder":e.$t("ui.el.datepicker.startDate"),"end-placeholder":e.$t("ui.el.datepicker.endDate"),"picker-options":e.$store.state.element_ui_datepicker_daterange_options},model:{value:e.search_params.dates,callback:function(t){e.$set(e.search_params,"dates",t)},expression:"search_params.dates"}})],1),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.number,expression:"search_params.number"}],attrs:{type:"text"},domProps:{value:e.search_params.number},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_operations(t):null},input:function(t){t.target.composing||e.$set(e.search_params,"number",t.target.value)}}})])]),i("th",[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.search_params.customer_identity,expression:"search_params.customer_identity"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.search_params,"customer_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),i("option",{attrs:{value:"'null'"}},[e._v("無客戶")]),e._l(e.$store.state.provider.customers,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.company_name))])})],2)]),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.customer_note,expression:"search_params.customer_note"}],attrs:{type:"text"},domProps:{value:e.search_params.customer_note},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_operations(t):null},input:function(t){t.target.composing||e.$set(e.search_params,"customer_note",t.target.value)}}})])]),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.provider_note,expression:"search_params.provider_note"}],attrs:{type:"text"},domProps:{value:e.search_params.provider_note},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_operations(t):null},input:function(t){t.target.composing||e.$set(e.search_params,"provider_note",t.target.value)}}})])]),i("th"),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.original_file_name,expression:"search_params.original_file_name"}],attrs:{type:"text"},domProps:{value:e.search_params.original_file_name},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_operations(t):null},input:function(t){t.target.composing||e.$set(e.search_params,"original_file_name",t.target.value)}}})])]),i("th",[i("div",{staticClass:"ui icon mini buttons"},[i("div",{staticClass:"ui black basic button",on:{click:function(t){return t.preventDefault(),e.fetch_operations(t)}}},[i("i",{staticClass:"search icon"})]),i("div",{staticClass:"ui black basic button",on:{click:function(t){return t.preventDefault(),e.init_search_params(t)}}},[i("i",{staticClass:"refresh icon"})])])])])]),e.show_operations?i("tbody",[e._l(e.operations,function(t){return i("Operation",{key:t.identity,attrs:{operation:t,is_processing:e.is_processing}})}),e.operations.length<=0?i("tr",{staticClass:"center aligned"},[i("td",{attrs:{colspan:"8"}},[i("h5",[e._v(e._s(e.$t("ui.general.no_data")))])])]):e._e()],2):i("tbody",[e._m(0)])]),e.operations.length>0?i("Paginator",{attrs:{total_pages:e.pagination.total_pages,current_page:e.pagination.current_page,change_page_channel:"global_operations"}}):e._e()],1)},Es=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"loading"},[i("td",{attrs:{colspan:"8"}},[i("div",{staticClass:"ui active centered inline loader"})])])}],qs=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"center aligned"},[i("td",[e._v(" "+e._s(e.human_datetime(e.operation.created_at)))]),i("td",[e._v(" "+e._s(e.operation.number||"-")+" ")]),i("td",[e._v(" "+e._s(e.customer_name||"-")+" ")]),i("td",[e._v(" "+e._s(e.operation.customer_note||"-")+" ")]),i("td",[e._v(" "+e._s(e.operation.provider_note||"-")+" ")]),i("td",{class:{negative:0==e.operation.core_waybills.length}},[e._v("\n        "+e._s(e.done_core_waybills.length)+" / "+e._s(e.operation.core_waybills.length)+"\n    ")]),i("td",[i("a",{attrs:{href:e.operation.original_file_url}},[e._v(e._s(e.operation.original_file_name))])]),i("td",{staticClass:"center aligned"},[i("router-link",{staticClass:"ui basic primary button",attrs:{to:{name:"edit_provider_operation",params:{identity:e.operation.identity}}}},[e._v("\n            "+e._s(e.$t("ui.general.detail"))+"\n        ")])],1)])},zs=[],js={props:{operation:Object},data:function(){return{is_processing:!1}},computed:{customer_name:function(){return this.operation.customer?this.operation.customer.company_name:null},done_core_waybills:function(){return _.filter(this.operation.core_waybills,function(e){return 1==e.is_done})}},created:function(){},mounted:function(){},watch:{},methods:{cancel:function(){if(confirm(this.$t("ui.notifications.warning.are_you_sure_to_cancel_it"))){var e=this;e.is_processing=!0;var t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_operation_cancel).parse({operation_identity:e.operation.identity});axios.post(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"==t.data.status){var i=e.$store.state.provider.operations_module.operations.indexOf(e.operation);e.$store.state.provider.operations_module.operations.splice(i,1),e.$noty.success("訂單取消成功")}else e.$noty.error("訂單取消失敗")})["catch"](function(t){console.log(t),t.response?e.$noty.error(e.$t("ui.general.network_abnormality")+": "+t.response.status+t.response.data):e.$noty.error(e.$t("ui.general.network_abnormality")+": "+e.$t("ui.general.server_offline"))}),e.is_processing=!1}}},components:{}},Rs=js,Is=Object(lt["a"])(Rs,qs,zs,!1,null,null,null),Ts=Is.exports;function Os(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function Ls(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){Os(r,n,a,s,o,"next",e)}function o(e){Os(r,n,a,s,o,"throw",e)}s(void 0)})}}var Ds={data:function(){return{is_initialized:!1,is_processing:!1,show_operations:!1,show_filter:!1,operations:[],pagination:{},search_params:{begin_at:null,end_at:null,number:null,provider_note:null,customer_identity:null,customer_note:null,original_file_name:null,is_done:!1,is_canceled:!1},errors:[]}},created:function(){var e=this;e.init()},mounted:function(){this.$store.state.provider.operations_module.show_filter&&$(".ui.transition.search_bar").transition("fade down")},watch:{},computed:{},methods:{init:function(){var e=Ls(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,t.fetch_operations();case 5:return e.next=7,new Promise(function(e){t.is_initialized=!0,e()});case 7:t.$bus.$off("global_operations"),t.$bus.$on("global_operations",function(e){t.$store.state.provider.operations_module.current_page=e,t.search_params.page=e,t.fetch_operations()}.bind(this));case 9:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_operations:function(){var e=this;if(0==e.is_processing){e.show_operations=!1,e.is_processing=!0;var t=_.clone(e.search_params);t.dates&&(t["begin_at"]=e.$moment(t.dates[0]).startOf("day").format("YYYY-MM-DDTHH:mm:ss+08:00"),t["end_at"]=e.$moment(t.dates[1]).endOf("day").format("YYYY-MM-DDTHH:mm:ss+08:00"));var i=new RestUrl(e.$store.state.provider.routes.api_v1_provider_operations).parse({},"?"+object_to_query(t));return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){return"success"==t.data.status?(e.operations=t.data.operations,e.pagination=t.data.pagination):"failure"==t.data.status&&(e.errors=t.data.errors,e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.operations"),reason:": "+t.data.errors}))),t})["catch"](function(t){return e.errors.push(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.operations"),reason:": "+e.$t("ui.general.network_abnormality")+", "+t.response.status})),Promise.reject(t)}).then(function(){setTimeout(function(){e.is_processing=!1,e.show_operations=!0},300)})}},init_search_params:function(){var e=this;e.search_params={dates:[],begin_at:null,end_at:null,number:null,provider_note:null,customer_identity:null,customer_note:null,original_file_name:null,is_done:!1,is_canceled:!1},$("#operations .ui.dropdown").dropdown("clear")}},components:{Operation:Ts,Paginator:cr}},Bs=Ds,Ms=(n("c0a2"),Object(lt["a"])(Bs,As,Es,!1,null,"c1584a9c",null)),Us=Ms.exports,Fs=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"core_waybills_under_operations x_scrollable"},[i("h1",{staticClass:"ui header"},[e._v("\n        "+e._s(e.$t("ui.pages.monitor.title.all_pending_waybills"))+"\n        "),i("div",{staticClass:"sub header"},[e._v("\n            "+e._s(e.$t("ui.pages.monitor.sub_title.not_completed_waybills"))+"\n        ")])]),i("table",{staticClass:"ui compact celled table"},[i("thead",{staticClass:"center aligned"},[i("tr",[i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.operation_number")))]),i("th",[e._v(e._s(e.$t("models.materials")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.number")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.consignee_phone")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.consignee_name")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.weight_in_kilo")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.collection")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.latest_status")))]),i("th",{staticClass:"center aligned"},[i("div",{staticClass:"ui basic icon button",on:{click:function(t){e.show_filter=!e.show_filter}}},[e.show_filter?i("i",{staticClass:"angle double up icon"}):i("i",{staticClass:"angle double down icon"})])])]),i("tr",{directives:[{name:"show",rawName:"v-show",value:e.show_filter,expression:"show_filter"}],staticClass:"center aligned"},[i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.operation.number,expression:"search_params.operation.number"}],attrs:{type:"text"},domProps:{value:e.search_params.operation.number},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_core_waybills(t):null},input:function(t){t.target.composing||e.$set(e.search_params.operation,"number",t.target.value)}}})])]),i("th",[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.search_params.material.class_names,expression:"search_params.material.class_names"}],ref:"material_selector",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.search_params.material,"class_names",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.materials,function(t){return i("option",{domProps:{value:t.class_name}},[e._v(e._s(t.name))])})],2)]),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.number,expression:"search_params.number"}],attrs:{type:"text"},domProps:{value:e.search_params.number},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_core_waybills(t):null},input:function(t){t.target.composing||e.$set(e.search_params,"number",t.target.value)}}})])]),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.consignee_phone,expression:"search_params.consignee_phone"}],attrs:{type:"text"},domProps:{value:e.search_params.consignee_phone},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_core_waybills(t):null},input:function(t){t.target.composing||e.$set(e.search_params,"consignee_phone",t.target.value)}}})])]),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.consignee_name,expression:"search_params.consignee_name"}],attrs:{type:"text"},domProps:{value:e.search_params.consignee_name},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_core_waybills(t):null},input:function(t){t.target.composing||e.$set(e.search_params,"consignee_name",t.target.value)}}})])]),i("th"),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.weight_in_kilo,expression:"search_params.weight_in_kilo"}],attrs:{type:"number"},domProps:{value:e.search_params.weight_in_kilo},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_core_waybills(t):null},input:function(t){t.target.composing||e.$set(e.search_params,"weight_in_kilo",t.target.value)}}})])]),i("th",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params.collection,expression:"search_params.collection"}],attrs:{type:"number"},domProps:{value:e.search_params.collection},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_core_waybills(t):null},input:function(t){t.target.composing||e.$set(e.search_params,"collection",t.target.value)}}})])]),i("th",[i("div",{staticClass:"ui icon mini buttons"},[i("div",{staticClass:"ui black basic button",on:{click:function(t){return t.preventDefault(),e.fetch_core_waybills(t)}}},[i("i",{staticClass:"search icon"})]),i("div",{staticClass:"ui black basic button",on:{click:function(t){return t.preventDefault(),e.init_search_params(t)}}},[i("i",{staticClass:"refresh icon"})])])])])]),e.show_core_waybills?i("tbody",[e._l(e.core_waybills,function(t){return i("CoreWaybill",{key:t.identity,attrs:{core_waybill:t,is_processing:e.is_processing}})}),e.core_waybills.length<=0?i("tr",{staticClass:"center aligned"},[i("td",{attrs:{colspan:"8"}},[i("h5",[e._v(e._s(e.$t("ui.general.no_data")))])])]):e._e()],2):i("tbody",[e._m(0)])]),e.core_waybills.length>0?i("Paginator",{attrs:{total_pages:e.pagination.total_pages,current_page:e.pagination.current_page,change_page_channel:"global_core_waybills"}}):e._e()],1)},Gs=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"loading"},[i("td",{attrs:{colspan:"8"}},[i("div",{staticClass:"ui active centered inline loader"})])])}],Hs=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"center aligned"},[i("td",[e.core_waybill.operation?i("router-link",{attrs:{to:{name:"edit_provider_operation",params:{identity:e.core_waybill.operation.identity}}}},[e._v("\n            "+e._s(e.core_waybill.operation.number)+"\n        ")]):e._e()],1),i("td",[e._v(" "+e._s(e.core_waybill.material.name||"-")+" ")]),i("td",[e._v(" "+e._s(e.core_waybill.number||"-")+" ")]),i("td",[e._v(" "+e._s(e.core_waybill.consignee_phone||"-")+" ")]),i("td",[e._v(" "+e._s(e.core_waybill.consignee_name||"-")+" ")]),i("td",[e._v(" "+e._s(e.core_waybill.weight_in_kilo||"-")+" ")]),i("td",[e._v(" "+e._s(e.core_waybill.collection||"-")+" ")]),i("td",[e._v(" "+e._s(e.latest_status_name||"-"))]),i("td",{staticClass:"center aligned"},[i("router-link",{staticClass:"ui basic primary button",attrs:{to:{name:"edit_core_waybill",params:{identity:e.core_waybill.identity}}}},[e._v("\n            "+e._s(e.$t("ui.general.detail"))+"\n        ")])],1)])},Ys=[],Ks={props:{core_waybill:Object},data:function(){return{is_processing:!1}},computed:{latest_status_name:function(){try{return this.core_waybill.latest_status.name}catch(e){return null}}},created:function(){},mounted:function(){},watch:{},methods:{},components:{}},Ws=Ks,Vs=Object(lt["a"])(Ws,Hs,Ys,!1,null,null,null),Xs=Vs.exports;function Qs(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function Zs(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){Qs(r,n,a,s,o,"next",e)}function o(e){Qs(r,n,a,s,o,"throw",e)}s(void 0)})}}var Js={data:function(){return{is_initialized:!1,is_processing:!1,show_core_waybills:!1,show_filter:!1,core_waybills:[],materials:[],pagination:{},search_params:{operation:{number:null,is_done:!1,is_canceled:!1},material:{class_names:null},number:null,consignee_phone:null,consignee_name:null,weight_in_kilo:null,collection:null,is_done:!1},errors:[]}},created:function(){var e=this;e.init()},mounted:function(){this.$store.state.provider.core_waybills_module.show_filter&&$(".ui.transition.search_bar").transition("fade down")},watch:{},computed:{},methods:{init:function(){var e=Zs(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,t.fetch_materials();case 5:return e.next=7,t.fetch_core_waybills();case 7:return e.next=9,new Promise(function(e){t.is_initialized=!0,e()});case 9:t.$bus.$off("global_core_waybills"),t.$bus.$on("global_core_waybills",function(e){t.$store.state.provider.core_waybills_module.current_page=e,t.search_params.page=e,t.fetch_core_waybills()}.bind(this));case 11:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_materials:function(){var e=this,t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_materials).parse({},"");return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){return"success"==t.data.status?e.materials=t.data.materials:"failure"==t.data.status&&(e.errors=t.data.errors,e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.materials"),reason:": "+t.data.errors}))),t})["catch"](function(e){return console.log("Failed to fetch materials."),Promise.reject(e)})},fetch_core_waybills:function(){var e=this,t=_.cloneDeep(e.search_params);if(_.forEach(["number","flight_number","original_number","tracking_number","sender_name","consignee_name","consignee_address","consignee_phone","note"],function(e){t[e]&&(t[e]="%"+t[e]+"%")}),t.operation.number&&(t.operation.number="%"+t.operation.number+"%"),0==e.is_processing){e.show_core_waybills=!1,e.is_processing=!0;var i=new RestUrl(e.$store.state.provider.routes.api_v1_provider_core_waybills_filter).parse({},"?"+object_to_query(t));return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){return"success"==t.data.status?(e.core_waybills=t.data.core_waybills,e.pagination=t.data.pagination):"failure"==t.data.status&&(e.errors=t.data.errors,e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.core_waybills"),reason:": "+t.data.errors}))),t})["catch"](function(t){return e.errors.push(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.core_waybills"),reason:": "+e.$t("ui.general.network_abnormality")+","+t.response.status})),Promise.reject(t)}).then(function(){setTimeout(function(){e.is_processing=!1,e.show_core_waybills=!0},300)})}},init_search_params:function(){var e=this;e.search_params={operation:{number:null,is_done:!1,is_canceled:!1},material:{class_names:null},number:null,consignee_phone:null,consignee_name:null,weight_in_kilo:null,collection:null,is_done:!1},$(".core_waybills_under_operations .ui.dropdown").dropdown("clear")}},components:{CoreWaybill:Xs,Paginator:cr}},eo=Js,to=(n("fadb"),Object(lt["a"])(eo,Fs,Gs,!1,null,"7949f961",null)),io=to.exports,no={data:function(){return{}},created:function(){},mounted:function(){},watch:{},computed:{},methods:{},components:{Operations:Us,CoreWaybills:io}},ao=no,ro=Object(lt["a"])(ao,Ss,Ns,!1,null,"0f4904fc",null),so=ro.exports,oo={name:"ProviderIndex",props:{},data:function(){return{is_loading:!1,current_component:""}},computed:{current_staff:function(){return this.$store.state.provider.current_staff}},mounted:function(){var e=this;e.set_breadcrumbs(),e.current_component="manager"==e.current_staff.theme_name?"GlobalMonitor":"PersonalMonitor"},watch:{$route:function(e,t){var i=this;i.set_breadcrumbs()}},methods:{set_breadcrumbs:function(){var e=this;e.$store.state.breadcrumbs=[]}},components:{PersonalMonitor:Yr,StationalMonitor:Ps,GlobalMonitor:so}},co=oo,_o=Object(lt["a"])(co,ma,fa,!1,null,"f6483f24",null),lo=_o.exports,uo=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"demo"}},[i("h3",[e._v("\n        Feature Or Components Demo\n    ")]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui buttons"},[i("div",{staticClass:"ui button",on:{click:function(t){e.$bus.$emit("add_image_print_job",e.print_job_1)}}},[e._v("\n            Image Printer (A4, 6 in one page) * 1 page\n        ")]),i("div",{staticClass:"ui button",on:{click:function(t){e.$bus.$emit("add_image_print_job",e.print_job_2)}}},[e._v("\n            Image Printer (100x100, 1 in one page) * 6 page\n        ")])]),i("div",{staticClass:"ui buttons"},[i("div",{staticClass:"ui button",on:{click:function(t){e.$bus.$emit("document_print",{documents:[{name:"1",html:"<h1>Test</h1>"},{name:"2",html:"<h1>Test</h1>"}],paper_type:"A4",numbers_of_one_page:1})}}},[e._v("\n            Document Printer (A4, 6 in one page) * 1 page\n        ")]),i("div",{staticClass:"ui button",on:{click:function(t){e.$bus.$emit("document_print",{documents:[{name:"1",html:"<h1>Test</h1>"},{name:"2",html:"<h1>Test</h1>"}],paper_type:"100x100",numbers_of_one_page:1})}}},[e._v("\n            Document Printer (100x100, 1 in one page) * 6 page\n        ")])]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui segment"},[i("h3",{staticClass:"ui header"},[e._v("WebAudio")]),i("WebAudio",{attrs:{channel:"provider_index_web_audio",allow_overlay_play:!1,show_demo:!0}}),i("div",{staticClass:"ui basic button",on:{click:function(t){e.$bus.$emit("provider_index_web_audio","play_sound","ok")}}},[e._v("\n            PlaySound\n        ")]),i("div",{staticClass:"ui basic button",on:{click:function(t){e.$bus.$emit("provider_index_web_audio","play_file","AlertSound.mp3")}}},[e._v("\n            PlayFile\n        ")])],1),i("div",{staticClass:"ui segment"},[i("h3",{staticClass:"ui header"},[e._v("Receipts")]),i("div",{staticClass:"ui basic button",on:{click:function(t){e.$bus.$emit("Receipts","A5")}}},[e._v("\n            呼叫列印 A5 in A5 by event bus\n        ")]),i("div",{staticClass:"ui basic button",on:{click:function(t){e.$bus.$emit("Receipts","A4")}}},[e._v("\n            呼叫列印 A5 in A4 by event bus\n        ")]),i("Receipts",{attrs:{channel_name:"Receipts",assigned_core_waybills:e.demo_core_waybills,title:"測試範例簽收單",sub_title:"http://by-express.com",customer_service_hotline:"0800-000-123",logistician:{name:"9999999 配送人員"},logo_url:"/images/by_express_logo.jpg",show_contents:!1}})],1),i("div",{staticClass:"ui segment"},[i("h3",{staticClass:"ui header"},[e._v("FileUploader")]),i("button",{staticClass:"ui basic button",on:{click:function(t){e.$bus.$emit("FileUploader1","FileUploader1","open_file_browser")}}},[e._v("呼叫file browser")]),i("FileUploader",{attrs:{channel:"FileUploader1"}}),i("FileUploader",{attrs:{channel:"FileUploader2",theme:"compact"}})],1),i("div",{staticClass:"ui segment"},[i("h3",{staticClass:"ui header"},[e._v("CoreWaybillsLabelSvg")]),i("CoreWaybillsLabelSvg",{attrs:{label_name:"1231",authentication_token:"12312"}})],1),i("div",{staticClass:"ui segment"},[i("h3",{staticClass:"ui header"},[e._v("OrderSummary")]),i("OrderSummary",{attrs:{channel_name:"OrderSummary",assigned_core_waybills:e.demo_core_waybills,title:"測試範例簽收單",sub_title:"http://by-express.com",customer_service_hotline:"0800-000-123",logistician:{name:"9999999 配送人員"},logo_url:"/images/by_express_logo.jpg",show_buttons:!0,show_contents:!0}})],1),i("div",{staticClass:"ui segment"},[i("h3",{staticClass:"ui header"},[e._v("CheckSummary")]),i("CheckSummary",{attrs:{scope:"provider",default_search_params:{latest_condition_name:"current_handover",latest_condition_polarity:!0,pagination:!1},channel_name:"CheckSummary",title:"貨物交予 點交單",sub_title:"http://by-express.com",customer_service_hotline:"123456",logo_url:"/images/by_express_logo.jpg",show_buttons:!0,show_contents:!0}})],1),i("div",{staticClass:"ui segment"},[i("h3",{staticClass:"ui header"},[e._v("Supervisor")]),i("Supervisor")],1)])},po=[],mo=n("1346"),fo=n("a808"),vo=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"order_summary"},[e.show_buttons&&e.is_printing?i("div",{staticClass:"ui basic buttons"},[i("div",{staticClass:"ui loading button"},[i("i",{staticClass:"print icon"}),e._v("\n            "+e._s(e.$t("ui.toolbox.operation_summary.print_operation_list"))+"\n        ")])]):e._e(),e.show_buttons&&!e.is_printing?i("div",{staticClass:"ui basic buttons"},[i("div",{staticClass:"ui button",on:{click:e.print}},[i("i",{staticClass:"print icon"}),e._v("\n            "+e._s(e.$t("ui.toolbox.operation_summary.print_operation_list"))+"\n        ")])]):e._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:e.show_contents,expression:"show_contents"}]},[i("div",{ref:"printable",staticStyle:{padding:"25px"}},[i("h2",{staticClass:"ui center aligned header"},[i("img",{attrs:{src:e.logo_url}}),i("div",{staticClass:"content"},[e._v("\n                    "+e._s(e.title)+"("+e._s(e.customer_service_hotline)+")\n                    "),i("div",{staticClass:"sub header"},[e._v(e._s(e.sub_title))])])]),i("table",{staticClass:"ui celled center aligned table"},[i("thead",[i("tr",[i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.original_number")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.number")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.consignee")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.consignee_phone")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.consignee_address")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.payment_type")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.weight_in_kilo")))]),i("th",[e._v(e._s(e.$t("models.attributes.core_waybills.collection")))])])]),i("tbody",e._l(e.core_waybills,function(t){return i("tr",[i("td",[e._v(e._s(t.original_number))]),i("td",[e._v(e._s(t.number))]),i("td",[e._v(e._s(t.consignee_name))]),i("td",[e._v(e._s(t.consignee_phone))]),i("td",[e._v(e._s(t.consignee_address))]),i("td",[e._v(e._s(t.payment_type))]),i("td",[e._v(e._s(t.weight_in_kilo))]),i("td",[e._v(e._s(t.collection))])])}))]),i("table",{staticClass:"ui celled center aligned table"},[i("tbody",[i("tr",[i("td",{staticClass:"collapsing"},[e._v("\n                            "+e._s(e.$t("ui.toolbox.operation_summary.table.sender_signature"))+"\n                        ")]),i("td",{staticClass:"seven width column"}),i("td",{staticClass:"collapsing"},[e._v("\n                            "+e._s(e.$t("ui.toolbox.operation_summary.table.driver_signature"))+"\n                        ")]),i("td",{staticClass:"seven width column"})])])])])])])},ho=[];function go(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function bo(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){go(r,n,a,s,o,"next",e)}function o(e){go(r,n,a,s,o,"throw",e)}s(void 0)})}}var yo={name:"ToolOrderSummaryMain",props:{show_buttons:{type:Boolean,default:!1},show_contents:{type:Boolean,default:!1},assigned_core_waybills:{type:Array,default:function(){return[]}},logo_url:{type:String,default:"/images/tw568_logo.png"},force_location:String,title:String,sub_title:String,customer_service_hotline:String,logistician:Object,blank_value_text:{type:String,default:"-"},channel_name:{type:String,default:"order_summary"},default_search_params:{type:Object,default:function(){return{}}},scope:String},data:function(){return{is_printing:!1,core_waybills:[]}},mounted:function(){var e=this;e.$bus.$off(e.channel_name),e.$bus.$on(e.channel_name,function(){e.print()}.bind(this))},computed:{},methods:{print:function(){var e=bo(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,t.is_printing){e.next=15;break}return e.next=4,new Promise(function(e){t.is_printing=!0,t.core_waybills=t.assigned_core_waybills,e()});case 4:if(0!=t.core_waybills.length){e.next=7;break}return e.next=7,t.fetch_core_waybills();case 7:return e.next=9,new Promise(function(e){$("div#print").html(""),e()});case 9:return e.next=11,t.$nextTick(function(){window.Noty.closeAll()});case 11:return e.next=13,new Promise(function(e){$(t.$refs.printable).clone().appendTo("div#print"),e()});case 13:return e.next=15,new Promise(function(e){window.print(),t.is_printing=!1,e()});case 15:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_core_waybills:function(){var e=this;switch(e.scope){case"provider":var t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_core_waybills_filter).parse({},"?"+object_to_query(e.default_search_params)),i=localStorage.getItem("authentication_token");break;case"customer":t=new RestUrl(e.$store.state.customer.routes.api_v1_customer_core_waybills_filter).parse({},"?"+object_to_query(e.default_search_params)),i=localStorage.getItem("customer_authentication_token");break}return axios.get(t,{headers:{Authorization:i}}).then(function(t){return"success"==t.data.status?e.core_waybills=t.data.core_waybills:"failure"==t.data.status&&e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.core_waybills"),reason:": "+t.data.errors})),t})["catch"](function(t){return e.errors.push(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.core_waybills"),reason:": "+e.$t("ui.general.network_abnormality")+","+t.response.status})),Promise.reject(t)}).then(function(){})}},components:{}},wo=yo,$o=(n("9835"),Object(lt["a"])(wo,vo,ho,!1,null,"98464db2",null)),ko=$o.exports,Co=n("21b8"),xo=n("dcbb"),Po=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"core_waybills_label_svg"}},[i("div",{staticClass:"ui form"},[e.is_show_input?i("div",{staticClass:"field"},[i("label",[e._v("\n                "+e._s(e.$t("ui.toolbox.core_waybills_label_svg.helps.numbers_input"))+"\n            ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.current_numbers,expression:"current_numbers"}],attrs:{type:"text"},domProps:{value:e.current_numbers},on:{input:function(t){t.target.composing||(e.current_numbers=t.target.value)}}})]):e._e(),i("div",{staticClass:"fields"},[i("div",{staticClass:"field"},[i("label",[e._v("\n                    "+e._s(e.$t("ui.toolbox.core_waybills_label_svg.labels.paper_type"))+"\n                ")]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection dropdown"},[i("div",{staticClass:"text"},[e._v("\n                        "+e._s(e.current_page_type.name)+"\n                    ")]),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.page_types,function(t){return i("div",{staticClass:"item",class:{"selected active":e.current_page_type.name==t.name},on:{click:function(i){e.current_page_type=t}}},[e._v("\n                            "+e._s(t.name)+"\n                        ")])}))])]),e.errors?e._e():i("div",{staticClass:"field"},[i("label",[e._v(" ")]),i("div",{staticClass:"ui button",class:{loading:e.is_printing},attrs:{disabled:!e.is_printing},on:{click:function(t){t.preventDefault(),e.add_image_print_job()}}},[e._v("\n                    "+e._s(e.$t("ui.toolbox.core_waybills_label_svg.btns.print"))+"\n                ")])]),e.errors?e._e():i("div",{staticClass:"field"},[i("label",[e._v(" ")]),i("div",{staticClass:"ui button",class:{loading:e.is_printing},attrs:{disabled:!e.is_printing,"data-tooltip":"列印前請先檢查有無跑版，列印邊距為0"},on:{click:function(t){t.preventDefault(),e.new_add_image_print_job()}}},[e._v("\n                    "+e._s("加速列印(測試中)")+"\n                ")])])])])])},So=[];function No(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function Ao(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){No(r,n,a,s,o,"next",e)}function o(e){No(r,n,a,s,o,"throw",e)}s(void 0)})}}var Eo={name:"ToolCoreWaybillsLabelSvgMain",props:{numbers:{type:String,default:""},label_name:{type:String,default:""},authentication_token:{type:String,default:""},staff_identity:{type:String,default:""},is_show_input:{type:Boolean,default:!0},scope:{type:String,default:"provider"},node_carrier_name:{type:String,default:""},is_post_method:{type:Boolean,default:!1},channel:String},data:function(){return{is_initialized:!1,is_processing:!0,is_printing:!1,post_method:{url:"",numbers:""},errors:"",src_array:[],current_numbers:"",current_page_type:{name:"100x100mm",value:"100x100"},page_types:[{name:"100x100mm",value:"100x100"},{name:"100x200mm",value:"100x200"},{name:"100x190mm",value:"100x190"},{name:"100x180mm",value:"100x180"},{name:"A4 3x2",value:"A4"},{name:"60x20mm",value:"60x20"}],label_width:100,label_height:100,paper_type:null,label_padding:2,material_label_company_regexes:[{regex:/(by_express|byexpress|博宇速運|博宇)/i,name:"by_express_logo_no_text"},{regex:/(tw_568|tw568|台灣物流寶)/i,name:"tw568_logo"},{regex:/(t_cat|tcat|黑貓宅急便|黑貓)/i,name:"t_cat_logo"},{regex:/(hct|新竹物流|新竹物)/i,name:"hct_logo"}]}},computed:{},created:function(){},mounted:function(){var e=this,t=this;t.$bus.$on("print_done_signal",function(){e.is_printing=!1}),t.init()},watch:{numbers:function(e){this.init()},current_numbers:function(e){this.init()},current_page_type:{deep:!0,handler:function(){var e=Ao(regeneratorRuntime.mark(function e(t){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i=this,i.is_processing=!0,e.next=4,i.handle_label();case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}},methods:{init:function(){var e=Ao(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,t.src_array=[],t.is_processing=!0,e.next=5,t.check_props();case 5:return e.next=7,t.handle_label();case 7:return e.next=9,new Promise(function(e){t.is_initialized=!0,e()});case 9:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),new_add_image_print_job:function(){var e=Ao(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.is_printing){e.next=5;break}return e.next=3,this.handle_label(!0);case 3:return e.next=5,new Promise(function(e){t.add_image_print_job(!0),e()});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),add_image_print_job:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.is_printing||(this.$bus.$emit("add_image_print_job",{images:this.src_array,paper_type:this.current_page_type.value,numbers_of_one_page:"A4"!=this.current_page_type.value||e?1:6}),this.is_printing=!0)},check_props:function(){var e=this;e.errors="";try{if(!e.authentication_token)throw e.$t("ui.toolbox.core_waybills_label_svg.errors.no_authentication_token");var t=e.numbers?e.numbers:e.current_numbers;t||(e.errors=e.$t("ui.toolbox.core_waybills_label_svg.errors.no_number"))}catch(i){e.errors=i,e.$noty.error(i)}return Promise.resolve()},handle_label:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this,i=t.numbers?t.numbers:t.current_numbers,n=i.split(",");switch(_.remove(n,_.isUndefined),n=_.filter(n),t.src_array=[],t.label_width=e?null:100,t.label_height=e?null:100,t.label_padding=2,t.paper_type=null,t.current_page_type.value){case"A4":t.paper_type="A4",e||(t.label_width=105,t.label_height=99,t.label_padding=4.5);break;case"100x200":t.label_width=100,t.label_height=200;break;case"100x190":t.label_width=100,t.label_height=190;break;case"100x180":t.label_width=100,t.label_height=180;break;case"60x20":t.label_width=60,t.label_height=20;break;default:}var a="&padding="+t.label_padding+"&authorization="+t.authentication_token;return a+=t.label_height?"&label_height="+t.label_height:"",a+=t.label_width?"&label_width="+t.label_width:"",t.paper_type&&e&&(a+="&paper_type="+t.paper_type),t.staff_identity&&(a+="&staff_identity="+t.staff_identity),t.src_array=[],e?(t.src_array.push({name:i,src:new RestUrl(t.handle_url(e)).parse({},".svg?numbers="+i+a)}),console.log(t.src_array)):(_.forEach(n,function(i,n){t.src_array.push({name:i,src:new RestUrl(t.handle_url(e)).parse({},".svg?number="+i+a)}),"60x20"==t.current_page_type.value&&t.src_array.push({name:i+"_is_hide_logo=true",src:new RestUrl(t.handle_url(e)).parse({},".svg?number="+i+a)})}),console.log(t.src_array)),Promise.resolve()},handle_url:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;switch(t.scope){case"provider":return e?t.$store.state.provider.routes.api_v1_provider_core_waybills_new_label:t.$store.state.provider.routes.api_v1_provider_core_waybills_label;case"customer":return t.$store.state.customer.routes.api_v1_customer_core_waybills_label;default:return t.$store.state.provider.routes.api_v1_provider_core_waybills_label}}},components:{}},qo=Eo,zo=(n("2fca"),Object(lt["a"])(qo,Po,So,!1,null,"0d77591c",null)),jo=zo.exports,Ro=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"supervisor"},[e.is_loading?i("div",[e._m(0)]):i("div",[i("div",{staticClass:"ui basic buttons"},[i("div",{staticClass:"ui basic button",class:{active:"today"==e.time_interval},on:{click:function(t){e.time_interval="today"}}},[e._v("今天")]),i("div",{staticClass:"ui basic button",class:{active:"1d"==e.time_interval},on:{click:function(t){e.time_interval="1d"}}},[e._v("1d")]),i("div",{staticClass:"ui basic button",class:{active:"7d"==e.time_interval},on:{click:function(t){e.time_interval="7d"}}},[e._v("7d")]),i("div",{staticClass:"ui basic button",class:{active:"1m"==e.time_interval},on:{click:function(t){e.time_interval="1m"}}},[e._v("1m")]),i("div",{staticClass:"ui basic button",class:{active:"3m"==e.time_interval},on:{click:function(t){e.time_interval="3m"}}},[e._v("3m")]),i("div",{staticClass:"ui basic button",class:{active:"6m"==e.time_interval},on:{click:function(t){e.time_interval="6m"}}},[e._v("6m")]),i("div",{staticClass:"ui basic button",class:{active:"1y"==e.time_interval},on:{click:function(t){e.time_interval="1y"}}},[e._v("1y")]),i("div",{staticClass:"ui basic button",class:{active:"all"==e.time_interval},on:{click:function(t){e.time_interval="all"}}},[e._v("全部")])]),i("div",{staticClass:"ui segment"},[i("button",{staticClass:"ui basic button",on:{click:e.init}},[e._v("更新")]),e.scan_action_scoped_core_waybills_count?i("div",{staticClass:"ui segment"},[i("h1",{staticClass:"ui header"},[e._v("掃描動作")]),i("table",{staticClass:"ui definition celled table"},[i("thead",[i("tr",[i("th"),e._l(e.scan_action_scoped_core_waybills_count,function(t,n){return i("th",[e._v(e._s(n))])})],2)]),i("tbody",e._l(e.materials,function(t){return i("tr",[i("td",[e._v(e._s(t.name))]),e._l(e.scan_action_scoped_core_waybills_count,function(n,a){return i("td",[e._v(e._s(n[t.name]||0))])})],2)}))])]):e._e(),e.status_prototypes_scoped_core_waybills_count?i("div",{staticClass:"ui segment"},[i("h1",{staticClass:"ui header"},[e._v("貨況")]),i("table",{staticClass:"ui definition celled table"},[i("thead",[i("tr",[i("th"),e._l(e.status_prototypes_scoped_core_waybills_count,function(t,n){return i("th",[e._v(e._s(n))])})],2)]),i("tbody",e._l(e.materials,function(t){return i("tr",[i("td",[e._v(e._s(t.name))]),e._l(e.status_prototypes_scoped_core_waybills_count,function(n,a){return i("td",[e._v(e._s(n[t.name]||0))])})],2)}))])]):e._e(),e.current_condition_scoped_core_waybills_count?i("div",{staticClass:"ui segment"},[i("h1",{staticClass:"ui header"},[e._v("狀態")]),i("table",{staticClass:"ui definition celled table"},[i("thead",[i("tr",[i("th"),e._l(e.current_condition_scoped_core_waybills_count,function(t,n){return e.conditions[n]?i("th",[e._v(e._s(e.conditions[n]))]):e._e()})],2)]),i("tbody",e._l(e.materials,function(t){return i("tr",[i("td",[e._v(e._s(t.name))]),e._l(e.current_condition_scoped_core_waybills_count,function(n,a){return e.conditions[a]?i("td",[e._v(e._s(n[t.name]||0))]):e._e()})],2)}))])]):e._e()])])])},Io=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui segment"},[i("div",{staticClass:"ui active inverted dimmer"},[i("div",{staticClass:"ui text loader"},[e._v("Loading")])]),i("p")])}];function To(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function Oo(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){To(r,n,a,s,o,"next",e)}function o(e){To(r,n,a,s,o,"throw",e)}s(void 0)})}}var Lo={name:"Supervisor",props:{channel_name:{type:String,default:function(){return"supervisor"}}},data:function(){return{is_initialized:!1,is_loading:!1,time_interval:"today",materials:[],scan_action_scoped_core_waybills_count:null,status_prototypes_scoped_core_waybills_count:null,current_condition_scoped_core_waybills_count:null}},computed:{search_params:function(){return{time_interval:this.time_interval}},conditions:function(){return{trueSHIPPING:"配送中",trueEXCEPTIONING:"異常件",trueTRANSFERING:"轉運中",trueCHECKING:"在站內",trueINTERMODALING:"聯運中",trueLOCKING:"鎖定中",falseIS_DONE:"未完成",trueIS_DONE:"已完成","上傳":"上傳"}}},mounted:function(){},methods:{init:function(){var e=Oo(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,new Promise(function(e){t.is_loading=!0,e()});case 5:return e.next=7,t.fetch_materials();case 7:return e.next=9,t.fetch_supervisor();case 9:return e.next=11,new Promise(function(e){setTimeout(function(){t.is_loading=!1},300),e()});case 11:return e.next=13,new Promise(function(e){t.is_initialized=!0,e()});case 13:t.$bus.$off(t.channel_name),t.$bus.$on(t.channel_name,function(e,i){switch(e){case"init":t.init();break;case"change_time_interval":t.time_interval=i;break}}.bind(this));case 15:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_materials:function(){var e=this,t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_materials).parse({},"");return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?e.materials=t.data.materials:console.log(t.data)})["catch"](function(t){console.log(t.response),e.$noty.error("取得 materials 失敗")}).then(function(){})},fetch_supervisor:function(){var e=this,t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_supervisor).parse({},"?"+object_to_query(e.search_params));return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.scan_action_scoped_core_waybills_count=t.data.scan_action_scoped_core_waybills_count,e.status_prototypes_scoped_core_waybills_count=t.data.status_prototypes_scoped_core_waybills_count,e.current_condition_scoped_core_waybills_count=t.data.current_condition_scoped_core_waybills_count):console.log(t.data)})["catch"](function(t){console.log(t.response),e.$noty.error("取得supervisor失敗")}).then(function(){})}},components:{}},Do=Lo,Bo=(n("f46d"),Object(lt["a"])(Do,Ro,Io,!1,null,"45c67f57",null)),Mo=Bo.exports,Uo={name:"ProviderDemo",props:{},data:function(){return{is_loading:!1,print_job_1:{note:"Demo Print Job 1",images:[{name:"1",src:"https://img.discogs.com/xrWPcqdGvmhXzsn9jCOcI3W--1A=/fit-in/396x374/filters:strip_icc():format(jpeg):mode_rgb():quality(90)/discogs-images/R-6262272-1415048734-4399.jpeg.jpg"},{name:"2",src:"https://img.discogs.com/xrWPcqdGvmhXzsn9jCOcI3W--1A=/fit-in/396x374/filters:strip_icc():format(jpeg):mode_rgb():quality(90)/discogs-images/R-6262272-1415048734-4399.jpeg.jpg"},{name:"3",src:"https://img.discogs.com/xrWPcqdGvmhXzsn9jCOcI3W--1A=/fit-in/396x374/filters:strip_icc():format(jpeg):mode_rgb():quality(90)/discogs-images/R-6262272-1415048734-4399.jpeg.jpg"},{name:"4",src:"https://img.discogs.com/xrWPcqdGvmhXzsn9jCOcI3W--1A=/fit-in/396x374/filters:strip_icc():format(jpeg):mode_rgb():quality(90)/discogs-images/R-6262272-1415048734-4399.jpeg.jpg"},{name:"5",src:"https://img.discogs.com/xrWPcqdGvmhXzsn9jCOcI3W--1A=/fit-in/396x374/filters:strip_icc():format(jpeg):mode_rgb():quality(90)/discogs-images/R-6262272-1415048734-4399.jpeg.jpg"},{name:"6",src:"https://img.discogs.com/xrWPcqdGvmhXzsn9jCOcI3W--1A=/fit-in/396x374/filters:strip_icc():format(jpeg):mode_rgb():quality(90)/discogs-images/R-6262272-1415048734-4399.jpeg.jpg"}],paper_type:"A4",numbers_of_one_page:6},print_job_2:{note:"Demo Print Job 2",images:[{name:"1",src:"https://sc01.alicdn.com/kf/HTB12X0mGFXXXXXQXVXXq6xXFXXXL/2215311/HTB12X0mGFXXXXXQXVXXq6xXFXXXL.jpg"},{name:"2",src:"https://sc01.alicdn.com/kf/HTB12X0mGFXXXXXQXVXXq6xXFXXXL/2215311/HTB12X0mGFXXXXXQXVXXq6xXFXXXL.jpg"},{name:"3",src:"https://sc01.alicdn.com/kf/HTB12X0mGFXXXXXQXVXXq6xXFXXXL/2215311/HTB12X0mGFXXXXXQXVXXq6xXFXXXL.jpg"},{name:"4",src:"https://sc01.alicdn.com/kf/HTB12X0mGFXXXXXQXVXXq6xXFXXXL/2215311/HTB12X0mGFXXXXXQXVXXq6xXFXXXL.jpg"},{name:"5",src:"https://sc01.alicdn.com/kf/HTB12X0mGFXXXXXQXVXXq6xXFXXXL/2215311/HTB12X0mGFXXXXXQXVXXq6xXFXXXL.jpg"},{name:"6",src:"https://sc01.alicdn.com/kf/HTB12X0mGFXXXXXQXVXXq6xXFXXXL/2215311/HTB12X0mGFXXXXXQXVXXq6xXFXXXL.jpg"}],paper_type:"100x100",numbers_of_one_page:1},demo_core_waybills:[{number:"886600130504",original_number:"這個欄位接受至多15字湊字湊字湊",consignee_name:"這個欄位接受至多15字湊字湊字湊",consignee_phone:"這個欄位接受至多15字湊字湊字湊",consignee_address:"這個欄位接受至多30字湊字湊字湊字湊字湊字湊字湊字湊字湊字湊字",original_waybill_number:"這個欄位接受至多15字湊字湊字湊",sender_name:"這個欄位接受至多15字湊字湊字湊",sender_phone:"這個欄位接受至多15字湊字湊字湊",sender_address:"這個欄位接受至多30字湊字湊字湊字湊字湊字湊字湊字湊字湊字湊字",pieces:99999,measurement:99999,collection:99999,goods_name:"品名：女用灰色上衣L",shipping_date:"2017-12-13",shipping_period:"00~24",shipping_note:"這個欄位接受至多10字",charge:99999,payment_type:"cash_by_sender"},{number:"886600130505",original_number:"775600130505",consignee_name:"一般使用範例（資料量普通）",consignee_phone:"0912345678",consignee_address:"桃園市桃園區樹林八街24-2號3樓",original_waybill_number:"7756655665",sender_name:"陳宜靜",sender_phone:"0987654321",sender_address:"桃園市桃園區桃園火車站",pieces:50,measurement:20,collection:1500,goods_name:"女用手錶",shipping_date:"2017-12-13",shipping_period:"08~13",shipping_note:"週六配送 上樓",charge:500,payment_type:"cash_by_consignee"},{number:"886600130506",consignee_name:"空單",consignee_phone:null,consignee_address:null,original_waybill_number:null,sender_name:null,sender_phone:null,sender_address:null,pieces:null,measurement:null,collection:null,goods_name:null,shipping_date:null,shipping_period:null,shipping_note:null,charge:null,payment_type:null}]}},mounted:function(){var e=this;e.$bus.$on("FileUploader1",function(e,t,i){switch(t){case"uploaded_file":console.log("your uploaded file is: "+i);break;case"uploading":console.log("uploading"),console.log(i);break;case"upload complete":console.log("complete"),console.log(i);break;case"upload failed":console.log("failed");break}}.bind(this)),e.$bus.$on("FileUploader2",function(e,t,i){switch(t){case"uploaded_file":console.log("your uploaded file is: "+i);break;case"uploading":console.log("uploading"),console.log(i);break;case"upload complete":console.log("complete"),console.log(i);break;case"upload failed":console.log("failed");break}}.bind(this))},watch:{},methods:{},components:{WebAudio:mo["a"],Receipts:fo["a"],FileUploader:xo["a"],CoreWaybillsLabelSvg:jo,OrderSummary:ko,CheckSummary:Co["a"],Supervisor:Mo},computed:{}},Fo=Uo,Go=Object(lt["a"])(Fo,uo,po,!1,null,"63557a93",null),Ho=Go.exports,Yo=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"routes"}},e._l(e.provider_routes.children,function(t){return i("div",[e._v("\n        {"),i("br"),e._v('   \n            "name":\n\n            '),"/"!=t.path?i("span",[e._v('"'+e._s(t.path)+'"')]):e._e(),t.name?i("span",[e._v('"'+e._s(t.name)+'"')]):e._e(),e._v(",\n            "),t.children?i("span",[i("br"),e._v('\n                   \n                "action_names": [\n                    '),e._l(t.children,function(t){return i("div",[t.name?i("p",{staticStyle:{"padding-left":"18px","margin-bottom":"0"}},[e._v('\n                                   \n                            "'+e._s(t.name)+'",\n                        ')]):e._e(),e._l(t.children,function(n){return t.children?i("p",{staticStyle:{"padding-left":"18px","margin-bottom":"0"}},[e._v('\n                                   \n                            "'+e._s(n.name)+'",\n                        ')]):i("p")})],2)}),e._v("\n\n                   \n                ],")],2):e._e(),i("br"),e._v("\n        },\n    ")])}))},Ko=[],Wo={data:function(){return{}},computed:{provider_routes:function(){return _.find(this.$router.options.routes,function(e){return"/provider"==e.path})}},mounted:function(){}},Vo=Wo,Xo=Object(lt["a"])(Vo,Yo,Ko,!1,null,null,null),Qo=Xo.exports,Zo=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.is_initialized?i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1):e._e(),i("div",{staticClass:"ui inverted dimmer transition",class:{active:!e.is_initialized}},[i("div",{staticClass:"ui text loader"},[e._v("\n            "+e._s(e.$t("ui.general.initializing"))+"\n        ")])])],1)},Jo=[];function ec(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function tc(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){ec(r,n,a,s,o,"next",e)}function o(e){ec(r,n,a,s,o,"throw",e)}s(void 0)})}}var ic={name:"StationsLayout",data:function(){return{is_initialized:!1,errors:[]}},computed:{},watch:{},created:function(){this.init()},mounted:function(){},methods:{init:function(){var e=tc(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,new Promise(function(e){t.is_initialized=!0,e()});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{}},nc=ic,ac=Object(lt["a"])(nc,Zo,Jo,!1,null,null,null),rc=ac.exports,sc=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("Index")],1)},oc=[],cc=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"stations"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),i("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[i("div"),i("div",{staticClass:"ui segment",style:{width:e.filter.is_advanced_mode?"100%":"auto",margin:0}},[i("FilterHeader",{staticClass:"right floated"}),i("div",{staticClass:"clear"}),i("FilterAdvanced",{staticClass:"ui transition hidden filter"})],1)]),i("div",{staticClass:"ui segment"},[i("table",{staticClass:"ui celled table"},[i("thead",{staticClass:"center aligned"},[i("tr",[i("th",[e._v(e._s(e.$t("models.attributes.stations.name")))]),i("th",[e._v(e._s(e.$t("models.attributes.stations.code")))]),i("th",[e._v(e._s(e.$t("models.attributes.stations.phone")))]),i("th",[e._v(e._s(e.$t("models.attributes.stations.note")))]),i("th",[e._v(e._s(e.$t("ui.general.operate")))])])]),e.is_loading?i("tbody",{staticClass:"center aligned"},[e._m(0)]):i("tbody",{staticClass:"center aligned"},[e._l(e.stations,function(e){return i("Row",{key:e.identity,attrs:{station:e}})}),e.stations.length<=0?i("tr",{staticClass:"center aligned"},[i("td",{attrs:{colspan:"5"}},[i("h5",[e._v(e._s(e.$t("ui.general.no_data")))])])]):e._e()],2)]),i("div",{staticClass:"right floated"},[i("Paginator",{attrs:{total_pages:e.pagination.total_pages,current_page:e.pagination.current_page}})],1),i("div",{staticClass:"clear"})])],1)},_c=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"loading"},[i("td",{attrs:{colspan:"2"}},[i("div",{staticClass:"ui active centered inline loader"})])])}],lc=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",[i("td",[e._v("\n        "+e._s(e.station.name)+"\n    ")]),i("td",[e._v("\n        "+e._s(e.station.code||"-")+"\n    ")]),i("td",[e._v("\n        "+e._s(e.station.phone||"-")+"\n    ")]),i("td",{staticStyle:{"max-width":"120px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}},[e._v("\n        "+e._s(e.station.note||"-")+"\n    ")]),i("td",[e.is_loading?i("div",{},[i("div",{staticClass:"ui basic loading green button"},[e._v("\n                "+e._s(e.$t("ui.general.edit"))+"\n            ")]),i("a",{staticClass:"ui basic loading red button"},[e._v("\n                "+e._s(e.$t("ui.general.delete"))+"\n            ")])]):i("div",{},[i("router-link",{staticClass:"ui basic green button",attrs:{to:{name:"edit_station",params:{station_identity:e.station.identity}}}},[e._v("\n                "+e._s(e.$t("ui.general.edit"))+"\n            ")]),i("a",{staticClass:"ui basic red button",on:{click:function(t){t.preventDefault(),e.delete_station()}}},[e._v("\n                "+e._s(e.$t("ui.general.delete"))+"\n            ")])],1)])])},uc=[],dc={name:"ProviderStationsIndexItem",props:{station:Object},data:function(){return{is_loading:!1}},computed:{},created:function(){},mounted:function(){},watch:{},methods:{delete_station:function(){var e=this;if(confirm(this.$t("ui.notifications.warning.are_you_sure_to_delete_it"))){e.is_loading=!0;var t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_station_delete).parse({station_identity:e.station.identity});axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$parent.init(),e.$noty.success(e.$t("ui.notifications.success.delete__name",{name:e.$t("models.stations")})),e.$store.dispatch("provider/fetch_stations")):e.$noty.error(e.$t("ui.notifications.error.delete__name",{name:e.$t("models.stations")}))})["catch"](function(t){console.log(t),t.response?e.$noty.error(e.$t("ui.general.network_abnormality")+": "+t.response.status+t.response.data):e.$noty.error(e.$t("ui.general.network_abnormality")+": "+e.$t("ui.general.server_offline"))})["finally"](function(){e.is_loading=!1})}}},components:{}},pc=dc,mc=Object(lt["a"])(pc,lc,uc,!1,null,null,null),fc=mc.exports,vc=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"error_messages"},[i("div",{directives:[{name:"show",rawName:"v-show",value:(e.errors.length>0||e.error_objects.length>0)&&e.show,expression:"(errors.length > 0 || error_objects.length > 0) && show"}],staticClass:"ui error large message"},[e.is_closable?i("i",{staticClass:"close icon",on:{click:function(t){t.preventDefault(),e.show=!e.show}}}):e._e(),i("div",{staticClass:"header"},[e._v("\n            "+e._s(e.description)+"\n        ")]),e._l(e.errors,function(t){return i("ul",{staticClass:"list"},[i("li",[e._v(e._s(t))])])}),e._l(e.error_objects,function(t){return i("ul",{staticClass:"list"},[i("li",[e._v(e._s(t.name)+": "+e._s(t.error))])])})],2)])},hc=[],gc={name:"ToolErrorBoxMain",props:{errors:{default:function(){return[]},type:Array},error_objects:{default:function(){return[]},type:Array},description:String,is_closable:{type:Boolean,default:!0}},data:function(){return{show:!0}},computed:{},created:function(){},mounted:function(){},watch:{errors:function(e){this.init()},error_objects:function(e){this.init()}},methods:{init:function(){var e=this;e.show=!0}},components:{}},bc=gc,yc=(n("08cf"),Object(lt["a"])(bc,vc,hc,!1,null,"62bd0d0d",null)),wc=yc.exports,$c=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"filter_advanced"}},[i("div",{staticClass:"ui form",on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$parent.fetch_stations(1)}}},[i("div",{staticClass:"four fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.stations.name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.name,expression:"filter.columns.name"}],attrs:{type:"text"},domProps:{value:e.filter.columns.name},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"name",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.stations.code")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.code,expression:"filter.columns.code"}],attrs:{type:"text"},domProps:{value:e.filter.columns.code},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"code",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.stations.phone")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.phone,expression:"filter.columns.phone"}],attrs:{type:"text"},domProps:{value:e.filter.columns.phone},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"phone",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.stations.note")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.note,expression:"filter.columns.note"}],attrs:{type:"text"},domProps:{value:e.filter.columns.note},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"note",t.target.value)}}})])])]),i("div",{staticClass:"ui icon blue button right floated",on:{click:function(t){e.$parent.fetch_stations(1)}}},[i("i",{staticClass:"search icon"}),e._v("\n        "+e._s(e.$t("ui.general.search"))+"\n    ")]),i("div",{staticClass:"clear"})])},kc=[],Cc={name:"OperationsFilterAdvanced",data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.provider.stations_module},filter:function(){return this.current_store.filter},customers:function(){return[{company_name:this.$t("ui.general.please_select"),identity:null}].concat(this.$store.state.provider.customers)}},created:function(){},mounted:function(){},watch:{},methods:{},components:{}},xc=Cc,Pc=(n("3f41"),Object(lt["a"])(xc,$c,kc,!1,null,"650715ba",null)),Sc=Pc.exports,Nc=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"filter_general"}},[e.filter.is_advanced_mode?e._e():i("div",{staticClass:"ui action input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns[e.filter.current_shortcut_key],expression:"filter.columns[filter.current_shortcut_key]"}],attrs:{placeholder:e.$t("ui.general.search__key",{key:e.$t("models.attributes.stations."+e.filter.current_shortcut_key)}),type:"text"},domProps:{value:e.filter.columns[e.filter.current_shortcut_key]},on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$parent.fetch_stations(1)},input:function(t){t.target.composing||e.$set(e.filter.columns,e.filter.current_shortcut_key,t.target.value)}}}),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection dropdown no_search right_radius",staticStyle:{"min-width":"120px"}},[e._l(e.filter.shortcut_keys,function(t){return e.filter.current_shortcut_key==t?i("div",{staticClass:"text"},[i("span",[e._v("\n                    "+e._s(e.$t("models.attributes.stations."+t))+"\n                ")])]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.filter.shortcut_keys,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.current_shortcut_key==t},on:{click:function(i){e.set_quick_filter(t)}}},[e._v("\n                    "+e._s(e.$t("models.attributes.stations."+t))+"\n                ")])}))],2),i("div",{staticClass:"ui button icon",on:{click:function(t){e.$parent.fetch_stations(1)}}},[i("i",{staticClass:"search icon"})])]),e.filter.is_advanced_mode?i("div",{staticClass:"ui basic red icon button",on:{click:function(t){e.$store.commit("provider/stations_module/init_filter_columns")}}},[i("i",{staticClass:"close icon"}),e._v("\n        "+e._s(e.$t("ui.general.clear"))+"\n    ")]):e._e(),i("div",{staticClass:"ui button icon",style:{height:e.filter.is_advanced_mode?"auto":"38px",paddingTop:e.filter.is_advanced_mode?"":"13px",verticalAlign:e.filter.is_advanced_mode?"":"top"},on:{click:function(t){e.filter.is_advanced_mode=!e.filter.is_advanced_mode}}},[i("i",{staticClass:"bars icon",class:{minus:e.filter.is_advanced_mode,bars:!e.filter.is_advanced_mode}})])])},Ac=[],Ec={name:"OperationsFilterHeader",data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.provider.stations_module},filter:function(){return this.current_store.filter},customers:function(){return[{company_name:this.$t("ui.general.please_select"),identity:null}].concat(this.$store.state.provider.customers)}},created:function(){},mounted:function(){},watch:{},methods:{set_quick_filter:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var i=this;i.filter.current_shortcut_key=t,i.filter.columns.created_duration="",_.forEach(i.filter.shortcut_keys,function(e){i.filter.columns[e]=null}),"is_done"==t&&(i.filter.columns.is_done=!0),"is_canceled"==t&&(i.filter.columns.is_canceled=!0)}catch(e){console.log(e)}}},components:{}},qc=Ec,zc=(n("b990"),Object(lt["a"])(qc,Nc,Ac,!1,null,"0a383e66",null)),jc=zc.exports;function Rc(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function Ic(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){Rc(r,n,a,s,o,"next",e)}function o(e){Rc(r,n,a,s,o,"throw",e)}s(void 0)})}}var Tc={name:"StationsIndex",data:function(){return{is_initialized:!1,is_loading:!1,is_search_params_changed:!1,stations:[],errors:[]}},computed:{current_store:function(){return this.$store.state.provider.stations_module},pagination:function(){return this.current_store.pagination},filter:function(){return this.current_store.filter}},created:function(){},mounted:function(){var e=this;e.init(),e.$bus.$off("init"),e.$bus.$on("init",function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.init()}.bind(this))},beforeDestroy:function(){this.$bus.$off("init"),this.pagination.current_page=1},watch:{$route:{handler:function(e,t){var i=e.query.page;i&&(this.pagination.current_page=Number(i),this.$store.commit("provider/stations_module/set_current_page",i),this.fetch_stations())},immediate:!0},"filter.is_advanced_mode":function(e){$("#stations .ui.transition.filter").transition(e?"fade down":"hide"),e||this.$store.commit("provider/stations_module/init_filter_columns")}},methods:{init:function(){var e=Ic(regeneratorRuntime.mark(function e(){var t,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,new Promise(function(e){t.is_initialized=!1,e()});case 4:return e.next=6,t.fetch_stations();case 6:return e.next=8,new Promise(function(e){t.$noty.information(t.$t("ui.page_titles.stations")+" "+t.$t("ui.general.initialize_complete"),300),i.filter.is_advanced_mode&&$("#stations .ui.transition.filter").transition("fade down"),t.is_initialized=!0,e()});case 8:e.next=13;break;case 10:switch(e.prev=10,e.t0=e["catch"](1),e.t0){default:console.log("init error: "),console.log(e.t0)}case 13:return e.prev=13,e.finish(13);case 15:case"end":return e.stop()}},e,this,[[1,10,13,15]])}));function t(){return e.apply(this,arguments)}return t}(),fetch_stations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this;if(1==e&&(t.pagination.current_page=1,t.$route.query.page=1),0==t.is_loading){t.errors=[],t.is_loading=!0,t.is_search_params_changed&&(t.$store.commit("provider/stations_module/set_current_page",null),t.is_search_params_changed=!1);var i=new RestUrl(t.$store.state.provider.routes.api_v1_provider_stations).parse({},"?"+object_to_query(t.filter.columns)+"&"+object_to_query({page:t.pagination.current_page}));return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){if("success"!=e.data.status)return Promise.reject(e.data);t.stations=e.data.stations,t.$store.commit("provider/stations_module/set_current_page",e.data.pagination.current_page),t.$store.commit("provider/stations_module/set_total_pages",e.data.pagination.total_pages)})["catch"](function(e){if(e.response){switch(e.response.status){default:t.errors.push(e.response.status+" "+e.response.statusText)}t.$noty.error(t.$t("ui.notifications.error.fetch__name",{name:t.$t("models.stations"),reason:": "+e.response.status+" "+e.response.statusText}))}else e.errors?(t.$noty.error(t.$t("ui.notifications.error.fetch__name",{name:t.$t("models.stations"),reason:": "+e.errors})),t.errors=response.data.errors):(t.errors.push(t.$t("ui.general.server_offline")),t.$noty.error(t.$t("ui.general.server_offline")));return Promise.reject(e)})["finally"](function(){setTimeout(function(){t.is_loading=!1},300)})}}},components:{Row:fc,Paginator:cr,ErrorMessages:wc,FilterAdvanced:Sc,FilterHeader:jc}},Oc=Tc,Lc=Object(lt["a"])(Oc,cc,_c,!1,null,null,null),Dc=Lc.exports,Bc={name:"StationsMain",data:function(){return{is_initialized:!1}},computed:{},created:function(){},mounted:function(){},watch:{},methods:{},components:{Index:Dc}},Mc=Bc,Uc=Object(lt["a"])(Mc,sc,oc,!1,null,null,null),Fc=Uc.exports,Gc=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"new_station"}},[i("h1",{staticClass:"ui header"},[e._v(e._s(e.station.name))]),e.is_initialized?i("div",[i("form",{staticClass:"ui form"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.stations.name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.station.name,expression:"station.name"}],attrs:{type:"text"},domProps:{value:e.station.name},on:{input:function(t){t.target.composing||e.$set(e.station,"name",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.stations.code")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.station.code,expression:"station.code"}],attrs:{type:"text"},domProps:{value:e.station.code},on:{input:function(t){t.target.composing||e.$set(e.station,"code",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.stations.address")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.station.address,expression:"station.address"}],attrs:{type:"text"},domProps:{value:e.station.address},on:{input:function(t){t.target.composing||e.$set(e.station,"address",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.stations.phone")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.station.phone,expression:"station.phone"}],attrs:{type:"text"},domProps:{value:e.station.phone},on:{input:function(t){t.target.composing||e.$set(e.station,"phone",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.stations.note")))]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.station.note,expression:"station.note"}],attrs:{type:"text"},domProps:{value:e.station.note},on:{input:function(t){t.target.composing||e.$set(e.station,"note",t.target.value)}}})]),i("button",{staticClass:"ui basic positive button",on:{click:function(t){return t.preventDefault(),e.create_station(t)}}},[e._v(e._s(e.$t("ui.general.create")))])])]):e._e()])},Hc=[];function Yc(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function Kc(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){Yc(r,n,a,s,o,"next",e)}function o(e){Yc(r,n,a,s,o,"throw",e)}s(void 0)})}}var Wc={name:"NewStation",props:{},data:function(){return{is_initialized:!1,is_processing:!1,station:{},errors:[]}},created:function(){this.init()},mounted:function(){},watch:{$route:function(e,t){"new_station"==e.name&&this.init()}},computed:{},methods:{init:function(){var e=Kc(regeneratorRuntime.mark(function e(){var t,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,t.is_processing=!1,t.station={name:i.$t("ui.page_titles.new_station"),address:i.$t("models.attributes.stations.address"),phone:i.$t("models.attributes.stations.phone"),code:i.$t("models.attributes.stations.code"),note:i.$t("models.attributes.stations.note")},t.errors=[],e()});case 3:return e.next=5,new Promise(function(e){t.is_initialized=!0,e()});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),create_station:function(){var e=this;e.is_processing=!0,e.errors=[];var t=e.station,i=new RestUrl(e.$store.state.provider.routes.api_v1_provider_stations_create).parse({},"");return axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.is_processing=!1,e.$noty.success(e.$t("ui.notifications.success.create__name",{name:e.$t("models.stations")})),e.$store.dispatch("provider/fetch_stations"),e.$router.push({name:"stations"})):(e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.stations")})),e.is_processing=!1)})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.stations")})),e.is_processing=!1})}},components:{}},Vc=Wc,Xc=Object(lt["a"])(Vc,Gc,Hc,!1,null,"25f44cba",null),Qc=Xc.exports,Zc=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"edit_station"}},[i("h1",{staticClass:"ui header"},[e._v(e._s(e.station.name))]),e.is_initialized?i("div",[i("div",{staticClass:"ui form"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.stations.name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.station.name,expression:"station.name"}],attrs:{type:"text"},domProps:{value:e.station.name},on:{input:function(t){t.target.composing||e.$set(e.station,"name",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.stations.code")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.station.code,expression:"station.code"}],attrs:{type:"text"},domProps:{value:e.station.code},on:{input:function(t){t.target.composing||e.$set(e.station,"code",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.stations.address")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.station.address,expression:"station.address"}],attrs:{type:"text"},domProps:{value:e.station.address},on:{input:function(t){t.target.composing||e.$set(e.station,"address",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.stations.phone")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.station.phone,expression:"station.phone"}],attrs:{type:"text"},domProps:{value:e.station.phone},on:{input:function(t){t.target.composing||e.$set(e.station,"phone",t.target.value)}}})]),e.is_google_map_activated?i("div",{staticClass:"field"},[i("label",[e._v("\n                    "+e._s(e.$t("models.attributes.stations.position"))+"\n                    　　"),i("span",{staticClass:"ui red pointer",on:{click:function(t){e.is_google_map_refresh=!e.is_google_map_refresh}}},[i("i",{staticClass:"icon refresh"}),e._v("\n                        [Google map]\n                    ")])]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.station.position,expression:"station.position"}],attrs:{type:"text"},domProps:{value:e.station.position},on:{input:function(t){t.target.composing||e.$set(e.station,"position",t.target.value)}}}),e.is_initialized?i("GoogleMapsDrawingPolygon",{staticClass:"field",attrs:{positions:e.google_maps_options.positions,center_position:e.center_position,refresh:e.is_google_map_refresh,zoom:e.google_maps_options.zoom,channel:e.google_maps_options.channel}}):e._e()],1):i("div",{staticClass:"field",on:{click:function(t){e.is_google_map_activated=!0}}},[i("label",{staticClass:"pointer"},[e._v("\n                    "+e._s(e.$t("ui.general.edit"))+"\n                    "+e._s(e.$t("models.attributes.stations.position"))+"\n                ")])]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.stations.note"))+" ")]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.station.note,expression:"station.note"}],attrs:{type:"text"},domProps:{value:e.station.note},on:{input:function(t){t.target.composing||e.$set(e.station,"note",t.target.value)}}})]),i("button",{staticClass:"ui basic fluid positive button",on:{click:function(t){return t.preventDefault(),e.update_station(t)}}},[e._v(e._s(e.$t("ui.general.update")))])])]):e._e()])},Jc=[],e_=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"polygon_arrays"},[e.errors?i("div",{staticClass:"ui error message"},[i("div",{staticClass:"header"},[e._v("\n            "+e._s(e.errors)+"\n        ")])]):i("div",{ref:"map",staticClass:"google_maps",style:{height:e.height}})])},t_=[];function i_(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function n_(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){i_(r,n,a,s,o,"next",e)}function o(e){i_(r,n,a,s,o,"throw",e)}s(void 0)})}}var a_={name:"ToolGoogleMapsDrawingPolygon",props:{channel:String,positions:{type:Array,default:function(){return[]}},drawing_modes:{type:Array,default:function(){return["polygon"]}},center_position:{type:Array,default:function(){return[]}},refresh:{default:!1,type:Boolean},height:{default:"400px",type:String},zoom:{default:12,type:Number},type:{default:"terrain",type:String},stroke_color:{default:"#FF0000",type:String},stroke_opacity:{default:.8,type:Number},stroke_weight:{default:3,type:Number},fill_color:{default:"#FF0000",type:String},fill_opacity:{default:.35,type:Number}},data:function(){return{map:{},drawingManager:{},all_overlays:[],errors:""}},watch:{refresh:function(e){this.init()}},mounted:function(){this.init()},computed:{},methods:{init:function(){var e=n_(regeneratorRuntime.mark(function e(){var t,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,i=t.$refs.map,e.prev=2,e.next=5,new Promise(function(e){if(Array.isArray(t.center_position)&&2!=t.center_position.length)throw"center_position error";t.map=new google.maps.Map(i,{center:{lat:t.center_position[0],lng:t.center_position[1]},zoom:t.zoom}),e()});case 5:return e.next=7,t.set_position_polygon();case 7:return e.next=9,new Promise(function(e){t.drawingManager=new google.maps.drawing.DrawingManager({drawingMode:"polygon",drawingControl:!0,drawingControlOptions:{position:google.maps.ControlPosition.TOP_CENTER,drawingModes:["polygon"]}}),t.drawingManager.setMap(t.map),e()});case 9:return e.next=11,t.set_google_maps_event();case 11:return e.next=13,new Promise(function(e){e()});case 13:e.next=20;break;case 15:e.prev=15,e.t0=e["catch"](2),console.log(e.t0),t.errors=e.t0,t.$noty.error(t.errors);case 20:case"end":return e.stop()}},e,this,[[2,15]])}));function t(){return e.apply(this,arguments)}return t}(),set_position_polygon:function(){var e=this,t=[];if(Array.isArray(e.positions)&&e.positions.length>1){_.forEach(e.positions,function(e){t.push({lat:e[0],lng:e[1]})}),console.log(t);var i=new google.maps.Polygon({paths:t,strokeColor:e.stroke_color,strokeOpacity:e.stroke_opacity,strokeWeight:e.stroke_weight,fillColor:e.fill_color,fillOpacity:e.fill_opacity});i.setMap(e.map)}return Promise.resolve()},set_google_maps_event:function(){var e=this;return google.maps.event.addListener(e.drawingManager,"overlaycomplete",function(t){for(var i=0;i<e.all_overlays.length;i++)e.all_overlays[i].overlay.setMap(null);e.all_overlays.push(t)}),google.maps.event.addListener(e.drawingManager,"polygoncomplete",function(t){for(var i=[],n=0;n<t.getPath().getLength();n++)i.push(t.getPath().getAt(n).toUrlValue(6));console.log(i),e.$bus.$emit(e.channel,i)}),Promise.resolve()}},components:{}},r_=a_,s_=(n("eb28"),Object(lt["a"])(r_,e_,t_,!1,null,"d1a4fb7e",null)),o_=s_.exports;function c_(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function __(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){c_(r,n,a,s,o,"next",e)}function o(e){c_(r,n,a,s,o,"throw",e)}s(void 0)})}}var l_={name:"EditStation",props:{},data:function(){return{is_initialized:!1,is_processing:!1,station:{},errors:[],is_google_map_activated:!1,is_google_map_refresh:!1,google_maps_options:{channel:"google_maps_channel_new_position",positions:[],zoom:12}}},created:function(){this.init()},mounted:function(){},watch:{},computed:{center_position:function(){var t=this;try{t.google_maps_options.positions=$.parseJSON(t.station.position)||[]}catch(e){t.google_maps_options.positions=[]}var i=t.google_maps_options.positions;if(i.length>2){var n=i[0],a=i[Math.floor(i.length/2)];return[(n[0]+a[0])/2,(n[1]+a[1])/2]}switch(t.$store.state.language){case"zh-TW":return t.google_maps_options.zoom=8.46,[23.911035,121.058502];case"zh-CN":return t.google_maps_options.zoom=6,[30.683674,113.436786];case"en-US":return t.google_maps_options.zoom=5,[39.766216,-99.734738];default:}}},methods:{init:function(){var e=__(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,t.is_processing=!1,t.station={},t.errors=[],e()});case 3:return e.next=5,t.fetch_station();case 5:return e.next=7,t.set_google_maps_channel();case 7:return e.next=9,new Promise(function(e){t.is_initialized=!0,e()});case 9:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_station:function(){var e=this,t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_station).parse({station_identity:e.$route.params.station_identity},"");return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.station=t.data.station})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.stations"),reason:": "+t}))})},set_google_maps_channel:function(){var e=this;e.$bus.$off(e.google_maps_options.channel),e.$bus.$on(e.google_maps_options.channel,function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=t.map(function(e){return"["+e+"]"}).toString();e.station.position="["+i+"]"}.bind(this))},update_station:function(){var e=this;e.is_processing=!0,e.errors=[];var t=_.cloneDeep(e.station),i=new RestUrl(e.$store.state.provider.routes.api_v1_provider_station_update).parse({station_identity:e.$route.params.station_identity},"");axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$noty.success(e.$t("ui.notifications.success.update__name",{name:e.$t("models.stations")})),e.$store.dispatch("provider/fetch_stations"),e.$router.push({name:"stations"})):(e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.stations"),reason:": "+t.data.errors})),e.errors=t.data.errors)})["catch"](function(t){console.log(t),t.response?e.$noty.error(e.$t("ui.general.network_abnormality")+": "+t.response.status+t.response.data):e.$noty.error(e.$t("ui.general.network_abnormality")+": "+e.$t("ui.general.server_offline"))}),e.is_processing=!1}},components:{GoogleMapsDrawingPolygon:o_}},u_=l_,d_=Object(lt["a"])(u_,Zc,Jc,!1,null,"04194dba",null),p_=d_.exports,m_="stations",f_="new_station",v_="edit_station",h_=[{path:"",component:Fc,name:"stations",meta:{api_name:"api_v1_provider_stations",breadcrumb:[m_],btns:[f_]}},{path:"new",component:Qc,name:"new_station",meta:{api_name:"api_v1_provider_stations_create",breadcrumb:[m_,f_]}},{path:":station_identity/edit",component:p_,name:"edit_station",meta:{api_name:"api_v1_provider_station_update",breadcrumb:[m_,v_]}}],g_=h_,b_=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.is_initialized?i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1):e._e(),i("div",{staticClass:"ui inverted dimmer transition",class:{active:!e.is_initialized}},[i("div",{staticClass:"ui text loader"},[e._v("\n            "+e._s(e.$t("ui.general.initializing"))+"\n        ")])])],1)},y_=[];function w_(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function $_(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){w_(r,n,a,s,o,"next",e)}function o(e){w_(r,n,a,s,o,"throw",e)}s(void 0)})}}var k_={name:"PartitionsLayout",data:function(){return{is_initialized:!1}},computed:{},watch:{},created:function(){},mounted:function(){var e=this;this.init(),this.$bus.$off("init"),this.$bus.$on("init",function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.init()})},beforeDestroy:function(){this.$bus.$off("init")},methods:{init:function(){var e=$_(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!1,e()});case 2:return e.next=4,this.$store.dispatch("provider/partitions_module/fetch_associated_partitions",{page:1});case 4:return e.next=6,this.$store.dispatch("provider/partitions_module/fetch_customers");case 6:return e.next=8,this.$store.dispatch("provider/partitions_module/fetch_materials");case 8:return e.next=10,new Promise(function(e){t.is_initialized=!0,t.$noty.information(t.$t("ui.page_titles.partitions")+" "+t.$t("ui.general.initialize_complete"),300),e()});case 10:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{}},C_=k_,x_=Object(lt["a"])(C_,b_,y_,!1,null,null,null),P_=x_.exports,S_=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("Index")],1)},N_=[],A_=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"ui inverted dimmer transition",class:{active:e.is_loading}},[i("div",{staticClass:"ui text loader"},[e._v("\n            "+e._s(e.$t("ui.general.initializing"))+"\n        ")])]),i("div",{staticClass:"clear"}),i("div",{staticClass:"ui segment"},[i("table",{staticClass:"ui celled table"},[i("thead",[i("tr",[i("th",[e._v(e._s(e.$t("models.attributes.partitions.name")))]),i("th",[e._v(e._s(e.$t("models.attributes.partitions.numbers")))]),i("th",[e._v(e._s(e.$t("models.attributes.partitions.parent")))]),i("th",[e._v(e._s(e.$t("models.attributes.partitions.customer")))]),i("th",[e._v(e._s(e.$t("models.attributes.partitions.contracts")))]),i("th",[e._v(e._s(e.$t("models.attributes.partitions.material")))]),i("th",[e._v(e._s(e.$t("models.attributes.partitions.note")))]),i("th",{staticClass:"center aligned"},[e._v(e._s(e.$t("ui.general.operate")))])])]),i("tbody",e._l(e.parent_partitions,function(t){return e.is_initialized?i("Row",{key:t.identity,attrs:{partition:t}}):e._e()}))]),i("div",{staticClass:"right floated"},[i("Paginator",{attrs:{total_pages:e.current_store.pagination.total_pages,current_page:e.current_store.pagination.current_page}})],1),i("div",{staticClass:"clear"})])])},E_=[],q_=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",[i("td",[e._v("\n        "+e._s(e.partition.name)+"\n        "),e.partition.grouped_partitions?i("div",{staticClass:"items"},e._l(e.partition.grouped_partitions,function(t){return i("div",{staticClass:"item"},[e._v("\n                "+e._s(t.name)+"\n            ")])})):e._e()]),i("td",[i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n            "+e._s(e.$t("models.attributes.partitions.numbers_from"))+"：\n        ")]),e._v("\n        "+e._s(e.partition.numbers_from)),i("br"),i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n            "+e._s(e.$t("models.attributes.partitions.numbers_to"))+"：\n        ")]),e._v("\n        "+e._s(e.partition.numbers_to)),i("br"),i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n            "+e._s(e.$t("ui.pages.partitions.total_amount"))+"：\n        ")]),e._v("\n        "+e._s(e.number_with_commas(e.partition.numbers_amount))),i("br"),i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n            "+e._s(e.$t("ui.pages.partitions.available_quantity"))+"：\n        ")]),e._v("\n        "+e._s(e.number_with_commas(e.partition.remaining_numbers))+"\n    ")]),i("td",[i("div",{staticClass:"ui items"},e._l(e.partition.child_partitions,function(t,n){return i("router-link",{key:t.identity,staticClass:"item",attrs:{to:{name:"edit_partition",params:{partition_identity:t.identity}}}},[e._v("\n                "+e._s(n+1)+". "+e._s(t.name)+"\n            ")])}))]),i("td",[e.current_customer?i("router-link",{attrs:{to:{name:"customer",params:{customer_identity:e.current_customer.identity}}}},[e._v("\n            "+e._s(e.current_customer.company_short_name||e.current_customer.identity)+"\n        ")]):i("div",[e._v("\n            "+e._s("Auto"==e.partition.partition_type?e.$t("ui.pages.partitions.automatic_number"):e.$t("ui.pages.partitions.use_yourself"))+"\n        ")])],1),i("td",[e.current_customer?i("div",{staticClass:"ui items"},e._l(e.partition.contracts,function(t,n){return i("router-link",{key:t.identity,staticClass:"item",attrs:{to:{name:"provider_contract",params:{customer_identity:e.current_customer.identity,contract_identity:t.identity}}}},[e._v("\n                "+e._s(n+1)+". "+e._s(t.name)+"\n            ")])})):e._e()]),i("td",[e.current_material?i("router-link",{attrs:{to:{name:"edit_material",params:{material_identity:e.current_material.identity}}}},[e._v("\n            "+e._s(e.current_material.name)+"\n        ")]):e._e()],1),i("td",[e._v(e._s(e.partition.note))]),i("td",[i("router-link",{staticClass:"ui basic green button",attrs:{to:{name:"edit_provider_partition",params:{partition_identity:e.partition.identity}}}},[e._v("\n            "+e._s(e.$t("ui.general.edit"))+"\n        ")]),e.is_deleting?i("a",{staticClass:"ui basic red button",attrs:{href:"#"}},[e._v("\n            "+e._s(e.$t("ui.general.deleteing"))+"...\n        ")]):i("a",{staticClass:"ui basic red button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.delete_partition()}}},[e._v("\n            "+e._s(e.$t("ui.general.delete"))+"\n        ")])],1)])},z_=[],j_={name:"PartitionRow",props:{partition:Object},data:function(){return{is_loading:!1,is_deleting:!1}},created:function(){},mounted:function(){},watch:{},methods:{number_with_commas:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},delete_partition:function(){var e=this;if(confirm(this.$t("ui.notifications.warning.are_you_sure_to_delete_it"))){var t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_partition_delete).parse({partition_identity:this.partition.identity});return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$noty.success(e.$t("ui.notifications.success.delete__name",{name:e.$t("models.partitions")})),e.$store.commit("provider/partitions_module/remove_partition",e.partition),e.$bus.$emit("out_of_date",e.$store.state.instance_identity,"partitions"),e.is_deleting=!1):(e.$noty.error(e.$t("ui.notifications.error.delete__name",{name:e.$t("models.partitions")})),e.is_deleting=!1)})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.delete__name",{name:e.$t("models.partitions")})),e.is_deleting=!1})}}},computed:{current_store:function(){return this.$store.state.provider.partitions_module},current_customer:function(){var e=this;return _.findLast(this.current_store.customers,function(t){return t.identity==e.partition.customer_identity})},current_material:function(){var e=this;return _.findLast(this.current_store.materials,function(t){return t.identity==e.partition.material_identity})}},components:{}},R_=j_,I_=Object(lt["a"])(R_,q_,z_,!1,null,null,null),T_=I_.exports;function O_(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function L_(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){O_(r,n,a,s,o,"next",e)}function o(e){O_(r,n,a,s,o,"throw",e)}s(void 0)})}}var D_={name:"PartitionsIndex",data:function(){return{is_initialized:!1,is_loading:!1}},created:function(){this.init()},mounted:function(){},beforeDestroy:function(){this.current_store.pagination.current_page=1},watch:{$route:{handler:function(){var e=L_(regeneratorRuntime.mark(function e(t,i){var n,a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.query.page,!n){e.next=9;break}return this.current_store.pagination.current_page=Number(n),e.next=5,new Promise(function(e){a.is_loading=!0,e()});case 5:return e.next=7,this.$store.dispatch("provider/partitions_module/fetch_partitions",{page:n});case 7:return e.next=9,new Promise(function(e){a.is_loading=!1,e()});case 9:case"end":return e.stop()}},e,this)}));function t(t,i){return e.apply(this,arguments)}return t}(),immediate:!0}},methods:{init:function(){var e=L_(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,t.$store.dispatch("provider/partitions_module/fetch_partitions",{page:t.current_store.pagination.current_page});case 5:return e.next=7,new Promise(function(e){t.is_initialized=!0,e()});case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},computed:{current_store:function(e){return e.$store.state.provider.partitions_module},parent_partitions:function(){var e=this;return _.filter(e.current_store.partitions,function(e){return null==e.parent_identity})}},components:{Row:T_,Paginator:cr}},B_=D_,M_=Object(lt["a"])(B_,A_,E_,!1,null,null,null),U_=M_.exports,F_={name:"PartitionsMain",data:function(){return{is_initialized:!1}},computed:{},created:function(){},mounted:function(){},watch:{},methods:{},components:{Index:U_}},G_=F_,H_=Object(lt["a"])(G_,S_,N_,!1,null,null,null),Y_=H_.exports,K_=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"ui inverted dimmer transition",class:{active:e.is_loading}},[i("div",{staticClass:"ui text loader"},[e._v("\n            "+e._s(e.$t("ui.general.initializing"))+"\n        ")])]),i("div",{staticClass:"clear"}),i("table",{staticClass:"ui celled table"},[i("thead",[i("tr",[i("th",[e._v(e._s(e.$t("models.attributes.partitions.name")))]),i("th",[e._v(e._s(e.$t("models.attributes.partitions.numbers")))]),i("th",[e._v(e._s(e.$t("models.attributes.partitions.parent")))]),i("th",[e._v(e._s(e.$t("models.attributes.partitions.customer")))]),i("th",[e._v(e._s(e.$t("models.attributes.partitions.note")))])])]),i("tbody",e._l(e.parent_partitions,function(t){return e.is_initialized?i("Row",{key:t.identity,attrs:{partition:t}}):e._e()}))]),i("div",{staticClass:"right floated"},[i("Paginator",{attrs:{total_pages:e.current_store.pagination.total_pages,current_page:e.current_store.pagination.current_page}})],1),i("div",{staticClass:"clear"})])},W_=[],V_=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",[i("td",[e._v("\n        "+e._s(e.partition.name)+"\n        "),e.partition.grouped_partitions?i("div",{staticClass:"items"},e._l(e.partition.grouped_partitions,function(t){return i("div",{staticClass:"item"},[e._v("\n                "+e._s(t.name)+"\n            ")])})):e._e()]),i("td",[i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n            "+e._s(e.$t("models.attributes.partitions.numbers_from"))+"：\n        ")]),e._v(e._s(e.partition.numbers_from)),i("br"),i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n            "+e._s(e.$t("models.attributes.partitions.numbers_to"))+"：\n        ")]),e._v(e._s(e.partition.numbers_to)),i("br"),i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n            "+e._s(e.$t("ui.pages.partitions.total_amount"))+"：\n        ")]),e._v(e._s(e.number_with_commas(e.partition.numbers_amount))),i("br"),i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n            "+e._s(e.$t("ui.pages.partitions.available_quantity"))+"：\n        ")]),e._v(e._s(e.number_with_commas(e.partition.remaining_numbers))+"\n\n    ")]),i("td",[i("div",{staticClass:"ui items"},e._l(e.partition.child_partitions,function(t,n){return i("router-link",{key:t.identity,staticClass:"item",attrs:{to:{name:"edit_partition",params:{partition_identity:t.identity}}}},[e._v("\n                "+e._s(n+1)+". "+e._s(t.name)+"\n            ")])}))]),i("td",[e.current_customer?i("router-link",{attrs:{to:{name:"customer",params:{customer_identity:e.current_customer.identity}}}},[e._v("\n            "+e._s(e.current_customer.company_short_name||e.current_customer.identity)+"\n        ")]):i("div",[e._v("\n            "+e._s("Auto"==e.partition.partition_type?e.$t("ui.pages.partitions.automatic_number"):e.provider_node.company_short_name)+"\n        ")])],1),i("td",[e._v(e._s(e.partition.note))])])},X_=[],Q_={name:"AssociatedPartitionRow",props:{partition:Object},data:function(){return{is_loading:!1,is_deleting:!1}},created:function(){},mounted:function(){},watch:{},methods:{number_with_commas:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},delete_partition:function(){var e=this;if(confirm(this.$t("ui.notifications.warning.are_you_sure_to_delete_it"))){e.is_deleting=!0;var t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_partition_delete).parse({partition_identity:e.partition.identity});return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$noty.success(e.$t("ui.notifications.success.delete__name",{name:e.$t("models.partitions")})),e.$store.commit("provider/partitions_module/remove_partition",e.partition),e.is_deleting=!1):(e.$noty.error(e.$t("ui.notifications.error.delete__name",{name:e.$t("models.partitions")})),e.is_deleting=!1)})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.delete__name",{name:e.$t("models.partitions")})),e.is_deleting=!1})}}},computed:{current_store:function(){return this.$store.state.provider.partitions_module},provider_node:function(){return this.$store.state.provider.node},current_customer:function(){var e=this;return _.findLast(e.current_store.customers,function(t){return t.identity==e.partition.customer_identity})}},components:{}},Z_=Q_,J_=Object(lt["a"])(Z_,V_,X_,!1,null,null,null),el=J_.exports;function tl(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function il(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){tl(r,n,a,s,o,"next",e)}function o(e){tl(r,n,a,s,o,"throw",e)}s(void 0)})}}var nl={name:"AssociatedPartitionsIndex",data:function(){return{is_initialized:!1,is_loading:!1}},created:function(){this.init()},mounted:function(){},beforeDestroy:function(){this.current_store.pagination.current_page=1},watch:{$route:{handler:function(){var e=il(regeneratorRuntime.mark(function e(t,i){var n,a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.query.page,!n){e.next=9;break}return this.current_store.pagination.current_page=Number(n),e.next=5,new Promise(function(e){a.is_loading=!0,e()});case 5:return e.next=7,this.$store.dispatch("provider/partitions_module/fetch_associated_partitions",{page:n});case 7:return e.next=9,new Promise(function(e){a.is_loading=!1,e()});case 9:"partitions"==t.name&&this.init();case 10:case"end":return e.stop()}},e,this)}));function t(t,i){return e.apply(this,arguments)}return t}(),immediate:!0}},methods:{init:function(){var e=il(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,new Promise(function(e){t.is_initialized=!0,e()});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},computed:{current_store:function(e){return e.$store.state.provider.partitions_module},parent_partitions:function(){var e=this;return _.filter(e.current_store.associated_partitions,function(e){return null==e.parent_identity})}},components:{Row:el,Paginator:cr}},al=nl,rl=Object(lt["a"])(al,K_,W_,!1,null,null,null),sl=rl.exports,ol=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui segment",attrs:{id:"new"}},[i("h1",{staticClass:"ui header"},[e._v("\n        "+e._s(e.$t("ui.page_titles.new_partition"))+"\n    ")]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui form"},[i("div",{staticClass:"ui grid",staticStyle:{"margin-top":"0","margin-bottom":"0"}},[i("div",{staticClass:"six wide red field",attrs:{"data-column":"name"}},[i("label",[e._v(e._s(e.$t("models.attributes.partitions.name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.partition.name,expression:"partition.name"}],attrs:{type:"text"},domProps:{value:e.partition.name},on:{input:function(t){t.target.composing||e.$set(e.partition,"name",t.target.value)}}})]),i("div",{staticClass:"five wide red field",attrs:{"data-column":"numbers_from"}},[i("label",[e._v(e._s(e.$t("models.attributes.partitions.numbers_from")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.partition.numbers_from,expression:"partition.numbers_from"}],attrs:{type:"text"},domProps:{value:e.partition.numbers_from},on:{change:function(t){e.$forceUpdate()},input:function(t){t.target.composing||e.$set(e.partition,"numbers_from",t.target.value)}}})]),i("div",{staticClass:"five wide red field",attrs:{"data-column":"numbers_to"}},[i("label",[e._v(e._s(e.$t("models.attributes.partitions.numbers_to")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.partition.numbers_to,expression:"partition.numbers_to"}],attrs:{type:"text"},domProps:{value:e.partition.numbers_to},on:{change:function(t){e.$forceUpdate()},input:function(t){t.target.composing||e.$set(e.partition,"numbers_to",t.target.value)}}})]),i("div",{staticClass:"eight wide red field",attrs:{"data-column":"customer_identity"}},[i("label",[e._v("\n                    "+e._s(e.$t("models.attributes.partitions.customer"))+"\n                    "),e.partition.customer_identity?i("i",{staticClass:"pointer remove circle outline red icon clear_dropdown",on:{click:function(t){e.clear_dropdown(".ui.dropdown.customer_identity")}}}):e._e()]),e.current_store.customers?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.partition.customer_identity,expression:"partition.customer_identity"}],staticClass:"ui dropdown customer_identity",on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.partition,"customer_identity",t.target.multiple?i:i[0])},function(t){e.$forceUpdate()}]}},[i("option",{attrs:{value:""}},[e._v("\n                        "+e._s(e.$t("ui.general.please_select"))+"，\n                        "+e._s(e.$t("ui.pages.partitions.if_use_it_yourself_do_not_write"))+"\n                    ")]),e._l(e.current_store.customers,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.company_short_name||t.tax))])})],2):i("div",{staticClass:"ui inline active loader"})]),i("div",{staticClass:"eight wide red field"},[i("label",[e._v("可用合約")]),e.current_customer?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.partition.contract_ids,expression:"partition.contract_ids"}],staticClass:"ui dropdown partition_type",attrs:{multiple:""},on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.partition,"contract_ids",t.target.multiple?i:i[0])},function(t){e.$forceUpdate()}]}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.current_customer.contracts,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2):e._e()]),i("div",{staticClass:"eight wide red field",attrs:{"data-column":"material_identity"}},[i("label",[e._v("\n                    "+e._s(e.$t("models.attributes.partitions.material"))+"\n                    "),e.partition.material_identity?i("i",{staticClass:"pointer remove circle outline red icon clear_dropdown",on:{click:function(t){e.clear_dropdown(".ui.dropdown.material_identity")}}}):e._e()]),e.current_store.customers?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.partition.material_identity,expression:"partition.material_identity"}],staticClass:"ui dropdown material_identity",on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.partition,"material_identity",t.target.multiple?i:i[0])},function(t){e.$forceUpdate()}]}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.current_store.materials,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2):i("div",{staticClass:"ui inline active loader"})]),i("div",{staticClass:"eight wide red field"},[i("label",[e._v("\n                    標籤種類\n                    "),e.partition.label_type?i("i",{staticClass:"pointer remove circle outline red icon clear_dropdown",on:{click:function(t){e.clear_dropdown(".ui.dropdown.label_type")}}}):e._e()]),i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.partition.label_type,expression:"partition.label_type"}],staticClass:"ui dropdown label_type",on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.partition,"label_type",t.target.multiple?i:i[0])},function(t){e.$forceUpdate()}]}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),i("option",{attrs:{value:"Label::Default"}},[e._v("TW568預設")]),"BY"==e.$store.state.provider.node.code?i("option",{attrs:{value:"Label::ByExpress"}},[e._v("博宇速運")]):e._e(),"CQF"==e.$store.state.provider.node.code?i("option",{attrs:{value:"Label::ChangQing"}},[e._v("長慶運通")]):e._e(),"FR"==e.$store.state.provider.node.code?i("option",{attrs:{value:"Label::FlyCargo"}},[e._v("飛樂航空")]):e._e(),i("option",{attrs:{value:"Label::HCT"}},[e._v("新竹物流")]),i("option",{attrs:{value:"Label::TCat"}},[e._v("統一速達")]),i("option",{attrs:{value:"Label::Pelican"}},[e._v("宅配通")]),i("option",{attrs:{value:"Label::Presco"}},[e._v("統一數網(7-ELEVEn)")]),i("option",{attrs:{value:"Label::FamilyMart"}},[e._v("日翊文化(全家)")])])]),i("div",{staticClass:"eight wide red field"},[i("label",[e._v("\n                    號碼規則\n                    "),e.partition.numbers_rule?i("i",{staticClass:"pointer remove circle outline red icon clear_dropdown",on:{click:function(t){e.clear_dropdown(".ui.dropdown.numbers_rule")}}}):e._e()]),i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.partition.numbers_rule,expression:"partition.numbers_rule"}],staticClass:"ui dropdown numbers_rule",on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.partition,"numbers_rule",t.target.multiple?i:i[0])},function(t){e.$forceUpdate()}]}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),i("option",{attrs:{value:"tcat_numbers_rule"}},[e._v("黑貓檢查碼")]),i("option",{attrs:{value:"hct_numbers_rule"}},[e._v("新竹檢查碼")]),i("option",{attrs:{value:"pelican_numbers_rule"}},[e._v("宅配通檢查碼")])])]),i("div",{staticClass:"eight wide red field"},[i("label",[e._v("\n                    區間類型\n                    "),e.partition.partition_type?i("i",{staticClass:"pointer remove circle outline red icon clear_dropdown",on:{click:function(t){e.clear_dropdown(".ui.dropdown.partition_type")}}}):e._e()]),i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.partition.partition_type,expression:"partition.partition_type"}],staticClass:"ui dropdown partition_type",on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.partition,"partition_type",t.target.multiple?i:i[0])},function(t){e.$forceUpdate()}]}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),i("option",{attrs:{value:"Manual"}},[e._v("手動取號")]),i("option",{attrs:{value:"Auto"}},[e._v("自動取號")]),i("option",{attrs:{value:"Group"}},[e._v("區間群組")])])]),i("div",{staticClass:"sixteen wide red field",attrs:{"data-column":"note"}},[i("label",[e._v(e._s(e.$t("models.attributes.partitions.note")))]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.partition.note,expression:"partition.note"}],attrs:{rows:"4"},domProps:{value:e.partition.note},on:{input:function(t){t.target.composing||e.$set(e.partition,"note",t.target.value)}}})])]),e._l(e.trial_errors,function(t,n,a){return i("div",{staticClass:"ui negative message"},[i("h3",[e._v(e._s(e.$t("models.attributes.partitions."+n)))]),i("ul",e._l(t,function(t){return i("li",[e._v(e._s(t))])}))])}),!e.trialed_partition||e.trial_errors||e.is_trialling?e._e():i("div",{staticClass:"ui positive message"},[i("h2",[e._v("\n                "+e._s(e.$t("ui.general.verify"))+"\n                "+e._s(e.$t("ui.general.result"))+"\n            ")]),i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n                "+e._s(e.$t("models.attributes.partitions.numbers_from"))+"：\n            ")]),e._v("\n            "+e._s(e.trialed_partition.numbers_from)),i("br"),i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n                "+e._s(e.$t("models.attributes.partitions.numbers_to"))+"：\n            ")]),e._v("\n            "+e._s(e.trialed_partition.numbers_to)),i("br"),i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n                "+e._s(e.$t("ui.pages.partitions.total_amount"))+"：\n            ")]),e._v("\n            "+e._s(e.number_with_commas(e.trialed_partition.numbers_amount))),i("br"),i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n                "+e._s(e.$t("ui.pages.partitions.available_quantity"))+"：\n            ")]),e._v("\n            "+e._s(e.number_with_commas(e.trialed_partition.remaining_numbers))+"\n        ")]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui buttons"},[i("router-link",{staticClass:"ui button",attrs:{to:{name:"partitions"}}},[e._v("\n                "+e._s(e.$t("ui.general.back"))+"\n            ")]),i("div",{staticClass:"or"}),e.is_trialling?i("a",{staticClass:"ui orange button",attrs:{href:"#"}},[e._v("\n                "+e._s(e.$t("ui.general.verifying"))+"...\n            ")]):i("a",{staticClass:"ui orange button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.trial_partition()}}},[e._v("\n                "+e._s(e.$t("ui.general.verify"))+"\n            ")]),i("div",{staticClass:"or"}),e.is_loading?i("a",{staticClass:"ui blue button",attrs:{href:"#"}},[e._v("\n                "+e._s(e.$t("ui.general.creating"))+"...\n            ")]):i("a",{staticClass:"ui blue button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.create_partition()}}},[e._v("\n                "+e._s(e.$t("ui.general.create"))+"\n            ")])],1)],2)])},cl=[],_l=n("6e3b"),ll=n.n(_l);function ul(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function dl(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){ul(r,n,a,s,o,"next",e)}function o(e){ul(r,n,a,s,o,"throw",e)}s(void 0)})}}var pl={name:"NewPartition",mixins:[ll.a],props:{},data:function(){return{is_loading:!1,partition:{contract_ids:[],partition_type:"Manual",label_type:"Label::Default"},is_trialling:!1,trialed_partition:null,trial_errors:null}},mounted:function(){},methods:{number_with_commas:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},clear_dropdown:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.partition.customer_identity=null,$(e).dropdown("clear")},string_rjust:function(e,t,i){var n=String(e);return n.length<=t?String(e).rjust(t,i):"".rjust(t,"-")},trial_partition:function(){var e=this;if(this.trial_errors=null,this.valid()){this.is_trialling=!0;var t=this.partition,i=new RestUrl(this.$store.state.provider.routes.api_v1_provider_partitions_trial).parse();return axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){console.log(t),"success"==t.data.status?(e.trialed_partition=t.data.partition,e.is_trialling=!1):(e.trial_errors=t.data.errors,e.$noty.error(e.$t("ui.notifications.error.verify__name",{name:e.$t("models.partitions")})),e.is_trialling=!1,Promise.reject())})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.verify__name",{name:e.$t("models.partitions")})),e.is_trialling=!1})}},create_partition:function(){var e=dl(regeneratorRuntime.mark(function e(){var t,i,n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.valid()){e.next=8;break}return e.next=3,this.trial_partition();case 3:return this.is_loading=!0,t=this.partition,i=new RestUrl(this.$store.state.provider.routes.api_v1_provider_partitions_create).parse(),e.next=8,axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){"success"==e.data.status?(n.is_loading=!1,n.$store.commit("provider/partitions_module/add_partition",e.data.partition),n.$bus.$emit("out_of_date",n.$store.state.instance_identity,"partitions"),n.$router.push("/provider/partitions")):(n.$noty.error(n.$t("ui.notifications.error.create__name",{name:n.$t("models.partitions")})),n.is_loading=!1)})["catch"](function(e){n.$noty.error(n.$t("ui.notifications.error.create__name",{name:n.$t("models.partitions")})),n.is_loading=!1});case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},validator:{target:"partition",localize_key:"partitions",input_alert:!0,attributes:[{name:"name",required:!0},{name:"customer_identity",required:!1},{name:"material_identity",required:!0},{name:"numbers_from",required:!0},{name:"numbers_to",required:!0},{name:"note",required:!1}]},computed:{current_store:function(){return this.$store.state.provider.partitions_module},current_customer:function(){var e=this;return _.findLast(this.current_store.customers,function(t){return t.identity==e.partition.customer_identity})}},components:{FileUploader:xo["a"],ErrorBox:wc}},ml=pl,fl=Object(lt["a"])(ml,ol,cl,!1,null,null,null),vl=fl.exports,hl=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.partition.identity?i("div",{staticClass:"ui segment",attrs:{id:"edit"}},[i("h1",{staticClass:"ui header"},[e._v("\n        "+e._s(e.$t("ui.page_titles.edit_partition"))+"\n    ")]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui form"},[i("div",{staticClass:"ui grid",staticStyle:{"margin-top":"0","margin-bottom":"0"}},[i("div",{staticClass:"six wide red field",attrs:{"data-column":"name"}},[i("label",[e._v(e._s(e.$t("models.attributes.partitions.name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.partition.name,expression:"partition.name"}],attrs:{type:"text"},domProps:{value:e.partition.name},on:{input:function(t){t.target.composing||e.$set(e.partition,"name",t.target.value)}}})]),i("div",{staticClass:"five wide red field"},[i("label",[e._v(e._s(e.$t("models.attributes.partitions.numbers_from")))]),e.partition.count_of_core_waybills>0?i("input",{attrs:{type:"text",disabled:""},domProps:{value:e.partition.numbers_from}}):i("input",{directives:[{name:"model",rawName:"v-model",value:e.partition.numbers_from,expression:"partition.numbers_from"}],attrs:{type:"text"},domProps:{value:e.partition.numbers_from},on:{input:function(t){t.target.composing||e.$set(e.partition,"numbers_from",t.target.value)}}})]),i("div",{staticClass:"five wide red field"},[i("label",[e._v(e._s(e.$t("models.attributes.partitions.numbers_to")))]),e.partition.count_of_core_waybills>0?i("input",{attrs:{type:"text",disabled:""},domProps:{value:e.partition.numbers_to}}):i("input",{directives:[{name:"model",rawName:"v-model",value:e.partition.numbers_to,expression:"partition.numbers_to"}],attrs:{type:"text"},domProps:{value:e.partition.numbers_to},on:{input:function(t){t.target.composing||e.$set(e.partition,"numbers_to",t.target.value)}}})]),e.current_customer?i("div",{staticClass:"eight wide red field"},[i("label",[e._v(e._s(e.$t("models.attributes.partitions.customer")))]),i("input",{attrs:{disabled:""},domProps:{value:e.current_customer.company_short_name}})]):i("div",{staticClass:"eight wide red field"},[i("label",[e._v(e._s(e.$t("models.attributes.partitions.customer")))]),i("input",{attrs:{disabled:""},domProps:{value:e.$t("ui.general.no")}})]),i("div",{staticClass:"eight wide red field"},[i("label",[e._v("可用合約")]),e.current_customer?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.partition.contract_ids,expression:"partition.contract_ids"}],staticClass:"ui dropdown partition_type",attrs:{multiple:"",disabled:""},on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.partition,"contract_ids",t.target.multiple?i:i[0])},function(t){e.$forceUpdate()}]}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.current_customer.contracts,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2):e._e()]),i("div",{staticClass:"eight wide red field",attrs:{"data-column":"material_identity"}},[i("label",[e._v("\n                    "+e._s(e.$t("models.attributes.partitions.material"))+"\n                    "),e.partition.material_identity?i("i",{staticClass:"pointer remove circle outline red icon clear_dropdown",on:{click:function(t){e.clear_dropdown(".ui.dropdown.material_identity")}}}):e._e()]),e.current_store.customers?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.partition.material_identity,expression:"partition.material_identity"}],staticClass:"ui dropdown material_identity",on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.partition,"material_identity",t.target.multiple?i:i[0])},function(t){e.$forceUpdate()}]}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.current_store.materials,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2):i("div",{staticClass:"ui inline active loader"})]),i("div",{staticClass:"eight wide red field"},[i("label",[e._v("\n                    標籤種類\n                    "),e.partition.label_type?i("i",{staticClass:"pointer remove circle outline red icon clear_dropdown",on:{click:function(t){e.clear_dropdown(".ui.dropdown.label_type")}}}):e._e()]),i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.partition.label_type,expression:"partition.label_type"}],staticClass:"ui dropdown label_type",on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.partition,"label_type",t.target.multiple?i:i[0])},function(t){e.$forceUpdate()}]}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),i("option",{attrs:{value:"Label::Default"}},[e._v("TW568預設")]),"BY"==e.$store.state.provider.node.code?i("option",{attrs:{value:"Label::ByExpress"}},[e._v("博宇速運")]):e._e(),"CQF"==e.$store.state.provider.node.code?i("option",{attrs:{value:"Label::ChangQing"}},[e._v("長慶運通")]):e._e(),"FR"==e.$store.state.provider.node.code?i("option",{attrs:{value:"Label::FlyCargo"}},[e._v("飛樂航空")]):e._e(),i("option",{attrs:{value:"Label::HCT"}},[e._v("新竹物流")]),i("option",{attrs:{value:"Label::TCat"}},[e._v("統一速達")]),i("option",{attrs:{value:"Label::Pelican"}},[e._v("宅配通")]),i("option",{attrs:{value:"Label::Presco"}},[e._v("統一超商(統一數網)")]),i("option",{attrs:{value:"Label::PrescoInvoice"}},[e._v("統一超商含發票(統一數網)")]),i("option",{attrs:{value:"Label::FamilyMart"}},[e._v("全家便利商店(日翊文化)")]),i("option",{attrs:{value:"Label::FamilyMartInvoice"}},[e._v("全家便利商店含發票(日翊文化)")])])]),i("div",{staticClass:"eight wide red field"},[i("label",[e._v("\n                    號碼規則\n                    "),e.partition.numbers_rule?i("i",{staticClass:"pointer remove circle outline red icon clear_dropdown",on:{click:function(t){e.clear_dropdown(".ui.dropdown.numbers_rule")}}}):e._e()]),i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.partition.numbers_rule,expression:"partition.numbers_rule"}],staticClass:"ui dropdown numbers_rule",on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.partition,"numbers_rule",t.target.multiple?i:i[0])},function(t){e.$forceUpdate()}]}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),i("option",{attrs:{value:"tcat_numbers_rule"}},[e._v("黑貓檢查碼")]),i("option",{attrs:{value:"hct_numbers_rule"}},[e._v("新竹檢查碼")]),i("option",{attrs:{value:"pelican_numbers_rule"}},[e._v("宅配通檢查碼")])])]),i("div",{staticClass:"eight wide red field"},[i("label",[e._v("\n                    區間類型\n                    "),e.partition.partition_type?i("i",{staticClass:"pointer remove circle outline red icon clear_dropdown",on:{click:function(t){e.clear_dropdown(".ui.dropdown.partition_type")}}}):e._e()]),i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.partition.partition_type,expression:"partition.partition_type"}],staticClass:"ui dropdown partition_type",on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.partition,"partition_type",t.target.multiple?i:i[0])},function(t){e.$forceUpdate()}]}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),i("option",{attrs:{value:"Manual"}},[e._v("手動取號")]),i("option",{attrs:{value:"Auto"}},[e._v("自動取號")]),i("option",{attrs:{value:"Group"}},[e._v("區間群組")])])]),i("div",{staticClass:"eight wide red field",attrs:{"data-column":"note"}},[i("label",[e._v(e._s(e.$t("models.attributes.partitions.note")))]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.partition.note,expression:"partition.note"}],attrs:{rows:"4"},domProps:{value:e.partition.note},on:{input:function(t){t.target.composing||e.$set(e.partition,"note",t.target.value)}}})]),i("div",{staticClass:"eight wide red field"},[i("label",[e._v("\n                    "+e._s(e.$t("ui.pages.partitions.statistics"))+"\n                ")]),e._v("\n                "+e._s(e.$t("models.attributes.partitions.numbers_from"))+"："+e._s(e.partition.numbers_from)),i("br"),e._v("\n                "+e._s(e.$t("models.attributes.partitions.numbers_to"))+"："+e._s(e.partition.numbers_to)),i("br"),e._v("\n                "+e._s(e.$t("ui.pages.partitions.total_amount"))+"："+e._s(e.number_with_commas(e.partition.numbers_amount))),i("br"),e._v("\n                "+e._s(e.$t("ui.pages.partitions.available_quantity"))+"："+e._s(e.number_with_commas(e.partition.remaining_numbers))+"\n            ")])]),e._l(e.trial_errors,function(t,n,a){return i("div",{staticClass:"ui negative message"},[i("h3",[e._v(e._s(e.$t("models.attributes.partitions."+n)))]),i("ul",e._l(t,function(t){return i("li",[e._v(e._s(t))])}))])}),!e.trialed_partition||e.trial_errors||e.is_trialling?e._e():i("div",{staticClass:"ui positive message"},[i("h2",[e._v("\n                "+e._s(e.$t("ui.general.verify"))+"\n                "+e._s(e.$t("ui.general.result"))+"\n            ")]),i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n                "+e._s(e.$t("models.attributes.partitions.numbers_from"))+"：\n            ")]),e._v("\n            "+e._s(e.trialed_partition.numbers_from)),i("br"),i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n                "+e._s(e.$t("models.attributes.partitions.numbers_to"))+"：\n            ")]),e._v("\n            "+e._s(e.trialed_partition.numbers_to)),i("br"),i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n                "+e._s(e.$t("ui.pages.partitions.total_amount"))+"：\n            ")]),e._v("\n            "+e._s(e.number_with_commas(e.trialed_partition.numbers_amount))),i("br"),i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n                "+e._s(e.$t("ui.pages.partitions.available_quantity"))+"：\n            ")]),e._v("\n            "+e._s(e.number_with_commas(e.trialed_partition.remaining_numbers))+"\n        ")]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui buttons"},[i("router-link",{staticClass:"ui button",attrs:{to:{name:"partitions"}}},[e._v("\n                "+e._s(e.$t("ui.general.back"))+"\n            ")]),i("div",{staticClass:"or"}),e.is_trialling?i("a",{staticClass:"ui orange button",attrs:{href:"#"}},[e._v("\n                "+e._s(e.$t("ui.general.verifying"))+"...\n            ")]):i("a",{staticClass:"ui orange button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.trial_partition()}}},[e._v("\n                "+e._s(e.$t("ui.general.verify"))+"\n            ")]),i("div",{staticClass:"or"}),e.is_loading?i("a",{staticClass:"ui blue button",attrs:{href:"#"}},[e._v("\n                "+e._s(e.$t("ui.general.updating"))+"...\n            ")]):i("a",{staticClass:"ui blue button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.update_partition()}}},[e._v(e._s(e.$t("ui.general.update")))])],1)],2)]):e._e()},gl=[];function bl(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function yl(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){bl(r,n,a,s,o,"next",e)}function o(e){bl(r,n,a,s,o,"throw",e)}s(void 0)})}}var wl={name:"EditPartition",mixins:[ll.a],props:{},data:function(){return{is_loading:!1,partition:{},is_trialling:!1,trialed_partition:null,trial_errors:null}},watch:{},mounted:function(){this.fetch_partition()},methods:{clear_dropdown:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.partition.customer_identity=null,$(e).dropdown("clear")},number_with_commas:function(e){return e?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"N/A"},fetch_partition:function(){var e=this,t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_partition).parse({partition_identity:this.$route.params.partition_identity});return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.partition=t.data.partition})["catch"](function(e){return Promise.reject(e)})},trial_partition:function(){var e=this;if(this.trial_errors=null,this.valid()){this.is_trialling=!0;var t=this.partition,i=new RestUrl(this.$store.state.provider.routes.api_v1_provider_partition_trial).parse({partition_identity:this.partition.identity});return axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.trialed_partition=t.data.partition,e.is_trialling=!1):(e.trial_errors=t.data.errors,e.$noty.error(e.$t("ui.notifications.error.verify__name",{name:e.$t("models.partitions")})),e.is_trialling=!1,Promise.reject())})["catch"](function(t){e.$noty.error(e.$t("ui.general.verify")+" "+e.$t("partition")+" "+e.$t("ui.general.error")),e.is_trialling=!1})}},update_partition:function(){var e=yl(regeneratorRuntime.mark(function e(){var t,i,n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.valid()){e.next=7;break}return e.next=3,this.trial_partition();case 3:return this.is_loading=!0,t=this.partition,i=new RestUrl(this.$store.state.provider.routes.api_v1_provider_partition_update).parse({partition_identity:this.partition.identity}),e.abrupt("return",axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){"success"==e.data.status?(n.$store.commit("provider/partitions_module/update_partition",e.data.partition),n.$bus.$emit("out_of_date",n.$store.state.instance_identity,"partitions"),n.$noty.success(n.$t("ui.notifications.success.update__name",{name:n.$t("models.partitions")})),n.$router.push("/provider/partitions"),n.is_loading=!1):(n.$noty.error(n.$t("ui.notifications.error.update__name",{name:n.$t("models.partitions")})),n.is_loading=!1)})["catch"](function(e){console.log(e),n.$noty.error(n.$t("ui.notifications.error.update__name",{name:n.$t("models.partitions")})),n.is_loading=!1}));case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},validator:{target:"partition",localize_key:"partitions",input_alert:!0,attributes:[{name:"name",required:!0},{name:"customer_identity",required:!1},{name:"numbers_from",required:!0},{name:"numbers_to",required:!0},{name:"note",required:!1}]},computed:{current_store:function(){return this.$store.state.provider.partitions_module},current_customer:function(){var e=this;return _.findLast(this.current_store.customers,function(t){return t.identity==e.partition.customer_identity})}},components:{FileUploader:xo["a"]}},$l=wl,kl=Object(lt["a"])($l,hl,gl,!1,null,null,null),Cl=kl.exports,xl="provider_partitions",Pl="provider_associated_partitions",Sl="new_provider_partition",Nl="edit_provider_partition",Al=[{path:"",component:Y_,name:"provider_partitions",meta:{api_name:["api_v1_provider_partitions"],breadcrumb:[xl],btns:[Sl,Pl]}},{path:"associated_partitions",component:sl,name:"provider_associated_partitions",meta:{api_name:["api_v1_provider_associated_partitions"],breadcrumb:[xl,Pl],btns:[xl]}},{path:"new",component:vl,name:"new_provider_partition",meta:{api_name:"api_v1_provider_partitions_create",breadcrumb:[xl,Sl]}},{path:":partition_identity/edit",component:Cl,name:"edit_provider_partition",meta:{api_name:"api_v1_provider_partition_update",breadcrumb:[xl,Nl]}}],El=Al,ql=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"staffs_layout"}},[e.is_initialized?i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1):i("div",{staticClass:"ui active centered inline large loader"}),i("BackToTopButton",{tag:"div"})],1)},zl=[],jl=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("button",{staticClass:"ui icon blue button back-to-top",attrs:{"data-tooltip":e.$t("ui.toolbox.back_to_top_button.back_to_top")}},[i("i",{staticClass:"long arrow up icon"})])},Rl=[],Il={name:"ToolBackToTopButtonMain",data:function(){return{}},mounted:function(){$(".back-to-top").css("opacity",0),$(".back-to-top").on("click",function(e){e.preventDefault(),$("html, body").animate({scrollTop:0},300)}),$(window).scroll(function(){var e=$(this).scrollTop(),t=$(".back-to-top").css("opacity");e>400&&"0"==t?$(".back-to-top").animate({opacity:"1"},200):e<400&&"1"==t&&$(".back-to-top").animate({opacity:"0"},200)})}},Tl=Il,Ol=(n("5b42"),Object(lt["a"])(Tl,jl,Rl,!1,null,null,null)),Ll=Ol.exports;function Dl(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function Bl(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){Dl(r,n,a,s,o,"next",e)}function o(e){Dl(r,n,a,s,o,"throw",e)}s(void 0)})}}var Ml={name:"StaffsLayout",data:function(){return{is_initialized:!1,errors:[]}},created:function(){},mounted:function(){var e=this;e.init(),e.$bus.$off("init"),e.$bus.$on("init",function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.init()}.bind(this))},beforeDestroy:function(){this.$bus.$off("init")},watch:{},methods:{init:function(){var e=Bl(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,t.$store.dispatch("provider/staffs_module/fetch_roles");case 5:return e.next=7,new Promise(function(e){t.is_initialized=!0,t.$noty.information(t.$t("ui.page_titles.staffs")+" "+t.$t("ui.general.initialize_complete"),300),e()});case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{BackToTopButton:Ll}},Ul=Ml,Fl=(n("85e5"),Object(lt["a"])(Ul,ql,zl,!1,null,null,null)),Gl=Fl.exports,Hl=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"staffs"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),i("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[i("div"),i("div",{staticClass:"ui segment",style:{width:e.filter.is_advanced_mode?"100%":"auto",margin:0}},[i("FilterHeader",{staticClass:"right floated"}),i("div",{staticClass:"clear"}),i("FilterAdvanced",{staticClass:"ui transition hidden filter"})],1)]),i("div",{staticClass:"ui segment"},[i("table",{staticClass:"ui celled table"},[i("thead",{staticClass:"center aligned"},[i("tr",[i("th",[e._v(e._s(e.$t("models.attributes.staffs.username")))]),i("th",[e._v(e._s(e.$t("models.attributes.staffs.name")))]),i("th",[e._v(e._s(e.$t("models.attributes.staffs.phone")))]),i("th",[e._v(e._s(e.$t("models.attributes.staffs.role")))]),i("th",[e._v(e._s(e.$t("models.attributes.staffs.theme_name")))]),i("th",[e._v(e._s(e.$t("models.attributes.staffs.station")))]),i("th",[e._v(e._s(e.$t("ui.pages.staffs.banned")))]),i("th",[e._v(e._s(e.$t("ui.general.operate")))])])]),e.is_loading?i("tbody",{staticClass:"center aligned"},[e._m(0)]):i("tbody",{staticClass:"center aligned"},[e._l(e.staffs,function(e){return i("Staff",{key:e.identity,attrs:{staff:e}})}),e.staffs.length<=0?i("tr",{staticClass:"center aligned"},[i("td",{attrs:{colspan:"6"}},[i("h5",[e._v(e._s(e.$t("ui.general.no_data")))])])]):e._e()],2)]),i("Paginator",{tag:"div",attrs:{total_pages:e.pagination.total_pages,current_page:e.pagination.current_page,disabled:e.is_loading}})])],1)},Yl=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"loading"},[i("td",{attrs:{colspan:"6"}},[i("div",{staticClass:"ui active centered inline loader"})])])}],Kl=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.staff?i("tr",[i("td",[e._v(" "+e._s(e.staff.username))]),i("td",[e._v(" "+e._s(e.staff.name))]),i("td",[e._v(" "+e._s(e.staff.phone))]),i("td",["manager"==e.$store.state.provider.current_staff.theme_name?i("router-link",{attrs:{"data-tooltip":e.$t("ui.general.edit")+" "+e.$t("models.roles"),to:{name:"edit_role",params:{identity:e.staff.role_identity}}}},[e._v("\n            "+e._s(e.role_name)+"\n        ")]):i("span",[e._v("\n            "+e._s(e.role_name)+"\n        ")])],1),i("td",[e._v("\n        "+e._s(e.$t("ui.theme_names."+e.staff.theme_name))+"\n    ")]),i("td",[e._v("\n        "+e._s(e.station_name)+"\n    ")]),i("td",[e.staff.is_banned?e._e():i("span",[i("i",{staticClass:"check icon"}),e._v(" "+e._s(e.$t("ui.pages.staffs.normal"))+"\n        ")]),e.staff.is_banned?i("span",[i("i",{staticClass:"remove icon"}),e._v(" "+e._s(e.$t("ui.pages.staffs.banned"))+"\n        ")]):e._e()]),i("td",[i("router-link",{staticClass:"ui basic blue button",attrs:{to:{name:"appraisals",params:{staff_identity:e.staff.identity}}}},[e._v("\n            "+e._s(e.$t("ui.pages.staffs.appraisals"))+"\n        ")]),i("router-link",{staticClass:"ui basic green button",attrs:{to:{name:"edit_staff",params:{identity:e.staff.identity}}}},[e._v("\n            "+e._s(e.$t("ui.general.edit"))+"\n        ")]),i("button",{staticClass:"ui basic button",class:{positive:e.staff.is_banned,negative:!e.staff.is_banned},on:{click:e.toggle_is_banned}},[e.staff.is_banned?i("span",[e._v("\n                "+e._s(e.$t("ui.pages.staffs.unbanned"))+"\n            ")]):i("span",[e._v("\n                "+e._s(e.$t("ui.pages.staffs.banned"))+"\n            ")])]),i("a",{staticClass:"ui basic red button",on:{click:function(t){t.preventDefault(),e.delete_staff()}}},[e._v("\n            "+e._s(e.$t("ui.general.delete"))+"\n        ")])],1)]):e._e()},Wl=[],Vl={name:"ProviderStaffsIndexItem",props:{staff:Object},data:function(){return{is_loading:!1}},computed:{station_name:function(){var e=this,t=_.find(e.$store.state.provider.stations,{identity:e.staff.station_identity});return t?t.name:"-"},role_name:function(){var e=this,t=_.find(e.$store.state.provider.staffs_module.roles,function(t){return t.identity==e.staff.role_identity});return t?t.name:"-"}},mounted:function(){},methods:{delete_staff:function(){var e=this;if(confirm(this.$t("ui.notifications.warning.are_you_sure_to_delete_it"))){e.is_loading=!0;var t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_staff_delete).parse({identity:e.staff.identity});axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$parent.init(),e.$noty.success(e.$t("ui.notifications.success.delete__name",{name:e.staff.username})),e.$store.dispatch("provider/fetch_current_staff"),e.$store.dispatch("provider/fetch_current_staff_permissions")):(console.log(t.data),e.$noty.error(e.$t("ui.notifications.error.delete__name",{name:e.staff.username})))})["catch"](function(t){console.log(t.response),e.$noty.error(e.$t("ui.notifications.error.delete__name",{name:e.staff.username}))})["finally"](function(){e.is_loading=!1})}},toggle_is_banned:function(){var e=this;e.is_loading=!0;var t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_staff_update).parse({identity:e.staff.identity});axios.post(t,{is_banned:!e.staff.is_banned},{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.staff.is_banned=t.data.staff.is_banned,e.$noty.success(e.$t("ui.notifications.success.update__name",{name:e.$t("models.staffs")}))):e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.staffs")}))})["catch"](function(e){console.log(e.response)})["finally"](function(){e.is_loading=!1})}}},Xl=Vl,Ql=(n("7ed5"),Object(lt["a"])(Xl,Kl,Wl,!1,null,"f047b292",null)),Zl=Ql.exports,Jl=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"filter_advanced"}},[i("div",{staticClass:"ui form",on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$parent.fetch_staffs(1)}}},[i("div",{staticClass:"three fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.username")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.username,expression:"filter.columns.username"}],attrs:{type:"text"},domProps:{value:e.filter.columns.username},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"username",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.name,expression:"filter.columns.name"}],attrs:{type:"text"},domProps:{value:e.filter.columns.name},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"name",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.is_banned")))]),i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.is_banned,expression:"filter.columns.is_banned"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.filter.columns.is_banned)?e._i(e.filter.columns.is_banned,null)>-1:e.filter.columns.is_banned},on:{change:function(t){var i=e.filter.columns.is_banned,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&e.$set(e.filter.columns,"is_banned",i.concat([r])):s>-1&&e.$set(e.filter.columns,"is_banned",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.filter.columns,"is_banned",a)}}}),i("label",[e._v(e._s(e.$t("ui.general.yes")))])])])]),i("div",{staticClass:"three fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.role_identity")))]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection fluid dropdown"},[e._l(e.roles,function(t){return e.filter.columns.role_identity==t.identity?i("div",{staticClass:"text"},[e._v("\n                        "+e._s(t.name)+"\n                    ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.roles,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.columns.role_identity==t.identity},on:{click:function(i){e.filter.columns.role_identity=t.identity}}},[e._v("\n                            "+e._s(t.name)+"\n                        ")])}))],2)]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.station_identity")))]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection fluid dropdown"},[e._l(e.stations,function(t){return e.filter.columns.station_identity==t.identity?i("div",{staticClass:"text"},[e._v("\n                        "+e._s(t.name)+"\n                    ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.stations,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.columns.station_identity==t.identity},on:{click:function(i){e.filter.columns.station_identity=t.identity}}},[e._v("\n                            "+e._s(t.name)+"\n                        ")])}))],2)]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.theme_name")))]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection fluid dropdown"},[e._l(e.theme_names,function(t){return e.filter.columns.theme_name==t?i("div",{staticClass:"text"},[i("span",t?[e._v("\n                            "+e._s(e.$t("ui.theme_names."+t))+"\n                        ")]:[e._v("\n                            "+e._s(e.$t("ui.general.please_select"))+"\n                        ")])]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.theme_names,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.columns.theme_name==t},on:{click:function(i){e.filter.columns.theme_name=t}}},[i("span",t?[e._v("\n                                "+e._s(e.$t("ui.theme_names."+t))+"\n                            ")]:[e._v("\n                                "+e._s(e.$t("ui.general.please_select"))+"\n                            ")])])}))],2)])])]),i("div",{staticClass:"ui icon blue button right floated",on:{click:function(t){e.$parent.fetch_staffs(1)}}},[i("i",{staticClass:"search icon"}),e._v("\n        "+e._s(e.$t("ui.general.search"))+"\n    ")]),i("div",{staticClass:"clear"})])},eu=[],tu={name:"StaffsFilterAdvanced",data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.provider.staffs_module},filter:function(){return this.current_store.filter},theme_names:function(){return[null].concat(this.$store.state.provider.theme_menu_keys)},roles:function(){return[{name:this.$t("ui.general.please_select"),identity:null}].concat(this.$store.state.provider.staffs_module.roles)},stations:function(){return[{name:this.$t("ui.general.please_select"),identity:null}].concat(this.$store.state.provider.stations)}},created:function(){},mounted:function(){},watch:{},methods:{},components:{}},iu=tu,nu=(n("0919"),Object(lt["a"])(iu,Jl,eu,!1,null,"a708a874",null)),au=nu.exports,ru=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"filter_general"}},[e.filter.is_advanced_mode?e._e():i("div",{staticClass:"ui action input"},["role_identity"!=e.filter.current_shortcut_key&&"station_identity"!=e.filter.current_shortcut_key&&"theme_name"!=e.filter.current_shortcut_key&&"is_banned"!=e.filter.current_shortcut_key?i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns[e.filter.current_shortcut_key],expression:"filter.columns[filter.current_shortcut_key]"}],attrs:{placeholder:e.$t("ui.general.search__key",{key:e.$t("models.attributes.staffs."+e.filter.current_shortcut_key)}),type:"text"},domProps:{value:e.filter.columns[e.filter.current_shortcut_key]},on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$parent.fetch_staffs(1)},input:function(t){t.target.composing||e.$set(e.filter.columns,e.filter.current_shortcut_key,t.target.value)}}}):"role_identity"==e.filter.current_shortcut_key?i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection fluid dropdown right_radius",staticStyle:{"min-width":"200px"}},[e._l(e.roles,function(t){return e.filter.columns.role_identity==t.identity?i("div",{staticClass:"text"},[e._v("\n                "+e._s(t.name)+"\n            ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.roles,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.columns.role_identity==t.identity},on:{click:function(i){e.filter.columns.role_identity=t.identity}}},[e._v("\n                    "+e._s(t.name)+"\n                ")])}))],2):"station_identity"==e.filter.current_shortcut_key?i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection fluid dropdown right_radius",staticStyle:{"min-width":"200px"}},[e._l(e.stations,function(t){return e.filter.columns.station_identity==t.identity?i("div",{staticClass:"text"},[e._v("\n                "+e._s(t.name)+"\n            ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.stations,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.columns.station_identity==t.identity},on:{click:function(i){e.filter.columns.station_identity=t.identity}}},[e._v("\n                    "+e._s(t.name)+"\n                ")])}))],2):"theme_name"==e.filter.current_shortcut_key?i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection fluid dropdown right_radius",staticStyle:{"min-width":"200px"}},[e._l(e.theme_names,function(t){return e.filter.columns.theme_name==t?i("div",{staticClass:"text"},[i("span",t?[e._v("\n                    "+e._s(e.$t("ui.theme_names."+t))+"\n                ")]:[e._v("\n                    "+e._s(e.$t("ui.general.please_select"))+"\n                ")])]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.theme_names,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.columns.theme_name==t},on:{click:function(i){e.filter.columns.theme_name=t}}},[i("span",t?[e._v("\n                        "+e._s(e.$t("ui.theme_names."+t))+"\n                    ")]:[e._v("\n                        "+e._s(e.$t("ui.general.please_select"))+"\n                    ")])])}))],2):e._e(),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection dropdown no_search right_radius",staticStyle:{"min-width":"120px"}},[e._l(e.filter.shortcut_keys,function(t){return e.filter.current_shortcut_key==t?i("div",{staticClass:"text"},["is_banned"==e.filter.current_shortcut_key?i("span",[e._v("\n                    "+e._s(e.$t("ui.pages.staffs.is_banned"))+"\n                ")]):i("span",[e._v("\n                    "+e._s(e.$t("models.attributes.staffs."+t))+"\n                ")])]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.filter.shortcut_keys,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.current_shortcut_key==t},on:{click:function(i){e.set_quick_filter(t)}}},[i("span","is_banned"==t?[e._v("\n                        "+e._s(e.$t("ui.pages.staffs.is_banned"))+"\n                    ")]:[e._v("\n                        "+e._s(e.$t("models.attributes.staffs."+t))+"\n                    ")])])}))],2),i("div",{staticClass:"ui button icon",on:{click:function(t){e.$parent.fetch_staffs(1)}}},[i("i",{staticClass:"search icon"})])]),e.filter.is_advanced_mode?i("div",{staticClass:"ui basic red icon button",on:{click:function(t){e.$store.commit("provider/staffs_module/init_filter_columns")}}},[i("i",{staticClass:"close icon"}),e._v("\n        "+e._s(e.$t("ui.general.clear"))+"\n    ")]):e._e(),i("div",{staticClass:"ui button icon",style:{height:e.filter.is_advanced_mode?"auto":"38px",paddingTop:e.filter.is_advanced_mode?"":"13px",verticalAlign:e.filter.is_advanced_mode?"":"top"},on:{click:function(t){e.filter.is_advanced_mode=!e.filter.is_advanced_mode}}},[i("i",{staticClass:"bars icon",class:{minus:e.filter.is_advanced_mode,bars:!e.filter.is_advanced_mode}})])])},su=[],ou={name:"StaffsFilterHeader",data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.provider.staffs_module},filter:function(){return this.current_store.filter},theme_names:function(){return[null].concat(this.$store.state.provider.theme_menu_keys)},roles:function(){return[{name:this.$t("ui.general.please_select"),identity:null}].concat(this.$store.state.provider.staffs_module.roles)},stations:function(){return[{name:this.$t("ui.general.please_select"),identity:null}].concat(this.$store.state.provider.stations)}},created:function(){},mounted:function(){},watch:{},methods:{set_quick_filter:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var i=this;i.filter.current_shortcut_key=t,_.forEach(i.filter.shortcut_keys,function(e){i.filter.columns[e]=null}),"is_banned"==t&&(i.filter.columns.is_banned=!0)}catch(e){console.log(e)}}},components:{}},cu=ou,_u=(n("e7bd"),Object(lt["a"])(cu,ru,su,!1,null,"8da50f9c",null)),lu=_u.exports;function uu(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function du(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){uu(r,n,a,s,o,"next",e)}function o(e){uu(r,n,a,s,o,"throw",e)}s(void 0)})}}var pu={name:"StaffsIndex",data:function(){return{is_initialized:!1,is_loading:!1,is_search_params_changed:!1,staffs:[],roles:[],errors:[]}},computed:{current_store:function(){return this.$store.state.provider.staffs_module},pagination:function(){return this.current_store.pagination},filter:function(){return this.current_store.filter}},created:function(){},mounted:function(){this.init(),this.pagination.current_page=1},watch:{$route:{handler:function(e,t){var i=e.query.page;i&&(this.pagination.current_page=Number(i),this.$store.commit("provider/staffs_module/set_current_page",i),this.fetch_staffs())},immediate:!0},"filter.is_advanced_mode":function(e){$("#staffs .ui.transition.filter").transition(e?"fade down":"hide"),e||this.$store.commit("provider/staffs_module/init_filter_columns")}},methods:{init:function(){var e=du(regeneratorRuntime.mark(function e(){var t,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,new Promise(function(e){t.is_initialized=!1,e()});case 4:return e.next=6,t.fetch_staffs();case 6:return e.next=8,new Promise(function(e){i.filter.is_advanced_mode&&$("#staffs .ui.transition.filter").transition("fade down"),t.is_initialized=!0,e()});case 8:e.next=13;break;case 10:switch(e.prev=10,e.t0=e["catch"](1),e.t0){default:t.$noty.error("非預期的錯誤: "+e.t0),console.log("非預期的錯誤: "),console.log(e.t0)}case 13:return e.prev=13,e.finish(13);case 15:case"end":return e.stop()}},e,this,[[1,10,13,15]])}));function t(){return e.apply(this,arguments)}return t}(),fetch_staffs:function(e){var t=this;if(1==e&&(this.pagination.current_page=1,t.$route.query.page=1),0==t.is_loading){t.errors=[],t.is_loading=!0,t.is_search_params_changed&&(t.$store.commit("provider/staffs_module/set_current_page",null),t.is_search_params_changed=!1);var i=new RestUrl(t.$store.state.provider.routes.api_v1_provider_staffs).parse({},"?"+object_to_query(t.filter.columns)+"&"+object_to_query({page:t.pagination.current_page}));return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){if("success"!=e.data.status)return Promise.reject(e.data);t.staffs=e.data.staffs,t.$store.commit("provider/staffs_module/set_current_page",e.data.pagination.current_page),t.$store.commit("provider/staffs_module/set_total_pages",e.data.pagination.total_pages)})["catch"](function(e){if(e.response){switch(e.response.status){default:t.errors.push(e.response.status+" "+e.response.statusText)}t.$noty.error(t.$t("ui.notifications.error.fetch__name",{name:t.$t("models.staffs"),reason:": "+e.response.status+" "+e.response.statusText}))}else e.errors?(t.$noty.error(t.$t("ui.notifications.error.fetch__name",{name:t.$t("models.staffs"),reason:": "+e.errors})),t.errors=response.data.errors):(t.errors.push(t.$t("ui.general.server_offline")),t.$noty.error(t.$t("ui.general.server_offline")));return Promise.reject(e)})["finally"](function(){setTimeout(function(){t.is_loading=!1},300)})}},init_filter_columns:function(){this.$store.commit("provider/staffs_module/init_filter_columns"),$("#staffs .ui.dropdown").dropdown("clear")},toggle_filter:function(){this.$store.commit("provider/staffs_module/toggle_filter")}},components:{Staff:Zl,Paginator:cr,ErrorMessages:wc,FilterAdvanced:au,FilterHeader:lu}},mu=pu,fu=(n("8d94"),Object(lt["a"])(mu,Hl,Yl,!1,null,"6611a188",null)),vu=fu.exports,hu=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"new_staff"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),i("div",{staticClass:"contents"},[i("div",{staticClass:"ui form",class:{loading:e.is_loading}},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.username"))+" "),i("span",[e._v("*")])]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.username,expression:"staff.username"}],attrs:{type:"text",name:"username"},domProps:{value:e.staff.username},on:{input:function(t){t.target.composing||e.$set(e.staff,"username",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.password"))+" "),i("span",[e._v("*")])]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.password,expression:"staff.password"}],attrs:{type:"password",name:"password"},domProps:{value:e.staff.password},on:{input:function(t){t.target.composing||e.$set(e.staff,"password",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.password_confirmation"))+" "),i("span",[e._v("*")])]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.password_confirmation,expression:"staff.password_confirmation"}],attrs:{type:"password",autocomplete:"off",name:"password_confirmation"},domProps:{value:e.staff.password_confirmation},on:{input:function(t){t.target.composing||e.$set(e.staff,"password_confirmation",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.name"))+" "),i("span",[e._v("*")])]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.name,expression:"staff.name"}],attrs:{type:"text",name:"name"},domProps:{value:e.staff.name},on:{input:function(t){t.target.composing||e.$set(e.staff,"name",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.phone")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.phone,expression:"staff.phone"}],attrs:{type:"text",name:"phone"},domProps:{value:e.staff.phone},on:{input:function(t){t.target.composing||e.$set(e.staff,"phone",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.email")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.email,expression:"staff.email"}],attrs:{type:"email",name:"email"},domProps:{value:e.staff.email},on:{input:function(t){t.target.composing||e.$set(e.staff,"email",t.target.value)}}})]),e.roles?i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.role"))+" "),i("span",[e._v("*")])]),i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.staff.role_identity,expression:"staff.role_identity"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.staff,"role_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.$store.state.provider.staffs_module.roles,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2)]):e._e(),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.theme_name"))+" "),i("span",[e._v("*")])]),i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.staff.theme_name,expression:"staff.theme_name"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.staff,"theme_name",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.$store.state.provider.theme_menu_keys,function(t){return i("option",{domProps:{value:t}},[e._v(e._s(e.$t("ui.theme_names."+t)))])})],2)]),i("div",{staticClass:"field"},[i("label",[e._v("\n                    "+e._s(e.$t("models.attributes.staffs.station"))+"\n                    "),e.staff.station_identity?i("i",{staticClass:"pointer remove circle outline red icon clear_dropdown",on:{click:function(t){e.staff.station_identity=null,e.$(e.$refs.station_identity).dropdown("clear")}}}):e._e()]),i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.staff.station_identity,expression:"staff.station_identity"}],ref:"station_identity",staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.staff,"station_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.$store.state.provider.stations,function(t){return i("option",{domProps:{value:t.identity}},[e._v("\n                        "+e._s(t.name)+"\n                    ")])})],2)]),i("div",{staticClass:"ui basic positive button",on:{click:e.create_staff}},[e._v("\n                "+e._s(e.$t("ui.general.submit"))+"\n            ")]),i("router-link",{staticClass:"ui basic button",attrs:{to:{name:"staffs"}}},[i("i",{staticClass:"undo icon"}),e._v("\n                "+e._s(e.$t("ui.general.back"))+"\n            ")])],1)])],1)},gu=[],bu={name:"NewStaff",data:function(){return{is_loading:!1,staff:{name:null,username:null,email:null,phone:null,password:null,password_confirmation:null,role_identity:null,theme_name:null,station_identity:null},errors:[]}},mounted:function(){var e=this;e.form_validation()},computed:{operator:function(){return this.$store.state.provider.staffs_module.operator},roles:function(){return this.$store.state.provider.staffs_module.roles}},methods:{create_staff:function(){var e=this,t=_.clone(e.staff);if(e.errors=[],t.username&&t.password&&t.password_confirmation&&t.name&&t.role_identity&&t.theme_name)if(t.password!=t.password_confirmation)e.errors.push("請檢查密碼與確認密碼是否一致");else{var i=e.$store.state.provider.routes.api_v1_provider_staffs_create;e.is_loading=!0,axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?e.$router.push({name:"staffs"}):(console.log(t.data),e.errors=t.data.errors,e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.staffs")})))})["catch"](function(e){console.log(e.response)}).then(function(){e.is_loading=!1})}else e.errors.push(e.$t("ui.notifications.error.please_check_to_write_in_the_required_fields_mark"))},form_validation:function(){$(".ui.form").form({on:"blur",fields:{username:"empty",password:"empty",password_confirmation:"empty",name:"empty",role_identity:"empty"}})}},components:{ErrorMessages:wc}},yu=bu,wu=(n("f419"),Object(lt["a"])(yu,hu,gu,!1,null,"359a7583",null)),$u=wu.exports,ku=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"edit_staff"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),e.is_initialized?i("div",{staticClass:"contents"},[e.is_loading?i("div",{staticClass:"ui active centered inline loader"}):i("div",{staticClass:"ui form"},[i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.username")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.username,expression:"staff.username"}],attrs:{type:"text",name:"username"},domProps:{value:e.staff.username},on:{input:function(t){t.target.composing||e.$set(e.staff,"username",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.password"))+" "),i("span",[e._v("*")])]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.password,expression:"staff.password"}],attrs:{type:"password",name:"password"},domProps:{value:e.staff.password},on:{input:function(t){t.target.composing||e.$set(e.staff,"password",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.password_confirmation"))+" "),i("span",[e._v("*")])]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.password_confirmation,expression:"staff.password_confirmation"}],attrs:{type:"password",autocomplete:"off",name:"password_confirmation"},domProps:{value:e.staff.password_confirmation},on:{input:function(t){t.target.composing||e.$set(e.staff,"password_confirmation",t.target.value)}}})]),i("div",{staticClass:"eight wide field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.name,expression:"staff.name"}],attrs:{type:"text",name:"name"},domProps:{value:e.staff.name},on:{input:function(t){t.target.composing||e.$set(e.staff,"name",t.target.value)}}})]),i("div",{staticClass:"eight wide field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.phone")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.phone,expression:"staff.phone"}],attrs:{type:"text",name:"phone"},domProps:{value:e.staff.phone},on:{input:function(t){t.target.composing||e.$set(e.staff,"phone",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.email")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.email,expression:"staff.email"}],attrs:{type:"text",name:"email"},domProps:{value:e.staff.email},on:{input:function(t){t.target.composing||e.$set(e.staff,"email",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.role"))+" "),i("span",[e._v("*")])]),i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.staff.role_identity,expression:"staff.role_identity"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.staff,"role_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.$store.state.provider.staffs_module.roles,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2)]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.theme_name"))+" "),i("span",[e._v("*")])]),i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.staff.theme_name,expression:"staff.theme_name"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.staff,"theme_name",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.$store.state.provider.theme_menu_keys,function(t){return i("option",{domProps:{value:t}},[e._v(e._s(e.$t("ui.theme_names."+t)))])})],2)]),i("div",{staticClass:"field"},[i("label",[e._v("\n                    "+e._s(e.$t("models.attributes.staffs.station"))+"\n                    "),e.staff.station_identity?i("i",{staticClass:"pointer remove circle outline red icon clear_dropdown",on:{click:function(t){e.staff.station_identity=null,e.$(e.$refs.station_identity).dropdown("clear")}}}):e._e()]),i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.staff.station_identity,expression:"staff.station_identity"}],ref:"station_identity",staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.staff,"station_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.$store.state.provider.stations,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2)]),i("div",{staticClass:"ui basic positive button",on:{click:e.update_staff}},[e._v("\n                "+e._s(e.$t("ui.general.submit"))+"\n            ")]),i("router-link",{staticClass:"ui basic button",attrs:{to:{name:"staffs"}}},[i("i",{staticClass:"undo icon"}),e._v("\n                "+e._s(e.$t("ui.general.back"))+"\n            ")])],1)]):e._e()],1)},Cu=[];function xu(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function Pu(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){xu(r,n,a,s,o,"next",e)}function o(e){xu(r,n,a,s,o,"throw",e)}s(void 0)})}}var Su={name:"EditStaff",data:function(){return{is_initialized:!1,is_loading:!1,errors:[],staff:{}}},computed:{},created:function(){var e=this;e.init()},methods:{init:function(){var e=Pu(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,t.fetch_staff();case 5:return e.next=7,t.form_validation();case 7:return e.next=9,new Promise(function(e){t.is_initialized=!0,e()});case 9:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_staff:function(){var e=this,t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_staff).parse({identity:e.$route.params.identity});return e.is_loading=!0,axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.staff=t.data.staff,e.staff.password=null,e.staff.password_confirmation=null):e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.staffs")}))})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.staffs"),reason:": "+t}))}).then(function(){e.is_loading=!1})},form_validation:function(){$(".ui.form").form({on:"blur",fields:{name:"empty",username:"empty"}})},update_staff:function(){var e=this,t=e.staff;if(e.errors=[],""!=t.password&&t.password!=t.password_confirmation){var i="密碼錯誤";e.errors.push(i),e.$noty.error(i)}else{delete t.password_confirmation;var n=new RestUrl(e.$store.state.provider.routes.api_v1_provider_staff_update).parse({identity:e.$route.params.identity});e.is_loading=!0,axios.post(n,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.staff=t.data.staff,e.staff.password=null,e.staff.password_confirmation=null,e.$store.dispatch("provider/fetch_current_staff"),e.$store.dispatch("provider/fetch_current_staff_permissions"),e.$router.push({name:"staffs"})):e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.staffs")}))})["catch"](function(e){console.log(e.response)}).then(function(){setTimeout(function(){e.is_loading=!1},300)})}}},components:{ErrorMessages:wc}},Nu=Su,Au=(n("613c"),Object(lt["a"])(Nu,ku,Cu,!1,null,"32eb7b58",null)),Eu=Au.exports,qu="staffs",zu="new_staff",ju="edit_staff",Ru=[{path:"/",component:vu,name:"staffs",meta:{api_name:"api_v1_provider_staffs",breadcrumb:[qu],btns:[zu]}},{path:"new",component:$u,name:"new_staff",meta:{api_name:"api_v1_provider_staffs_create",breadcrumb:[qu,zu]}},{path:":identity/edit",component:Eu,name:"edit_staff",meta:{api_name:"api_v1_provider_staff_update",breadcrumb:[qu,ju]}}],Iu=Ru,Tu=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"roles_layout"}},[e.is_initialized?i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1):i("div",{staticClass:"ui active centered inline large loader"}),i("BackToTopButton",{tag:"div"})],1)},Ou=[];function Lu(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function Du(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){Lu(r,n,a,s,o,"next",e)}function o(e){Lu(r,n,a,s,o,"throw",e)}s(void 0)})}}var Bu={name:"RolesLayout",data:function(){return{is_initialized:!1,errors:[]}},computed:{},created:function(){},mounted:function(){var e=this;e.init(),e.$bus.$off("init"),e.$bus.$on("init",function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.init()}.bind(this))},beforeDestroy:function(){this.$bus.$off("init")},watch:{},methods:{init:function(){var e=Du(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,new Promise(function(e){t.is_initialized=!1,e()});case 4:return e.next=6,t.$store.dispatch("provider/roles_module/fetch_permissions");case 6:return e.next=8,t.$store.dispatch("provider/roles_module/fetch_permission_groups");case 8:return e.next=10,new Promise(function(e){t.is_initialized=!0,t.$noty.information(t.$t("ui.page_titles.roles")+" "+t.$t("ui.general.initialize_complete"),300),e()});case 10:e.next=26;break;case 12:e.prev=12,e.t0=e["catch"](1),e.t1=e.t0,e.next="Failed to fetch Permissions."===e.t1?17:"Error to fetch Permissions."===e.t1?19:"Failed to fetch PermissionGroups."===e.t1?21:"Error to fetch PermissionGroups."===e.t1?23:25;break;case 17:return t.$noty.error("無法取得 權限列表"),e.abrupt("break",25);case 19:return t.$noty.error("無法取得 權限列表，狀態異常"),e.abrupt("break",25);case 21:return t.$noty.error("無法取得 權限群組"),e.abrupt("break",25);case 23:return t.$noty.error("無法取得 權限群組"),e.abrupt("break",25);case 25:t.is_initialized=!0;case 26:case"end":return e.stop()}},e,this,[[1,12]])}));function t(){return e.apply(this,arguments)}return t}()},components:{BackToTopButton:Ll}},Mu=Bu,Uu=(n("89ed"),Object(lt["a"])(Mu,Tu,Ou,!1,null,null,null)),Fu=Uu.exports,Gu=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"roles"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),i("table",{staticClass:"ui celled table"},[i("thead",{staticClass:"center aligned"},[i("tr",[i("th",[e._v(e._s(e.$t("models.attributes.roles.name")))]),i("th")])]),e.is_loading?i("tbody",{staticClass:"center aligned"},[e._m(0)]):i("tbody",{staticClass:"center aligned"},[e._l(e.roles,function(e){return i("Role",{key:e.identity,attrs:{role:e}})}),e.roles.length<=0?i("tr",{staticClass:"center aligned"},[i("td",{attrs:{colspan:"2"}},[i("h5",[e._v(e._s(e.$t("ui.general.no_data")))])])]):e._e()],2)]),i("Paginator",{tag:"div",attrs:{total_pages:e.total_pages,current_page:e.current_page,change_page_channel:"index_page",disabled:e.is_loading}})],1)},Hu=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"loading"},[i("td",{attrs:{colspan:"2"}},[i("div",{staticClass:"ui active centered inline loader"})])])}],Yu=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",[i("td",[e._v(" "+e._s(e.role.name))]),i("td",[e.$store.getters["provider/is_pass_permissons"](["api_v1_provider_role_update"])?i("router-link",{staticClass:"ui basic green button",attrs:{to:{name:"edit_role",params:{identity:e.role.identity}}}},[e._v("\n            "+e._s(e.$t("ui.general.edit"))+"\n        ")]):e._e(),e.$store.getters["provider/is_pass_permissons"](["api_v1_provider_role_delete"])?i("button",{staticClass:"ui basic red button",on:{click:function(t){t.preventDefault(),e.delete_role()}}},[e._v("\n            "+e._s(e.$t("ui.general.delete"))+"\n        ")]):e._e()],1)])},Ku=[],Wu={name:"ProviderRolesIndexItem",props:{role:Object},data:function(){return{}},computed:{},mounted:function(){},methods:{delete_role:function(){var e=this;if(e.$store.getters["provider/is_pass_permissons"](["api_v1_provider_role_delete"])&&confirm(this.$t("ui.notifications.warning.are_you_sure_to_delete_it"))){var t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_role_delete).parse({identity:e.role.identity});axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$parent.init(),e.$noty.success(e.$t("ui.notifications.success.delete__name",{name:e.role.name})),e.$store.dispatch("provider/fetch_current_staff"),e.$store.dispatch("provider/fetch_current_staff_permissions")):(console.log(t.data),e.$noty.error(e.$t("ui.notifications.error.delete__name",{name:e.role.name})))})["catch"](function(t){console.log(t.response),e.$noty.error(e.$t("ui.notifications.error.delete__name",{name:e.role.name}))})}}}},Vu=Wu,Xu=(n("2675"),Object(lt["a"])(Vu,Yu,Ku,!1,null,"3b8c999c",null)),Qu=Xu.exports;function Zu(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function Ju(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){Zu(r,n,a,s,o,"next",e)}function o(e){Zu(r,n,a,s,o,"throw",e)}s(void 0)})}}var ed={name:"RolesIndex",data:function(){return{is_initialized:!1,is_loading:!1,roles:[],errors:[]}},computed:{current_page:function(){return this.$store.state.provider.roles_module.pagination.current_page},total_pages:function(){return this.$store.state.provider.roles_module.pagination.total_pages}},created:function(){},mounted:function(){this.init()},watch:{},methods:{init:function(){var e=Ju(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,new Promise(function(e){t.is_initialized=!1,e()});case 4:return e.next=6,t.fetch_roles();case 6:return e.next=8,new Promise(function(e){t.is_initialized=!0,e()});case 8:e.next=13;break;case 10:switch(e.prev=10,e.t0=e["catch"](1),e.t0){default:t.$noty.error("非預期的錯誤: "+e.t0),console.log("非預期的錯誤: "),console.log(e.t0)}case 13:return e.prev=13,t.$bus.$off("index_page"),t.$bus.$on("index_page",function(e){t.fetch_roles(e)}.bind(this)),e.finish(13);case 17:case"end":return e.stop()}},e,this,[[1,10,13,17]])}));function t(){return e.apply(this,arguments)}return t}(),fetch_roles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this;if(0==t.is_loading){t.errors=[],t.is_loading=!0;var i=new RestUrl(t.$store.state.provider.routes.api_v1_provider_roles).parse({},"?page="+e);return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){"success"==e.data.status?(t.roles=e.data.roles,t.$store.commit("provider/roles_module/set_current_page",e.data.pagination.current_page),t.$store.commit("provider/roles_module/set_total_pages",e.data.pagination.total_pages)):(console.log(e.data),t.errors=e.data.errors,t.$noty.error(t.$t("ui.notifications.error.fetch__name",{name:t.$t("models.roles"),reason:": "+e.data.errors})))})["catch"](function(e){console.log(e.reponse),t.$noty.error(t.$t("ui.notifications.error.fetch__name",{name:t.$t("models.roles"),reason:": "+e}))}).then(function(){setTimeout(function(){t.is_loading=!1},300)})}}},components:{Role:Qu,Paginator:cr,ErrorMessages:wc}},td=ed,id=(n("624c"),Object(lt["a"])(td,Gu,Hu,!1,null,"771bcbb7",null)),nd=id.exports,ad=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"edit_role"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),e.is_initialized?i("div",{staticClass:"contents"},[e.is_loading?i("div",{staticClass:"ui active centered inline loader"}):i("div",{staticClass:"ui form"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.roles.name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.role.name,expression:"role.name"}],staticClass:"name",attrs:{type:"text"},domProps:{value:e.role.name},on:{input:function(t){t.target.composing||e.$set(e.role,"name",t.target.value)}}})]),i("PermissionsTable",{tag:"div",attrs:{role:e.role}}),i("div",{staticClass:"ui basic positive button",on:{click:e.update_role}},[e._v("\n                "+e._s(e.$t("ui.general.submit"))+"\n            ")]),i("router-link",{staticClass:"ui basic button",attrs:{to:{name:"roles"}}},[i("i",{staticClass:"undo icon"}),e._v("\n                "+e._s(e.$t("ui.general.back"))+"\n            ")])],1)]):e._e()],1)},rd=[],sd=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"permissions"}},[e.is_show_permission_groups?i("div",[e._m(0),e.permission_groups.length?i("div",{staticClass:"fields",staticStyle:{"flex-wrap":"wrap"}},e._l(e.permission_groups,function(t){return i("div",{staticClass:"field",staticStyle:{margin:"6px"}},[i("div",{staticClass:"ui slider checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.checked,expression:"permission_group.checked"}],attrs:{type:"checkbox",id:t.identity},domProps:{checked:Array.isArray(t.checked)?e._i(t.checked,null)>-1:t.checked},on:{click:function(i){e.toggle_permissions(i,t.permission_identities,!0)},change:function(i){var n=t.checked,a=i.target,r=!!a.checked;if(Array.isArray(n)){var s=null,o=e._i(n,s);a.checked?o<0&&e.$set(t,"checked",n.concat([s])):o>-1&&e.$set(t,"checked",n.slice(0,o).concat(n.slice(o+1)))}else e.$set(t,"checked",r)}}}),i("label",{staticStyle:{position:"relative"},attrs:{for:t.identity}},[e._v("\n                        "+e._s(t.name)+"\n                        "),t.identity?i("router-link",{staticStyle:{"font-size":"smaller"},attrs:{to:{name:"edit_permission_group",params:{identity:t.identity}}}},[e._v("\n                            ["+e._s(e.$t("ui.general.edit"))+"]\n                        ")]):e._e()],1)])])})):i("div",{staticClass:"fields"},[i("div",{staticClass:"field"}),i("div",{staticClass:"field"},[e._v("目前無任何群組")])])]):e._e(),e.is_initialized?i("div",{staticClass:"field"},[i("label",[e._v("細部權限")]),i("table",{staticClass:"ui striped table"},[i("tbody",e._l(e.grouped_permissions,function(t){return t.permissions.length?i("tr",[i("td",[i("div",{staticClass:"ui checkbox toggle"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.checked,expression:"grouped_permission.checked"}],attrs:{type:"checkbox",id:t.name},domProps:{checked:Array.isArray(t.checked)?e._i(t.checked,null)>-1:t.checked},on:{click:function(i){e.toggle_permissions(i,t.permissions)},change:function(i){var n=t.checked,a=i.target,r=!!a.checked;if(Array.isArray(n)){var s=null,o=e._i(n,s);a.checked?o<0&&e.$set(t,"checked",n.concat([s])):o>-1&&e.$set(t,"checked",n.slice(0,o).concat(n.slice(o+1)))}else e.$set(t,"checked",r)}}}),i("label",{attrs:{for:t.name}},[e._v("\n                                "+e._s(t.name)+"\n                            ")])])]),i("td",[i("div",{staticClass:"ui horizontal relaxed list"},e._l(t.permissions,function(t){return i("div",{staticClass:"item"},[i("div",{staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.role.permission_identities,expression:"role.permission_identities"}],attrs:{type:"checkbox",id:"check"+t.identity},domProps:{value:t.identity,checked:Array.isArray(e.role.permission_identities)?e._i(e.role.permission_identities,t.identity)>-1:e.role.permission_identities},on:{change:function(i){var n=e.role.permission_identities,a=i.target,r=!!a.checked;if(Array.isArray(n)){var s=t.identity,o=e._i(n,s);a.checked?o<0&&e.$set(e.role,"permission_identities",n.concat([s])):o>-1&&e.$set(e.role,"permission_identities",n.slice(0,o).concat(n.slice(o+1)))}else e.$set(e.role,"permission_identities",r)}}}),i("label",{attrs:{for:"check"+t.identity}},[e._v("\n                                        "+e._s(t.name)+"\n                                    ")])])])}))])]):e._e()}))])]):e._e()])},od=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"field"},[i("label",[e._v("權限群組")])])}];function cd(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function _d(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){cd(r,n,a,s,o,"next",e)}function o(e){cd(r,n,a,s,o,"throw",e)}s(void 0)})}}var ld={name:"ProviderRolesPermissionsTable",props:{is_show_permission_groups:{type:Boolean,default:!0},role:Object},data:function(){return{is_initialized:!1,grouped_permissions:[],permission_groups:[],list:[]}},mounted:function(){var e=this;e.init()},watch:{role_permission_identities:function(){var e=this;e.permission_checkbox_switch_permissions_toggle()},permissions:function(){var e=this;e.init()}},computed:{role_permission_identities:function(){return this.role.permission_identities},permissions:function(){return this.$store.state.provider.roles_module.permissions}},methods:{init:function(){var e=_d(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,t.handle_service_config_menu_name();case 3:return e.next=5,t.init_grouped_permissions();case 5:return e.next=7,t.init_permission_groups();case 7:return e.next=9,t.permission_checkbox_switch_permissions_toggle();case 9:return e.next=11,new Promise(function(e){t.is_initialized=!0,e()});case 11:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),handle_service_config_menu_name:function(){var e=this;return e.list=[],_.forEach(e.$store.state.provider.service_config.menu,function(t){t.items?_.forEach(t.items,function(t){e.list.push({name:e.handle_list_name_remove_string_s(t.name)})}):e.list.push({name:e.handle_list_name_remove_string_s(t.name)})}),Promise.resolve()},handle_list_name_remove_string_s:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{if(!t)throw!1;var i=t.match(/(.+)s/i);return i?i[1]:t}catch(e){return!1}},init_grouped_permissions:function(){var e=this;return e.grouped_permissions_array=[],_.map(e.list,function(t){t.checked=!1;var i=[];_.forEach(e.permissions,function(n){var a=t.name;"user_log"==a&&(a="log"),"uploader"==a&&(a="file"),"-1"!=n.name.indexOf(a)&&(i.push(n),e.grouped_permissions_array.push(n))}),t.permissions=_.sortBy(i,[function(e){return e.name}])}),e.grouped_permissions=e.list,Promise.resolve()},init_permission_groups:function(){var e=this,t=$.extend(!0,[],e.$store.state.provider.roles_module.permission_groups);return _.map(t,function(e){e.checked=!1}),e.permission_groups=t,Promise.resolve()},toggle_permissions:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this,a=_.map(t,function(e){return e.identity});i&&(a=t);var r=n.role.permission_identities;r=e.target.checked?_.concat(r,a):_.pullAll(r,a),n.role.permission_identities=_.sortBy(_.union(r))},permission_checkbox_switch_permissions_toggle:function(){var e=this;return _.map(e.grouped_permissions,function(t){var i=[];_.map(t.permissions,function(t){i.push(_.findLast(e.role.permission_identities,function(e){return e==t.identity}))});var n=_.remove(i,_.isUndefined);0==n.length?t.checked=!0:t.checked=!1}),e.is_show_permission_groups&&e.toggle_permission_switch_toggle_permission_groups(),Promise.resolve()},toggle_permission_switch_toggle_permission_groups:function(){var e=this;_.map(e.permission_groups,function(t){var i=[];_.map(t.permission_identities,function(t){i.push(_.findLast(e.role.permission_identities,function(e){return e==t}))});var n=_.remove(i,_.isUndefined);0==n.length?t.checked=!0:t.checked=!1})}}},ud=ld,dd=(n("4157"),Object(lt["a"])(ud,sd,od,!1,null,null,null)),pd=dd.exports;function md(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function fd(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){md(r,n,a,s,o,"next",e)}function o(e){md(r,n,a,s,o,"throw",e)}s(void 0)})}}var vd={name:"EditRole",data:function(){return{is_initialized:!1,is_loading:!1,errors:[],role:{}}},computed:{},created:function(){},mounted:function(){this.init()},methods:{init:function(){var e=fd(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,t.fetch_role();case 5:return e.next=7,new Promise(function(e){t.is_loading=!1,t.is_initialized=!0,e()});case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_role:function(){var e=this,t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_role).parse({identity:e.$route.params.identity});return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?e.role=t.data.role:(console.log(t.data),e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.roles")})))})["catch"](function(t){console.log(t),e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.roles"),reason:": "+t}))})},update_role:function(){var e=this,t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_role_update).parse({identity:e.$route.params.identity});e.errors=[],e.is_loading=!0,axios.post(t,e.role,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$noty.success(e.$t("ui.notifications.success.update__name",{name:e.$t("models.roles")})),e.$store.dispatch("provider/fetch_current_staff"),e.$store.dispatch("provider/fetch_current_staff_permissions"),e.$router.push({name:"roles"})):(console.log(reponse.data),e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.roles")})))})["catch"](function(t){console.log(t.reponse),e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.roles")}))}).then(function(){setTimeout(function(){e.is_loading=!1},300)})}},components:{PermissionsTable:pd,ErrorMessages:wc}};var hd=vd,gd=Object(lt["a"])(hd,ad,rd,!1,null,null,null),bd=gd.exports,yd=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"new"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),i("div",{staticClass:"contents"},[i("div",{staticClass:"ui form",class:{loading:e.is_loading}},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.roles.name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.role.name,expression:"role.name"}],staticClass:"name",attrs:{type:"text"},domProps:{value:e.role.name},on:{input:function(t){t.target.composing||e.$set(e.role,"name",t.target.value)}}})]),i("PermissionsTable",{tag:"div",attrs:{role:e.role}}),i("div",{staticClass:"ui basic positive button",on:{click:e.create}},[e._v("\n                "+e._s(e.$t("ui.general.submit"))+"\n            ")]),i("router-link",{staticClass:"ui basic button",attrs:{to:{name:"roles"}}},[i("i",{staticClass:"undo icon"}),e._v("\n                "+e._s(e.$t("ui.general.back"))+"\n            ")])],1)])],1)},wd=[],$d={name:"NewRole",data:function(){return{is_loading:!1,errors:[],role:{name:null,permission_identities:[]}}},mounted:function(){},computed:{},methods:{create:function(){var e=this,t=e.$store.state.provider.routes.api_v1_provider_role_create;e.errors=[],e.is_loading=!0,axios.post(t,e.role,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$noty.success(e.$t("ui.notifications.success.create__name",{name:e.$t("models.roles")})),e.$router.push({name:"roles"})):(console.log(reponse.data),e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.roles")})))})["catch"](function(t){console.log(t.response),e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.roles")}))}).then(function(){e.is_loading=!0})}},components:{PermissionsTable:pd,ErrorMessages:wc}},kd=$d,Cd=Object(lt["a"])(kd,yd,wd,!1,null,null,null),xd=Cd.exports,Pd="roles",Sd="new_role",Nd="edit_role",Ad=[{path:"/",component:nd,name:"roles",meta:{api_name:"api_v1_provider_roles",breadcrumb:[Pd],btns:[Sd]}},{path:"new",component:xd,name:"new_role",meta:{api_name:"api_v1_provider_role_create",breadcrumb:[Pd,Sd]}},{path:":identity/edit",component:bd,name:"edit_role",meta:{api_name:"api_v1_provider_role_update",breadcrumb:[Pd,Nd]}}],Ed=Ad,qd=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"distributions_layout"}},[e.is_initialized?i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1):e._e(),i("div",{staticClass:"ui inverted dimmer transition",class:{active:!e.is_initialized}},[i("div",{staticClass:"ui text loader"},[e._v(e._s(e.$t("ui.general.initializing")))])])],1)},zd=[];function jd(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function Rd(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){jd(r,n,a,s,o,"next",e)}function o(e){jd(r,n,a,s,o,"throw",e)}s(void 0)})}}var Id={name:"DistributionsLayout",data:function(){return{is_initialized:!1,errors:[]}},computed:{},watch:{},created:function(){},mounted:function(){var e=this;e.init(),e.$bus.$off("init"),e.$bus.$on("init",function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.init()}.bind(this))},beforeDestroy:function(){this.$bus.$off("init")},methods:{init:function(){var e=Rd(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,t.$store.dispatch("provider/distributions_module/fetch_materials");case 5:return e.next=7,new Promise(function(e){t.is_initialized=!0,t.$noty.information(t.$t("ui.page_titles.provider_distributions")+" "+t.$t("ui.general.initialize_complete"),300),e()});case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{}},Td=Id,Od=Object(lt["a"])(Td,qd,zd,!1,null,null,null),Ld=Od.exports,Dd=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"distributions"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),i("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[i("div"),i("div",{staticClass:"ui segment",style:{width:e.filter.is_advanced_mode?"100%":"auto",margin:0}},[i("FilterHeader",{staticClass:"right floated"}),i("div",{staticClass:"clear"}),i("FilterAdvanced",{staticClass:"ui transition hidden filter"})],1)]),i("div",{staticClass:"ui segment"},[i("table",{staticClass:"ui compact celled table"},[i("thead",{staticClass:"center aligned"},[i("tr",[i("th",[e._v(e._s(e.$t("models.attributes.distributions.priority")))]),i("th",[e._v(e._s(e.$t("models.attributes.distributions.name")))]),i("th",[e._v(e._s(e.$t("models.attributes.distributions.strategy")))]),i("th",[e._v(e._s(e.$t("models.attributes.distributions.station")))]),i("th",[e._v(e._s(e.$t("models.attributes.distributions.material")))]),i("th",[e._v(e._s(e.$t("models.attributes.distributions.is_activated")))]),i("th",[e._v(e._s(e.$t("ui.general.operate")))])])]),e.is_loading?i("tbody",{staticClass:"center aligned"},[e._m(0)]):i("tbody",{staticClass:"center aligned"},[e._l(e.distributions,function(e){return i("Distribution",{key:e.identity,attrs:{distribution:e}})}),e.distributions.length<=0?i("tr",{staticClass:"center aligned"},[i("td",{attrs:{colspan:"6"}},[i("h5",[e._v(e._s(e.$t("ui.general.no_data")))])])]):e._e()],2)]),e.distributions.length>0?i("Paginator",{attrs:{total_pages:e.total_pages,current_page:e.current_page}}):e._e()],1)],1)},Bd=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"loading"},[i("td",{attrs:{colspan:"6"}},[i("div",{staticClass:"ui active centered inline loader"})])])}],Md=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"filter_advanced"}},[i("div",{staticClass:"ui form",on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$parent.fetch_distributions(1)}}},[i("div",{staticClass:"three fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.distributions.name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.name,expression:"filter.columns.name"}],attrs:{type:"text"},domProps:{value:e.filter.columns.name},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"name",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.distributions.strategy_value")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.strategy_value,expression:"filter.columns.strategy_value"}],attrs:{type:"text"},domProps:{value:e.filter.columns.strategy_value},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"strategy_value",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.distributions.strategy")))]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection fluid dropdown"},[e._l(e.strategies,function(t){return e.filter.columns.strategy==t.value?i("div",{staticClass:"text"},[e._v("\n                        "+e._s(t.name)+"\n                    ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.strategies,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.columns.strategy==t.value},on:{click:function(i){e.filter.columns.strategy=t.value}}},[e._v("\n                            "+e._s(t.name)+"\n                        ")])}))],2)])]),i("div",{staticClass:"four fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.distributions.priority")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.priority,expression:"filter.columns.priority"}],attrs:{type:"text"},domProps:{value:e.filter.columns.priority},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"priority",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.distributions.station_identity")))]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection fluid dropdown"},[e._l(e.stations,function(t){return e.filter.columns.station_identity==t.identity?i("div",{staticClass:"text"},[e._v("\n                        "+e._s(t.name)+"\n                    ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.stations,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.columns.station_identity==t.identity},on:{click:function(i){e.filter.columns.station_identity=t.identity}}},[e._v("\n                            "+e._s(t.name)+"\n                        ")])}))],2)]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.distributions.material_identity")))]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection fluid dropdown"},[e._l(e.materials,function(t){return e.filter.columns.material_identity==t.identity?i("div",{staticClass:"text"},[e._v("\n                        "+e._s(t.name)+"\n                    ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.materials,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.columns.material_identity==t.identity},on:{click:function(i){e.filter.columns.material_identity=t.identity}}},[e._v("\n                            "+e._s(t.name)+"\n                        ")])}))],2)]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.distributions.is_activated")))]),i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.is_activated,expression:"filter.columns.is_activated"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.filter.columns.is_activated)?e._i(e.filter.columns.is_activated,null)>-1:e.filter.columns.is_activated},on:{change:function(t){var i=e.filter.columns.is_activated,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&e.$set(e.filter.columns,"is_activated",i.concat([r])):s>-1&&e.$set(e.filter.columns,"is_activated",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.filter.columns,"is_activated",a)}}}),i("label",[e._v(e._s(e.$t("ui.general.yes")))])])])])]),i("div",{staticClass:"ui icon blue button right floated",on:{click:function(t){e.$parent.fetch_distributions(1)}}},[i("i",{staticClass:"search icon"}),e._v("\n        "+e._s(e.$t("ui.general.search"))+"\n    ")]),i("div",{staticClass:"clear"})])},Ud=[],Fd={name:"DistributionsFilterAdvanced",data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.provider.distributions_module},filter:function(){return this.current_store.filter},stations:function(){return[{name:this.$t("ui.general.please_select"),identity:null}].concat(this.$store.state.provider.stations)},materials:function(){return[{name:this.$t("ui.general.please_select"),identity:null}].concat(this.$store.state.provider.distributions_module.materials)},strategies:function(){return[{name:this.$t("ui.general.please_select"),value:null},{name:this.$t("ui.pages.distributions.filter.direct"),value:"direct"},{name:this.$t("ui.pages.distributions.filter.intermodal"),value:"intermodal"}]}},created:function(){},mounted:function(){},watch:{},methods:{},components:{}},Gd=Fd,Hd=(n("5f74"),Object(lt["a"])(Gd,Md,Ud,!1,null,"e8cf8350",null)),Yd=Hd.exports,Kd=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"filter_general"}},[e.filter.is_advanced_mode?e._e():i("div",{staticClass:"ui action input"},["station_identity"!=e.filter.current_shortcut_key&&"material_identity"!=e.filter.current_shortcut_key&&"is_activated"!=e.filter.current_shortcut_key&&"strategy"!=e.filter.current_shortcut_key?i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns[e.filter.current_shortcut_key],expression:"filter.columns[filter.current_shortcut_key]"}],attrs:{placeholder:e.$t("ui.general.search__key",{key:e.$t("models.attributes.distributions."+e.filter.current_shortcut_key)}),type:"text"},domProps:{value:e.filter.columns[e.filter.current_shortcut_key]},on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$parent.fetch_distributions(1)},input:function(t){t.target.composing||e.$set(e.filter.columns,e.filter.current_shortcut_key,t.target.value)}}}):"station_identity"==e.filter.current_shortcut_key?i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection fluid dropdown right_radius",staticStyle:{"min-width":"200px"}},[e._l(e.stations,function(t){return e.filter.columns.station_identity==t.identity?i("div",{staticClass:"text"},[e._v("\n                "+e._s(t.name)+"\n            ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.stations,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.columns.station_identity==t.identity},on:{click:function(i){e.filter.columns.station_identity=t.identity}}},[e._v("\n                    "+e._s(t.name)+"\n                ")])}))],2):"material_identity"==e.filter.current_shortcut_key?i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection fluid dropdown right_radius",staticStyle:{"min-width":"200px"}},[e._l(e.materials,function(t){return e.filter.columns.material_identity==t.identity?i("div",{staticClass:"text"},[e._v("\n                "+e._s(t.name)+"\n            ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.materials,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.columns.material_identity==t.identity},on:{click:function(i){e.filter.columns.material_identity=t.identity}}},[e._v("\n                    "+e._s(t.name)+"\n                ")])}))],2):"strategy"==e.filter.current_shortcut_key?i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection fluid dropdown right_radius",staticStyle:{"min-width":"200px"}},[e._l(e.strategies,function(t){return e.filter.columns.strategy==t.value?i("div",{staticClass:"text"},[e._v("\n                "+e._s(t.name)+"\n            ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.strategies,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.columns.strategy==t.value},on:{click:function(i){e.filter.columns.strategy=t.value}}},[e._v("\n                    "+e._s(t.name)+"\n                ")])}))],2):e._e(),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection dropdown no_search right_radius",staticStyle:{"min-width":"120px"}},[e._l(e.filter.shortcut_keys,function(t){return e.filter.current_shortcut_key==t?i("div",{staticClass:"text"},[i("span","is_activated"==t?[e._v("\n                    "+e._s(e.$t("ui.pages.distributions.activated"))+"\n                ")]:[e._v("\n                    "+e._s(e.$t("models.attributes.distributions."+t))+"\n                ")])]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.filter.shortcut_keys,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.current_shortcut_key==t},on:{click:function(i){e.set_quick_filter(t)}}},[i("span","is_activated"==t?[e._v("\n                        "+e._s(e.$t("ui.pages.distributions.activated"))+"\n                    ")]:[e._v("\n                        "+e._s(e.$t("models.attributes.distributions."+t))+"\n                    ")])])}))],2),i("div",{staticClass:"ui button icon",on:{click:function(t){e.$parent.fetch_distributions(1)}}},[i("i",{staticClass:"search icon"})])]),e.filter.is_advanced_mode?i("div",{staticClass:"ui basic red icon button",on:{click:function(t){e.$store.commit("provider/distributions_module/init_filter_columns")}}},[i("i",{staticClass:"close icon"}),e._v("\n        "+e._s(e.$t("ui.general.clear"))+"\n    ")]):e._e(),i("div",{staticClass:"ui button icon",style:{height:e.filter.is_advanced_mode?"auto":"38px",paddingTop:e.filter.is_advanced_mode?"":"13px",verticalAlign:e.filter.is_advanced_mode?"":"top"},on:{click:function(t){e.filter.is_advanced_mode=!e.filter.is_advanced_mode}}},[i("i",{staticClass:"bars icon",class:{minus:e.filter.is_advanced_mode,bars:!e.filter.is_advanced_mode}})])])},Wd=[],Vd={name:"DistributionsFilterHeader",data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.provider.distributions_module},filter:function(){return this.current_store.filter},stations:function(){return[{name:this.$t("ui.general.please_select"),identity:null}].concat(this.$store.state.provider.stations)},materials:function(){return[{name:this.$t("ui.general.please_select"),identity:null}].concat(this.$store.state.provider.distributions_module.materials)},strategies:function(){return[{name:this.$t("ui.general.please_select"),value:null},{name:this.$t("ui.pages.distributions.filter.direct"),value:"direct"},{name:this.$t("ui.pages.distributions.filter.intermodal"),value:"intermodal"}]}},created:function(){},mounted:function(){},watch:{},methods:{set_quick_filter:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var i=this;i.filter.current_shortcut_key=t,_.forEach(i.filter.shortcut_keys,function(e){i.filter.columns[e]=null}),"is_activated"==t&&(i.filter.columns.is_activated=!0)}catch(e){console.log(e)}}},components:{}},Xd=Vd,Qd=(n("4de6"),Object(lt["a"])(Xd,Kd,Wd,!1,null,"5f74c6ca",null)),Zd=Qd.exports,Jd=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"center aligned"},[i("td",[e._v(" "+e._s(e.distribution.priority||"-")+" ")]),i("td",[e._v(" "+e._s(e.distribution.name||"-")+" ")]),i("td",[e._v(" "+e._s(e.human_strategy(e.distribution.strategy)||"-")+" ")]),i("td",[e._v(" "+e._s(e.station_name||"-")+" ")]),i("td",[e._v(" "+e._s(e.material_name||"-")+" ")]),i("td",[e.distribution.is_activated?i("i",{staticClass:"check icon"}):i("i",{staticClass:"remove icon"})]),i("td",{staticClass:"center aligned"},[i("router-link",{staticClass:"ui basic primary button",attrs:{to:{name:"edit_provider_distribution",params:{identity:e.distribution.identity}}}},[e._v("\n            "+e._s(e.$t("ui.general.detail"))+"\n        ")]),i("button",{staticClass:"ui basic negative button",class:{loading:e.is_processing},on:{click:function(t){e.delete_distribution()}}},[e._v("\n            "+e._s(e.$t("ui.general.delete"))+"\n        ")])],1)])},ep=[],tp={name:"ProviderDistributionsIndexItem",props:{distribution:Object},data:function(){return{is_processing:!1}},computed:{station_name:function(){return this.distribution.station?this.distribution.station.name:null},material_name:function(){return this.distribution.material?this.distribution.material.name:null}},created:function(){},mounted:function(){},watch:{},methods:{delete_distribution:function(){if(confirm(this.$t("ui.notifications.warning.are_you_sure_to_delete_it"))){var e=this;e.is_processing=!0;var t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_distribution_delete).parse({distribution_identity:e.distribution.identity});axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$parent.init(),e.$noty.success("轄區移除成功")):e.$noty.error("轄區移除失敗")})["catch"](function(t){console.log(t),t.response?e.$noty.error(e.$t("ui.general.network_abnormality")+": "+t.response.status+t.response.data):e.$noty.error(e.$t("ui.general.network_abnormality")+": "+e.$t("ui.general.server_offline"))}),e.is_processing=!1}},human_strategy:function(e){switch(e){case"direct":return this.$t("ui.pages.distributions.filter.direct");case"intermodal":return this.$t("ui.pages.distributions.filter.intermodal");default:return null}}},components:{}},ip=tp,np=Object(lt["a"])(ip,Jd,ep,!1,null,null,null),ap=np.exports;function rp(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function sp(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){rp(r,n,a,s,o,"next",e)}function o(e){rp(r,n,a,s,o,"throw",e)}s(void 0)})}}var op={name:"DistributionsIndex",data:function(){return{is_initialized:!1,is_loading:!1,distributions:[],errors:[]}},created:function(){},mounted:function(){this.init(),this.pagination.current_page=1},watch:{$route:{handler:function(e,t){var i=e.query.page;i&&(this.pagination.current_page=Number(i),this.$store.commit("provider/distributions_module/set_current_page",i),this.current_store.search_params.page=i,this.fetch_distributions())},immediate:!0},"filter.is_advanced_mode":function(e){$("#distributions .ui.transition.filter").transition(e?"fade down":"hide"),e||this.$store.commit("provider/distributions_module/init_filter_columns")}},computed:{current_store:function(){return this.$store.state.provider.distributions_module},pagination:function(){return this.current_store.pagination},filter:function(){return this.current_store.filter},current_page:function(){return this.current_store.pagination.current_page},total_pages:function(){return this.current_store.pagination.total_pages},stations:function(){return this.$store.state.provider.stations},materials:function(){return this.$store.state.provider.distributions_module.materials},strategies:function(){return[{name:this.$t("ui.pages.distributions.filter.direct"),value:"direct"},{name:this.$t("ui.pages.distributions.filter.intermodal"),value:"intermodal"}]}},methods:{init:function(){var e=sp(regeneratorRuntime.mark(function e(){var t,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,new Promise(function(e){t.is_initialized=!1,t.filter.columns.page=1,e()});case 4:return e.next=6,t.fetch_distributions();case 6:return e.next=8,new Promise(function(e){i.filter.is_advanced_mode&&$("#distributions .ui.transition.filter").transition("fade down"),t.is_initialized=!0,e()});case 8:e.next=13;break;case 10:switch(e.prev=10,e.t0=e["catch"](1),e.t0){default:t.$noty.error("非預期的錯誤: "+e.t0),console.log("非預期的錯誤: "),console.log(e.t0)}case 13:return e.prev=13,e.finish(13);case 15:case"end":return e.stop()}},e,this,[[1,10,13,15]])}));function t(){return e.apply(this,arguments)}return t}(),fetch_distributions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this;if(1==e&&(t.pagination.current_page=1,t.$route.query.page=1),0==t.is_loading){t.errors=[],t.is_loading=!0;var i=new RestUrl(t.$store.state.provider.routes.api_v1_provider_distributions).parse({},"?"+object_to_query(t.filter.columns));return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){"success"==e.data.status?(t.distributions=e.data.distributions,t.$store.commit("provider/distributions_module/set_current_page",e.data.pagination.current_page),t.$store.commit("provider/distributions_module/set_total_pages",e.data.pagination.total_pages)):(t.$noty.error(t.$t("ui.notifications.error.fetch__name",{name:t.$t("models.distributions"),reason:": "+e.data.errors})),t.errors=e.data.errors)})["catch"](function(e){console.log(e),t.$noty.error(t.$t("ui.notifications.error.fetch__name",{name:t.$t("models.distributions"),reason:": "+errors}))}).then(function(){setTimeout(function(){t.is_loading=!1},300)})}},init_filter_columns:function(){this.$store.commit("provider/distributions_module/init_filter_columns")}},components:{Distribution:ap,Paginator:cr,ErrorMessages:wc,FilterAdvanced:Yd,FilterHeader:Zd}},cp=op,_p=(n("0fb9"),Object(lt["a"])(cp,Dd,Bd,!1,null,"066c6a64",null)),lp=_p.exports,up=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"edit_distribution"}},[e.is_loading||!e.is_initialized?i("div",[i("div",{staticClass:"ui inverted dimmer transition visible active",staticStyle:{display:"block !important"}},[i("div",{staticClass:"ui text loader"},[e._v("\n                "+e._s(e.$t("ui.general.initializing"))+"\n            ")])])]):i("div",{staticClass:"contents"},[i("table",{staticClass:"ui fixed table form"},[i("thead",[i("tr",[i("th",{staticClass:"right aligned"},[i("h3",{staticClass:"ui header"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.distribution.name,expression:"distribution.name"}],attrs:{type:"text"},domProps:{value:e.distribution.name},on:{input:function(t){t.target.composing||e.$set(e.distribution,"name",t.target.value)}}})])]),i("th",{attrs:{colspan:"4"}}),i("th")])]),i("tbody",[i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.distributions.strategy"))+"\n                    ")]),i("td",{staticStyle:{overflow:"visible"},attrs:{colspan:"5"}},[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.distribution.strategy,expression:"distribution.strategy"}],on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.distribution,"strategy",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.strategies,function(t){return i("option",{domProps:{value:t.value}},[e._v(e._s(t.name))])})],2)])]),"intermodal"==e.distribution.strategy?i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.distributions.strategy_value"))+"\n                    ")]),i("td",{staticClass:"ui form",attrs:{colspan:"5"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.distribution.strategy_value,expression:"distribution.strategy_value"}],attrs:{type:"text"},domProps:{value:e.distribution.strategy_value},on:{input:function(t){t.target.composing||e.$set(e.distribution,"strategy_value",t.target.value)}}})])]):e._e(),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.distributions.priority"))+"\n                    ")]),i("td",{staticClass:"ui form",attrs:{colspan:"5"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.distribution.priority,expression:"distribution.priority"}],attrs:{type:"number"},domProps:{value:e.distribution.priority},on:{input:function(t){t.target.composing||e.$set(e.distribution,"priority",t.target.value)}}})])]),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.distributions.station"))+"\n                    ")]),i("td",{staticClass:"ui form",staticStyle:{overflow:"visible"},attrs:{colspan:"5"}},[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.distribution.station_identity,expression:"distribution.station_identity"}],ref:"station_selector",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.distribution,"station_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.stations,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2),i("button",{staticClass:"ui basic icon button",on:{click:function(t){e.distribution.station_identity=null,e.$(e.$refs.station_selector).dropdown("clear")}}},[i("i",{staticClass:"remove icon"})])])]),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.distributions.material"))+"\n                    ")]),i("td",{staticClass:"ui form",staticStyle:{overflow:"visible"},attrs:{colspan:"5"}},[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.distribution.material_identity,expression:"distribution.material_identity"}],ref:"material_selector",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.distribution,"material_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.materials,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2),i("button",{staticClass:"ui basic icon button",on:{click:function(t){e.distribution.material_identity=null,e.$(e.$refs.material_selector).dropdown("clear")}}},[i("i",{staticClass:"remove icon"})])])]),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.distributions.is_activated"))+"\n                    ")]),i("td",{staticClass:"ui form",attrs:{colspan:"5"}},[i("div",{staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.distribution.is_activated,expression:"distribution.is_activated"}],attrs:{type:"checkbox",id:"is_activated"},domProps:{checked:Array.isArray(e.distribution.is_activated)?e._i(e.distribution.is_activated,null)>-1:e.distribution.is_activated},on:{change:function(t){var i=e.distribution.is_activated,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&e.$set(e.distribution,"is_activated",i.concat([r])):s>-1&&e.$set(e.distribution,"is_activated",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.distribution,"is_activated",a)}}}),i("label",{staticClass:"pointer",attrs:{for:"is_activated"}},[e.distribution.is_activated?i("span",[e._v("\n                                    "+e._s(e.$t("ui.pages.distributions.activated"))+"\n                                ")]):i("span",[e._v("\n                                    "+e._s(e.$t("ui.pages.distributions.unactivated"))+"\n                                ")])])])])]),i("tr",[i("td",{attrs:{colspan:"6"}},[i("table",{staticClass:"ui three column table"},[i("thead",[i("tr",[i("th",[e._v(e._s(e.$t("ui.pages.distributions.condition_type")))]),i("th",[e._v(e._s(e.$t("ui.pages.distributions.content")))]),i("th",[i("button",{staticClass:"ui basic positive fluid button",on:{click:function(t){e.distribution.distribution_conditions.push({address_type:"administrative_area_level_1",address_name:"",_delete:!1})}}},[i("i",{staticClass:"plus icon"}),e._v(e._s(e.$t("ui.pages.distributions.add_condition"))+"\n                                        ")])])])]),i("tbody",e._l(e.distribution.distribution_conditions,function(t,n){return i("tr",{key:t.identity,class:{negative:t._delete}},[i("td",{class:{"disabled input":t._delete},staticStyle:{overflow:"visible"}},[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:t.address_type,expression:"condition.address_type"}],on:{change:function(i){var n=Array.prototype.filter.call(i.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(t,"address_type",i.target.multiple?n:n[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.address_types,function(t){return i("option",{domProps:{value:t.value}},[e._v(e._s(t.name))])})],2)]),i("td",{class:{"disabled input":t._delete}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.address_name,expression:"condition.address_name"}],attrs:{type:"text"},domProps:{value:t.address_name},on:{input:function(i){i.target.composing||e.$set(t,"address_name",i.target.value)}}})]),i("td",[i("button",{staticClass:"ui basic fluid button",class:{positive:t._delete,negative:!t._delete},on:{click:function(e){t._delete=!t._delete}}},[t._delete?i("span",[i("i",{staticClass:"refresh icon"}),e._v("\n                                                "+e._s(e.$t("ui.pages.distributions.undo"))+"\n                                            ")]):i("span",[i("i",{staticClass:"remove icon"}),e._v("\n                                                "+e._s(e.$t("ui.general.delete"))+"\n                                            ")])])])])})),i("tfoot",[i("tr",[i("td",{attrs:{colspan:"6"}},[i("div",{staticClass:"ui icon message"},[i("i",{staticClass:"info icon"}),i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                                                    "+e._s(e.$t("ui.pages.distributions.add_condition_help"))+"\n                                                ")]),i("p",[e._v(" "+e._s(e.$t("ui.pages.distributions.add_condition_help_content_1"))+" ")]),i("p",[e._v(" "+e._s(e.$t("ui.pages.distributions.add_condition_help_content_2"))+" ")])])])])])])])])]),i("tr",[i("td",{attrs:{colspan:"6"}},[i("button",{staticClass:"ui basic fluid positive button",on:{click:function(t){return t.preventDefault(),e.update_distribution(t)}}},[e._v(e._s(e.$t("ui.general.update")))])])])])])])])},dp=[];function pp(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function mp(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){pp(r,n,a,s,o,"next",e)}function o(e){pp(r,n,a,s,o,"throw",e)}s(void 0)})}}var fp={name:"EditDistribution",props:{},data:function(){return{is_initialized:!1,is_loading:!1,distribution:{},errors:[]}},watch:{},created:function(){},mounted:function(){this.init()},computed:{strategies:function(){return[{name:"站點直派",value:"direct"},{name:"轉聯運",value:"intermodal"}]},stations:function(){return this.$store.state.provider.stations},materials:function(){return this.$store.state.provider.distributions_module.materials},address_types:function(){return[{name:"Country",value:"country"},{name:"直轄市",value:"administrative_area_level_1"},{name:"縣/省轄市",value:"administrative_area_level_2"},{name:"直轄市區/省轄市區/縣轄鄉鎮市",value:"administrative_area_level_3"},{name:"路",value:"route"},{name:"郵遞區號",value:"postal_code"}]}},methods:{init:function(){var e=mp(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,t.fetch_distribution();case 5:return e.next=7,new Promise(function(e){t.is_initialized=!0,e()});case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_distribution:function(){var e=this;e.is_loading=!0;var t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_distribution).parse({distribution_identity:e.$route.params.identity});return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){return"success"==t.data.status?(e.distribution=t.data.distribution,_.forEach(e.distribution.distribution_conditions,function(t){e.$set(t,"_delete",!1)})):"failure"==t.data.status&&(e.errors=t.data.errors,e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.distributions"),reason:": "+t.data.errors}))),e.is_loading=!1,t})["catch"](function(t){return e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.distributions"),reason:": "+e.$t("ui.general.network_abnormality")+","+t.response.status})),Promise.reject(t)})},update_distribution:function(){var e=this;e.is_loading=!0;var t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_distribution_update).parse({distribution_identity:e.$route.params.identity}),i=_.cloneDeep(e.distribution);delete i.identity,delete i.node_identity,delete i.material,axios.post(t,i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$noty.success(e.$t("ui.notifications.success.update__name",{name:e.$t("models.distributions")})),e.init()):(e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.distributions"),reason:": "+t.data.errors})),e.errors=t.data.errors)})["catch"](function(t){console.log(t),e.$noty.error(e.$t("ui.general.network_abnormality"))})}},components:{}},vp=fp,hp=Object(lt["a"])(vp,up,dp,!1,null,"cbbf0a86",null),gp=hp.exports,bp=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"new_distribution"}},[e.is_loading||!e.is_initialized?i("div",[i("div",{staticClass:"ui inverted dimmer transition visible active",staticStyle:{display:"block !important"}},[i("div",{staticClass:"ui text loader"},[e._v("\n                "+e._s(e.$t("ui.general.initializing"))+"\n            ")])])]):i("div",{staticClass:"contents"},[i("table",{staticClass:"ui fixed table form"},[i("thead",[i("tr",[i("th",{staticClass:"right aligned"},[i("h3",{staticClass:"ui header"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.distribution.name,expression:"distribution.name"}],attrs:{type:"text",placeholder:e.$t("models.attributes.distributions.name")},domProps:{value:e.distribution.name},on:{input:function(t){t.target.composing||e.$set(e.distribution,"name",t.target.value)}}})])]),i("th",{attrs:{colspan:"4"}}),i("th")])]),i("tbody",[i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.distributions.strategy"))+"\n                    ")]),i("td",{staticStyle:{overflow:"visible"},attrs:{colspan:"5"}},[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.distribution.strategy,expression:"distribution.strategy"}],on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.distribution,"strategy",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.strategies,function(t){return i("option",{domProps:{value:t.value}},[e._v(e._s(t.name))])})],2)])]),"intermodal"==e.distribution.strategy?i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.distributions.strategy_value"))+"\n                    ")]),i("td",{staticClass:"ui form",attrs:{colspan:"5"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.distribution.strategy_value,expression:"distribution.strategy_value"}],attrs:{type:"text"},domProps:{value:e.distribution.strategy_value},on:{input:function(t){t.target.composing||e.$set(e.distribution,"strategy_value",t.target.value)}}})])]):e._e(),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.distributions.priority"))+"\n                    ")]),i("td",{staticClass:"ui form",attrs:{colspan:"5"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.distribution.priority,expression:"distribution.priority"}],attrs:{type:"number"},domProps:{value:e.distribution.priority},on:{input:function(t){t.target.composing||e.$set(e.distribution,"priority",t.target.value)}}})])]),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.distributions.station"))+"\n                    ")]),i("td",{staticClass:"ui form",staticStyle:{overflow:"visible"},attrs:{colspan:"5"}},[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.distribution.station_identity,expression:"distribution.station_identity"}],ref:"station_selector",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.distribution,"station_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.stations,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2),i("button",{staticClass:"ui basic icon button",on:{click:function(t){e.distribution.station_identity=null,e.$(e.$refs.station_selector).dropdown("clear")}}},[i("i",{staticClass:"remove icon"})])])]),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.distributions.material"))+"\n                    ")]),i("td",{staticClass:"ui form",staticStyle:{overflow:"visible"},attrs:{colspan:"5"}},[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.distribution.material_identity,expression:"distribution.material_identity"}],ref:"material_selector",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.distribution,"material_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.materials,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2),i("button",{staticClass:"ui basic icon button",on:{click:function(t){e.distribution.material_identity=null,e.$(e.$refs.material_selector).dropdown("clear")}}},[i("i",{staticClass:"remove icon"})])])]),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.distributions.is_activated"))+"\n                    ")]),i("td",{staticClass:"ui form",attrs:{colspan:"5"}},[i("div",{staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.distribution.is_activated,expression:"distribution.is_activated"}],attrs:{type:"checkbox",id:"is_activated"},domProps:{checked:Array.isArray(e.distribution.is_activated)?e._i(e.distribution.is_activated,null)>-1:e.distribution.is_activated},on:{change:function(t){var i=e.distribution.is_activated,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&e.$set(e.distribution,"is_activated",i.concat([r])):s>-1&&e.$set(e.distribution,"is_activated",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.distribution,"is_activated",a)}}}),i("label",{staticClass:"pointer",attrs:{for:"is_activated"}},[e.distribution.is_activated?i("span",[e._v("\n                                    "+e._s(e.$t("ui.pages.distributions.activated"))+"\n                                ")]):i("span",[e._v("\n                                    "+e._s(e.$t("ui.pages.distributions.unactivated"))+"\n                                ")])])])])]),i("tr",[i("td",{attrs:{colspan:"6"}},[i("table",{staticClass:"ui three column table"},[i("thead",[i("tr",[i("th",[e._v(e._s(e.$t("ui.pages.distributions.condition_type")))]),i("th",[e._v(e._s(e.$t("ui.pages.distributions.content")))]),i("th",[i("button",{staticClass:"ui basic positive fluid button",on:{click:function(t){e.distribution.distribution_conditions.push({address_type:"administrative_area_level_1",address_name:"",_delete:!1})}}},[i("i",{staticClass:"plus icon"}),e._v(e._s(e.$t("ui.pages.distributions.add_condition"))+"\n                                        ")])])])]),i("tbody",e._l(e.distribution.distribution_conditions,function(t,n){return i("tr",{key:t.identity,class:{negative:t._delete}},[i("td",{class:{"disabled input":t._delete},staticStyle:{overflow:"visible"}},[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:t.address_type,expression:"condition.address_type"}],on:{change:function(i){var n=Array.prototype.filter.call(i.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(t,"address_type",i.target.multiple?n:n[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.address_types,function(t){return i("option",{domProps:{value:t.value}},[e._v(e._s(t.name))])})],2)]),i("td",{class:{"disabled input":t._delete}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.address_name,expression:"condition.address_name"}],attrs:{type:"text"},domProps:{value:t.address_name},on:{input:function(i){i.target.composing||e.$set(t,"address_name",i.target.value)}}})]),i("td",[i("button",{staticClass:"ui basic fluid button",class:{positive:t._delete,negative:!t._delete},on:{click:function(e){t._delete=!t._delete}}},[t._delete?i("span",[i("i",{staticClass:"refresh icon"}),e._v("\n                                                "+e._s(e.$t("ui.pages.distributions.undo"))+"\n                                            ")]):i("span",[i("i",{staticClass:"remove icon"}),e._v("\n                                                "+e._s(e.$t("ui.general.delete"))+"\n                                            ")])])])])})),i("tfoot",[i("tr",[i("td",{attrs:{colspan:"6"}},[i("div",{staticClass:"ui icon message"},[i("i",{staticClass:"info icon"}),i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                                                    "+e._s(e.$t("ui.pages.distributions.add_condition_help"))+"\n                                                ")]),i("p",[e._v(" "+e._s(e.$t("ui.pages.distributions.add_condition_help_content_1"))+" ")]),i("p",[e._v(" "+e._s(e.$t("ui.pages.distributions.add_condition_help_content_2"))+" ")])])])])])])])])]),i("tr",[i("td",{attrs:{colspan:"6"}},[i("button",{staticClass:"ui basic fluid positive button",on:{click:function(t){return t.preventDefault(),e.create_distribution(t)}}},[e._v(e._s(e.$t("ui.general.create")))])])])])])])])},yp=[];function wp(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function $p(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){wp(r,n,a,s,o,"next",e)}function o(e){wp(r,n,a,s,o,"throw",e)}s(void 0)})}}var kp={name:"NewDistribution",props:{},data:function(){return{is_initialized:!1,is_loading:!1,distribution:{},errors:[]}},watch:{},created:function(){},mounted:function(){this.init()},computed:{strategies:function(){return[{name:"站點直派",value:"direct"},{name:"轉聯運",value:"intermodal"}]},stations:function(){return this.$store.state.provider.stations},materials:function(){return this.$store.state.provider.distributions_module.materials},address_types:function(){return[{name:"直轄市",value:"administrative_area_level_1"},{name:"縣/省轄市",value:"administrative_area_level_2"},{name:"直轄市區/省轄市區/縣轄鄉鎮市",value:"administrative_area_level_3"},{name:"路",value:"route"},{name:"郵遞區號",value:"postal_code"}]}},methods:{init:function(){var e=$p(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,t.distribution={name:null,strategy:null,strategy_value:null,priority:null,station_identity:null,material_identity:null,is_activated:!0,distribution_conditions:[]},e()});case 3:return e.next=5,new Promise(function(e){t.is_initialized=!0,e()});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),create_distribution:function(){var e=this;e.is_loading=!0;var t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_distributions_create).parse({}),i=_.cloneDeep(e.distribution);axios.post(t,i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$noty.success(e.$t("ui.notifications.success.create__name",{name:e.$t("models.distributions")})),e.$router.push({name:"provider_distributions"})):(e.errors=t.data.errors,e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.distributions"),reason:": "+t.data.errors})))})["catch"](function(t){console.log(t),e.$noty.error(e.$t("ui.general.network_abnormality"))}).then(function(){setTimeout(function(){e.is_loading=!1},300)})}},components:{}},Cp=kp,xp=Object(lt["a"])(Cp,bp,yp,!1,null,"71918d05",null),Pp=xp.exports,Sp="provider_distributions",Np="new_provider_distribution",Ap="edit_provider_distribution",Ep=[{path:"",component:lp,name:"provider_distributions",meta:{api_name:"api_v1_provider_materials",breadcrumb:[Sp],btns:[Np]}},{path:"edit/:identity",component:gp,name:"edit_provider_distribution",meta:{api_name:"api_v1_provider_distribution_update",breadcrumb:[Sp,Ap]}},{path:"new",component:Pp,name:"new_provider_distribution",meta:{api_name:"api_v1_provider_distributions_create",breadcrumb:[Sp,Np]}}],qp=Ep,zp=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"staffs_layout"}},[e.is_initialized?i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1):i("div",{staticClass:"ui active centered inline large loader"}),i("BackToTopButton",{tag:"div"})],1)},jp=[];function Rp(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function Ip(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){Rp(r,n,a,s,o,"next",e)}function o(e){Rp(r,n,a,s,o,"throw",e)}s(void 0)})}}var Tp={name:"DriverCommissionsLayout",data:function(){return{is_initialized:!1,errors:[]}},computed:{},created:function(){},mounted:function(){var e=this;e.init(),e.$bus.$off("init"),e.$bus.$on("init",function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.init()}.bind(this))},beforeDestroy:function(){this.$bus.$off("init")},watch:{},methods:{init:function(){var e=Ip(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,t.$store.dispatch("provider/driver_commissions_module/fetch_staffs");case 5:return e.next=7,new Promise(function(e){t.is_initialized=!0,t.$noty.information(t.$t("ui.page_titles.driver_commissions")+" "+t.$t("ui.general.initialize_complete"),300),e()});case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{BackToTopButton:Ll}},Op=Tp,Lp=Object(lt["a"])(Op,zp,jp,!1,null,null,null),Dp=Lp.exports,Bp=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"x_scrollable",attrs:{id:"driver_commissions"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),i("table",{staticClass:"ui celled table"},[i("thead",{staticClass:"center aligned"},[i("tr",[i("th",[e._v(e._s(e.$t("ui.pages.driver_commissions.driver")))]),i("th",[e._v(e._s(e.$t("ui.pages.driver_commissions.core_waybill_number")))]),i("th",[e._v(e._s(e.$t("models.attributes.driver_commissions.amount")))]),i("th",[i("div",{staticClass:"ui basic black icon button",on:{click:function(t){return t.preventDefault(),e.toggle_filter(t)}}},[e.is_show_filter?i("i",{staticClass:"double up angle icon"}):i("i",{staticClass:"double down angle icon"})])])]),i("tr",{staticClass:"ui transition hide"},[i("th",[i("div",{staticClass:"th_dropdown"},[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.search_params.staff_identity,expression:"search_params.staff_identity"}],ref:"staff_identity",staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.search_params,"staff_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.$store.state.provider.driver_commissions_module.staffs,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2),e.search_params.staff_identity?i("span",{},[i("i",{staticClass:"pointer remove circle icon large clear_dropdown",on:{click:function(t){e.search_params.staff_identity=null,e.$(e.$refs.staff_identity).dropdown("clear")}}})]):e._e()])]),i("th"),i("th"),i("th",[i("div",{staticClass:"ui buttons"},[i("div",{staticClass:"ui basic black icon button",on:{click:function(t){return t.preventDefault(),e.fetch_driver_commissions(t)}}},[i("i",{staticClass:"search icon"})]),i("div",{staticClass:"ui basic black icon button",on:{click:function(t){return t.preventDefault(),e.init_search_params(t)}}},[i("i",{staticClass:"refresh icon"})])])])])]),e.is_loading?i("tbody",{staticClass:"center aligned"},[e._m(0)]):i("tbody",{staticClass:"center aligned"},[e._l(e.driver_commissions,function(e){return i("DriverCommission",{key:e.identity,attrs:{driver_commission:e}})}),e.driver_commissions.length<=0?i("tr",{staticClass:"center aligned"},[i("td",{attrs:{colspan:"6"}},[i("h5",[e._v(e._s(e.$t("ui.general.no_data")))])])]):e._e()],2)]),i("Paginator",{tag:"div",staticClass:"right floated",attrs:{total_pages:e.total_pages,current_page:e.current_page,change_page_channel:"index_page",disabled:e.is_loading}})],1)},Mp=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"loading"},[i("td",{attrs:{colspan:"6"}},[i("div",{staticClass:"ui active centered inline loader"})])])}],Up=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",[i("td",[e._v(e._s(e.driver_commission.staff.name))]),i("td",[i("router-link",{attrs:{to:{name:"edit_core_waybill",params:{identity:e.driver_commission.core_waybill.identity}}}},[e._v("\n            "+e._s(e.driver_commission.core_waybill.number)+"\n        ")])],1),i("td",[e.driver_commission.driver_commission_report_identity?i("span",[0==e.driver_commission.polarity?i("i",{staticClass:"minus icon"}):e._e(),e._v("\n            "+e._s(e.driver_commission.amount)+"\n        ")]):i("span",[e._v("\n            "+e._s(e.$t("ui.pages.driver_commissions.no_done"))+"\n        ")])]),i("td")])},Fp=[],Gp={name:"ProviderDriverCommissionsIndexItem",props:{driver_commission:Object},data:function(){return{}},computed:{},mounted:function(){},methods:{}},Hp=Gp,Yp=Object(lt["a"])(Hp,Up,Fp,!1,null,"19827bb0",null),Kp=Yp.exports;function Wp(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function Vp(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){Wp(r,n,a,s,o,"next",e)}function o(e){Wp(r,n,a,s,o,"throw",e)}s(void 0)})}}var Xp={name:"DriverCommissionsIndex",data:function(){return{is_initialized:!1,is_loading:!1,driver_commissions:[],roles:[],errors:[]}},computed:{current_store:function(){return this.$store.state.provider.driver_commissions_module},pagination:function(){return this.current_store.pagination},current_page:function(){return this.current_store.pagination.current_page},total_pages:function(){return this.current_store.pagination.total_pages},search_params:function(){return this.current_store.search_params},is_show_filter:function(){return this.current_store.is_show_filter}},created:function(){},mounted:function(){this.init(),this.pagination.current_page=1,this.search_params.page=1},watch:{$route:{handler:function(e,t){var i=e.query.page;i&&(this.pagination.current_page=Number(i),this.search_params.page=Number(i),this.$store.commit("provider/driver_commissions_module/set_current_page",i),this.fetch_driver_commissions())},immediate:!0},is_show_filter:function(e){$("#driver_commissions .ui.transition").transition("fade down")}},methods:{init:function(){var e=Vp(regeneratorRuntime.mark(function e(){var t,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,new Promise(function(e){t.is_initialized=!1,t.search_params.page=1,e()});case 4:return e.next=6,t.fetch_driver_commissions();case 6:return e.next=8,new Promise(function(e){t.is_initialized=!0,e()});case 8:e.next=13;break;case 10:switch(e.prev=10,e.t0=e["catch"](1),e.t0){default:i=t.$t("ui.notifications.error.exception_error_please_contact_the_system_supplier")+": "+e.t0,t.$noty.error(i),console.log(i)}case 13:return e.prev=13,e.finish(13);case 15:case"end":return e.stop()}},e,this,[[1,10,13,15]])}));function t(){return e.apply(this,arguments)}return t}(),fetch_driver_commissions:function(){var e=this;if(0==e.is_loading){e.errors=[],e.is_loading=!0;var t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_driver_commissions).parse({},"?"+object_to_query(e.search_params));return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.driver_commissions=t.data.driver_commissions,e.$store.commit("provider/driver_commissions_module/set_current_page",t.data.pagination.current_page),e.$store.commit("provider/driver_commissions_module/set_total_pages",t.data.pagination.total_pages)):(e.errors=t.data.errors,e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.driver_commissions"),reason:": "+t.data.errors})))})["catch"](function(t){console.log(t),e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.driver_commissions"),reason:": "+errors}))}).then(function(){setTimeout(function(){e.is_loading=!1},300)})}},init_search_params:function(){this.$store.commit("provider/driver_commissions_module/init_search_params"),$("#driver_commissions .ui.dropdown").dropdown("clear")},toggle_filter:function(){this.$store.commit("provider/driver_commissions_module/toggle_filter")}},components:{DriverCommission:Kp,Paginator:cr,ErrorMessages:wc}},Qp=Xp,Zp=(n("2961"),Object(lt["a"])(Qp,Bp,Mp,!1,null,"4b6aa8b7",null)),Jp=Zp.exports,em="driver_commissions",tm=[{path:"/",component:Jp,name:"driver_commissions",meta:{api_name:"api_v1_provider_driver_commissions",breadcrumb:[em]}}],im=tm,nm=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"customers_layout"}},[e.is_initialized?i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1):i("div",{staticClass:"ui active centered inline large loader"}),i("BackToTopButton",{tag:"div"})],1)},am=[];function rm(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function sm(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){rm(r,n,a,s,o,"next",e)}function o(e){rm(r,n,a,s,o,"throw",e)}s(void 0)})}}var om={name:"CustomersLayout",data:function(){return{is_initialized:!1,errors:[]}},computed:{},created:function(){},mounted:function(){var e=this;e.init(),e.$bus.$off("init"),e.$bus.$on("init",function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.init()}.bind(this))},beforeDestroy:function(){this.$bus.$off("init")},watch:{},methods:{init:function(){var e=sm(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,t.$store.dispatch("provider/customers_module/fetch_provider_contracts");case 5:return e.next=7,new Promise(function(e){t.is_initialized=!0,t.$noty.information(t.$t("ui.page_titles.customers")+" "+t.$t("ui.general.initialize_complete"),300),e()});case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{BackToTopButton:Ll}},cm=om,_m=Object(lt["a"])(cm,nm,am,!1,null,null,null),lm=_m.exports,um=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"customers"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),i("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[i("div"),i("div",{staticClass:"ui segment",style:{width:e.filter.is_advanced_mode?"100%":"auto",margin:0}},[i("FilterHeader",{staticClass:"right floated"}),i("div",{staticClass:"clear"}),i("FilterAdvanced",{staticClass:"ui transition hidden filter"})],1)]),i("div",{staticClass:"ui segment"},[i("table",{staticClass:"ui celled table"},[i("thead",{staticClass:"center aligned"},[i("tr",[i("th",[e._v(e._s(e.$t("models.attributes.customers.username")))]),i("th",[e._v(e._s(e.$t("models.attributes.customers.password")))]),i("th",[e._v(e._s(e.$t("models.attributes.customers.company_name")))]),i("th",[e._v(e._s(e.$t("models.attributes.customers.email")))]),i("th",[e._v(e._s(e.$t("models.attributes.customers.phone")))]),i("th",[e._v(e._s(e.$t("models.attributes.customers.authentication_token")))]),i("th",[e._v(e._s(e.$t("ui.pages.customers.contracts")))]),i("th",[e._v(e._s(e.$t("models.attributes.customers.fax")))]),i("th",[e._v(e._s(e.$t("ui.pages.customers.banned")))]),i("th",[e._v(e._s(e.$t("ui.general.operate")))])])]),e.is_loading?i("tbody",{staticClass:"center aligned"},[e._m(0)]):i("tbody",{staticClass:"center aligned"},[e._l(e.customers,function(e){return i("Row",{key:e.identity,attrs:{customer:e}})}),e.customers.length<=0?i("tr",{staticClass:"center aligned"},[i("td",{attrs:{colspan:"8"}},[i("h5",[e._v("\n                            "+e._s(e.$t("ui.general.no_data"))+"\n                        ")])])]):e._e()],2)]),i("Paginator",{staticClass:"right floated",attrs:{total_pages:e.pagination.total_pages,current_page:e.pagination.current_page,disabled:e.is_loading}}),i("div",{staticClass:"clear"})],1)],1)},dm=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"loading"},[i("td",{attrs:{colspan:"8"}},[i("div",{staticClass:"ui active centered inline loader"})])])}],pm=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.customer?i("tr",[i("td",[e._v(e._s(e.customer.username))]),i("td",[e._v(e._s(e.customer.password))]),i("td",[e._v(e._s(e.customer.company_name))]),i("td",[e._v(e._s(e.customer.email))]),i("td",[e._v(e._s(e.customer.phone))]),i("td",[i("pre",{staticClass:"token z-depth-1"},[e._v(e._s(e.customer.authentication_token))])]),i("td",[i("div",{staticClass:"ui items"},e._l(e.customer.contracts,function(t,n){return i("router-link",{key:t.identity,staticClass:"item",attrs:{to:{name:"provider_contract",params:{customer_identity:e.customer.identity,contract_identity:t.identity}}}},[e._v("\n                "+e._s(n+1)+". "+e._s(t.name)+"\n                 \n            ")])}))]),i("td",[e._v(e._s(e.customer.fax))]),i("td",[e.customer.is_banned?e._e():i("span",[i("i",{staticClass:"check icon"}),e._v(" "+e._s(e.$t("ui.pages.customers.normal"))+"\n        ")]),e.customer.is_banned?i("span",[i("i",{staticClass:"remove icon"}),e._v(" "+e._s(e.$t("ui.pages.customers.banned"))+"\n        ")]):e._e()]),i("td",[i("router-link",{staticClass:"ui basic primary button",attrs:{to:{name:"provider_customer",params:{customer_identity:e.customer.identity}}}},[e._v("\n            "+e._s(e.$t("ui.general.show"))+"\n        ")]),i("a",{staticClass:"ui basic orange button",on:{click:function(t){e.proxy_login()}}},[e._v("代理登入")]),i("button",{staticClass:"ui basic button",class:{positive:e.customer.is_banned,negative:!e.customer.is_banned},on:{click:e.toggle_is_banned}},[e.customer.is_banned?i("span",[e._v(e._s(e.$t("ui.pages.customers.unbanned")))]):i("span",[e._v(e._s(e.$t("ui.pages.customers.banned")))])])],1)]):e._e()},mm=[],fm={name:"ProviderCustomersIndexItem",props:{customer:Object},data:function(){return{is_loading:!1}},computed:{login_url:function(){return"electron"==ENV.VUE_APP_BUILD_ENV?new RestUrl(this.$store.state.settings.login_url).parse({node_identity:window.LICENSE_KEY},"?captcha="+this.need_captcha):"development"==ENV.NODE_ENV?new RestUrl(this.$store.state.settings.login_url).parse({node_identity:ENV.VUE_APP_CURRENT_NODE_IDENTITY},"?captcha="+this.need_captcha):new RestUrl(this.$store.state.settings.login_url).parse({node_identity:""},"?captcha=false")}},mounted:function(){},methods:{proxy_login:function(){var e=this,t={username:e.customer.username,password:e.customer.password,role:"customer"};axios.post(e.login_url,t,{headers:{Hostname:window.location.hostname}}).then(function(t){"success"==t.data.status&&(localStorage.setItem("customer_authentication_token",t.data.token),localStorage.setItem("customer_expired_at",e.$moment.utc(e.$moment().add(e.$store.state.global_setting.login_expiration_period,"second")).format()),window.open("/customer","new"))})["catch"](function(e){console.log(e)})},delete_customer:function(){var e=this;if(confirm(this.$t("ui.notifications.warning.are_you_sure_to_delete_it"))){e.is_loading=!0;var t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_customer_delete).parse({customer_identity:e.customer.identity});axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$parent.fetch_customers(),e.$noty.success(e.$t("ui.notifications.success.delete__name",{name:e.$t("models.customers")}))):e.$noty.error(e.$t("ui.notifications.error.delete__name",{name:e.$t("models.contracts")}))})["catch"](function(t){console.log(t.response),e.$noty.error(e.$t("ui.notifications.error.delete__name",{name:e.$t("models.customers"),reason:": "+t.response}))})["finally"](function(){e.is_loading=!1})}},delete_contract:function(e){var t=this;if(confirm(this.$t("ui.notifications.warning.are_you_sure_to_delete_it"))){t.is_loading=!0;var i=new RestUrl(t.$store.state.provider.routes.api_v1_provider_contract_delete).parse({contract_identity:e});axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){"success"==e.data.status?(t.$parent.fetch_customers(),t.$bus.$emit("out_of_date",t.$store.state.instance_identity,"customers"),t.$noty.success(t.$t("ui.notifications.success.delete__name",{name:t.$t("models.contracts")}))):t.$noty.error(t.$t("ui.notifications.error.delete__name",{name:t.$t("models.contracts")}))})["catch"](function(e){console.log(e.response),t.$noty.error(t.$t("ui.notifications.error.delete__name",{name:t.$t("models.customers"),reason:": "+e.response}))})["finally"](function(){t.is_loading=!1})}},toggle_is_banned:function(){var e=this;e.is_loading=!0;var t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_customer_update).parse({customer_identity:e.customer.identity});axios.post(t,{is_banned:!e.customer.is_banned},{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.customer.is_banned=t.data.customer.is_banned,e.$bus.$emit("out_of_date",e.$store.state.instance_identity,"customers"),e.$noty.success(e.$t("ui.notifications.success.update__name",{name:e.$t("models.customers")}))):e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.customers")}))})["catch"](function(e){console.log(e.response)})["finally"](function(){e.is_loading=!1})}}},vm=fm,hm=(n("7cfa"),Object(lt["a"])(vm,pm,mm,!1,null,"3c9f8ffa",null)),gm=hm.exports,bm=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"filter_advanced"}},[i("div",{staticClass:"ui form",on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$parent.fetch_customers(1)}}},[i("div",{staticClass:"three fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.username")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.username,expression:"filter.columns.username"}],attrs:{type:"text"},domProps:{value:e.filter.columns.username},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"username",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.company_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.company_name,expression:"filter.columns.company_name"}],attrs:{type:"text"},domProps:{value:e.filter.columns.company_name},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"company_name",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.email")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.email,expression:"filter.columns.email"}],attrs:{type:"text"},domProps:{value:e.filter.columns.email},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"email",t.target.value)}}})])]),i("div",{staticClass:"four fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.phone")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.phone,expression:"filter.columns.phone"}],attrs:{type:"text"},domProps:{value:e.filter.columns.phone},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"phone",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.fax")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.fax,expression:"filter.columns.fax"}],attrs:{type:"text"},domProps:{value:e.filter.columns.fax},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"fax",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.is_banned")))]),i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.is_banned,expression:"filter.columns.is_banned"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.filter.columns.is_banned)?e._i(e.filter.columns.is_banned,null)>-1:e.filter.columns.is_banned},on:{change:function(t){var i=e.filter.columns.is_banned,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&e.$set(e.filter.columns,"is_banned",i.concat([r])):s>-1&&e.$set(e.filter.columns,"is_banned",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.filter.columns,"is_banned",a)}}}),i("label",[e._v(e._s(e.$t("ui.general.yes")))])])])])]),i("div",{staticClass:"ui icon blue button right floated",on:{click:function(t){e.$parent.fetch_customers(1)}}},[i("i",{staticClass:"search icon"}),e._v("\n        "+e._s(e.$t("ui.general.search"))+"\n    ")]),i("div",{staticClass:"clear"})])},ym=[],wm={name:"CustomersFilterAdvanced",data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.provider.customers_module},is_show_filter:function(){return this.current_store.is_show_filter},filter:function(){return this.current_store.filter}},created:function(){},mounted:function(){},watch:{},methods:{},components:{}},$m=wm,km=Object(lt["a"])($m,bm,ym,!1,null,"75cb38c9",null),Cm=km.exports,xm=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"filter_general"}},[e.filter.is_advanced_mode?e._e():i("div",{staticClass:"ui action input"},["is_banned"!=e.filter.current_shortcut_key?i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns[e.filter.current_shortcut_key],expression:"filter.columns[filter.current_shortcut_key]"}],attrs:{placeholder:e.$t("ui.general.search__key",{key:e.$t("models.attributes.customers."+e.filter.current_shortcut_key)}),type:"text"},domProps:{value:e.filter.columns[e.filter.current_shortcut_key]},on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$parent.fetch_customers(1)},input:function(t){t.target.composing||e.$set(e.filter.columns,e.filter.current_shortcut_key,t.target.value)}}}):e._e(),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection dropdown no_search right_radius",staticStyle:{"min-width":"120px"}},[e._l(e.filter.shortcut_keys,function(t){return e.filter.current_shortcut_key==t?i("div",{staticClass:"text"},["is_banned"==e.filter.current_shortcut_key?i("span",[e._v("\n                    "+e._s(e.$t("ui.pages.customers.is_banned"))+"\n                ")]):i("span",[e._v("\n                    "+e._s(e.$t("models.attributes.customers."+t))+"\n                ")])]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.filter.shortcut_keys,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.current_shortcut_key==t},on:{click:function(i){e.set_quick_filter(t)}}},[i("span","is_banned"==t?[e._v("\n                        "+e._s(e.$t("ui.pages.customers.is_banned"))+"\n                    ")]:[e._v("\n                        "+e._s(e.$t("models.attributes.customers."+t))+"\n                    ")])])}))],2),i("div",{staticClass:"ui button icon",on:{click:function(t){e.$parent.fetch_customers(1)}}},[i("i",{staticClass:"search icon"})])]),e.filter.is_advanced_mode?i("div",{staticClass:"ui basic red icon button",on:{click:function(t){e.$store.commit("provider/customers_module/init_filter_columns")}}},[i("i",{staticClass:"close icon"}),e._v("\n        "+e._s(e.$t("ui.general.clear"))+"\n    ")]):e._e(),i("div",{staticClass:"ui button icon",style:{height:e.filter.is_advanced_mode?"auto":"38px",paddingTop:e.filter.is_advanced_mode?"":"13px",verticalAlign:e.filter.is_advanced_mode?"":"top"},on:{click:function(t){e.filter.is_advanced_mode=!e.filter.is_advanced_mode}}},[i("i",{staticClass:"bars icon",class:{minus:e.filter.is_advanced_mode,bars:!e.filter.is_advanced_mode}})])])},Pm=[],Sm={name:"CustomersFilterHeader",data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.provider.customers_module},filter:function(){return this.current_store.filter}},created:function(){},mounted:function(){},watch:{},methods:{set_quick_filter:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var i=this;i.filter.current_shortcut_key=t,_.forEach(i.filter.shortcut_keys,function(e){i.filter.columns[e]=null}),"is_banned"==t&&(i.filter.columns.is_banned=!0)}catch(e){console.log(e)}}},components:{}},Nm=Sm,Am=(n("6fea"),Object(lt["a"])(Nm,xm,Pm,!1,null,"b588cd5e",null)),Em=Am.exports;function qm(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function zm(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){qm(r,n,a,s,o,"next",e)}function o(e){qm(r,n,a,s,o,"throw",e)}s(void 0)})}}var jm={name:"CustomersIndex",data:function(){return{is_initialized:!1,is_loading:!1,is_filter_changed:!1,customers:[],errors:[]}},computed:{current_store:function(){return this.$store.state.provider.customers_module},pagination:function(){return this.current_store.pagination},filter:function(){return this.current_store.filter}},created:function(){},mounted:function(){this.init(),this.pagination.current_page=1},watch:{$route:{handler:function(e,t){var i=e.query.page;i&&(this.pagination.current_page=Number(i),this.$store.commit("provider/customers_module/set_current_page",i),this.fetch_customers())},immediate:!0},filter:{handler:function(e,t){this.is_filter_changed=!0},deep:!0},"filter.is_advanced_mode":function(e){$("#customers .ui.transition.filter").transition(e?"fade down":"hide"),e||this.$store.commit("provider/customers_module/init_filter_columns")}},methods:{init:function(){var e=zm(regeneratorRuntime.mark(function e(){var t,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,new Promise(function(e){t.is_initialized=!1,e()});case 4:return e.next=6,t.fetch_customers();case 6:return e.next=8,new Promise(function(e){i.filter.is_advanced_mode&&$("#customers .ui.transition.filter").transition("fade down"),t.is_initialized=!0,e()});case 8:e.next=13;break;case 10:switch(e.prev=10,e.t0=e["catch"](1),e.t0){default:console.log("init error: "),console.log(e.t0)}case 13:return e.prev=13,e.finish(13);case 15:case"end":return e.stop()}},e,this,[[1,10,13,15]])}));function t(){return e.apply(this,arguments)}return t}(),fetch_customers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this;if(1==e&&(t.pagination.current_page=1,t.$route.query.page=1),0==t.is_loading){t.errors=[],t.is_loading=!0,t.is_filter_changed&&(t.$store.commit("provider/customers_module/set_current_page",null),t.is_filter_changed=!1);var i=new RestUrl(t.$store.state.provider.routes.api_v1_provider_customers).parse({},"?"+object_to_query(t.filter.columns)+"&"+object_to_query({page:t.pagination.current_page}));return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){if("success"!=e.data.status)return Promise.reject(e.data);t.customers=e.data.customers,t.$store.commit("provider/customers_module/set_current_page",e.data.pagination.current_page),t.$store.commit("provider/customers_module/set_total_pages",e.data.pagination.total_pages)})["catch"](function(e){if(e.response){switch(e.response.status){default:t.errors.push(e.response.status+" "+e.response.statusText)}t.$noty.error(t.$t("ui.notifications.error.fetch__name",{name:t.$t("models.customers"),reason:": "+e.response.status+" "+e.response.statusText}))}else e.errors?(t.$noty.error(t.$t("ui.notifications.error.fetch__name",{name:t.$t("models.customers"),reason:": "+e.errors})),t.errors=response.data.errors):(t.errors.push(t.$t("ui.general.server_offline")),t.$noty.error(t.$t("ui.general.server_offline")));return Promise.reject(e)})["finally"](function(){setTimeout(function(){t.is_loading=!1},300)})}},init_filter_columns:function(){this.$store.commit("provider/customers_module/init_filter_columns")}},components:{Row:gm,Paginator:cr,ErrorMessages:wc,FilterAdvanced:Cm,FilterHeader:Em}},Rm=jm,Im=(n("a1f8"),Object(lt["a"])(Rm,um,dm,!1,null,"0af5902f",null)),Tm=Im.exports,Om=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"new_customer"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),i("div",{staticClass:"contents"},[e.is_loading?i("div",{staticClass:"ui active centered inline loader"}):i("div",{staticClass:"ui form"},[i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"user icon"}),e._v("\n                "+e._s(e.$t("ui.pages.customers.basic_information"))+"\n            ")])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide required field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.username")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.username,expression:"customer.username"}],attrs:{type:"text",name:"username"},domProps:{value:e.customer.username},on:{input:function(t){t.target.composing||e.$set(e.customer,"username",t.target.value)}}})]),i("div",{staticClass:"eight wide required field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.company_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.company_name,expression:"customer.company_name"}],attrs:{type:"text",name:"company_name"},domProps:{value:e.customer.company_name},on:{input:function(t){t.target.composing||e.$set(e.customer,"company_name",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field computer column"},[i("label",{attrs:{"data-tooltip":e.old_password}},[e._v(e._s(e.$t("models.attributes.customers.password")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.password,expression:"customer.password"}],attrs:{type:"password",name:"password"},domProps:{value:e.customer.password},on:{input:function(t){t.target.composing||e.$set(e.customer,"password",t.target.value)}}})]),i("div",{staticClass:"eight wide field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.password_confirmation")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.password_confirmation,expression:"customer.password_confirmation"}],attrs:{type:"password",autocomplete:"off",name:"password_confirmation"},domProps:{value:e.customer.password_confirmation},on:{input:function(t){t.target.composing||e.$set(e.customer,"password_confirmation",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.company_short_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.company_short_name,expression:"customer.company_short_name"}],attrs:{type:"text",name:"company_short_name"},domProps:{value:e.customer.company_short_name},on:{input:function(t){t.target.composing||e.$set(e.customer,"company_short_name",t.target.value)}}})]),i("div",{staticClass:"eight wide field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.company_en_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.company_en_name,expression:"customer.company_en_name"}],attrs:{type:"text",name:"company_en_name"},domProps:{value:e.customer.company_en_name},on:{input:function(t){t.target.composing||e.$set(e.customer,"company_en_name",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"six wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.email")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.email,expression:"customer.email"}],attrs:{type:"text",name:"email"},domProps:{value:e.customer.email},on:{input:function(t){t.target.composing||e.$set(e.customer,"email",t.target.value)}}})]),i("div",{staticClass:"five wide field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.phone")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.phone,expression:"customer.phone"}],attrs:{type:"text",name:"phone"},domProps:{value:e.customer.phone},on:{input:function(t){t.target.composing||e.$set(e.customer,"phone",t.target.value)}}})]),i("div",{staticClass:"five wide field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.email")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.fax,expression:"customer.fax"}],attrs:{type:"text",name:"fax"},domProps:{value:e.customer.fax},on:{input:function(t){t.target.composing||e.$set(e.customer,"fax",t.target.value)}}})])]),i("br"),i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"user icon"}),e._v("\n                "+e._s(e.$t("ui.pages.customers.common_sender_information"))+"\n            ")])]),i("br"),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_company_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_company_name,expression:"customer.default_sender_company_name"}],attrs:{type:"text",name:"default_sender_name"},domProps:{value:e.customer.default_sender_company_name},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_company_name",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_name,expression:"customer.default_sender_name"}],attrs:{type:"text",name:"default_sender_name"},domProps:{value:e.customer.default_sender_name},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_name",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_address")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_address,expression:"customer.default_sender_address"}],attrs:{type:"text",name:"default_sender_address"},domProps:{value:e.customer.default_sender_address},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_address",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_phone")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_phone,expression:"customer.default_sender_phone"}],attrs:{type:"text",name:"default_sender_phone"},domProps:{value:e.customer.default_sender_phone},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_phone",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"six wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_email")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_email,expression:"customer.default_sender_email"}],attrs:{type:"text",name:"default_sender_email"},domProps:{value:e.customer.default_sender_email},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_email",t.target.value)}}})]),i("div",{staticClass:"five wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_fax")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_fax,expression:"customer.default_sender_fax"}],attrs:{type:"text",name:"default_sender_fax"},domProps:{value:e.customer.default_sender_fax},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_fax",t.target.value)}}})]),i("div",{staticClass:"five wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_url")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_url,expression:"customer.default_sender_url"}],attrs:{type:"text",name:"default_sender_url"},domProps:{value:e.customer.default_sender_url},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_url",t.target.value)}}})])]),i("br"),i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"user icon"}),e._v("\n                "+e._s(e.$t("ui.pages.customers.common_consignee_information"))+"\n            ")])]),i("br"),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_consignee_company_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_consignee_company_name,expression:"customer.default_consignee_company_name"}],attrs:{type:"text",name:"default_sender_name"},domProps:{value:e.customer.default_consignee_company_name},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_consignee_company_name",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_consignee_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_consignee_name,expression:"customer.default_consignee_name"}],attrs:{type:"text",name:"default_consignee_name"},domProps:{value:e.customer.default_consignee_name},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_consignee_name",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_consignee_address")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_consignee_address,expression:"customer.default_consignee_address"}],attrs:{type:"text",name:"default_consignee_address"},domProps:{value:e.customer.default_consignee_address},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_consignee_address",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_consignee_phone")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_consignee_phone,expression:"customer.default_consignee_phone"}],attrs:{type:"text",name:"default_consignee_phone"},domProps:{value:e.customer.default_consignee_phone},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_consignee_phone",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_consignee_email")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_consignee_email,expression:"customer.default_consignee_email"}],attrs:{type:"text",name:"default_consignee_email"},domProps:{value:e.customer.default_consignee_email},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_consignee_email",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_consignee_fax")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_consignee_fax,expression:"customer.default_consignee_fax"}],attrs:{type:"text",name:"default_consignee_fax"},domProps:{value:e.customer.default_consignee_fax},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_consignee_fax",t.target.value)}}})])]),i("div",{staticClass:"eight wide field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.can_use_associated_partitions,expression:"customer.can_use_associated_partitions"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(e.customer.can_use_associated_partitions)?e._i(e.customer.can_use_associated_partitions,null)>-1:e.customer.can_use_associated_partitions},on:{change:function(t){var i=e.customer.can_use_associated_partitions,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&e.$set(e.customer,"can_use_associated_partitions",i.concat([r])):s>-1&&e.$set(e.customer,"can_use_associated_partitions",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.customer,"can_use_associated_partitions",a)}}}),i("label",[e._v("\n                        "+e._s(e.$t("ui.pages.customers.is_open_use_associated_partition"))+"\n                    ")])])]),i("div",{staticClass:"eight wide field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.can_use_provider_partitions,expression:"customer.can_use_provider_partitions"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(e.customer.can_use_provider_partitions)?e._i(e.customer.can_use_provider_partitions,null)>-1:e.customer.can_use_provider_partitions},on:{change:function(t){var i=e.customer.can_use_provider_partitions,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&e.$set(e.customer,"can_use_provider_partitions",i.concat([r])):s>-1&&e.$set(e.customer,"can_use_provider_partitions",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.customer,"can_use_provider_partitions",a)}}}),i("label",[e._v("\n                        "+e._s(e.$t("ui.pages.customers.is_open_use_use_yourself_partition"))+"\n                    ")])])]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui basic positive button",on:{click:e.create_customer}},[e._v("\n                "+e._s(e.$t("ui.general.submit"))+"\n            ")]),i("router-link",{staticClass:"ui basic button",attrs:{to:{name:"provider_customers"}}},[i("i",{staticClass:"undo icon"}),e._v("\n                "+e._s(e.$t("ui.general.back"))+"\n            ")])],1)])],1)},Lm=[],Dm={name:"NewCustomer",data:function(){return{is_loading:!1,old_password:"",customer:{username:null,password:null,password_confirmation:null,company_name:null,company_short_name:null,company_en_name:null,email:null,phone:null,fax:null},errors:[]}},mounted:function(){var e=this;e.form_validation()},computed:{},methods:{create_customer:function(){var e=this,t=_.clone(e.customer);if(e.errors=[],t.username&&t.password&&t.password_confirmation&&t.company_name)if(t.password!=t.password_confirmation){var i=e.$t("ui.pages.customers.helps.the_password_does_not_match_the_confirmation_password");e.errors.push(i),e.$noty.error(i)}else{var n=e.$store.state.provider.routes.api_v1_provider_customers_create;e.is_loading=!0,axios.post(n,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$bus.$emit("out_of_date",e.$store.state.instance_identity,"customers"),e.$noty.success(e.$t("ui.notifications.success.create__name",{name:e.$t("models.customers")})),e.$router.push({name:"provider_customer",params:{customer_identity:t.data.customer.identity}})):(console.log(t.data),e.errors=t.data.errors,e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.customers"),reason:": "+t.data.errors})))})["catch"](function(e){console.log(e.response)}).then(function(){e.is_loading=!1})}else e.errors.push(e.$t("ui.notifications.error.please_check_to_write_in_the_required_fields_mark"))},form_validation:function(){$(".ui.form").form({on:"blur",fields:{username:"empty",password:"empty",password_confirmation:"empty",company_name:"empty"}})}},components:{ErrorMessages:wc}},Bm=Dm,Mm=Object(lt["a"])(Bm,Om,Lm,!1,null,"133312e7",null),Um=Mm.exports,Fm=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.is_initialized?i("div",{attrs:{id:"customer"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),i("div",{staticClass:"ui segments"},[i("div",{staticClass:"ui segment pointer",on:{click:function(t){e.div_toggle("basic_information")}}},[i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"user icon"}),e._v("\n                    "+e._s(e.$t("ui.pages.customers.basic_information"))+"\n                    "),i("i",{staticClass:"icon caret",class:[e.toggles.basic_information?"up":"down"]})])])]),e.toggles.basic_information?i("div",{staticClass:"ui segment"},[e.is_loading?i("div",{staticClass:"ui active centered inline loader"}):e.customer.identity?i("div",{staticClass:"ui form"},[i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide required field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.username")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.username,expression:"customer.username"}],attrs:{type:"text",name:"username"},domProps:{value:e.customer.username},on:{input:function(t){t.target.composing||e.$set(e.customer,"username",t.target.value)}}})]),i("div",{staticClass:"eight wide required field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.company_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.company_name,expression:"customer.company_name"}],attrs:{type:"text",name:"company_name"},domProps:{value:e.customer.company_name},on:{input:function(t){t.target.composing||e.$set(e.customer,"company_name",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field computer column"},[i("label",{attrs:{"data-tooltip":e.old_password}},[e._v(e._s(e.$t("models.attributes.customers.password")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.password,expression:"customer.password"}],attrs:{type:"password",name:"password"},domProps:{value:e.customer.password},on:{input:function(t){t.target.composing||e.$set(e.customer,"password",t.target.value)}}})]),i("div",{staticClass:"eight wide field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.password_confirmation")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.password_confirmation,expression:"customer.password_confirmation"}],attrs:{type:"password",autocomplete:"off",name:"password_confirmation"},domProps:{value:e.customer.password_confirmation},on:{input:function(t){t.target.composing||e.$set(e.customer,"password_confirmation",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.company_short_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.company_short_name,expression:"customer.company_short_name"}],attrs:{type:"text",name:"company_short_name"},domProps:{value:e.customer.company_short_name},on:{input:function(t){t.target.composing||e.$set(e.customer,"company_short_name",t.target.value)}}})]),i("div",{staticClass:"eight wide field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.company_en_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.company_en_name,expression:"customer.company_en_name"}],attrs:{type:"text",name:"company_en_name"},domProps:{value:e.customer.company_en_name},on:{input:function(t){t.target.composing||e.$set(e.customer,"company_en_name",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"six wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.email")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.email,expression:"customer.email"}],attrs:{type:"text",name:"email"},domProps:{value:e.customer.email},on:{input:function(t){t.target.composing||e.$set(e.customer,"email",t.target.value)}}})]),i("div",{staticClass:"five wide field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.phone")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.phone,expression:"customer.phone"}],attrs:{type:"text",name:"phone"},domProps:{value:e.customer.phone},on:{input:function(t){t.target.composing||e.$set(e.customer,"phone",t.target.value)}}})]),i("div",{staticClass:"five wide field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.fax")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.fax,expression:"customer.fax"}],attrs:{type:"text",name:"fax"},domProps:{value:e.customer.fax},on:{input:function(t){t.target.composing||e.$set(e.customer,"fax",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.can_use_associated_partitions,expression:"customer.can_use_associated_partitions"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(e.customer.can_use_associated_partitions)?e._i(e.customer.can_use_associated_partitions,null)>-1:e.customer.can_use_associated_partitions},on:{change:function(t){var i=e.customer.can_use_associated_partitions,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&e.$set(e.customer,"can_use_associated_partitions",i.concat([r])):s>-1&&e.$set(e.customer,"can_use_associated_partitions",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.customer,"can_use_associated_partitions",a)}}}),i("label",[e._v("\n                                "+e._s(e.$t("ui.pages.customers.is_open_use_associated_partition"))+"\n                            ")])])]),i("div",{staticClass:"eight wide field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.can_use_provider_partitions,expression:"customer.can_use_provider_partitions"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(e.customer.can_use_provider_partitions)?e._i(e.customer.can_use_provider_partitions,null)>-1:e.customer.can_use_provider_partitions},on:{change:function(t){var i=e.customer.can_use_provider_partitions,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&e.$set(e.customer,"can_use_provider_partitions",i.concat([r])):s>-1&&e.$set(e.customer,"can_use_provider_partitions",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.customer,"can_use_provider_partitions",a)}}}),i("label",[e._v("\n                                "+e._s(e.$t("ui.pages.customers.is_open_use_use_yourself_partition"))+"\n                            ")])])])]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"right floated"},[i("div",{staticClass:"ui positive button",on:{click:e.update_customer}},[e._v("\n                        "+e._s(e.$t("ui.general.update"))+"\n                    ")])]),i("div",{staticClass:"clear"})]):e._e()]):i("div",{staticClass:"ui basic segment pointer",on:{click:function(t){e.div_toggle("basic_information")}}},[i("h4",[e._v("編輯、檢視客戶的帳號名稱、聯絡方式與使用權")])])]),i("div",{staticClass:"ui segments"},[i("div",{staticClass:"ui segment pointer",on:{click:function(t){e.div_toggle("common_sender_information")}}},[i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"user icon"}),e._v("\n                    "+e._s(e.$t("ui.pages.customers.common_sender_information"))+"\n                    "),i("i",{staticClass:"icon caret",class:[e.toggles.common_sender_information?"up":"down"]})])])]),e.toggles.common_sender_information?i("div",{staticClass:"ui segment"},[e.is_loading?i("div",{staticClass:"ui active centered inline loader"}):e.customer.identity?i("div",{staticClass:"ui form"},[i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_company_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_company_name,expression:"customer.default_sender_company_name"}],attrs:{type:"text",name:"default_sender_name"},domProps:{value:e.customer.default_sender_company_name},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_company_name",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_name,expression:"customer.default_sender_name"}],attrs:{type:"text",name:"default_sender_name"},domProps:{value:e.customer.default_sender_name},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_name",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"three wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_zip_code")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_zip_code,expression:"customer.default_sender_zip_code"}],attrs:{type:"text",name:"default_sender_zip_code"},domProps:{value:e.customer.default_sender_zip_code},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_zip_code",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_address")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_address,expression:"customer.default_sender_address"}],attrs:{type:"text",name:"default_sender_address"},domProps:{value:e.customer.default_sender_address},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_address",t.target.value)}}})]),i("div",{staticClass:"five wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_phone")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_phone,expression:"customer.default_sender_phone"}],attrs:{type:"text",name:"default_sender_phone"},domProps:{value:e.customer.default_sender_phone},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_phone",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"six wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_email")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_email,expression:"customer.default_sender_email"}],attrs:{type:"text",name:"default_sender_email"},domProps:{value:e.customer.default_sender_email},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_email",t.target.value)}}})]),i("div",{staticClass:"five wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_fax")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_fax,expression:"customer.default_sender_fax"}],attrs:{type:"text",name:"default_sender_fax"},domProps:{value:e.customer.default_sender_fax},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_fax",t.target.value)}}})]),i("div",{staticClass:"five wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_url")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_url,expression:"customer.default_sender_url"}],attrs:{type:"text",name:"default_sender_url"},domProps:{value:e.customer.default_sender_url},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_url",t.target.value)}}})])]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"right floated"},[i("div",{staticClass:"ui positive button",on:{click:e.update_customer}},[e._v("\n                    "+e._s(e.$t("ui.general.update"))+"\n                ")])]),i("div",{staticClass:"clear"})]):e._e()]):i("div",{staticClass:"ui basic segment pointer",on:{click:function(t){e.div_toggle("common_sender_information")}}},[i("h4",[e._v("編輯、檢視常用寄件人資訊")])])]),i("div",{staticClass:"ui segments"},[i("div",{staticClass:"ui segment pointer",on:{click:function(t){e.div_toggle("common_consignee_information")}}},[i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"user icon"}),e._v("\n                    "+e._s(e.$t("ui.pages.customers.common_consignee_information"))+"\n                    "),i("i",{staticClass:"icon caret",class:[e.toggles.common_consignee_information?"up":"down"]})])])]),e.toggles.common_consignee_information?i("div",{staticClass:"ui segment"},[e.is_loading?i("div",{staticClass:"ui active centered inline loader"}):e.customer.identity?i("div",{staticClass:"ui form"},[i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_consignee_company_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_consignee_company_name,expression:"customer.default_consignee_company_name"}],attrs:{type:"text",name:"default_sender_name"},domProps:{value:e.customer.default_consignee_company_name},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_consignee_company_name",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_consignee_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_consignee_name,expression:"customer.default_consignee_name"}],attrs:{type:"text",name:"default_consignee_name"},domProps:{value:e.customer.default_consignee_name},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_consignee_name",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"three wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_consignee_zip_code")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_consignee_zip_code,expression:"customer.default_consignee_zip_code"}],attrs:{type:"text",name:"default_consignee_zip_code"},domProps:{value:e.customer.default_consignee_zip_code},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_consignee_zip_code",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_consignee_address")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_consignee_address,expression:"customer.default_consignee_address"}],attrs:{type:"text",name:"default_consignee_address"},domProps:{value:e.customer.default_consignee_address},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_consignee_address",t.target.value)}}})]),i("div",{staticClass:"five wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_consignee_phone")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_consignee_phone,expression:"customer.default_consignee_phone"}],attrs:{type:"text",name:"default_consignee_phone"},domProps:{value:e.customer.default_consignee_phone},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_consignee_phone",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_consignee_email")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_consignee_email,expression:"customer.default_consignee_email"}],attrs:{type:"text",name:"default_consignee_email"},domProps:{value:e.customer.default_consignee_email},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_consignee_email",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_consignee_fax")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_consignee_fax,expression:"customer.default_consignee_fax"}],attrs:{type:"text",name:"default_consignee_fax"},domProps:{value:e.customer.default_consignee_fax},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_consignee_fax",t.target.value)}}})])]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"right floated"},[i("div",{staticClass:"ui positive button",on:{click:e.update_customer}},[e._v("\n                    "+e._s(e.$t("ui.general.update"))+"\n                ")])]),i("div",{staticClass:"clear"})]):e._e()]):i("div",{staticClass:"ui basic segment pointer",on:{click:function(t){e.div_toggle("common_consignee_information")}}},[i("h4",[e._v("編輯、檢視常用收件人資訊")])])]),i("div",{staticClass:"ui segments"},[i("div",{staticClass:"ui segment pointer",on:{click:function(t){e.div_toggle("contracts")}}},[i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"clipboard icon"}),e._v("\n                    "+e._s(e.$t("ui.pages.customers.contracts"))+"\n                    "),i("i",{staticClass:"icon caret",class:[e.toggles.contracts?"up":"down"]}),e.toggles.contracts?i("router-link",{attrs:{to:{name:"new_provider_contract",params:{customer_identity:e.customer.identity}}}},[i("i",{staticClass:"add icon"})]):e._e()],1)])]),e.toggles.contracts?e._e():i("div",{staticClass:"ui basic segment pointer",on:{click:function(t){e.div_toggle("contracts")}}},[i("h4",[e._v("該客戶所擁有的合約")])]),e.toggles.contracts?i("div",{staticClass:"ui basic segment pointer"},[e.is_loading?i("div",{staticClass:"ui active centered inline loader"}):e._e(),i("table",{staticClass:"ui table"},[e._m(0),i("tbody",[e._l(e.customer.contracts,function(t){return i("tr",{key:t.identity,attrs:{contract:t}},[i("td",[e._v("\n                            "+e._s(t.name)+"\n                        ")]),i("td",[e._v(e._s(e.human_datetime(t.created_at)))]),i("td",[i("router-link",{key:t.identity,staticClass:"ui basic primary button",attrs:{to:{name:"provider_contract",params:{customer_identity:e.customer.identity,contract_identity:t.identity}}}},[e._v("\n                                "+e._s(e.$t("ui.general.show"))+"\n                            ")]),e.customer.contracts.length>1?i("a",{staticClass:"ui basic red button",attrs:{href:"#"},on:{click:function(i){i.preventDefault(),e.delete_contract(t.identity,t.name)}}},[e._v("\n                                "+e._s(e.$t("ui.general.delete"))+"\n                            ")]):e._e()],1)])}),e.customer.contracts.length?e._e():i("tr",{staticClass:"center aligned"},[i("td",{attrs:{colspan:"2"}},[i("h5",[e._v("\n                                "+e._s(e.$t("ui.general.no_data"))+"\n                            ")])])])],2)])]):e._e()])],1):e._e()},Gm=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("thead",[i("tr",[i("th",[e._v("名稱")]),i("th",[e._v("建立於")]),i("th",[e._v("動作")])])])}];function Hm(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function Ym(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){Hm(r,n,a,s,o,"next",e)}function o(e){Hm(r,n,a,s,o,"throw",e)}s(void 0)})}}var Km={name:"Customer",data:function(){return{is_initialized:!1,is_loading:!1,errors:[],customer:{},old_password:"",toggles:{basic_information:!0,common_sender_information:!1,common_consignee_information:!1,contracts:!1}}},computed:{},mounted:function(){var e=this;e.init()},created:function(){},methods:{div_toggle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this;_.forEach(t.toggles,function(i,n){n!=e&&(t.toggles[n]=!1)}),e&&(t.toggles[e]=!t.toggles[e])},init:function(){var e=Ym(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,new Promise(function(e){t.is_initialized=!1,e()});case 4:return e.next=6,t.fetch_customer();case 6:return e.next=8,new Promise(function(e){t.is_initialized=!0,e()});case 8:e.next=13;break;case 10:switch(e.prev=10,e.t0=e["catch"](1),e.t0){default:console.log("init error: "),console.log(e.t0)}case 13:return e.prev=13,e.next=16,t.form_validation();case 16:return e.finish(13);case 17:case"end":return e.stop()}},e,this,[[1,10,13,17]])}));function t(){return e.apply(this,arguments)}return t}(),fetch_customer:function(){var e=this,t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_customer).parse({customer_identity:e.$route.params.customer_identity});return e.is_loading=!0,axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return Promise.reject(t.data);e.old_password=t.data.customer.password,t.data.customer.password=null,e.customer=t.data.customer})["catch"](function(t){if(t.response){switch(t.response.status){default:e.errors.push(t.response.status+" "+t.response.statusText)}e.$noty.error(e.$t("ui.notifications.error.find__name",{name:e.$t("models.customers"),reason:": "+t.response.status+" "+t.response.statusText}))}else t.errors?e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.customers"),reason:": "+t.errors})):(e.errors.push(e.$t("ui.general.server_offline")),e.$noty.error(e.$t("ui.general.server_offline")));return Promise.reject(t)})["finally"](function(){e.is_loading=!1})},form_validation:function(){$(".ui.form").form({on:"blur",fields:{username:"empty",company_name:"empty"}})},update_customer:function(){var e=this,t=e.customer;if(e.errors=[],""!=t.password&&t.password!=t.password_confirmation){var i=e.$t("ui.pages.customers.helps.the_password_does_not_match_the_confirmation_password");e.errors.push(i),e.$noty.error(i)}else if(e.customer.username&&e.customer.company_name){delete t.password_confirmation;var n=new RestUrl(e.$store.state.provider.routes.api_v1_provider_customer_update).parse({customer_identity:e.$route.params.customer_identity});e.is_loading=!0,axios.post(n,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.customer=t.data.customer,e.customer.password=null,e.customer.password_confirmation=null,e.$bus.$emit("out_of_date",e.$store.state.instance_identity,"customers"),e.$noty.success(e.$t("ui.notifications.success.update__name",{name:e.$t("models.customers")})),e.$router.push({name:"provider_customers"})):e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.customers")}))})["catch"](function(t){if(t.response){switch(t.response.status){default:e.errors.push(t.response.status+" "+t.response.statusText)}e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.customers"),reason:": "+t.response.status+" "+t.response.statusText}))}else e.errors.push(e.$t("ui.general.server_offline")),e.$noty.error(e.$t("ui.general.server_offline"));return Promise.reject(t)})["finally"](function(){e.is_loading=!1})}else e.errors.push(e.$t("ui.notifications.error.please_check_to_write_in_the_required_fields_mark"))},delete_contract:function(e,t){var i=this,n=this.$t("ui.notifications.warning.are_you_sure_to_delete_it")+"\n\n"+i.customer.company_name+"["+t+"]";if(confirm(n)){i.is_loading=!0;var a=new RestUrl(i.$store.state.provider.routes.api_v1_provider_contract_delete).parse({contract_identity:e});axios.get(a,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){"success"==e.data.status?(i.$parent.fetch_customers(),i.$bus.$emit("out_of_date",i.$store.state.instance_identity,"customers"),i.$noty.success(i.$t("ui.notifications.success.delete__name",{name:i.$t("models.contracts")}))):i.$noty.error(i.$t("ui.notifications.error.delete__name",{name:i.$t("models.contracts")}))})["catch"](function(e){console.log(e.response),i.$noty.error(i.$t("ui.notifications.error.delete__name",{name:i.$t("models.customers"),reason:": "+e.response}))})["finally"](function(){i.is_loading=!1})}}},components:{ErrorMessages:wc}},Wm=Km,Vm=Object(lt["a"])(Wm,Fm,Gm,!1,null,"6fbcbf70",null),Xm=Vm.exports,Qm=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"new"}},[i("h1",{staticClass:"ui header"},[e._v("\n        "+e._s(e.$t("ui.page_titles.new_contract"))+"\n    ")]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui form"},[i("div",{staticClass:"ui grid",staticStyle:{"margin-top":"0","margin-bottom":"0"}},[i("div",{staticClass:"eight wide field",attrs:{"data-column":"name"}},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.name,expression:"contract.name"}],attrs:{type:"text"},domProps:{value:e.contract.name},on:{input:function(t){t.target.composing||e.$set(e.contract,"name",t.target.value)}}})]),i("div",{staticClass:"eight wide field",attrs:{"data-column":"number"}},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.number")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.number,expression:"contract.number"}],attrs:{type:"text"},domProps:{value:e.contract.number},on:{input:function(t){t.target.composing||e.$set(e.contract,"number",t.target.value)}}})]),i("div",{staticClass:"eight wide field",attrs:{"data-column":"carrier_class"}},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.carrier_class")))]),e.$store.state.provider.node?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.contract.carrier_class,expression:"contract.carrier_class"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.contract,"carrier_class",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),i("option",{domProps:{value:e.$store.state.provider.node.carrier_class}},[e._v(e._s(e.$store.state.provider.node.company_short_name))]),i("option",{attrs:{value:"Carrier::LMSProxy"}},[e._v("自動轉運")])]):i("div",{staticClass:"ui inline active loader"})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.proxy_contract")))]),e.current_store.provider_contracts?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.contract.proxy_contract_identity,expression:"contract.proxy_contract_identity"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.contract,"proxy_contract_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.current_store.provider_contracts,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2):i("div",{staticClass:"ui inline active loader"})]),i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"code icon"}),e._v("\n                "+e._s(e.$t("ui.pages.customer_contracts.additional_information"))+"\n            ")])]),i("div",{staticClass:"sixteen wide red field"},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.note")))]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.contract.note,expression:"contract.note"}],attrs:{rows:"4"},domProps:{value:e.contract.note},on:{input:function(t){t.target.composing||e.$set(e.contract,"note",t.target.value)}}})]),i("div",{staticClass:"sixteen wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.third_party_api_data")))]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.third_party_api_data,expression:"third_party_api_data"}],attrs:{rows:"4"},domProps:{value:e.third_party_api_data},on:{input:function(t){t.target.composing||(e.third_party_api_data=t.target.value)}}})])]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui buttons"},[i("a",{staticClass:"ui button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.$router.go(-1)}}},[e._v("\n                "+e._s(e.$t("ui.general.back"))+"\n            ")]),i("div",{staticClass:"or"}),e.is_loading?i("a",{staticClass:"ui blue button",attrs:{href:"#"}},[e._v("\n                "+e._s(e.$t("ui.general.creating"))+"...\n            ")]):i("a",{staticClass:"ui blue button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.create_contract()}}},[e._v("\n                "+e._s(e.$t("ui.general.create"))+"\n            ")])])])])},Zm=[],Jm={name:"ProviderCustomersContractsNew",mixins:[ll.a],props:{},data:function(){return{is_loading:!1,contract:{customer_identity:this.$route.params.customer_identity},third_party_api_data:""}},mounted:function(){},watch:{},methods:{create_contract:function(){var e=this;if(e.valid()){e.is_loading=!0,e.contract.third_party_api_data=JSON.parse(e.third_party_api_data);var t=e.contract,i=new RestUrl(e.$store.state.provider.routes.api_v1_provider_contracts_create).parse();return axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$noty.success(e.$t("ui.notifications.success.create__name",{name:e.$t("models.contracts")})),e.$router.push("/provider/customers"),e.is_loading=!1):(e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.contracts")})),e.is_loading=!1)})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.contracts")})),e.is_loading=!1})}}},validator:{target:"contract",localize_key:"contracts",input_alert:!0,attributes:[{name:"name",required:!0},{name:"number",required:!0},{name:"carrier_class",required:!0}]},computed:{current_store:function(){return this.$store.state.provider.customers_module}},components:{}},ef=Jm,tf=(n("c653"),Object(lt["a"])(ef,Qm,Zm,!1,null,null,null)),nf=tf.exports,af=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.quote_policy?i("div",{attrs:{id:"edit_quote_policy"}},[i("div",{staticClass:"ui segment"},[e._m(0),i("div",{staticClass:"ui form"},[i("div",{staticClass:"ui grid",staticStyle:{"margin-top":"0","margin-bottom":"0"}},[i("div",{staticClass:"eight wide field",attrs:{"data-column":"name"}},[i("label",[e._v("名稱")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.name,expression:"quote_policy.name"}],attrs:{type:"text"},domProps:{value:e.quote_policy.name},on:{input:function(t){t.target.composing||e.$set(e.quote_policy,"name",t.target.value)}}})]),i("div",{staticClass:"eight wide field",attrs:{"data-column":"note"}},[i("label",[e._v("備註")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.note,expression:"quote_policy.note"}],attrs:{type:"text"},domProps:{value:e.quote_policy.note},on:{input:function(t){t.target.composing||e.$set(e.quote_policy,"note",t.target.value)}}})]),i("div",{staticClass:"eight wide field",attrs:{"data-column":"required_material_class_name"}},[i("label",[e._v("條件物料")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.required_material_class_name,expression:"quote_policy.required_material_class_name"}],attrs:{type:"text"},domProps:{value:e.quote_policy.required_material_class_name},on:{input:function(t){t.target.composing||e.$set(e.quote_policy,"required_material_class_name",t.target.value)}}})]),i("div",{staticClass:"eight wide field",attrs:{"data-column":"required_condition"}},[i("label",[e._v("條件名稱")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.required_condition,expression:"quote_policy.required_condition"}],attrs:{type:"text"},domProps:{value:e.quote_policy.required_condition},on:{input:function(t){t.target.composing||e.$set(e.quote_policy,"required_condition",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.required_condition_polarity,expression:"quote_policy.required_condition_polarity"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(e.quote_policy.required_condition_polarity)?e._i(e.quote_policy.required_condition_polarity,null)>-1:e.quote_policy.required_condition_polarity},on:{change:function(t){var i=e.quote_policy.required_condition_polarity,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&e.$set(e.quote_policy,"required_condition_polarity",i.concat([r])):s>-1&&e.$set(e.quote_policy,"required_condition_polarity",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.quote_policy,"required_condition_polarity",a)}}}),i("label",[e._v("條件極性")])])]),i("div",{staticClass:"eight wide field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.is_activated,expression:"quote_policy.is_activated"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(e.quote_policy.is_activated)?e._i(e.quote_policy.is_activated,null)>-1:e.quote_policy.is_activated},on:{change:function(t){var i=e.quote_policy.is_activated,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&e.$set(e.quote_policy,"is_activated",i.concat([r])):s>-1&&e.$set(e.quote_policy,"is_activated",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.quote_policy,"is_activated",a)}}}),i("label",[e._v("是否啟用")])])])]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui buttons"},[i("a",{staticClass:"ui button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.$router.go(-1)}}},[e._v("\n                    "+e._s(e.$t("ui.general.back"))+"\n                ")]),i("div",{staticClass:"or"}),e.is_loading?i("a",{staticClass:"ui blue button",attrs:{href:"#"}},[e._v("\n                    "+e._s(e.$t("ui.general.updating"))+"...\n                ")]):i("a",{staticClass:"ui blue button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.update_quote_policy()}}},[e._v(e._s(e.$t("ui.general.update")))])])])]),i("div",{staticClass:"ui segment"},[e._m(1),i("table",{staticClass:"ui table"},[e._m(2),i("tbody",e._l(e.quote_policy.quote_conditions,function(t){return i("tr",[i("td",[e._v(e._s(t.name))]),i("td",[e._v(e._s("conditional"==t.quote_condition_type?"一般":"加收"))]),i("td",[e._v(e._s(t.priority||"-"))]),i("td",["attribute"==t.condition_type?i("span",[e._v("\n                            "+e._s(e.$t("models.attributes.core_waybills."+t.condition_attribute))+"\n                        ")]):i("span",[e._v("\n                            "+e._s(t.condition_value)+"\n                        ")]),e._v("\n                        ("+e._s(t.condition_unit)+")\n                         \n                        "+e._s(e.translate_logical_operator(t.logical_operator))+"\n                         \n                        "+e._s(t.result)+"\n                    ")]),i("td",[t.price_operator_1?i("span",[e._v("(")]):e._e(),t.price_operator_2?i("span",[e._v("(")]):e._e(),t.price_operator_3?i("span",[e._v("(")]):e._e(),t.price_operator_4?i("span",[e._v("(")]):e._e(),t.price_operator_5?i("span",[e._v("(")]):e._e(),"attribute"==t.price_type?i("span",[e._v("\n                            "+e._s(e.$t("models.attributes.core_waybills."+t.price_attribute))+"\n                            "),t.price_attribute_round_type?i("span",["round"==t.price_attribute_round_type?i("span",[e._v("(四捨五入)")]):e._e(),"floor"==t.price_attribute_round_type?i("span",[e._v("(無條件捨去)")]):e._e(),"ceil"==t.price_attribute_round_type?i("span",[e._v("(無條件進位)")]):e._e()]):e._e()]):i("span",[e._v("\n                            "+e._s(t.price_value)+"\n                        ")]),t.price_operator_1?i("span",[e._v("\n                            "+e._s(t.price_operator_1)+"\n                            "+e._s(t.price_operator_value_1)+" )\n                        ")]):e._e(),t.price_operator_2?i("span",[e._v("\n                            "+e._s(t.price_operator_2)+"\n                            "+e._s(t.price_operator_value_2)+" )\n                        ")]):e._e(),t.price_operator_3?i("span",[e._v("\n                            "+e._s(t.price_operator_3)+"\n                            "+e._s(t.price_operator_value_3)+" )\n                        ")]):e._e(),t.price_operator_4?i("span",[e._v("\n                            "+e._s(t.price_operator_4)+"\n                            "+e._s(t.price_operator_value_4)+" )\n                        ")]):e._e(),t.price_operator_5?i("span",[e._v("\n                            "+e._s(t.price_operator_5)+"\n                            "+e._s(t.price_operator_value_5)+" )\n                        ")]):e._e()])])}))])]),i("div",{staticClass:"ui segment"},[i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"list alternate icon"}),e._v("\n                報價單\n                "),i("router-link",{attrs:{to:{name:"new_provider_quotation",params:{quote_policy_identity:e.quote_policy.identity}}}},[i("i",{staticClass:"add icon"})])],1)]),i("table",{staticClass:"ui table"},[e._m(3),i("tbody",e._l(e.quote_policy.quotations,function(t){return i("tr",[i("td",[e._v(e._s(t.title))]),i("td",[e._v(e._s(t.identity))]),i("td",[e._v(e._s(e.human_datetime(t.quoted_from)))]),i("td",[e._v(e._s(e.human_datetime(t.quoted_to)))]),i("td",[t.file_url&&!e.is_caculating?i("a",{attrs:{href:t.file_url+"?authorization="+e.authentication_token}},[e._v("下載檔案")]):i("span",[e._v("-")])]),i("td",[i("a",{staticClass:"ui orange button",attrs:{href:"#"},on:{click:function(i){i.preventDefault(),e.caculate(t.identity)}}},[e.is_caculating||t.file_url?e.is_caculating?i("span",[e._v("計算中...")]):i("span",[e._v("重新計算")]):i("span",[e._v("計算")])])])])}))])])]):e._e()},rf=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"edit icon"}),e._v("\n                編輯計價政策\n            ")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"list icon"}),e._v("\n                計價條件\n            ")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("thead",[i("tr",[i("th",[e._v("名稱")]),i("th",[e._v("計價屬性")]),i("th",[e._v("優先度")]),i("th",[e._v("計價條件")]),i("th",[e._v("價格公式")])])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("thead",[i("tr",[i("th",[e._v("名稱")]),i("th",[e._v("識別碼")]),i("th",[e._v("起")]),i("th",[e._v("訖")]),i("th",[e._v("檔案位址")]),i("th",[e._v("動作")])])])}],sf={name:"ProviderEditQuotePolicy",mixins:[ll.a],props:{},data:function(){return{is_loading:!1,is_caculating:!1,quote_policy:{}}},watch:{},mounted:function(){var e=this;e.fetch_quote_policy()},methods:{human_datetime:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"lll";return j()(e).locale("zh-tw").format(t)},translate_logical_operator:function(e){switch(e){case"between?":return"介於";default:return e}},caculate:function(e){var t=this,i=new RestUrl(t.$store.state.provider.routes.api_v1_provider_quotation_caculate).parse({quotation_identity:e});return t.is_caculating=!0,axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(i){t.is_caculating=!1;var n=_.findIndex(t.quote_policy.quotations,function(t){return t.identity==e});t.quote_policy.quotations.splice(n,1,i.data.quotation)})["catch"](function(e){return t.is_caculating=!1,Promise.reject(e)})},fetch_quote_policy:function(){var e=this,t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_quote_policy).parse({quote_policy_identity:e.$route.params.quote_policy_identity});return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){console.log(t),e.quote_policy=t.data.quote_policy})["catch"](function(e){return Promise.reject(e)})},update_quote_policy:function(){var e=this;if(e.valid()){e.is_loading=!0;var t=e.quote_policy,i=new RestUrl(e.$store.state.provider.routes.api_v1_provider_quote_policy_update).parse({quote_policy_identity:e.quote_policy.identity});return axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$noty.success(e.$t("ui.notifications.success.update__name",{name:e.$t("models.quote_policys")})),e.is_loading=!1,e.$router.go(-1)):(e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.quote_policys")})),e.is_loading=!1)})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.quote_policys")})),e.is_loading=!1})}}},validator:{target:"quote_policy",localize_key:"quote_policys",input_alert:!0,attributes:[{name:"name",required:!0}]},computed:{current_store:function(){return this.$store.state.provider.customers_module},current_customer:function(){var e=this;return _.findLast(e.current_store.customers,function(t){return t.identity==e.quote_policy.customer_identity})},authentication_token:function(){return localStorage.getItem("authentication_token")}},components:{}},of=sf,cf=Object(lt["a"])(of,af,rf,!1,null,null,null),_f=cf.exports,lf=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui segment",attrs:{id:"new"}},[i("h1",{staticClass:"ui header"},[e._v("\n        新增報價單\n    ")]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui form"},[i("div",{staticClass:"ui grid",staticStyle:{"margin-top":"0","margin-bottom":"0"}},[i("div",{staticClass:"sixteen wide field",attrs:{"data-column":"title"}},[i("label",[e._v("標題")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.quotation.title,expression:"quotation.title"}],attrs:{type:"text"},domProps:{value:e.quotation.title},on:{input:function(t){t.target.composing||e.$set(e.quotation,"title",t.target.value)}}})]),i("div",{staticClass:"eight wide field",attrs:{"data-column":"quoted_from"}},[i("label",[e._v("起")]),i("el-date-picker",{staticStyle:{width:"100%"},attrs:{"unlink-panels":"",type:"date"},model:{value:e.quotation.quoted_from,callback:function(t){e.$set(e.quotation,"quoted_from",t)},expression:"quotation.quoted_from"}})],1),i("div",{staticClass:"eight wide field",attrs:{"data-column":"quoted_to"}},[i("label",[e._v("訖")]),i("el-date-picker",{staticStyle:{width:"100%"},attrs:{"unlink-panels":"",type:"date"},model:{value:e.quotation.quoted_to,callback:function(t){e.$set(e.quotation,"quoted_to",t)},expression:"quotation.quoted_to"}})],1)]),i("div",{staticClass:"ui divider"}),e.is_loading?i("a",{staticClass:"ui blue button",attrs:{href:"#"}},[e._v("\n            "+e._s(e.$t("ui.general.creating"))+"...\n        ")]):i("a",{staticClass:"ui blue button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.create_quotation()}}},[e._v("\n            "+e._s(e.$t("ui.general.create"))+"\n        ")])])])},uf=[],df={name:"ProviderNewQuotation",props:{},data:function(){return{is_loading:!1,quotation:{quote_policy_identity:this.$route.params.quote_policy_identity,contract_identity:this.$route.params.contract_identity}}},mounted:function(){},watch:{},methods:{create_quotation:function(){var e=this;e.is_loading=!0;var t=e.quotation;t.quoted_from=j()(t.quoted_from).startOf("day").format("YYYY-MM-DDTHH:mm:ss+08:00"),t.quoted_to=j()(t.quoted_to).endOf("day").format("YYYY-MM-DDTHH:mm:ss+08:00");var i=new RestUrl(e.$store.state.provider.routes.api_v1_provider_quotations_create).parse();return axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.is_loading=!1,"success"==t.data.status?e.$router.go(-1):e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.quotations")}))})["catch"](function(t){e.is_loading=!1,e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.quotations")}))})}},computed:{current_store:function(){return this.$store.state.provider.customers_module}},components:{}},pf=df,mf=(n("2efe"),Object(lt["a"])(pf,lf,uf,!1,null,null,null)),ff=mf.exports,vf=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.quote_policy?i("div",{attrs:{id:"edit_quote_policy"}},[i("div",{staticClass:"ui segment"},[e._m(0),i("div",{staticClass:"ui form"},[i("div",{staticClass:"ui grid",staticStyle:{"margin-top":"0","margin-bottom":"0"}},[i("div",{staticClass:"eight wide field",attrs:{"data-column":"name"}},[i("label",[e._v("名稱")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.name,expression:"quote_policy.name"}],attrs:{type:"text"},domProps:{value:e.quote_policy.name},on:{input:function(t){t.target.composing||e.$set(e.quote_policy,"name",t.target.value)}}})]),i("div",{staticClass:"eight wide field",attrs:{"data-column":"note"}},[i("label",[e._v("備註")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.note,expression:"quote_policy.note"}],attrs:{type:"text"},domProps:{value:e.quote_policy.note},on:{input:function(t){t.target.composing||e.$set(e.quote_policy,"note",t.target.value)}}})]),i("div",{staticClass:"eight wide field",attrs:{"data-column":"required_material_class_name"}},[i("label",[e._v("條件物料")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.required_material_class_name,expression:"quote_policy.required_material_class_name"}],attrs:{type:"text"},domProps:{value:e.quote_policy.required_material_class_name},on:{input:function(t){t.target.composing||e.$set(e.quote_policy,"required_material_class_name",t.target.value)}}})]),i("div",{staticClass:"eight wide field",attrs:{"data-column":"required_condition"}},[i("label",[e._v("條件名稱")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.required_condition,expression:"quote_policy.required_condition"}],attrs:{type:"text"},domProps:{value:e.quote_policy.required_condition},on:{input:function(t){t.target.composing||e.$set(e.quote_policy,"required_condition",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.required_condition_polarity,expression:"quote_policy.required_condition_polarity"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(e.quote_policy.required_condition_polarity)?e._i(e.quote_policy.required_condition_polarity,null)>-1:e.quote_policy.required_condition_polarity},on:{change:function(t){var i=e.quote_policy.required_condition_polarity,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&e.$set(e.quote_policy,"required_condition_polarity",i.concat([r])):s>-1&&e.$set(e.quote_policy,"required_condition_polarity",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.quote_policy,"required_condition_polarity",a)}}}),i("label",[e._v("條件極性")])])]),i("div",{staticClass:"eight wide field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.is_activated,expression:"quote_policy.is_activated"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(e.quote_policy.is_activated)?e._i(e.quote_policy.is_activated,null)>-1:e.quote_policy.is_activated},on:{change:function(t){var i=e.quote_policy.is_activated,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&e.$set(e.quote_policy,"is_activated",i.concat([r])):s>-1&&e.$set(e.quote_policy,"is_activated",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.quote_policy,"is_activated",a)}}}),i("label",[e._v("是否啟用")])])])]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui buttons"},[i("a",{staticClass:"ui button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.$router.go(-1)}}},[e._v("\n                    "+e._s(e.$t("ui.general.back"))+"\n                ")]),i("div",{staticClass:"or"}),e.is_loading?i("a",{staticClass:"ui blue button",attrs:{href:"#"}},[e._v("\n                    "+e._s(e.$t("ui.general.updating"))+"...\n                ")]):i("a",{staticClass:"ui blue button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.update_quote_policy()}}},[e._v(e._s(e.$t("ui.general.update")))])])])]),i("div",{staticClass:"ui segment"},[e._m(1),i("table",{staticClass:"ui table"},[e._m(2),i("tbody",e._l(e.quote_policy.quote_conditions,function(t){return i("tr",[i("td",[e._v(e._s(t.name))]),i("td",[e._v(e._s("conditional"==t.quote_condition_type?"一般":"加收"))]),i("td",[e._v(e._s(t.priority||"-"))]),i("td",["attribute"==t.condition_type?i("span",[e._v("\n                            "+e._s(e.$t("models.attributes.core_waybills."+t.condition_attribute))+"\n                        ")]):i("span",[e._v("\n                            "+e._s(t.condition_value)+"\n                        ")]),e._v("\n                        ("+e._s(t.condition_unit)+")\n                         \n                        "+e._s(e.translate_logical_operator(t.logical_operator))+"\n                         \n                        "+e._s(t.result)+"\n                    ")]),i("td",["attribute"==t.price_type?i("span",[e._v("\n                            "+e._s(e.$t("models.attributes.core_waybills."+t.price_attribute))+"\n                        ")]):i("span",[e._v("\n                            "+e._s(t.price_value)+"\n                        ")]),e._v("\n                        "+e._s(t.price_operator)+"\n                        "+e._s(t.price_operator_value)+"\n                    ")])])}))])]),i("div",{staticClass:"ui segment"},[i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"list alternate icon"}),e._v("\n                報價單\n                "),i("router-link",{attrs:{to:{name:"new_provider_quotation",params:{quote_policy_identity:e.quote_policy.identity}}}},[i("i",{staticClass:"add icon"})])],1)]),i("table",{staticClass:"ui table"},[e._m(3),i("tbody",e._l(e.quote_policy.quotations,function(t){return i("tr",[i("td",[e._v(e._s(t.title))]),i("td",[e._v(e._s(e.human_datetime(t.quoted_from)))]),i("td",[e._v(e._s(e.human_datetime(t.quoted_to)))]),i("td",[t.file_url?i("a",{attrs:{href:t.file_url}},[e._v("下載檔案")]):i("span",[e._v("-")])]),i("td",[i("a",{staticClass:"ui orange button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.caculate()}}},[e._v("\n                            計算\n                        ")])])])}))])])]):e._e()},hf=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"edit icon"}),e._v("\n                編輯計價政策\n            ")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"list icon"}),e._v("\n                計價條件\n            ")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("thead",[i("tr",[i("th",[e._v("名稱")]),i("th",[e._v("計價屬性")]),i("th",[e._v("優先度")]),i("th",[e._v("計價條件")]),i("th",[e._v("價格公式")])])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("thead",[i("tr",[i("th",[e._v("名稱")]),i("th",[e._v("起")]),i("th",[e._v("訖")]),i("th",[e._v("檔案位址")]),i("th",[e._v("動作")])])])}],gf={name:"ProviderEditQuotePolicy",mixins:[ll.a],props:{},data:function(){return{is_loading:!1,quote_policy:{},third_party_api_data:""}},watch:{},mounted:function(){var e=this;e.fetch_quote_policy()},methods:{human_datetime:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"lll";return j()(e).locale("zh-tw").format(t)},translate_logical_operator:function(e){switch(e){case"between?":return"介於";default:return e}},fetch_quote_policy:function(e,t){var i=this,n=new RestUrl(i.$store.state.provider.routes.api_v1_provider_quote_policy).parse({quote_policy_identity:i.$route.params.quote_policy_identity});return axios.get(n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){console.log(e),i.quote_policy=e.data.quote_policy})["catch"](function(e){return Promise.reject(e)})},update_quote_policy:function(){var e=this;if(e.valid()){e.is_loading=!0;var t=e.quote_policy,i=new RestUrl(e.$store.state.provider.routes.api_v1_provider_quote_policy_update).parse({quote_policy_identity:e.quote_policy.identity});return axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$noty.success(e.$t("ui.notifications.success.update__name",{name:e.$t("models.quote_policys")})),e.is_loading=!1,e.$router.go(-1)):(e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.quote_policys")})),e.is_loading=!1)})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.quote_policys")})),e.is_loading=!1})}}},validator:{target:"quote_policy",localize_key:"quote_policys",input_alert:!0,attributes:[{name:"name",required:!0}]},computed:{current_store:function(){return this.$store.state.provider.customers_module},current_customer:function(){var e=this;return _.findLast(e.current_store.customers,function(t){return t.identity==e.quote_policy.customer_identity})}},components:{}},bf=gf,yf=Object(lt["a"])(bf,vf,hf,!1,null,null,null),wf=(yf.exports,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"new"}},[i("h1",{staticClass:"ui header"},[e._v("\n        "+e._s(e.$t("ui.page_titles.new_contract"))+"\n    ")]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui form"},[i("div",{staticClass:"ui grid",staticStyle:{"margin-top":"0","margin-bottom":"0"}},[i("div",{staticClass:"eight wide field",attrs:{"data-column":"name"}},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.name,expression:"contract.name"}],attrs:{type:"text"},domProps:{value:e.contract.name},on:{input:function(t){t.target.composing||e.$set(e.contract,"name",t.target.value)}}})]),i("div",{staticClass:"eight wide field",attrs:{"data-column":"number"}},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.number")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.number,expression:"contract.number"}],attrs:{type:"text"},domProps:{value:e.contract.number},on:{input:function(t){t.target.composing||e.$set(e.contract,"number",t.target.value)}}})]),i("div",{staticClass:"eight wide field",attrs:{"data-column":"carrier_class"}},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.carrier_class")))]),e.$store.state.provider.node?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.contract.carrier_class,expression:"contract.carrier_class"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.contract,"carrier_class",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),i("option",{domProps:{value:e.$store.state.provider.node.carrier_class}},[e._v(e._s(e.$store.state.provider.node.company_short_name))]),i("option",{attrs:{value:"Carrier::LMSProxy"}},[e._v("自動轉運")])]):i("div",{staticClass:"ui inline active loader"})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.proxy_contract")))]),e.current_store.provider_contracts?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.contract.proxy_contract_identity,expression:"contract.proxy_contract_identity"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.contract,"proxy_contract_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.current_store.provider_contracts,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2):i("div",{staticClass:"ui inline active loader"})]),i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"code icon"}),e._v("\n                "+e._s(e.$t("ui.pages.customer_contracts.additional_information"))+"\n            ")])]),i("div",{staticClass:"sixteen wide red field"},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.note")))]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.contract.note,expression:"contract.note"}],attrs:{rows:"4"},domProps:{value:e.contract.note},on:{input:function(t){t.target.composing||e.$set(e.contract,"note",t.target.value)}}})]),i("div",{staticClass:"sixteen wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.third_party_api_data")))]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.third_party_api_data,expression:"third_party_api_data"}],attrs:{rows:"4"},domProps:{value:e.third_party_api_data},on:{input:function(t){t.target.composing||(e.third_party_api_data=t.target.value)}}})])]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui buttons"},[i("a",{staticClass:"ui button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.$router.go(-1)}}},[e._v("\n                "+e._s(e.$t("ui.general.back"))+"\n            ")]),i("div",{staticClass:"or"}),e.is_loading?i("a",{staticClass:"ui blue button",attrs:{href:"#"}},[e._v("\n                "+e._s(e.$t("ui.general.creating"))+"...\n            ")]):i("a",{staticClass:"ui blue button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.create_contract()}}},[e._v("\n                "+e._s(e.$t("ui.general.create"))+"\n            ")])])])])}),$f=[],kf={name:"ProviderCustomersContractsNew",mixins:[ll.a],props:{},data:function(){return{is_loading:!1,contract:{customer_identity:this.$route.params.customer_identity},third_party_api_data:""}},mounted:function(){},watch:{},methods:{create_contract:function(){var e=this;if(e.valid()){e.is_loading=!0,e.contract.third_party_api_data=JSON.parse(e.third_party_api_data);var t=e.contract,i=new RestUrl(e.$store.state.provider.routes.api_v1_provider_contracts_create).parse();return axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$noty.success(e.$t("ui.notifications.success.create__name",{name:e.$t("models.contracts")})),e.$router.push("/provider/customers"),e.is_loading=!1):(e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.contracts")})),e.is_loading=!1)})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.contracts")})),e.is_loading=!1})}}},validator:{target:"contract",localize_key:"contracts",input_alert:!0,attributes:[{name:"name",required:!0},{name:"number",required:!0},{name:"carrier_class",required:!0}]},computed:{current_store:function(){return this.$store.state.provider.customers_module}},components:{}},Cf=kf,xf=(n("4e53"),Object(lt["a"])(Cf,wf,$f,!1,null,null,null)),Pf=(xf.exports,function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.quote_policy?i("div",{attrs:{id:"edit_quote_policy"}},[i("div",{staticClass:"ui segment"},[e._m(0),i("div",{staticClass:"ui form"},[i("div",{staticClass:"ui grid",staticStyle:{"margin-top":"0","margin-bottom":"0"}},[i("div",{staticClass:"eight wide field",attrs:{"data-column":"name"}},[i("label",[e._v("名稱")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.name,expression:"quote_policy.name"}],attrs:{type:"text"},domProps:{value:e.quote_policy.name},on:{input:function(t){t.target.composing||e.$set(e.quote_policy,"name",t.target.value)}}})]),i("div",{staticClass:"eight wide field",attrs:{"data-column":"note"}},[i("label",[e._v("備註")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.note,expression:"quote_policy.note"}],attrs:{type:"text"},domProps:{value:e.quote_policy.note},on:{input:function(t){t.target.composing||e.$set(e.quote_policy,"note",t.target.value)}}})]),i("div",{staticClass:"eight wide field",attrs:{"data-column":"required_material_class_name"}},[i("label",[e._v("條件物料")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.required_material_class_name,expression:"quote_policy.required_material_class_name"}],attrs:{type:"text"},domProps:{value:e.quote_policy.required_material_class_name},on:{input:function(t){t.target.composing||e.$set(e.quote_policy,"required_material_class_name",t.target.value)}}})]),i("div",{staticClass:"eight wide field",attrs:{"data-column":"required_condition"}},[i("label",[e._v("條件名稱")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.required_condition,expression:"quote_policy.required_condition"}],attrs:{type:"text"},domProps:{value:e.quote_policy.required_condition},on:{input:function(t){t.target.composing||e.$set(e.quote_policy,"required_condition",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.required_condition_polarity,expression:"quote_policy.required_condition_polarity"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(e.quote_policy.required_condition_polarity)?e._i(e.quote_policy.required_condition_polarity,null)>-1:e.quote_policy.required_condition_polarity},on:{change:function(t){var i=e.quote_policy.required_condition_polarity,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&e.$set(e.quote_policy,"required_condition_polarity",i.concat([r])):s>-1&&e.$set(e.quote_policy,"required_condition_polarity",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.quote_policy,"required_condition_polarity",a)}}}),i("label",[e._v("條件極性")])])]),i("div",{staticClass:"eight wide field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.is_activated,expression:"quote_policy.is_activated"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(e.quote_policy.is_activated)?e._i(e.quote_policy.is_activated,null)>-1:e.quote_policy.is_activated},on:{change:function(t){var i=e.quote_policy.is_activated,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&e.$set(e.quote_policy,"is_activated",i.concat([r])):s>-1&&e.$set(e.quote_policy,"is_activated",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.quote_policy,"is_activated",a)}}}),i("label",[e._v("是否啟用")])])])]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui buttons"},[i("a",{staticClass:"ui button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.$router.go(-1)}}},[e._v("\n                    "+e._s(e.$t("ui.general.back"))+"\n                ")]),i("div",{staticClass:"or"}),e.is_loading?i("a",{staticClass:"ui blue button",attrs:{href:"#"}},[e._v("\n                    "+e._s(e.$t("ui.general.updating"))+"...\n                ")]):i("a",{staticClass:"ui blue button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.update_quote_policy()}}},[e._v(e._s(e.$t("ui.general.update")))])])])]),i("div",{staticClass:"ui segment"},[e._m(1),i("table",{staticClass:"ui table"},[e._m(2),i("tbody",e._l(e.quote_policy.quote_conditions,function(t){return i("tr",[i("td",[e._v(e._s(t.name))]),i("td",[e._v(e._s("conditional"==t.quote_condition_type?"一般":"加收"))]),i("td",[e._v(e._s(t.priority||"-"))]),i("td",["attribute"==t.condition_type?i("span",[e._v("\n                            "+e._s(e.$t("models.attributes.core_waybills."+t.condition_attribute))+"\n                        ")]):i("span",[e._v("\n                            "+e._s(t.condition_value)+"\n                        ")]),e._v("\n                        ("+e._s(t.condition_unit)+")\n                         \n                        "+e._s(e.translate_logical_operator(t.logical_operator))+"\n                         \n                        "+e._s(t.result)+"\n                    ")]),i("td",[t.price_operator_1?i("span",[e._v("(")]):e._e(),t.price_operator_2?i("span",[e._v("(")]):e._e(),t.price_operator_3?i("span",[e._v("(")]):e._e(),t.price_operator_4?i("span",[e._v("(")]):e._e(),t.price_operator_5?i("span",[e._v("(")]):e._e(),"attribute"==t.price_type?i("span",[e._v("\n                            "+e._s(e.$t("models.attributes.core_waybills."+t.price_attribute))+"\n                            "),t.price_attribute_round_type?i("span",["round"==t.price_attribute_round_type?i("span",[e._v("(四捨五入)")]):e._e(),"floor"==t.price_attribute_round_type?i("span",[e._v("(無條件捨去)")]):e._e(),"ceil"==t.price_attribute_round_type?i("span",[e._v("(無條件進位)")]):e._e()]):e._e()]):i("span",[e._v("\n                            "+e._s(t.price_value)+"\n                        ")]),t.price_operator_1?i("span",[e._v("\n                            "+e._s(t.price_operator_1)+"\n                            "+e._s(t.price_operator_value_1)+" )\n                        ")]):e._e(),t.price_operator_2?i("span",[e._v("\n                            "+e._s(t.price_operator_2)+"\n                            "+e._s(t.price_operator_value_2)+" )\n                        ")]):e._e(),t.price_operator_3?i("span",[e._v("\n                            "+e._s(t.price_operator_3)+"\n                            "+e._s(t.price_operator_value_3)+" )\n                        ")]):e._e(),t.price_operator_4?i("span",[e._v("\n                            "+e._s(t.price_operator_4)+"\n                            "+e._s(t.price_operator_value_4)+" )\n                        ")]):e._e(),t.price_operator_5?i("span",[e._v("\n                            "+e._s(t.price_operator_5)+"\n                            "+e._s(t.price_operator_value_5)+" )\n                        ")]):e._e()])])}))])]),i("div",{staticClass:"ui segment"},[i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"list alternate icon"}),e._v("\n                報價單\n                "),i("router-link",{attrs:{to:{name:"new_provider_quotation",params:{quote_policy_identity:e.quote_policy.identity}}}},[i("i",{staticClass:"add icon"})])],1)]),i("table",{staticClass:"ui table"},[e._m(3),i("tbody",e._l(e.quote_policy.quotations,function(t){return i("tr",[i("td",[e._v(e._s(t.title))]),i("td",[e._v(e._s(e.human_datetime(t.quoted_from)))]),i("td",[e._v(e._s(e.human_datetime(t.quoted_to)))]),i("td",[t.file_url?i("a",{attrs:{href:t.file_url}},[e._v("下載檔案")]):i("span",[e._v("-")])]),i("td",[i("a",{staticClass:"ui orange button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.caculate()}}},[e._v("\n                            計算\n                        ")])])])}))])])]):e._e()}),Sf=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"edit icon"}),e._v("\n                編輯計價政策\n            ")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"list icon"}),e._v("\n                計價條件\n            ")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("thead",[i("tr",[i("th",[e._v("名稱")]),i("th",[e._v("計價屬性")]),i("th",[e._v("優先度")]),i("th",[e._v("計價條件")]),i("th",[e._v("價格公式")])])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("thead",[i("tr",[i("th",[e._v("名稱")]),i("th",[e._v("起")]),i("th",[e._v("訖")]),i("th",[e._v("檔案位址")]),i("th",[e._v("動作")])])])}],Nf={name:"ProviderEditQuotePolicy",mixins:[ll.a],props:{},data:function(){return{is_loading:!1,quote_policy:{},third_party_api_data:""}},watch:{},mounted:function(){var e=this;e.fetch_quote_policy()},methods:{human_datetime:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"lll";return j()(e).locale("zh-tw").format(t)},translate_logical_operator:function(e){switch(e){case"between?":return"介於";default:return e}},fetch_quote_policy:function(e,t){var i=this,n=new RestUrl(i.$store.state.provider.routes.api_v1_provider_quote_policy).parse({quote_policy_identity:i.$route.params.quote_policy_identity});return axios.get(n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){console.log(e),i.quote_policy=e.data.quote_policy})["catch"](function(e){return Promise.reject(e)})},update_quote_policy:function(){var e=this;if(e.valid()){e.is_loading=!0;var t=e.quote_policy,i=new RestUrl(e.$store.state.provider.routes.api_v1_provider_quote_policy_update).parse({quote_policy_identity:e.quote_policy.identity});return axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$noty.success(e.$t("ui.notifications.success.update__name",{name:e.$t("models.quote_policys")})),e.is_loading=!1,e.$router.go(-1)):(e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.quote_policys")})),e.is_loading=!1)})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.quote_policys")})),e.is_loading=!1})}}},validator:{target:"quote_policy",localize_key:"quote_policys",input_alert:!0,attributes:[{name:"name",required:!0}]},computed:{current_store:function(){return this.$store.state.provider.customers_module},current_customer:function(){var e=this;return _.findLast(e.current_store.customers,function(t){return t.identity==e.quote_policy.customer_identity})}},components:{}},Af=Nf,Ef=Object(lt["a"])(Af,Pf,Sf,!1,null,null,null),qf=(Ef.exports,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"new"}},[i("div",{staticClass:"ui segment"},[i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"clipboard icon"}),e._v("\n                "+e._s(e.$t("ui.page_titles.new_contract"))+"\n            ")])]),i("div",{staticClass:"ui form"},[i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide required field",attrs:{"data-column":"name"}},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.name,expression:"contract.name"}],attrs:{type:"text"},domProps:{value:e.contract.name},on:{input:function(t){t.target.composing||e.$set(e.contract,"name",t.target.value)}}})]),i("div",{staticClass:"eight wide required field column",attrs:{"data-column":"number"}},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.number")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.number,expression:"contract.number"}],attrs:{type:"text"},domProps:{value:e.contract.number},on:{input:function(t){t.target.composing||e.$set(e.contract,"number",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide required field",attrs:{"data-column":"carrier_class"}},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.carrier_class")))]),e.$store.state.provider.node?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.contract.carrier_class,expression:"contract.carrier_class"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.contract,"carrier_class",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),i("option",{domProps:{value:e.$store.state.provider.node.carrier_class}},[e._v(e._s(e.$store.state.provider.node.company_short_name))]),i("option",{attrs:{value:"Carrier::LMSProxy"}},[e._v("自動轉運")])]):i("div",{staticClass:"ui inline active loader"})]),i("div",{staticClass:"eight wide field column"},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.proxy_contract")))]),e.current_store.provider_contracts?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.contract.proxy_contract_identity,expression:"contract.proxy_contract_identity"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.contract,"proxy_contract_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.current_store.provider_contracts,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2):i("div",{staticClass:"ui inline active loader"})])]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.is_automated_fetch_status,expression:"contract.is_automated_fetch_status"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(e.contract.is_automated_fetch_status)?e._i(e.contract.is_automated_fetch_status,null)>-1:e.contract.is_automated_fetch_status},on:{change:function(t){var i=e.contract.is_automated_fetch_status,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&e.$set(e.contract,"is_automated_fetch_status",i.concat([r])):s>-1&&e.$set(e.contract,"is_automated_fetch_status",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.contract,"is_automated_fetch_status",a)}}}),i("label",[e._v("\n                            是否自動同步貨況\n                        ")])])]),i("div",{staticClass:"eight wide field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.is_automated_send_data,expression:"contract.is_automated_send_data"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(e.contract.is_automated_send_data)?e._i(e.contract.is_automated_send_data,null)>-1:e.contract.is_automated_send_data},on:{change:function(t){var i=e.contract.is_automated_send_data,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&e.$set(e.contract,"is_automated_send_data",i.concat([r])):s>-1&&e.$set(e.contract,"is_automated_send_data",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.contract,"is_automated_send_data",a)}}}),i("label",[e._v("\n                            是否自動傳送EDI\n                        ")])])])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field",class:{required:e.contract.is_automated_fetch_status}},[i("label",[e._v("自動同步貨況設定")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.fetch_status_cron,expression:"contract.fetch_status_cron"}],attrs:{type:"text",disabled:!e.contract.is_automated_fetch_status},domProps:{value:e.contract.fetch_status_cron},on:{input:function(t){t.target.composing||e.$set(e.contract,"fetch_status_cron",t.target.value)}}}),e._l(e.human_readable_cron(e.contract.fetch_status_cron),function(t){return e.contract.fetch_status_cron?i("p",[i("i",[e._v("會於 "+e._s(t)+" 執行")])]):e._e()})],2),i("div",{staticClass:"eight wide field column",class:{required:e.contract.is_automated_send_data}},[i("label",[e._v("自動傳送EDI設定")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.send_data_cron,expression:"contract.send_data_cron"}],attrs:{type:"text",disabled:!e.contract.is_automated_send_data},domProps:{value:e.contract.send_data_cron},on:{input:function(t){t.target.composing||e.$set(e.contract,"send_data_cron",t.target.value)}}}),e._l(e.human_readable_cron(e.contract.send_data_cron),function(t){return e.contract.send_data_cron?i("p",[i("i",[e._v("會於 "+e._s(t)+" 執行")])]):e._e()})],2)])]),i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"code icon"}),e._v("\n                "+e._s(e.$t("ui.pages.customer_contracts.additional_information"))+"\n            ")])]),i("div",{staticClass:"ui form"},[i("div",{staticClass:"fields"},[i("div",{staticClass:"sixteen wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.note")))]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.contract.note,expression:"contract.note"}],attrs:{rows:"4"},domProps:{value:e.contract.note},on:{input:function(t){t.target.composing||e.$set(e.contract,"note",t.target.value)}}})]),i("div",{staticClass:"sixteen wide required field"},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.third_party_api_data")))]),i("codemirror",{attrs:{options:e.code_mirror_options},model:{value:e.contract.third_party_api_data,callback:function(t){e.$set(e.contract,"third_party_api_data",t)},expression:"contract.third_party_api_data"}})],1)])]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"right floated"},[i("a",{staticClass:"ui button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.$router.go(-1)}}},[e._v("\n                "+e._s(e.$t("ui.general.back"))+"\n            ")]),e.is_loading?i("a",{staticClass:"ui blue button",attrs:{href:"#"}},[e._v("\n                "+e._s(e.$t("ui.general.creating"))+"...\n            ")]):i("a",{staticClass:"ui blue button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.create_contract()}}},[e._v("\n                "+e._s(e.$t("ui.general.create"))+"\n            ")])]),i("div",{staticClass:"clear"})])])}),zf=[],jf=n("f8d8"),Rf=n.n(jf),If=n("8f94"),Tf=(n("a7be"),n("8c2e"),n("f9d4"),{name:"ProviderCustomersContractsNew",mixins:[ll.a],props:{},data:function(){return{is_loading:!1,contract:{customer_identity:this.$route.params.customer_identity,third_party_api_data:"{}"},code_mirror_options:{tabSize:4,smartIndent:!0,mode:"application/json",theme:"base16-dark",lineNumbers:!0,line:!0}}},mounted:function(){},watch:{},methods:{human_readable_cron:function(t){try{var i=Rf.a.parseExpression(t,this.cron_parser_options),n=[];return n.push(j()(i.next().toString()).locale("zh-tw").format("lll")),n.push(j()(i.next().toString()).locale("zh-tw").format("lll")),n.push(j()(i.next().toString()).locale("zh-tw").format("lll")),n}catch(e){console.log(e)}},create_contract:function(){var e=this;if(e.valid()){e.is_loading=!0;var t=e.contract,i=new RestUrl(e.$store.state.provider.routes.api_v1_provider_contracts_create).parse();return axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$noty.success(e.$t("ui.notifications.success.create__name",{name:e.$t("models.contracts")})),e.is_loading=!1,e.$router.push({name:"provider_customers"})):(e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.contracts")})),e.is_loading=!1)})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.contracts")})),e.is_loading=!1})}}},validator:{target:"contract",localize_key:"contracts",input_alert:!0,attributes:[{name:"name",required:!0},{name:"number",required:!0},{name:"carrier_class",required:!0}]},computed:{current_store:function(){return this.$store.state.provider.customers_module}},components:{codemirror:If["codemirror"]}}),Of=Tf,Lf=(n("388b"),Object(lt["a"])(Of,qf,zf,!1,null,null,null)),Df=Lf.exports,Bf=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.contract.identity?i("div",{attrs:{id:"customer_contract_edit"}},[i("div",{staticClass:"ui segment"},[i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"clipboard icon"}),e._v("\n                "+e._s(e.$t("ui.page_titles.contract"))+"\n            ")])]),i("div",{staticClass:"ui form"},[i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide required field",attrs:{"data-column":"name"}},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.name,expression:"contract.name"}],attrs:{type:"text"},domProps:{value:e.contract.name},on:{input:function(t){t.target.composing||e.$set(e.contract,"name",t.target.value)}}})]),i("div",{staticClass:"eight wide required field column",attrs:{"data-column":"number"}},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.number")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.number,expression:"contract.number"}],attrs:{type:"text"},domProps:{value:e.contract.number},on:{input:function(t){t.target.composing||e.$set(e.contract,"number",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide required field",attrs:{"data-column":"carrier_class"}},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.carrier_class")))]),e.$store.state.provider.node?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.contract.carrier_class,expression:"contract.carrier_class"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.contract,"carrier_class",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),i("option",{domProps:{value:e.$store.state.provider.node.carrier_class}},[e._v(e._s(e.$store.state.provider.node.company_short_name))]),i("option",{attrs:{value:"Carrier::LMSProxy"}},[e._v("自動轉運")])]):i("div",{staticClass:"ui inline active loader"})]),i("div",{staticClass:"eight wide field column"},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.proxy_contract")))]),e.current_store.provider_contracts?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.contract.proxy_contract_identity,expression:"contract.proxy_contract_identity"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.contract,"proxy_contract_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.current_store.provider_contracts,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2):i("div",{staticClass:"ui inline active loader"})])]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.is_automated_fetch_status,expression:"contract.is_automated_fetch_status"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(e.contract.is_automated_fetch_status)?e._i(e.contract.is_automated_fetch_status,null)>-1:e.contract.is_automated_fetch_status},on:{change:function(t){var i=e.contract.is_automated_fetch_status,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&e.$set(e.contract,"is_automated_fetch_status",i.concat([r])):s>-1&&e.$set(e.contract,"is_automated_fetch_status",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.contract,"is_automated_fetch_status",a)}}}),i("label",[e._v("\n                            是否自動同步貨況\n                        ")])])]),i("div",{staticClass:"eight wide field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.is_automated_send_data,expression:"contract.is_automated_send_data"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(e.contract.is_automated_send_data)?e._i(e.contract.is_automated_send_data,null)>-1:e.contract.is_automated_send_data},on:{change:function(t){var i=e.contract.is_automated_send_data,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&e.$set(e.contract,"is_automated_send_data",i.concat([r])):s>-1&&e.$set(e.contract,"is_automated_send_data",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.contract,"is_automated_send_data",a)}}}),i("label",[e._v("\n                            是否自動傳送EDI\n                        ")])])])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field",class:{required:e.contract.is_automated_fetch_status}},[i("label",[e._v("自動同步貨況設定")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.fetch_status_cron,expression:"contract.fetch_status_cron"}],attrs:{type:"text",disabled:!e.contract.is_automated_fetch_status},domProps:{value:e.contract.fetch_status_cron},on:{input:function(t){t.target.composing||e.$set(e.contract,"fetch_status_cron",t.target.value)}}}),e._l(e.human_readable_cron(e.contract.fetch_status_cron),function(t){return e.contract.fetch_status_cron?i("p",[i("i",[e._v("會於 "+e._s(t)+" 執行")])]):e._e()})],2),i("div",{staticClass:"eight wide field column",class:{required:e.contract.is_automated_send_data}},[i("label",[e._v("自動傳送EDI設定")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.send_data_cron,expression:"contract.send_data_cron"}],attrs:{type:"text",disabled:!e.contract.is_automated_send_data},domProps:{value:e.contract.send_data_cron},on:{input:function(t){t.target.composing||e.$set(e.contract,"send_data_cron",t.target.value)}}}),e._l(e.human_readable_cron(e.contract.send_data_cron),function(t){return e.contract.send_data_cron?i("p",[i("i",[e._v("會於 "+e._s(t)+" 執行")])]):e._e()})],2)]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"right floated"},[e.is_loading?i("a",{staticClass:"ui blue button",attrs:{href:"#"}},[e._v("\n                    "+e._s(e.$t("ui.general.updating"))+"...\n                ")]):i("a",{staticClass:"ui blue button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.update_contract()}}},[e._v(e._s(e.$t("ui.general.update")))])]),i("div",{staticClass:"clear"})])]),i("div",{staticClass:"ui segment"},[i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"code icon"}),e._v("\n                "+e._s(e.$t("ui.pages.customer_contracts.additional_information"))+"\n            ")])]),i("div",{staticClass:"ui form"},[i("div",{staticClass:"fields"},[i("div",{staticClass:"sixteen wide red field"},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.note")))]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.contract.note,expression:"contract.note"}],attrs:{rows:"4"},domProps:{value:e.contract.note},on:{input:function(t){t.target.composing||e.$set(e.contract,"note",t.target.value)}}})]),i("div",{staticClass:"sixteen wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.third_party_api_data")))]),i("codemirror",{attrs:{options:e.code_mirror_options},model:{value:e.contract.third_party_api_data,callback:function(t){e.$set(e.contract,"third_party_api_data",t)},expression:"contract.third_party_api_data"}})],1)]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"right floated"},[e.is_loading?i("a",{staticClass:"ui blue button",attrs:{href:"#"}},[e._v("\n                    "+e._s(e.$t("ui.general.updating"))+"...\n                ")]):i("a",{staticClass:"ui blue button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.update_contract()}}},[e._v(e._s(e.$t("ui.general.update")))])]),i("div",{staticClass:"clear"})])]),i("div",{staticClass:"ui segment"},[i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"dollar sign icon"}),e._v("\n                "+e._s(e.$t("ui.page_titles.quote_policies"))+"\n            ")])]),i("table",{staticClass:"ui celled table"},[e._m(0),i("tbody",{staticClass:"center aligned"},e._l(e.contract.quote_policies,function(t){return i("tr",[i("td",[e._v(e._s(t.name))]),i("td",[e._v(e._s(e.human_datetime(t.begin_at)))]),i("td",[e._v(e._s(e.human_datetime(t.end_at)))]),i("td",[e._v(e._s(t.required_condition))]),i("td",[e._v(e._s(t.required_condition_polarity?"正":"負"))]),i("td",[e._v(e._s(t.required_material_class_name))]),i("td",[e._v(e._s(t.is_activated?"啟用":"不啟用"))]),i("td",[e._v(e._s(t.note))]),i("td",[i("router-link",{staticClass:"ui primary button",attrs:{to:{name:"provider_quote_policy",params:{customer_identity:e.$route.params.customer_identity,contract_identity:e.$route.params.contract_identity,quote_policy_identity:t.identity}}}},[e._v("\n                            檢視\n                        ")]),i("a",{staticClass:"ui orange button",on:{click:function(i){e.fetch_csv(t.identity)}}},[e._v("帳單")])],1)])}))])])]):e._e()},Mf=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("thead",{staticClass:"center aligned"},[i("tr",[i("th",[e._v("名稱")]),i("th",[e._v("開始於")]),i("th",[e._v("結束於")]),i("th",[e._v("條件名稱")]),i("th",[e._v("條件極性")]),i("th",[e._v("條件物料")]),i("th",[e._v("是否啟用")]),i("th",[e._v("備註")]),i("th",[e._v("動作")])])])}],Uf={name:"ProviderCustomersContractsEdit",mixins:[ll.a],props:{},data:function(){return{is_loading:!1,contract:{},code_mirror_options:{tabSize:4,smartIndent:!0,mode:"application/json",theme:"base16-dark",lineNumbers:!0,line:!0},cron_parser_options:{currentDate:j()(),tz:"Asia/Taipei"}}},watch:{},mounted:function(){var e=this;e.fetch_contract()},methods:{human_readable_cron:function(t){try{var i=Rf.a.parseExpression(t,this.cron_parser_options),n=[];return n.push(j()(i.next().toString()).locale("zh-tw").format("lll")),n.push(j()(i.next().toString()).locale("zh-tw").format("lll")),n.push(j()(i.next().toString()).locale("zh-tw").format("lll")),n}catch(e){console.log(e)}},fetch_contract:function(e,t){var i=this,n=new RestUrl(i.$store.state.provider.routes.api_v1_provider_contract).parse({contract_identity:i.$route.params.contract_identity});return axios.get(n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){i.contract=e.data.contract,i.contract.third_party_api_data&&(i.contract.third_party_api_data=JSON.stringify(i.contract.third_party_api_data,void 0,4))})["catch"](function(e){return Promise.reject(e)})},update_contract:function(){var e=this;if(e.valid()){e.is_loading=!0;var t=e.contract,i=new RestUrl(e.$store.state.provider.routes.api_v1_provider_contract_update).parse({contract_identity:e.contract.identity});return axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$noty.success(e.$t("ui.notifications.success.update__name",{name:e.$t("models.contracts")})),e.is_loading=!1,e.$router.push({name:"provider_customers"})):(e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.contracts")})),e.is_loading=!1)})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.contracts")})),e.is_loading=!1})}}},validator:{target:"contract",localize_key:"contracts",input_alert:!0,attributes:[{name:"name",required:!0},{name:"number",required:!0},{name:"carrier_class",required:!0}]},computed:{current_store:function(){return this.$store.state.provider.customers_module},current_customer:function(){var e=this;return _.findLast(e.current_store.customers,function(t){return t.identity==e.contract.customer_identity})}},components:{codemirror:If["codemirror"]}},Ff=Uf,Gf=Object(lt["a"])(Ff,Bf,Mf,!1,null,null,null),Hf=Gf.exports,Yf="provider_customers",Kf="new_provider_customer",Wf="provider_customer",Vf="new_provider_contract",Xf="provider_contract",Qf="new_provider_quote_policy",Zf="provider_quote_policy",Jf="new_provider_quotation",ev=[{path:"/",component:Tm,name:"provider_customers",meta:{api_name:"api_v1_provider_customers",breadcrumb:[Yf],btns:[Kf]}},{path:"new",component:Um,name:"new_provider_customer",meta:{api_name:"api_v1_provider_customers_create",breadcrumb:[Yf,Kf]}},{path:":customer_identity",component:Xm,name:"provider_customer",meta:{api_name:"api_v1_provider_customer",breadcrumb:[Yf,Wf]}},{path:":customer_identity/contracts/new",component:Df,name:"new_provider_contract",meta:{api_name:"api_v1_provider_contracts_create",breadcrumb:[Yf,Wf,Vf]}},{path:":customer_identity/contracts/:contract_identity",component:Hf,name:"provider_contract",meta:{api_name:"api_v1_provider_contract_update",breadcrumb:[Yf,Wf,Xf]}},{path:":customer_identity/contracts/:contract_identity/quote_policies/:quote_policy_identity",component:_f,name:"provider_quote_policy",meta:{api_name:"api_v1_provider_quote_policy_update",breadcrumb:[Yf,Wf,Xf,Zf]}},{path:":customer_identity/contracts/:contract_identity/quote_policies/new",component:nf,name:"new_provider_quote_policy",meta:{api_name:"api_v1_provider_quote_policy_create",breadcrumb:[Yf,Wf,Xf,Qf]}},{path:":customer_identity/contracts/:contract_identity/quote_policies/:quote_policy_identity/quotations/new",component:ff,name:"new_provider_quotation",meta:{api_name:"api_v1_provider_quotation_create",breadcrumb:[Yf,Wf,Xf,Zf,Jf]}}],tv=ev,iv=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"index"}},[i("div",{staticClass:"ui middle aligned center aligned grid"},[i("div",{staticClass:"column"},[i("h1",{staticClass:"ui header"},[i("i",{staticClass:"icons"},[i("i",{staticClass:"red remove user large icon"}),i("span",[e._v("\n                        "+e._s(e.$t("ui.pages.partials.permission_denied.you_dont_permission"))+"\n                    ")])])]),e.back_two_page[1]?i("h2",{staticClass:"ui header"},[e._v("\n                "+e._s(e.$t("ui.general.cannot_use"))+"\n                "+e._s(e.$t("ui.page_titles."+e.back_two_page[0].name))+"\n                "+e._s(e.$t("page"))+"\n                "),i("br"),i("br"),"permission_denied"!=e.back_two_page[1].name?i("router-link",{staticClass:"ui big button",attrs:{to:{name:e.back_two_page[1].name}}},[e._v("\n                    "+e._s(e.$t("ui.general.back"))+" "+e._s(e.$t("ui.page_titles."+e.back_two_page[1].name))+"\n                ")]):i("router-link",{staticClass:"ui big button",attrs:{to:{name:"provider_index"}}},[e._v("\n                    "+e._s(e.$t("ui.general.back"))+"\n                    "+e._s(e.$t("ui.page_titles.index"))+"\n                ")])],1):e._e()])])])},nv=[],av={props:{},data:function(){return{is_loading:!1}},mounted:function(){var e=this;1==this.$store.state.back_two_page.length&&e.$router.push("/provider/")},watch:{$route:function(e,t){}},computed:{back_two_page:function(){return this.$store.state.back_two_page}},methods:{},components:{}},rv=av,sv=(n("708c"),Object(lt["a"])(rv,iv,nv,!1,null,"61a431c4",null)),ov=sv.exports,cv=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"main"}},[i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1)],1)},_v=[],lv={props:{is_layout_data_fetched:Boolean},data:function(){return{is_loading:!1}},created:function(){var e=this;e.set_breadcrumbs(),e.init()},mounted:function(){},watch:{is_layout_data_fetched:function(e){var t=this;e&&t.init()}},methods:{init:function(){},set_breadcrumbs:function(){var e=this,t={route_name:"settings",name:"設定區"};switch(e.$route.name){case"settings":e.$store.state.breadcrumbs=[t];break;default:}}}},uv=lv,dv=Object(lt["a"])(uv,cv,_v,!1,null,null,null),pv=dv.exports,mv=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"uploader_layout"}},[e.is_initialized?i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1):i("div",[i("div",{staticClass:"ui inverted dimmer transition visible active",staticStyle:{display:"block !important"}},[i("div",{staticClass:"ui text loader"},[e._v(e._s(e.$t("ui.general.initializing")))])])])],1)},fv=[];function vv(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function hv(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){vv(r,n,a,s,o,"next",e)}function o(e){vv(r,n,a,s,o,"throw",e)}s(void 0)})}}var gv={name:"UploaderLayout",data:function(){return{is_initialized:!1}},computed:{},created:function(){this.init()},mounted:function(){},methods:{init:function(){var e=hv(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,console.log(t.$store),e.next=4,t.$store.dispatch("provider/uploader_module/set_urls");case 4:return e.next=6,new Promise(function(e){t.is_initialized=!0,e()});case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{}},bv=gv,yv=Object(lt["a"])(bv,mv,fv,!1,null,null,null),wv=yv.exports,$v=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"assets_layout"}},[i("ErrorBox",{tag:"div",attrs:{errors:e.errors}}),i("div",{staticClass:"ui grid"},[i("div",{staticClass:"four wide column"},[i("div",{staticClass:"ui basic icon buttons"},[i("router-link",{directives:[{name:"popup",rawName:"v-popup"}],staticClass:"ui button",attrs:{to:{name:"new_asset"},"data-tooltip":e.$t("ui.page_titles.new_asset")}},[i("i",{staticClass:"plus icon"})])],1),i("div",{staticClass:"ui divider"}),e.is_initialized?i("div",{staticClass:"ui secondary fluid vertical pointing text menu"},[i("div",{staticClass:"item"},[i("h4",{staticClass:"ui grey header"},[e._v("\n                        "+e._s(e.$t("models.attributes.assets.category"))+"\n                    ")])]),e._l(e.categories,function(e){return i("LayoutMenuItem",{tag:"a",attrs:{category:e}})}),e.categories.length<1?i("div",{staticClass:"item"},[e._v("\n                    "+e._s(e.$t("ui.pages.assets.helps.no_anything_category"))+"\n                ")]):e._e()],2):e._e()]),i("div",{staticClass:"twelve wide column"},[e.is_initialized?i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1):i("div",[i("div",{staticClass:"ui inverted dimmer transition visible active",staticStyle:{display:"block !important"}},[i("div",{staticClass:"ui text loader"},[e._v("\n                        "+e._s(e.$t("ui.general.initializing"))+"\n                    ")])])])],1)])])},kv=[],Cv=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"item"}},[i("router-link",{staticClass:"item",class:{active:e.is_activated},attrs:{to:{name:"assets_index",params:{category:e.category}}},nativeOn:{click:function(t){return e.set_current_category(t)}}},[e._v("\n        "+e._s(e.category)+"\n    ")])],1)},xv=[],Pv={props:{category:String},data:function(){return{}},mounted:function(){},computed:{is_activated:function(){return this.category==this.$store.state.provider.assets_module.current_category}},methods:{set_current_category:function(){this.$store.state.provider.assets_module.current_category=this.category}},components:{}},Sv=Pv,Nv=Object(lt["a"])(Sv,Cv,xv,!1,null,"6439d842",null),Av=Nv.exports,Ev=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"errors"},[e.errors.length>0?i("div",{staticClass:"ui red icon message"},[i("i",{staticClass:"warning icon"}),i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                "+e._s(e.$t("ui.notifications.error.please_handle_errors"))+"\n            ")]),e._l(e.errors,function(t,n){return i("p",[e._v(e._s(n+1)+". "+e._s(t))])})],2)]):e._e()])},qv=[],zv={props:{errors:Array},data:function(){return{}},mounted:function(){},computed:{},methods:{},components:{}},jv=zv,Rv=Object(lt["a"])(jv,Ev,qv,!1,null,"7054b875",null),Iv=Rv.exports;function Tv(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function Ov(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){Tv(r,n,a,s,o,"next",e)}function o(e){Tv(r,n,a,s,o,"throw",e)}s(void 0)})}}var Lv={name:"AssetsLayout",data:function(){return{is_initialized:!1,errors:[]}},computed:{categories:function(){return this.$store.state.provider.assets_module.categories}},created:function(){},mounted:function(){var e=this;e.init(),e.$bus.$off("init"),e.$bus.$on("init",function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.init()}.bind(this))},beforeDestroy:function(){this.$bus.$off("init")},watch:{},methods:{init:function(){var e=Ov(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,t.fetch_categories();case 3:return e.next=5,new Promise(function(e){t.$noty.information(t.$t("ui.page_titles.assets")+" "+t.$t("ui.general.initialize_complete")),t.is_initialized=!0,e()});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_categories:function(){var e=this,t=e.$store.state.provider.routes.api_v1_provider_assets;return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){return e.$store.state.provider.assets_module.categories=t.data.categories,t})["catch"](function(t){return e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("ui.pages.assets.categories"),reason:": "+t})),Promise.reject(t)})}},components:{LayoutMenuItem:Av,ErrorBox:Iv}},Dv=Lv,Bv=Object(lt["a"])(Dv,$v,kv,!1,null,null,null),Mv=Bv.exports,Uv=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"status_prototypes_layout"}},[e.is_initialized?i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1):i("div",{staticClass:"ui active centered inline large loader"}),i("BackToTopButton",{tag:"div"})],1)},Fv=[];function Gv(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function Hv(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){Gv(r,n,a,s,o,"next",e)}function o(e){Gv(r,n,a,s,o,"throw",e)}s(void 0)})}}var Yv={name:"StatusPrototypesLayout",data:function(){return{is_initialized:!1,errors:[]}},computed:{},created:function(){this.init()},mounted:function(){},watch:{},methods:{init:function(){var e=Hv(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,new Promise(function(e){t.is_initialized=!0,e()});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{BackToTopButton:Ll}},Kv=Yv,Wv=Object(lt["a"])(Kv,Uv,Fv,!1,null,null,null),Vv=Wv.exports,Xv=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"materials_layout"}},[e.is_initialized?i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1):i("div",{staticClass:"ui active centered inline large loader"})],1)},Qv=[];function Zv(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function Jv(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){Zv(r,n,a,s,o,"next",e)}function o(e){Zv(r,n,a,s,o,"throw",e)}s(void 0)})}}var eh={name:"MaterialsLayout",data:function(){return{is_initialized:!1,errors:[]}},computed:{},watch:{},created:function(){},mounted:function(){var e=this;e.init(),e.$bus.$off("init"),e.$bus.$on("init",function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.init()}.bind(this))},beforeDestroy:function(){this.$bus.$off("init")},methods:{init:function(){var e=Jv(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,new Promise(function(e){t.$noty.information(t.$t("ui.page_titles.materials")+" "+t.$t("ui.general.initialize_complete"),300),t.is_initialized=!0,e()});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{}},th=eh,ih=Object(lt["a"])(th,Xv,Qv,!1,null,null,null),nh=ih.exports,ah=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"layout"}},[i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view",{attrs:{data_fetched:e.data_fetched}})],1),i("BackToTopButton",{tag:"div"})],1)},rh=[];function sh(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function oh(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){sh(r,n,a,s,o,"next",e)}function o(e){sh(r,n,a,s,o,"throw",e)}s(void 0)})}}var ch={name:"PermissionGroupsLayout",props:{is_layout_data_fetched:Boolean},data:function(){return{errors:[],data_fetched:!1}},computed:{},created:function(){},mounted:function(){var e=this;e.init(),e.$bus.$off("init"),e.$bus.$on("init",function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.init()}.bind(this)),e.$bus.$off("index_page"),e.$bus.$on("index_page",function(t){e.$store.state.provider.permission_groups_module.current_page=t,e.get_permission_groups(t)}.bind(this))},beforeDestroy:function(){this.$bus.$off("init")},watch:{is_layout_data_fetched:function(e){var t=this;e&&t.init()}},methods:{refresh:function(){location.reload()},init:function(){var e=oh(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,new Promise(function(e){t.is_initialized=!1,e()});case 4:return e.next=6,t.get_permissions();case 6:return e.next=8,t.get_permission_groups();case 8:return e.next=10,new Promise(function(e){t.is_initialized=!0,t.$noty.information(t.$t("ui.page_titles.permission_groups")+" "+t.$t("ui.general.initialize_complete"),300),e()});case 10:e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](1),console.log(e.t0);case 15:case"end":return e.stop()}},e,this,[[1,12]])}));function t(){return e.apply(this,arguments)}return t}(),get_permissions:function(){var e=this,t=e.$store.state.provider.routes.api_v1_provider_permissions;e.is_initializing=!0,axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"==t.data.status){var i=_.remove(t.data.permissions,function(e){return"api_v1_provider_me"!=e.name&&"api_v1_provider_routes"!=e.name});e.$store.state.provider.permission_groups_module.permissions=i}else e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.permissionss")}));e.is_initializing=!1})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.permissionss"),reason:": "+t})),e.is_initializing=!1})},get_permission_groups:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this,i=t.$store.state.provider.routes.api_v1_provider_permission_groups+"?page=";i=e?i+e:i+t.$store.state.provider.permission_groups_module.current_page,t.search&&(i=i+"&search="+t.search),t.is_initializing=!0,axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){if("success"==e.data.status){var i=t.$store.state.provider.permission_groups_module;i.permission_groups=e.data.permission_groups,i.current_page=e.data.pagination.current_page,i.total_pages=e.data.pagination.total_pages,t.data_fetched=!0}else t.$noty.error(t.$t("ui.notifications.error.fetch__name",{name:t.$t("models.permission_groups")}));t.is_initializing=!1})["catch"](function(e){t.$noty.error(t.$t("ui.notifications.error.fetch__name",{name:t.$t("models.permission_groups"),reason:": "+e})),t.is_initializing=!1})}},components:{BackToTopButton:Ll}},_h=ch,lh=(n("7a74"),Object(lt["a"])(_h,ah,rh,!1,null,null,null)),uh=lh.exports,dh=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"operations_layout"}},[e.is_initialized?i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1):i("div",{staticClass:"ui active centered inline large loader"})],1)},ph=[];function mh(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function fh(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){mh(r,n,a,s,o,"next",e)}function o(e){mh(r,n,a,s,o,"throw",e)}s(void 0)})}}var vh={name:"CoreWaybillsLayout",data:function(){return{is_initialized:!1,errors:[]}},created:function(){this.init()},mounted:function(){},watch:{},computed:{},methods:{init:function(){var e=fh(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,new Promise(function(e){t.is_initialized=!0,e()});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{}},hh=vh,gh=Object(lt["a"])(hh,dh,ph,!1,null,null,null),bh=gh.exports,yh=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"packer"}},[i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1)],1)},wh=[],$h={props:{},data:function(){return{}},created:function(){},mounted:function(){},watch:{},methods:{},components:{},computed:{}},kh=$h,Ch=Object(lt["a"])(kh,yh,wh,!1,null,"536574f5",null),xh=Ch.exports,Ph=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.is_initialized?i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1):e._e(),i("div",{staticClass:"ui inverted dimmer transition",class:{active:!e.is_initialized}},[i("div",{staticClass:"ui text loader"},[e._v("\n            "+e._s(e.$t("ui.general.initializing"))+"\n        ")])])],1)},Sh=[];function Nh(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function Ah(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){Nh(r,n,a,s,o,"next",e)}function o(e){Nh(r,n,a,s,o,"throw",e)}s(void 0)})}}var Eh={name:"OperationsLayout",data:function(){return{is_initialized:!1,errors:[]}},computed:{},watch:{},created:function(){},mounted:function(){var e=this;e.init(),e.$bus.$off("init"),e.$bus.$on("init",function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.init()}.bind(this))},beforeDestroy:function(){this.$bus.$off("init")},methods:{init:function(){var e=Ah(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,t.$store.dispatch("provider/operations_module/fetch_staffs");case 5:return e.next=7,new Promise(function(e){t.is_initialized=!0,t.$noty.information(t.$t("ui.page_titles.provider_operations")+" "+t.$t("ui.general.initialize_complete"),300),e()});case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{}},qh=Eh,zh=Object(lt["a"])(qh,Ph,Sh,!1,null,null,null),jh=zh.exports,Rh=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"appraisals_layout"}},[i("ErrorBox",{tag:"div",attrs:{errors:e.errors}}),e.is_initialized?i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1):i("div",{staticClass:"ui active centered inline large loader"})],1)},Ih=[],Th=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"errors"},[e.errors.length>0?i("div",{staticClass:"ui red icon message"},[i("i",{staticClass:"warning icon"}),i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                "+e._s(e.$t("ui.notifications.error.please_handle_errors"))+"\n            ")]),e._l(e.errors,function(t,n){return i("p",[e._v(e._s(n+1)+". "+e._s(t))])})],2)]):e._e()])},Oh=[],Lh={props:{errors:Array},data:function(){return{}},mounted:function(){},computed:{},methods:{},components:{}},Dh=Lh,Bh=Object(lt["a"])(Dh,Th,Oh,!1,null,"362812e0",null),Mh=Bh.exports;function Uh(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function Fh(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){Uh(r,n,a,s,o,"next",e)}function o(e){Uh(r,n,a,s,o,"throw",e)}s(void 0)})}}var Gh={data:function(){return{is_initialized:!1,errors:[]}},computed:{},watch:{},created:function(){this.init()},mounted:function(){},methods:{init:function(){var e=Fh(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,new Promise(function(e){t.$noty.information(t.$t("ui.page_titles.appraisals")+" "+t.$t("ui.general.initialize_complete"),300),t.is_initialized=!0,e()});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{ErrorBox:Mh}},Hh=Gh,Yh=Object(lt["a"])(Hh,Rh,Ih,!1,null,null,null),Kh=Yh.exports,Wh=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"user_logs_layout"}},[e.is_initialized?i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1):i("div",{staticClass:"ui active centered inline large loader"})],1)},Vh=[];function Xh(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function Qh(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){Xh(r,n,a,s,o,"next",e)}function o(e){Xh(r,n,a,s,o,"throw",e)}s(void 0)})}}var Zh={name:"UserLogsLayout",data:function(){return{is_initialized:!1,errors:[]}},computed:{},created:function(){this.init()},mounted:function(){},watch:{},methods:{init:function(){var e=Qh(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,new Promise(function(e){t.is_initialized=!0,e()});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{}},Jh=Zh,eg=Object(lt["a"])(Jh,Wh,Vh,!1,null,null,null),tg=eg.exports,ig=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"driver_commission_policies_layout"}},[i("ErrorBox",{tag:"div",attrs:{errors:e.errors}}),e.is_initialized?i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1):i("div",{staticClass:"ui active centered inline large loader"})],1)},ng=[],ag=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"errors"},[e.errors.length>0?i("div",{staticClass:"ui red icon message"},[i("i",{staticClass:"warning icon"}),i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                "+e._s(e.$t("ui.notifications.error.please_handle_errors"))+"\n            ")]),e._l(e.errors,function(t,n){return i("p",[e._v(e._s(n+1)+". "+e._s(t))])})],2)]):e._e()])},rg=[],sg={name:"ErrorBox",props:{errors:Array},data:function(){return{}},mounted:function(){},computed:{},methods:{},components:{}},og=sg,cg=Object(lt["a"])(og,ag,rg,!1,null,"4e5af3fe",null),_g=cg.exports;function lg(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function ug(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){lg(r,n,a,s,o,"next",e)}function o(e){lg(r,n,a,s,o,"throw",e)}s(void 0)})}}var dg={name:"DriverCommissionPoliciesLayout",data:function(){return{is_initialized:!1,errors:[]}},computed:{},watch:{},created:function(){var e=this;e.init()},mounted:function(){},methods:{init:function(){var e=ug(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return t.$noty.information(t.$t("ui.page_titles.driver_commission_policies")+" "+t.$t("ui.general.initialize_complete"),300),e.next=6,new Promise(function(e){t.is_initialized=!0,e()});case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{ErrorBox:_g}},pg=dg,mg=Object(lt["a"])(pg,ig,ng,!1,null,null,null),fg=mg.exports,vg=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"driver_commission_reports_layout"}},[i("ErrorBox",{tag:"div",attrs:{errors:e.errors}}),e.is_initialized?i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1):i("div",{staticClass:"ui active centered inline large loader"})],1)},hg=[],gg=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"errors"},[e.errors.length>0?i("div",{staticClass:"ui red icon message"},[i("i",{staticClass:"warning icon"}),i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                "+e._s(e.$t("ui.notifications.error.please_handle_errors"))+"\n            ")]),e._l(e.errors,function(t,n){return i("p",[e._v(e._s(n+1)+". "+e._s(t))])})],2)]):e._e()])},bg=[],yg={name:"ErrorBox",props:{errors:Array},data:function(){return{}},mounted:function(){},computed:{},methods:{},components:{}},wg=yg,$g=Object(lt["a"])(wg,gg,bg,!1,null,"c88bc788",null),kg=$g.exports;function Cg(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function xg(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){Cg(r,n,a,s,o,"next",e)}function o(e){Cg(r,n,a,s,o,"throw",e)}s(void 0)})}}var Pg={name:"DriverCommissionReportsLayout",data:function(){return{is_initialized:!1,errors:[]}},computed:{},watch:{},created:function(){var e=this;e.init()},mounted:function(){},methods:{init:function(){var e=xg(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return t.$noty.information(t.$t("ui.page_titles.driver_commission_reports")+" "+t.$t("ui.general.initialize_complete"),300),e.next=6,new Promise(function(e){t.is_initialized=!0,e()});case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{ErrorBox:kg}},Sg=Pg,Ng=Object(lt["a"])(Sg,vg,hg,!1,null,null,null),Ag=Ng.exports,Eg=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"scan_action_prototypes_layout"}},[e.is_initialized?i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1):i("div",{staticClass:"ui active centered inline large loader"}),i("BackToTopButton",{tag:"div"})],1)},qg=[];function zg(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function jg(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){zg(r,n,a,s,o,"next",e)}function o(e){zg(r,n,a,s,o,"throw",e)}s(void 0)})}}var Rg={name:"ScanActionPrototypesLayout",data:function(){return{is_initialized:!1,errors:[]}},computed:{},created:function(){this.init()},mounted:function(){},watch:{},methods:{init:function(){var e=jg(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,new Promise(function(e){t.is_initialized=!0,e()});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{BackToTopButton:Ll}},Ig=Rg,Tg=Object(lt["a"])(Ig,Eg,qg,!1,null,null,null),Og=Tg.exports,Lg=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("ErrorBox",{tag:"div",attrs:{errors:e.errors}}),e.is_initialized?i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1):i("div",{staticClass:"ui active centered inline large loader"})],1)},Dg=[],Bg=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"errors"},[e.errors.length>0?i("div",{staticClass:"ui red icon message"},[i("i",{staticClass:"warning icon"}),i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                "+e._s(e.$t("ui.notifications.error.please_handle_errors"))+"\n            ")]),e._l(e.errors,function(t,n){return i("p",[e._v(e._s(n+1)+". "+e._s(t))])})],2)]):e._e()])},Mg=[],Ug={name:"ErrorBox",props:{errors:Array},data:function(){return{}},mounted:function(){},computed:{},methods:{},components:{}},Fg=Ug,Gg=Object(lt["a"])(Fg,Bg,Mg,!1,null,"4c4d164e",null),Hg=Gg.exports;function Yg(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function Kg(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){Yg(r,n,a,s,o,"next",e)}function o(e){Yg(r,n,a,s,o,"throw",e)}s(void 0)})}}var Wg={name:"ProviderNodeLayout",data:function(){return{is_initialized:!1,errors:[]}},computed:{},watch:{},created:function(){this.init()},mounted:function(){},methods:{init:function(){var e=Kg(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,t.$noty.information(t.$t("ui.page_titles.provider_node")+" "+t.$t("ui.general.initialize_complete"),300);case 5:return e.next=7,new Promise(function(e){t.is_initialized=!0,e()});case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{ErrorBox:Hg}},Vg=Wg,Xg=Object(lt["a"])(Vg,Lg,Dg,!1,null,null,null),Qg=Xg.exports,Zg=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Jg=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"index"}},[i("div",{staticClass:"ui container"},[i("div",{staticClass:"ui stackable grid container"},[i("div",{staticClass:"seven wide column"},[e._v("\n                暫時無任何設定\n            ")])])])])}],eb={components:{}},tb=eb,ib=Object(lt["a"])(tb,Zg,Jg,!1,null,null,null),nb=ib.exports,ab=[{path:"",component:nb,name:"settings"}],rb=ab,sb=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"uploader"}},[i("Steps",{tag:"div",attrs:{current_step:e.current_step,checked_count:e.checked_operation_count,uploaded_count:e.uploaded_operation_count,data_count:e.operations_count,is_processing:e.is_processing}}),i("div",{staticClass:"ui divider"}),e.is_processing?i("div",{staticClass:"ui indicating complete progress",attrs:{id:"index-progress-bar"}},[e._m(0)]):e._e(),i("ErrorBox",{attrs:{errors:e.errors}}),e.is_initialized?i("div",{staticClass:"basic_options"},[i("div",{staticClass:"ui top attached mini segment",class:{green:e.basic_options_setted,orange:!e.basic_options_setted}},[i("h3",{staticClass:"ui header"},[i("i",{staticClass:"upload icon"}),i("div",{staticClass:"content"},[e._v("\n                    "+e._s(e.$t("ui.pages.uploader.upload_operation_list"))+"\n                ")])])]),i("div",{staticClass:"ui bottom attached segment"},[i("div",{staticClass:"ui grid"},[i("div",{staticClass:"eight wide column"},[i("div",{staticClass:"ui segments"},[i("div",{staticClass:"ui segment"},[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.file.name"))+"：\n                            "),i("span",[e._v(e._s(e.file_name||"N/A"))])]),i("div",{staticClass:"ui segment"},[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.file.size"))+"：\n                            "),i("span",[e._v(e._s(e.file_size_in_bytes)+" Bytes / 1024000 Bytes")])]),i("div",{staticClass:"ui segment"},[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.file.path"))+"：\n                            "),e.is_file_uploaded?i("span",[i("a",{attrs:{href:e.file_s3_path}},[e._v(e._s(e.file_name))])]):i("span",[e._v("N/A")])]),i("div",{staticClass:"ui segment"},[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.file.upload"))+"：\n                            "),e.is_file_uploaded?i("span",[i("i",{staticClass:"check icon"}),e._v("\n                                "+e._s(e.$t("ui.pages.uploader.file.complete"))+"\n                            ")]):i("span",[i("i",{staticClass:"warning icon"}),e._v("\n                                "+e._s(e.$t("ui.pages.uploader.file.not_uploaded"))+"\n                            ")])])])]),e.basic_options_setted?i("div",{staticClass:"eight wide column ui form"},[i("div",{staticClass:"field"},[i("label",[e._v("\n                            "+e._s(e.$t("ui.general.please_select"))+"\n                            "),e._v("\n                            "+e._s(e.$t("ui.pages.uploader.operation_list"))+"\n                        ")]),i("span",[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.selected"))+"\n                            【"+e._s(e.file_name)+"】\n                        ")])]),i("div",{staticClass:"field"},[i("label",[e._v("\n                            "+e._s(e.$t("ui.general.please_select"))+"\n                            "+e._s(e.$t("models.attributes.core_waybills.sender"))+"\n                        ")]),i("span",[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.selected"))+"\n                            "+e._s(e.requester_node.company_name)+"\n                        ")])]),i("div",{staticClass:"field"},[i("label",[e._v("\n                            "+e._s(e.$t("ui.general.please_select"))+"\n                            "),e._v("\n                            "+e._s(e.$t("ui.pages.uploader.contract"))+"\n                        ")]),i("span",[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.selected"))+"\n                            "+e._s(e.requester_contract.name)+"\n                        ")])]),i("div",{staticClass:"field"},[i("label",[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.your_actions"))+"\n                        ")]),i("span",[e._v(e._s(e.current_converter.name))])])]):e._e()]),i("div",{staticClass:"ui divider"}),e.basic_options_setted?i("div",[(e.is_processing||!e.can_next_step)&&e.current_step<4?i("a",{staticClass:"ui large fluid primary button disabled"},[e._v("\n                    "+e._s(e.$t("ui.general.initializing"))+"\n                ")]):e.current_step<4?i("a",{staticClass:"ui large fluid primary button",on:{click:function(t){e.steps_callback_center(e.current_step)}}},[e._v("\n                    "+e._s(e.$t("ui.general.submit"))+"\n                ")]):e._e()]):e._e(),i("div",{staticClass:"clear"})])]):i("div",[i("div",{staticClass:"ui inverted dimmer transition visible active",staticStyle:{display:"block !important"}},[i("div",{staticClass:"ui text loader"},[e._v(e._s(e.$t("ui.general.initializing")))])])]),i("div",{staticClass:"ui divider"}),e.current_step>=4?i("div",[i("div",{staticClass:"ui icon positive message"},[i("i",{staticClass:"check icon"}),i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                    "+e._s(e.$t("ui.pages.uploader.upload_detail_completed"))+"\n                ")]),i("p",[i("button",{staticClass:"ui primary button",on:{click:e.init}},[e._v("\n                        "+e._s(e.$t("ui.pages.uploader.continue_next_file"))+"\n                    ")])])])])]):e._e(),i("div",{staticClass:"operations_dashboard"},e._l(e.receivers,function(e,t){return i("Operation",{tag:"div",attrs:{receiver:e,index:t}})})),e.is_initialized?i("div",{ref:"operation_target_selector",staticClass:"ui dimmer"},[i("div",{ref:"converters",staticClass:"content"},[i("h1",[e._v("\n                "+e._s(e.$t("ui.pages.uploader.dimmer.what_do_you_want_now"))+"...\n            ")]),i("div",{staticClass:"ui link cards"},e._l(e.converters,function(t){return i("div",{staticClass:"card"},[i("div",{staticClass:"content",on:{click:function(i){e.$store.commit(e.current_scope+"/uploader_module/set_current_converter",t),e.$(e.$refs.converters).hide(),e.$(e.$refs.file_selector).show()}}},[i("div",{staticClass:"header"},[e._v("\n                            "+e._s(t.name)+"\n                        ")]),i("div",{staticClass:"description"},[e._v("\n                            "+e._s(t.note)+"\n                        ")])]),t.sample_file_url?i("div",{staticClass:"extra content"},[i("a",{staticClass:"right floated star",attrs:{href:t.sample_file_url}},[e._m(1,!0),i("span",[e._v("\n                                "+e._s(e.$t("ui.pages.uploader.dimmer.download_sample_file"))+"\n                            ")])])]):e._e()])}))]),i("div",{ref:"file_selector",staticClass:"content",staticStyle:{display:"none"}},[i("h1",[e._v("\n                "+e._s(e.$t("ui.pages.uploader.dimmer.please_upload_your_file"))+"...\n            ")]),i("div",{staticClass:"ui link cards"},[i("div",{staticClass:"card"},[i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.dimmer.select_file"))+"\n                        ")]),i("div",{staticClass:"description"},[i("input",{ref:"file_input_field",attrs:{type:"file"},on:{change:function(t){e.select_file(t)}}})])])]),i("div",{staticClass:"card",on:{click:e.init}},[i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.redo"))+"\n                        ")]),i("div",{staticClass:"description"},[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.dimmer.clicked_this_card_redo"))+"\n                        ")])])])])]),i("div",{ref:"requester_selector",staticClass:"content",staticStyle:{display:"none"}},[i("h1",[e._v("\n                "+e._s(e.$t("ui.general.please_select"))+"\n                "+e._s(e.$t("models.attributes.core_waybills.sender"))+"...\n            ")]),i("div",{staticClass:"ui link cards"},[i("div",{staticClass:"card"},[i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection dropdown"},[i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"default text"},[e._v("\n                                    "+e._s(e.$t("ui.general.please_select"))+"\n                                    "+e._s(e.$t("models.attributes.core_waybills.sender"))+"\n                                ")]),i("div",{staticClass:"menu"},e._l(e.customers,function(t){return i("div",{staticClass:"item",on:{click:function(i){e.$store.commit(e.current_scope+"/uploader_module/set_requester_node",t),1==t.contracts.length&&(e.$store.commit(e.current_scope+"/uploader_module/set_requester_contract",t.contracts[0]),e.$(e.$refs.requester_selector).hide(),e.$(e.$refs.loader).show(),e.steps_callback_center(1))}}},[e._v("\n                                            "+e._s(t.company_name)+"\n                                    ")])}))])]),e.current_scoped_store.uploader_module.requester_node?i("div",{staticClass:"description"},[i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection dropdown"},[i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"default text"},[e._v("\n                                    "+e._s(e.$t("ui.general.please_select"))+"\n                                    "+e._s(e.$t("ui.pages.uploader.contract"))+"\n                                ")]),i("div",{staticClass:"menu"},e._l(e.current_scoped_store.uploader_module.requester_node.contracts,function(t){return i("div",{staticClass:"item",on:{click:function(i){e.$store.commit(e.current_scope+"/uploader_module/set_requester_contract",t),e.$(e.$refs.requester_selector).hide(),e.$(e.$refs.loader).show(),e.steps_callback_center(1)}}},[e._v("\n                                            "+e._s(t.name)+"\n                                    ")])}))])]):e._e()])]),i("div",{staticClass:"card",on:{click:e.init}},[i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.redo"))+"\n                        ")]),i("div",{staticClass:"description"},[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.dimmer.clicked_this_card_redo"))+"\n                        ")])])])])]),i("div",{ref:"loader",staticClass:"content",staticStyle:{display:"none"}},[i("div",{staticClass:"ui text loader"},[e._v("Loading")])])]):e._e(),i("BackToTopButton",{tag:"div"})],1)},ob=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"bar"},[i("div",{staticClass:"progress"})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui circular icon button"},[i("i",{staticClass:"download icon"})])}],cb=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"steps"}},[i("div",{staticClass:"ui fluid steps margin_center"},[i("div",{staticClass:"step",class:{active:1==e.current_step,disabled:e.current_step<1}},[i("div",{staticClass:"ui top left attached label button",on:{click:function(t){e.$parent.init()}}},[i("i",{staticClass:"refresh icon"}),e._v("\n                "+e._s(e.$t("ui.pages.uploader.redo"))+"\n            ")]),1==e.is_processing&&1==e.current_step?i("i",{staticClass:"notched circle loading icon"}):i("i",{staticClass:"attached pointing right icon"}),i("div",{staticClass:"content"},[i("div",{staticClass:"title"},[e._v("\n                    "+e._s(e.$t("ui.pages.uploader.steps.title.operation"))+"\n                ")]),i("div",{staticClass:"description"},[e._v("\n                    "+e._s(e.$t("ui.pages.uploader.steps.description.operation_content"))+"\n                ")])])]),i("div",{staticClass:"step",class:{active:2==e.current_step,disabled:e.current_step<2}},[1==e.is_processing&&2==e.current_step?i("i",{staticClass:"notched circle loading icon"}):i("i",{staticClass:"browser icon"}),i("div",{staticClass:"content"},[i("div",{staticClass:"title"},[e._v("\n                    "+e._s(e.$t("ui.pages.uploader.steps.title.confirm_data"))+"\n                    ("+e._s(e.checked_count)+"/"+e._s(e.data_count)+")\n                ")]),i("div",{staticClass:"description"},[e._v("\n                    "+e._s(e.$t("ui.pages.uploader.steps.description.confirm_data_is_correct"))+"\n                ")])])]),i("div",{staticClass:"step",class:{active:3==e.current_step,disabled:e.current_step<3}},[1==e.is_processing&&3==e.current_step?i("i",{staticClass:"notched circle loading icon"}):i("i",{staticClass:"cloud upload icon"}),i("div",{staticClass:"content"},[i("div",{staticClass:"title"},[e._v("\n                    "+e._s(e.$t("ui.pages.uploader.steps.title.upload_data"))+"\n                    ("+e._s(e.uploaded_count)+"/"+e._s(e.data_count)+")\n                ")]),i("div",{staticClass:"description"},[e._v("\n                    "+e._s(e.$t("ui.pages.uploader.steps.description.upload_data_to_server"))+"\n                ")])])])])])},_b=[],lb={name:"UploaderSteps",props:{current_step:Number,checked_count:Number,uploaded_count:Number,data_count:Number,is_processing:Boolean},data:function(){return{}},mounted:function(){},methods:{}},ub=lb,db=Object(lt["a"])(ub,cb,_b,!1,null,"830fb672",null),pb=db.exports,mb=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui container contents"},[e.errors.length>0?i("div",{staticClass:"ui red icon message"},[i("i",{staticClass:"warning icon"}),i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                    "+e._s(e.$t("ui.notifications.error.please_handle_errors"))+"\n                ")]),e._l(e.errors,function(t,n){return i("p",[e._v(e._s(n+1)+". "+e._s(t))])})],2)]):e._e(),e.is_initializing?i("div",{staticClass:"ui segment"},[i("div",{staticClass:"ui active inverted dimmer"},[i("div",{staticClass:"ui text loader"},[e._v("\n                    "+e._s(e.$t("ui.general.initializing"))+"\n                ")])])]):i("div",{staticClass:"dashboard"},[i("div",{staticClass:"ui top attached mini segment",class:{green:!e.is_processing&&null!=e.receiver_index,orange:!e.is_processing&&null==e.receiver_index}},[e.is_processing?i("div",{staticClass:"ui top attached green progress",attrs:{id:e.receiver+"-progress-bar"}},[i("div",{staticClass:"bar"})]):e._e(),i("h3",{staticClass:"ui header"},[e.is_processing?i("i",{staticClass:"notched circle loading icon"}):e.is_done?i("i",{staticClass:"check icon"}):i("i",{staticClass:"edit icon"}),i("div",{staticClass:"content"},[e.operation.identity?i("span",["provider"==e.current_scope?i("router-link",{attrs:{to:{name:"edit_provider_operation",params:{identity:e.operation.identity}},target:"_blank"}},[e._v("\n                                "+e._s(e.receiver)+" "+e._s(e.$t("models.operations"))+" "+e._s(e.operation.identity)+"\n                            ")]):e._e(),"customer"==e.current_scope?i("router-link",{attrs:{to:{name:"show_customer_operation",params:{identity:e.operation.identity}},target:"_blank"}},[e._v("\n                                "+e._s(e.receiver)+" "+e._s(e.$t("models.operations"))+" "+e._s(e.operation.identity)+"\n                            ")]):e._e()],1):i("span",[e._v("\n                            "+e._s(e.receiver)+" "+e._s(e.$t("models.operations"))+" "+e._s(e.operation.identity)+"\n                        ")])])])]),i("div",{staticClass:"ui attached mini segment"},[i("table",{staticClass:"ui very basic table"},[i("tr",[i("td",{staticClass:"center aligned"},[i("div",{staticClass:"ui gray label"},[i("span",[e._v(e._s(e.requester_node.company_name))])])]),e._m(0),i("td",{staticClass:"center aligned"},[i("h4",{staticClass:"operation_identity"},[i("div",{directives:[{name:"popup",rawName:"v-popup"}],staticClass:"ui orange label"},[e._v("\n                                    "+e._s(e.operator_node.company_name)+"\n                                ")])])]),e._m(1),i("td",{staticClass:"center aligned"},[i("div",{staticClass:"ui gray label",attrs:{title:e.receiver_index}},[i("span",[e._v("\n                                    "+e._s(e.$t("ui.pages.uploader.delivery"))+"\n                                ")])])])])])]),i("div",{staticClass:"ui attached segment form"},[i("div",{staticClass:"field",class:{disabled:e.$parent.is_processing}},[i("label",[e._v("\n                        "+e._s(e.$t("models.operations"))+"\n                        "+e._s(e.$t("ui.general.note"))+"\n                    ")]),e.is_operation_created||e.is_processing?i("span",[e._v(e._s(e.operation.operator_note||"-"))]):i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.operation.operator_note,expression:"operation.operator_note"}],attrs:{rows:"4",placeholder:e.$t("models.operations")+" "+e.$t("ui.general.note")},domProps:{value:e.operation.operator_note},on:{input:function(t){t.target.composing||e.$set(e.operation,"operator_note",t.target.value)}}})])]),i("div",{staticClass:"ui bottom attached segment"},[i("div",{directives:[{name:"accordion",rawName:"v-accordion"}],staticClass:"ui accordion",attrs:{id:e.receiver_index+"-waybills-accordion"}},[i("div",{staticClass:"active title"},[i("i",{staticClass:"dropdown icon"}),e._v("\n                        "+e._s(e.$t("ui.general.detail"))+"\n                    ")]),i("div",{staticClass:"active content",staticStyle:{"overflow-x":"scroll"}},[i("Waybills",{tag:"div",attrs:{operation_identity:e.operation.identity,group:e.receiver}})])])])])])])},fb=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{staticClass:"center aligned"},[i("i",{staticClass:"ui icon chevron right"})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{staticClass:"center aligned"},[i("i",{staticClass:"ui icon chevron right"})])}],vb=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("table",{staticClass:"ui celled selectable single line table cell_input_table"},[i("thead",[i("tr",[e._l(e.conversions,function(t){return i("th",{staticStyle:{"white-space":"nowrap"}},[e._v("\n                "+e._s(t.header_text)+"\n            ")])}),i("th",{staticStyle:{"white-space":"nowrap"}},[e._v("\n                "+e._s(e.$t("ui.pages.uploader.total__number",{number:e.waybill_raw_datas.length}))+"\n            ")])],2)]),i("tbody",e._l(e.waybill_raw_datas,function(t,n){return i("Waybill",{key:t.number,tag:"tr",attrs:{conversions:e.conversions,waybill_raw_data:t,"data-total-row":e.waybill_raw_datas.length,"data-total-column":e.conversions.length,"data-row":n+1,group:e.group}})})),i("tfoot",[i("tr",[i("th",{attrs:{colspan:e.conversions.length,align:"right"}},[e._v("\n                "+e._s(e.$t("ui.pages.uploader.total"))+"\n            ")]),i("th",[e._v("\n                "+e._s(e.$t("ui.pages.uploader.total__number",{number:e.waybill_raw_datas.length}))+"\n            ")])])])])},hb=[],gb=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{class:{negative:e.is_failed,positive:e.is_checked}},[e._l(e.conversions,function(t,n){return i("td",{class:{error:!e.column_verification(t)}.validated,attrs:{"data-column":n+1}},[i("span",{domProps:{innerHTML:e._s(e.column_verification(t).content)}})])}),i("td",[e.is_failed?i("div",{directives:[{name:"popup",rawName:"v-popup"}],staticClass:"ui basic negative icon button",attrs:{"data-tooltip":e.status}},[i("i",{staticClass:"remove icon"})]):i("div",[e.is_processing?i("div",{directives:[{name:"popup",rawName:"v-popup"}],staticClass:"ui basic icon button",attrs:{"data-tooltip":e.status}},[i("i",{staticClass:"notched circle loading icon"})]):i("div",[e.is_checked?i("div",[e.is_uploaded?i("div",{directives:[{name:"popup",rawName:"v-popup"}],staticClass:"ui positive icon button",attrs:{"data-tooltip":e.status}},[i("i",{staticClass:"icon checkmark box"})]):i("div",{directives:[{name:"popup",rawName:"v-popup"}],staticClass:"ui basic positive icon button",attrs:{"data-tooltip":e.status}},[i("i",{staticClass:"icon checkmark thin"})])]):i("div",{directives:[{name:"popup",rawName:"v-popup"}],staticClass:"ui basic icon button",attrs:{"data-tooltip":e.status}},[i("i",{staticClass:"icon square outline"})])])])])],2)},bb=[];function yb(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function wb(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){yb(r,n,a,s,o,"next",e)}function o(e){yb(r,n,a,s,o,"throw",e)}s(void 0)})}}var $b=n("982b"),kb=(new $b,{name:"UploaderWaybill",props:{conversions:Array,waybill_raw_data:Object,group:String},data:function(){return{is_checked:!1,is_uploaded:!1,is_processing:!1,is_failed:!1,status:"準備"}},mounted:function(){},computed:{current_scope:function(){return this.$store.state.current_scope},current_scoped_store:function(){return this.$store.state[this.current_scope]},validator:function(){return this.current_scoped_store.uploader_module.validator},required_columns:function(){return _.filter(this.waybill_raw_data.requiring_columns,function(e){return"required"==e.status})},unknown_material_columns:function(){return _.filter(this.waybill_raw_data.requiring_columns,function(e){return"unknown_material"==e.status})},required_attributes:function(){return _.map(this.required_columns,"attribute_name")},unknown_material_attributes:function(){return _.map(this.unknown_material_columns,"attribute_name")}},methods:{frontend_validation:function(){var e=wb(regeneratorRuntime.mark(function e(){var t,i,n,a,r,s,o,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=this,i=!0,n=!0,a=!1,r=void 0,e.prev=5,s=regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=c.value,e.next=3,new Promise(function(e){var a=_.find(t.conversions,function(e){return e.attribute_name==n.attribute_name});if(t.current_scoped_store.uploader_module.requester_node["default_"+a.attribute_name]);else{i=!1;var r=t.waybill_raw_data[t.conversions[0].attribute_name]||t.waybill_raw_data[t.conversions[1].attribute_name]||t.waybill_raw_data[t.conversions[2].attribute_name]||"不明";t.$bus.$emit(t.group+"add_errors",r+"運單驗證失敗: 缺少"+a.header_text)}e()});case 3:case"end":return e.stop()}},e)}),o=t.required_columns[Symbol.iterator]();case 8:if(n=(c=o.next()).done){e.next=13;break}return e.delegateYield(s(),"t0",10);case 10:n=!0,e.next=8;break;case 13:e.next=19;break;case 15:e.prev=15,e.t1=e["catch"](5),a=!0,r=e.t1;case 19:e.prev=19,e.prev=20,n||null==o["return"]||o["return"]();case 22:if(e.prev=22,!a){e.next=25;break}throw r;case 25:return e.finish(22);case 26:return e.finish(19);case 27:return e.next=29,new Promise(function(e){i?(t.is_failed=!1,t.is_checked=!0,t.status=t.$t("ui.pages.uploader.field_data_succeeded"),t.$bus.$emit(t.group+"add_checked_count")):(t.is_failed=!0,t.is_checked=!1,t.status=!1),e()});case 29:return e.next=31,new Promise(function(e){t.is_processing=!1,t.$bus.$emit(t.group+"add_complete_count"),e()});case 31:case"end":return e.stop()}},e,this,[[5,15,19,27],[20,,22,26]])}));function t(){return e.apply(this,arguments)}return t}(),column_verification:function(e){var t=this;return t.required_attributes.includes(e.attribute_name)?t.current_scoped_store.uploader_module.requester_node["default_"+e.attribute_name]?{validated:!0,content:t.current_scoped_store.uploader_module.requester_node["default_"+e.attribute_name]}:{validated:!1,content:'<i class="attention icon"></i>'+t.$t("ui.pages.uploader.column_verification.required_field")}:t.unknown_material_attributes.includes(e.attribute_name)?{validated:!1,content:'<i class="help circle icon"></i>'+t.$t("ui.pages.uploader.column_verification.unknown_waybill")}:{validated:!0,content:t.waybill_raw_data[e.attribute_name]}}}}),Cb=kb,xb=Object(lt["a"])(Cb,gb,bb,!1,null,"237db93c",null),Pb=xb.exports,Sb={name:"UploaderWaybills",props:{operation_identity:String,group:String},data:function(){return{validated_counter:0,uploaded_counter:0,batch_counter:0,batch_limit:1}},mounted:function(){var e=this;e.$bus.$off(e.group+"broadcast_validate_waybills"),e.$bus.$on(e.group+"broadcast_validate_waybills",function(){e.validated_counter=0,e.group_validate_waybills()}.bind(this)),e.$bus.$off(e.group+"broadcast_create_waybills"),e.$bus.$on(e.group+"broadcast_create_waybills",function(){e.uploaded_counter=0,e.group_create_waybills()}.bind(this))},watch:{},computed:{current_scope:function(){return this.$store.state.current_scope},current_scoped_store:function(){return this.$store.state[this.current_scope]},waybill_raw_datas:function(){return this.current_scoped_store.uploader_module.waybill_raw_datas[this.group]},conversions:function(){return this.current_scoped_store.uploader_module.conversions},operation:function(){return this.$parent},validate_waybill_url:function(){return this.current_scoped_store.uploader_module.validate_waybill_url},use_waybill_url:function(){return this.current_scoped_store.uploader_module.use_waybill_url},requester_node:function(){return this.current_scoped_store.uploader_module.requester_node},requester_contract:function(){return this.current_scoped_store.uploader_module.requester_contract}},methods:{group_validate_waybills:function(){var e=this;switch(_.forEach(e.$children,function(e,t){e.is_processing=!0}),e.current_scope){case"customer":var t=localStorage.getItem("customer_authentication_token");break;case"provider":t=localStorage.getItem("authentication_token");break;default:}if(e.$store.state[e.current_scope].uploader_module.current_converter.skip_usable_validation&&e.$store.state[e.current_scope].uploader_module.current_converter.skip_operation_creation){var i={numbers:_.uniq(_.map(e.waybill_raw_datas,"number")),find_existed_core_waybills:!0};axios.post(e.validate_waybill_url,i,{headers:{Authorization:t}}).then(function(t){"success"==t.data.status?_.forEach(e.$children,function(i,n){-1!=t.data.found_core_waybills.indexOf(i.waybill_raw_data.number)?(i.is_failed=!1,i.is_checked=!0,i.status="查號成功",i.frontend_validation()):-1!=t.data.not_found_core_waybills.indexOf(i.waybill_raw_data.number)?(i.is_failed=!0,i.is_checked=!1,i.status="查號失敗",i.$bus.$emit(e.group+"add_errors",i.waybill_raw_data.number+" 查號失敗: 查無此單"),i.is_processing=!1,i.$bus.$emit(e.group+"add_complete_count")):(i.is_failed=!0,i.is_checked=!1,i.status="回應異常",i.$bus.$emit(e.group+"add_errors","查號失敗: 無法辨識的運單"),i.is_processing=!1,i.$bus.$emit(e.group+"add_complete_count"))}):(_.forEach(t.data.errors,function(t,i){_.forEach(t,function(t,i){e.operation.errors.push("查號失敗: "+t)})}),_.forEach(e.$children,function(t,i){t.is_failed=!0,t.is_checked=!1,t.status="查號失敗",t.is_processing=!1,t.$bus.$emit(e.group+"add_complete_count")}))})["catch"](function(t){console.log(t),e.operation.errors.push("查號異常")})}else{i={core_waybills:_.uniq(_.map(_.groupBy(e.waybill_raw_datas,"number_picker")["automatic"],function(e){return{number:e.number,material_class_name:e.material_class_name}})),automatic_number_picker:!0};axios.post(e.validate_waybill_url,i,{headers:{Authorization:t}}).then(function(t){"success"==t.data.status?_.forEach(e.$children,function(e,t){e.is_failed=!1,e.is_checked=!0,e.status="取號成功",e.frontend_validation()}):(e.operation.errors.push("取號失敗: "+t.data.errors),_.forEach(e.$children,function(t,i){t.is_failed=!0,t.is_checked=!1,t.status="取號失敗",t.is_processing=!1,t.$bus.$emit(e.group+"add_complete_count")}))})["catch"](function(t){console.log(t),e.operation.errors.push("取號異常")});i={core_waybills:_.uniq(_.map(_.groupBy(e.waybill_raw_datas,"number_picker")["manual"],function(e){return{number:e.number,material_class_name:e.material_class_name}})),customer_identity:e.requester_node.identity,contract_identity:e.requester_contract.identity};e.$store.state[e.current_scope].uploader_module.current_converter.ignore_customer_node&&(i.internal_only=!0),axios.post(e.validate_waybill_url,i,{headers:{Authorization:t}}).then(function(t){"success"==t.data.status?_.forEach(e.$children,function(i,n){-1!=t.data.usable_core_waybills.indexOf(i.waybill_raw_data.number)?(i.is_failed=!1,i.is_checked=!0,i.status="取號成功",i.frontend_validation()):-1!=t.data.unusable_core_waybills.indexOf(i.waybill_raw_data.number)&&(i.is_failed=!0,i.is_checked=!1,i.status="取號失敗",i.$bus.$emit(e.group+"add_errors",i.waybill_raw_data.number+" 取號失敗: 不可用的號碼(不存在或已經使用過)"),i.is_processing=!1,i.$bus.$emit(e.group+"add_complete_count"))}):(_.forEach(t.data.errors,function(t,i){_.forEach(t,function(t,i){e.operation.errors.push("取號失敗: "+t)})}),_.forEach(e.$children,function(t,i){t.is_failed=!0,t.is_checked=!1,t.status="取號失敗",t.is_processing=!1,t.$bus.$emit(e.group+"add_complete_count")}))})["catch"](function(t){console.log(t),e.operation.errors.push("取號異常")})}},group_create_waybills:function(){var e=this,t=0,i=_.groupBy(e.$children,"waybill_raw_data.house_number");_.forEach(i,function(i,n){var a=_.groupBy(i,"waybill_raw_data.number");_.forEach(a,function(i,n){var a={},r={number:n,child_core_waybills:_.map(i,function(e){var t={number:e.waybill_raw_data.sub_waybill_number};return t})},s=i[0].waybill_raw_data;delete s.sub_waybill_number,delete s.house_number,a=Object.assign({},r,s),setTimeout(function(){e.group_send_create(i,a)},250*t),t++})}),t=0},group_send_create:function(e,t){console.log(t);var i=this,n=!0;if(_.forEach(e,function(e,t){e.is_processing=!0,e.is_failed=!1,1==e.is_uploaded&&(n=!1,e.is_processing=!1,e.$bus.$emit(i.group+"add_complete_count"))}),n){var a=new RestUrl(i.use_waybill_url).parse({operation_identity:i.operation_identity});if("provider"==i.$store.state.current_scope)var r=localStorage.getItem("authentication_token");else if("customer"==i.$store.state.current_scope)r=localStorage.getItem("customer_authentication_token");return new Promise(function(n,s){axios.post(a,t,{headers:{Authorization:r}}).then(function(t){"success"==t.data.status?(_.forEach(e,function(e,t){e.status="完成",e.is_failed=!1,e.is_uploaded=!0,i.$bus.$emit(i.group+"add_uploaded_count")}),_.forEach(e,function(e,t){e.is_processing=!1,i.$bus.$emit(i.group+"add_complete_count")})):(_.forEach(e,function(e,t){e.status="失敗",e.is_failed=!0,e.is_uploaded=!1,i.$bus.$emit(i.group+"add_errors",e.waybill_raw_data.number+"("+e.waybill_raw_data.sub_waybill_number+") 匯入運單失敗: "+res.errors)}),_.forEach(e,function(e,t){e.is_processing=!1,i.$bus.$emit(i.group+"add_complete_count")}))})["catch"](function(t){_.forEach(e,function(e,n){e.status=t.statusText,e.is_failed=!0,e.is_uploaded=!1,i.$bus.$emit(i.group+"add_errors",e.waybill_raw_data.number+"("+e.waybill_raw_data.sub_waybill_number+") 匯入運單失敗: "+t.status+" "+t.statusText)}),_.forEach(e,function(e,t){e.is_processing=!1,i.$bus.$emit(i.group+"add_complete_count")})})})}}},components:{Waybill:Pb}},Nb=Sb,Ab=Object(lt["a"])(Nb,vb,hb,!1,null,"984944a2",null),Eb=Ab.exports,qb={name:"UploaderOperation",props:{receiver:String,index:Number},data:function(){return{is_initializing:!0,is_processing:!1,is_operation_created:!1,is_done:!1,complete_count:0,uploaded_count:0,checked_count:0,current_step:1,receiver_index:null,operation:{receiver_node_identity:null,requester_node_identity:null,original_file_name:null,original_file_url:null,operator_note:"",identity:null},waybill_policy:{no_master:!0,no_house:!1,no_waybill:!1,no_subwaybill:!0},errors:[]}},computed:{current_scope:function(){return this.$store.state.current_scope},current_scoped_store:function(){return this.$store.state[this.current_scope]},requester_node:function(){return this.current_scoped_store.uploader_module.requester_node},requester_contract:function(){return this.current_scoped_store.uploader_module.requester_contract},is_customer_mode:function(){return this.$root.is_customer_mode},operator_node:function(){return this.current_scoped_store.uploader_module.operator_node},data_count:function(){return this.current_scoped_store.uploader_module.waybill_raw_datas[this.receiver].length},create_operation_url:function(){return this.current_scoped_store.uploader_module.create_operation_url},is_queue_mode:function(){return this.$parent.is_queue_mode}},mounted:function(){var e=this;e.init(),e.$bus.$off(e.receiver+"add_checked_count"),e.$bus.$on(e.receiver+"add_checked_count",function(){e.checked_count++,e.checked_count>0&&e.checked_count==e.data_count&&(e.$noty.success(e.$t("ui.pages.uploader.checking_waybill_data_ok")),e.steps_callback_center("validate_waybills"))}.bind(this)),e.$bus.$off(e.receiver+"add_uploaded_count"),e.$bus.$on(e.receiver+"add_uploaded_count",function(){e.uploaded_count++,e.uploaded_count>0&&e.uploaded_count==e.data_count&&(e.$noty.success(e.$t("ui.pages.uploader.checking_operation_data_ok")),e.steps_callback_center("create_waybills"))}.bind(this)),e.$bus.$off(e.receiver+"add_complete_count"),e.$bus.$on(e.receiver+"add_complete_count",function(){e.complete_count++,e.data_count>0&&e.complete_count==e.data_count&&(e.is_processing=!1,e.$bus.$emit("to_index","complete"),e.checked_count<e.complete_count&&e.$bus.$emit("to_index","interrupt")),$("#"+e.receiver+"-progress-bar").progress({duration:300,value:e.complete_count,total:e.data_count})}.bind(this)),e.$bus.$off(e.receiver+"add_errors"),e.$bus.$on(e.receiver+"add_errors",function(t){e.errors.push(t)}.bind(this)),e.$bus.$off("to_operations"),e.$bus.$on("to_operations",function(t,i){switch(t){case"validate_waybills":e.index==i&&e.validate_waybills();break;case"create_operation":e.index==i&&e.create_operation();break;default:}}.bind(this))},methods:{init:function(){var e=this;new Promise(function(t,i){t(),e.is_initializing=!1})},validate_waybills:function(){var e=this;e.errors=[],e.complete_count=0,e.checked_count=0,e.is_processing=!0,e.$bus.$emit(e.receiver+"broadcast_validate_waybills")},create_operation:function(){var e=this;if(e.is_processing=!0,e.errors=[],null==e.operation.identity){if("provider"==e.current_scope)var t={contract_identity:e.requester_contract.identity,customer_identity:e.requester_node.identity,provider_note:e.operation.operator_note,original_file_name:e.$parent.file_name,original_file_url:e.$parent.file_s3_path,converter_identity:e.current_scoped_store.uploader_module.current_converter.identity},i=localStorage.getItem("authentication_token");else if("customer"==e.current_scope)t={contract_identity:e.requester_contract.identity,customer_identity:e.requester_node.identity,customer_note:e.operation.operator_note,original_file_name:e.$parent.file_name,original_file_url:e.$parent.file_s3_path,converter_identity:e.current_scoped_store.uploader_module.current_converter.identity},i=localStorage.getItem("customer_authentication_token");axios.post(e.create_operation_url,t,{headers:{Authorization:i}}).then(function(t){"success"==t.data.status?(e.operation=t.data.operation,e.is_operation_created=!0,e.$noty.success(e.$t("ui.pages.uploader.materialization_operation")),setTimeout(function(){e.steps_callback_center("create_operation")},1e3)):(_.forEach(t.data.errors,function(t){_.forEach(t,function(t){e.errors.push(t)})}),e.steps_callback_center("interrupt"))})["catch"](function(t){e.errors.push(e.$t("ui.pages.uploader.materialization_operation")+" "+e.$t("ui.general.error")+": "+t.response.status+" "+t.response.data),e.steps_callback_center("interrupt")})}else e.steps_callback_center("create_operation")},create_waybills:function(){var e=this;e.complete_count=0,e.$bus.$emit(e.receiver+"broadcast_create_waybills")},steps_callback_center:function(e){var t=this;switch(console.log("Operation"+t.index+"步驟控制中心收到完成步驟："+e),e){case"validate_waybills":t.$bus.$emit("to_index","validate_waybills",t.index),t.is_processing=!1,t.current_step++;break;case"create_operation":t.is_queue_mode?t.steps_callback_center("create_waybills"):t.create_waybills();break;case"create_waybills":t.$bus.$emit("to_index","create_operation",t.index),$("#"+t.receiver_index+"-waybills-accordion").accordion("close",0),t.is_processing=!1,t.is_done=!0,t.current_step++;break;case"interrupt":t.is_processing=!1,t.$parent.is_processing=!1;break;default:}}},components:{Waybills:Eb,Steps:pb}},zb=qb,jb=Object(lt["a"])(zb,mb,fb,!1,null,null,null),Rb=jb.exports,Ib=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.errors.length>0?i("div",{staticClass:"errors"},[i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui red icon message"},[i("i",{staticClass:"warning icon"}),i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                "+e._s(e.$t("ui.notifications.error.please_handle_errors"))+"\n            ")]),e._l(e.errors,function(t,n){return i("p",[e._v(e._s(n+1)+". "+e._s(t))])})],2)]),i("div",{staticClass:"ui divider"})]):e._e()},Tb=[],Ob={name:"ErrorBox",props:{errors:Array},data:function(){return{}},mounted:function(){},computed:{},methods:{},components:{}},Lb=Ob,Db=Object(lt["a"])(Lb,Ib,Tb,!1,null,"a44ea264",null),Bb=Db.exports;function Mb(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function Ub(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){Mb(r,n,a,s,o,"next",e)}function o(e){Mb(r,n,a,s,o,"throw",e)}s(void 0)})}}var Fb={name:"UploaderIndex",data:function(){return{is_initialized:!1,is_processing:!1,can_next_step:!0,basic_options_setted:!1,operations_count:0,complete_operation_count:0,checked_operation_count:0,uploaded_operation_count:0,current_step:1,current_operation_index:0,excel_file:null,file_name:null,file_size_in_bytes:0,file_s3_path:null,is_file_uploaded:!1,is_queue_mode:!0,errors:[]}},computed:{current_scope:function(){return this.$store.state.current_scope},current_scoped_store:function(){return this.$store.state[this.current_scope]},receivers:function(){return this.current_scoped_store.uploader_module.receivers},customers:function(){return this.current_scoped_store.uploader_module.customers},requester_node:{get:function(){return this.current_scoped_store.uploader_module.requester_node},set:function(e){this.$store.commit(this.current_scope+"/uploader_module/set_requester_node",e)}},requester_contract:{get:function(){return this.current_scoped_store.uploader_module.requester_contract}},fetch_customers_url:function(){return this.current_scoped_store.uploader_module.fetch_customers_url},open_file_url:function(){return this.current_scoped_store.uploader_module.open_file_url},file_upload_url:function(){return this.current_scoped_store.uploader_module.file_upload_url},converters:function(){return this.current_scoped_store.uploader_module.converters},current_converter:function(){return this.current_scoped_store.uploader_module.current_converter||{name:null}}},created:function(){},mounted:function(){var e=this;e.init(),e.$bus.$off("init"),e.$bus.$on("init",function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.init()}.bind(this)),e.$bus.$off("to_index"),e.$bus.$on("to_index",function(t,i){switch(t){case"validate_waybills":e.checked_operation_count++,e.receivers[i+1]?(e.current_operation_index++,e.$bus.$emit("to_operations","validate_waybills",e.current_operation_index)):e.steps_callback_center("validate_waybills");break;case"create_operation":e.uploaded_operation_count++,e.receivers[i+1]?(e.current_operation_index++,e.$bus.$emit("to_operations","create_operation",e.current_operation_index)):e.steps_callback_center("create_operations");break;case"complete":e.complete_operation_count++,$("#index-progress-bar").progress({duration:300,value:e.complete_operation_count,total:e.operations_count});case"interrupt":e.steps_callback_center("interrupt");default:}}.bind(this))},beforeDestroy:function(){this.$bus.$off("init")},watch:{},methods:{init:function(){var e=Ub(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){$(t.$refs.operation_target_selector).dimmer("hide"),e()});case 3:return e.next=5,new Promise(function(e){t.is_initialized=!1,t.is_processing=!1,t.can_next_step=!0,t.basic_options_setted=!1,t.operations_count=0,t.complete_operation_count=0,t.checked_operation_count=0,t.uploaded_operation_count=0,t.current_step=1,t.current_operation_index=0,t.excel_file=null,t.file_name=null,t.file_size_in_bytes=0,t.file_s3_path=null,t.is_file_uploaded=!1,t.is_queue_mode=!0,t.errors=[],e()});case 5:return e.next=7,t.$store.commit(t.current_scope+"/uploader_module/init");case 7:return e.next=9,t.$store.dispatch(t.current_scope+"/uploader_module/set_urls");case 9:return e.next=11,t.$store.dispatch(t.current_scope+"/uploader_module/fetch_customers");case 11:return e.next=13,t.$store.dispatch(t.current_scope+"/uploader_module/fetch_operator_node");case 13:return e.next=15,t.$store.dispatch(t.current_scope+"/uploader_module/fetch_converters");case 15:return e.next=17,new Promise(function(e){t.$noty.information(t.$t("ui.page_titles.uploader")+" "+t.$t("ui.general.initialize_complete")),t.is_initialized=!0,e()});case 17:return e.next=19,new Promise(function(e){$(t.$refs.operation_target_selector).dimmer("show"),e()});case 19:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),select_file:function(e){var t=this;t.excel_file=e.target.files[0],t.file_name=t.excel_file.name,t.file_size_in_bytes=t.excel_file.size,$(t.$refs.file_input_field).val(""),$(t.$refs.file_selector).hide(),t.current_converter.ignore_customer_node?($(t.$refs.loader).show(),t.steps_callback_center(1)):$(t.$refs.requester_selector).show()},open_file:function(){var e=this;e.is_processing=!0,e.errors=[],null!=e.excel_file&&void 0!=e.excel_file||e.errors.push(e.$t("ui.pages.uploader.dimmer.select_file")),null==e.requester_node&&(e.$store.commit(e.current_scope+"/uploader_module/set_requester_node",{company_en_name:""}),e.$store.commit(e.current_scope+"/uploader_module/set_requester_contract",{name:""}));var t=new RestUrl(e.open_file_url).parse({converter_identity:e.$store.state.provider.uploader_module.current_converter.identity},"");if(0==e.errors.length){var i=new FormData;i.append("excel_file",e.excel_file),i.append("file_name",e.file_name),i.append("file_size_in_bytes",e.file_size_in_bytes),i.append("provider",e.current_converter.provider),i.append("category",e.current_converter.category),axios.post(t,i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"failure"==t.data.status?(_.forEach(t.data.errors,function(t,i){_.forEach(t,function(t,i){e.errors.push(e.$t("ui.pages.uploader.open_file")+" "+e.$t("ui.general.failure")+": "+t)})}),e.steps_callback_center("interrupt")):(e.$store.commit(e.current_scope+"/uploader_module/set_conversions",t.data.conversions),e.$store.commit(e.current_scope+"/uploader_module/set_waybill_raw_datas",{"託運":t.data.human_datas}),e.$store.commit(e.current_scope+"/uploader_module/set_waybill_processed_datas",{"託運":t.data.processed_datas}),e.$store.commit(e.current_scope+"/uploader_module/set_receivers",["託運"]),e.operations_count=e.receivers.length,e.basic_options_setted=!0,e.steps_callback_center("open_file"),$(e.$refs.operation_target_selector).dimmer("hide"),$(e.$refs.loader).hide(),$(e.$refs.converter_selector).show())})["catch"](function(t){_.forEach(response.data.errors,function(t,i){_.forEach(t,function(t,i){e.errors.push(e.$t("ui.pages.uploader.open_file")+" "+e.$t("ui.general.failure")+": "+t)})}),e.steps_callback_center("interrupt")})}else e.steps_callback_center("interrupt")},upload_file:function(e){var t=this;if(null!==t.excel_file&&void 0!==t.excel_file)if(1==t.is_file_uploaded)t.steps_callback_center("upload_file");else{var i=new FormData;i.append("file",t.excel_file),axios.post(t.file_upload_url,i).then(function(e){if(!e.data.link)return Promise.reject(e);t.is_file_uploaded=!0,t.file_s3_path=decodeURIComponent(e.data.link),t.$noty.success(t.$t("ui.notifications.success.upload__name",{name:t.$t("ui.general.file")})),t.steps_callback_center("upload_file")})["catch"](function(e){t.$noty.error(t.$t("ui.notifications.error.upload__name",{name:t.$t("ui.general.file")})),t.errors.push(t.$t("ui.notifications.error.upload__name",{name:t.$t("ui.general.file"),reason:": "+t.$t("ui.general.network_abnormality")})),t.steps_callback_center("interrupt")})}else t.errors.push(t.$t("ui.general.no")+" "+t.$t("ui.pages.uploader.dimmer.select_file")),t.steps_callback_center("interrupt")},validate_waybills:function(){var e=this;e.$bus.$emit("to_operations","validate_waybills",e.current_operation_index)},create_operations:function(){var e=this;e.$bus.$emit("to_operations","create_operation",e.current_operation_index)},steps_callback_center:function(e){var t=this;switch(e){case 1:t.is_processing=!0,t.open_file();break;case 2:t.is_processing=!0,t.validate_waybills();break;case 3:t.is_processing=!0,t.upload_file();break;case 4:var i=_.filter(t.$children,function(e){return"Operation"==e.$options._componentTag});1!=i.length||t.current_converter.skip_operation_creation&&t.current_converter.skip_usable_validation||t.$router.push({name:"edit_provider_operation",params:{identity:i[0].operation.identity}});break;case"open_file":t.current_step++,t.is_processing=!1,t.$nextTick(function(){t.steps_callback_center(2)});break;case"validate_waybills":t.current_operation_index=0,t.complete_operation_count=0,t.is_processing=!1,t.current_step++;break;case"upload_file":t.create_operations();break;case"create_operations":t.current_operation_index=0,t.complete_operation_count=0,t.is_processing=!1,t.current_step++,t.$nextTick(function(){t.steps_callback_center(4)});break;case"interrupt":$(t.$refs.operation_target_selector).dimmer("show"),$(t.$refs.operation_target_selector).dimmer("hide"),t.is_processing=!1;break;default:}}},components:{Steps:pb,Operation:Rb,ErrorBox:Bb,BackToTopButton:Ll}},Gb=Fb,Hb=(n("47bd"),n("8574"),Object(lt["a"])(Gb,sb,ob,!1,null,"7b2965d0",null)),Yb=Hb.exports,Kb="provider_uploader",Wb=[{path:":operation_identity?",component:Yb,name:"provider_uploader",meta:{api_name:["api_v1_provider_customer_nodes","api_v1_provider_operation_create","api_v1_provider_operation_use_core_waybill","api_v1_provider_operation_validate","api_v1_provider_file_converters","api_v1_provider_file_convert","api_v1_provider_file_converter_open"],breadcrumb:[Kb]}}],Vb=Wb,Xb=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"index"}},[i("ErrorBox",{tag:"div",attrs:{errors:e.errors}}),e.is_initialized?i("div",{staticClass:"contents"},[i("h3",{staticClass:"ui left floated header"},[e._v("\n\n            "+e._s(e.$t("ui.page_titles.assets"))+"-"+e._s(e.category)+"\n        ")]),i("router-link",{staticClass:"ui right floated basic button",attrs:{to:{name:"print_asset",params:{category:e.category}}}},[e._v("\n            "+e._s(e.$t("ui.pages.assets.print_barcode"))+"\n        ")]),e.assets.length<1?i("div",{staticClass:"ui icon message"},[i("i",{staticClass:"warning icon"}),i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                    "+e._s(e.$t("ui.pages.assets.helps.no_anything_assets"))+"\n                ")]),i("p",[e._v("\n                    "+e._s(e.$t("ui.pages.assets.helps.please_clicked_upper_left_new_asset_button"))+"\n                ")])])]):i("table",{staticClass:"ui celled table"},[i("thead",[i("tr",[i("th",[e._v(e._s(e.$t("models.attributes.assets.barcode")))]),i("th",[e._v(e._s(e.$t("models.attributes.assets.number")))]),i("th",[e._v(e._s(e.$t("models.attributes.assets.note")))]),i("th")])]),i("tbody",e._l(e.assets,function(e){return i("Item",{tag:"div",attrs:{asset:e}})}))])],1):i("div",[i("div",{staticClass:"ui inverted dimmer transition visible active",staticStyle:{display:"block !important"}},[i("div",{staticClass:"ui text loader"},[e._v("\n                "+e._s(e.$t("ui.general.initializing"))+"\n            ")])])])])},Qb=[],Zb=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",[i("td",[i("barcode",{attrs:{value:e.asset.number,format:"barcode-format",fontSize:10}},[e._v("\n            "+e._s(e.$t("ui.notifications.error.exception_error_please_contact_the_system_supplier"))+".\n        ")])],1),i("td",[e._v(e._s(e.asset.number))]),i("td",[e._v(e._s(e.asset.note))]),e.is_processing?i("td",[i("i",{staticClass:"notched circle loading icon"})]):i("td",[i("router-link",{staticClass:"ui basic primary button",attrs:{to:{name:"edit_asset",params:{id:e.asset.identity}}}},[e._v("\n            "+e._s(e.$t("ui.general.edit"))+"\n        ")]),i("button",{staticClass:"ui basic negative button",on:{click:function(t){t.preventDefault(),e.delete_asset()}}},[e._v("\n            "+e._s(e.$t("ui.general.delete"))+"\n        ")])],1)])},Jb=[],ey=n("865e"),ty={props:{asset:Object},data:function(){return{is_processing:!1}},mounted:function(){},computed:{index:function(){return this.$parent},layout:function(){return this.$parent.$parent}},methods:{delete_asset:function(){var e=this,t=confirm(e.$t("ui.notifications.warning.are_you_sure_to_delete_it"));if(t){e.is_processing=!0,e.$parent.errors=[];var i=new RestUrl(e.$store.state.provider.routes.api_v1_provider_asset_delete).parse({asset_identity:e.asset.identity},"");axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.index.fetch_assets(),e.$noty.success(e.$t("ui.notifications.success.delete__name",{name:e.$t("models.assets")}))):(e.index.errors.push(t.data.errors),e.$noty.errors(e.$t("ui.notifications.error.delete__name",{name:e.$t("models.assets")})))})["catch"](function(t){e.index.errors.push(e.$t("ui.notifications.error.delete__name",{name:e.$t("models.assets"),reason:": "+t.response.status}))}),e.is_processing=!1}}},components:{barcode:ey["a"]}},iy=ty,ny=Object(lt["a"])(iy,Zb,Jb,!1,null,"0a880d3a",null),ay=ny.exports;function ry(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function sy(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){ry(r,n,a,s,o,"next",e)}function o(e){ry(r,n,a,s,o,"throw",e)}s(void 0)})}}var oy={name:"AssetsIndex",data:function(){return{is_initialized:!1,assets:[],errors:[]}},created:function(){this.init()},mounted:function(){},computed:{category:function(){return this.$route.params.category}},watch:{$route:function(e,t){"assets_index"==e.name&&this.init()}},methods:{init:function(){var e=sy(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,t.fetch_assets();case 3:return e.next=5,new Promise(function(e){t.is_initialized=!0,e()});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_assets:function(){var e=this,t=e.$store.state.provider.routes.api_v1_provider_assets+"?category="+e.$route.params.category;return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.assets=t.data.assets})["catch"](function(t){return e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.assets"),reason:": "+t})),Promise.reject(t)})}},components:{Item:ay,ErrorBox:Iv}},cy=oy,_y=Object(lt["a"])(cy,Xb,Qb,!1,null,"32f5aeeb",null),ly=_y.exports,uy=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"new"}},[i("div",{staticClass:"contents"},[e.is_processing||!e.is_initialized?i("div",{staticClass:"ui active inverted dimmer"},[i("div",{staticClass:"ui text loader"},[e._v("\n                "+e._s(e.$t("ui.general.initializing"))+"\n            ")])]):i("div",{staticClass:"ui form"},[i("h2",{staticClass:"ui header"},[e._v("\n                "+e._s(e.$t("ui.page_titles.new_asset"))+"\n            ")]),i("div",{staticClass:"eight wide field",class:{error:e.if_error("category")}},[i("label",[e._v("\n                    "+e._s(e.$t("models.attributes.assets.category"))+"\n                ")]),i("div",{staticClass:"ui right labeled action input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.asset.category,expression:"asset.category"}],attrs:{type:"text",placeholder:e.$t("ui.pages.assets.helps.write_or_use_category_list")},domProps:{value:e.asset.category},on:{input:function(t){t.target.composing||e.$set(e.asset,"category",t.target.value)}}}),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui dropdown label"},[i("div",{staticClass:"text"},[e._v("\n                            "+e._s(e.$t("ui.pages.assets.have_category"))+"\n                        ")]),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.$store.state.provider.assets_module.categories,function(t){return i("div",{staticClass:"item",on:{click:function(i){e.set_category(t)}}},[e._v(e._s(t))])}))]),i("div",{directives:[{name:"popup",rawName:"v-popup"}],staticClass:"ui icon button",attrs:{type:"submit","data-tooltip":e.$t("ui.pages.assets.clear_value")},on:{click:e.clear_category}},[i("i",{staticClass:"ui remove icon"})])]),e.if_error("category")?i("div",{staticClass:"ui pointing red basic label"},[e._v("\n                    "+e._s(e.error_message("category"))+"\n                ")]):e._e()]),i("div",{staticClass:"eight wide field",class:{error:e.if_error("number")}},[i("label",[e._v("\n                    "+e._s(e.$t("models.attributes.assets.number"))+"\n                ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.asset.number,expression:"asset.number"}],attrs:{type:"text",placeholder:e.$t("models.attributes.assets.number")},domProps:{value:e.asset.number},on:{input:function(t){t.target.composing||e.$set(e.asset,"number",t.target.value)}}}),e.if_error("number")?i("div",{staticClass:"ui pointing red basic label"},[e._v("\n                    "+e._s(e.error_message("number"))+"\n                ")]):e._e()]),i("div",{staticClass:"eight wide field",class:{error:e.if_error("note")}},[i("label",[e._v("\n                    "+e._s(e.$t("models.attributes.assets.note"))+"\n                ")]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.asset.note,expression:"asset.note"}],attrs:{rows:"8",cols:"80"},domProps:{value:e.asset.note},on:{input:function(t){t.target.composing||e.$set(e.asset,"note",t.target.value)}}}),e.if_error("note")?i("div",{staticClass:"ui pointing red basic label"},[e._v("\n                    "+e._s(e.error_message("note"))+"\n                ")]):e._e()]),i("div",{staticClass:"ui basic positive button",on:{click:e.create}},[e._v("\n                "+e._s(e.$t("ui.general.submit"))+"\n            ")])])])])},dy=[];function py(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function my(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){py(r,n,a,s,o,"next",e)}function o(e){py(r,n,a,s,o,"throw",e)}s(void 0)})}}var fy={name:"NewAsset",prop:{},data:function(){return{is_initialized:!1,is_processing:!1,asset:{number:null,category:null,note:null},errors:[],error_columns:[]}},created:function(){this.init()},mounted:function(){},watch:{$route:function(e,t){"new_asset"==e.name&&this.init()}},computed:{layout:function(){return this.$parent}},methods:{init:function(){var e=my(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.asset={number:null,category:null,note:null},e()});case 3:return e.next=5,new Promise(function(e){t.is_initialized=!0,e()});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),create:function(){var e=this;e.is_processing=!0,e.errors=[],e.error_columns=[],axios.post(e.$store.state.provider.routes.api_v1_provider_assets_create,e.asset,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(-1==e.$store.state.provider.assets_module.categories.indexOf(t.data.asset.category)&&e.$store.state.provider.assets_module.categories.push(t.data.asset.category),e.$store.state.provider.assets_module.current_category=t.data.asset.category,e.$router.push("/provider/assets/index/"+t.data.asset.category)):(e.errors=t.data.errors,e.error_columns=Object.keys(t.data.errors))})["catch"](function(t){e.errors.push(e.$t("ui.notifications.error.create__name",{name:e.$t("models.assets"),reason:": "+t}))}),e.is_processing=!1},set_category:function(e){var t=this;t.asset.category=e},clear_category:function(){var e=this;e.asset.category=null},if_error:function(e){var t=this;return-1!=t.error_columns.indexOf(e)},error_message:function(e){var t=this;return _.join(t.errors[e],", ")}},components:{ErrorBox:Iv}},vy=fy,hy=Object(lt["a"])(vy,uy,dy,!1,null,"4427cd63",null),gy=hy.exports,by=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"edit"}},[i("div",{staticClass:"contents"},[e.is_processing||!e.is_initialized?i("div",{staticClass:"ui active inverted dimmer"},[i("div",{staticClass:"ui text loader"},[e._v("\n                "+e._s(e.$t("ui.general.initializing"))+"\n            ")])]):i("div",{staticClass:"ui form"},[i("h2",{staticClass:"ui header"},[e._v("\n                "+e._s(e.$t("ui.page_titles.edit_asset"))+"\n            ")]),i("div",{staticClass:"eight wide field",class:{error:e.if_error("category")}},[i("label",[e._v("\n                    "+e._s(e.$t("models.attributes.assets.category"))+"\n                ")]),i("select",{directives:[{name:"model",rawName:"v-model",value:e.asset.category,expression:"asset.category"}],on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.asset,"category",t.target.multiple?i:i[0])}}},e._l(e.$store.state.provider.assets_module.categories,function(t){return i("option",{domProps:{value:t}},[e._v(e._s(t))])})),e.if_error("category")?i("div",{staticClass:"ui pointing red basic label"},[e._v("\n                    "+e._s(e.error_message("category"))+"\n                ")]):e._e()]),i("div",{staticClass:"eight wide field",class:{error:e.if_error("number")}},[i("label",[e._v("\n                    "+e._s(e.$t("models.attributes.assets.number"))+"\n                ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.asset.number,expression:"asset.number"}],attrs:{type:"text",placeholder:e.$t("models.attributes.assets.number")},domProps:{value:e.asset.number},on:{input:function(t){t.target.composing||e.$set(e.asset,"number",t.target.value)}}}),e.if_error("number")?i("div",{staticClass:"ui pointing red basic label"},[e._v("\n                    "+e._s(e.error_message("number"))+"\n                ")]):e._e()]),i("div",{staticClass:"eight wide field",class:{error:e.if_error("note")}},[i("label",[e._v("\n                    "+e._s(e.$t("models.attributes.assets.note"))+"\n                ")]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.asset.note,expression:"asset.note"}],attrs:{rows:"8",cols:"80"},domProps:{value:e.asset.note},on:{input:function(t){t.target.composing||e.$set(e.asset,"note",t.target.value)}}}),e.if_error("note")?i("div",{staticClass:"ui pointing red basic label"},[e._v("\n                    "+e._s(e.error_message("note"))+"\n                ")]):e._e()]),i("div",{staticClass:"ui basic positive button",on:{click:e.update}},[e._v("\n                "+e._s(e.$t("ui.general.submit"))+"\n            ")])])])])},yy=[];function wy(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function $y(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){wy(r,n,a,s,o,"next",e)}function o(e){wy(r,n,a,s,o,"throw",e)}s(void 0)})}}var ky={name:"EditAsset",props:{},data:function(){return{is_initialized:!1,is_processing:!1,asset:{},errors:[],error_columns:[]}},created:function(){this.init()},mounted:function(){},watch:{$route:function(e,t){"edit_asset"==e.name&&this.init()}},computed:{},methods:{init:function(){var e=$y(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,t.is_processing=!1,t.asset={},t.errors=[],t.error_columns=[],e()});case 3:return e.next=5,t.fetch_asset();case 5:return e.next=7,new Promise(function(e){t.is_initialized=!0,e()});case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_asset:function(){var e=this,t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_asset).parse({asset_identity:e.$route.params.id},"");return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.asset=t.data.asset,e.$noty.success(e.$t("ui.notifications.success.fetch__name",{name:e.$t("models.assets")}))})["catch"](function(t){return e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.assets"),reason:": "+t})),Promise.reject(t)})},update:function(){var e=this;e.is_processing=!0,e.errors=[],e.error_columns=[];var t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_asset_update).parse({asset_identity:e.asset.identity},"");axios.post(t,e.asset,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?e.$router.push("/provider/assets/index/"+t.data.asset.category):(e.errors=t.data.errors,e.error_columns=Object.keys(t.data.errors))})["catch"](function(e){}),e.is_processing=!1},if_error:function(e){var t=this;return-1!=t.error_columns.indexOf(e)},error_message:function(e){var t=this;return _.join(t.errors[e],", ")}},components:{}},Cy=ky,xy=Object(lt["a"])(Cy,by,yy,!1,null,"9ecb0a70",null),Py=xy.exports,Sy=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"print"}},[i("table",{attrs:{id:"barcodes"}},[i("tbody",e._l(e.assets,function(t){return i("tr",[i("td",[i("barcode",{attrs:{value:t.number,tag:"svg",options:{background:"transparent",displayValue:!0,format:"CODE128",width:1,height:25}}},[e._v("\n                        "+e._s(e.$t("ui.notifications.error.exception_error_please_contact_the_system_supplier"))+".\n                    ")])],1)])}))])])},Ny=[];function Ay(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function Ey(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){Ay(r,n,a,s,o,"next",e)}function o(e){Ay(r,n,a,s,o,"throw",e)}s(void 0)})}}var qy={name:"PrintAsset",props:{},data:function(){return{assets:[]}},watch:{},mounted:function(){var e=this;e.init()},beforeDestroy:function(){},computed:{},methods:{init:function(){var e=Ey(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,t.fetch_assets();case 3:return e.next=5,t.$nextTick(function(){$(".print").html($("#barcodes").clone())});case 5:return e.next=7,new Promise(function(e){window.print(),e()});case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_assets:function(){var e=this,t=e.$store.state.provider.routes.api_v1_provider_assets+"?category="+e.$route.params.category;return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.assets=t.data.assets})["catch"](function(t){return e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.assets"),reason:": "+t})),Promise.reject(t)})}},components:{barcode:ey["a"]}},zy=qy,jy=(n("1506"),Object(lt["a"])(zy,Sy,Ny,!1,null,"06692062",null)),Ry=jy.exports,Iy="assets",Ty="new_asset",Oy="edit_asset",Ly="print_asset",Dy=[{path:"",name:"assets",meta:{api_name:"api_v1_provider_assets",breadcrumb:[Iy],btns:[Ty]}},{path:"index/:category/:page?",component:ly,name:"assets_index",meta:{breadcrumb:[Iy]}},{path:"new",component:gy,name:"new_asset",meta:{api_name:"api_v1_provider_asset_create",breadcrumb:[Iy,Ty]}},{path:"edit/:id",component:Py,name:"edit_asset",meta:{api_name:"api_v1_provider_asset_update",breadcrumb:[Iy,Oy]}},{path:"print/:category/:page?",component:Ry,name:"print_asset",meta:{breadcrumb:[Iy,Ly]}}],By=Dy,My=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"x_scrollable",attrs:{id:"scan_action_prototypes"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),i("table",{staticClass:"ui celled table"},[i("thead",{staticClass:"center aligned"},[i("tr",[i("th",[e._v("Scope")]),i("th",[e._v(e._s(e.$t("models.attributes.status_prototypes.name")))]),i("th",[e._v(e._s(e.$t("models.attributes.status_prototypes.material")))]),i("th")])]),e.is_loading?i("tbody",{staticClass:"center aligned"},[e._m(0)]):i("tbody",{staticClass:"center aligned"},e._l(e.status_prototypes,function(e){return i("StatusPrototype",{key:e.identity,attrs:{status_prototype:e}})}))]),i("Paginator",{tag:"div",attrs:{total_pages:e.total_pages,current_page:e.current_page}})],1)},Uy=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"loading"},[i("td",{attrs:{colspan:"6"}},[i("div",{staticClass:"ui active centered inline loader"})])])}],Fy=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",[i("td",[e._v("\n        "+e._s(e.status_prototype.scope)+"\n    ")]),i("td",[1==e.status_prototype.polarity?i("i",{staticClass:"plus icon"}):0==e.status_prototype.polarity?i("i",{staticClass:"minus icon"}):e._e(),e._v("\n        "+e._s(e.status_prototype.name)+"\n    ")]),i("td",[e._v("\n        "+e._s(e.status_prototype.material_class_name||"-")+"\n    ")]),i("td",[i("router-link",{staticClass:"ui basic positive button",attrs:{to:{name:"edit_status_prototype",params:{identity:e.status_prototype.identity}}}},[e._v("\n            "+e._s(e.$t("ui.general.edit"))+"\n        ")])],1)])},Gy=[],Hy={name:"ProviderStatusPrototypesIndexItem",props:{status_prototype:Object},data:function(){return{}},computed:{},created:function(){},mounted:function(){},watch:{},methods:{},components:{}},Yy=Hy,Ky=Object(lt["a"])(Yy,Fy,Gy,!1,null,null,null),Wy=Ky.exports;function Vy(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function Xy(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){Vy(r,n,a,s,o,"next",e)}function o(e){Vy(r,n,a,s,o,"throw",e)}s(void 0)})}}var Qy={name:"StatusPrototypesIndex",data:function(){return{is_initialized:!1,is_loading:!1,status_prototypes:[],errors:[]}},computed:{pagination:function(){return this.$store.state.provider.status_prototypes_module.pagination},current_page:function(){return this.$store.state.provider.status_prototypes_module.pagination.current_page},total_pages:function(){return this.$store.state.provider.status_prototypes_module.pagination.total_pages},search_params:function(){return this.$store.state.provider.status_prototypes_module.search_params},show_filter:function(){return this.$store.state.provider.status_prototypes_module.show_filter}},created:function(){},mounted:function(){var e=this;e.init(),e.$bus.$off("init"),e.$bus.$on("init",function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.init()}.bind(this))},beforeDestroy:function(){this.$bus.$off("init"),this.search_params.page=1,this.pagination.current_page=1},watch:{$route:{handler:function(e,t){var i=e.query.page;i&&(this.search_params.page=Number(i),this.pagination.current_page=Number(i),this.$store.commit("provider/status_prototypes_module/set_current_page",i),this.fetch_status_prototypes())},immediate:!0}},methods:{init:function(){var e=Xy(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,new Promise(function(e){t.is_initialized=!1,e()});case 4:return e.next=6,t.fetch_status_prototypes();case 6:return e.next=8,new Promise(function(e){t.is_initialized=!0,t.$noty.information(t.$t("ui.page_titles.status_prototypes")+" "+t.$t("ui.general.initialize_complete"),300),e()});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](1),t.$noty.error(e.t0);case 13:return e.prev=13,e.finish(13);case 15:case"end":return e.stop()}},e,this,[[1,10,13,15]])}));function t(){return e.apply(this,arguments)}return t}(),fetch_status_prototypes:function(){var e=this;e.is_loading=!0;var t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_status_prototypes).parse({},"?"+object_to_query(e.search_params));return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.status_prototypes=_.orderBy(t.data.status_prototypes,["scope","name"],["asc","asc"]),e.$store.commit("provider/status_prototypes_module/set_current_page",t.data.pagination.current_page),e.$store.commit("provider/status_prototypes_module/set_total_pages",t.data.pagination.total_pages)):console.log(t.data)})["catch"](function(t){console.log(t.response),e.$noty.error("取得scan_action_prototypes失敗")}).then(function(){setTimeout(function(){e.is_loading=!1},300)})}},components:{StatusPrototype:Wy,Paginator:cr,ErrorMessages:wc}},Zy=Qy,Jy=Object(lt["a"])(Zy,My,Uy,!1,null,null,null),ew=Jy.exports,tw=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"new_status_prototype"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),e.is_initialized?i("div",{staticClass:"contents ui container"},[e.is_loading?i("div",{staticClass:"ui active centered inline loader"}):i("div",{staticClass:"ui form"},[i("div",{staticClass:"field computer column"},[i("div",{staticClass:"ui radio checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.status_prototype.polarity,expression:"status_prototype.polarity"}],attrs:{type:"radio",id:"no_polarity"},domProps:{value:null,checked:e._q(e.status_prototype.polarity,null)},on:{change:function(t){e.$set(e.status_prototype,"polarity",null)}}}),i("label",{staticClass:"pointer",attrs:{for:"no_polarity"}},[i("i",{staticClass:"help icon"}),e._v("\n                        "+e._s(e.$t("models.attributes.status_prototypes.non_polarity"))+"\n                    ")])]),i("div",{staticClass:"ui radio checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.status_prototype.polarity,expression:"status_prototype.polarity"}],attrs:{type:"radio",id:"true_polarity"},domProps:{value:!0,checked:e._q(e.status_prototype.polarity,!0)},on:{change:function(t){e.$set(e.status_prototype,"polarity",!0)}}}),i("label",{staticClass:"pointer",attrs:{for:"true_polarity"}},[i("i",{staticClass:"plus icon"}),e._v("\n                        "+e._s(e.$t("models.attributes.status_prototypes.positive_polarity"))+"\n                    ")])]),i("div",{staticClass:"ui radio checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.status_prototype.polarity,expression:"status_prototype.polarity"}],attrs:{type:"radio",id:"false_polarity"},domProps:{value:!1,checked:e._q(e.status_prototype.polarity,!1)},on:{change:function(t){e.$set(e.status_prototype,"polarity",!1)}}}),i("label",{staticClass:"pointer",attrs:{for:"false_polarity"}},[i("i",{staticClass:"minus icon"}),e._v("\n                        "+e._s(e.$t("models.attributes.status_prototypes.negative_polarity"))+"\n                    ")])])]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.status_prototypes.name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.status_prototype.name,expression:"status_prototype.name"}],attrs:{type:"text",name:"name"},domProps:{value:e.status_prototype.name},on:{input:function(t){t.target.composing||e.$set(e.status_prototype,"name",t.target.value)}}})]),i("div",{staticClass:"field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.status_prototypes.description")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.status_prototype.description,expression:"status_prototype.description"}],attrs:{type:"text",name:"description"},domProps:{value:e.status_prototype.description},on:{input:function(t){t.target.composing||e.$set(e.status_prototype,"description",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v("Scope")]),i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.status_prototype.scope,expression:"status_prototype.scope"}],staticClass:"ui mini dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.status_prototype,"scope",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.scope_options,function(t){return i("option",{domProps:{value:t.scope}},[e._v(e._s(t.name))])})],2)]),i("div",{staticClass:"field"},[i("label",[e._v("MaterialClassName")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.status_prototype.material_class_name,expression:"status_prototype.material_class_name"}],attrs:{type:"text",name:"material_class_name"},domProps:{value:e.status_prototype.material_class_name},on:{input:function(t){t.target.composing||e.$set(e.status_prototype,"material_class_name",t.target.value)}}})]),i("div",{staticClass:"ui basic fluid positive button",on:{click:e.create_status_prototype}},[e._v("\n                "+e._s(e.$t("ui.general.submit"))+"\n            ")])])]):e._e()],1)},iw=[];function nw(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function aw(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){nw(r,n,a,s,o,"next",e)}function o(e){nw(r,n,a,s,o,"throw",e)}s(void 0)})}}var rw={name:"NewStatusPrototype",data:function(){return{is_initialized:!1,is_loading:!1,errors:[],status_prototype:{polarity:null,scope:"operator"}}},computed:{scope_options:function(){return[{name:this.$t("ui.status_scopes.system"),scope:"system"},{name:this.$t("ui.status_scopes.mark"),scope:"mark"},{name:this.$t("ui.status_scopes.condition"),scope:"condition"},{name:this.$t("ui.status_scopes.operator"),scope:"operator"},{name:this.$t("ui.status_scopes.forwarder"),scope:"forwarder"},{name:this.$t("ui.status_scopes.public"),scope:"public"}]}},created:function(){},mounted:function(){this.init()},methods:{init:function(){var e=aw(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,new Promise(function(e){t.is_initialized=!0,e()});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),create_status_prototype:function(){var e=this;e.is_loading=!0,e.errors=[];var t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_status_prototypes_create).parse({status_prototype_identity:e.$route.params.identity});axios.post(t,e.status_prototype,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.status_prototype=t.data.status_prototype,e.$noty.success(e.$t("ui.notifications.success.create__name",{name:e.$t("models.status_prototypes")})),e.$router.push({name:"status_prototypes"})):(console.log(t.data),e.$noty.error(t.data))})["catch"](function(t){console.log(t.response),e.$noty.error(t.response)}).then(function(){setTimeout(function(){e.is_loading=!1},300)})}},components:{ErrorMessages:wc}},sw=rw,ow=Object(lt["a"])(sw,tw,iw,!1,null,"f7958200",null),cw=ow.exports,_w=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"edit_status_prototype"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),e.is_initialized?i("div",{staticClass:"contents ui container"},[e.is_loading?i("div",{staticClass:"ui active centered inline loader"}):i("div",{staticClass:"ui form"},[i("div",{staticClass:"field computer column"},[i("div",{staticClass:"ui radio checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.status_prototype.polarity,expression:"status_prototype.polarity"}],attrs:{type:"radio",id:"no_polarity"},domProps:{value:null,checked:e._q(e.status_prototype.polarity,null)},on:{change:function(t){e.$set(e.status_prototype,"polarity",null)}}}),i("label",{staticClass:"pointer",attrs:{for:"no_polarity"}},[i("i",{staticClass:"help icon"}),e._v("\n                        "+e._s(e.$t("models.attributes.status_prototypes.non_polarity"))+"\n                    ")])]),i("div",{staticClass:"ui radio checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.status_prototype.polarity,expression:"status_prototype.polarity"}],attrs:{type:"radio",id:"true_polarity"},domProps:{value:!0,checked:e._q(e.status_prototype.polarity,!0)},on:{change:function(t){e.$set(e.status_prototype,"polarity",!0)}}}),i("label",{staticClass:"pointer",attrs:{for:"true_polarity"}},[i("i",{staticClass:"plus icon"}),e._v("\n                        "+e._s(e.$t("models.attributes.status_prototypes.positive_polarity"))+"\n                    ")])]),i("div",{staticClass:"ui radio checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.status_prototype.polarity,expression:"status_prototype.polarity"}],attrs:{type:"radio",id:"false_polarity"},domProps:{value:!1,checked:e._q(e.status_prototype.polarity,!1)},on:{change:function(t){e.$set(e.status_prototype,"polarity",!1)}}}),i("label",{staticClass:"pointer",attrs:{for:"false_polarity"}},[i("i",{staticClass:"minus icon"}),e._v("\n                        "+e._s(e.$t("models.attributes.status_prototypes.negative_polarity"))+"\n                    ")])])]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.status_prototypes.name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.status_prototype.name,expression:"status_prototype.name"}],attrs:{type:"text",name:"name"},domProps:{value:e.status_prototype.name},on:{input:function(t){t.target.composing||e.$set(e.status_prototype,"name",t.target.value)}}})]),i("div",{staticClass:"field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.status_prototypes.description")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.status_prototype.description,expression:"status_prototype.description"}],attrs:{type:"text",name:"description"},domProps:{value:e.status_prototype.description},on:{input:function(t){t.target.composing||e.$set(e.status_prototype,"description",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v("Scope")]),i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.status_prototype.scope,expression:"status_prototype.scope"}],staticClass:"ui mini dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.status_prototype,"scope",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.scope_options,function(t){return i("option",{domProps:{value:t.scope}},[e._v(e._s(t.name))])})],2)]),i("div",{staticClass:"field"},[i("label",[e._v("MaterialClassName")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.status_prototype.material_class_name,expression:"status_prototype.material_class_name"}],attrs:{type:"text",name:"material_class_name"},domProps:{value:e.status_prototype.material_class_name},on:{input:function(t){t.target.composing||e.$set(e.status_prototype,"material_class_name",t.target.value)}}})]),i("div",{staticClass:"ui basic fluid positive button",on:{click:e.update_status_prototype}},[e._v("\n                "+e._s(e.$t("ui.general.submit"))+"\n            ")])])]):e._e()],1)},lw=[];function uw(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function dw(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){uw(r,n,a,s,o,"next",e)}function o(e){uw(r,n,a,s,o,"throw",e)}s(void 0)})}}var pw={name:"editStatusPrototype",data:function(){return{is_initialized:!1,is_loading:!1,errors:[],status_prototype:{}}},computed:{scope_options:function(){return[{name:this.$t("ui.status_scopes.system"),scope:"system"},{name:this.$t("ui.status_scopes.mark"),scope:"mark"},{name:this.$t("ui.status_scopes.condition"),scope:"condition"},{name:this.$t("ui.status_scopes.operator"),scope:"operator"},{name:this.$t("ui.status_scopes.forwarder"),scope:"forwarder"},{name:this.$t("ui.status_scopes.public"),scope:"public"}]}},created:function(){},mounted:function(){this.init()},methods:{init:function(){var e=dw(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,t.fetch_status_prototype();case 5:return e.next=7,new Promise(function(e){t.is_initialized=!0,e()});case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_status_prototype:function(){var e=this,t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_status_prototype).parse({status_prototype_identity:e.$route.params.identity});return e.is_loading=!0,axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?e.status_prototype=t.data.status_prototype:(console.log(t.data),e.$noty.error(t.data))})["catch"](function(t){console.log(t.response),e.$noty.error(t.response)}).then(function(){setTimeout(function(){e.is_loading=!1},300)})},update_status_prototype:function(){var e=this;e.is_loading=!0,e.errors=[];var t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_status_prototype_update).parse({status_prototype_identity:e.$route.params.identity});axios.post(t,e.status_prototype,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.status_prototype=t.data.status_prototype,e.$noty.success(e.$t("ui.notifications.success.update__name",{name:e.$t("models.status_prototypes")})),e.$router.push({name:"status_prototypes"})):(console.log(t.data),e.$noty.error(t.data))})["catch"](function(t){console.log(t.response),e.$noty.error(t.response)}).then(function(){setTimeout(function(){e.is_loading=!1},300)})}},components:{ErrorMessages:wc}},mw=pw,fw=Object(lt["a"])(mw,_w,lw,!1,null,"0b70cdbd",null),vw=fw.exports,hw="status_prototypes",gw="new_status_prototype",bw="edit_status_prototype",yw=[{path:"",component:ew,name:"status_prototypes",meta:{api_name:"api_v1_provider_status_prototypes",breadcrumb:[hw],btns:[gw]}},{path:"new",component:cw,name:"new_status_prototype",meta:{api_name:"api_v1_provider_status_prototypes_create",breadcrumb:[hw,gw]}},{path:":identity/edit",component:vw,name:"edit_status_prototype",meta:{api_name:"api_v1_provider_status_prototypes_create",breadcrumb:[hw,bw]}}],ww=yw,$w=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"materials"}},[i("CRUDTemplate",{attrs:{columns:e.columns,header_buttons:e.header_buttons,module_scope:e.module_scope,module_name:e.module_name,paginator_channel_name:e.paginator_channel_name,fetch_index_items_url:e.fetch_index_items_url,edit_index_item_url:e.edit_index_item_url,update_index_item_url:e.update_index_item_url,authentication_token:e.authentication_token,index_item_name:e.index_item_name,api_response_corresponding_name_of_index_items:e.api_response_corresponding_name_of_index_items,api_response_corresponding_name_of_index_item:e.api_response_corresponding_name_of_index_item,blank_value_text:e.blank_value_text}})],1)},kw=[],Cw=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"index_template",staticClass:"x_scrollable"},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),i("div",{attrs:{refs:"header_buttons"}},e._l(e.header_buttons,function(t){return i(t.is,{tag:"div",class:t.class,attrs:{to:t.to},on:{click:function(e){return e.preventDefault(),t.click(e)}}},[i("span",{domProps:{innerHTML:e._s(t.content)}})])})),i("table",{staticClass:"ui celled table"},[i("thead",{staticClass:"center aligned"},[i("tr",[e._l(e.columns,function(t){return i("th",[e._v(e._s(t.filter.human_name))])}),i("th",[i("div",{staticClass:"ui basic black icon button",on:{click:function(t){return t.preventDefault(),e.toggle_filter(t)}}},[e.show_filter?i("i",{staticClass:"double up angle icon"}):i("i",{staticClass:"double down angle icon"})])])],2),i("tr",{directives:[{name:"show",rawName:"v-show",value:e.show_filter,expression:"show_filter"}]},[e._l(e.columns,function(t){return i("th",["text"==t.filter.type?i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params[t.filter.attribute_name],expression:"search_params[column.filter.attribute_name]"}],attrs:{type:"text"},domProps:{value:e.search_params[t.filter.attribute_name]},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_index_items(t):null},input:function(i){i.target.composing||e.$set(e.search_params,t.filter.attribute_name,i.target.value)}}})]):e._e(),"number"==t.filter.type?i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params[t.filter.attribute_name],expression:"search_params[column.filter.attribute_name]"}],attrs:{type:"number"},domProps:{value:e.search_params[t.filter.attribute_name]},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_index_items(t):null},input:function(i){i.target.composing||e.$set(e.search_params,t.filter.attribute_name,i.target.value)}}})]):e._e(),"number_range"==t.filter.type?i("table",[i("tbody",[i("tr",[i("td",[e._v("\n                                    從\n                                    "),i("div",{staticClass:"ui input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params[t.filter.attribute_name_of_from],expression:"search_params[column.filter.attribute_name_of_from]"}],attrs:{type:"number"},domProps:{value:e.search_params[t.filter.attribute_name_of_from]},on:{keypress:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_index_items(t):null},input:function(i){i.target.composing||e.$set(e.search_params,t.filter.attribute_name_of_from,i.target.value)}}})])])]),i("tr",[i("td",[e._v("\n                                    到\n                                    "),i("div",{staticClass:"ui input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params[t.filter.attribute_name_of_to],expression:"search_params[column.filter.attribute_name_of_to]"}],attrs:{type:"number"},domProps:{value:e.search_params[t.filter.attribute_name_of_to]},on:{keypress:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_index_items(t):null},input:function(i){i.target.composing||e.$set(e.search_params,t.filter.attribute_name_of_to,i.target.value)}}})])])])])]):e._e(),"checkbox"==t.filter.type?i("div",{staticClass:"ui mini input"},[i("div",{staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params[t.filter.attribute_name],expression:"search_params[column.filter.attribute_name]"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.search_params[t.filter.attribute_name])?e._i(e.search_params[t.filter.attribute_name],null)>-1:e.search_params[t.filter.attribute_name]},on:{change:function(i){var n=e.search_params[t.filter.attribute_name],a=i.target,r=!!a.checked;if(Array.isArray(n)){var s=null,o=e._i(n,s);a.checked?o<0&&e.$set(e.search_params,t.filter.attribute_name,n.concat([s])):o>-1&&e.$set(e.search_params,t.filter.attribute_name,n.slice(0,o).concat(n.slice(o+1)))}else e.$set(e.search_params,t.filter.attribute_name,r)}}}),i("label",[e._v(e._s(t.filter.human_name))])])]):e._e(),"datetime"==t.filter.type?i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params[t.filter.attribute_name],expression:"search_params[column.filter.attribute_name]"}],attrs:{type:"datetime-local"},domProps:{value:e.search_params[t.filter.attribute_name]},on:{input:function(i){i.target.composing||e.$set(e.search_params,t.filter.attribute_name,i.target.value)}}})]):e._e(),"datetime_range"==t.filter.type?i("table",[i("tbody",[i("tr",[i("td",[e._v("從")]),i("td",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params[t.filter.attribute_name_of_from],expression:"search_params[column.filter.attribute_name_of_from]"}],attrs:{type:"datetime-local"},domProps:{value:e.search_params[t.filter.attribute_name_of_from]},on:{input:function(i){i.target.composing||e.$set(e.search_params,t.filter.attribute_name_of_from,i.target.value)}}})])])]),i("tr",[i("td",[e._v("到")]),i("td",[i("div",{staticClass:"ui mini input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params[t.filter.attribute_name_of_to],expression:"search_params[column.filter.attribute_name_of_to]"}],attrs:{type:"datetime-local"},domProps:{value:e.search_params[t.filter.attribute_name_of_to]},on:{input:function(i){i.target.composing||e.$set(e.search_params,t.filter.attribute_name_of_to,i.target.value)}}})])])])])]):e._e()])}),i("th",[i("div",{staticClass:"ui buttons"},[i("div",{staticClass:"ui basic black icon button",on:{click:function(t){return t.preventDefault(),e.fetch_index_items(t)}}},[i("i",{staticClass:"search icon"})]),i("div",{staticClass:"ui basic black icon button",on:{click:function(t){return t.preventDefault(),e.init_search_params(t)}}},[i("i",{staticClass:"refresh icon"})])])])],2)]),e.is_loading?i("tbody",{staticClass:"center aligned"},[i("tr",{staticClass:"loading"},[i("td",{attrs:{colspan:e.columns.length+1}},[i("div",{staticClass:"ui active centered inline loader"})])])]):i("tbody",{staticClass:"center aligned"},[e._l(e.index_items,function(t){return i("Item",{key:t.identity,attrs:{index_item:t,columns:e.columns,edit_index_item_url:e.edit_index_item_url,delete_index_item_url:e.delete_index_item_url,update_index_item_url:e.update_index_item_url,authentication_token:e.authentication_token,index_item_name:e.index_item_name,api_response_corresponding_name_of_index_item:e.api_response_corresponding_name_of_index_item,blank_value_text:e.blank_value_text}})}),e.index_items.length<=0?i("tr",{staticClass:"center aligned"},[i("td",{attrs:{colspan:e.columns.length+1}},[i("h5",[e._v(e._s(e.$t("ui.general.no_data")))])])]):e._e()],2)]),e.pagination.total_pages||e.pagination.current_page?i("Paginator",{tag:"div",attrs:{total_pages:e.pagination.total_pages,current_page:e.pagination.current_page,change_page_channel:e.paginator_channel_name,disabled:e.is_loading}}):e._e()],1)},xw=[],Pw=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.index_item?i("tr",[e._l(e.columns,function(t){return i("td",["text"==t.item.type?i("span",{domProps:{innerHTML:e._s(e.index_item[t.item.attribute_name]||e.blank_value_text)}}):e._e(),"selection"==t.item.type?i("span",{domProps:{innerHTML:e._s(e.selection_value(t)||e.blank_value_text)}}):e._e(),"boolean"==t.item.type?i("span",[t.show_toggle_button&&e.is_loading?i("div",[i("i",{staticClass:"circle notch loading icon"})]):t.show_toggle_button&&!e.is_loading?i("div",{on:{click:function(i){i.preventDefault(),e.toggle_attribute(t.item.attribute_name)}}},[e.index_item[t.item.attribute_name]?i("span",[i("i",{staticClass:"check icon"}),e._v(" 是\n                ")]):e._e(),e.index_item[t.item.attribute_name]?e._e():i("span",[i("i",{staticClass:"remove icon"}),e._v(" 否\n                ")])]):t.show_toggle_button?e._e():i("div",[e.index_item[t.item.attribute_name]?i("span",[i("i",{staticClass:"check icon"}),e._v(" 是\n                ")]):e._e(),e.index_item[t.item.attribute_name]?e._e():i("span",[i("i",{staticClass:"remove icon"}),e._v(" 否\n                ")])])]):e._e()])}),i("td",[e.is_loading?i("div",{staticClass:"ui vertical buttons"},[e.edit_index_item_url?i("div",{staticClass:"ui basic green loading button"},[e._v("\n                "+e._s(e.$t("ui.general.edit"))+"\n            ")]):e._e(),e.delete_index_item_url?i("a",{staticClass:"ui basic red loading button"},[e._v("\n                "+e._s(e.$t("ui.general.delete"))+"\n            ")]):e._e()]):i("div",{staticClass:"ui vertical buttons"},[e.edit_index_item_url?i("router-link",{staticClass:"ui basic green button",attrs:{to:e.convert_url_object(e.edit_index_item_url)}},[e._v("\n                "+e._s(e.$t("ui.general.edit"))+"\n            ")]):e._e(),e.delete_index_item_url?i("a",{staticClass:"ui basic red button",on:{click:function(t){return t.preventDefault(),e.delete_index_item(t)}}},[e._v("\n                "+e._s(e.$t("ui.general.delete"))+"\n            ")]):e._e()],1)])],2):e._e()},Sw=[],Nw={name:"CRUDTemplatesIndexItem",props:{columns:{type:Array,default:function(){return[]}},index_item:Object,edit_index_item_url:Object,update_index_item_url:Object,delete_index_item_url:Object,authentication_token:String,index_item_name:String,api_response_corresponding_name_of_index_item:String,blank_value_text:{type:String,default:function(){return""}}},data:function(){return{is_loading:!1}},computed:{},mounted:function(){},methods:{delete_index_item:function(){var e=this;if(confirm(this.$t("ui.notifications.warning.are_you_sure_to_delete_it"))){e.is_loading=!0;var t=e.convert_url_object(e.delete_index_item_url);axios.get(t,{headers:{Authorization:e.authentication_token}}).then(function(t){"success"==t.data.status?(e.$parent.fetch_index_items(),e.$noty.success(e.$t("ui.notifications.success.delete__name",{name:e.index_item_name}))):(console.log(t.data),e.$noty.error(e.$t("ui.notifications.error.delete__name",{name:e.index_item_name})))})["catch"](function(t){console.log(t.response),e.$noty.error(e.$t("ui.notifications.error.delete__name",{name:e.index_item_name}))})["finally"](function(){e.is_loading=!1})}},toggle_attribute:function(e){var t=this;t.is_loading=!0;var i=t.convert_url_object(t.update_index_item_url);axios.post(i,{}[e]=!t.index_item[e],{headers:{Authorization:t.authentication_token}}).then(function(i){"success"==i.data.status?(t.index_item[e]=i.data[api_response_corresponding_name_of_index_item][e],t.$noty.success(t.$t("ui.notifications.success.update__name",{name:t.index_item_name}))):t.$noty.error(t.$t("ui.notifications.error.update__name",{name:t.index_item_name}))})["catch"](function(e){console.log(e.response)})["finally"](function(){t.is_loading=!1})},convert_url_object:function(e){var t=this,i={},n=!0,a=!1,r=void 0;try{for(var s,o=e.params[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var c=s.value;switch(c.source){case"index_item":i[c.key_name]=t.index_item[c.attribute_name];break;case"route_params":i[c.key_name]=t.$route.params[c.attribute_name];break}}}catch(_){a=!0,r=_}finally{try{n||null==o["return"]||o["return"]()}finally{if(a)throw r}}switch(e.type){case"vue":return{name:e.url,params:i};case"http":return new RestUrl(e.url).parse(i)}},selection_value:function(e){var t=this,i=_.find(e.item.options,function(i){return i[e.item.option_attribute_name]==t.index_item[e.item.attribute_name]});return i?i[e.item.option_human_name]:null}}},Aw=Nw,Ew=Object(lt["a"])(Aw,Pw,Sw,!1,null,"7274f9be",null),qw=Ew.exports;function zw(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function jw(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){zw(r,n,a,s,o,"next",e)}function o(e){zw(r,n,a,s,o,"throw",e)}s(void 0)})}}var Rw={name:"CRUDTemplatesIndex",props:{columns:{type:Array,default:function(){return[]}},header_buttons:{type:Array,default:function(){return[]}},module_scope:String,module_name:String,paginator_channel_name:String,fetch_index_items_url:{type:Object,default:function(){return{}}},edit_index_item_url:{type:Object},delete_index_item_url:{type:Object},update_index_item_url:{type:Object},authentication_token:String,index_item_name:String,api_response_corresponding_name_of_index_items:String,api_response_corresponding_name_of_index_item:String,blank_value_text:{type:String,default:function(){return""}}},data:function(){return{is_initialized:!1,is_loading:!1,is_search_params_changed:!1,index_items:[],errors:[]}},computed:{pagination:function(){return this.$store.state[this.module_scope][this.module_name].pagination},search_params:function(){return this.$store.state[this.module_scope][this.module_name].search_params},show_filter:function(){return this.$store.state[this.module_scope][this.module_name].show_filter}},created:function(){},mounted:function(){this.init()},watch:{search_params:{handler:function(e,t){this.is_search_params_changed=!0},deep:!0}},methods:{init:function(){var e=jw(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,new Promise(function(e){t.is_initialized=!1,e()});case 4:return e.next=6,t.$store.commit(t.module_scope+"/"+t.module_name+"/init_search_params");case 6:return e.next=8,t.fetch_index_items();case 8:return e.next=10,new Promise(function(e){t.is_initialized=!0,e()});case 10:e.next=15;break;case 12:switch(e.prev=12,e.t0=e["catch"](1),e.t0){default:console.log("init error: "),console.log(e.t0)}case 15:return e.prev=15,t.$bus.$off(t.paginator_channel_name),t.$bus.$on(t.paginator_channel_name,function(e){t.$store.commit(t.module_scope+"/"+t.module_name+"/set_current_page",e),t.fetch_index_items()}.bind(this)),e.finish(15);case 19:case"end":return e.stop()}},e,this,[[1,12,15,19]])}));function t(){return e.apply(this,arguments)}return t}(),fetch_index_items:function(){var e=this;if(0==e.is_loading){e.errors=[],e.is_loading=!0,e.is_search_params_changed&&(e.$store.commit(e.module_scope+"/"+e.module_name+"/set_current_page",null),e.is_search_params_changed=!1);var t=e.convert_url_object(e.fetch_index_items_url)+"?"+object_to_query(e.search_params)+"&"+object_to_query({page:e.pagination.current_page});return axios.get(t,{headers:{Authorization:e.authentication_token}}).then(function(t){if("success"!=t.data.status)return Promise.reject(t.data);e.index_items=t.data[e.api_response_corresponding_name_of_index_items],t.data.pagination&&(e.$store.commit(e.module_scope+"/"+e.module_name+"/set_current_page",t.data.pagination.current_page),e.$store.commit(e.module_scope+"/"+e.module_name+"/set_total_pages",t.data.pagination.total_pages))})["catch"](function(t){if(t.response){switch(t.response.status){default:e.errors.push(t.response.status+" "+t.response.statusText)}e.$noty.error("取得 "+e.index_item_name+" 失敗: "+t.response.status+" "+t.response.statusText)}else t.errors?(e.$noty.error("取得 "+e.index_item_name+" 失敗: "+t.errors),e.errors=response.data.errors):(e.errors.push(e.$t("ui.general.server_offline")),e.$noty.error(e.$t("ui.general.server_offline")));return Promise.reject(t)})["finally"](function(){setTimeout(function(){e.is_loading=!1},300)})}},init_search_params:function(){this.$store.commit(this.module_scope+"/"+this.module_name+"/init_search_params"),$(this.$refs.index_template).find(".ui.dropdown").dropdown("clear")},toggle_filter:function(){this.$store.commit(this.module_scope+"/"+this.module_name+"/toggle_filter")},convert_url_object:function(e){var t=this,i={},n=!0,a=!1,r=void 0;try{for(var s,o=e.params[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var c=s.value;switch(c.source){case"index_item":i[c.key_name]=t.index_item[c.attribute_name];break;case"route_params":i[c.key_name]=t.$route.params[c.attribute_name];break}}}catch(_){a=!0,r=_}finally{try{n||null==o["return"]||o["return"]()}finally{if(a)throw r}}switch(e.type){case"vue":return{name:e.url,params:i};case"http":return new RestUrl(e.url).parse(i)}}},components:{Item:qw,Paginator:cr,ErrorMessages:wc}},Iw=Rw,Tw=(n("9fb4"),Object(lt["a"])(Iw,Cw,xw,!1,null,"2c9c151e",null)),Ow=Tw.exports,Lw={name:"MaterialsIndex",data:function(){return{columns:[{filter:{type:null,human_name:this.$t("models.attributes.materials.name"),attribute_name:"name"},item:{type:"text",attribute_name:"name"}},{filter:{type:null,human_name:this.$t("models.attributes.materials.en_name"),attribute_name:"en_name"},item:{type:"text",attribute_name:"en_name"}},{filter:{type:null,human_name:this.$t("models.attributes.materials.core_waybill_level"),attribute_name:"core_waybill_level"},item:{type:"text",attribute_name:"core_waybill_level"}},{filter:{type:null,human_name:this.$t("models.attributes.materials.class_name"),attribute_name:"class_name"},item:{type:"text",attribute_name:"class_name"}},{filter:{type:null,human_name:this.$t("models.attributes.materials.label_type"),attribute_name:"label_type"},item:{type:"text",attribute_name:"label_type"}}],header_buttons:[{is:"router-link",class:"ui basic positive button",content:"<i class='plus icon'></i>"+this.$t("ui.page_titles.new_material"),to:{name:"new_material"}}],module_scope:"provider",module_name:"materials_module",paginator_channel_name:"materials_index",fetch_index_items_url:{type:"http",url:this.$store.state.provider.routes.api_v1_provider_materials,params:[]},edit_index_item_url:{type:"vue",url:"edit_material",params:[{key_name:"material_identity",attribute_name:"identity",source:"index_item"}]},delete_index_item_url:{type:"http",url:this.$store.state.provider.routes.api_v1_provider_material_delete,params:[{key_name:"material_identity",attribute_name:"identity",source:"index_item"}]},update_index_item_url:{},authentication_token:localStorage.getItem("authentication_token"),index_item_name:this.$t("models.materials"),api_response_corresponding_name_of_index_items:"materials",api_response_corresponding_name_of_index_item:"material",blank_value_text:"<span style='color: red;'>-</span>"}},computed:{},created:function(){},mounted:function(){},watch:{},methods:{},components:{CRUDTemplate:Ow}},Dw=Lw,Bw=Object(lt["a"])(Dw,$w,kw,!1,null,null,null),Mw=Bw.exports,Uw=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"new_material"}},[i("CRUDTemplate",{attrs:{columns:e.columns,create_index_item_url:e.create_index_item_url,authentication_token:e.authentication_token,index_item_name:e.index_item_name,api_response_corresponding_name_of_index_item:e.api_response_corresponding_name_of_index_item,after_create_url:e.after_create_url}})],1)},Fw=[],Gw=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"new_template"},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),e.is_initialized?i("div",[i("table",{staticClass:"ui fixed table blue"},[i("thead",[i("tr",[i("th",{staticClass:"right aligned"},[i("h3",{staticClass:"ui header"},[e._v("\n                            "+e._s(e.$t("ui.toolbox.crud_templates.new"))+"\n                            "+e._s(e.index_item_name)+"\n                        ")])]),i("th",{attrs:{colspan:"4"}}),i("th")])]),i("tbody",{staticClass:"ui form"},[e._l(e.columns,function(t){return i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(t.human_name)+"\n                    ")]),i("td",{staticStyle:{overflow:"visible"},attrs:{colspan:"5"}},["text"==t.type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.index_item[t.attribute_name],expression:"index_item[column.attribute_name]"}],attrs:{type:"text",placeholder:t.placeholder},domProps:{value:e.index_item[t.attribute_name]},on:{input:function(i){i.target.composing||e.$set(e.index_item,t.attribute_name,i.target.value)}}}):e._e(),"number"==t.type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.index_item[t.attribute_name],expression:"index_item[column.attribute_name]"}],attrs:{type:"number",placeholder:t.placeholder},domProps:{value:e.index_item[t.attribute_name]},on:{input:function(i){i.target.composing||e.$set(e.index_item,t.attribute_name,i.target.value)}}}):e._e(),"textarea"==t.type?i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.index_item[t.attribute_name],expression:"index_item[column.attribute_name]"}],attrs:{placeholder:t.placeholder,rows:"5"},domProps:{value:e.index_item[t.attribute_name]},on:{input:function(i){i.target.composing||e.$set(e.index_item,t.attribute_name,i.target.value)}}}):e._e(),"selection"==t.type?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.index_item[t.attribute_name],expression:"index_item[column.attribute_name]"}],staticClass:"ui dropdown",on:{change:function(i){var n=Array.prototype.filter.call(i.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.index_item,t.attribute_name,i.target.multiple?n:n[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(t.options,function(n){return i("option",{domProps:{value:n[t.option_attribute_name]}},[e._v(e._s(n[t.option_human_name]))])})],2):e._e()])])}),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("ui.general.operate"))+"\n                    ")]),i("td",{staticStyle:{overflow:"visible"},attrs:{colspan:"5"}},[i("button",{staticClass:"ui basic positive button",on:{click:function(t){return t.preventDefault(),e.create_index_item(t)}}},[e._v(e._s(e.$t("ui.general.create")))])])])],2)])]):e._e()],1)},Hw=[];function Yw(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function Kw(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){Yw(r,n,a,s,o,"next",e)}function o(e){Yw(r,n,a,s,o,"throw",e)}s(void 0)})}}var Ww={name:"CRUDTemplatesNew",props:{columns:Array,authentication_token:String,index_item_name:String,api_response_corresponding_name_of_index_item:String,create_index_item_url:{type:Object,default:function(){return{}}},after_create_url:{type:Object,default:function(){return{}}}},data:function(){return{is_initialized:!1,is_loading:!1,index_item:{},errors:[]}},created:function(){},mounted:function(){this.init()},watch:{},computed:{},methods:{init:function(){var e=Kw(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,new Promise(function(e){t.is_initialized=!1,e()});case 4:return e.next=6,new Promise(function(e){t.is_initialized=!0,e()});case 6:e.next=11;break;case 8:switch(e.prev=8,e.t0=e["catch"](1),e.t0){default:console.log("init error: "),console.log(e.t0)}case 11:return e.prev=11,e.finish(11);case 13:case"end":return e.stop()}},e,this,[[1,8,11,13]])}));function t(){return e.apply(this,arguments)}return t}(),create_index_item:function(){var e=this;e.is_loading=!0,e.errors=[];var t=e.index_item,i=e.convert_url_object(e.create_index_item_url);return axios.post(i,t,{headers:{Authorization:e.authentication_token}}).then(function(t){if("success"!=t.data.status)return Promise.reject(t.data);e.index_item=t.data[e.api_response_corresponding_name_of_index_item],e.$noty.success(e.$t("ui.notifications.success.create__name",{name:e.index_item_name})),e.$router.push(e.convert_url_object(e.after_create_url))})["catch"](function(t){if(t.response){switch(t.response.status){default:e.errors.push(t.response.status+" "+t.response.statusText)}e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.index_item_name,reason:": "+t.response.status+" "+t.response.statusText}))}else t.errors?(e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.index_item_name,reason:": "+t.errors})),e.errors=response.data.errors):(e.errors.push(e.$t("ui.general.server_offline")),e.$noty.error(e.$t("ui.general.server_offline")));return Promise.reject(t)})["finally"](function(){setTimeout(function(){e.is_loading=!1},300)})},convert_url_object:function(e){var t=this,i={},n=!0,a=!1,r=void 0;try{for(var s,o=e.params[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var c=s.value;switch(c.source){case"index_item":i[c.key_name]=t.index_item[c.attribute_name];break;case"route_params":i[c.key_name]=t.$route.params[c.attribute_name];break}}}catch(_){a=!0,r=_}finally{try{n||null==o["return"]||o["return"]()}finally{if(a)throw r}}switch(e.type){case"vue":return{name:e.url,params:i};case"http":return new RestUrl(e.url).parse(i)}}},components:{ErrorMessages:wc}},Vw=Ww,Xw=Object(lt["a"])(Vw,Gw,Hw,!1,null,"2188aaea",null),Qw=Xw.exports,Zw={name:"NewMaterial",props:{},data:function(){return{columns:[{human_name:this.$t("models.attributes.materials.name"),attribute_name:"name",placeholder:this.$t("models.attributes.materials.name"),type:"text"},{human_name:this.$t("models.attributes.materials.en_name"),attribute_name:"en_name",placeholder:this.$t("models.attributes.materials.en_name"),type:"text"},{human_name:this.$t("models.attributes.materials.core_waybill_level"),attribute_name:"core_waybill_level",placeholder:this.$t("models.attributes.materials.core_waybill_level"),type:"number"},{human_name:this.$t("models.attributes.materials.class_name"),attribute_name:"class_name",placeholder:this.$t("models.attributes.materials.class_name"),type:"text"},{human_name:this.$t("models.attributes.materials.label_type"),attribute_name:"label_type",placeholder:this.$t("models.attributes.materials.label_type"),type:"selection",options:[{label_type:"Label::ByExpress",human_name:"Label::ByExpress"}],option_attribute_name:"label_type",option_human_name:"human_name"}],authentication_token:localStorage.getItem("authentication_token"),index_item_name:this.$t("models.materials"),api_response_corresponding_name_of_index_item:"material",create_index_item_url:{type:"http",url:this.$store.state.provider.routes.api_v1_provider_materials_create,params:[]},after_create_url:{type:"vue",url:"edit_material",params:[{key_name:"material_identity",attribute_name:"identity",source:"index_item"}]}}},created:function(){},mounted:function(){},watch:{},computed:{},methods:{},components:{CRUDTemplate:Qw}},Jw=Zw,e$=Object(lt["a"])(Jw,Uw,Fw,!1,null,"2e1df599",null),t$=e$.exports,i$=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"edit_material"}},[i("CRUDTemplate",{attrs:{title_attribute:e.title_attribute,columns:e.columns,fetch_index_item_url:e.fetch_index_item_url,update_index_item_url:e.update_index_item_url,authentication_token:e.authentication_token,index_item_name:e.index_item_name,api_response_corresponding_name_of_index_item:e.api_response_corresponding_name_of_index_item,after_update_url:e.after_update_url}})],1)},n$=[],a$=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"new_template"},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),e.is_initialized?i("div",[i("table",{staticClass:"ui fixed table blue"},[i("thead",[i("tr",[i("th",{staticClass:"right aligned"},[i("h3",{staticClass:"ui header"},[e._v(e._s(e.index_item[e.title_attribute]))])]),i("th",{attrs:{colspan:"4"}}),i("th")])]),i("tbody",{staticClass:"ui form"},[e._l(e.columns,function(t){return i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(t.human_name)+"\n                    ")]),i("td",{staticStyle:{overflow:"visible"},attrs:{colspan:"5"}},["text"==t.type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.index_item[t.attribute_name],expression:"index_item[column.attribute_name]"}],attrs:{type:"text",placeholder:t.placeholder},domProps:{value:e.index_item[t.attribute_name]},on:{input:function(i){i.target.composing||e.$set(e.index_item,t.attribute_name,i.target.value)}}}):e._e(),"number"==t.type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.index_item[t.attribute_name],expression:"index_item[column.attribute_name]"}],attrs:{type:"number",placeholder:t.placeholder},domProps:{value:e.index_item[t.attribute_name]},on:{input:function(i){i.target.composing||e.$set(e.index_item,t.attribute_name,i.target.value)}}}):e._e(),"textarea"==t.type?i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.index_item[t.attribute_name],expression:"index_item[column.attribute_name]"}],attrs:{placeholder:t.placeholder,rows:"5"},domProps:{value:e.index_item[t.attribute_name]},on:{input:function(i){i.target.composing||e.$set(e.index_item,t.attribute_name,i.target.value)}}}):e._e(),"selection"==t.type?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.index_item[t.attribute_name],expression:"index_item[column.attribute_name]"}],staticClass:"ui dropdown",on:{change:function(i){var n=Array.prototype.filter.call(i.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.index_item,t.attribute_name,i.target.multiple?n:n[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(t.options,function(n){return i("option",{domProps:{value:n[t.option_attribute_name]}},[e._v(e._s(n[t.option_human_name]))])})],2):e._e()])])}),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("ui.general.operate"))+"\n                    ")]),i("td",{staticStyle:{overflow:"visible"},attrs:{colspan:"5"}},[i("button",{staticClass:"ui basic positive button",on:{click:function(t){return t.preventDefault(),e.update_index_item(t)}}},[e._v("\n                            "+e._s(e.$t("ui.general.update"))+"\n                        ")])])])],2)])]):e._e()],1)},r$=[];function s$(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function o$(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){s$(r,n,a,s,o,"next",e)}function o(e){s$(r,n,a,s,o,"throw",e)}s(void 0)})}}var c$={name:"CRUDTemplatesEdit",props:{title_attribute:String,columns:Array,authentication_token:String,index_item_name:String,api_response_corresponding_name_of_index_item:String,fetch_index_item_url:{type:Object,default:function(){return{}}},update_index_item_url:{type:Object,default:function(){return{}}},after_update_url:{type:Object,default:function(){return{}}}},data:function(){return{is_initialized:!1,is_loading:!1,index_item:{},errors:[]}},created:function(){},mounted:function(){this.init()},watch:{},computed:{},methods:{init:function(){var e=o$(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,new Promise(function(e){t.is_initialized=!1,e()});case 4:return e.next=6,t.fetch_index_item();case 6:return e.next=8,new Promise(function(e){t.is_initialized=!0,e()});case 8:e.next=13;break;case 10:switch(e.prev=10,e.t0=e["catch"](1),e.t0){default:console.log("init error: "),console.log(e.t0)}case 13:return e.prev=13,e.finish(13);case 15:case"end":return e.stop()}},e,this,[[1,10,13,15]])}));function t(){return e.apply(this,arguments)}return t}(),fetch_index_item:function(){var e=this,t=e.convert_url_object(e.fetch_index_item_url);return e.is_loading=!0,axios.get(t,{headers:{Authorization:e.authentication_token}}).then(function(t){if("success"!=t.data.status)return Promise.reject(t.data);e.index_item=t.data[e.api_response_corresponding_name_of_index_item]})["catch"](function(t){if(t.response){switch(t.response.status){default:e.errors.push(t.response.status+" "+t.response.statusText)}e.$noty.error("取得 "+e.index_item_name+" 失敗: "+t.response.status+" "+t.response.statusText)}else t.errors?e.$noty.error("取得 "+e.index_item_name+" 失敗: "+t.errors):(e.errors.push(e.$t("ui.general.server_offline")),e.$noty.error(e.$t("ui.general.server_offline")));return Promise.reject(t)})["finally"](function(){e.is_loading=!1})},update_index_item:function(){var e=this;e.is_loading=!0,e.errors=[];var t=e.index_item,i=e.convert_url_object(e.update_index_item_url);return axios.post(i,t,{headers:{Authorization:e.authentication_token}}).then(function(t){if("success"!=t.data.status)return Promise.reject(t.data);e.index_item=t.data[e.api_response_corresponding_name_of_index_item],e.$noty.success("更新"+e.index_item_name+"成功"),e.$router.push(e.convert_url_object(e.after_update_url))})["catch"](function(t){if(t.response){switch(t.response.status){default:e.errors.push(t.response.status+" "+t.response.statusText)}e.$noty.error("取得 "+e.index_item_name+" 失敗: "+t.response.status+" "+t.response.statusText)}else t.errors?(e.$noty.error("取得 "+e.index_item_name+" 失敗: "+t.errors),e.errors=response.data.errors):(e.errors.push(e.$t("ui.general.server_offline")),e.$noty.error(e.$t("ui.general.server_offline")));return Promise.reject(t)})["finally"](function(){setTimeout(function(){e.is_loading=!1},300)})},convert_url_object:function(e){var t=this,i={},n=!0,a=!1,r=void 0;try{for(var s,o=e.params[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var c=s.value;switch(c.source){case"index_item":i[c.key_name]=t.index_item[c.attribute_name];break;case"route_params":i[c.key_name]=t.$route.params[c.attribute_name];break}}}catch(_){a=!0,r=_}finally{try{n||null==o["return"]||o["return"]()}finally{if(a)throw r}}switch(e.type){case"vue":return{name:e.url,params:i};case"http":return new RestUrl(e.url).parse(i)}}},components:{ErrorMessages:wc}},_$=c$,l$=Object(lt["a"])(_$,a$,r$,!1,null,"ded1e0c8",null),u$=l$.exports,d$={name:"EditMaterial",props:{},data:function(){return{title_attribute:"name",columns:[{human_name:this.$t("models.attributes.materials.name"),attribute_name:"name",placeholder:this.$t("models.attributes.materials.name"),type:"text"},{human_name:this.$t("models.attributes.materials.en_name"),attribute_name:"en_name",placeholder:this.$t("models.attributes.materials.en_name"),type:"text"},{human_name:this.$t("models.attributes.materials.core_waybill_level"),attribute_name:"core_waybill_level",placeholder:this.$t("models.attributes.materials.core_waybill_level"),type:"number"},{human_name:this.$t("models.attributes.materials.class_name"),attribute_name:"class_name",placeholder:this.$t("models.attributes.materials.class_name"),type:"text"},{human_name:this.$t("models.attributes.materials.label_type"),attribute_name:"label_type",placeholder:this.$t("models.attributes.materials.label_type"),type:"selection",options:[{label_type:"Label::ByExpress",human_name:"Label::ByExpress"}],option_attribute_name:"label_type",option_human_name:"human_name"}],authentication_token:localStorage.getItem("authentication_token"),index_item_name:"物料",api_response_corresponding_name_of_index_item:"material",fetch_index_item_url:{type:"http",url:this.$store.state.provider.routes.api_v1_provider_material,params:[{key_name:"material_identity",attribute_name:"material_identity",source:"route_params"}]},update_index_item_url:{type:"http",url:this.$store.state.provider.routes.api_v1_provider_material_update,params:[{key_name:"material_identity",attribute_name:"identity",source:"index_item"}]},after_update_url:{type:"vue",url:"materials",params:[]}}},created:function(){},mounted:function(){},watch:{},computed:{},methods:{},components:{CRUDTemplate:u$}},p$=d$,m$=Object(lt["a"])(p$,i$,n$,!1,null,"6c25b0f1",null),f$=m$.exports,v$="materials",h$="new_material",g$="edit_material",b$=[{path:"",component:Mw,name:"materials",meta:{api_name:"api_v1_provider_materials",breadcrumb:[v$],btns:[h$]}},{path:"new",component:t$,name:"new_material",meta:{api_name:"api_v1_provider_materials_create",breadcrumb:[v$,h$]}},{path:":material_identity/edit",component:f$,name:"edit_material",meta:{api_name:"api_v1_provider_material_update",breadcrumb:[v$,g$]}}],y$=b$,w$=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"index"}},[i("router-link",{staticClass:"ui green button",attrs:{to:{name:"new_permission_group"}}},[i("i",{staticClass:"plus icon"}),e._v("\n        "+e._s(e.$t("ui.page_titles.new_permission_group"))+"\n    ")]),i("table",{staticClass:"ui celled selectable table"},[i("thead",[i("tr",[i("th",[e._v(e._s(e.$t("models.attributes.permission_groups.name")))]),i("th",{attrs:{colspan:"3"}})])]),e.permission_groups&&e.permission_groups.length>0?i("tbody",e._l(e.permission_groups,function(e){return i("TableItem",{tag:"tr",attrs:{permission_group:e}})})):i("tbody",[i("tr",[i("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"100%"}},[e._v(e._s(e.$t("ui.general.no_data")))])])])]),i("Paginator",{tag:"div",attrs:{total_pages:e.total_pages,current_page:e.current_page,change_page_channel:"index_page"}})],1)},$$=[],k$=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.permission_group?i("tr",[i("td",[e._v(" "+e._s(e.permission_group.name))]),i("td",[i("router-link",{staticClass:"ui basic green button",attrs:{to:{name:"edit_permission_group",params:{identity:e.permission_group.identity}}}},[e._v("\n            "+e._s(e.$t("ui.general.edit"))+"\n        ")])],1),i("td",[i("a",{staticClass:"ui basic red button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.delete_permission_group()}}},[e._v(e._s(e.$t("ui.general.delete")))])])]):e._e()},C$=[],x$={name:"ProviderPermissionGroupsIndexTableItem",props:{permission_group:Object},computed:{},methods:{delete_permission_group:function(){var e=this;if(confirm(this.$t("ui.notifications.warning.are_you_sure_to_delete_it"))){var t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_permission_group_delete).parse({identity:e.permission_group.identity});axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$el.remove(),e.$noty.success(e.$t("ui.notifications.success.delete__name",{name:e.permission_group.name}))):e.$noty.error(e.$t("ui.notifications.error.delete__name",{name:e.permission_group.name}))})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.delete__name",{name:e.permission_group.name,reason:": "+t}))})}}}},P$=x$,S$=Object(lt["a"])(P$,k$,C$,!1,null,"37107d34",null),N$=S$.exports,A$={name:"PermissionGroupsIndex",data:function(){return{is_initializing:!1,search:"",errors:[]}},mounted:function(){console.log("INDEX permission_groups"),this.$store.state.provider.permission_groups_module.current={name:"",permission_ids:[]}},computed:{permission_groups:function(){return this.$store.state.provider.permission_groups_module.permission_groups},current_permission_group:function(){return this.$store.state.provider.permission_groups_module.current_permission_group},current_page:function(){return this.$store.state.provider.permission_groups_module.current_page},total_pages:function(){return this.$store.state.provider.permission_groups_module.total_pages}},methods:{},components:{TableItem:N$,Paginator:cr}},E$=A$,q$=Object(lt["a"])(E$,w$,$$,!1,null,null,null),z$=q$.exports,j$=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"new"}},[e.errors.length>0?i("div",{staticClass:"ui red icon message"},[i("i",{staticClass:"warning icon"}),i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                "+e._s(e.$t("ui.notifications.error.please_handle_errors"))+"\n            ")]),e._l(e.errors,function(t,n){return i("p",[e._v(e._s(n+1)+". "+e._s(t))])})],2)]):e._e(),i("div",{staticClass:"contents"},[i("div",{staticClass:"ui form",class:{loading:e.is_processing}},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.permission_groups.name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.current_data.name,expression:"current_data.name"}],staticClass:"name",attrs:{type:"text"},domProps:{value:e.current_data.name},on:{input:function(t){t.target.composing||e.$set(e.current_data,"name",t.target.value)}}})]),i("PermissionsTable",{tag:"div",staticClass:"field"}),i("div",{staticClass:"ui basic positive button",on:{click:e.create}},[e._v("\n                "+e._s(e.$t("ui.general.submit"))+"\n            ")]),i("router-link",{staticClass:"ui basic button",attrs:{to:{name:"permission_groups"}}},[i("i",{staticClass:"undo icon"}),e._v("\n                "+e._s(e.$t("ui.general.back"))+"\n            ")])],1)])])},R$=[],I$=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"permissions"}},[e.is_initialized?i("div",{staticClass:"field"},[i("label",[e._v("\n            Permissions\n        ")]),i("table",{staticClass:"ui striped table"},[i("tbody",e._l(e.grouped_permissions,function(t){return t.permissions.length?i("tr",[i("td",[i("div",{staticClass:"ui checkbox toggle"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.checked,expression:"grouped_permission.checked"}],attrs:{type:"checkbox",id:t.name},domProps:{checked:Array.isArray(t.checked)?e._i(t.checked,null)>-1:t.checked},on:{click:function(i){e.toggle_permissions(i,t.permissions)},change:function(i){var n=t.checked,a=i.target,r=!!a.checked;if(Array.isArray(n)){var s=null,o=e._i(n,s);a.checked?o<0&&e.$set(t,"checked",n.concat([s])):o>-1&&e.$set(t,"checked",n.slice(0,o).concat(n.slice(o+1)))}else e.$set(t,"checked",r)}}}),i("label",{attrs:{for:t.name}},[e._v("\n                                "+e._s(t.name)+"\n                            ")])])]),i("td",[i("div",{staticClass:"ui horizontal relaxed list"},e._l(t.permissions,function(t){return i("div",{staticClass:"item"},[i("div",{staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.current_data.permission_identities,expression:"current_data.permission_identities"}],attrs:{type:"checkbox",id:"check"+t.identity},domProps:{value:t.identity,checked:Array.isArray(e.current_data.permission_identities)?e._i(e.current_data.permission_identities,t.identity)>-1:e.current_data.permission_identities},on:{change:function(i){var n=e.current_data.permission_identities,a=i.target,r=!!a.checked;if(Array.isArray(n)){var s=t.identity,o=e._i(n,s);a.checked?o<0&&e.$set(e.current_data,"permission_identities",n.concat([s])):o>-1&&e.$set(e.current_data,"permission_identities",n.slice(0,o).concat(n.slice(o+1)))}else e.$set(e.current_data,"permission_identities",r)}}}),i("label",{attrs:{for:"check"+t.identity}},[e._v("\n                                        "+e._s(t.name)+"\n                                    ")])])])}))])]):e._e()}))])]):e._e()])},T$=[];function O$(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function L$(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){O$(r,n,a,s,o,"next",e)}function o(e){O$(r,n,a,s,o,"throw",e)}s(void 0)})}}var D$={name:"ProviderPermissionGroupsPermissionsTable",data:function(){return{is_initialized:!1,grouped_permissions_array:[],grouped_permissions:[],list:[]}},mounted:function(){var e=this;e.init()},watch:{current_data_permission_identities:function(){var e=this;e.permission_checkbox_switch_permissions_toggle()},permissions:function(){var e=this;e.init()}},computed:{current_data_permission_identities:{cache:!1,get:function(){return this.$store.state.provider.permission_groups_module.current_data.permission_identities}},current_data:{cache:!1,get:function(){return this.$store.state.provider.permission_groups_module.current_data}},permissions:function(){return this.$store.state.provider.permission_groups_module.permissions}},methods:{init:function(){var e=L$(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,t.handle_service_config_menu_name();case 3:return e.next=5,t.init_grouped_permissions();case 5:return e.next=7,t.permission_checkbox_switch_permissions_toggle();case 7:return e.next=9,new Promise(function(e){t.is_initialized=!0,e()});case 9:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),handle_service_config_menu_name:function(){var e=this;return e.list=[],_.forEach(e.$store.state.provider.service_config.menu,function(t){t.items?_.forEach(t.items,function(t){e.list.push({name:e.handle_list_name_remove_string_s(t.name)})}):e.list.push({name:e.handle_list_name_remove_string_s(t.name)})}),Promise.resolve()},handle_list_name_remove_string_s:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{if(!t)throw!1;var i=t.match(/(.+)s/i);return i?i[1]:t}catch(e){return!1}},init_grouped_permissions:function(){var e=this;return e.grouped_permissions_array=[],_.map(e.list,function(t){t.checked=!1;var i=[];_.forEach(e.permissions,function(n){var a=t.name;"user_log"==a&&(a="log"),"uploader"==a&&(a="file"),"-1"!=n.name.indexOf(a)&&(i.push(n),e.grouped_permissions_array.push(n))}),t.permissions=_.sortBy(i,[function(e){return e.name}])}),e.grouped_permissions=e.list,Promise.resolve()},toggle_permissions:function(e,t){var i=this,n=_.map(t,function(e){return e.identity}),a=i.current_data.permission_identities;a=e.target.checked?_.concat(a,n):_.pullAll(a,n),i.current_data.permission_identities=_.sortBy(_.union(a))},permission_checkbox_switch_permissions_toggle:function(){var e=this;return _.map(e.grouped_permissions,function(t){var i=[];_.map(t.permissions,function(t){i.push(_.findLast(e.current_data.permission_identities,function(e){return e==t.identity}))});var n=_.remove(i,_.isUndefined);0==n.length?t.checked=!0:t.checked=!1}),console.log(e.current_data.permission_identities),Promise.resolve()}}},B$=D$,M$=(n("6f33"),Object(lt["a"])(B$,I$,T$,!1,null,null,null)),U$=M$.exports,F$={name:"NewPermissionGroup",data:function(){return{show_permission_groups:!1,is_processing:!1,errors:[]}},mounted:function(){var e=this;e.$store.state.provider.permission_groups_module.current_data=""},computed:{current_data:function(){return this.$store.state.provider.permission_groups_module.current_data}},methods:{create:function(){var e=this,t=e.$store.state.provider.routes.api_v1_provider_permission_group_create;e.errors=[],e.is_processing=!0,axios.post(t,{permission_group:e.current_data},{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$bus.$emit("init"),e.$noty.success(e.$t("ui.notifications.success.create__name",{name:e.$t("models.permission_groups")})),e.$router.push({name:"permission_groups"})):e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.permission_groups")})),e.is_processing=!1})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.permission_groups")})),e.is_processing=!1})}},components:{PermissionsTable:U$}},G$=F$,H$=Object(lt["a"])(G$,j$,R$,!1,null,null,null),Y$=H$.exports,K$=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"edit"}},[e.errors.length>0?i("div",{staticClass:"ui red icon message"},[i("i",{staticClass:"warning icon"}),i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                "+e._s(e.$t("ui.notifications.error.please_handle_errors"))+"\n            ")]),e._l(e.errors,function(t,n){return i("p",[e._v(e._s(n+1)+". "+e._s(t))])})],2)]):e._e(),e.is_initializing?i("div",{staticClass:"contents"},[i("div",{staticClass:"ui form",class:{loading:e.is_processing}},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.permission_groups.name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.current_data.name,expression:"current_data.name"}],staticClass:"name",attrs:{type:"text"},domProps:{value:e.current_data.name},on:{input:function(t){t.target.composing||e.$set(e.current_data,"name",t.target.value)}}})]),i("PermissionsTable",{tag:"div",staticClass:"field"}),i("div",{staticClass:"ui basic positive button",on:{click:e.update}},[e._v("\n                "+e._s(e.$t("ui.general.submit"))+"\n            ")]),i("router-link",{staticClass:"ui basic button",attrs:{to:{name:"permission_groups"}}},[i("i",{staticClass:"undo icon"}),e._v("\n                "+e._s(e.$t("ui.general.back"))+"\n            ")]),"permission_groups"!=e.$store.state.back_two_page[0].name?i("a",{staticClass:"ui basic blue button",staticStyle:{"margin-left":"18px"},on:{click:function(t){t.preventDefault(),e.$router.back()}}},[i("i",{staticClass:"undo icon"}),e._v("\n                "+e._s(e.$t("back"))+"\n                "+e._s(e.$t(e.$store.state.back_two_page[0].name))+"\n            ")]):e._e()],1)]):e._e()])},W$=[];function V$(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function X$(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){V$(r,n,a,s,o,"next",e)}function o(e){V$(r,n,a,s,o,"throw",e)}s(void 0)})}}var Q$={name:"EditPermissionGroup",data:function(){return{show_permission_groups:!1,is_initializing:!1,is_processing:!1,is_fetch:!1,errors:[]}},computed:{permission_groups:function(){return this.$store.state.provider.permission_groups_module.permission_groups},current_data:function(){return this.$store.state.provider.permission_groups_module.current_data},routes:function(){return this.$store.state.provider.routes}},created:function(){this.init()},methods:{init:function(){var e=X$(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,t.get_permissions();case 3:return e.next=5,new Promise(function(e){t.is_processing=!1,t.is_initializing=!0,e()});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),get_permissions:function(){var e=this,t=new RestUrl(e.routes.api_v1_provider_permission_group).parse({identity:e.$route.params.identity});return e.is_processing=!0,axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){console.log(t.data),"success"==t.data.status?e.$store.state.provider.permission_groups_module.current_data=t.data.permission_group:e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.permission_groups")}))})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.permission_groups"),reason:": "+t}))})},update:function(){var e=this;e.errors=[];var t=new RestUrl(e.routes.api_v1_provider_permission_group_update).parse({identity:e.$route.params.identity});e.is_processing=!0,axios.post(t,{permission_group:e.current_data},{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$bus.$emit("init"),e.$noty.success(e.$t("ui.notifications.success.update__name",{name:e.$t("models.permission_groups")}))):e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.permission_groups")})),e.is_processing=!1})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.permission_groups")})),e.errors.push(t),e.is_processing=!1})}},components:{PermissionsTable:U$}};var Z$=Q$,J$=Object(lt["a"])(Z$,K$,W$,!1,null,null,null),ek=J$.exports,tk="permission_groups",ik="new_permission_group",nk="edit_permission_group",ak=[{path:"/",component:z$,name:"permission_groups",meta:{api_name:"api_v1_provider_permission_groups",breadcrumb:[tk],btns:[ik]}},{path:"new",component:Y$,name:"new_permission_group",meta:{api_name:"api_v1_provider_permission_group_create",breadcrumb:[tk,ik]}},{path:":identity/edit",component:ek,name:"edit_permission_group",meta:{api_name:"api_v1_provider_permission_group_update",breadcrumb:[tk,nk]}}],rk=ak,sk=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"core_waybills"}},[i("div",{staticClass:"ui segment"},[i("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[!e.is_fetching_data&&e.node.company_en_name&&e.show_receipts?i("Receipts",{attrs:{show_buttons:!0,assigned_core_waybills:e.core_waybills,logo_url:"/images/"+e.node.company_en_name.replace(/(?:^|\.|\s?)([A-Z])/g,function(e,t){return"_"+t.toLowerCase()}).replace(/^_/,"")+"_logo.jpg",title:e.node.company_short_name+"客戶簽收單",sub_title:e.node.website_url,customer_service_hotline:e.node.customer_service_hotline,logistician:e.current_staff,location:""}}):i("div"),i("div",[e.is_show_filter.detail?e._e():i("div",{staticStyle:{display:"inline"}},[i("div",{staticClass:"ui right labeled left icon input"},[i("i",{staticClass:"search icon",on:{click:function(t){e.core_waybills_filter()}}}),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter[e.current_store.quick_filter_key.number],expression:"filter[current_store.quick_filter_key.number]"}],attrs:{placeholder:e.$t("ui.pages.core_waybills.filter.find__key",{key:e.$t("models.attributes.core_waybills."+e.current_store.quick_filter_key.number)}),type:"text"},domProps:{value:e.filter[e.current_store.quick_filter_key.number]},on:{change:function(t){e.$forceUpdate()},keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.core_waybills_filter()},input:function(t){t.target.composing||e.$set(e.filter,e.current_store.quick_filter_key.number,t.target.value)}}}),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui dropdown label no_search"},[e._l(e.current_store.quick_filters.number,function(t){return e.current_store.quick_filter_key.number==t?i("div",{staticClass:"text"},[e._v("\n                                "+e._s(e.$t("models.attributes.core_waybills."+t))+"\n                            ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.current_store.quick_filters.number,function(t){return i("div",{staticClass:"item",class:{"selected active":e.current_store.quick_filter_key.number==t},on:{click:function(i){e.set_quick_filter_key("number",t)}}},[e._v("\n                                    "+e._s(e.$t("models.attributes.core_waybills."+t))+"\n                                ")])}))],2)])]),e.is_show_filter.detail?i("div",{staticStyle:{display:"inline"}},[i("div",{staticClass:"ui basic red icon button",on:{click:function(t){e.$store.dispatch("provider/core_waybills_module/clear_filter_url_params",{operation_number:e.$route.params.operation_number||null})}}},[i("i",{staticClass:"close icon"})])]):e._e(),i("div",{staticClass:"ui icon buttons",staticStyle:{"vertical-align":"top","margin-left":"6px",height:"37px"}},[i("div",{staticClass:"ui button",class:{active:e.is_show_filter.simple},attrs:{"data-tooltip":e.$t("ui.general.simple")},on:{click:function(t){e.toggle_filter("simple")}}},[i("i",{staticClass:"bars left icon"})]),i("div",{staticClass:"ui button",class:{active:e.is_show_filter.detail},attrs:{"data-tooltip":e.$t("ui.general.advanced")},on:{click:function(t){e.toggle_filter("detail")}}},[i("i",{staticClass:"file alternate icon"})])])])],1),i("div",{style:{paddingTop:e.is_any_filter_show?"12px":null}},[i("SimpleFilter",{staticClass:"ui transition hidden filter simple"}),i("DetailFilter",{staticClass:"ui transition hidden filter detail"})],1),e.is_any_filter_show?i("div",{staticClass:"right floated",style:{paddingTop:e.is_show_filter.simple?"12px":null}},[e.current_store.is_can_print_label&&!e.error_message?i("div",{staticStyle:{display:"inline-block","vertical-align":"bottom"}},[e.tool_label.numbers?i("div",{staticStyle:{display:"inline-block"}},[i("div",{staticStyle:{display:"inline-block","vertical-align":"bottom"}},["en-US"==e.$store.state.language?i("span",[e._v("\n                            Total: "+e._s(e.tool_label.core_waybill_length)+"\n                        ")]):i("span",[e._v("\n                            共 "+e._s(e.tool_label.core_waybill_length)+" 件\n                        ")])]),e.tool_label.numbers?i("CoreWaybillsLabelSvg",{staticStyle:{"text-align":"left",display:"inline-block","vertical-align":"middle"},attrs:{numbers:e.tool_label.numbers,label_name:e.tool_label.label_name,authentication_token:e.token,is_show_input:!1,is_post_method:!0,node_carrier_name:e.$store.state.provider.node.carrier_class}}):e._e()],1):i("div",{staticClass:"field",staticStyle:{display:"inline-block","vertical-align":"bottom"}},[i("label",[e._v(" ")]),i("div",{staticClass:"ui button",on:{click:function(t){e.fetch_core_waybills_pagination_false()}}},[i("i",{staticClass:"print icon"}),e._v("\n                        "+e._s(e.$t("ui.pages.core_waybills.print_filter_result_labels"))+"\n                    ")])])]):e._e(),i("div",{staticClass:"ui button",on:{click:function(t){e.fetch_core_waybills_csv()}}},[i("i",{staticClass:"file icon"}),e._v("\n                "+e._s(e.$t("ui.pages.core_waybills.export_csv_file"))+"\n            ")]),i("div",{staticClass:"ui button",on:{click:function(t){e.export_core_waybills()}}},[i("i",{staticClass:"file icon"}),e._v("\n                匯出報表\n            ")]),"forever.tw568.com"==e.hostname?i("div",{staticClass:"ui button",on:{click:function(t){e.fetch_core_waybills_csv("clearance")}}},[i("i",{staticClass:"file alternate outline icon"}),e._v("\n                "+e._s(e.$t("ui.pages.core_waybills.export_clearance_csv_file"))+"\n            ")]):e._e(),e.current_store.csv.url?i("a",{staticClass:"ui button",attrs:{href:e.current_store.csv.url}},[i("i",{staticClass:"download icon"}),e._v("\n                "+e._s(e.$t("ui.pages.core_waybills.download_daily_csv_file"))+"\n            ")]):e._e(),e.current_store.csv.url?i("div",{staticClass:"ui icon button",on:{click:function(t){e.current_store.csv.url=null}}},[i("i",{staticClass:"refresh icon"})]):"cqf.tw568.com"==e.hostname||"local.mynet.com.tw"==e.hostname?i("div",{staticClass:"ui button",class:{loading:e.current_store.csv.is_processing},on:{click:function(t){e.fetch_core_waybills_csv_new()}}},[e.current_store.csv.is_processing?e._e():i("span",{staticStyle:{position:"relative"}},[i("i",{staticClass:"file outline icon"}),i("i",{staticClass:"red small code icon",staticStyle:{position:"absolute",right:"4px",bottom:"0"}})]),e._v("\n                "+e._s(e.$t("ui.pages.core_waybills.export_daily_csv_file"))+"\n            ")]):e._e(),e.is_any_filter_show?i("div",{staticClass:"ui icon blue button",on:{click:function(t){e.core_waybills_filter()}}},[i("i",{staticClass:"search icon"}),e._v("\n                "+e._s(e.$t("ui.general.search"))+"\n            ")]):e._e()]):e._e(),i("div",{staticClass:"clear"})]),i("div",e._l(e.core_waybills,function(t){return e.is_initialized?i("CoreWaybill",{key:t.identity,attrs:{core_waybill:t,template:"card",is_auto_print:!1,is_can_update:!1,is_can_print_label:!1,is_show_change_template_btns:!1,cant_update_field_names:[],active_button:{to_detail_route_name:e.$route.params.operation_number?"edit_core_waybill_operation":"edit_core_waybill"},card:{is_simple_form:!1,is_half_style:!0,is_show_note:!0,is_vertical:!0}}}):e._e()})),i("div",{staticClass:"clear"}),!e.is_initialized||e.is_processing?i("div",{staticClass:"ui segments core_waybill",staticStyle:{"text-align":"center",height:"100px"}},[i("div",{staticClass:"ui active inverted dimmer"},[i("div",{staticClass:"ui text loader"},[i("h3",[e._v("\n                    "+e._s(e.$t("ui.general.initializing"))+"\n                ")])])])]):e.error_message?i("div",{staticClass:"ui red raised segment center aligned"},[i("h2",[e._v("\n            "+e._s(e.error_message)+"\n        ")])]):e._e(),e.core_waybills.length?i("Paginator",{attrs:{total_pages:e.current_store.total_pages,current_page:e.current_store.current_page}}):e._e()],1)},ok=[],ck=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"filter"},[e.is_initialized?i("div",{staticClass:"ui form",on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$parent.core_waybills_filter()}}},[i("div",{staticClass:"ui list"},[i("div",{staticClass:"item"},[i("i",{staticClass:"barcode big icon pointer",on:{click:function(t){e.is_show_numbers=!e.is_show_numbers}}}),i("div",{staticClass:"content"},[i("div",{staticClass:"header pointer"},[i("h3",{staticStyle:{"z-index":"2"},on:{click:function(t){e.is_show_numbers=!e.is_show_numbers}}},[e._v("\n                            "+e._s(e.$t("ui.pages.core_waybills.filter.numbers"))+"\n                            "),i("i",{staticClass:"icon",class:{"caret down":!e.is_show_numbers,"caret up":e.is_show_numbers},staticStyle:{margin:"0"}})])]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.is_show_numbers,expression:"is_show_numbers"}]},[i("div",{staticClass:"filter_border"}),i("div",{staticClass:"two fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.number")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.number,expression:"filter.number"}],attrs:{type:"text"},domProps:{value:e.filter.number},on:{input:function(t){t.target.composing||e.$set(e.filter,"number",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.operation_number")))]),e.$route.params.operation_number?i("div",{staticClass:"ui segment",staticStyle:{margin:"0",padding:"9px 12px"}},[e._v("\n                                    "+e._s(e.$route.params.operation_number)+"\n                                ")]):i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.operation.number,expression:"filter.operation.number"}],attrs:{type:"text"},domProps:{value:e.filter.operation.number},on:{input:function(t){t.target.composing||e.$set(e.filter.operation,"number",t.target.value)}}})])]),i("div",{staticClass:"three fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.original_number")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.original_number,expression:"filter.original_number"}],attrs:{type:"text"},domProps:{value:e.filter.original_number},on:{input:function(t){t.target.composing||e.$set(e.filter,"original_number",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.tracking_number")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.tracking_number,expression:"filter.tracking_number"}],attrs:{type:"text"},domProps:{value:e.filter.tracking_number},on:{input:function(t){t.target.composing||e.$set(e.filter,"tracking_number",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.flight_number")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.flight_number,expression:"filter.flight_number"}],attrs:{type:"text"},domProps:{value:e.filter.flight_number},on:{input:function(t){t.target.composing||e.$set(e.filter,"flight_number",t.target.value)}}})])])])])]),i("div",{staticClass:"item"},[i("i",{staticClass:"file alternate big icon pointer",on:{click:function(t){e.is_show_info=!e.is_show_info}}}),i("div",{staticClass:"content"},[i("div",{staticClass:"header pointer"},[i("h3",{on:{click:function(t){e.is_show_info=!e.is_show_info}}},[e._v("\n                            "+e._s(e.$t("ui.pages.core_waybills.filter.waybill_content"))+"\n                            "),i("i",{staticClass:"icon",class:{"caret down":!e.is_show_info,"caret up":e.is_show_info},staticStyle:{margin:"0"}})])]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.is_show_info,expression:"is_show_info"}]},[i("div",{staticClass:"filter_border"}),i("div",{staticClass:"two fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.sender_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.sender_name,expression:"filter.sender_name"}],attrs:{type:"text"},domProps:{value:e.filter.sender_name},on:{input:function(t){t.target.composing||e.$set(e.filter,"sender_name",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.sender_company_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.sender_company_name,expression:"filter.sender_company_name"}],attrs:{type:"text"},domProps:{value:e.filter.sender_company_name},on:{input:function(t){t.target.composing||e.$set(e.filter,"sender_company_name",t.target.value)}}})]),i("div",{staticClass:"field"},[i("div",{staticClass:"two fields"},[i("div",{staticClass:"field"},[i("label",[e._v(" "+e._s(e.$t("models.attributes.core_waybills.is_used")))]),i("div",{staticClass:"grouped fields"},e._l(e.filter_is_useds,function(t){return i("div",{staticClass:"field",on:{click:function(i){e.set_is_used(t.boolean)}}},[i("div",{ref:"filter_is_used",refInFor:!0,staticClass:"ui radio checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.is_used,expression:"filter.is_used"}],attrs:{type:"radio",name:"filter_is_used",id:t.name},domProps:{checked:e._q(e.filter.is_used,null)},on:{change:function(t){e.$set(e.filter,"is_used",null)}}}),i("label",{attrs:{for:t.name}},[e._v("\n                                                        "+e._s(t.name)+"\n                                                    ")])])])}))]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("ui.pages.core_waybills.filter.material")))]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection fluid dropdown"},[e._l(e.materials,function(t){return e.filter.material.class_names==t.class_name?i("div",{staticClass:"text"},[e._v("\n                                                "+e._s(t.name)+"\n                                            ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.materials,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.material.class_names==t.class_name},on:{click:function(i){e.filter.material.class_names=t.class_name}}},[e._v("\n                                                    "+e._s(t.name)+"\n                                                ")])}))],2)])])])]),i("div",{staticClass:"three fields"},[i("div",{staticClass:"field blue"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.consignee_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.consignee_name,expression:"filter.consignee_name"}],attrs:{type:"text"},domProps:{value:e.filter.consignee_name},on:{input:function(t){t.target.composing||e.$set(e.filter,"consignee_name",t.target.value)}}})]),i("div",{staticClass:"field blue"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.consignee_company_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.consignee_company_name,expression:"filter.consignee_company_name"}],attrs:{type:"text"},domProps:{value:e.filter.consignee_company_name},on:{input:function(t){t.target.composing||e.$set(e.filter,"consignee_company_name",t.target.value)}}})]),i("div",{staticClass:"field blue"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.consignee_phone")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.consignee_phone,expression:"filter.consignee_phone"}],attrs:{type:"text"},domProps:{value:e.filter.consignee_phone},on:{input:function(t){t.target.composing||e.$set(e.filter,"consignee_phone",t.target.value)}}})]),i("div",{staticClass:"field blue"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.consignee_address")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.consignee_address,expression:"filter.consignee_address"}],attrs:{type:"text"},domProps:{value:e.filter.consignee_address},on:{input:function(t){t.target.composing||e.$set(e.filter,"consignee_address",t.target.value)}}})])]),i("div",{staticClass:"three fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.created_at")))]),i("el-date-picker",{staticStyle:{width:"100%"},attrs:{"unlink-panels":"",type:"daterange",align:"center","start-placeholder":e.$t("ui.el.datepicker.startDate"),"end-placeholder":e.$t("ui.el.datepicker.endDate"),"picker-options":e.$store.state.element_ui_datepicker_daterange_options},model:{value:e.filter.created_duration,callback:function(t){e.$set(e.filter,"created_duration",t)},expression:"filter.created_duration"}})],1),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.note")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.note,expression:"filter.note"}],attrs:{type:"text"},domProps:{value:e.filter.note},on:{input:function(t){t.target.composing||e.$set(e.filter,"note",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.shipping_note")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.shipping_note,expression:"filter.shipping_note"}],attrs:{type:"text"},domProps:{value:e.filter.shipping_note},on:{input:function(t){t.target.composing||e.$set(e.filter,"shipping_note",t.target.value)}}})])])])])]),i("div",{staticClass:"item"},[i("i",{staticClass:"shipping fast big icon pointer",on:{click:function(t){e.is_show_status=!e.is_show_status}}}),i("div",{staticClass:"content"},[i("div",{staticClass:"header pointer"},[i("h3",{on:{click:function(t){e.is_show_status=!e.is_show_status}}},[e._v("\n                            "+e._s(e.$t("ui.pages.core_waybills.filter.status"))+"\n                            "),i("i",{staticClass:"icon",class:{"caret down":!e.is_show_status,"caret up":e.is_show_status},staticStyle:{margin:"0"}})])]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.is_show_status,expression:"is_show_status"}],staticClass:"status_filter"},[i("div",{staticClass:"filter_border"}),i("div",{staticClass:"field",staticStyle:{margin:"0 0 -.7em"}},[i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field"},[i("h4",{staticClass:"depiction"},[e._v("\n                                        "+e._s(e.$t("ui.pages.core_waybills.filter.status_depiction.now"))+"\n                                         \n                                    ")]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui fluid selection dropdown",staticStyle:{width:"30%"}},[e._l([{name:e.$t("ui.pages.core_waybills.filter.selected_polarity"),boolean:null},{name:e.$t("ui.pages.core_waybills.filter.polarity.positive"),boolean:"true"},{name:e.$t("ui.pages.core_waybills.filter.polarity.negative"),boolean:"false"}],function(t){return e.filter.condition.polarity==t.boolean?i("div",{staticClass:"text"},[e._v("\n                                            "+e._s(t.name)+"\n                                        ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},[i("div",{staticClass:"item",class:{"selected active":null==e.filter.condition.polarity},on:{click:function(t){e.filter.condition.polarity=null}}},[e._v("\n                                                "+e._s(e.$t("ui.pages.core_waybills.filter.selected_is_used"))+"\n                                            ")]),e._l([{name:e.$t("ui.pages.core_waybills.filter.polarity.positive"),boolean:"true"},{name:e.$t("ui.pages.core_waybills.filter.polarity.negative"),boolean:"false"}],function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.condition.polarity==t.boolean},on:{click:function(i){e.filter.condition.polarity=t.boolean}}},[e._v("\n                                                "+e._s(t.name)+"\n                                            ")])})],2)],2),i("span",{staticClass:"depiction"},[e._v(" ")]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui fluid selection dropdown",staticStyle:{width:"35%"}},[e._l(e.current_store.core_waybill_conditions,function(t){return e.filter.condition.name==t?i("div",{staticClass:"text"},[e._v("\n                                            "+e._s(e.$t('models.attributes.conditions["'+t+'"]'))+"\n                                        ")]):e._e()}),null==e.filter.condition.name?i("div",{staticClass:"text"},[e._v("\n                                            "+e._s(e.$t("ui.pages.core_waybills.filter.selected_status"))+"\n                                        ")]):e._e(),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},[i("div",{staticClass:"item",class:{"selected active":null==e.filter.condition.name},on:{click:function(t){e.filter.condition.name=null}}},[e._v("\n                                                "+e._s(e.$t("ui.pages.core_waybills.filter.selected_status"))+"\n                                            ")]),e._l(e.current_store.core_waybill_conditions,function(t){return"divider"!=t?i("div",{staticClass:"item",class:{"selected active":e.filter.condition.name==t},on:{click:function(i){e.filter.condition.name=t}}},[e._v("\n                                                "+e._s(e.$t('models.attributes.conditions["'+t+'"]'))+"\n                                            ")]):i("div",{staticClass:"divider",staticStyle:{margin:"0.2em 0"}})})],2)],2)]),i("div",{staticClass:"four wide field"},[i("h4",{staticClass:"depiction"},[e._v("\n                                        "+e._s(e.$t("ui.pages.core_waybills.filter.status_depiction.in_the"))+"\n                                         \n                                    ")]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui fluid selection dropdown",staticStyle:{width:"80%"}},[e._l(e.stations,function(t){return e.filter.condition.current_location==t.name?i("div",{staticClass:"text"},[e._v("\n                                            "+e._s(t.name||e.$t("ui.pages.core_waybills.filter.selected_station"))+"\n                                        ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.stations,function(t){return i("div",{key:t.identity,staticClass:"item",class:{"selected active":e.filter.condition.current_location==t.name},on:{click:function(i){e.filter.condition.current_location=t.name}}},[e._v("\n                                                "+e._s(t.name||e.$t("ui.pages.core_waybills.filter.selected_station"))+"\n                                            ")])}))],2)]),i("div",{staticClass:"four wide field"},[i("h4",{staticClass:"depiction"},[e._v("\n                                        "+e._s(e.$t("ui.pages.core_waybills.filter.status_depiction.by"))+"\n                                         \n                                    ")]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui fluid selection dropdown",staticStyle:{width:"70%"}},[e._l(e.staffs,function(t){return e.filter.condition.current_operator_identity==t.identity?i("div",{staticClass:"text"},[e._v("\n                                            "+e._s(t.name)+"\n                                        ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.staffs,function(t){return i("div",{key:t.identity,staticClass:"item",class:{"selected active":e.filter.condition.current_operator_identity==t.identity},on:{click:function(i){e.filter.condition.current_operator_identity=t.identity}}},[e._v("\n                                                "+e._s(t.name)+"\n                                            ")])}))],2),i("h4",{staticClass:"depiction"},[e._v("\n                                         \n                                        "),e._v("\n                                        "+e._s(e.$t("ui.pages.core_waybills.filter.status_depiction.handle"))+"\n                                    ")])])])]),i("div",{staticClass:"field",staticStyle:{"text-align":"right"}},[i("div",{staticStyle:{display:"inline-flex","align-items":"center"}},[i("h4",{staticStyle:{margin:"0"}},[e._v("\n                                    "+e._s(e.$t("ui.pages.core_waybills.filter.status_depiction.at_the"))+"\n                                     \n                                ")]),i("el-date-picker",{staticStyle:{width:"90%"},attrs:{"unlink-panels":"",type:"daterange",align:"center","start-placeholder":e.$t("ui.el.datepicker.startDate"),"end-placeholder":e.$t("ui.el.datepicker.endDate"),"picker-options":e.$store.state.element_ui_datepicker_daterange_options},model:{value:e.filter.condition.updated_duration,callback:function(t){e.$set(e.filter.condition,"updated_duration",t)},expression:"filter.condition.updated_duration"}})],1),i("div",{staticClass:"sub_filter_border"})]),i("div",{staticClass:"field"},[i("div",{staticClass:"fields"},[i("div",{staticClass:"four wide field"},[i("h4",{staticClass:"depiction"},[e._v("\n                                        "+e._s(e.$t("ui.pages.core_waybills.filter.status_depiction.before_by"))+"\n                                         \n                                    ")]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui fluid selection dropdown",staticStyle:{width:"70%"}},[e._l(e.staffs,function(t){return e.filter.status.operator_identity==t.identity?i("div",{staticClass:"text"},[e._v("\n                                            "+e._s(t.name)+"\n                                        ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.staffs,function(t){return i("div",{key:t.identity,staticClass:"item",class:{"selected active":e.filter.status.operator_identity==t.identity},on:{click:function(i){e.filter.status.operator_identity=t.identity}}},[e._v("\n                                                "+e._s(t.name)+"\n                                            ")])}))],2)]),i("div",{staticClass:"six wide field"},[i("div",{staticStyle:{display:"inline-flex","align-items":"center"}},[i("h4",{staticStyle:{margin:"0"}},[e._v("\n                                            "+e._s(e.$t("ui.pages.core_waybills.filter.status_depiction.at_the"))+"\n                                             \n                                        ")]),i("el-date-picker",{staticStyle:{width:"90%"},attrs:{"unlink-panels":"",type:"daterange",align:"center","start-placeholder":e.$t("ui.el.datepicker.startDate"),"end-placeholder":e.$t("ui.el.datepicker.endDate"),"picker-options":e.$store.state.element_ui_datepicker_daterange_options},model:{value:e.filter.status.created_duration,callback:function(t){e.$set(e.filter.status,"created_duration",t)},expression:"filter.status.created_duration"}})],1)]),i("div",{staticClass:"six wide field"},[i("h4",{staticClass:"depiction"},[e._v("\n                                        "+e._s(e.$t("ui.pages.core_waybills.filter.status_depiction.added"))+"\n                                         \n                                    ")]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui fluid selection dropdown",staticStyle:{width:"35%"}},[e._l(["operator","forwarder","public"],function(t){return e.filter.status.scope==t?i("div",{staticClass:"text"},[e._v("\n                                            "+e._s(e.$t("ui.status_scopes."+t))+"\n                                        ")]):e._e()}),null==e.filter.status.scope?i("div",[e._v("\n                                            "+e._s(e.$t("ui.pages.core_waybills.filter.selected_status_scope"))+"\n                                        ")]):e._e(),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},[i("div",{staticClass:"item",class:{"selected active":null==e.filter.status.scope},on:{click:function(t){e.filter.status.scope=null}}},[e._v("\n                                                "+e._s(e.$t("ui.pages.core_waybills.filter.selected_status_scope"))+"\n                                            ")]),e._l(["operator","forwarder","public"],function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.status.scope==t},on:{click:function(i){e.filter.status.scope=t}}},[e._v("\n                                                "+e._s(e.$t("ui.status_scopes."+t))+"\n                                            ")])})],2)],2),i("span",{staticClass:"depiction"},[e._v(" ")]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui fluid selection dropdown",staticStyle:{width:"42%"}},[e._l(e.scan_action_prototypes,function(t,n){return e.filter.status.name==t.name?i("div",{staticClass:"text"},[e._v("\n                                            "+e._s(t.name)+"\n                                        ")]):e._e()}),null==e.filter.status.name?i("div",[e._v("\n                                            "+e._s(e.$t("ui.pages.core_waybills.filter.selected_status"))+"\n                                        ")]):e._e(),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},[i("div",{staticClass:"item",class:{"selected active":null==e.filter.status.name},on:{click:function(t){e.filter.status.name=null}}},[e._v("\n                                                "+e._s(e.$t("ui.pages.core_waybills.filter.selected_status"))+"\n                                            ")]),e._l(e.scan_action_prototypes,function(t,n){return i("div",{staticClass:"item",class:{"selected active":e.filter.status.name==t.name},on:{click:function(i){e.filter.status.name=t.name}}},[e._v("\n                                                "+e._s(t.name)+"\n                                            ")])})],2)],2)])])])])])])])]):i("div",{staticClass:"ui active centered inline loader"})])},_k=[];function lk(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function uk(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){lk(r,n,a,s,o,"next",e)}function o(e){lk(r,n,a,s,o,"throw",e)}s(void 0)})}}var dk={props:{},data:function(){return{is_show_numbers:!0,is_show_info:!0,is_show_status:!0,is_initialized:!1,is_processing:!1,filter_is_useds:[{name:this.$t("ui.pages.core_waybills.filter.is_used.flase"),boolean:"false"},{name:this.$t("ui.pages.core_waybills.filter.is_used.true"),boolean:"true"}]}},computed:{current_store:function(){return this.$store.state.provider.core_waybills_module},filter:function(){return this.current_store.filter},staffs:function(){return[{name:this.$t("ui.pages.core_waybills.filter.selected_staff"),identity:null}].concat(this.current_store.staffs)},stations:function(){return[{name:null,identity:null}].concat(this.$store.state.provider.stations)},materials:function(){return[{name:this.$t("ui.pages.core_waybills.filter.selected_material"),class_name:null}].concat(this.current_store.materials)},scan_action_prototypes:function(){return this.current_store.scan_action_prototypes},condition_status_prototypes_group_by_name:function(){return _.groupBy(this.current_store.condition_status_prototypes,"name")}},created:function(){},mounted:function(){var e=this;e.init()},watch:{},methods:{init:function(){var e=uk(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){e()});case 3:return e.next=5,new Promise(function(e){t.is_initialized=!0,e()});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),set_is_used:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.filter.is_used=this.filter.is_used==e?null:e,null==this.filter.is_used&&$(this.$refs.filter_is_used).checkbox("uncheck")}},components:{}},pk=dk,mk=(n("62e1"),n("1b5f"),Object(lt["a"])(pk,ck,_k,!1,null,"4109b40d",null)),fk=mk.exports,vk=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"simple_filter"},[e.is_initialized?i("div",{staticClass:"right aligned",staticStyle:{"text-align":"right"},on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$parent.core_waybills_filter()}}},[i("div",{staticClass:"ui right labeled input",staticStyle:{display:"inline-flex"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter[e.quick_filter_key.info],expression:"filter[quick_filter_key.info]"}],attrs:{placeholder:e.$t("ui.pages.core_waybills.filter.find__key",{key:e.$t("models.attributes.core_waybills."+e.quick_filter_key.info)}),type:"text"},domProps:{value:e.filter[e.quick_filter_key.info]},on:{change:function(t){e.$forceUpdate()},input:function(t){t.target.composing||e.$set(e.filter,e.quick_filter_key.info,t.target.value)}}}),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui dropdown label no_search"},[e._l(e.quick_filters.info,function(t){return e.quick_filter_key.info==t?i("div",{staticClass:"text"},[e._v("\n                    "+e._s(e.$t("models.attributes.core_waybills."+t))+"\n                ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.quick_filters.info,function(t){return"divider"!=t?i("div",{staticClass:"item",class:{"selected active":e.quick_filter_key.info==t},on:{click:function(i){e.$parent.set_quick_filter_key("info",t)}}},[e._v("\n                        "+e._s(e.$t("models.attributes.core_waybills."+t))+"\n                    ")]):i("div",{staticClass:"divider",staticStyle:{margin:"0.2em 0"}})}))],2)]),i("span",{staticClass:"depiction"},[e._v(" ")]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui fluid selection dropdown",staticStyle:{width:"120px"}},[e._l(["operator","forwarder","public"],function(t){return e.filter.status.scope==t?i("div",{staticClass:"text"},[e._v("\n                "+e._s(e.$t("ui.status_scopes."+t))+"\n            ")]):e._e()}),null==e.filter.status.scope?i("div",[e._v("\n                "+e._s(e.$t("ui.pages.core_waybills.filter.selected_status_scope"))+"\n            ")]):e._e(),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},[i("div",{staticClass:"item",class:{"selected active":null==e.filter.status.scope},on:{click:function(t){e.filter.status.scope=null}}},[e._v("\n                    "+e._s(e.$t("ui.pages.core_waybills.filter.selected_status_scope"))+"\n                ")]),e._l(["operator","forwarder","public"],function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.status.scope==t},on:{click:function(i){e.filter.status.scope=t}}},[e._v("\n                    "+e._s(e.$t("ui.status_scopes."+t))+"\n                ")])})],2)],2),i("span",{staticClass:"depiction"},[e._v(" ")]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui fluid selection dropdown",staticStyle:{width:"240px"}},[e._l(e.scan_action_prototypes,function(t,n){return e.filter.status.name==t.name?i("div",{staticClass:"text"},[e._v("\n                "+e._s(t.name)+"\n            ")]):e._e()}),null==e.filter.status.name?i("div",[e._v("\n                "+e._s(e.$t("ui.pages.core_waybills.filter.selected_status"))+"\n            ")]):e._e(),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},[i("div",{staticClass:"item",class:{"selected active":null==e.filter.status.name},on:{click:function(t){e.filter.status.name=null}}},[e._v("\n                    "+e._s(e.$t("ui.pages.core_waybills.filter.selected_status"))+"\n                ")]),e._l(e.scan_action_prototypes,function(t,n){return i("div",{staticClass:"item",class:{"selected active":e.filter.status.name==t.name},on:{click:function(i){e.filter.status.name=t.name}}},[e._v("\n                    "+e._s(t.name)+"\n                ")])})],2)],2)]):i("div",{staticClass:"ui active centered inline loader"})])},hk=[];function gk(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function bk(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){gk(r,n,a,s,o,"next",e)}function o(e){gk(r,n,a,s,o,"throw",e)}s(void 0)})}}var yk={props:{},data:function(){return{is_show_numbers:!0,is_show_info:!0,is_show_status:!0,is_initialized:!1,is_processing:!1,filter_is_useds:[{name:this.$t("ui.pages.core_waybills.filter.is_used.flase"),boolean:"false"},{name:this.$t("ui.pages.core_waybills.filter.is_used.true"),boolean:"true"}]}},computed:{current_store:function(){return this.$store.state.provider.core_waybills_module},is_show_filter:function(){return this.current_store.is_show_filter},quick_filters:function(){return this.current_store.quick_filters},quick_filter_key:function(){return this.current_store.quick_filter_key},filter:function(){return this.current_store.filter},staffs:function(){return[{name:this.$t("ui.pages.core_waybills.filter.selected_staff"),identity:null}].concat(this.current_store.staffs)},stations:function(){return[{name:null,identity:null}].concat(this.$store.state.provider.stations)},materials:function(){return[{name:this.$t("ui.pages.core_waybills.filter.selected_material"),class_name:null}].concat(this.current_store.materials)},scan_action_prototypes:function(){return this.current_store.scan_action_prototypes},condition_status_prototypes_group_by_name:function(){return _.groupBy(this.current_store.condition_status_prototypes,"name")}},created:function(){},mounted:function(){var e=this;e.init()},watch:{},methods:{init:function(){var e=bk(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){e()});case 3:return e.next=5,new Promise(function(e){t.is_initialized=!0,e()});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),set_is_used:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.filter.is_used=this.filter.is_used==e?null:e,null==this.filter.is_used&&$(this.$refs.filter_is_used).checkbox("uncheck")}},components:{}},wk=yk,$k=(n("b2d6"),n("5b44"),Object(lt["a"])(wk,vk,hk,!1,null,"12d71f98",null)),kk=$k.exports,Ck=n("41a7");function xk(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function Pk(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){xk(r,n,a,s,o,"next",e)}function o(e){xk(r,n,a,s,o,"throw",e)}s(void 0)})}}var Sk={name:"CoreWaybillsIndex",data:function(){return{is_initialized:!1,is_fetching_data:!1,is_processing:!0,error_message:""}},computed:{hostname:function(){return window.location.hostname},current_store:function(){return this.$store.state.provider.core_waybills_module},tool_label:function(){return this.current_store.tool_label},core_waybills:function(){return this.current_store.core_waybills},filter:function(){return this.current_store.filter},is_show_filter:function(){return this.current_store.is_show_filter},is_any_filter_show:function(){return this.is_show_filter.simple||this.is_show_filter.detail},node:function(){return this.$store.state.provider.node},current_staff:function(){return this.$store.state.provider.current_staff},token:function(){return localStorage.getItem("authentication_token")},current_service_name:function(){return this.$store.state.provider.node.service_name},show_receipts:function(){return["neuron","neuron_premium"].includes(this.current_service_name)}},created:function(){},mounted:function(){var e=this;e.init(),e.$bus.$off("init"),e.$bus.$on("init",function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.init()}.bind(this)),_.forEach(this.is_show_filter,function(e,t){e&&$(".ui.transition.filter."+t).transition("fade down")})},beforeDestroy:function(){this.$bus.$off("init"),this.current_store.current_page=1},watch:{$route:{handler:function(e,t){var i=e.query.page;i&&(this.current_store.current_page=Number(i),this.$store.dispatch("provider/core_waybills_module/fetch_core_waybills",{page:i}))},immediate:!0},"is_show_filter.simple":function(e){$(".ui.transition.filter.simple").transition(e?"fade down":"hide"),e?this.is_show_filter.detail=!1:this.$store.dispatch("provider/core_waybills_module/set_filter_init")},"is_show_filter.detail":function(e){$(".ui.transition.filter.detail").transition(e?"fade down":"hide"),e?this.is_show_filter.simple=!1:this.$store.dispatch("provider/core_waybills_module/set_filter_init")}},methods:{toggle_filter:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];0==e?(this.is_show_filter.simple=!1,this.is_show_filter.detail=!1):this.is_show_filter[e]=!this.is_show_filter[e]},init:function(){var e=Pk(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,t.is_initialized=!1,t.is_processing=!0,t.error_message="",e.next=7,new Promise(function(e){t.filter.operation.number=t.$route.params.operation_number||null,e()});case 7:return e.next=9,t.$store.dispatch("provider/core_waybills_module/handle_filter_url_params");case 9:return e.next=11,t.$store.dispatch("provider/core_waybills_module/fetch_staffs");case 11:return e.next=13,t.$store.dispatch("provider/core_waybills_module/fetch_materials");case 13:return e.next=15,t.$store.dispatch("provider/core_waybills_module/fetch_core_waybills");case 15:return e.next=17,t.$store.dispatch("provider/core_waybills_module/fetch_scan_action_prototypes");case 17:return e.next=19,t.$store.dispatch("provider/core_waybills_module/fetch_condition_status_prototypes");case 19:e.next=25;break;case 21:e.prev=21,e.t0=e["catch"](1),console.log(e.t0),t.handle_error_message(e.t0);case 25:return e.next=27,new Promise(function(e){t.is_initialized=!0,t.is_processing=!1,e()});case 27:case"end":return e.stop()}},e,this,[[1,21]])}));function t(){return e.apply(this,arguments)}return t}(),core_waybills_filter:function(){var e=Pk(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,new Promise(function(e){t.current_store.current_page=1,t.$route.query.page=1,t.current_store.core_waybills=[],t.is_processing=!0,t.error_message="",e()});case 4:return e.next=6,t.$store.dispatch("provider/core_waybills_module/handle_filter_url_params");case 6:return e.next=8,t.$store.dispatch("provider/core_waybills_module/fetch_core_waybills");case 8:e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](1),console.log(e.t0),t.handle_error_message(e.t0);case 14:return e.next=16,new Promise(function(e){t.is_processing=!1,e()});case 16:case"end":return e.stop()}},e,this,[[1,10]])}));function t(){return e.apply(this,arguments)}return t}(),set_quick_filter_key:function(t,i){try{var n=this;n.current_store.quick_filter_key[t]=i,"status"!=t&&_.forEach(n.current_store.quick_filters[t],function(e){n.filter[e]=null})}catch(e){console.log(e)}},fetch_core_waybills_pagination_false:function(){var e=Pk(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,t.$store.dispatch("provider/core_waybills_module/fetch_core_waybills_pagination_false");case 4:e.next=18;break;case 6:e.prev=6,e.t0=e["catch"](1),e.t1=e.t0,e.next="fetch_core_waybills_pagination_false nothing filter"===e.t1?11:"core_waybills_label_type_different"===e.t1?12:"fetch_core_waybills_pagination_false_error"===e.t1?14:16;break;case 11:return e.abrupt("break",17);case 12:return t.error_message=t.$t("ui.notifications.error.__name",{name:t.$t("models.core_waybills")+" "+t.$t("ui.toolbox.core_waybill.errors.label_type_error")}),e.abrupt("break",17);case 14:return t.error_message=t.$t("ui.notifications.error.find__name",{name:t.$t("ui.general.print")}),e.abrupt("break",17);case 16:t.error_message=t.$t("ui.notifications.error.exception_error_please_contact_the_system_supplier")+":"+e.t0;case 17:t.error_message&&t.$noty.error(t.error_message);case 18:case"end":return e.stop()}},e,this,[[1,6]])}));function t(){return e.apply(this,arguments)}return t}(),handle_error_message:function(e){var t=this;switch(e){case"fetch_core_waybills_no_anything_core_waybills":t.error_message=t.$t("ui.notifications.error.no_data");break;case"fetch_core_waybills_failure":t.error_message=t.$t("ui.notifications.error.find__name",{name:t.$t("models.core_waybills")});break;case"fetch_staffs_failure":t.error_message=t.$t("ui.notifications.error.find__name",{name:t.$t("models.staffs")});break;case"fetch_materials_failure":t.error_message=t.$t("ui.notifications.error.find__name",{name:t.$t("models.materials")});break;case"fetch_scan_action_prototypes_failure":t.error_message=t.$t("ui.notifications.error.find__name",{name:t.$t("ui.pages.core_waybills.have_contained_status")});break;case"fetch_condition_status_prototypes_failure":t.error_message=t.$t("ui.notifications.error.find__name",{name:t.$t("models.status_prototypes")});break;case"fetch_core_waybills_svg_error":t.error_message=t.$t("ui.notifications.error.__name",{name:t.$t("ui.pages.core_waybills.export_csv_file")});break;case"fetch_core_waybills_csv_error":t.error_message=t.$t("ui.notifications.error.__name",{name:"csv "+t.$t("ui.general.file")});break;case"fetch_core_waybills_csv_loading":t.error_message="csv loading";break;default:t.error_message=t.$t("ui.notifications.error.exception_error_please_contact_the_system_supplier")+":"+e}t.error_message&&t.$noty.error(t.error_message)},fetch_core_waybills_csv_new:function(){var e=Pk(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,t.$store.dispatch("provider/core_waybills_module/fetch_core_waybills_csv_new");case 4:e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](1),"success"==e.t0?t.$cable.subscriptions.create({channel:"DelayedJobChannel",instance_identity:t.$store.state.instance_identity},{connected:function(){console.log("DelayedJobChannel connected")},received:function(e){e.data.download_url&&(t.current_store.csv.is_processing=!1,t.current_store.csv.url=e.data.download_url)}}):(console.log(e.t0),t.handle_error_message(e.t0));case 9:return e.next=11,new Promise(function(e){t.is_processing=!1,e()});case 11:case"end":return e.stop()}},e,this,[[1,6]])}));function t(){return e.apply(this,arguments)}return t}(),export_core_waybills:function(){this.$store.dispatch("provider/core_waybills_module/export_core_waybills")},fetch_core_waybills_csv:function(){var e=Pk(regeneratorRuntime.mark(function e(){var t,i,n=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:null,i=this,e.prev=2,e.next=5,i.$store.dispatch("provider/core_waybills_module/fetch_core_waybills_csv",{type:t});case 5:e.next=11;break;case 7:e.prev=7,e.t0=e["catch"](2),console.log(e.t0),i.handle_error_message(e.t0);case 11:return e.next=13,new Promise(function(e){i.is_processing=!1,e()});case 13:case"end":return e.stop()}},e,this,[[2,7]])}));function t(){return e.apply(this,arguments)}return t}()},components:{CoreWaybillsLabelSvg:jo,DetailFilter:fk,SimpleFilter:kk,CoreWaybill:Ck["a"],Paginator:cr,Receipts:fo["a"],Supervisor:Mo}},Nk=Sk,Ak=(n("5dd4"),Object(lt["a"])(Nk,sk,ok,!1,null,"9e873f2a",null)),Ek=Ak.exports,qk=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.is_initialized?i("div",{attrs:{id:"new_core_waybill"}},[e.is_get_core_waybill_number?i("div",[i("div",{staticClass:"ui right floated basic red button",staticStyle:{margin:"6px 0"},on:{click:function(t){e.undo()}}},[e._v("\n            "+e._s(e.$t("ui.pages.core_waybills.back_to_select_partition"))+"\n        ")]),i("div",{staticClass:"clear"}),e.create_core_waybill_error?i("div",{staticClass:"ui negative message"},[i("div",{staticClass:"header"},[e._v("\n                "+e._s(e.$t("ui.pages.core_waybills.create_core_waybill_error"))+"\n            ")]),i("p",[e._v("\n                "+e._s(e.create_core_waybill_error)+"\n            ")])]):e._e(),i("CoreWaybill",{attrs:{core_waybill:e.core_waybill,template:"detail",is_auto_print:!1,is_can_update:!0,is_can_print_label:!1,is_show_change_template_btns:!1,active_button:e.tool_core_waybill_active_button,detail:{is_show_receipt_file:!1,is_show_partition:!1,is_show_statuses:!1}}})],1):i("div",[e.partitions.length?i("div",[e._l(e.partitions_group_by_customer_identity,function(t,n){return i("div",{staticClass:"ui segment blue"},["null"!=n?i("h5",[e._v("\n                    "+e._s(e.$store.getters["provider/core_waybills_module/customer"](n).company_name||"-")+"\n                ")]):e._e(),i("div",{staticClass:"ui doubling two column grid"},e._l(t,function(t){return i("div",{staticClass:"column pointer",on:{click:function(i){e.set_current_partition(t)},dblclick:function(t){e.fetch_core_waybill_number_by_partition()}}},[i("div",{staticClass:"ui center aligned segment",class:{active:e.current_partition.identity==t.identity}},[i("div",{staticClass:"ui mini statistic"},[i("div",{staticClass:"value"},[i("span",{attrs:{"data-tooltip":"字軌","data-position":"bottom left"}},[e._v("\n                                        "+e._s(t.prefix)+"\n                                    ")]),i("span",{staticStyle:{"text-decoration":"underline"}},[i("span",{attrs:{"data-tooltip":e.$t("ui.pages.core_waybills.partition_number_from"),"data-position":"bottom center"}},[e._v("\n                                            "+e._s(t.numbers_from)+"\n                                        ")]),i("span",[e._v(" ~ ")]),i("span",{attrs:{"data-tooltip":e.$t("ui.pages.core_waybills.partition_number_to"),"data-position":"bottom center"}},[e._v("\n                                            "+e._s(t.numbers_to)+"\n                                        ")])])]),i("div",{staticClass:"label"},[e._v("\n                                    "+e._s(t.name)+"\n                                ")])])])])}))])}),i("div",{staticClass:"ui center aligned segment"},[e.current_partition.identity?i("div",[i("button",{staticClass:"ui basic blue button",on:{click:function(t){e.fetch_core_waybill_number_by_partition()}}},[e._v("\n                        "+e._s(e.$t("ui.page_titles.new_core_waybill"))+"\n                    ")])]):i("h3",[e._v("\n                    "+e._s(e.$t("ui.pages.core_waybills.please_select_partition"))+"\n                ")])])],2):i("div",{staticClass:"ui red raised segment center aligned"},[i("h2",[e._v("\n                "+e._s(e.$t("ui.pages.core_waybills.errors.no_anything_partitions_can_use"))+"\n            ")])])])]):e._e()},zk=[];function jk(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function Rk(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){jk(r,n,a,s,o,"next",e)}function o(e){jk(r,n,a,s,o,"throw",e)}s(void 0)})}}var Ik={name:"NewCoreWaybill",components:{CoreWaybill:Ck["a"]},props:{},data:function(){return{is_initialized:!1,is_processing:!1,partitions:[],current_partition:{},partitions_group_by_customer_identity:{},core_waybill:{},is_get_core_waybill_number:!1,tool_core_waybill_active_button:{content:this.$t("ui.general.create"),channel:"tool_core_waybill_create_channel"},create_core_waybill_error:""}},created:function(){},mounted:function(){var e=this;e.init(),e.$bus.$off("tool_core_waybill_create_channel"),e.$bus.$on("tool_core_waybill_create_channel",function(){e.create_core_waybill()}.bind(this))},watch:{},computed:{},methods:{undo:function(){var e=this;e.is_get_core_waybill_number=!1,e.create_core_waybill_error="",e.core_waybill={}},init:function(){var e=Rk(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,t.fetch_partitions();case 3:return e.next=5,t.fetch_associated_partitions();case 5:return e.next=7,t.fetch_customers();case 7:return e.next=9,new Promise(function(e){t.is_initialized=!0});case 9:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_partitions:function(){var e=this,t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_partitions),i=t.parse({},"?pagination=false");return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.partitions"),reason:": "+t.data.error})),Promise.reject(t.data.error);e.partitions=e.partitions.concat(t.data.partitions)})},fetch_associated_partitions:function(){var e=this,t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_associated_partitions),i=t.parse({},"?pagination=false");return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("ui.page_titles.associated_partitions"),reason:": "+t.data.error})),Promise.reject(t.data.error);e.partitions=e.partitions.concat(t.data.associated_partitions)})},fetch_customers:function(){var e=this;return e.partitions_group_by_customer_identity=_.groupBy(e.partitions,"customer_identity"),_.forEach(e.partitions_group_by_customer_identity,function(t,i){"null"!=i&&e.$store.dispatch("provider/core_waybills_module/fetch_customer",{customer_identity:i})}),Promise.resolve()},fetch_core_waybill_number_by_partition:function(){var e=this,t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_partition_get_usable_numbers),i=t.parse({partition_identity:e.current_partition.identity,amount:1});axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.core_waybill={number:t.data.usable_numbers[0],material_identity:e.current_partition.material_identity,partition_identity:e.current_partition.identity,is_used:!0,original_number:null,tracking_number:null,sender_company_name:null,sender_address:null,sender_name:null,sender_phone:null,sender_email:null,sender_url:null,sender_fax:null,consignee_company_name:null,consignee_address:null,consignee_name:null,consignee_phone:null,consignee_email:null,consignee_fax:null,temperature:null,goods_name:null,flight_number:null,note:null,note_2:null,note_3:null,serial:1,pieces:1,payment_type:null,measurement:null,weight_in_kilo:null,receipt_file_url:null,is_collected:0,collection:null,collection_fee:0,simplified_declaration_form_fee:0,declaration_form_fee:0,declaration_form_extra_fee:0,tax:0,price:0,insurance:0,material_fee:0,consignee_tax_point:0,sender_tax_point:0,warehouse_fee:0,fuel_surcharge:0,value_added_service_fee:0,overlength_fee:0,overweight_fee:0,extra_fee:0,shipping_date:null,shipping_period:null,shipping_note:null,cvs_store_number:null,cvs_store_name:null,cvs_store_address:null,cvs_store_phone:null,station_code:null,declared_valu:null},e.is_get_core_waybill_number=!0):e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.attributes.core_waybills.number")}))})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.attributes.core_waybills.number")}))})},set_current_partition:function(e){var t=this;t.current_partition={},t.current_partition=e},create_core_waybill:function(){var e=this,t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_core_waybills_create).parse({});return axios.post(t,e.core_waybill,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){return"success"==t.data.status?(e.$noty.success(e.$t("ui.notifications.success.create__name",{name:e.$t("models.core_waybills")})),e.$router.push({name:"edit_core_waybill",params:{identity:t.data.core_waybill.identity}})):(e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.core_waybills"),reason:": "+t.data.errors})),e.create_core_waybill_error=t.data.errors),Promise.reject(t.data.errors)})}}},Tk=Ik,Ok=(n("fadb7"),Object(lt["a"])(Tk,qk,zk,!1,null,"050834c4",null)),Lk=Ok.exports,Dk=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui segment",attrs:{id:"edit_core_waybill"}},[e.is_initialized?i("CoreWaybill",{attrs:{core_waybill:e.core_waybill,template:"detail",is_auto_print:!1,is_can_update:!0,is_can_print_label:!0,is_show_change_template_btns:!1,detail:{is_show_blood_related:!0,is_show_receipt_file:!0,is_show_partition:!0,is_show_statuses:!0}}}):e._e(),i("Comments",{attrs:{commentable_type:"CoreWaybill",commentable_identity:e.core_waybill.identity,scope:"provider"}})],1)},Bk=[],Mk=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"comments"},[i("h3",[e._v("\n        "+e._s(e.$t("ui.toolbox.bulletin_board.name"))+"\n\n        "),i("i",{staticClass:"refresh icon",attrs:{title:e.$t("ui.general.update")},on:{click:e.fetch_comments}})]),i("div",{staticClass:"ui divider"}),e.is_processing||!e.is_initialized?i("div",[i("div",{staticClass:"ui inverted dimmer transition visible active",staticStyle:{display:"block !important"}},[i("div",{staticClass:"ui text loader"},[e._v("\n                "+e._s(e.$t("ui.general.initializing"))+"\n            ")])])]):i("div",{staticClass:"contents"},[i("div",{staticClass:"ui comments"},[0==e.comments.length?i("div",[e._v("\n                "+e._s(e.$t("ui.toolbox.bulletin_board.no_messages"))+"\n            ")]):e._e(),e._l(e.comments,function(e){return i("Comment",{key:e.identity,attrs:{comment:e}})}),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"comment"},[i("div",{staticClass:"content"},[i("a",{staticClass:"author"},[e._v("\n                        "+e._s(e.commentor)+"\n                    ")]),e._m(0),i("div",{staticClass:"text ui form"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.new_comment,expression:"new_comment"}],ref:"comment_input",attrs:{type:"text",placeholder:e.$t("ui.toolbox.bulletin_board.talk_your_comment"),rows:"1"},domProps:{value:e.new_comment},on:{keydown:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.add_comment(t):null},input:function(t){t.target.composing||(e.new_comment=t.target.value)}}})])])])],2)]),e.comments.length>0?i("Paginator",{attrs:{total_pages:e.pagination.total_pages,current_page:e.pagination.current_page,change_page_channel:e.commentable_type+e.commentable_identity}}):e._e()],1)},Uk=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"metadata"},[i("span",{staticClass:"date"})])}],Fk=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"comment"},[i("div",{staticClass:"content"},[i("a",{staticClass:"author"},[e._v(e._s(e.comment.name))]),i("div",{staticClass:"metadata"},[i("span",{staticClass:"date"},[e._v(e._s(e.human_datetime(e.comment.created_at)))])]),i("div",{staticClass:"text"},[e._v("\n            "+e._s(e.comment.content||"-")+"\n        ")])])])},Gk=[];function Hk(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function Yk(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){Hk(r,n,a,s,o,"next",e)}function o(e){Hk(r,n,a,s,o,"throw",e)}s(void 0)})}}var Kk={props:{comment:Object},data:function(){return{is_initialized:!1,is_processing:!1,errors:[]}},watch:{},created:function(){},mounted:function(){this.init()},computed:{avatar:function(){return this.comment.staff_identity?"https://semantic-ui.com/images/avatar/small/matt.jpg":this.comment.customer_identity?"https://semantic-ui.com/images/avatar/small/elliot.jpg":void 0}},methods:{init:function(){var e=Yk(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,new Promise(function(e){t.is_initialized=!0,e()});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{}},Wk=Kk,Vk=Object(lt["a"])(Wk,Fk,Gk,!1,null,"6a2113af",null),Xk=Vk.exports;function Qk(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function Zk(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){Qk(r,n,a,s,o,"next",e)}function o(e){Qk(r,n,a,s,o,"throw",e)}s(void 0)})}}var Jk={name:"ToolBulletinBoardComments",props:{commentable_type:String,commentable_identity:String,scope:String},data:function(){return{is_initialized:!1,is_processing:!1,new_comment:null,comments:[],pagination:{total_pages:null,current_page:null},errors:[],settings:{fetch_comments_url:null,add_comment_url:null,token:null}}},watch:{},created:function(){},mounted:function(){this.init()},computed:{commentor:function(){return"provider"==this.scope?this.$store.state.provider.current_staff.name:"customer"==this.scope?this.$store.state.customer.customer.company_name:void 0},avatar:function(){return"provider"==this.scope?"https://semantic-ui.com/images/avatar/small/matt.jpg":"customer"==this.scope?"https://semantic-ui.com/images/avatar/small/elliot.jpg":void 0}},methods:{init:function(){var e=Zk(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,"provider"==t.scope?(t.settings.fetch_comments_url=t.$store.state.provider.routes.api_v1_provider_comments,t.settings.add_comment_url=t.$store.state.provider.routes.api_v1_provider_comments_create,t.settings.token=localStorage.getItem("authentication_token")):"customer"==t.scope&&(t.settings.fetch_comments_url=t.$store.state.customer.routes.api_v1_customer_comments,t.settings.add_comment_url=t.$store.state.customer.routes.api_v1_customer_comments_create,t.settings.token=localStorage.getItem("customer_authentication_token")),e()});case 3:return e.next=5,t.fetch_comments();case 5:return e.next=7,new Promise(function(e){t.is_initialized=!0,e()});case 7:t.$bus.$off(t.commentable_type+t.commentable_identity),t.$bus.$on(t.commentable_type+t.commentable_identity,function(e){t.pagination.current_page=e,t.fetch_comments()}.bind(this));case 9:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_comments:function(){var e=this;e.is_processing=!0;var t=new RestUrl(e.settings.fetch_comments_url).parse({commentable_type:e.commentable_type,commentable_identity:e.commentable_identity},"?"+object_to_query({page:e.pagination.current_page}));return axios.get(t,{headers:{Authorization:e.settings.token}}).then(function(t){return"success"==t.data.status?(e.comments=t.data.comments,e.pagination=t.data.pagination):"failure"==t.data.status&&(e.errors=t.data.errors,e.errors.push(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.comments"),reason:": "+t.data.errors}))),e.is_processing=!1,t})["catch"](function(t){return e.errors.push(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.comments"),reason:": "+e.$t("ui.general.network_abnormality")+","+t.response.status})),Promise.reject(t)})},add_comment:function(){var e=this;if(e.new_comment){e.is_processing=!0;var t=new RestUrl(e.settings.add_comment_url).parse({}),i={commentable_type:e.commentable_type,commentable_identity:e.commentable_identity,content:e.new_comment};return e.new_comment=null,axios.post(t,i,{headers:{Authorization:e.settings.token}}).then(function(t){return"success"==t.data.status?e.fetch_comments():"failure"==t.data.status&&(e.errors=t.data.errors,e.$noty.error($t("ui.toolbox.bulletin_board.message")+" "+e.$t("ui.general.fetch"))),e.is_processing=!1,t})["catch"](function(t){return e.$noty.error($t("ui.toolbox.bulletin_board.message")+" "+e.$t("ui.general.fetch")+": "+t.response.status),Promise.reject(t)}).then(function(){$(e.$refs.comment_input).focus()})}}},components:{Comment:Xk,Paginator:cr}},eC=Jk,tC=(n("df9c"),Object(lt["a"])(eC,Mk,Uk,!1,null,"7f3bce45",null)),iC=tC.exports;function nC(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function aC(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){nC(r,n,a,s,o,"next",e)}function o(e){nC(r,n,a,s,o,"throw",e)}s(void 0)})}}var rC={name:"EditCoreWaybill",components:{CoreWaybill:Ck["a"],Comments:iC},props:{},data:function(){return{is_initialized:!1,is_processing:!1,core_waybill:{},errors:[]}},created:function(){},mounted:function(){this.init()},watch:{$route:function(e,t){"edit_core_waybill"==e.name&&this.init()}},computed:{},methods:{init:function(){var e=aC(regeneratorRuntime.mark(function e(){var t,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,t.is_processing=!1,t.core_waybill={},t.errors=[],e()});case 3:return e.next=5,t.fetch_core_waybill();case 5:return e.next=7,new Promise(function(e){i.$store.state.provider.core_waybills_module.current_core_waybill=t.core_waybill,t.is_initialized=!0});case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_core_waybill:function(){var e=this,t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_core_waybill).parse({core_waybill_identity:e.$route.params.identity});return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.core_waybill=t.data.core_waybill})["catch"](function(t){return e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.core_waybills"),reason:": "+t})),Promise.reject(t)})}}},sC=rC,oC=(n("0eb6"),Object(lt["a"])(sC,Dk,Bk,!1,null,"20273532",null)),cC=oC.exports,_C="core_waybills",lC="new_core_waybill",uC="edit_core_waybill",dC="core_waybills_operation",pC=[{path:"",component:Ek,name:"core_waybills",meta:{api_name:"api_v1_provider_core_waybills",breadcrumb:[_C],btns:[lC]}},{path:"new",component:Lk,name:"new_core_waybill",meta:{api_name:"api_v1_provider_core_waybill_create",breadcrumb:[_C,lC]}},{path:"edit/:identity",component:cC,name:"edit_core_waybill",meta:{api_name:"api_v1_provider_core_waybill_update",breadcrumb:[_C,uC]}},{path:"operation/:operation_number",component:Ek,name:"core_waybills_operation",meta:{api_name:"api_v1_provider_core_waybills",breadcrumb:[_C,dC]}},{path:"operation/:operation_number/edit/:identity",component:cC,name:"edit_core_waybill_operation",meta:{api_name:"api_v1_provider_core_waybill_update",breadcrumb:[_C,dC,uC]}}],mC=pC,fC=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"packer_layout"}},[e.is_initialized?i("div",[i("div",{staticClass:"ui equal width grid"},[i("div",{staticClass:"column"},[i("CommandPanel",{attrs:{is_processing:e.is_processing,scanner_modes:e.scanner_modes,current_scanner_mode:e.current_scanner_mode}}),i("div",{staticClass:"ui divider"}),i("CurrentPack",{attrs:{current_pack:e.current_pack,parent_pack:e.current_pack_parent_pack}}),i("div",{staticClass:"ui divider"}),i("SelectedPack",{attrs:{selected_pack:e.selected_pack,parent_pack:e.selected_pack_parent_pack}})],1),i("div",{staticClass:"column"},[i("Workspace",{attrs:{packs:e.packs,selected_pack:e.selected_pack,all_packs:e.packer_store.packs,is_processing:e.is_processing}})],1)])]):i("div",{staticClass:"ui active centered inline large loader"})])},vC=[],hC=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"packer_workspace"}},[i("div",{staticClass:"ui cards"},e._l(e.packs,function(t){return i("Pack",{key:t.identity,attrs:{pack:t,selected_pack:e.selected_pack,all_packs:e.all_packs}})}))])},gC=[],bC=n("1a5e"),yC={props:{packs:Array,selected_pack:Object,all_packs:Array,is_processing:Boolean},data:function(){return{}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{},components:{Pack:bC["default"]}},wC=yC,$C=Object(lt["a"])(wC,hC,gC,!1,null,null,null),kC=$C.exports,CC=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"packer_command_center"}},[i("div",{staticClass:"ui card"},[e.is_processing?i("div",{staticClass:"ui buttons"},e._l(e.scanner_modes,function(t){return i("button",{staticClass:"ui basic button",class:{active:e.current_scanner_mode==t},attrs:{scanner_mode:t}},[e._v("\n                "+e._s(e.$t("packer."+t))+"\n            ")])})):i("div",{staticClass:"ui top attached buttons"},e._l(e.scanner_modes,function(t){return i("button",{staticClass:"ui basic button",class:{primary:e.current_scanner_mode==t},attrs:{scanner_mode:t},on:{click:function(i){e.change_scanner_mode(t)}}},[e._v("\n                "+e._s(e.$t("packer."+t))+"\n            ")])})),i("div",{staticClass:"content"},[e.is_processing?i("div",{staticClass:"ui fluid disabled input"},[i("input",{attrs:{type:"text",placeholder:e.$t("packer.command_placeholder")}})]):i("div",{staticClass:"ui fluid input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.barcode,expression:"barcode"}],attrs:{id:"command_input_field",type:"text",placeholder:e.$t("packer.command_placeholder")},domProps:{value:e.barcode},on:{keyup:[function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?(t.preventDefault(),e.commands(t)):null},function(t){if(!("button"in t)&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"]))return null;e.change_scanner_mode("up")},function(t){if(!("button"in t)&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"]))return null;e.change_scanner_mode("down")}],input:function(t){t.target.composing||(e.barcode=t.target.value)}}})])]),i("div",{staticClass:"extra content"},[e.is_processing?i("button",{staticClass:"ui right floated basic positive loading button"},[e._v("送出結果")]):i("button",{staticClass:"ui right floated basic positive button",on:{click:e.submit}},[e._v("送出結果")])])])])},xC=[],PC={props:{is_processing:Boolean,scanner_modes:Array,current_scanner_mode:String},data:function(){return{barcode:null}},computed:{},watch:{},created:function(){$(document).on("keypress",function(){$("#command_input_field").focus()})},mounted:function(){},methods:{commands:function(){var e=this,t=e.barcode;e.barcode=null,e.$bus.$emit("packer_command_center","commands",t)},change_scanner_mode:function(e){var t=this;t.$bus.$emit("packer_command_center","change_scanner_mode",e)},submit:function(){var e=this;e.$bus.$emit("packer_command_center","submit",null)}},components:{}},SC=PC,NC=Object(lt["a"])(SC,CC,xC,!1,null,null,null),AC=NC.exports,EC=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"packer_current_pack"}},[i("div",{staticClass:"ui card"},[e._m(0),i("div",{staticClass:"content"},[i("table",{staticClass:"ui celled table"},[e._m(1),i("tbody",[i("tr",[i("td",{staticClass:"center aligned"},[e._v("號碼")]),i("td",{staticClass:"center aligned"},[e._v(e._s(e.current_pack.core_waybill_number))])]),i("tr",[i("td",{staticClass:"center aligned"},[e._v("親包號碼")]),i("td",{staticClass:"center aligned"},[e.parent_pack?i("span",[e._v("\n                                "+e._s(e.parent_pack.core_waybill_number)+"\n                            ")]):e._e()])])])])])])])},qC=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"content"},[i("h2",{staticClass:"ui header"},[i("i",{staticClass:"info icon"}),i("div",{staticClass:"content"},[e._v("\n                    目前包裹\n                ")])])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("thead",[i("tr",[i("th",{staticClass:"six wide center aligned"},[e._v("欄位")]),i("th",{staticClass:"ten wide center aligned"},[e._v("內容")])])])}],zC={props:{current_pack:Object,parent_pack:Object},data:function(){return{}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{},components:{}},jC=zC,RC=Object(lt["a"])(jC,EC,qC,!1,null,null,null),IC=RC.exports,TC=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"packer_selected_pack"}},[i("div",{staticClass:"ui card"},[e._m(0),i("div",{staticClass:"content"},[Object.keys(e.selected_pack).length>0?i("table",{staticClass:"ui celled table"},[e._m(1),i("tbody",[i("tr",[i("td",{staticClass:"center aligned"},[e._v("號碼")]),i("td",{staticClass:"center aligned"},[e._v(e._s(e.selected_pack.core_waybill_number))])]),i("tr",[i("td",{staticClass:"center aligned"},[e._v("親包號碼")]),i("td",{staticClass:"center aligned"},[e.parent_pack?i("span",[e._v("\n                                "+e._s(e.parent_pack.core_waybill_number)+"\n                            ")]):e._e()])])])]):i("div",{staticClass:"ui icon message"},[i("i",{staticClass:"question icon"}),i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                        尚未選擇任何包\n                    ")]),i("p",[e._v('點選左上角指令列的"'+e._s(e.$t("packer.selection"))+'"開始作業')])])])])])])},OC=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"content"},[i("h2",{staticClass:"ui header"},[i("i",{staticClass:"info circle icon"}),i("div",{staticClass:"content"},[e._v("\n                    選擇中的包裹\n                ")])])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("thead",[i("tr",[i("th",{staticClass:"six wide center aligned"},[e._v("欄位")]),i("th",{staticClass:"ten wide center aligned"},[e._v("內容")])])])}],LC={props:{selected_pack:Object,parent_pack:Object},data:function(){return{}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{},components:{}},DC=LC,BC=Object(lt["a"])(DC,TC,OC,!1,null,null,null),MC=BC.exports,UC={data:function(){return{is_initialized:!1,errors:[]}},computed:{packer_store:function(){return this.$store.state.packer_module.pack_mode},scanner_modes:function(){return this.packer_store.scanner_modes},current_scanner_mode:function(){return this.packer_store.current_scanner_mode},packs:function(){return _.filter(this.packer_store.packs,{packed_by_number:null})},selected_pack:function(){return this.packer_store.selected_pack},selected_pack_parent_pack:function(){return _.find(this.packer_store.packs,{core_waybill_number:this.packer_store.selected_pack.packed_by_number})},current_pack:function(){return this.packer_store.current_pack},current_pack_parent_pack:function(){return _.find(this.packer_store.packs,{core_waybill_number:this.packer_store.current_pack.packed_by_number})},is_processing:function(){return this.packer_store.is_processing}},watch:{$route:function(e,t){this.set_breadcrumbs()}},created:function(){this.init(),this.set_breadcrumbs()},mounted:function(){var e=this;e.$bus.$off("packer_command_center"),e.$bus.$on("packer_command_center",function(t,i){switch(console.log("packer_command_center:"+t+i),t){case"commands":e.commands(i);break;case"change_scanner_mode":e.change_scanner_mode(i);break;case"packing":e.packing(i);break;case"selection":e.selection(i);break;case"remove_pack":e.remove_pack(i);break;case"escape_pack":e.escape_pack(i);break;case"submit":e.submit();break;default:}}.bind(this))},methods:{init:function(){var e=this,t=new Promise(function(e,t){e()});t.then(function(){e.is_initialized=!1}).then(function(){e.change_scanner_mode(e.scanner_modes[0])}).then(function(){e.packer_store.workspace_identity=e.$store.state.provider.stations[4].workspaces[0].identity}).then(function(){return e.get_packs()}).then(function(){e.$noty.information("打包界面初始化完畢"),e.is_initialized=!0})["catch"](function(e){switch(e){default:}})},get_packs:function(){var e=this,t=new RestUrl(e.$store.state.shipper_routes.api_v1_provider_workspace_workflows).parse({workspace_identity:e.packer_store.workspace_identity},"?authorization="+e.$store.state.shipper.authorization);return axios.get(t).then(function(t){e.packer_store.packs=_.map(t.data.workflows,function(e){return _.extend({},e,{packed_by_number:null})}),e.$noty.success("已抓取workflows.")})["catch"](function(t){e.$noty.error("Failed to fetch workflows.")})},set_breadcrumbs:function(){var e=this,t={route_name:"packer",name:"打包界面"};switch(e.$route.name){case"packer":e.$store.state.breadcrumbs=[t];break}},commands:function(e){var t=this;switch(e){case"##tally":t.change_scanner_mode("tally");break;case"##addition":t.change_scanner_mode("addition");break;case"##selection":t.change_scanner_mode("selection");break;case"##packing":t.change_scanner_mode("packing");break;default:switch(t.packer_store.current_scanner_mode){case"tally":t.tally(e);break;case"addition":t.addition(e);break;case"selection":t.selection(e);break;case"packing":t.packing(e);break;default:t.$noty.error("尚未選擇模式")}}},change_scanner_mode:function(e){var t=this;switch(e){case"down":var i=_.indexOf(t.scanner_modes,t.packer_store.current_scanner_mode);t.scanner_modes[i+1]?t.packer_store.current_scanner_mode=t.scanner_modes[i+1]:t.packer_store.current_scanner_mode=_.head(t.scanner_modes),t.$noty.success("切換模式："+t.$t("packer."+t.packer_store.current_scanner_mode));break;case"up":i=_.indexOf(t.scanner_modes,t.packer_store.current_scanner_mode);t.scanner_modes[i-1]?t.packer_store.current_scanner_mode=t.scanner_modes[i-1]:t.packer_store.current_scanner_mode=_.last(t.scanner_modes),t.$noty.success("切換模式："+t.$t("packer."+t.packer_store.current_scanner_mode));break;default:t.packer_store.current_scanner_mode=e,t.$noty.success("切換模式："+t.$t("packer."+e))}},tally:function(e){var t=this;if(t.is_legal_input(e)){var i=_.find(this.packer_store.packs,{core_waybill_number:e});i?t.$noty.information("此貨物已點"):(t.packer_store.packs.push({number:e,packed_by_number:null}),t.packer_store.current_pack=_.find(this.packer_store.packs,{core_waybill_number:e}))}},addition:function(e){var t=this;if(t.is_legal_input(e)){var i=_.find(this.packer_store.packs,{core_waybill_number:e});i?t.$noty.information("此包已存在"):(t.packer_store.packs.push({core_waybill_number:e,packed_by_number:null}),t.packer_store.current_pack=_.find(this.packer_store.packs,{core_waybill_number:e}))}},selection:function(e){var t=this;if(t.is_legal_input(e)){var i=_.find(t.packer_store.packs,{core_waybill_number:e});i?(t.packer_store.selected_pack=i,t.packer_store.current_pack=i):t.$noty.error("此號碼尚未進入工作區，請以點貨或加包模式加入後再繼續")}},packing:function(e){var t=this;if(t.is_legal_input(e))if(0!=Object.keys(t.packer_store.selected_pack).length)if(e!=t.packer_store.selected_pack.core_waybill_number)if(t.is_packable(e)){var i=_.find(t.packer_store.packs,{core_waybill_number:e});i?(i.packed_by_number=t.packer_store.selected_pack.core_waybill_number,t.packer_store.current_pack=i):t.$noty.error("查無此貨")}else t.$noty.error("子不可包親");else t.$noty.error("不能自己包裝自己");else t.$noty.error("請先選包")},remove_pack:function(e){var t=this,i=_.find(t.packer_store.packs,{core_waybill_number:e});if(t.is_legal_input(e)&&confirm("刪除包裝會釋放出底下的子包，確定刪除？")){t.packer_store.selected_pack==i&&(t.packer_store.selected_pack={});var n=_.filter(t.packer_store.packs,{packed_by_number:i.core_waybill_number});_.forEach(n,function(e){e.packed_by_number=null}),t.packer_store.packs.splice(t.packer_store.packs.indexOf(i),1)}},escape_pack:function(e){var t=this;if(t.is_legal_input(e)){var i=_.find(t.packer_store.packs,{core_waybill_number:e});null==i.packed_by_number?t.$noty.information(i.core_waybill_number+"不在任何包裝裡"):i.packed_by_number=null}},is_packable:function(e){var t=this,i=t.packer_store.selected_pack;if(!i.packed_by_number)return!0;while(i.packed_by_number){if(i.packed_by_number==e)return!1;if(i=_.find(t.packer_store.packs,{core_waybill_number:i.packed_by_number}),!i.packed_by_number)return!0}},is_legal_input:function(e){var t=this;return e?!!e.replace(/\s/g,"").length||(t.$noty.error("無效的輸入"),!1):(t.$noty.error("請輸入號碼"),!1)},submit:function(){var e=this;e.packer_store.is_processing=!0;var t=new RestUrl(e.$store.state.shipper_routes.api_v1_provider_workspace_packing).parse({workspace_identity:e.packer_store.workspace_identity},"?authorization="+e.$store.state.shipper.authorization),i=_.map(e.packer_store.packs,function(e){return _.extend({},{core_waybill_number:e.core_waybill_number,packed_by_number:e.packed_by_number},{})});console.log(i),axios.post(t,{packs:i}).then(function(t){"success"==t.data.status?(e.packer_store.is_processing=!1,e.$noty.success("打包成功")):(e.packer_store.is_processing=!1,e.$noty.error("打包失敗"))})["catch"](function(t){t.response?(e.packer_store.is_processing=!1,e.$noty.error(e.$t("ui.general.network_abnormality")+": "+t.response.status+t.response.data)):(e.packer_store.is_processing=!1,e.$noty.error(e.$t("ui.general.network_abnormality")+": "+e.$t("ui.general.server_offline")))})}},components:{Workspace:kC,CommandPanel:AC,CurrentPack:IC,SelectedPack:MC}},FC=UC,GC=Object(lt["a"])(FC,fC,vC,!1,null,null,null),HC=GC.exports,YC=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"packer_layout"}},[e.is_initialized?i("div",[i("div",{staticClass:"ui equal width grid"},[i("div",{staticClass:"column"},[i("CommandPanel",{attrs:{scanner_modes:e.scanner_modes,current_scanner_mode:e.current_scanner_mode}}),i("div",{staticClass:"ui divider"}),i("CurrentPack",{attrs:{current_pack:e.current_pack}})],1),i("div",{staticClass:"column"},[i("Workspace",{attrs:{packs:e.packs,current_pack:e.current_pack,all_packs:e.packer_store.packs}})],1)])]):i("div",{staticClass:"ui active centered inline large loader"})])},KC=[],WC=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"unpack_workspace"}},e._l(e.packs,function(t){return i("Pack",{key:t.identity,attrs:{pack:t,current_pack:e.current_pack,all_packs:e.all_packs}})}))},VC=[],XC=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui card",class:[e.current_pack==e.pack?"raised":""]},[i("div",{staticClass:"content"},[e.is_processing?i("a",{staticClass:"ui ribbon label",class:[e.current_pack==e.pack?"teal":"grey"]},[e._v(e._s(e.pack.core_waybill_number))]):i("a",{staticClass:"ui ribbon label",class:[e.current_pack==e.pack?"teal":"grey"],on:{click:e.show}},[e._v(e._s(e.pack.core_waybill_number))])]),i("div",{staticClass:"ui bottom attached buttons"},[1==e.is_processing?i("div",{staticClass:"ui basic primary disabled button"},[e._v("拆包")]):i("div",{staticClass:"ui basic primary button",on:{click:e.unpacking}},[e._v("拆包")])])])},QC=[],ZC={props:{pack:Object,current_pack:Object,all_packs:Array},data:function(){return{is_processing:!1}},computed:{},watch:{},beforeCreate:function(){},created:function(){},mounted:function(){},methods:{show:function(){var e=this,t=e.pack.core_waybill_number;e.$bus.$emit("packer_command_center","show",t)},unpacking:function(){var e=this,t=e.pack.core_waybill_number;e.$bus.$emit("packer_command_center","unpacking",t)}},components:{}},JC=ZC,ex=Object(lt["a"])(JC,XC,QC,!1,null,null,null),tx=ex.exports,ix={props:{packs:Array,current_pack:Object,all_packs:Array},data:function(){return{}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{},components:{Pack:tx}},nx=ix,ax=Object(lt["a"])(nx,WC,VC,!1,null,null,null),rx=ax.exports,sx=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"packer_command_center"}},[i("div",{staticClass:"ui card"},[i("div",{staticClass:"ui top attached buttons"},e._l(e.scanner_modes,function(t){return i("button",{staticClass:"ui basic button",class:{primary:e.current_scanner_mode==t},attrs:{scanner_mode:t},on:{click:function(i){e.change_scanner_mode(t)}}},[e._v("\n                "+e._s(e.$t("packer."+t))+"\n            ")])})),i("div",{staticClass:"content"},[i("div",{staticClass:"ui fluid input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.barcode,expression:"barcode"}],attrs:{id:"command_input_field",type:"text",placeholder:e.$t("packer.command_placeholder")},domProps:{value:e.barcode},on:{keyup:[function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?(t.preventDefault(),e.commands(t)):null},function(t){if(!("button"in t)&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"]))return null;e.change_scanner_mode("up")},function(t){if(!("button"in t)&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"]))return null;e.change_scanner_mode("down")}],input:function(t){t.target.composing||(e.barcode=t.target.value)}}})])])])])},ox=[],cx={props:{scanner_modes:Array,current_scanner_mode:String},data:function(){return{barcode:null}},computed:{},watch:{},created:function(){$(document).on("keypress",function(){$("#command_input_field").focus()})},mounted:function(){},methods:{commands:function(){var e=this,t=e.barcode;e.barcode=null,e.$bus.$emit("packer_command_center","commands",t)},change_scanner_mode:function(e){var t=this;t.$bus.$emit("packer_command_center","change_scanner_mode",e)}},components:{}},_x=cx,lx=Object(lt["a"])(_x,sx,ox,!1,null,null,null),ux=lx.exports,dx=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"packer_current_pack"}},[i("div",{staticClass:"ui card"},[e._m(0),i("div",{staticClass:"content"},[Object.keys(e.current_pack).length>0?i("div",[i("table",{staticClass:"ui celled table"},[e._m(1),i("tbody",[i("tr",[i("td",{staticClass:"center aligned"},[e._v("號碼")]),i("td",{staticClass:"center aligned"},[e._v(e._s(e.current_pack.core_waybill_number))])])])]),i("h3",{staticClass:"ui header"},[e._v("包裹內容")]),e._m(2)]):i("div",{staticClass:"ui icon message"},[i("i",{staticClass:"question icon"}),i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                        尚未選擇任何包\n                    ")]),i("p",[e._v('點選"'+e._s(e.$t("packer.show"))+'"開始作業')])])])])])])},px=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"content"},[i("h2",{staticClass:"ui header"},[i("i",{staticClass:"info circle icon"}),i("div",{staticClass:"content"},[e._v("\n                    目前包裹\n                ")])])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("thead",[i("tr",[i("th",{staticClass:"six wide center aligned"},[e._v("欄位")]),i("th",{staticClass:"ten wide center aligned"},[e._v("內容")])])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("table",{staticClass:"ui celled table"},[i("thead",[i("tr",[i("th",{staticClass:"six wide center aligned"},[e._v("序號")]),i("th",{staticClass:"ten wide center aligned"},[e._v("運單號")])])]),i("tbody",[i("tr",[i("td",{staticClass:"center aligned"}),i("td",{staticClass:"center aligned"})])])])}],mx={props:{current_pack:Object},data:function(){return{}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{},components:{}},fx=mx,vx=Object(lt["a"])(fx,dx,px,!1,null,null,null),hx=vx.exports,gx={data:function(){return{is_initialized:!1,errors:[]}},computed:{packer_store:function(){return this.$store.state.packer_module.unpack_mode},scanner_modes:function(){return this.packer_store.scanner_modes},current_scanner_mode:function(){return this.packer_store.current_scanner_mode},packs:function(){return _.filter(this.packer_store.packs,{packed_by_number:null})},current_pack:function(){return this.packer_store.current_pack}},watch:{$route:function(e,t){this.set_breadcrumbs()}},created:function(){this.init(),this.set_breadcrumbs()},mounted:function(){var e=this;e.$bus.$off("packer_command_center"),e.$bus.$on("packer_command_center",function(t,i){switch(console.log("packer_command_center:"+t+i),t){case"commands":e.commands(i);break;case"change_scanner_mode":e.change_scanner_mode(i);break;case"unpacking":e.unpacking(i);break;case"show":e.show(i);break;default:}}.bind(this))},methods:{init:function(){var e=this,t=new Promise(function(e,t){e()});t.then(function(){e.is_initialized=!1}).then(function(){e.change_scanner_mode(e.scanner_modes[0])}).then(function(){e.packer_store.workspace_identity=e.$store.state.stations[4].workspaces[0].identity}).then(function(){return e.get_packs()}).then(function(){e.$noty.information("拆包界面初始化完畢"),e.is_initialized=!0})["catch"](function(e){switch(e){default:}})},get_packs:function(){var e=this,t=new RestUrl(e.$store.state.shipper_routes.api_v1_provider_workspace_workflows).parse({workspace_identity:e.packer_store.workspace_identity},"?authorization="+e.$store.state.shipper.authorization);return axios.get(t).then(function(t){e.packer_store.packs=_.map(t.data.workflows,function(e){return _.extend({},e,{packed_by_number:null})}),e.$noty.success("已抓取workflows.")})["catch"](function(t){e.$noty.error("Failed to fetch workflows.")})},set_breadcrumbs:function(){var e=this,t={route_name:"unpack",name:"拆包界面"};switch(e.$route.name){case"unpack":e.$store.state.breadcrumbs=[t];break}},commands:function(e){var t=this;switch(e){case"##show":t.change_scanner_mode("show");break;case"##unpacking":t.change_scanner_mode("unpacking");break;default:switch(t.packer_store.scanner_mode){case"show":t.show(e);break;case"unpacking":t.unpacking(e);break;default:t.$noty.error("尚未選擇模式")}}},change_scanner_mode:function(e){var t=this;switch(e){case"up":var i=_.indexOf(t.scanner_modes,t.packer_store.current_scanner_mode);t.scanner_modes[i+1]?t.packer_store.current_scanner_mode=t.scanner_modes[i+1]:t.packer_store.current_scanner_mode=_.head(t.scanner_modes),t.$noty.success("切換模式："+t.$t("packer."+t.packer_store.current_scanner_mode));break;case"down":i=_.indexOf(t.scanner_modes,t.packer_store.current_scanner_mode);t.scanner_modes[i-1]?t.packer_store.current_scanner_mode=t.scanner_modes[i-1]:t.packer_store.current_scanner_mode=_.last(t.scanner_modes),t.$noty.success("切換模式："+t.$t("packer."+t.packer_store.current_scanner_mode));break;default:t.packer_store.current_scanner_mode=e,t.$noty.success("切換模式："+t.$t("packer."+e))}},show:function(e){var t=this;if(t.is_legal_input(e)){var i=_.find(t.packer_store.packs,{core_waybill_number:e});i?t.packer_store.current_pack=i:t.$noty.error("此號碼尚未進入工作區，請以點貨或加包模式加入後再繼續")}},unpacking:function(e){var t=this;t.is_legal_input(e)&&console.log(e+"拆包")},is_legal_input:function(e){var t=this;return e?!!e.replace(/\s/g,"").length||(t.$noty.error("無效的輸入"),!1):(t.$noty.error("請輸入號碼"),!1)}},components:{Workspace:rx,CommandPanel:ux,CurrentPack:hx}},bx=gx,yx=Object(lt["a"])(bx,YC,KC,!1,null,null,null),wx=yx.exports,$x=[{path:"/packer/pack",component:HC,name:"pack"},{path:"/packer/unpack",component:wx,name:"unpack"}],kx=$x,Cx=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"operations"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),i("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[i("div"),i("div",{staticClass:"ui segment",style:{width:e.filter.is_advanced_mode?"100%":"auto",margin:0}},[i("FilterHeader",{staticClass:"right floated"}),i("div",{staticClass:"clear"}),i("FilterAdvanced",{staticClass:"ui transition hidden filter"})],1)]),i("div",{staticClass:"ui segment"},[i("table",{staticClass:"ui compact celled table"},[i("thead",{staticClass:"center aligned"},[i("tr",[i("th",[e._v(e._s(e.$t("ui.general.date")))]),i("th",[e._v(e._s(e.$t("models.attributes.operations.number")))]),i("th",[e._v(e._s(e.$t("models.attributes.operations.customer")))]),i("th",[e._v(e._s(e.$t("models.attributes.operations.customer_note")))]),i("th",[e._v(e._s(e.$t("models.attributes.operations.provider_note")))]),i("th",[e._v("\n                        "+e._s(e.$t("ui.pages.operations.table.finish"))+"/\n                        "+e._s(e.$t("ui.pages.operations.table.total"))+"\n                    ")]),i("th",[e._v(e._s(e.$t("models.attributes.operations.status")))]),i("th",[e._v(e._s(e.$t("models.attributes.operations.file_name")))]),i("th",[e._v(e._s(e.$t("ui.general.operate")))])])]),e.is_loading?i("tbody",{staticClass:"center aligned"},[e._m(0)]):i("tbody",[e._l(e.operations,function(e){return i("Operation",{key:e.identity,attrs:{operation:e}})}),e.operations.length<=0?i("tr",{staticClass:"center aligned"},[i("td",{attrs:{colspan:"9"}},[i("h5",[e._v(e._s(e.$t("ui.general.no_data")))])])]):e._e()],2)]),e.operations.length>0?i("Paginator",{attrs:{total_pages:e.pagination.total_pages,current_page:e.pagination.current_page,disabled:e.is_loading}}):e._e()],1)],1)},xx=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"loading"},[i("td",{attrs:{colspan:"9"}},[i("div",{staticClass:"ui active centered inline loader"})])])}],Px=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"filter_advanced"}},[i("div",{staticClass:"ui form",on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$parent.fetch_operations(1)}}},[i("div",{staticClass:"three fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.operations.created_at")))]),i("el-date-picker",{staticStyle:{width:"100%"},attrs:{"unlink-panels":"",type:"daterange",align:"center","start-placeholder":e.$t("ui.el.datepicker.startDate"),"end-placeholder":e.$t("ui.el.datepicker.endDate"),"picker-options":e.$store.state.element_ui_datepicker_daterange_options},model:{value:e.filter.columns.created_duration,callback:function(t){e.$set(e.filter.columns,"created_duration",t)},expression:"filter.columns.created_duration"}})],1),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.operations.number")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.number,expression:"filter.columns.number"}],attrs:{type:"text"},domProps:{value:e.filter.columns.number},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"number",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.operations.customer_identity")))]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection fluid dropdown"},[e._l(e.customers,function(t){return e.filter.columns.customer_identity==t.identity?i("div",{staticClass:"text"},[e._v("\n                        "+e._s(t.company_name)+"\n                    ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.customers,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.columns.customer_identity==t.identity},on:{click:function(i){e.filter.columns.customer_identity=t.identity}}},[e._v("\n                            "+e._s(t.company_name)+"\n                        ")])}))],2)])]),i("div",{staticClass:"four fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.operations.provider_note")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.provider_note,expression:"filter.columns.provider_note"}],attrs:{type:"text"},domProps:{value:e.filter.columns.provider_note},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"provider_note",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.operations.customer_note")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.customer_note,expression:"filter.columns.customer_note"}],attrs:{type:"text"},domProps:{value:e.filter.columns.customer_note},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"customer_note",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.operations.original_file_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.original_file_name,expression:"filter.columns.original_file_name"}],attrs:{type:"text"},domProps:{value:e.filter.columns.original_file_name},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"original_file_name",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.operations.status")))]),i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.is_done,expression:"filter.columns.is_done"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.filter.columns.is_done)?e._i(e.filter.columns.is_done,null)>-1:e.filter.columns.is_done},on:{change:function(t){var i=e.filter.columns.is_done,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&e.$set(e.filter.columns,"is_done",i.concat([r])):s>-1&&e.$set(e.filter.columns,"is_done",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.filter.columns,"is_done",a)}}}),i("label",[e._v(e._s(e.$t("models.attributes.operations.is_done")))])]),i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.is_canceled,expression:"filter.columns.is_canceled"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.filter.columns.is_canceled)?e._i(e.filter.columns.is_canceled,null)>-1:e.filter.columns.is_canceled},on:{change:function(t){var i=e.filter.columns.is_canceled,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&e.$set(e.filter.columns,"is_canceled",i.concat([r])):s>-1&&e.$set(e.filter.columns,"is_canceled",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.filter.columns,"is_canceled",a)}}}),i("label",[e._v(e._s(e.$t("models.attributes.operations.is_canceled")))])])])])]),i("div",{staticClass:"ui icon blue button right floated",on:{click:function(t){e.$parent.fetch_operations(1)}}},[i("i",{staticClass:"search icon"}),e._v("\n        "+e._s(e.$t("ui.general.search"))+"\n    ")]),i("div",{staticClass:"clear"})])},Sx=[],Nx={name:"OperationsFilterAdvanced",data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.provider.operations_module},filter:function(){return this.current_store.filter},customers:function(){return[{company_name:this.$t("ui.general.please_select"),identity:null}].concat(this.$store.state.provider.customers)}},created:function(){},mounted:function(){},watch:{},methods:{},components:{}},Ax=Nx,Ex=(n("86ef"),Object(lt["a"])(Ax,Px,Sx,!1,null,"a2be6730",null)),qx=Ex.exports,zx=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"filter_general"}},[e.filter.is_advanced_mode?e._e():i("div",{staticClass:"ui action input"},["is_done"!=e.filter.current_shortcut_key&&"is_canceled"!=e.filter.current_shortcut_key&&"customer_identity"!=e.filter.current_shortcut_key&&"created_at"!=e.filter.current_shortcut_key?i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns[e.filter.current_shortcut_key],expression:"filter.columns[filter.current_shortcut_key]"}],attrs:{placeholder:e.$t("ui.general.search__key",{key:e.$t("models.attributes.operations."+e.filter.current_shortcut_key)}),type:"text"},domProps:{value:e.filter.columns[e.filter.current_shortcut_key]},on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$parent.fetch_operations(1)},input:function(t){t.target.composing||e.$set(e.filter.columns,e.filter.current_shortcut_key,t.target.value)}}}):"created_at"==e.filter.current_shortcut_key?i("el-date-picker",{staticClass:"right_radius",attrs:{"unlink-panels":"",type:"daterange",align:"center","range-separator":"","start-placeholder":e.$t("ui.el.datepicker.startDate"),"end-placeholder":e.$t("ui.el.datepicker.endDate"),"picker-options":e.$store.state.element_ui_datepicker_daterange_options},model:{value:e.filter.columns.created_duration,callback:function(t){e.$set(e.filter.columns,"created_duration",t)},expression:"filter.columns.created_duration"}}):"customer_identity"==e.filter.current_shortcut_key?i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection fluid dropdown right_radius",staticStyle:{"min-width":"200px"}},[e._l(e.customers,function(t){return e.filter.columns.customer_identity==t.identity?i("div",{staticClass:"text"},[e._v("\n                "+e._s(t.company_name)+"\n            ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.customers,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.columns.customer_identity==t.identity},on:{click:function(i){e.filter.columns.customer_identity=t.identity}}},[e._v("\n                    "+e._s(t.company_name)+"\n                ")])}))],2):e._e(),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection dropdown no_search right_radius",staticStyle:{"min-width":"120px"}},[e._l(e.filter.shortcut_keys,function(t){return e.filter.current_shortcut_key==t?i("div",{staticClass:"text"},[i("span",[e._v("\n                    "+e._s(e.$t("models.attributes.operations."+t))+"\n                ")])]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.filter.shortcut_keys,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.current_shortcut_key==t},on:{click:function(i){e.set_quick_filter(t)}}},[e._v("\n                    "+e._s(e.$t("models.attributes.operations."+t))+"\n                ")])}))],2),i("div",{staticClass:"ui button icon",on:{click:function(t){e.$parent.fetch_operations(1)}}},[i("i",{staticClass:"search icon"})])],1),e.filter.is_advanced_mode?i("div",{staticClass:"ui basic red icon button",on:{click:function(t){e.$store.commit("provider/operations_module/init_filter_columns")}}},[i("i",{staticClass:"close icon"}),e._v("\n        "+e._s(e.$t("ui.general.clear"))+"\n    ")]):e._e(),i("div",{staticClass:"ui button icon",style:{height:e.filter.is_advanced_mode?"auto":"38px",paddingTop:e.filter.is_advanced_mode?"":"13px",verticalAlign:e.filter.is_advanced_mode?"":"top"},on:{click:function(t){e.filter.is_advanced_mode=!e.filter.is_advanced_mode}}},[i("i",{staticClass:"bars icon",class:{minus:e.filter.is_advanced_mode,bars:!e.filter.is_advanced_mode}})])])},jx=[],Rx={name:"OperationsFilterHeader",data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.provider.operations_module},filter:function(){return this.current_store.filter},customers:function(){return[{company_name:this.$t("ui.general.please_select"),identity:null}].concat(this.$store.state.provider.customers)}},created:function(){},mounted:function(){},watch:{},methods:{set_quick_filter:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var i=this;i.filter.current_shortcut_key=t,i.filter.columns.created_duration="",_.forEach(i.filter.shortcut_keys,function(e){i.filter.columns[e]=null}),"is_done"==t&&(i.filter.columns.is_done=!0),"is_canceled"==t&&(i.filter.columns.is_canceled=!0)}catch(e){console.log(e)}}},components:{}},Ix=Rx,Tx=(n("a6d5"),Object(lt["a"])(Ix,zx,jx,!1,null,"12b98f26",null)),Ox=Tx.exports,Lx=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"center aligned"},[i("td",[e._v(" "+e._s(e.human_datetime(e.operation.created_at)))]),i("td",[e._v(" "+e._s(e.operation.number||"-")+" ")]),i("td",[e._v(" "+e._s(e.customer_name||"-")+" ")]),i("td",[e._v(" "+e._s(e.operation.customer_note||"-")+" ")]),i("td",[e._v(" "+e._s(e.operation.provider_note||"-")+" ")]),i("td",{class:{negative:0==e.operation.core_waybills.length,positive:0!=e.operation.core_waybills.length&&e.operation.core_waybills.length==e.done_core_waybills.length}},[e._v("\n        "+e._s(e.done_core_waybills.length)+" / "+e._s(e.operation.core_waybills.length)+"\n    ")]),i("td",[e.operation.is_canceled?i("span",[i("span",[i("i",{staticClass:"stop icon"}),e._v("\n                "+e._s(e.$t("models.attributes.operations.is_canceled"))+"\n                ")])]):e.operation.is_done?i("span",[i("i",{staticClass:"check icon"}),e._v("\n            "+e._s(e.$t("models.attributes.operations.is_done"))+"\n            ")]):i("span",[i("i",{staticClass:"play icon"}),e._v("\n                "+e._s(e.$t("ui.pages.operations.processing"))+"\n                ")])]),i("td",[i("a",{attrs:{href:e.operation.original_file_url}},[e._v(e._s(e.operation.original_file_name))])]),i("td",{staticClass:"center aligned"},[i("router-link",{staticClass:"ui basic primary button",attrs:{to:{name:"edit_provider_operation",params:{identity:e.operation.identity}}}},[e._v("\n            "+e._s(e.$t("ui.general.detail"))+"\n        ")])],1)])},Dx=[],Bx={name:"ProviderOperationsIndexItem",props:{operation:Object},data:function(){return{is_loading:!1}},computed:{customer_name:function(){return this.operation.customer?this.operation.customer.company_name:null},done_core_waybills:function(){return _.filter(this.operation.core_waybills,function(e){return 1==e.is_done})}},created:function(){},mounted:function(){},watch:{},methods:{},components:{}},Mx=Bx,Ux=Object(lt["a"])(Mx,Lx,Dx,!1,null,null,null),Fx=Ux.exports;function Gx(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function Hx(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){Gx(r,n,a,s,o,"next",e)}function o(e){Gx(r,n,a,s,o,"throw",e)}s(void 0)})}}var Yx={name:"OperationsIndex",data:function(){return{is_initialized:!1,is_loading:!1,is_filter_changed:!1,operations:[],errors:[]}},computed:{current_store:function(){return this.$store.state.provider.operations_module},pagination:function(){return this.current_store.pagination},filter:function(){return this.current_store.filter}},created:function(){},mounted:function(){this.init(),this.pagination.current_page=1},watch:{$route:{handler:function(e,t){var i=e.query.page;i&&(this.pagination.current_page=Number(i),this.$store.commit("provider/operations_module/set_current_page",i),this.fetch_operations())},immediate:!0},filter:{handler:function(e,t){this.is_filter_changed=!0},deep:!0},"filter.is_advanced_mode":function(e){$("#operations .ui.transition.filter").transition(e?"fade down":"hide"),e||this.$store.commit("provider/operations_module/init_filter_columns")}},methods:{init:function(){var e=Hx(regeneratorRuntime.mark(function e(){var t,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,new Promise(function(e){t.is_initialized=!1,e()});case 4:return e.next=6,t.fetch_operations();case 6:return e.next=8,new Promise(function(e){i.filter.is_advanced_mode&&$("#operations .ui.transition.filter").transition("fade down"),t.is_initialized=!0,e()});case 8:e.next=13;break;case 10:switch(e.prev=10,e.t0=e["catch"](1),e.t0){default:console.log("init error: "),console.log(e.t0)}case 13:return e.prev=13,e.finish(13);case 15:case"end":return e.stop()}},e,this,[[1,10,13,15]])}));function t(){return e.apply(this,arguments)}return t}(),fetch_operations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this;if(1==e&&(t.pagination.current_page=1,t.$route.query.page=1),0==t.is_loading){t.errors=[],t.is_loading=!0,t.is_filter_changed&&(t.$store.commit("provider/operations_module/set_current_page",null),t.is_filter_changed=!1);var i=_.clone(t.filter.columns);i.created_duration&&(i["begin_at"]=t.$moment(i.created_duration[0]).startOf("day").format("YYYY-MM-DDTHH:mm:ss+08:00"),i["end_at"]=t.$moment(i.created_duration[1]).endOf("day").format("YYYY-MM-DDTHH:mm:ss+08:00")),delete i.created_duration;var n=new RestUrl(t.$store.state.provider.routes.api_v1_provider_operations).parse({},"?"+object_to_query(i)+"&"+object_to_query({page:t.pagination.current_page}));return axios.get(n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){if("success"==e.data.status)t.operations=e.data.operations,t.$store.commit("provider/operations_module/set_current_page",e.data.pagination.current_page),t.$store.commit("provider/operations_module/set_total_pages",e.data.pagination.total_pages);else if("failure"==e.data.status)return Promise.reject(e.data)})["catch"](function(e){if(e.response){switch(e.response.status){default:t.errors.push(e.response.status+" "+e.response.statusText)}t.$noty.error(t.$t("ui.notifications.error.fetch__name",{name:t.$t("models.operations"),reason:": "+e.response.status+" "+e.response.statusText}))}else e.errors?t.$noty.error(t.$t("ui.notifications.error.fetch__name",{name:t.$t("models.operations"),reason:": "+e.errors})):(t.errors.push(t.$t("ui.general.server_offline")),t.$noty.error(t.$t("ui.general.server_offline")));return Promise.reject(e)})["finally"](function(){setTimeout(function(){t.is_loading=!1},300)})}}},components:{Operation:Fx,Paginator:cr,ErrorMessages:wc,FilterHeader:Ox,FilterAdvanced:qx}},Kx=Yx,Wx=(n("7ecd"),Object(lt["a"])(Kx,Cx,xx,!1,null,"32fc8c67",null)),Vx=Wx.exports,Xx=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"show"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),e._m(0),i("div",{staticClass:"ui horizontal segments"},[i("div",{staticClass:"ui segment"},[i("div",{staticClass:"ui divided items"},[i("div",{staticClass:"item"},[i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("訂單編號")]),i("div",{staticClass:"description"},[e._v("\n                            "+e._s(e.operation.number)+"\n                        ")])])]),i("div",{staticClass:"item"},[i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("建立時間")]),i("div",{staticClass:"description"},[e._v("\n                            "+e._s(e.human_datetime(e.operation.created_at))+"\n                        ")])])]),i("div",{staticClass:"item"},[i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("訂單狀態")]),i("div",{staticClass:"description"},[e.operation.is_done?i("span",[e._v("\n                                "+e._s(e.$t("models.attributes.operations.is_done_true"))+"\n                            ")]):i("span",[e._v("\n                                "+e._s(e.$t("models.attributes.operations.is_done_false"))+"\n                            ")])])])])])]),i("div",{staticClass:"ui segment"},[i("div",{staticClass:"ui divided items"},[i("div",{staticClass:"item"},[i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("訂單編號")]),i("div",{staticClass:"description"},[e._v("\n                            "+e._s(e.operation.number)+"\n                        ")])])]),i("div",{staticClass:"item"},[i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("建立時間")]),i("div",{staticClass:"description"},[e._v("\n                            "+e._s(e.human_datetime(e.operation.created_at))+"\n                        ")])])]),i("div",{staticClass:"item"},[i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("訂單狀態")]),i("div",{staticClass:"description"},[e.operation.is_done?i("span",[e._v("\n                                "+e._s(e.$t("models.attributes.operations.is_done_true"))+"\n                            ")]):i("span",[e._v("\n                                "+e._s(e.$t("models.attributes.operations.is_done_false"))+"\n                            ")])])])])])])]),e.is_initialized?i("div",[e.is_loading?i("div",{staticClass:"ui active centered inline loader"}):e.operation.identity?i("table",{staticClass:"ui fixed table blue"},[i("thead",[i("tr",[i("th",{staticClass:"right aligned",staticStyle:{"text-overflow":"initial"}},[e._v("\n                        "+e._s(e.operation.number)+"\n                    ")]),i("th",{attrs:{colspan:"4"}}),i("th",[e._v("\n                        "+e._s(e.human_datetime(e.operation.created_at))+"\n                    ")])])]),i("tbody",[i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.operations.status"))+"\n                    ")]),i("td",{attrs:{colspan:"5"}},[i("div",{staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.operation.is_done,expression:"operation.is_done"}],attrs:{type:"checkbox",id:"is_done"},domProps:{checked:Array.isArray(e.operation.is_done)?e._i(e.operation.is_done,null)>-1:e.operation.is_done},on:{change:function(t){var i=e.operation.is_done,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&e.$set(e.operation,"is_done",i.concat([r])):s>-1&&e.$set(e.operation,"is_done",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.operation,"is_done",a)}}}),i("label",{staticClass:"pointer",attrs:{for:"is_done"}},[e.operation.is_done?i("span",[e._v("\n                                    "+e._s(e.$t("models.attributes.operations.is_done_true"))+"\n                                ")]):i("span",[e._v("\n                                    "+e._s(e.$t("models.attributes.operations.is_done_false"))+"\n                                ")])])])])]),e.operation.is_canceled?i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        取消原因\n                    ")]),i("td",{staticClass:"ui form",attrs:{colspan:"5"}},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.operation.cancel_reason,expression:"operation.cancel_reason"}],domProps:{value:e.operation.cancel_reason},on:{input:function(t){t.target.composing||e.$set(e.operation,"cancel_reason",t.target.value)}}})])]):e._e(),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("ui.pages.operations.schedule"))+"\n                    ")]),i("td",{attrs:{colspan:"5"}},[i("div",{directives:[{name:"progress",rawName:"v-progress"}],staticClass:"ui indicating progress",attrs:{"data-value":e.done_core_waybills.length,"data-total":e.operation.core_waybills.length}},[e._m(1),i("div",{staticClass:"label"},[e._v(e._s(e.done_core_waybills.length)+" / "+e._s(e.operation.core_waybills.length))])])])]),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.operations.station"))+"\n                    ")]),i("td",{staticClass:"ui form",staticStyle:{overflow:"visible"},attrs:{colspan:"5"}},[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.operation.station_identity,expression:"operation.station_identity"}],ref:"station_identity",staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.operation,"station_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.$store.state.provider.stations,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2),i("button",{staticClass:"ui basic icon button",on:{click:function(t){e.operation.station_identity=null,e.$(e.$refs.station_identity).dropdown("clear")}}},[i("i",{staticClass:"remove icon"})])])]),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.operations.staffs"))+"\n                    ")]),i("td",{staticClass:"ui form",staticStyle:{overflow:"visible"},attrs:{colspan:"5"}},[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.operation.staff_identities,expression:"operation.staff_identities"}],ref:"staff_identities",staticClass:"ui dropdown",attrs:{multiple:""},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.operation,"staff_identities",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.$store.state.provider.operations_module.staffs,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2),i("button",{staticClass:"ui basic icon button",staticStyle:{"vertical-align":"bottom"},on:{click:function(t){e.operation.staff_identities=null,e.$(e.$refs.staff_identities).dropdown("clear")}}},[i("i",{staticClass:"remove icon"})])])]),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.operations.your_note"))+"\n                    ")]),i("td",{staticClass:"ui form",attrs:{colspan:"5"}},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.operation.provider_note,expression:"operation.provider_note"}],domProps:{value:e.operation.provider_note},on:{input:function(t){t.target.composing||e.$set(e.operation,"provider_note",t.target.value)}}})])]),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.operations.customer"))+"\n                    ")]),i("td",{staticClass:"ui form",staticStyle:{overflow:"visible"},attrs:{colspan:"5"}},[i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],ref:"customer_identity",staticClass:"ui selection dropdown"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.operation.customer_identity,expression:"operation.customer_identity"}],attrs:{type:"hidden"},domProps:{value:e.operation.customer_identity},on:{input:function(t){t.target.composing||e.$set(e.operation,"customer_identity",t.target.value)}}}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"default text"},[e._v("\n                                "+e._s(e.$t("ui.general.please_select"))+"\n                            ")]),i("div",{staticClass:"menu"},e._l(e.customers,function(t){return i("div",{staticClass:"item",attrs:{"data-value":t.identity},on:{click:function(i){e.selected_customer=t,e.operation.customer_identity=t.identity,e.operation.contract_identity=t.contracts[0].identity}}},[e._v("\n                                        "+e._s(t.company_name)+"\n                                ")])}))]),e.selected_customer?i("div",{staticStyle:{display:"inline-block"}},[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.operation.contract_identity,expression:"operation.contract_identity"}],on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.operation,"contract_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v("\n                                    "+e._s(e.$t("ui.general.please_select"))+"\n                                    "),e._v("\n                                    "+e._s(e.$t("ui.pages.operations.contract"))+"\n                                ")]),e._l(e.selected_customer.contracts,function(t){return i("option",{attrs:{contract:t},domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2)]):e._e(),i("button",{staticClass:"ui basic icon button",on:{click:function(t){e.selected_customer=null,e.operation.customer_identity=null,e.operation.contract_identity=null,e.$(e.$refs.customer_identity).dropdown("clear")}}},[i("i",{staticClass:"remove icon"})])])]),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.operations.customer_note"))+"\n                    ")]),i("td",{attrs:{colspan:"5"}},[e._v("\n                        "+e._s(e.operation.customer_note||"-")+"\n                    ")])]),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.operations.file"))+"\n                    ")]),i("td",{attrs:{colspan:"5"}},[i("a",{attrs:{href:e.operation.original_file_url}},[e._v(e._s(e.operation.original_file_name))])])]),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("ui.pages.operations.print_coew_waybill_labels"))+"\n                    ")]),i("td",{staticStyle:{overflow:"visible"},attrs:{colspan:"5"}},[i("CoreWaybillsLabelSvg",{attrs:{numbers:e.dot_separated_numbers,authentication_token:e.token,scope:"provider",channel:e.print_label_channel,is_show_input:!1}})],1)]),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("ui.pages.operations.print_coew_waybill_checklist"))+"\n                    ")]),i("td",{attrs:{colspan:"5"}},[i("OrderSummary",{attrs:{channel_name:"my_order_summaray",default_search_params:{pagination:!1,operation:{identity:e.operation.identity}},title:e.$t("ui.pages.operations._name_operation_list",{name:e.$store.state.provider.node.company_short_name}),sub_title:e.$store.state.provider.node.website_url,customer_service_hotline:e.$store.state.provider.node.customer_service_hotline,logistician:{name:"9999999 配送人員"},logo_url:"/images/"+e.$store.state.provider.node.company_en_name.replace(/(?:^|\.|\s?)([A-Z])/g,function(e,t){return"_"+t.toLowerCase()}).replace(/^_/,"")+"_logo.jpg",show_buttons:!0,show_contents:!1,scope:"provider"}})],1)]),e.show_receipts?i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("ui.pages.operations.print_receipt"))+"\n                    ")]),i("td",{attrs:{colspan:"5"}},[i("Receipts",{staticStyle:{display:"inline-block"},attrs:{show_buttons:!0,default_search_params:{operation_identity:e.operation.identity,pagination:!1,materials:"Waybill"},logo_url:"/images/"+e.node.company_en_name.replace(/(?:^|\.|\s?)([A-Z])/g,function(e,t){return"_"+t.toLowerCase()}).replace(/^_/,"")+"_logo.jpg",title:e.$t("ui.pages.operations._name_customer_receipt",{name:e.node.company_short_name}),sub_title:e.node.website_url,customer_service_hotline:e.node.customer_service_hotline,logistician:e.current_staff,location:""}})],1)]):e._e(),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("ui.general.operate"))+"\n                    ")]),i("td",{attrs:{colspan:"5"}},[i("button",{staticClass:"ui basic positive button",on:{click:function(t){t.preventDefault(),e.update_operation()}}},[e._v("\n                            "+e._s(e.$t("ui.general.update"))+"\n                        ")]),i("button",{staticClass:"ui basic negative button",on:{click:function(t){t.preventDefault(),e.delete_operation()}}},[e._v("\n                            "+e._s(e.$t("ui.general.delete"))+"\n                        ")])])]),i("tr",[i("td",{staticClass:"x_scrollable",attrs:{colspan:"6"}},[i("CoreWaybills",{attrs:{default_search_params:{operation_identity:e.operation.identity,include_is_deleted:!0},scope:"provider",show_delete_button:!0,show_update_button:!0,show_export_csv_button:!0,csv_file_name:e.operation.number,columns:e.core_waybill_columns,updater_columns:e.updater_columns}})],1)])])]):e._e(),e.operation.identity?i("div",{staticClass:"ui segment"},[i("Comments",{attrs:{commentable_type:"Operation",commentable_identity:e.operation.identity,scope:"provider"}})],1):e._e()]):i("div",{staticClass:"ui active inverted dimmer"},[i("div",{staticClass:"ui text loader"},[e._v(e._s(e.$t("ui.general.initializing")))])])],1)},Qx=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"user icon"}),e._v("訂單內容")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"bar"},[i("div",{staticClass:"progress"})])}],Zx=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"core_waybills"},[i("table",{staticClass:"ui compact celled selectable table"},[i("thead",{staticClass:"center aligned"},[i("tr",{staticClass:"center aligned"},[e.show_update_button?i("th",[e._v("\n                    "+e._s(e.$t("ui.toolbox.core_waybills.quick_update"))+"\n                ")]):e._e(),e._l(e.columns,function(t){return i("th",[e._v(e._s(t.human_name))])}),i("th",[i("div",{staticClass:"ui basic icon button",on:{click:function(t){e.show_filter=!e.show_filter}}},[e.show_filter?i("i",{staticClass:"angle double up icon"}):i("i",{staticClass:"angle double down icon"})])])],2),i("tr",{directives:[{name:"show",rawName:"v-show",value:e.show_filter,expression:"show_filter"}],staticClass:"center aligned"},[e.show_update_button?i("th",[i("button",{staticClass:"ui basic positive icon button",on:{click:e.add_all_to_quick_update}},[i("i",{staticClass:"plus icon"})])]):e._e(),e._l(e.columns,function(t){return i("th",{staticStyle:{overflow:"visible"}},[t.input_type?i("div",{staticClass:"ui mini input"},["text"==t.input_type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params[t.name],expression:"search_params[column.name]"}],attrs:{type:"text"},domProps:{value:e.search_params[t.name]},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_core_waybills(t):null},input:function(i){i.target.composing||e.$set(e.search_params,t.name,i.target.value)}}}):e._e(),"number"==t.input_type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params[t.name],expression:"search_params[column.name]"}],attrs:{type:"number"},domProps:{value:e.search_params[t.name]},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.fetch_core_waybills(t):null},input:function(i){i.target.composing||e.$set(e.search_params,t.name,i.target.value)}}}):e._e(),"materials"==t.input_type?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.search_params.material.class_names,expression:"search_params.material.class_names"}],on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.search_params.material,"class_names",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.materials,function(t){return i("option",{domProps:{value:t.class_name}},[e._v(e._s(t.name))])})],2):e._e(),"checkbox"==t.input_type?i("div",{staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_params[t.name],expression:"search_params[column.name]"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.search_params[t.name])?e._i(e.search_params[t.name],null)>-1:e.search_params[t.name]},on:{change:function(i){var n=e.search_params[t.name],a=i.target,r=!!a.checked;if(Array.isArray(n)){var s=null,o=e._i(n,s);a.checked?o<0&&e.$set(e.search_params,t.name,n.concat([s])):o>-1&&e.$set(e.search_params,t.name,n.slice(0,o).concat(n.slice(o+1)))}else e.$set(e.search_params,t.name,r)}}}),i("label")]):e._e()]):e._e()])}),i("th",[i("div",{staticClass:"ui icon mini buttons"},[i("div",{staticClass:"ui black basic button",attrs:{title:"搜尋"},on:{click:function(t){return t.preventDefault(),e.fetch_core_waybills(t)}}},[i("i",{staticClass:"search icon"})]),i("div",{staticClass:"ui black basic button",attrs:{title:"清除搜尋條件"},on:{click:function(t){return t.preventDefault(),e.init_search_params(t)}}},[i("i",{staticClass:"refresh icon"})]),e.show_export_csv_button?i("div",{staticClass:"ui black basic button",attrs:{title:"匯出csv"},on:{click:function(t){t.preventDefault(),e.fetch_core_waybills("csv")}}},[i("i",{staticClass:"file alternate icon"})]):e._e()])])],2)]),e.show_core_waybills?i("tbody",[e._l(e.core_waybills,function(t){return i("CoreWaybill",{key:t.identity,attrs:{core_waybill:t,columns:e.columns,scope:e.scope,show_delete_button:e.show_delete_button,show_update_button:e.show_update_button}})}),e.core_waybills.length<=0?i("tr",{staticClass:"center aligned"},[i("td",{attrs:{colspan:"8"}},[i("h5",[e._v(e._s(e.$t("ui.general.no_data")))])])]):e._e()],2):i("tbody",[e._m(0)])]),e.core_waybills.length>0?i("Paginator",{attrs:{total_pages:e.pagination.total_pages,current_page:e.pagination.current_page,change_page_channel:"core_waybills_pagination"}}):e._e(),i("Updater",{attrs:{core_waybills:e.quick_update_core_waybills,updater_columns:e.updater_columns}})],1)},Jx=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"loading"},[i("td",{attrs:{colspan:"8"}},[i("div",{staticClass:"ui active centered inline loader"})])])}],eP=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"core_waybill center aligned",class:{negative:e.core_waybill.is_deleted}},[e.show_update_button?i("td",[e.core_waybill.is_deleted?e._e():i("button",{staticClass:"ui basic positive icon button",on:{click:e.add_to_quick_update}},[i("i",{staticClass:"plus icon"})])]):e._e(),e._l(e.columns,function(t){return i("td",["text"==t.display_type?i("span",[e._v(e._s(e.core_waybill[t.name]||"-"))]):e._e(),"status"==t.display_type?i("span",[i("div",{staticClass:"ui list"},[i("div",{staticClass:"item"},[e._v(e._s(e.human_status(e.core_waybill.latest_status)||e.$t("ui.toolbox.core_waybills.no_station")))]),e._l(e.core_waybill.parent_core_waybills,function(t){return i("div",{staticClass:"item"},[e._v("\n                    "+e._s(e.$t("ui.toolbox.core_waybills.packed_in"))+"\n                    "),i("router-link",{attrs:{to:e.router_link_params(e.core_waybill)}},[e._v("\n                        "+e._s(t.number)+"\n                    ")]),e._v("\n                    : "+e._s(e.human_status(t.latest_status)||e.$t("ui.toolbox.core_waybills.no_station"))+"\n                ")],1)})],2)]):e._e(),"material"==t.display_type?i("span",[e._v(e._s(e.material(t)||"-"))]):e._e(),"boolean"==t.display_type?i("span",[1==e.core_waybill[t.name]?i("i",{staticClass:"check icon"}):e._e(),0==e.core_waybill[t.name]?i("i",{staticClass:"remove icon"}):e._e()]):e._e()])}),e.is_loading?i("td",[i("div",{staticClass:"ui active centered inline loader"})]):i("td",[e.core_waybill.is_deleted?i("span",[e._v("\n            "+e._s(e.$t("ui.toolbox.core_waybills.deleted"))+"\n        ")]):e._e(),i("div",{staticClass:"ui vertical buttons"},[e.core_waybill.is_deleted?e._e():i("router-link",{staticClass:"ui basic primary button",attrs:{to:e.router_link_params(e.core_waybill)}},[e._v("\n                "+e._s(e.$t("ui.general.detail"))+"\n            ")]),e.show_delete_button&&0==e.core_waybill.is_deleted?i("button",{staticClass:"ui basic negative button",on:{click:function(t){t.preventDefault(),e.delete_core_waybill()}}},[e._v("\n                "+e._s(e.$t("ui.general.delete"))+"\n            ")]):e._e()],1)])],2)},tP=[],iP={props:{columns:Array,theme:{type:String,default:"default"},core_waybill:{type:Object,default:function(){return{}}},scope:String,show_delete_button:Boolean,show_update_button:Boolean},data:function(){return{is_loading:!1}},mounted:function(){},computed:{},methods:{human_status:function(t){try{return t.name}catch(e){return null}},material:function(t){try{return this.core_waybill.material.name}catch(e){return null}},router_link_params:function(e){var t=this;switch(t.scope){case"provider":return{name:"edit_core_waybill",params:{identity:e.identity}};case"customer":return{name:"customer_show_core_waybill",params:{identity:e.identity}}}},delete_core_waybill:function(){var e=this;if(confirm(e.$t("ui.notifications.warning.are_you_sure_to_delete_it")+"\n"+e.$t("ui.general.delete")+" "+e.core_waybill.number+"？")){e.is_loading=!0;var t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_core_waybill_delete).parse({core_waybill_identity:e.core_waybill.identity},""),i=localStorage.getItem("authentication_token");axios.get(t,{headers:{Authorization:i}}).then(function(t){"success"==t.data.status?(e.core_waybill.is_deleted=!0,e.$noty.success(e.$t("ui.notifications.success.delete__name",{name:e.core_waybill.number}))):(console.log(t.data),e.$noty.error(e.$t("ui.notifications.error.delete__name",{name:e.core_waybill.number})))})["catch"](function(t){console.log(t.response),e.$noty.error(e.$t("ui.notifications.error.delete__name",{name:e.core_waybill.number}))})["finally"](function(){e.is_loading=!1})}},add_to_quick_update:function(){var e=this;_.find(e.$parent.quick_update_core_waybills,function(t){return t.identity==e.core_waybill.identity})||(e.$parent.quick_update_core_waybills.push(_.cloneDeep(e.core_waybill)),e.$noty.success(e.core_waybill.number+" "+e.$t("ui.toolbox.core_waybills.add_table")))}},components:{}},nP=iP,aP=Object(lt["a"])(nP,eP,tP,!1,null,"0e84139a",null),rP=aP.exports,sP=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("table",{directives:[{name:"show",rawName:"v-show",value:e.core_waybills.length>0,expression:"core_waybills.length > 0"}],staticClass:"ui celled compact selectable table"},[i("thead",{staticClass:"center aligned"},[i("tr",{staticClass:"ui form"},[i("th",{attrs:{colspan:e._.filter(e.updater_columns,function(e){return e.toggle}).length+3}},[i("h3",{staticClass:"ui header"},[e._v("\n                    "+e._s(e.$t("ui.toolbox.core_waybills.quick_update_table"))+"\n                ")]),i("div",{staticClass:"inline fields"},e._l(e.updater_columns,function(t){return i("div",{staticClass:"inline field"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.toggle,expression:"column.toggle"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0",id:"quick_"+t.header_text},domProps:{checked:Array.isArray(t.toggle)?e._i(t.toggle,null)>-1:t.toggle},on:{change:function(i){var n=t.toggle,a=i.target,r=!!a.checked;if(Array.isArray(n)){var s=null,o=e._i(n,s);a.checked?o<0&&e.$set(t,"toggle",n.concat([s])):o>-1&&e.$set(t,"toggle",n.slice(0,o).concat(n.slice(o+1)))}else e.$set(t,"toggle",r)}}}),i("label",{attrs:{for:"quick_"+t.header_text}},[e._v(e._s(t.header_text))])])}))])]),i("tr",[i("th",[e._v("\n                "+e._s(e.$t("models.materials"))+"\n            ")]),i("th",[e._v("\n                "+e._s(e.$t("models.attributes.core_waybills.number"))+"\n            ")]),e._l(e._.filter(e.updater_columns,function(e){return e.toggle}),function(t){return i("th",[e._v("\n                "+e._s(t.header_text)+"\n            ")])}),i("th",[e.is_loading?e._e():i("button",{staticClass:"ui basic negative icon button",on:{click:e.remove_all_core_waybills}},[i("i",{staticClass:"remove icon"})])])],2)]),i("tbody",{staticClass:"center aligned ui form"},[i("tr",{staticClass:"warning"},[i("td",{attrs:{colspan:"2"}},[i("h3",{staticClass:"ui header"},[e._v("\n                    "+e._s(e.$t("ui.toolbox.core_waybills.batch_edit"))+"\n                ")])]),e._l(e._.filter(e.updater_columns,function(e){return e.toggle}),function(t){return i("td",[e.is_loading?i("span",[e._v(e._s(e.batch_update_core_waybill[t.attribute_name]))]):"checkbox"===t.type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.batch_update_core_waybill[t.attribute_name],expression:"batch_update_core_waybill[column.attribute_name]"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.batch_update_core_waybill[t.attribute_name])?e._i(e.batch_update_core_waybill[t.attribute_name],null)>-1:e.batch_update_core_waybill[t.attribute_name]},on:{change:function(i){var n=e.batch_update_core_waybill[t.attribute_name],a=i.target,r=!!a.checked;if(Array.isArray(n)){var s=null,o=e._i(n,s);a.checked?o<0&&e.$set(e.batch_update_core_waybill,t.attribute_name,n.concat([s])):o>-1&&e.$set(e.batch_update_core_waybill,t.attribute_name,n.slice(0,o).concat(n.slice(o+1)))}else e.$set(e.batch_update_core_waybill,t.attribute_name,r)}}}):"radio"===t.type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.batch_update_core_waybill[t.attribute_name],expression:"batch_update_core_waybill[column.attribute_name]"}],attrs:{type:"radio"},domProps:{checked:e._q(e.batch_update_core_waybill[t.attribute_name],null)},on:{change:function(i){e.$set(e.batch_update_core_waybill,t.attribute_name,null)}}}):i("input",{directives:[{name:"model",rawName:"v-model",value:e.batch_update_core_waybill[t.attribute_name],expression:"batch_update_core_waybill[column.attribute_name]"}],attrs:{type:t.type},domProps:{value:e.batch_update_core_waybill[t.attribute_name]},on:{input:function(i){i.target.composing||e.$set(e.batch_update_core_waybill,t.attribute_name,i.target.value)}}})])}),i("td")],2),e._l(e.core_waybills,function(t){return i("tr",[i("td",[e._v(e._s(t.material.name))]),i("td",[e._v(e._s(t.number))]),e._l(e._.filter(e.updater_columns,function(e){return e.toggle}),function(n){return i("td",[e.is_loading?i("span",[e._v(e._s(t[n.attribute_name]))]):"checkbox"===n.type?i("input",{directives:[{name:"model",rawName:"v-model",value:t[n.attribute_name],expression:"cw[column.attribute_name]"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t[n.attribute_name])?e._i(t[n.attribute_name],null)>-1:t[n.attribute_name]},on:{change:function(i){var a=t[n.attribute_name],r=i.target,s=!!r.checked;if(Array.isArray(a)){var o=null,c=e._i(a,o);r.checked?c<0&&e.$set(t,n.attribute_name,a.concat([o])):c>-1&&e.$set(t,n.attribute_name,a.slice(0,c).concat(a.slice(c+1)))}else e.$set(t,n.attribute_name,s)}}}):"radio"===n.type?i("input",{directives:[{name:"model",rawName:"v-model",value:t[n.attribute_name],expression:"cw[column.attribute_name]"}],attrs:{type:"radio"},domProps:{checked:e._q(t[n.attribute_name],null)},on:{change:function(i){e.$set(t,n.attribute_name,null)}}}):i("input",{directives:[{name:"model",rawName:"v-model",value:t[n.attribute_name],expression:"cw[column.attribute_name]"}],attrs:{type:n.type},domProps:{value:t[n.attribute_name]},on:{input:function(i){i.target.composing||e.$set(t,n.attribute_name,i.target.value)}}})])}),i("td",[e.is_loading?e._e():i("button",{staticClass:"ui basic negative icon button",on:{click:function(i){e.remove_core_waybill(t.identity)}}},[i("i",{staticClass:"remove icon"})])])],2)})],2),i("tfoot",{staticClass:"center aligned"},[e.is_loading?i("tr",[i("th",{attrs:{colspan:e._.filter(e.updater_columns,function(e){return e.toggle}).length+3}},[i("div",{staticClass:"ui active centered inline loader"})])]):i("tr",[i("th",{attrs:{colspan:e._.filter(e.updater_columns,function(e){return e.toggle}).length+3}},[i("button",{staticClass:"ui basic positive button",on:{click:e.update_all}},[e._v("\n                    "+e._s(e.$t("ui.general.update"))+"\n                ")]),i("button",{staticClass:"ui basic negative button",on:{click:e.remove_all_core_waybills}},[e._v("\n                    "+e._s(e.$t("ui.general.cancel"))+"\n                ")])])])])])},oP=[];function cP(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function _P(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){cP(r,n,a,s,o,"next",e)}function o(e){cP(r,n,a,s,o,"throw",e)}s(void 0)})}}var lP={props:{core_waybills:Array,updater_columns:Array},data:function(){return{is_loading:!1,batch_update_core_waybill:{}}},mounted:function(){},computed:{},watch:{batch_update_core_waybill:{handler:function(e,t){var i=!0,n=!1,a=void 0;try{for(var r,s=this.core_waybills[Symbol.iterator]();!(i=(r=s.next()).done);i=!0){var o=r.value,c=!0,l=!1,u=void 0;try{for(var d,p=_.filter(this.updater_columns,function(e){return e.toggle})[Symbol.iterator]();!(c=(d=p.next()).done);c=!0){var m=d.value;e[m.attribute_name]&&(o[m.attribute_name]=e[m.attribute_name])}}catch(f){l=!0,u=f}finally{try{c||null==p["return"]||p["return"]()}finally{if(l)throw u}}}}catch(f){n=!0,a=f}finally{try{i||null==s["return"]||s["return"]()}finally{if(n)throw a}}},deep:!0},core_waybills:{handler:function(e,t){0==e.length&&(this.batch_update_core_waybill={})}}},methods:{update_all:function(){var e=_P(regeneratorRuntime.mark(function e(){var t,i,n,a,r,s,o,c,l,u,d,p,m,f,v,h;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,i={},e.next=4,new Promise(function(e){t.is_loading=!0,e()});case 4:n=!0,a=!1,r=void 0,e.prev=7,s=regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=c.value,e.next=3,new Promise(function(e){var a=_.filter(t.updater_columns,function(e){return e.toggle});i[n.identity]={},_.map(a,function(e){i[n.identity][e.attribute_name]=n[e.attribute_name]}),e()});case 3:case"end":return e.stop()}},e)}),o=t.core_waybills[Symbol.iterator]();case 10:if(n=(c=o.next()).done){e.next=15;break}return e.delegateYield(s(),"t0",12);case 12:n=!0,e.next=10;break;case 15:e.next=21;break;case 17:e.prev=17,e.t1=e["catch"](7),a=!0,r=e.t1;case 21:e.prev=21,e.prev=22,n||null==o["return"]||o["return"]();case 24:if(e.prev=24,!a){e.next=27;break}throw r;case 27:return e.finish(24);case 28:return e.finish(21);case 29:l=!0,u=!1,d=void 0,e.prev=32,p=regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=f.value,v=new RestUrl(t.$store.state.provider.routes.api_v1_provider_core_waybill_update).parse({core_waybill_identity:n.identity},""),h=localStorage.getItem("authentication_token"),e.next=5,axios.post(v,i[n.identity],{headers:{Authorization:h}}).then(function(e){return"success"==e.data.status?(t.remove_core_waybill(n.identity),Promise.resolve()):Promise.reject(e.data)})["catch"](function(e){console.log(e.response),t.$noty.error(t.$t("ui.notifications.error.update__name",{name:n.number}))})["finally"](function(){});case 5:case"end":return e.stop()}},e)}),m=t.core_waybills[Symbol.iterator]();case 35:if(l=(f=m.next()).done){e.next=40;break}return e.delegateYield(p(),"t2",37);case 37:l=!0,e.next=35;break;case 40:e.next=46;break;case 42:e.prev=42,e.t3=e["catch"](32),u=!0,d=e.t3;case 46:e.prev=46,e.prev=47,l||null==m["return"]||m["return"]();case 49:if(e.prev=49,!u){e.next=52;break}throw d;case 52:return e.finish(49);case 53:return e.finish(46);case 54:return e.next=56,new Promise(function(e){t.is_loading=!1,t.$parent.fetch_core_waybills(),e()});case 56:case"end":return e.stop()}},e,this,[[7,17,21,29],[22,,24,28],[32,42,46,54],[47,,49,53]])}));function t(){return e.apply(this,arguments)}return t}(),remove_core_waybill:function(e){var t=this;t.$parent.quick_update_core_waybills=_.filter(t.$parent.quick_update_core_waybills,function(t){return t.identity!=e})},remove_all_core_waybills:function(){var e=this,t=!0,i=!1,n=void 0;try{for(var a,r=e.core_waybills[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){var s=a.value;e.remove_core_waybill(s.identity)}}catch(o){i=!0,n=o}finally{try{t||null==r["return"]||r["return"]()}finally{if(i)throw n}}}},components:{}},uP=lP,dP=Object(lt["a"])(uP,sP,oP,!1,null,"17f7f1d4",null),pP=dP.exports;function mP(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function fP(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){mP(r,n,a,s,o,"next",e)}function o(e){mP(r,n,a,s,o,"throw",e)}s(void 0)})}}var vP={name:"ToolCoreWaybillsMain",props:{columns:{type:Array,default:function(){return[{input_type:"materials",display_type:"material",name:"materials",human_name:"類型"},{input_type:"text",display_type:"text",name:"number",human_name:"單號"},{input_type:"text",display_type:"text",name:"consignee_phone",human_name:"收件人電話"},{input_type:"number",display_type:"text",name:"weight_in_kilo",human_name:"重量"},{input_type:"number",display_type:"text",name:"collection",human_name:"代收貨款"},{input_type:null,display_type:"status",name:"latest_status",human_name:"貨況"},{input_type:"checkbox",display_type:"boolean",name:"is_done",human_name:"完成",default_value:!1}]}},updater_columns:{type:Array,default:function(){return[{toggle:!1,header_text:"原單號",attribute_name:"original_number",type:"text"},{toggle:!1,header_text:"追蹤號碼(聯運單號)",attribute_name:"tracking_number",type:"text"},{toggle:!1,header_text:"寄件人姓名",attribute_name:"sender_name",type:"text"},{toggle:!1,header_text:"寄件人地址",attribute_name:"sender_address",type:"text"},{toggle:!1,header_text:"寄件人電話",attribute_name:"sender_phone",type:"text"},{toggle:!1,header_text:"收件人姓名",attribute_name:"consignee_name",type:"text"},{toggle:!1,header_text:"收件人地址",attribute_name:"consignee_address",type:"text"},{toggle:!1,header_text:"收件人電話",attribute_name:"consignee_phone",type:"text"},{toggle:!1,header_text:"重量",attribute_name:"weight_in_kilo",type:"number"},{toggle:!1,header_text:"代收貨款",attribute_name:"collection",type:"number"}]}},theme:{type:String,default:"default"},default_search_params:{type:Object,default:function(){return{}}},scope:String,show_delete_button:{type:Boolean,default:!1},show_update_button:{type:Boolean,default:!1},show_export_csv_button:{type:Boolean,default:!1},csv_file_name:{type:String,default:"data"}},data:function(){return{is_initialized:!1,is_processing:!1,show_filter:!0,show_core_waybills:!1,core_waybills:[],materials:[],search_params:{number:null,material:{class_names:null}},pagination:{total_pages:null,current_page:null},quick_update_core_waybills:[]}},computed:{},mounted:function(){var e=this;e.init()},methods:{init:function(){var e=fP(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,t.init_search_params();case 5:return e.next=7,t.fetch_materials();case 7:return e.next=9,t.fetch_core_waybills();case 9:return e.next=11,new Promise(function(e){t.is_initialized=!0,e()});case 11:t.$bus.$off("core_waybills_pagination"),t.$bus.$on("core_waybills_pagination",function(e){t.pagination.current_page=e,t.fetch_core_waybills()}.bind(this));case 13:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_core_waybills:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"json",t=this,i=_.cloneDeep(t.search_params);switch(_.forEach(["number","flight_number","original_number","tracking_number","sender_name","consignee_name","consignee_address","consignee_phone","note"],function(e){i[e]&&(i[e]="%"+i[e]+"%")}),t.show_core_waybills=!1,t.scope){case"provider":if("csv"==e)var n=new RestUrl(t.$store.state.provider.routes.api_v1_provider_core_waybills+"."+e).parse({},"?"+object_to_query(t.default_search_params));else n=new RestUrl(t.$store.state.provider.routes.api_v1_provider_core_waybills_filter).parse({},"?"+object_to_query(t.default_search_params)+"&"+object_to_query(i)+"&"+object_to_query({page:t.pagination.current_page}));var a=localStorage.getItem("authentication_token");break;case"customer":n=new RestUrl(t.$store.state.customer.routes.api_v1_customer_core_waybills_filter).parse({},"?"+object_to_query(t.default_search_params)+"&"+object_to_query(i)+"&"+object_to_query({page:t.pagination.current_page})),a=localStorage.getItem("customer_authentication_token");break}return axios.get(n,{headers:{Authorization:a}}).then(function(i){if("success"==i.data.status)if("csv"==e){var n=document.createElement("a"),a=new Blob(["\ufeff",i.data.csv]),r=URL.createObjectURL(a);n.href=r,n.download=t.csv_file_name+".csv",document.body.appendChild(n),n.click(),document.body.removeChild(n)}else t.core_waybills=i.data.core_waybills,t.pagination=i.data.pagination;else"failure"==i.data.status&&t.$noty.error(t.$t("ui.notifications.error.fetch__name",{name:t.$t("models.core_waybills"),reason:": "+i.data.errors}));return i})["catch"](function(e){return t.errors.push(t.$t("ui.notifications.error.fetch__name",{name:t.$t("models.core_waybills"),reason:": "+t.$t("ui.general.network_abnormality")+","+e.response.status})),Promise.reject(e)}).then(function(){t.show_core_waybills=!0})},init_search_params:function(){var e=this;$(".core_waybills .ui.dropdown").dropdown("clear"),e.search_params={number:null,material:{class_names:null}};var t=!0,i=!1,n=void 0;try{for(var a,r=e.columns[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){var s=a.value;null!=s.default_value&&(e.search_params[s.name]=s.default_value)}}catch(o){i=!0,n=o}finally{try{t||null==r["return"]||r["return"]()}finally{if(i)throw n}}},fetch_materials:function(){var e=this;switch(e.scope){case"provider":var t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_materials).parse({},""),i=localStorage.getItem("authentication_token");return axios.get(t,{headers:{Authorization:i}}).then(function(t){e.materials=t.data.materials})["catch"](function(t){return e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.materials"),reason:": "+t.response.status})),Promise.reject(t)});case"customer":i=localStorage.getItem("customer_authentication_token");return Promise.resolve()}},add_all_to_quick_update:function(){var e=this,t=!0,i=!1,n=void 0;try{for(var a,r=_.filter(e.$children,function(e){return"CoreWaybill"==e.$options._componentTag})[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){var s=a.value;s.add_to_quick_update()}}catch(o){i=!0,n=o}finally{try{t||null==r["return"]||r["return"]()}finally{if(i)throw n}}},remove_all_core_waybills:function(){var e=this,t=!0,i=!1,n=void 0;try{for(var a,r=e.core_waybills[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){var s=a.value;e.$parent.remove_core_waybill(s.identity)}}catch(o){i=!0,n=o}finally{try{t||null==r["return"]||r["return"]()}finally{if(i)throw n}}}},components:{CoreWaybill:rP,Paginator:cr,Updater:pP}},hP=vP,gP=Object(lt["a"])(hP,Zx,Jx,!1,null,"6a8ac35c",null),bP=gP.exports;function yP(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function wP(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){yP(r,n,a,s,o,"next",e)}function o(e){yP(r,n,a,s,o,"throw",e)}s(void 0)})}}var $P={name:"EditOperation",props:{},data:function(){return{is_initialized:!1,is_loading:!1,operation:{},selected_customer:null,errors:[],print_label_channel:"operation_print_label_channel",core_waybill_columns:[{input_type:"materials",display_type:"material",name:"materials",human_name:this.$t("models.materials")},{input_type:"text",display_type:"text",name:"number",human_name:this.$t("models.attributes.core_waybills.number")},{input_type:"text",display_type:"text",name:"original_number",human_name:this.$t("models.attributes.core_waybills.original_number")},{input_type:"text",display_type:"text",name:"tracking_number",human_name:this.$t("models.attributes.core_waybills.tracking_number")},{input_type:"text",display_type:"text",name:"sender_name",human_name:this.$t("models.attributes.core_waybills.sender_name")},{input_type:"text",display_type:"text",name:"consignee_name",human_name:this.$t("models.attributes.core_waybills.consignee_name")},{input_type:"text",display_type:"text",name:"consignee_phone",human_name:this.$t("models.attributes.core_waybills.consignee_phone")},{input_type:"number",display_type:"text",name:"weight_in_kilo",human_name:this.$t("models.attributes.core_waybills.weight_in_kilo")},{input_type:"number",display_type:"text",name:"collection",human_name:this.$t("models.attributes.core_waybills.collection")},{input_type:null,display_type:"status",name:"latest_status",human_name:this.$t("models.attributes.core_waybills.latest_status")},{input_type:"checkbox",display_type:"boolean",name:"is_done",human_name:this.$t("ui.pages.core_waybills.done"),default_value:!1}],updater_columns:[{toggle:!1,header_text:this.$t("models.attributes.core_waybills.original_number"),attribute_name:"original_number",type:"text"},{toggle:!1,header_text:this.$t("models.attributes.core_waybills.tracking_number"),attribute_name:"tracking_number",type:"text"},{toggle:!1,header_text:this.$t("models.attributes.core_waybills.sender_name"),attribute_name:"sender_name",type:"text"},{toggle:!1,header_text:this.$t("models.attributes.core_waybills.sender_address"),attribute_name:"sender_address",type:"text"},{toggle:!1,header_text:this.$t("models.attributes.core_waybills.sender_phone"),attribute_name:"sender_phone",type:"text"},{toggle:!1,header_text:this.$t("models.attributes.core_waybills.consignee_name"),attribute_name:"consignee_name",type:"text"},{toggle:!1,header_text:this.$t("models.attributes.core_waybills.consignee_address"),attribute_name:"consignee_address",type:"text"},{toggle:!1,header_text:this.$t("models.attributes.core_waybills.consignee_phone"),attribute_name:"consignee_phone",type:"text"},{toggle:!1,header_text:this.$t("models.attributes.core_waybills.weight_in_kilo"),attribute_name:"weight_in_kilo",type:"number"},{toggle:!1,header_text:this.$t("models.attributes.core_waybills.collection"),attribute_name:"collection",type:"number"}]}},watch:{$route:function(e,t){e!=t&&this.init()}},created:function(){this.init()},mounted:function(){},computed:{material_grouped_core_waybills:function(){return _.groupBy(this.operation.core_waybills,"material.class_name")},dot_separated_numbers:function(){return _.map(this.material_grouped_core_waybills.Waybill,"number").toString()+","+_.map(this.material_grouped_core_waybills.Goods,"number").toString()},token:function(){return localStorage.getItem("authentication_token")},customers:function(){return this.$store.state.provider.customers},node:function(){return this.$store.state.provider.node},current_staff:function(){return this.$store.state.provider.current_staff},done_core_waybills:function(){return _.filter(this.operation.core_waybills,function(e){return 1==e.is_done})},current_service_name:function(){return this.$store.state.provider.node.service_name},show_receipts:function(){return["neuron","neuron_premium"].includes(this.current_service_name)}},methods:{init:function(){var e=wP(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,new Promise(function(e){t.is_initialized=!1,e()});case 4:return e.next=6,t.fetch_operation();case 6:return e.next=8,new Promise(function(e){t.operation.customer_identity&&(t.selected_customer=_.find(t.customers,function(e){return e.identity==t.operation.customer_identity})),e()});case 8:return e.next=10,new Promise(function(e){t.is_initialized=!0,e()});case 10:e.next=15;break;case 12:switch(e.prev=12,e.t0=e["catch"](1),e.t0){default:console.log("init error: "),console.log(e.t0)}case 15:return e.prev=15,e.finish(15);case 17:case"end":return e.stop()}},e,this,[[1,12,15,17]])}));function t(){return e.apply(this,arguments)}return t}(),fetch_operation:function(){var e=this;e.is_loading=!0;var t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_operation).parse({operation_identity:e.$route.params.identity});return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"==t.data.status)e.operation=t.data.operation;else if("failure"==t.data.status)return Promise.reject(t.data)})["catch"](function(t){if(t.response){switch(t.response.status){default:e.errors.push(t.response.status+" "+t.response.statusText)}e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.operations"),reason:": "+t.response.status+" "+t.response.statusText}))}else t.errors?(e.errors.push(t.errors),e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.operations"),reason:": "+t.errors}))):(e.errors.push(e.$t("ui.general.server_offline")),e.$noty.error(e.$t("ui.general.server_offline")))})["finally"](function(){e.is_loading=!1})},update_operation:function(){var e=this;e.is_loading=!0;var t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_operation_update).parse({operation_identity:e.$route.params.identity}),i=e.operation;delete i["identity"],delete i["number"],delete i["created_at"],delete i["file_name"],delete i["file_url"],delete i["customer_note"],delete i["instantiate_note"],delete i["is_instantiated"],delete i["is_operable"],delete i["is_operated"],delete i["is_ready"],delete i["core_waybills"],delete i["customer_node"],delete i["station"],delete i["staffs"],delete i["operation_identity"],axios.post(t,i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.init(),e.$noty.success(e.$t("ui.notifications.success.create__name",{name:e.$t("models.operations")}))):(e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.operations"),reason:": "+t.data.errors})),e.errors=t.data.errors)})["catch"](function(t){console.log(t),t.response?e.$noty.error(e.$t("ui.general.network_abnormality")+": "+t.response.status+t.response.data):e.$noty.error(e.$t("ui.general.network_abnormality")+": "+e.$t("ui.general.server_offline"))})["finally"](function(){e.is_loading=!1})},delete_operation:function(){var e=this;if(confirm(e.$t("ui.pages.operations.delete_help")+"\n"+e.$t("ui.notifications.warning.are_you_sure_to_delete_it"))){e.is_loading=!0;var t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_operation_delete).parse({operation_identity:e.$route.params.identity});axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return Promise.reject(t.data);e.$router.push({name:"provider_operations"}),e.$noty.success(e.$t("ui.notifications.success.delete__name",{name:e.$t("models.operations")}))})["catch"](function(t){if(t.response){switch(t.response.status){default:e.errors.push(t.response.status+" "+t.response.statusText)}e.$noty.error(e.$t("ui.notifications.error.delete__name",{name:e.$t("models.operations"),reason:": "+t.response.status+" "+t.response.statusText}))}else t.errors?(e.$noty.error(e.$t("ui.notifications.error.delete__name",{name:e.$t("models.operations"),reason:": "+response.data.errors})),e.errors=response.data.errors):(e.errors.push(e.$t("ui.general.server_offline")),e.$noty.error(e.$t("ui.general.server_offline")));return Promise.reject(t)})["finally"](function(){setTimeout(function(){e.is_loading=!1},300)})}}},components:{CoreWaybillsLabelSvg:jo,OrderSummary:ko,Comments:iC,Receipts:fo["a"],CoreWaybills:bP,ErrorMessages:wc}},kP=$P,CP=Object(lt["a"])(kP,Xx,Qx,!1,null,"34a27a1a",null),xP=CP.exports,PP=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"new_operation"}},[e.is_initialized?i("div",[i("table",{staticClass:"ui fixed table blue"},[i("thead",[i("tr",[i("th",{staticClass:"right aligned"},[i("h3",{staticClass:"ui header"},[e._v("\n                            "+e._s(e.$t("ui.page_titles.new_provider_operation"))+"\n                        ")])]),i("th",{attrs:{colspan:"4"}}),i("th")])]),i("tbody",{staticClass:"ui form"},[i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.operations.customer"))+"\n                    ")]),i("td",{staticStyle:{overflow:"visible"},attrs:{colspan:"5"}},[i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],ref:"customer_identity",staticClass:"ui selection dropdown"},[i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"default text"},[e._v(e._s(e.$t("ui.general.please_select")))]),i("div",{staticClass:"menu"},e._l(e.customers,function(t){return i("div",{staticClass:"item",on:{click:function(i){e.selected_customer=t,e.operation.customer_identity=t.identity,e.operation.contract_identity=t.contracts[0].identity}}},[e._v("\n                                        "+e._s(t.company_name)+"\n                                ")])}))]),e.selected_customer?i("div",{staticStyle:{display:"inline-block"}},[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.operation.contract_identity,expression:"operation.contract_identity"}],on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.operation,"contract_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.selected_customer.contracts,function(t){return i("option",{attrs:{contract:t},domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2)]):e._e(),i("button",{staticClass:"ui basic icon button",on:{click:function(t){e.selected_customer=null,e.operation.customer_identity=null,e.operation.contract_identity=null,e.$(e.$refs.customer_identity).dropdown("clear")}}},[i("i",{staticClass:"remove icon"})])])]),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.operations.station"))+"\n                    ")]),i("td",{staticStyle:{overflow:"visible"},attrs:{colspan:"5"}},[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.operation.station_identity,expression:"operation.station_identity"}],ref:"station_identity",staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.operation,"station_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v("\n                                "+e._s(e.$t("ui.general.please_select"))+"\n                            ")]),e._l(e.$store.state.provider.stations,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2),i("button",{staticClass:"ui basic icon button",on:{click:function(t){e.operation.station_identity=null,e.$(e.$refs.station_identity).dropdown("clear")}}},[i("i",{staticClass:"remove icon"})])])]),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.operations.staffs"))+"\n                    ")]),i("td",{staticStyle:{overflow:"visible"},attrs:{colspan:"5"}},[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.operation.staff_identities,expression:"operation.staff_identities"}],ref:"staff_identities",staticClass:"ui dropdown",attrs:{multiple:""},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.operation,"staff_identities",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.$store.state.provider.operations_module.staffs,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2),i("button",{staticClass:"ui basic icon button",staticStyle:{"vertical-align":"bottom"},on:{click:function(t){e.operation.staff_identities=null,e.$(e.$refs.staff_identities).dropdown("clear")}}},[i("i",{staticClass:"remove icon"})])])]),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.operations.your_note"))+"\n                    ")]),i("td",{staticStyle:{overflow:"visible"},attrs:{colspan:"5"}},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.operation.provider_note,expression:"operation.provider_note"}],attrs:{type:"text",placeholder:e.$t("models.attributes.operations.provider_note")},domProps:{value:e.operation.provider_note},on:{input:function(t){t.target.composing||e.$set(e.operation,"provider_note",t.target.value)}}})])]),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("ui.general.operate"))+"\n                    ")]),i("td",{staticStyle:{overflow:"visible"},attrs:{colspan:"5"}},[i("button",{staticClass:"ui basic positive button",on:{click:function(t){return t.preventDefault(),e.create(t)}}},[e._v("\n                            "+e._s(e.$t("ui.general.create"))+"\n                        ")])])])])])]):e._e()])},SP=[];function NP(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function AP(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){NP(r,n,a,s,o,"next",e)}function o(e){NP(r,n,a,s,o,"throw",e)}s(void 0)})}}var EP={name:"NewOperation",props:{},data:function(){return{is_initialized:!1,is_processing:!1,operation:{},selected_customer:null,errors:[]}},created:function(){this.init()},mounted:function(){},watch:{$route:function(e,t){"new_operation"==e.name&&this.init()},language:function(e){this.operation.provider_note=this.$t("ui.pages.operations.provider_note_value")}},computed:{language:function(){return this.$store.state.language},customers:function(){return this.$store.state.provider.customers}},methods:{init:function(){var e=AP(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,t.is_processing=!1,t.operation={provider_note:t.$t("ui.pages.operations.provider_note_value"),staff_identities:[],customer_identity:null,contract_identity:null},t.selected_customer=null,t.errors=[],e()});case 3:return e.next=5,new Promise(function(e){t.is_initialized=!0,e()});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),create:function(){var e=this;if(null==e.operation.customer_identity||e.operation.customer_identity&&e.operation.contract_identity){e.is_processing=!0,e.errors=[];var t=e.operation,i=new RestUrl(e.$store.state.provider.routes.api_v1_provider_operations_create).parse({},"");return axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.is_processing=!1,e.$noty.success(e.$t("ui.notifications.success.create__name",{name:e.$t("models.operations")})),e.$router.push({name:"edit_provider_operation",params:{identity:t.data.operation.identity}})):(e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.operations")})),e.is_processing=!1)})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.operations")})),e.is_processing=!1})}e.$noty.error(e.$t("ui.pages.operations.helps.please_confirm_sender_and_contract_are_selected"))}},components:{}},qP=EP,zP=Object(lt["a"])(qP,PP,SP,!1,null,"706839af",null),jP=zP.exports,RP="provider_operations",IP="new_provider_operation",TP="edit_provider_operation",OP=[{path:"",component:Vx,name:"provider_operations",meta:{api_name:"api_v1_provider_operations",breadcrumb:[RP],btns:[IP]}},{path:"new",component:jP,name:"new_provider_operation",meta:{api_name:"api_v1_provider_operations_create",breadcrumb:[RP,IP]}},{path:"edit/:identity",component:xP,name:"edit_provider_operation",meta:{api_name:"api_v1_provider_operation_update",breadcrumb:[RP,TP]}}],LP=OP,DP=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"appraisals"}},[i("router-link",{staticClass:"ui basic positive button",attrs:{to:{name:"new_appraisal",params:{}}}},[i("i",{staticClass:"plus icon"}),e._v("\n        "+e._s(e.$t("ui.page_titles.new_appraisal"))+"\n    ")]),i("table",{staticClass:"ui celled table"},[i("thead",[i("tr",[i("th",[e._v(e._s(e.$t("ui.pages.appraisals.point")))]),i("th",[e._v(e._s(e.$t("ui.pages.appraisals.reason")))]),i("th",[e._v(e._s(e.$t("ui.pages.appraisals.registrant_identity")))]),i("th")])]),i("tbody",e._l(e.appraisals,function(t){return e.is_initialized?i("appraisal",{key:t.identity,attrs:{appraisal:t}}):e._e()}))])],1)},BP=[],MP=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",[i("td",[e._v("\n        "+e._s(e.appraisal.point)+"\n    ")]),i("td",[e._v("\n        "+e._s(e.appraisal.reason)+"\n    ")]),i("td",[e._v("\n        "+e._s(e.appraisal.registrant.name)+"\n    ")]),i("td",[i("router-link",{staticClass:"ui basic primary button",attrs:{to:{name:"edit_appraisal",params:{identity:e.appraisal.identity}}}},[e._v("\n            "+e._s(e.$t("ui.general.edit"))+"\n        ")]),i("button",{staticClass:"ui basic negative button",on:{click:function(t){t.preventDefault(),e.delete_appraisal()}}},[e._v("\n            "+e._s(e.$t("ui.general.delete"))+"\n        ")])],1)])},UP=[],FP={props:{appraisal:Object},data:function(){return{is_processing:!1}},computed:{},created:function(){},mounted:function(){},watch:{},methods:{delete_appraisal:function(){if(confirm(this.$t("ui.notifications.warning.are_you_sure_to_delete_it"))){var e=this;e.is_processing=!0;var t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_appraisal_delete).parse({appraisal_identity:e.appraisal.identity},"");axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$parent.init(),e.$noty.success(e.$t("ui.notifications.success.delete__name",{name:e.$t("models.appraisals")}))):e.$noty.error("考績刪除失敗")})["catch"](function(t){t.response?e.$noty.error(e.$t("ui.general.network_abnormality")+": "+t.response.status+t.response.data):e.$noty.error(e.$t("ui.general.network_abnormality")+": "+e.$t("ui.general.server_offline"))}),e.is_processing=!1}}},components:{}},GP=FP,HP=Object(lt["a"])(GP,MP,UP,!1,null,null,null),YP=HP.exports;function KP(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function WP(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){KP(r,n,a,s,o,"next",e)}function o(e){KP(r,n,a,s,o,"throw",e)}s(void 0)})}}var VP={data:function(){return{appraisals:[],is_initialized:!1}},computed:{},created:function(){var e=this;e.init()},mounted:function(){},watch:{$route:function(e,t){"appraisals"==e.name&&this.init()}},methods:{init:function(){var e=WP(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,t.fetch_appraisals();case 5:return e.next=7,new Promise(function(e){t.is_initialized=!0,e()});case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_appraisals:function(){var e=this,t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_staff_appraisals).parse({identity:e.$route.params.staff_identity},"");return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){return e.appraisals=t.data.appraisals,t})["catch"](function(t){return e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.appraisals"),reason:": "+t})),Promise.reject(t)})}},components:{appraisal:YP}},XP=VP,QP=Object(lt["a"])(XP,DP,BP,!1,null,null,null),ZP=QP.exports,JP=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"new_appraisal"}},[i("h1",{staticClass:"ui header"},[e._v("\n        "+e._s(e.$t("ui.page_titles.new_appraisal"))+"\n    ")]),e.is_initialized?i("div",[i("form",{staticClass:"ui form"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("ui.pages.appraisals.point")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.appraisal.point,expression:"appraisal.point"}],attrs:{type:"number"},domProps:{value:e.appraisal.point},on:{input:function(t){t.target.composing||e.$set(e.appraisal,"point",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("ui.pages.appraisals.reason")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.appraisal.reason,expression:"appraisal.reason"}],attrs:{type:"text"},domProps:{value:e.appraisal.reason},on:{input:function(t){t.target.composing||e.$set(e.appraisal,"reason",t.target.value)}}})]),i("button",{staticClass:"ui basic positive button",on:{click:function(t){return t.preventDefault(),e.create(t)}}},[e._v("\n                "+e._s(e.$t("ui.general.create"))+"\n            ")])])]):e._e()])},eS=[];function tS(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function iS(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){tS(r,n,a,s,o,"next",e)}function o(e){tS(r,n,a,s,o,"throw",e)}s(void 0)})}}var nS={props:{},data:function(){return{is_initialized:!1,is_processing:!1,appraisal:{},errors:[]}},created:function(){this.init()},mounted:function(){},watch:{$route:function(e,t){"new_appraisal"==e.name&&this.init()}},computed:{},methods:{init:function(){var e=iS(regeneratorRuntime.mark(function e(){var t,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,t.is_processing=!1,t.appraisal={point:0,reason:i.$t("ui.pages.appraisals.reason"),staff_identity:t.$route.params.staff_identity},t.errors=[],e()});case 3:return e.next=5,new Promise(function(e){t.is_initialized=!0});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),create:function(){var e=this;e.is_processing=!0,e.errors=[];var t=e.appraisal,i=new RestUrl(e.$store.state.provider.routes.api_v1_provider_appraisal_create).parse({},"");axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$router.push("/provider/appraisals/"+e.$route.params.staff_identity),e.$noty.success(e.$t("ui.notifications.success.create__name",{name:e.$t("models.appraisals")}))):(e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.appraisals"),reason:": "+t.data.errors})),e.errors=t.data.errors)})["catch"](function(t){t.response?e.$noty.error(e.$t("ui.general.network_abnormality")+": "+t.response.status+t.response.data):e.$noty.error(e.$t("ui.general.network_abnormality")+": "+e.$t("ui.general.server_offline"))}),e.is_processing=!1}},components:{}},aS=nS,rS=Object(lt["a"])(aS,JP,eS,!1,null,"f9b106ea",null),sS=rS.exports,oS=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"edit_appraisal"}},[i("h1",{staticClass:"ui header"},[e._v("\n        "+e._s(e.$t("ui.page_titles.edit_appraisal"))+"\n    ")]),e.is_initialized?i("div",[i("form",{staticClass:"ui form"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("ui.pages.appraisals.point")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.appraisal.point,expression:"appraisal.point"}],attrs:{type:"number"},domProps:{value:e.appraisal.point},on:{input:function(t){t.target.composing||e.$set(e.appraisal,"point",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("ui.pages.appraisals.point")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.appraisal.reason,expression:"appraisal.reason"}],attrs:{type:"text"},domProps:{value:e.appraisal.reason},on:{input:function(t){t.target.composing||e.$set(e.appraisal,"reason",t.target.value)}}})]),i("button",{staticClass:"ui basic positive button",on:{click:function(t){return t.preventDefault(),e.update(t)}}},[e._v(e._s(e.$t("ui.general.update")))])])]):e._e()])},cS=[];function _S(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function lS(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){_S(r,n,a,s,o,"next",e)}function o(e){_S(r,n,a,s,o,"throw",e)}s(void 0)})}}var uS={props:{},data:function(){return{is_initialized:!1,is_processing:!1,appraisal:{},errors:[]}},created:function(){this.init()},mounted:function(){},watch:{$route:function(e,t){"edit_appraisal"==e.name&&this.init()}},computed:{},methods:{init:function(){var e=lS(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,t.is_processing=!1,t.appraisal={},t.errors=[],e()});case 3:return e.next=5,t.fetch_appraisal();case 5:return e.next=7,new Promise(function(e){t.is_initialized=!0});case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_appraisal:function(){var e=this,t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_appraisal).parse({appraisal_identity:e.$route.params.identity},"");return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.appraisal=t.data.appraisal})["catch"](function(t){return e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.appraisals"),reason:": "+t})),Promise.reject(t)})},update:function(){var e=this;e.is_processing=!0,e.errors=[];var t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_appraisal_update).parse({appraisal_identity:e.$route.params.identity},""),i=e.appraisal;axios.post(t,i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$parent.init(),e.$router.push("/provider/appraisals/"+e.$route.params.staff_identity),e.$noty.success(e.$t("ui.notifications.success.update__name",{name:e.$t("models.appraisals")}))):(e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.appraisals"),reason:": "+t.data.errors})),e.errors=t.data.errors)})["catch"](function(t){t.response?e.$noty.error(e.$t("ui.general.network_abnormality")+": "+t.response.status+t.response.data):e.$noty.error(e.$t("ui.general.network_abnormality")+": "+e.$t("ui.general.server_offline"))}),e.is_processing=!1}},components:{}},dS=uS,pS=Object(lt["a"])(dS,oS,cS,!1,null,"b2b58c3a",null),mS=pS.exports,fS="staffs",vS="appraisals",hS="new_appraisal",gS="edit_appraisal",bS=[{path:":staff_identity",component:ZP,name:"appraisals",meta:{api_name:"api_v1_provider_staffs_appraisals",breadcrumb:[fS,vS]}},{path:":staff_identity/new",component:sS,name:"new_appraisal",meta:{api_name:"api_v1_provider_appraisal_create",breadcrumb:[fS,hS]}},{path:":staff_identity/:identity/edit",component:mS,name:"edit_appraisal",breadcrumb:[fS,gS]}],yS=bS,wS=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"user_logs"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),i("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[i("div"),i("div",{staticClass:"ui segment",style:{width:e.filter.is_advanced_mode?"100%":"auto",margin:0}},[i("FilterHeader",{staticClass:"right floated"}),i("div",{staticClass:"clear"}),i("FilterAdvanced",{staticClass:"ui transition hidden filter"})],1)]),i("div",{staticClass:"ui segment"},[i("table",{staticClass:"ui celled table"},[i("thead",{staticClass:"center aligned"},[i("tr",[i("th",[e._v(e._s(e.$t("ui.pages.user_logs.record_object")))]),i("th",[e._v(e._s(e.$t("models.attributes.user_logs.title")))]),i("th",[e._v(e._s(e.$t("models.attributes.user_logs.action_type")))]),i("th",[e._v(e._s(e.$t("ui.pages.user_logs.operator")))]),i("th",[e._v(e._s(e.$t("models.attributes.user_logs.created_at")))]),i("th",[e._v(e._s(e.$t("ui.general.operate")))])])]),e.is_loading?i("tbody",{staticClass:"center aligned"},[e._m(0)]):i("tbody",{staticClass:"center aligned"},[e._l(e.user_logs,function(e){return i("UserLog",{key:e.identity,attrs:{user_log:e}})}),e.user_logs.length<=0?i("tr",{staticClass:"center aligned"},[i("td",{attrs:{colspan:"6"}},[i("h5",[e._v(e._s(e.$t("ui.general.no_data")))])])]):e._e()],2)]),i("Paginator",{tag:"div",staticClass:"right floated",attrs:{total_pages:e.total_pages,current_page:e.current_page,disabled:e.is_loading}}),i("div",{staticClass:"clear"})])],1)},$S=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"loading"},[i("td",{attrs:{colspan:"6"}},[i("div",{staticClass:"ui active centered inline loader"})])])}],kS=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",[i("td",[e._v("\n        "+e._s(e.user_log.loggable_type)+"\n    ")]),i("td",[e._v("\n        "+e._s(e.user_log.title)+"\n    ")]),i("td",[e._v("\n        "+e._s(e.user_log.action_type)+"\n    ")]),i("td",[e._v("\n        "+e._s(e.user_log.operator_name)+"\n    ")]),i("td",[e._v("\n        "+e._s(this.human_datetime(e.user_log.created_at))+"\n    ")]),i("td",[i("router-link",{staticClass:"ui basic primary button",attrs:{to:{name:"user_log",params:{identity:e.user_log.identity}}}},[e._v("\n            "+e._s(e.$t("ui.general.detail"))+"\n        ")])],1)])},CS=[],xS={name:"ProviderUserLogsIndexItem",props:{user_log:Object},data:function(){return{is_processing:!1}},computed:{},created:function(){},mounted:function(){},watch:{},methods:{},components:{}},PS=xS,SS=Object(lt["a"])(PS,kS,CS,!1,null,null,null),NS=SS.exports,AS=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"filter_advanced"}},[i("div",{staticClass:"ui form",on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$parent.fetch_user_logs(1)}}},[i("div",{staticClass:"three fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.user_logs.loggable_type")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.loggable_type,expression:"filter.columns.loggable_type"}],attrs:{type:"text"},domProps:{value:e.filter.columns.loggable_type},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"loggable_type",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("ui.pages.user_logs.operator")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.staff_name,expression:"filter.columns.staff_name"}],attrs:{type:"text"},domProps:{value:e.filter.columns.staff_name},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"staff_name",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.user_logs.title")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.title,expression:"filter.columns.title"}],attrs:{type:"text"},domProps:{value:e.filter.columns.title},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"title",t.target.value)}}})])]),i("div",{staticClass:"two fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.user_logs.action_type")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.action_type,expression:"filter.columns.action_type"}],attrs:{type:"text"},domProps:{value:e.filter.columns.action_type},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"action_type",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.user_logs.created_at")))]),i("el-date-picker",{staticStyle:{width:"100%"},attrs:{"unlink-panels":"",type:"daterange",align:"center","start-placeholder":e.$t("ui.el.datepicker.startDate"),"end-placeholder":e.$t("ui.el.datepicker.endDate"),"picker-options":e.$store.state.element_ui_datepicker_daterange_options},model:{value:e.filter.columns.created_duration,callback:function(t){e.$set(e.filter.columns,"created_duration",t)},expression:"filter.columns.created_duration"}})],1)])]),i("div",{staticClass:"ui icon blue button right floated",on:{click:function(t){e.$parent.fetch_user_logs(1)}}},[i("i",{staticClass:"search icon"}),e._v("\n        "+e._s(e.$t("ui.general.search"))+"\n    ")]),i("div",{staticClass:"clear"})])},ES=[],qS={name:"CustomersFilterAdvanced",data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.provider.user_logs_module},filter:function(){return this.current_store.filter}},created:function(){},mounted:function(){},watch:{},methods:{},components:{}},zS=qS,jS=(n("60b7"),Object(lt["a"])(zS,AS,ES,!1,null,null,null)),RS=jS.exports,IS=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"filter_general"}},[e.filter.is_advanced_mode?e._e():i("div",{staticClass:"ui action input"},["staff_name"!=e.filter.current_shortcut_key&&"created_at"!=e.filter.current_shortcut_key?i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns[e.filter.current_shortcut_key],expression:"filter.columns[filter.current_shortcut_key]"}],attrs:{placeholder:e.$t("ui.general.search__key",{key:e.$t("models.attributes.user_logs."+e.filter.current_shortcut_key)}),type:"text"},domProps:{value:e.filter.columns[e.filter.current_shortcut_key]},on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$parent.fetch_user_logs(1)},input:function(t){t.target.composing||e.$set(e.filter.columns,e.filter.current_shortcut_key,t.target.value)}}}):e._e(),"staff_name"==e.filter.current_shortcut_key?i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.staff_name,expression:"filter.columns.staff_name"}],attrs:{placeholder:e.$t("ui.general.search__key",{key:e.$t("ui.pages.user_logs.operator")}),type:"text"},domProps:{value:e.filter.columns.staff_name},on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$parent.fetch_user_logs(1)},input:function(t){t.target.composing||e.$set(e.filter.columns,"staff_name",t.target.value)}}}):"created_at"==e.filter.current_shortcut_key?i("el-date-picker",{staticClass:"right_radius",attrs:{"unlink-panels":"",type:"daterange",align:"center","range-separator":"","start-placeholder":e.$t("ui.el.datepicker.startDate"),"end-placeholder":e.$t("ui.el.datepicker.endDate"),"picker-options":e.$store.state.element_ui_datepicker_daterange_options},model:{value:e.filter.columns.created_duration,callback:function(t){e.$set(e.filter.columns,"created_duration",t)},expression:"filter.columns.created_duration"}}):e._e(),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection dropdown no_search right_radius",staticStyle:{"min-width":"120px"}},[e._l(e.filter.shortcut_keys,function(t){return e.filter.current_shortcut_key==t?i("div",{staticClass:"text"},["staff_name"==e.filter.current_shortcut_key?i("span",[e._v("\n                        "+e._s(e.$t("ui.pages.user_logs.operator"))+"\n                ")]):i("span",[e._v("\n                    "+e._s(e.$t("models.attributes.user_logs."+t))+"\n                ")])]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.filter.shortcut_keys,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.current_shortcut_key==t},on:{click:function(i){e.set_quick_filter(t)}}},[i("span","staff_name"==t?[e._v("\n                        "+e._s(e.$t("ui.pages.user_logs.operator"))+"\n                    ")]:[e._v("\n                        "+e._s(e.$t("models.attributes.user_logs."+t))+"\n                    ")])])}))],2),i("div",{staticClass:"ui button icon",on:{click:function(t){e.$parent.fetch_user_logs(1)}}},[i("i",{staticClass:"search icon"})])],1),e.filter.is_advanced_mode?i("div",{staticClass:"ui basic red icon button",on:{click:function(t){e.$store.commit("provider/user_logs_module/init_filter_columns")}}},[i("i",{staticClass:"close icon"}),e._v("\n        "+e._s(e.$t("ui.general.clear"))+"\n    ")]):e._e(),i("div",{staticClass:"ui button icon",style:{height:e.filter.is_advanced_mode?"auto":"38px",paddingTop:e.filter.is_advanced_mode?"":"13px",verticalAlign:e.filter.is_advanced_mode?"":"top"},on:{click:function(t){e.filter.is_advanced_mode=!e.filter.is_advanced_mode}}},[i("i",{staticClass:"bars icon",class:{minus:e.filter.is_advanced_mode,bars:!e.filter.is_advanced_mode}})])])},TS=[],OS={name:"CustomersFilterHeader",data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.provider.user_logs_module},filter:function(){return this.current_store.filter}},created:function(){},mounted:function(){},watch:{},methods:{set_quick_filter:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var i=this;i.filter.current_shortcut_key=t,_.forEach(i.filter.shortcut_keys,function(e){i.filter.columns[e]=null})}catch(e){console.log(e)}}},components:{}},LS=OS,DS=(n("186a"),Object(lt["a"])(LS,IS,TS,!1,null,"b9548df0",null)),BS=DS.exports;function MS(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function US(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){MS(r,n,a,s,o,"next",e)}function o(e){MS(r,n,a,s,o,"throw",e)}s(void 0)})}}var FS={name:"UserLogsIndex",data:function(){return{is_initialized:!1,is_loading:!1,user_logs:[],errors:[]}},computed:{current_store:function(){return this.$store.state.provider.user_logs_module},pagination:function(){return this.current_store.pagination},current_page:function(){return this.current_store.pagination.current_page},total_pages:function(){return this.current_store.pagination.total_pages},filter:function(){return this.current_store.filter}},created:function(){},mounted:function(){var e=this;e.init(),e.$bus.$off("init"),e.$bus.$on("init",function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.init()}.bind(this))},beforeDestroy:function(){this.$bus.$off("init"),this.pagination.current_page=1,this.filter.columns.page=1},watch:{$route:{handler:function(e,t){var i=e.query.page;i&&(this.pagination.current_page=Number(i),this.filter.columns.page=Number(i),this.$store.commit("provider/user_logs_module/set_current_page",i),this.fetch_user_logs())},immediate:!0},"filter.is_advanced_mode":function(e){$("#user_logs .ui.transition.filter").transition(e?"fade down":"hide"),e||this.$store.commit("provider/user_logs_module/init_filter_columns")}},methods:{init:function(){var e=US(regeneratorRuntime.mark(function e(){var t,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,new Promise(function(e){t.is_initialized=!1,t.filter.columns.page=t.$store.state.provider.user_logs_module.pagination.current_page,e()});case 4:return e.next=6,t.fetch_user_logs();case 6:return e.next=8,new Promise(function(e){t.$noty.information(t.$t("ui.page_titles.user_logs")+" "+t.$t("ui.general.initialize_complete"),300),i.filter.is_advanced_mode&&$("#user_logs .ui.transition.filter").transition("fade down"),t.is_initialized=!0,e()});case 8:e.next=13;break;case 10:switch(e.prev=10,e.t0=e["catch"](1),e.t0){default:t.$noty.error("非預期的錯誤: "+e.t0),console.log("非預期的錯誤: "),console.log(e.t0)}case 13:return e.prev=13,e.finish(13);case 15:case"end":return e.stop()}},e,this,[[1,10,13,15]])}));function t(){return e.apply(this,arguments)}return t}(),fetch_user_logs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this;if(1==e&&(t.pagination.current_page=1,t.filter.columns.page=1,t.$route.query.page=1),0==t.is_loading){t.errors=[],t.is_loading=!0;var i=_.clone(t.filter.columns);i.created_duration&&(i.begin_at=t.$moment(i.created_duration[0]).format("YYYY-MM-DDTHH:mm:ss+08:00"),i.end_at=t.$moment(i.created_duration[1]).format("YYYY-MM-DDTHH:mm:ss+08:00"));var n=new RestUrl(t.$store.state.provider.routes.api_v1_provider_logs).parse({},"?"+object_to_query(i));return axios.get(n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){"success"==e.data.status?(t.user_logs=e.data.logs,t.$store.commit("provider/user_logs_module/set_current_page",e.data.pagination.current_page),t.$store.commit("provider/user_logs_module/set_total_pages",e.data.pagination.total_pages)):(t.$noty.error(t.$t("ui.notifications.error.fetch__name",{name:t.$t("models.user_logs"),reason:": "+e.data.errors})),t.errors=e.data.errors)})["catch"](function(e){console.log(e.response)}).then(function(){setTimeout(function(){t.is_loading=!1},300)})}}},components:{UserLog:NS,Paginator:cr,ErrorMessages:wc,FilterAdvanced:RS,FilterHeader:BS}},GS=FS,HS=(n("5839"),Object(lt["a"])(GS,wS,$S,!1,null,"ad23477e",null)),YS=HS.exports,KS=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"user_log"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!1}}),e.is_initialized?i("div",[i("h1",{staticClass:"ui header"},[e._v("\n            "+e._s(e.$t("ui.page_titles.user_log"))+"\n        ")]),e.is_loading?i("div",{staticClass:"ui active centered inline loader"}):i("div",[i("table",{staticClass:"ui table"},[i("thead",[i("tr",{staticClass:"center aligned"},[i("th",{staticClass:"eight wide"},[e._v(e._s(e.$t("ui.pages.user_logs.field_name")))]),i("th",{staticClass:"eight wide"},[e._v(e._s(e.$t("ui.pages.user_logs.value")))])])]),i("tbody",[i("tr",{staticClass:"center aligned"},[i("td",[e._v(e._s(e.$t("models.attributes.user_logs.identity")))]),i("td",[e._v(e._s(e.user_log.identity))])]),i("tr",{staticClass:"center aligned"},[i("td",[e._v(e._s(e.$t("models.attributes.user_logs.title")))]),i("td",[e._v(e._s(e.user_log.title))])]),i("tr",{staticClass:"center aligned"},[i("td",[e._v(e._s(e.$t("ui.pages.user_logs.record_object")))]),i("td",[e._v(e._s(e.user_log.loggable_type)+"("+e._s(e.user_log.loggable_identity)+")")])]),i("tr",{staticClass:"center aligned"},[i("td",[e._v(e._s(e.$t("models.attributes.user_logs.operator_identity")))]),i("td",[e._v(e._s(e.user_log.operator_identity))])]),i("tr",{staticClass:"center aligned"},[i("td",[e._v(e._s(e.$t("models.attributes.user_logs.action_type")))]),i("td",[e._v(e._s(e.user_log.action_type))])]),i("tr",{staticClass:"center aligned"},[i("td",[e._v(e._s(e.$t("models.attributes.user_logs.created_at")))]),i("td",[e._v(e._s(this.human_datetime(e.user_log.created_at)))])]),i("tr",{staticClass:"center aligned"},[i("td",[e._v(e._s(e.$t("models.attributes.user_logs.description")))]),i("td",[e._v(e._s(e.user_log.description||"-"))])]),i("tr",{staticClass:"center aligned"},[i("td",[e._v(e._s(e.$t("models.attributes.user_logs.level")))]),i("td",[e._v(e._s(e.user_log.level))])]),i("tr",[i("td",{staticClass:"center aligned"},[e._v(e._s(e.$t("models.attributes.user_logs.modified_attributes")))]),i("td",[i("pre",{domProps:{innerHTML:e._s(e.JSONparse(e.user_log.modified_attributes))}},[e._v("                            ")])])]),i("tr",{staticClass:"center aligned"},[i("td",[e._v(e._s(e.$t("models.attributes.user_logs.node_identity")))]),i("td",[e._v(e._s(e.user_log.node_identity))])]),i("tr",{staticClass:"center aligned"},[i("td",[e._v(e._s(e.$t("models.attributes.user_logs.is_undid")))]),i("td",[e._v("\n                            "+e._s(e.user_log.is_undid?e.$t("ui.pages.user_logs.yes"):e.$t("ui.pages.user_logs.no"))+"\n                        ")])]),i("tr",{staticClass:"center aligned"},[i("td",[e._v(e._s(e.$t("models.attributes.user_logs.undid_at")))]),i("td",[e._v(e._s(e.user_log.undid_at||"-"))])])])])])]):e._e()],1)},WS=[];function VS(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function XS(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){VS(r,n,a,s,o,"next",e)}function o(e){VS(r,n,a,s,o,"throw",e)}s(void 0)})}}var QS={name:"ShowUserLog",props:{},data:function(){return{is_initialized:!1,is_loading:!1,user_log:{},errors:[]}},created:function(){},mounted:function(){this.init()},watch:{},computed:{},methods:{init:function(){var e=XS(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,new Promise(function(e){t.is_initialized=!1,t.is_loading=!1,t.user_log={},t.errors=[],e()});case 4:return e.next=6,t.fetch_user_log();case 6:return e.next=8,new Promise(function(e){t.is_initialized=!0});case 8:e.next=16;break;case 10:e.prev=10,e.t0=e["catch"](1),e.t1=e.t0,e.next=""===e.t1?15:16;break;case 15:return e.abrupt("break",16);case 16:return e.prev=16,e.finish(16);case 18:case"end":return e.stop()}},e,this,[[1,10,16,18]])}));function t(){return e.apply(this,arguments)}return t}(),fetch_user_log:function(){var e=this,t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_log).parse({log_identity:e.$route.params.identity},"");return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.user_logs"),reason:": "+t.data.errors})),Promise.reject(t.data.errors);e.user_log=t.data.log,e.is_loading=!1})["catch"](function(e){console.log(e.response)})},JSONparse:function(e){return"string"!=typeof e&&(e=JSON.stringify(e,void 0,2)),e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),e.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,function(e){var t="number";return/^"/.test(e)?t=/:$/.test(e)?"key":"string":/true|false/.test(e)?t="boolean":/null/.test(e)&&(t="null"),'<span class="'+t+'">'+e+"</span>"})}},components:{ErrorMessages:wc}},ZS=QS,JS=(n("b558"),Object(lt["a"])(ZS,KS,WS,!1,null,null,null)),eN=JS.exports,tN="user_logs",iN="user_log",nN=[{path:"",component:YS,name:"user_logs",meta:{api_name:"api_v1_provider_logs",breadcrumb:[tN]}},{path:"show/:identity",component:eN,name:"user_log",meta:{api_name:"api_v1_provider_log",breadcrumb:[tN,iN]}}],aN=nN,rN=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"x_scrollable",attrs:{id:"driver_commission_policies"}},[i("table",{staticClass:"ui structured celled table"},[i("thead",[i("tr",[i("th",{staticClass:"center aligned",attrs:{colspan:"4"}},[e._v("\n                    "+e._s(e.$t("ui.pages.driver_commission_policies.table.general_pickup"))+"\n                ")]),i("th",{staticClass:"center aligned",attrs:{colspan:"4"}},[e._v("\n                    "+e._s(e.$t("ui.pages.driver_commission_policies.table.general_delivery"))+"\n                ")]),i("th",{staticClass:"center aligned",attrs:{colspan:"4"}},[e._v("\n                    "+e._s(e.$t("ui.pages.driver_commission_policies.table.bag_pick"))+"\n                ")]),i("th",{staticClass:"center aligned",attrs:{colspan:"4"}},[e._v("\n                    "+e._s(e.$t("ui.pages.driver_commission_policies.table.bag_delivery"))+"\n                ")]),i("th",{attrs:{rowspan:"2"}},[e._v("\n                    "+e._s(e.$t("ui.pages.driver_commission_policies.activated"))+"\n                ")]),i("th",{attrs:{rowspan:"2"}})]),i("tr",[i("th",[e._v("\n                    "+e._s(e.$t("ui.pages.driver_commission_policies.table.first_weight"))+"\n                ")]),i("th",[e._v("\n                    "+e._s(e.$t("ui.pages.driver_commission_policies.table.first_price"))+"\n                ")]),i("th",[e._v("\n                    "+e._s(e.$t("ui.pages.driver_commission_policies.table.follow_up_weight"))+"\n                ")]),i("th",[e._v("\n                    "+e._s(e.$t("ui.pages.driver_commission_policies.table.follow_up_price"))+"\n                ")]),i("th",[e._v(e._s(e.$t("ui.pages.driver_commission_policies.table.first_weight")))]),i("th",[e._v(e._s(e.$t("ui.pages.driver_commission_policies.table.first_price")))]),i("th",[e._v(e._s(e.$t("ui.pages.driver_commission_policies.table.follow_up_weight")))]),i("th",[e._v(e._s(e.$t("ui.pages.driver_commission_policies.table.follow_up_price")))]),i("th",[e._v(e._s(e.$t("ui.pages.driver_commission_policies.table.first_weight")))]),i("th",[e._v(e._s(e.$t("ui.pages.driver_commission_policies.table.first_price")))]),i("th",[e._v(e._s(e.$t("ui.pages.driver_commission_policies.table.follow_up_weight")))]),i("th",[e._v(e._s(e.$t("ui.pages.driver_commission_policies.table.follow_up_price")))]),i("th",[e._v(e._s(e.$t("ui.pages.driver_commission_policies.table.first_weight")))]),i("th",[e._v(e._s(e.$t("ui.pages.driver_commission_policies.table.first_price")))]),i("th",[e._v(e._s(e.$t("ui.pages.driver_commission_policies.table.follow_up_weight")))]),i("th",[e._v(e._s(e.$t("ui.pages.driver_commission_policies.table.follow_up_price")))])])]),i("tbody",e._l(e.driver_commission_policies,function(t){return e.is_initialized?i("DriverCommissionPolicy",{key:t.identity,attrs:{driver_commission_policy:t}}):e._e()}))])])},sN=[],oN=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",[i("td",[e._v("\n        "+e._s(e.driver_commission_policy.pick_up_first_weight)+"\n    ")]),i("td",[e._v("\n        "+e._s(e.driver_commission_policy.pick_up_first_price)+"\n    ")]),i("td",[e._v("\n        "+e._s(e.driver_commission_policy.pick_up_follow_up_weight)+"\n    ")]),i("td",[e._v("\n        "+e._s(e.driver_commission_policy.pick_up_follow_up_price)+"\n    ")]),i("td",[e._v("\n        "+e._s(e.driver_commission_policy.delivery_first_weight)+"\n    ")]),i("td",[e._v("\n        "+e._s(e.driver_commission_policy.delivery_first_price)+"\n    ")]),i("td",[e._v("\n        "+e._s(e.driver_commission_policy.delivery_follow_up_weight)+"\n    ")]),i("td",[e._v("\n        "+e._s(e.driver_commission_policy.delivery_follow_up_price)+"\n    ")]),i("td",[e._v("\n        "+e._s(e.driver_commission_policy.house_pick_up_first_weight)+"\n    ")]),i("td",[e._v("\n        "+e._s(e.driver_commission_policy.house_pick_up_first_price)+"\n    ")]),i("td",[e._v("\n        "+e._s(e.driver_commission_policy.house_pick_up_follow_up_weight)+"\n    ")]),i("td",[e._v("\n        "+e._s(e.driver_commission_policy.house_pick_up_follow_up_price)+"\n    ")]),i("td",[e._v("\n        "+e._s(e.driver_commission_policy.house_delivery_first_weight)+"\n    ")]),i("td",[e._v("\n        "+e._s(e.driver_commission_policy.house_delivery_first_price)+"\n    ")]),i("td",[e._v("\n        "+e._s(e.driver_commission_policy.house_delivery_follow_up_weight)+"\n    ")]),i("td",[e._v("\n        "+e._s(e.driver_commission_policy.house_delivery_follow_up_price)+"\n    ")]),i("td",[e.driver_commission_policy.is_activated?i("i",{staticClass:"ui icon check"}):i("i",{staticClass:"ui icon cross"})]),i("td",[i("button",{staticClass:"ui basic primary button",on:{click:function(t){t.preventDefault(),e.toggle_activation()}}},[e._v("\n            "+e._s(e.$t("ui.pages.driver_commission_policies.activated_switch"))+"\n        ")])])])},cN=[],_N={name:"ProviderDriverCommissionPoliciesIndexItem",props:{driver_commission_policy:Object},data:function(){return{is_processing:!1}},computed:{},created:function(){},mounted:function(){},watch:{},methods:{toggle_activation:function(){var e=this,t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_driver_commission_policy_update).parse({driver_commission_policy_identity:e.driver_commission_policy.identity},"");axios.post(t,{is_activated:!e.driver_commission_policy.is_activated},{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$noty.success(e.$t("ui.notifications.success.update__name",{name:e.$t("models.driver_commission_policies")})),e.$parent.init()):(e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.driver_commission_policies"),reason:": "+t.data.errors})),e.errors=t.data.errors)})["catch"](function(t){console.log(t),t.response?e.$noty.error(e.$t("ui.general.network_abnormality")+": "+t.response.status+t.response.data):e.$noty.error(e.$t("ui.general.network_abnormality")+": "+e.$t("ui.general.server_offline"))})},delete:function(){if(confirm(this.$t("ui.notifications.warning.are_you_sure_to_delete_it"))){var e=this;e.is_processing=!0;var t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_driver_commission_policy_delete).parse({driver_commission_policy_identity:e.driver_commission_policy.identity},"?authorization="+e.$store.state.provider.node.authorization);axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$parent.init(),e.$noty.success(e.$t("ui.notifications.success.delete__name",{name:e.$t("models.driver_commission_policies")}))):e.$noty.error("收派件提成政策刪除失敗")})["catch"](function(t){console.log(t),t.response?e.$noty.error(e.$t("ui.general.network_abnormality")+": "+t.response.status+t.response.data):e.$noty.error(e.$t("ui.general.network_abnormality")+": "+e.$t("ui.general.server_offline"))}),e.is_processing=!1}}},components:{}},lN=_N,uN=Object(lt["a"])(lN,oN,cN,!1,null,null,null),dN=uN.exports;function pN(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function mN(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){pN(r,n,a,s,o,"next",e)}function o(e){pN(r,n,a,s,o,"throw",e)}s(void 0)})}}var fN={name:"DriverCommissionPoliciesIndex",data:function(){return{driver_commission_policies:[],is_initialized:!1}},computed:{},created:function(){},mounted:function(){var e=this;e.init(),e.$bus.$off("init"),e.$bus.$on("init",function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.init()}.bind(this))},beforeDestroy:function(){this.$bus.$off("init")},watch:{$route:function(e,t){"driver_commission_policies"==e.name&&this.init()}},methods:{init:function(){var e=mN(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,t.fetch_driver_commission_policies();case 5:return e.next=7,new Promise(function(e){t.is_initialized=!0,e()});case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_driver_commission_policies:function(){var e=this,t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_driver_commission_policies).parse({},"");return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.driver_commission_policies=t.data.driver_commission_policies})["catch"](function(e){})}},components:{DriverCommissionPolicy:dN}},vN=fN,hN=Object(lt["a"])(vN,rN,sN,!1,null,null,null),gN=hN.exports,bN=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"new_driver_commission_policy"}},[i("h1",{staticClass:"ui header"},[e._v("\n        "+e._s(e.$t("ui.page_titles.new_driver_commission_policy"))+"\n    ")]),e.is_initialized?i("div",[i("form",{staticClass:"ui form"},[i("div",{staticClass:"field"},[i("div",{staticClass:"ui slider checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.is_activated,expression:"driver_commission_policy.is_activated"}],attrs:{type:"checkbox",id:"is_activated"},domProps:{checked:Array.isArray(e.driver_commission_policy.is_activated)?e._i(e.driver_commission_policy.is_activated,null)>-1:e.driver_commission_policy.is_activated},on:{change:function(t){var i=e.driver_commission_policy.is_activated,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&e.$set(e.driver_commission_policy,"is_activated",i.concat([r])):s>-1&&e.$set(e.driver_commission_policy,"is_activated",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.driver_commission_policy,"is_activated",a)}}}),i("label",{staticClass:"pointer",attrs:{for:"is_activated"}},[e._v("\n                        "+e._s(e.$t("ui.pages.driver_commission_policies.activated"))+"\n                    ")])])]),i("h3",{staticClass:"ui header"},[e._v("\n                "+e._s(e.$t("ui.pages.driver_commission_policies.pickup"))+"\n            ")]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.driver_commission_policies.pick_up_first_weight"))+" ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.pick_up_first_weight,expression:"driver_commission_policy.pick_up_first_weight"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.pick_up_first_weight},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"pick_up_first_weight",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.driver_commission_policies.pick_up_first_price")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.pick_up_first_price,expression:"driver_commission_policy.pick_up_first_price"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.pick_up_first_price},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"pick_up_first_price",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.driver_commission_policies.pick_up_follow_up_weight"))+" ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.pick_up_follow_up_weight,expression:"driver_commission_policy.pick_up_follow_up_weight"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.pick_up_follow_up_weight},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"pick_up_follow_up_weight",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.driver_commission_policies.pick_up_follow_up_price")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.pick_up_follow_up_price,expression:"driver_commission_policy.pick_up_follow_up_price"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.pick_up_follow_up_price},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"pick_up_follow_up_price",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.driver_commission_policies.delivery_first_weight"))+" ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.delivery_first_weight,expression:"driver_commission_policy.delivery_first_weight"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.delivery_first_weight},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"delivery_first_weight",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.driver_commission_policies.delivery_first_price")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.delivery_first_price,expression:"driver_commission_policy.delivery_first_price"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.delivery_first_price},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"delivery_first_price",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.driver_commission_policies.delivery_follow_up_weight")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.delivery_follow_up_weight,expression:"driver_commission_policy.delivery_follow_up_weight"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.delivery_follow_up_weight},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"delivery_follow_up_weight",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.driver_commission_policies.delivery_follow_up_price")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.delivery_follow_up_price,expression:"driver_commission_policy.delivery_follow_up_price"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.delivery_follow_up_price},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"delivery_follow_up_price",t.target.value)}}})]),i("div",{staticClass:"ui divider"}),i("h3",{staticClass:"ui header"},[e._v("\n                "+e._s(e.$t("ui.pages.driver_commission_policies.bag"))+"\n            ")]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.driver_commission_policies.house_pick_up_first_weight"))+" ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.house_pick_up_first_weight,expression:"driver_commission_policy.house_pick_up_first_weight"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.house_pick_up_first_weight},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"house_pick_up_first_weight",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.driver_commission_policies.house_pick_up_first_price")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.house_pick_up_first_price,expression:"driver_commission_policy.house_pick_up_first_price"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.house_pick_up_first_price},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"house_pick_up_first_price",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.driver_commission_policies.house_pick_up_follow_up_weight"))+" ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.house_pick_up_follow_up_weight,expression:"driver_commission_policy.house_pick_up_follow_up_weight"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.house_pick_up_follow_up_weight},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"house_pick_up_follow_up_weight",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.driver_commission_policies.house_pick_up_follow_up_price")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.house_pick_up_follow_up_price,expression:"driver_commission_policy.house_pick_up_follow_up_price"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.house_pick_up_follow_up_price},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"house_pick_up_follow_up_price",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.driver_commission_policies.house_delivery_first_weight"))+" ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.house_delivery_first_weight,expression:"driver_commission_policy.house_delivery_first_weight"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.house_delivery_first_weight},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"house_delivery_first_weight",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.driver_commission_policies.house_delivery_first_price")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.house_delivery_first_price,expression:"driver_commission_policy.house_delivery_first_price"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.house_delivery_first_price},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"house_delivery_first_price",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.driver_commission_policies.house_delivery_follow_up_weight"))+" ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.house_delivery_follow_up_weight,expression:"driver_commission_policy.house_delivery_follow_up_weight"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.house_delivery_follow_up_weight},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"house_delivery_follow_up_weight",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.driver_commission_policies.house_delivery_follow_up_price")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.house_delivery_follow_up_price,expression:"driver_commission_policy.house_delivery_follow_up_price"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.house_delivery_follow_up_price},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"house_delivery_follow_up_price",t.target.value)}}})]),i("div",{staticClass:"field"},[i("button",{staticClass:"ui basic fluid positive button",on:{click:function(t){return t.preventDefault(),e.create(t)}}},[e._v(e._s(e.$t("ui.general.create")))])])])]):e._e()])},yN=[];function wN(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function $N(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){wN(r,n,a,s,o,"next",e)}function o(e){wN(r,n,a,s,o,"throw",e)}s(void 0)})}}var kN={name:"NewDriverCommissionPolicy",props:{},data:function(){return{is_initialized:!1,is_processing:!1,driver_commission_policy:{},errors:[]}},created:function(){this.init()},mounted:function(){},watch:{$route:function(e,t){"new_driver_commission_policy"==e.name&&this.init()}},computed:{},methods:{init:function(){var e=$N(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,t.is_processing=!1,t.driver_commission_policy={pick_up_first_weight:0,pick_up_first_price:0,pick_up_follow_up_weight:0,pick_up_follow_up_price:0,delivery_first_weight:0,delivery_first_price:0,delivery_follow_up_weight:0,delivery_follow_up_price:0,house_pick_up_first_weight:0,house_pick_up_first_price:0,house_pick_up_follow_up_weight:0,house_pick_up_follow_up_price:0,house_delivery_first_weight:0,house_delivery_first_price:0,house_delivery_follow_up_weight:0,house_delivery_follow_up_price:0,is_activated:!1},t.errors=[],e()});case 3:return e.next=5,new Promise(function(e){t.is_initialized=!0,e()});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),create:function(){var e=this;e.is_processing=!0,e.errors=[];var t=e.driver_commission_policy,i=new RestUrl(e.$store.state.provider.routes.api_v1_provider_driver_commission_policies_create).parse({},"");return axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.is_processing=!1,e.$noty.success(e.$t("ui.notifications.success.create__name",{name:e.$t("models.driver_commission_policies")})),e.$router.push("/provider/driver_commission_policies")):(e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.driver_commission_policies")})),e.is_processing=!1)})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.driver_commission_policies")})),e.is_processing=!1})}},components:{}},CN=kN,xN=Object(lt["a"])(CN,bN,yN,!1,null,"9c42b4a0",null),PN=xN.exports,SN=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"edit_driver_commission_policy"}},[i("h1",{staticClass:"ui header"},[e._v("收派件提成政策")]),e.is_initialized?i("div",[i("form",{staticClass:"ui form"},[i("div",{staticClass:"field"},[i("div",{staticClass:"ui slider checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.is_activated,expression:"driver_commission_policy.is_activated"}],attrs:{type:"checkbox",id:"is_activated"},domProps:{checked:Array.isArray(e.driver_commission_policy.is_activated)?e._i(e.driver_commission_policy.is_activated,null)>-1:e.driver_commission_policy.is_activated},on:{change:function(t){var i=e.driver_commission_policy.is_activated,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&e.$set(e.driver_commission_policy,"is_activated",i.concat([r])):s>-1&&e.$set(e.driver_commission_policy,"is_activated",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.driver_commission_policy,"is_activated",a)}}}),i("label",{attrs:{for:"is_activated"}},[e._v("\n                        啟用\n                    ")])])]),i("h3",{staticClass:"ui header"},[e._v("一般件")]),i("div",{staticClass:"field"},[i("label",[e._v("取件首重重量(KG)")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.pick_up_first_weight,expression:"driver_commission_policy.pick_up_first_weight"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.pick_up_first_weight},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"pick_up_first_weight",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v("取件首重提成金額")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.pick_up_first_price,expression:"driver_commission_policy.pick_up_first_price"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.pick_up_first_price},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"pick_up_first_price",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v("取件續重重量單位(KG)")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.pick_up_follow_up_weight,expression:"driver_commission_policy.pick_up_follow_up_weight"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.pick_up_follow_up_weight},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"pick_up_follow_up_weight",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v("取件續重單價")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.pick_up_follow_up_price,expression:"driver_commission_policy.pick_up_follow_up_price"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.pick_up_follow_up_price},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"pick_up_follow_up_price",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v("送件首重重量(KG)")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.delivery_first_weight,expression:"driver_commission_policy.delivery_first_weight"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.delivery_first_weight},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"delivery_first_weight",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v("送件首重提成金額")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.delivery_first_price,expression:"driver_commission_policy.delivery_first_price"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.delivery_first_price},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"delivery_first_price",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v("送件續重重量單位(KG)")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.delivery_follow_up_weight,expression:"driver_commission_policy.delivery_follow_up_weight"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.delivery_follow_up_weight},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"delivery_follow_up_weight",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v("送件續重單價")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.delivery_follow_up_price,expression:"driver_commission_policy.delivery_follow_up_price"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.delivery_follow_up_price},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"delivery_follow_up_price",t.target.value)}}})]),i("div",{staticClass:"ui divider"}),i("h3",{staticClass:"ui header"},[e._v("袋裝")]),i("div",{staticClass:"field"},[i("label",[e._v("取件首重重量(KG)")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.house_pick_up_first_weight,expression:"driver_commission_policy.house_pick_up_first_weight"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.house_pick_up_first_weight},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"house_pick_up_first_weight",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v("取件首重提成金額")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.house_pick_up_first_price,expression:"driver_commission_policy.house_pick_up_first_price"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.house_pick_up_first_price},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"house_pick_up_first_price",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v("取件續重重量單位(KG)")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.house_pick_up_follow_up_weight,expression:"driver_commission_policy.house_pick_up_follow_up_weight"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.house_pick_up_follow_up_weight},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"house_pick_up_follow_up_weight",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v("取件續重單價")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.house_pick_up_follow_up_price,expression:"driver_commission_policy.house_pick_up_follow_up_price"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.house_pick_up_follow_up_price},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"house_pick_up_follow_up_price",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v("送件首重重量(KG)")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.house_delivery_first_weight,expression:"driver_commission_policy.house_delivery_first_weight"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.house_delivery_first_weight},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"house_delivery_first_weight",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v("送件首重提成金額")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.house_delivery_first_price,expression:"driver_commission_policy.house_delivery_first_price"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.house_delivery_first_price},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"house_delivery_first_price",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v("送件續重重量單位(KG)")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.house_delivery_follow_up_weight,expression:"driver_commission_policy.house_delivery_follow_up_weight"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.house_delivery_follow_up_weight},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"house_delivery_follow_up_weight",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v("送件續重單價")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.driver_commission_policy.house_delivery_follow_up_price,expression:"driver_commission_policy.house_delivery_follow_up_price"}],attrs:{type:"number"},domProps:{value:e.driver_commission_policy.house_delivery_follow_up_price},on:{input:function(t){t.target.composing||e.$set(e.driver_commission_policy,"house_delivery_follow_up_price",t.target.value)}}})]),i("button",{staticClass:"ui basic positive button",on:{click:function(t){return t.preventDefault(),e.update(t)}}},[e._v(e._s(e.$t("ui.general.update")))])])]):e._e()])},NN=[];function AN(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function EN(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){AN(r,n,a,s,o,"next",e)}function o(e){AN(r,n,a,s,o,"throw",e)}s(void 0)})}}var qN={name:"EditDriverCommissionPolicy",props:{},data:function(){return{is_initialized:!1,is_processing:!1,driver_commission_policy:{},errors:[]}},created:function(){this.init()},mounted:function(){},watch:{$route:function(e,t){"edit_driver_commission_policy"==e.name&&this.init()}},computed:{},methods:{init:function(){var e=EN(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,t.is_processing=!1,t.driver_commission_policy={},t.errors=[],e()});case 3:return e.next=5,t.fetch_driver_commission_policy();case 5:return e.next=7,new Promise(function(e){t.is_initialized=!0,e()});case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_driver_commission_policy:function(){var e=this,t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_driver_commission_policy).parse({driver_commission_policy_identity:e.$route.params.identity},"");return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){return e.driver_commission_policy=t.data.driver_commission_policy,Promise.resolve()})["catch"](function(e){console.log("Failed to fetch driver_commission_policy.")})},update:function(){var e=this;e.is_processing=!0,e.errors=[];var t=e.driver_commission_policy,i=new RestUrl(e.$store.state.provider.routes.api_v1_provider_driver_commission_policy_update).parse({driver_commission_policy_identity:e.$route.params.identity},"");axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$noty.success(e.$t("ui.notifications.success.update__name",{name:e.$t("models.driver_commission_policies")})),e.$router.push("/provider/driver_commission_policies")):(e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.driver_commission_policies"),reason:": "+t.data.errors})),e.errors=t.data.errors)})["catch"](function(t){console.log(t),t.response?e.$noty.error(e.$t("ui.general.network_abnormality")+": "+t.response.status+t.response.data):e.$noty.error(e.$t("ui.general.network_abnormality")+": "+e.$t("ui.general.server_offline"))}),e.is_processing=!1}},components:{}},zN=qN,jN=Object(lt["a"])(zN,SN,NN,!1,null,"11d34a71",null),RN=(jN.exports,"driver_commission_policies"),IN="new_driver_commission_policy",TN=[{path:"",component:gN,name:"driver_commission_policies",meta:{api_name:"api_v1_provider_driver_commission_policies",breadcrumb:[RN],btns:[IN]}},{path:"new",component:PN,name:"new_driver_commission_policy",meta:{api_name:"api_v1_provider_driver_commission_policy_create",breadcrumb:[RN,IN]}}],ON=TN,LN=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"driver_commission_reports"}},[i("div",{staticClass:"ui buttons"},[i("button",{staticClass:"ui basic grey button",on:{click:function(t){return t.preventDefault(),e.print(t)}}},[i("i",{staticClass:"print icon"}),e._v(e._s(e.$t("ui.pages.driver_commission_reports.print"))+"\n        ")]),i("button",{staticClass:"ui basic grey button",on:{click:function(t){return t.preventDefault(),e.toggle_setting_panel(t)}}},[i("i",{staticClass:"setting icon"}),e._v(e._s(e.$t("ui.pages.driver_commission_reports.setting"))+"\n        ")])]),i("transition",{attrs:{name:"fade",mode:"out-in"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.visibility.setting_panel,expression:"visibility.setting_panel"}],staticClass:"ui segment"},[i("table",{staticClass:"ui very basic table"},[i("thead",[i("tr",[i("th",[e._v(e._s(e.$t("ui.pages.driver_commission_reports.print_setting")))])])]),i("tbody",[i("tr",[i("td",{staticClass:"ui checkbox"},[i("div",{staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.settings.print.is_detailed_mode,expression:"settings.print.is_detailed_mode"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.settings.print.is_detailed_mode)?e._i(e.settings.print.is_detailed_mode,null)>-1:e.settings.print.is_detailed_mode},on:{change:function(t){var i=e.settings.print.is_detailed_mode,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&e.$set(e.settings.print,"is_detailed_mode",i.concat([r])):s>-1&&e.$set(e.settings.print,"is_detailed_mode",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.settings.print,"is_detailed_mode",a)}}}),i("label",[e._v(e._s(e.$t("ui.pages.driver_commission_reports.detailed_mode")))])])])])])])])]),i("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[i("div"),i("div",{staticClass:"ui segment",style:{width:e.filter.is_advanced_mode?"100%":"auto",margin:0}},[i("FilterHeader",{staticClass:"right floated"}),i("div",{staticClass:"clear"}),i("FilterAdvanced",{staticClass:"ui transition hidden filter"})],1)]),i("div",{staticClass:"ui segment"},[i("table",{staticClass:"ui celled compact table"},[i("thead",[i("tr",[i("th"),i("th",[e._v(e._s(e.$t("models.attributes.driver_commission_reports.staff")))]),i("th",[e._v(e._s(e.$t("models.attributes.driver_commission_reports.begin_at")))]),i("th",[e._v(e._s(e.$t("models.attributes.driver_commission_reports.begin_at")))]),i("th",[e._v(e._s(e.$t("ui.pages.driver_commission_reports.total_amount_of_commission")))]),i("th",[e._v(e._s(e.$t("models.attributes.driver_commission_reports.created_at")))]),i("th")])]),i("tbody",["default"==e.status||"fetching"==e.status?i("tr",[e._m(0)]):e._e(),e._l(e.driver_commission_reports,function(t){return"fetching"!=e.status?i("DriverCommissionReport",{key:t.identity,attrs:{driver_commission_report:t,is_detailed_mode:e.settings.print.is_detailed_mode}}):e._e()})],2)]),i("Paginator",{attrs:{total_pages:e.pagination.total_pages,current_page:e.pagination.current_page}})],1)],1)},DN=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{attrs:{colspan:"7"}},[i("div",{staticClass:"ui active centered inline loader"})])}],BN=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"filter_advanced"}},[i("div",{staticClass:"ui form",on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$parent.fetch_driver_commission_reports(1)}}},[i("div",{staticClass:"three fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("ui.pages.driver_commission_reports.filter.staff_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.staff_name,expression:"filter.columns.staff_name"}],attrs:{type:"text"},domProps:{value:e.filter.columns.staff_name},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"staff_name",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("ui.pages.driver_commission_reports.filter.begin_at")))]),i("el-date-picker",{staticClass:"right_radius",staticStyle:{width:"100%"},attrs:{type:"datetime",placeholder:e.$t("ui.el.datepicker.selectDateTime")},model:{value:e.filter.columns.begin_at,callback:function(t){e.$set(e.filter.columns,"begin_at",t)},expression:"filter.columns.begin_at"}})],1),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("ui.pages.driver_commission_reports.filter.end_at")))]),i("el-date-picker",{staticClass:"right_radius",staticStyle:{width:"100%"},attrs:{type:"datetime",placeholder:e.$t("ui.el.datepicker.selectDateTime")},model:{value:e.filter.columns.end_at,callback:function(t){e.$set(e.filter.columns,"end_at",t)},expression:"filter.columns.end_at"}})],1)]),i("div",{staticClass:"three fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("ui.pages.driver_commission_reports.filter.total_amount_from")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.total_amount_from,expression:"filter.columns.total_amount_from"}],attrs:{type:"text"},domProps:{value:e.filter.columns.total_amount_from},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"total_amount_from",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("ui.pages.driver_commission_reports.filter.total_amount_to")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.total_amount_to,expression:"filter.columns.total_amount_to"}],attrs:{type:"text"},domProps:{value:e.filter.columns.total_amount_to},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"total_amount_to",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("ui.pages.driver_commission_reports.filter.created_at")))]),i("el-date-picker",{staticStyle:{width:"100%"},attrs:{"unlink-panels":"",type:"daterange",align:"center","start-placeholder":e.$t("ui.el.datepicker.startDate"),"end-placeholder":e.$t("ui.el.datepicker.endDate"),"picker-options":e.$store.state.element_ui_datepicker_daterange_options},model:{value:e.filter.columns.created_duration,callback:function(t){e.$set(e.filter.columns,"created_duration",t)},expression:"filter.columns.created_duration"}})],1)])]),i("div",{staticClass:"ui icon blue button right floated",on:{click:function(t){e.$parent.fetch_driver_commission_reports(1)}}},[i("i",{staticClass:"search icon"}),e._v("\n        "+e._s(e.$t("ui.general.search"))+"\n    ")]),i("div",{staticClass:"clear"})])},MN=[],UN={name:"OperationsFilterAdvanced",data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.provider.driver_commission_reports_module},filter:function(){return this.current_store.filter}},created:function(){},mounted:function(){},watch:{},methods:{},components:{}},FN=UN,GN=(n("1f1c"),Object(lt["a"])(FN,BN,MN,!1,null,"72b574fc",null)),HN=GN.exports,YN=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"filter_general"}},[e.filter.is_advanced_mode?e._e():i("div",{staticClass:"ui action input"},["begin_at"!=e.filter.current_shortcut_key&&"end_at"!=e.filter.current_shortcut_key&&"created_at"!=e.filter.current_shortcut_key?i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns[e.filter.current_shortcut_key],expression:"filter.columns[filter.current_shortcut_key]"}],attrs:{placeholder:e.$t("ui.general.search__key",{key:e.$t("ui.pages.driver_commission_reports.filter."+e.filter.current_shortcut_key)}),type:"text"},domProps:{value:e.filter.columns[e.filter.current_shortcut_key]},on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$parent.fetch_driver_commission_reports(1)},input:function(t){t.target.composing||e.$set(e.filter.columns,e.filter.current_shortcut_key,t.target.value)}}}):e._e(),"created_at"==e.filter.current_shortcut_key?i("el-date-picker",{staticClass:"right_radius",attrs:{"unlink-panels":"",type:"daterange",align:"center","range-separator":"","start-placeholder":e.$t("ui.el.datepicker.startDate"),"end-placeholder":e.$t("ui.el.datepicker.endDate"),"picker-options":e.$store.state.element_ui_datepicker_daterange_options},model:{value:e.filter.columns.created_duration,callback:function(t){e.$set(e.filter.columns,"created_duration",t)},expression:"filter.columns.created_duration"}}):"begin_at"==e.filter.current_shortcut_key?i("el-date-picker",{staticClass:"right_radius",attrs:{type:"datetime",placeholder:e.$t("ui.el.datepicker.selectDateTime")},model:{value:e.filter.columns.begin_at,callback:function(t){e.$set(e.filter.columns,"begin_at",t)},expression:"filter.columns.begin_at"}}):"end_at"==e.filter.current_shortcut_key?i("el-date-picker",{staticClass:"right_radius",attrs:{type:"datetime",placeholder:e.$t("ui.el.datepicker.selectDateTime")},model:{value:e.filter.columns.end_at,callback:function(t){e.$set(e.filter.columns,"end_at",t)},expression:"filter.columns.end_at"}}):e._e(),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection dropdown no_search right_radius",staticStyle:{"min-width":"120px"}},[e._l(e.filter.shortcut_keys,function(t){return e.filter.current_shortcut_key==t?i("div",{staticClass:"text"},[i("span",[e._v("\n                    "+e._s(e.$t("ui.pages.driver_commission_reports.filter."+t))+"\n                ")])]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.filter.shortcut_keys,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.current_shortcut_key==t},on:{click:function(i){e.set_quick_filter(t)}}},[e._v("\n                    "+e._s(e.$t("ui.pages.driver_commission_reports.filter."+t))+"\n                ")])}))],2),i("div",{staticClass:"ui button icon",on:{click:function(t){e.$parent.fetch_driver_commission_reports(1)}}},[i("i",{staticClass:"search icon"})])],1),e.filter.is_advanced_mode?i("div",{staticClass:"ui basic red icon button",on:{click:function(t){e.$store.commit("provider/driver_commission_reports_module/init_filter_columns")}}},[i("i",{staticClass:"close icon"}),e._v("\n        "+e._s(e.$t("ui.general.clear"))+"\n    ")]):e._e(),i("div",{staticClass:"ui button icon",style:{height:e.filter.is_advanced_mode?"auto":"38px",paddingTop:e.filter.is_advanced_mode?"":"13px",verticalAlign:e.filter.is_advanced_mode?"":"top"},on:{click:function(t){e.filter.is_advanced_mode=!e.filter.is_advanced_mode}}},[i("i",{staticClass:"bars icon",class:{minus:e.filter.is_advanced_mode,bars:!e.filter.is_advanced_mode}})])])},KN=[],WN={name:"OperationsFilterHeader",data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.provider.driver_commission_reports_module},filter:function(){return this.current_store.filter}},created:function(){},mounted:function(){},watch:{},methods:{set_quick_filter:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var i=this;i.filter.current_shortcut_key=t,i.filter.columns.created_duration="",_.forEach(i.filter.shortcut_keys,function(e){i.filter.columns[e]=null})}catch(e){console.log(e)}}},components:{}},VN=WN,XN=(n("e08b"),Object(lt["a"])(VN,YN,KN,!1,null,"72ba533e",null)),QN=XN.exports,ZN=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{class:{warning:e.is_selected}},[i("td",{staticClass:"collapsing"},[i("div",{staticClass:"ui fitted checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.is_selected,expression:"is_selected"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.is_selected)?e._i(e.is_selected,null)>-1:e.is_selected},on:{change:function(t){var i=e.is_selected,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&(e.is_selected=i.concat([r])):s>-1&&(e.is_selected=i.slice(0,s).concat(i.slice(s+1)))}else e.is_selected=a}}}),i("label")])]),i("td",[e._v("\n        "+e._s(e.driver_commission_report.driver_name)+"\n    ")]),i("td",[e._v("\n        "+e._s(e.human_datetime(e.driver_commission_report.begin_at))+"\n    ")]),i("td",[e._v("\n        "+e._s(e.human_datetime(e.driver_commission_report.end_at))+"\n    ")]),i("td",[e._v("\n        "+e._s(e.driver_commission_report.total_amount)+"\n    ")]),i("td",[e._v("\n        "+e._s(e.human_datetime(e.driver_commission_report.created_at))+"\n    ")]),i("td",[i("router-link",{staticClass:"ui basic primary button",attrs:{to:{name:"driver_commission_report",params:{identity:e.driver_commission_report.identity}}}},[e._v("\n            "+e._s(e.$t("ui.general.detail"))+"\n        ")]),e.is_processing?e._e():i("a",{staticClass:"ui basic red button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.delete_driver_commission_report()}}},[e._v("\n            "+e._s(e.$t("ui.general.delete"))+"\n        ")]),e.is_selected?i("div",{staticClass:"driver_commission_report_print",staticStyle:{display:"none"}},[i("div",{ref:"printable",staticClass:"divided A4"},[i("h1",{staticClass:"ui header center aligned"},[e._v("提成報告")]),i("table",{staticClass:"ui celled small compact table"},[i("tbody",[i("tr",[i("td",{staticClass:"collapsing right aligned"},[e._v("\n                                人     員\n                            ")]),i("td",[e._v(e._s(e.driver_commission_report.driver_name))]),e._m(0)]),i("tr",[i("td",{staticClass:"collapsing right aligned"},[e._v("\n                                期     間\n                            ")]),i("td",[e._v(e._s(e.human_datetime(e.driver_commission_report.begin_at))+" 至 "+e._s(e.human_datetime(e.driver_commission_report.end_at)))]),i("td",{staticClass:"top aligned",attrs:{colspan:"4",rowspan:"3"}})]),i("tr",[i("td",{staticClass:"collapsing right aligned"},[e._v("\n                                總  金  額\n                            ")]),i("td",[e._v(e._s(e.driver_commission_report.total_amount)+" 元")])]),i("tr",[i("td",{staticClass:"collapsing right aligned"},[e._v("\n                                產 生 日 期\n                            ")]),i("td",[e._v(e._s(e.human_datetime(e.driver_commission_report.created_at)))])])])]),i("table",{staticClass:"ui celled small compact table"},[i("thead",[i("tr",[i("th",{staticClass:"center aligned",attrs:{colspan:e.is_detailed_mode?5:4}},[i("h3",{staticClass:"ui header"},[e._v("取 件 明 細")])])]),e.is_detailed_mode?i("tr",[i("th",{staticClass:"collapsing"},[e._v("序號")]),i("th",[e._v("單號")]),i("th",[e._v("日期")]),i("th",[e._v("重量")]),i("th",[e._v("提成(元)")])]):i("tr",[i("th",[e._v("總運單數")]),i("th",[e._v("總重量")]),i("th",[e._v("總提成(元)")])])]),i("tbody",e._l(e.driver_commission_report.pick_up_driver_commissions,function(t,n){return e.is_detailed_mode?i("tr",[i("td",[e._v(e._s(n+1))]),i("td",[e._v(e._s(t.core_waybill.number))]),i("td",[e._v(e._s(e.human_datetime(t.created_at)))]),i("td",[e._v(e._s(t.core_waybill.weight_in_kilo))]),i("td",[e._v(e._s(t.amount))])]):e._e()})),i("tfoot",[e.is_detailed_mode?i("tr",[i("th",{staticClass:"center aligned",attrs:{colspan:"3"}},[e._v("總計")]),i("th",[e._v(e._s(e.sum_weights(e.driver_commission_report.pick_up_driver_commissions)))]),i("th",[e._v(e._s(e.sum_amounts(e.driver_commission_report.pick_up_driver_commissions)))])]):e._e(),e.is_detailed_mode?e._e():i("tr",[i("th",[e._v(e._s(e.driver_commission_report.pick_up_driver_commissions.length))]),i("th",[e._v(e._s(e.sum_weights(e.driver_commission_report.pick_up_driver_commissions)))]),i("th",[e._v(e._s(e.sum_amounts(e.driver_commission_report.pick_up_driver_commissions)))])])])]),i("table",{staticClass:"ui celled small compact table"},[i("thead",[i("tr",[i("th",{staticClass:"center aligned",attrs:{colspan:e.is_detailed_mode?5:4}},[i("h3",{staticClass:"ui header"},[e._v("派 件 明 細")])])]),e.is_detailed_mode?i("tr",[i("th",{staticClass:"collapsing"},[e._v("序號")]),i("th",[e._v("單號")]),i("th",[e._v("日期")]),i("th",[e._v("重量")]),i("th",[e._v("提成(元)")])]):i("tr",[i("th",[e._v("總運單數")]),i("th",[e._v("總重量")]),i("th",[e._v("總提成(元)")])])]),i("tbody",e._l(e.driver_commission_report.delivery_driver_commissions,function(t,n){return e.is_detailed_mode?i("tr",[i("td",[e._v(e._s(n+1))]),i("td",[e._v(e._s(t.core_waybill.number))]),i("td",[e._v(e._s(e.human_datetime(t.created_at)))]),i("td",[e._v(e._s(t.core_waybill.weight_in_kilo))]),i("td",[e._v(e._s(t.amount))])]):e._e()})),i("tfoot",[e.is_detailed_mode?i("tr",[i("th",{staticClass:"center aligned",attrs:{colspan:"3"}},[e._v("總計")]),i("th",[e._v(e._s(e.sum_weights(e.driver_commission_report.delivery_driver_commissions)))]),i("th",[e._v(e._s(e.sum_amounts(e.driver_commission_report.delivery_driver_commissions)))])]):e._e(),e.is_detailed_mode?e._e():i("tr",[i("th",[e._v(e._s(e.driver_commission_report.delivery_driver_commissions.length))]),i("th",[e._v(e._s(e.sum_weights(e.driver_commission_report.delivery_driver_commissions)))]),i("th",[e._v(e._s(e.sum_amounts(e.driver_commission_report.delivery_driver_commissions)))])])])])])]):e._e()],1)])},JN=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{staticClass:"top aligned",attrs:{colspan:"4",rowspan:"1"}},[i("h3",{staticClass:"ui header center aligned"},[e._v("簽名欄")])])}],eA={name:"ProviderDriverCommissionReportsIndexItem",props:{driver_commission_report:Object,is_detailed_mode:Boolean},data:function(){return{is_processing:!1,is_selected:!1}},computed:{},created:function(){},mounted:function(){},watch:{},methods:{delete_driver_commission_report:function(){if(confirm(this.$t("ui.notifications.warning.are_you_sure_to_delete_it"))){var e=this;e.is_processing=!0;var t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_driver_commission_report_delete).parse({driver_commission_report_identity:e.driver_commission_report.identity},"?authorization="+e.$store.state.provider.node.authorization);axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$parent.init(),e.$noty.success(e.$t("ui.notifications.success.delete__name",{name:e.$t("models.driver_commission_reports")}))):e.$noty.error(e.$t("ui.notifications.error.delete__name",{name:e.$t("models.driver_commission_reports")}))})["catch"](function(t){console.log(t),t.response?e.$noty.error(e.$t("ui.general.network_abnormality")+": "+t.response.status+t.response.data):e.$noty.error(e.$t("ui.general.network_abnormality")+": "+e.$t("ui.general.server_offline"))}),e.is_processing=!1}},human_datetime:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"lll";return j()(e).locale("zh-tw").format(t)},sum_amounts:function(e){return _.sumBy(e,function(e){var t=e.amount;return parseFloat(t)}).toFixed(2)},sum_weights:function(e){return _.sumBy(e,function(e){var t=e.core_waybill.weight_in_kilo;return e.amount<0?parseFloat(-1*t):parseFloat(t)}).toFixed(2)}},components:{}},tA=eA,iA=Object(lt["a"])(tA,ZN,JN,!1,null,null,null),nA=iA.exports;function aA(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function rA(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){aA(r,n,a,s,o,"next",e)}function o(e){aA(r,n,a,s,o,"throw",e)}s(void 0)})}}var sA={name:"DriverCommissionReportsIndex",data:function(){return{status:"default",is_selected:!1,search_params:{staff_name:null,created_at_from:null,created_at_to:null,total_amount_from:null,total_amount_to:null,begin_at:null,end_at:null},driver_commission_reports:[],visibility:{setting_panel:!1},pagination:{current_page:null,total_pages:null},settings:{print:{is_detailed_mode:!1}}}},computed:{current_store:function(){return this.$store.state.provider.driver_commission_reports_module},filter:function(){return this.current_store.filter}},created:function(){},mounted:function(){var e=this;e.init(),e.$bus.$off("init"),e.$bus.$on("init",function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.init()}.bind(this))},beforeDestroy:function(){this.$bus.$off("init"),this.pagination.current_page=1,this.search_params.page=1},watch:{$route:{handler:function(){var e=rA(regeneratorRuntime.mark(function e(t,i){var n,a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.query.page,!n){e.next=9;break}return this.pagination.current_page=Number(n),e.next=5,new Promise(function(e){a.is_loading=!0,e()});case 5:return e.next=7,this.fetch_driver_commission_reports(n);case 7:return e.next=9,new Promise(function(e){a.is_loading=!1,e()});case 9:case"end":return e.stop()}},e,this)}));function t(t,i){return e.apply(this,arguments)}return t}(),immediate:!0},"filter.is_advanced_mode":function(e){$("#driver_commission_reports .ui.transition.filter").transition(e?"fade down":"hide"),e||this.$store.commit("provider/driver_commission_reports_module/init_filter_columns")}},methods:{init:function(){var e=rA(regeneratorRuntime.mark(function e(){var t,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.status="default",e()});case 3:return e.next=5,t.fetch_driver_commission_reports();case 5:return e.next=7,new Promise(function(e){i.filter.is_advanced_mode&&$("#driver_commission_reports .ui.transition.filter").transition("fade down"),t.status="initialized",e()});case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_driver_commission_reports:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this;t.status="fetching",t.is_selected=!1,e&&(t.pagination.current_page=e,this.search_params.page=e,t.$route.query.page=e);var i=_.clone(t.filter.columns);i.begin_at&&(i.begin_at=t.$moment(i.begin_at).format("YYYY-MM-DDTHH:mm:ss+08:00")),i.end_at&&(i.end_at=t.$moment(i.end_at).format("YYYY-MM-DDTHH:mm:ss+08:00")),i.created_duration&&(i.created_at_from=t.$moment(i.created_duration[0]).format("YYYY-MM-DDTHH:mm:ss+08:00"),i.created_at_to=t.$moment(i.created_duration[1]).format("YYYY-MM-DDTHH:mm:ss+08:00")),delete i.created_duration;var n=new RestUrl(t.$store.state.provider.routes.api_v1_provider_driver_commission_reports).parse({},"?"+object_to_query(i));return axios.get(n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){t.driver_commission_reports=_.orderBy(e.data.driver_commission_reports,["created_at"],["desc"]),t.pagination=e.data.pagination,t.status="fetched"})["catch"](function(e){}).then(function(){t.search_params.page=null})},multiple_select:function(){var e=this,t=_.filter(e.$children,function(e){return"DriverCommissionReport"==e.$options._componentTag});_.forEach(t,function(t,i){t.is_selected=e.is_selected})},print:function(){var e=rA(regeneratorRuntime.mark(function e(){var t,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,i=_.filter(t.$children,function(e){return"DriverCommissionReport"==e.$options._componentTag}),$("div#print").html(""),e.next=5,new Promise(function(e){_.forEach(i,function(t,n){1==t.is_selected&&$("div#print").append(t.$refs.printable),n==i.length-1&&e()})});case 5:return e.next=7,new Promise(function(e){window.print(),e()});case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),clear_search_params:function(){var e=this;e.search_params={staff_name:null,created_duration:[],created_at_from:null,created_at_to:null,total_amount_from:null,total_amount_to:null,begin_at:null,end_at:null}},toggle_setting_panel:function(){var e=this;e.visibility.setting_panel=!e.visibility.setting_panel}},components:{FilterAdvanced:HN,FilterHeader:QN,DriverCommissionReport:nA,Paginator:cr}},oA=sA,cA=(n("9a0a"),n("3dcc"),Object(lt["a"])(oA,LN,DN,!1,null,null,null)),_A=cA.exports,lA=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"new_driver_commission_report"}},[i("h1",{staticClass:"ui header"},[e._v("\n        "+e._s(e.$t("ui.page_titles.new_driver_commission_report"))+"\n        "),i("div",{staticClass:"sub header"},[i("button",{staticClass:"ui basic positive button",on:{click:function(t){return t.preventDefault(),e.start(t)}}},[e._v("\n                "+e._s(e.$t("ui.pages.driver_commission_reports.start_all"))+"\n            ")])])]),"before_initialized"!=e.status?i("div",[i("form",{staticClass:"ui form"},[i("div",{staticClass:"field",class:{disabled:"locked"==e.status}},[i("label",[e._v(e._s(e.$t("models.attributes.driver_commission_reports.staff")))]),i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.selected_driver_identities,expression:"selected_driver_identities"}],staticClass:"ui dropdown",attrs:{multiple:""},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.selected_driver_identities=t.target.multiple?i:i[0]}}},e._l(e.staffs,function(t){return i("option",{attrs:{staff:t},domProps:{value:t.identity}},[e._v(e._s(t.name))])}))]),i("div",{staticClass:"field",class:{disabled:"locked"==e.status}},[i("label",[e._v(e._s(e.$t("models.attributes.driver_commission_reports.begin_at")))]),i("el-date-picker",{attrs:{type:"datetime",placeholder:e.$t("ui.el.datepicker.selectDateTime")},model:{value:e.general_params.begin_at,callback:function(t){e.$set(e.general_params,"begin_at",t)},expression:"general_params.begin_at"}})],1),i("div",{staticClass:"field",class:{disabled:"locked"==e.status}},[i("label",[e._v(e._s(e.$t("models.attributes.driver_commission_reports.end_at")))]),i("el-date-picker",{attrs:{type:"datetime",placeholder:e.$t("ui.el.datepicker.selectDateTime")},model:{value:e.general_params.end_at,callback:function(t){e.$set(e.general_params,"end_at",t)},expression:"general_params.end_at"}})],1)]),i("table",{staticClass:"ui celled table"},[i("thead",[i("tr",{staticClass:"center aligned"},[i("th",[e._v(e._s(e.$t("models.attributes.driver_commission_reports.staff")))]),i("th",[e._v(e._s(e.$t("models.attributes.driver_commission_reports.begin_at")))]),i("th",[e._v(e._s(e.$t("models.attributes.driver_commission_reports.end_at")))]),i("th",[e._v(e._s(e.$t("ui.pages.driver_commission_reports.status")))]),i("th")])]),i("tbody",e._l(e.selected_drivers,function(t){return i("Item",{key:t.identity,attrs:{driver:t,begin_at:e.$moment(e.general_params.begin_at).format("YYYY-MM-DDTHH:mm:ss+08:00"),end_at:e.$moment(e.general_params.end_at).format("YYYY-MM-DDTHH:mm:ss+08:00")}})}))])]):e._e()])},uA=[],dA=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"center aligned",class:{error:"canceled"==e.status}},[i("td",[e._v("\n        "+e._s(e.driver.name)+"\n    ")]),i("td",[e._v("\n        "+e._s(e.human_datetime(e.begin_at))+"\n    ")]),i("td",[e._v("\n        "+e._s(e.human_datetime(e.end_at))+"\n    ")]),i("td",["waiting"==e.status?i("div",[i("i",{staticClass:"wait large icon"}),e._v("\n                "+e._s(e.$t("ui.general.ready"))+"\n        ")]):e._e(),"processing"==e.status?i("div",[i("i",{staticClass:"notched circle loading large icon"}),e._v("\n            "+e._s(e.$t("ui.general.handling"))+"\n        ")]):e._e(),"done"==e.status?i("div",[i("i",{staticClass:"check large icon"}),e._v("\n            "+e._s(e.$t("ui.general.success"))+"\n        ")]):e._e(),"failed"==e.status?i("div",[i("i",{staticClass:"remove large icon"}),e._v("\n            "+e._s(e.$t("ui.general.failure"))+"\n        ")]):e._e(),"canceled"==e.status?i("div",[i("i",{staticClass:"remove large icon"}),e._v("\n            "+e._s(e.$t("ui.general.cancel"))+"\n        ")]):e._e()]),i("td",{staticClass:"left aligned"},["done"==e.status?i("router-link",{staticClass:"ui basic primary button",attrs:{to:{name:"driver_commission_report",params:{identity:e.report_identity}},target:"_blank"}},[e._v("\n            "+e._s(e.$t("ui.pages.driver_commission_reports.go_to_report"))+"\n        ")]):e._e(),"failed"==e.status?i("div",{staticClass:"ui basic negative button",on:{click:function(t){return t.preventDefault(),e.cancel(t)}}},[e._v("\n            "+e._s(e.$t("ui.general.cancel"))+"\n        ")]):e._e(),"failed"!=e.status&&"done"!=e.status?i("div",{staticClass:"ui basic disabled negative button"},[e._v("\n            "+e._s(e.$t("ui.general.cancel"))+"\n        ")]):e._e()],1)])},pA=[],mA={name:"ProviderDriverCommissionReportsNewItem",props:{driver:Object,begin_at:String,end_at:String},data:function(){return{status:"waiting",report_identity:null,errors:[]}},computed:{},created:function(){},mounted:function(){},watch:{},methods:{cancel:function(){var e=this;e.status="canceled"},human_datetime:function(e){return e&&"Invalid date"!=e?j()(e).locale(this.$store.state.language||"zh-tw").format("lll"):this.$t("ui.pages.driver_commission_reports.no_select_date")}},components:{}},fA=mA,vA=Object(lt["a"])(fA,dA,pA,!1,null,null,null),hA=vA.exports;function gA(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function bA(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){gA(r,n,a,s,o,"next",e)}function o(e){gA(r,n,a,s,o,"throw",e)}s(void 0)})}}var yA={name:"NewDriverCommissionReport",props:{},data:function(){return{status:"before_initialized",staffs:[],selected_driver_identities:[],selected_drivers:[],general_params:{},errors:[]}},created:function(){this.init()},mounted:function(){},watch:{$route:function(e,t){"new_driver_commission_report"==e.name&&this.init()},selected_driver_identities:function(e,t){var i=this;i.selected_drivers=[],i.selected_drivers=_.filter(i.staffs,function(e){return i.selected_driver_identities.includes(e.identity)})}},computed:{},methods:{init:function(){var e=bA(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.general_params={begin_at:"",end_at:""},t.errors=[],e()});case 3:return e.next=5,t.fetch_staffs();case 5:return e.next=7,new Promise(function(e){t.status="initialized",e()});case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_staffs:function(){var e=this,t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_staffs).parse({},"?"+object_to_query({pagination:!1}));return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?e.staffs=t.data.staffs:e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.staffs")}))})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.staffs"),reason:": "+errors}))})},start:function(){var e=bA(regeneratorRuntime.mark(function e(){var t,i,n,a,r,s,o,c,_;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,!(t.selected_drivers.length>0)){e.next=38;break}if(!t.general_params.begin_at||!t.general_params.end_at){e.next=35;break}t.status="locked",i=!0,n=!1,a=void 0,e.prev=7,r=t.$children[Symbol.iterator]();case 9:if(i=(s=r.next()).done){e.next=19;break}if(o=s.value,!o.driver){e.next=16;break}return c=t.$store.state.provider.routes.api_v1_provider_driver_commission_reports_create,_={staff_identity:o.driver.identity,begin_at:t.$moment(t.general_params.begin_at).format("YYYY-MM-DDTHH:mm:ss+08:00"),end_at:t.$moment(t.general_params.end_at).format("YYYY-MM-DDTHH:mm:ss+08:00")},e.next=16,t.create(c,_,o);case 16:i=!0,e.next=9;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e["catch"](7),n=!0,a=e.t0;case 25:e.prev=25,e.prev=26,i||null==r["return"]||r["return"]();case 28:if(e.prev=28,!n){e.next=31;break}throw a;case 31:return e.finish(28);case 32:return e.finish(25);case 33:e.next=36;break;case 35:t.$noty.error(t.$t("ui.general.please_select")+" 起訖日");case 36:e.next=39;break;case 38:t.$noty.error(t.$t("ui.general.please_select")+" 對象");case 39:case"end":return e.stop()}},e,this,[[7,21,25,33],[26,,28,32]])}));function t(){return e.apply(this,arguments)}return t}(),create:function(e,t,i){if("done"!=i.status&&"canceled"!=i.status)return i.status="processing",axios.post(e,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){"success"==e.data.status?(i.status="done",i.report_identity=e.data.driver_commission_report.identity):i.status="failed"})["catch"](function(e){i.status="failed"})}},components:{Item:hA}},wA=yA,$A=(n("d1f7"),Object(lt["a"])(wA,lA,uA,!1,null,"f7b2cb3a",null)),kA=$A.exports,CA=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"edit_driver_commission_report"}},[i("h1",{staticClass:"ui header"},[e._v("\n        "+e._s(e.$t("ui.page_titles.driver_commission_report"))+"\n    ")]),e.is_initialized?i("div",[i("table",{staticClass:"ui very basic celled table"},[i("tbody",[i("tr",[i("td",{staticClass:"collapsing right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.driver_commission_reports.staff"))+"\n                    ")]),i("td",[e._v(e._s(e.driver_commission_report.driver_name))])]),i("tr",[i("td",{staticClass:"collapsing right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.driver_commission_reports.time"))+"\n                    ")]),i("td",[e._v("\n                        "+e._s(e.human_datetime(e.driver_commission_report.begin_at))+"\n                         "+e._s(e.$t("ui.pages.driver_commission_reports.to"))+" \n                        "+e._s(e.human_datetime(e.driver_commission_report.end_at))+"\n                    ")])]),i("tr",[i("td",{staticClass:"collapsing right aligned"},[e._v("\n                        "+e._s(e.$t("ui.pages.driver_commission_reports.total_amount_of_commission"))+"\n                    ")]),i("td",[e._v(e._s(e.driver_commission_report.total_amount)+" 元")])]),i("tr",[i("td",{staticClass:"collapsing right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.driver_commission_reports.created_at"))+"\n                    ")]),i("td",[e._v(e._s(e.human_datetime(e.driver_commission_report.created_at)))])])])]),i("div",{staticClass:"ui equal width grid"},[i("div",{staticClass:"column"},[i("h3",{staticClass:"ui header"},[e._v("\n                    "+e._s(e.$t("ui.pages.driver_commission_reports.table.pickup_details"))+"\n                ")]),i("table",{staticClass:"ui celled table"},[i("thead",[i("tr",[i("th",{staticClass:"collapsing"},[e._v("\n                                "+e._s(e.$t("ui.pages.driver_commission_reports.table.No"))+"\n                            ")]),i("th",[e._v("\n                                "+e._s(e.$t("ui.pages.driver_commission_reports.table.number"))+"\n                            ")]),i("th",[e._v("\n                                "+e._s(e.$t("ui.pages.driver_commission_reports.table.weight"))+"\n                            ")]),i("th",[e._v("\n                                "+e._s(e.$t("ui.pages.driver_commission_reports.table.date"))+"\n                            ")]),i("th",[e._v("\n                                "+e._s(e.$t("ui.pages.driver_commission_reports.table.commission"))+"\n                            ")])])]),i("tbody",e._l(e.driver_commission_report.pick_up_driver_commissions,function(t,n){return i("tr",[i("td",[e._v(e._s(n+1))]),i("td",[e._v(e._s(t.core_waybill.number))]),i("td",[e._v(e._s(t.core_waybill.weight_in_kilo))]),i("td",[e._v(e._s(e.human_datetime(t.created_at)))]),i("td",[e._v(e._s(t.amount))])])})),i("tfoot",[i("tr",[i("th",{staticClass:"center aligned",attrs:{colspan:"4"}},[e._v("\n                                    "+e._s(e.$t("ui.pages.driver_commission_reports.table.total"))+"\n                                ")]),i("th",[e._v(e._s(e.total_amount(e.driver_commission_report.pick_up_driver_commissions)))])])])])]),i("div",{staticClass:"column"},[i("h3",{staticClass:"ui header"},[e._v("\n                    "+e._s(e.$t("ui.pages.driver_commission_reports.table.dispatch_details"))+"\n                ")]),i("table",{staticClass:"ui celled table"},[i("thead",[i("tr",[i("th",{staticClass:"collapsing"},[e._v("\n                                "+e._s(e.$t("ui.pages.driver_commission_reports.table.No"))+"\n                            ")]),i("th",[e._v("\n                                "+e._s(e.$t("ui.pages.driver_commission_reports.table.number"))+"\n                            ")]),i("th",[e._v("\n                                "+e._s(e.$t("ui.pages.driver_commission_reports.table.weight"))+"\n                            ")]),i("th",[e._v("\n                                "+e._s(e.$t("ui.pages.driver_commission_reports.table.date"))+"\n                            ")]),i("th",[e._v("\n                                "+e._s(e.$t("ui.pages.driver_commission_reports.table.commission"))+"\n                            ")])])]),i("tbody",e._l(e.driver_commission_report.delivery_driver_commissions,function(t,n){return i("tr",[i("td",[e._v(e._s(n+1))]),i("td",[e._v(e._s(t.core_waybill.number))]),i("td",[e._v(e._s(t.core_waybill.weight_in_kilo))]),i("td",[e._v(e._s(e.human_datetime(t.created_at)))]),i("td",[e._v(e._s(t.amount))])])})),i("tfoot",[i("tr",[i("th",{staticClass:"center aligned",attrs:{colspan:"4"}},[e._v("\n                                    "+e._s(e.$t("ui.pages.driver_commission_reports.table.total"))+"\n                                ")]),i("th",[e._v(e._s(e.total_amount(e.driver_commission_report.delivery_driver_commissions)))])])])])])])]):e._e()])},xA=[];function PA(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function SA(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){PA(r,n,a,s,o,"next",e)}function o(e){PA(r,n,a,s,o,"throw",e)}s(void 0)})}}var NA={name:"ShowDriverCommissionReport",props:{},data:function(){return{is_initialized:!1,is_processing:!1,driver_commission_report:{},errors:[]}},created:function(){this.init()},mounted:function(){},watch:{$route:function(e,t){"edit_driver_commission_report"==e.name&&this.init()}},computed:{},methods:{init:function(){var e=SA(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,t.is_processing=!1,t.driver_commission_report={},t.errors=[],e()});case 3:return e.next=5,t.fetch_driver_commission_report();case 5:return e.next=7,new Promise(function(e){t.is_initialized=!0,e()});case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_driver_commission_report:function(){var e=this,t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_driver_commission_report).parse({driver_commission_report_identity:e.$route.params.identity},"");return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){return e.driver_commission_report=t.data.driver_commission_report,Promise.resolve()})["catch"](function(e){console.log("Failed to fetch driver_commission_report.")})},total_amount:function(e){return _.sumBy(e,function(e){return parseInt(e.amount)})}},components:{}},AA=NA,EA=Object(lt["a"])(AA,CA,xA,!1,null,"194b4ed6",null),qA=EA.exports,zA="driver_commission_reports",jA="new_driver_commission_report",RA="driver_commission_report",IA=[{path:"",component:_A,name:"driver_commission_reports",meta:{api_name:"api_v1_provider_driver_commission_reports",breadcrumb:[zA],btns:[jA]}},{path:"new",component:kA,name:"new_driver_commission_report",meta:{api_name:"api_v1_provider_driver_commission_report_create",breadcrumb:[zA,jA]}},{path:":identity",component:qA,name:"driver_commission_report",meta:{api_name:"api_v1_provider_driver_commission_report",breadcrumb:[zA,RA]}}],TA=IA,OA=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"x_scrollable",attrs:{id:"scan_action_prototypes"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),e.is_initialized?i("div",{staticClass:"right floated ui button",on:{click:function(t){e.print_scan_action_prototypes()}}},[i("i",{staticClass:"print icon"}),e._v("\n        "+e._s(e.$t("ui.pages.scan_action_prototypes.print_barcodes"))+"\n    ")]):e._e(),e.is_initialized?i("Print",{staticClass:"printarea",attrs:{scan_action_prototypes:e.scan_action_prototypes}}):e._e(),i("div",{staticClass:"clear"}),i("table",{staticClass:"ui celled table"},[i("thead",{staticClass:"center aligned"},[i("tr",[i("th",{attrs:{colspan:"2"}},[e._v(e._s(e.$t("models.attributes.scan_action_prototypes.barcode")))]),i("th",[e._v(e._s(e.$t("models.attributes.scan_action_prototypes.name")))]),i("th")])]),e.is_loading?i("tbody",{staticClass:"center aligned"},[e._m(0)]):i("tbody",{staticClass:"center aligned"},e._l(e.scan_action_prototypes,function(e){return i("ScanActionPrototype",{key:e.identity,attrs:{scan_action_prototype:e}})}))])],1)},LA=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"loading"},[i("td",{attrs:{colspan:"6"}},[i("div",{staticClass:"ui active centered inline loader"})])])}],DA=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",[i("td",[e._v("\n        "+e._s(e.scan_action_prototype.barcode)+"\n    ")]),i("td",[i("barcode",{attrs:{value:e.scan_action_prototype.barcode,tag:"svg",options:{background:"transparent",displayValue:!0,format:"CODE128",width:1,height:25}}},[e._v("\n            看見此資訊請通知系統工程師。\n        ")])],1),i("td",[e._v("\n        "+e._s(e.scan_action_prototype.name)+"\n    ")]),i("td",[e._e(),i("router-link",{staticClass:"ui basic positive button",attrs:{to:{name:"edit_scan_action_prototype",params:{identity:e.scan_action_prototype.identity}}}},[e._v("\n            "+e._s(e.$t("ui.general.edit"))+"\n        ")])],1)])},BA=[],MA={name:"ProviderScanActionPrototypesIndexItem",props:{scan_action_prototype:Object},data:function(){return{is_processing:!1}},computed:{env:function(){return ENV.NODE_ENV}},created:function(){},mounted:function(){},watch:{},methods:{human_time:function(e){var t=this;return t.$moment(e).locale("zh-tw").format("lll")}},components:{barcode:ey["a"]}},UA=MA,FA=Object(lt["a"])(UA,DA,BA,!1,null,null,null),GA=FA.exports,HA=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",e._l(e.scan_action_prototypes,function(e){return i("Item",{key:e.identity,attrs:{scan_action_prototype:e}})}))},YA=[],KA=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"item"},[i("div",{staticClass:"name"},[e._v("\n            "+e._s(e.scan_action_prototype.name)+"\n        ")]),i("div",{staticClass:"barcode"},[i("barcode",{attrs:{value:"@@"+e.scan_action_prototype.barcode+"@@",tag:"svg",options:{background:"transparent",displayValue:!1,format:"CODE128",width:"5vw",height:"120vh"}}},[e._v("\n                看見此資訊請通知系統工程師。\n            ")])],1),i("div",{staticClass:"barcode_name"},[e._v("\n            "+e._s(e.scan_action_prototype.barcode)+"\n        ")])]),i("div",{staticClass:"divided"})])},WA=[],VA={props:{scan_action_prototype:Object},data:function(){return{}},computed:{env:function(){return ENV.NODE_ENV}},created:function(){},mounted:function(){},watch:{},methods:{},components:{barcode:ey["a"]}},XA=VA,QA=(n("4784"),Object(lt["a"])(XA,KA,WA,!1,null,"3b38b636",null)),ZA=QA.exports,JA={props:{scan_action_prototypes:Array},data:function(){return{is_processing:!1}},computed:{},created:function(){},mounted:function(){},watch:{},methods:{},components:{Item:ZA}},eE=JA,tE=Object(lt["a"])(eE,HA,YA,!1,null,null,null),iE=tE.exports;function nE(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function aE(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){nE(r,n,a,s,o,"next",e)}function o(e){nE(r,n,a,s,o,"throw",e)}s(void 0)})}}var rE={name:"ScanActionPrototypesIndex",data:function(){return{is_initialized:!1,is_loading:!1,scan_action_prototypes:[],errors:[]}},computed:{current_page:function(){return this.$store.state.provider.scan_action_prototypes_module.pagination.current_page},total_pages:function(){return this.$store.state.provider.scan_action_prototypes_module.pagination.total_pages},search_params:function(){return this.$store.state.provider.scan_action_prototypes_module.search_params},show_filter:function(){return this.$store.state.provider.scan_action_prototypes_module.show_filter}},created:function(){},mounted:function(){var e=this;e.init(),e.$bus.$off("init"),e.$bus.$on("init",function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.init()}.bind(this))},beforeDestroy:function(){this.$bus.$off("init")},watch:{},methods:{init:function(){var e=aE(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,new Promise(function(e){t.is_initialized=!1,e()});case 4:return e.next=6,t.fetch_scan_action_prototypes();case 6:return e.next=8,new Promise(function(e){t.is_initialized=!0,t.$noty.information(t.$t("ui.page_titles.scan_action_prototypes")+" "+t.$t("ui.general.initialize_complete"),300),e()});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](1),t.$noty.error(e.t0);case 13:return e.prev=13,t.$bus.$off("index_page"),t.$bus.$on("index_page",function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];t.fetch_scan_action_prototypes()}.bind(this)),e.finish(13);case 17:case"end":return e.stop()}},e,this,[[1,10,13,17]])}));function t(){return e.apply(this,arguments)}return t}(),fetch_scan_action_prototypes:function(){var e=this;e.is_loading=!0;var t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_scan_action_prototypes).parse({},"?"+object_to_query({simple:!0}));return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?e.scan_action_prototypes=_.orderBy(t.data.scan_action_prototypes,["barcode","name"],["asc","asc"]):console.log(t.data)})["catch"](function(t){console.log(t.response),e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.roles"),reason:": "+t.response}))}).then(function(){setTimeout(function(){e.is_loading=!1},300)})},print_scan_action_prototypes:function(){var e=aE(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){$("div#print").html(""),e()});case 3:return e.next=5,new Promise(function(e){$(".printarea").clone().appendTo("div#print"),e()});case 5:return e.next=7,new Promise(function(e){window.print(),t.is_printing=!1,e()});case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{ScanActionPrototype:GA,ErrorMessages:wc,Paginator:cr,Print:iE}},sE=rE,oE=Object(lt["a"])(sE,OA,LA,!1,null,null,null),cE=oE.exports,_E=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"show_scan_action_prototype"}},[i("h1",{staticClass:"ui header"},[e._v("ScanActionPrototype "+e._s(e.scan_action_prorotype.name))]),e.is_initialized?i("div",[i("table",{staticClass:"ui table"},[e._m(0),i("tbody",{staticClass:"center aligned"},[i("tr",[i("td",[e._v("Barcode")]),i("td",[e._v(e._s(e.scan_action_prorotype.barcode))])]),i("tr",[i("td",[e._v("Name")]),i("td",[e._v(e._s(e.scan_action_prorotype.name))])]),i("tr",[i("td",[e._v("Identity")]),i("td",[e._v(e._s(e.scan_action_prorotype.identity))])]),i("tr",[i("td",[e._v("RequiredCondition")]),i("td",[e._v(e._s(e.scan_action_prorotype.required_ability_identity||"null"))])]),i("tr",[i("td",{attrs:{colspan:"2"}},e._l(e.scope_grouped_status_prototypes,function(t,n){return i("table",{staticClass:"ui six column stack table",attrs:{status_prototypes:t}},[i("thead",[i("tr",[i("th",[e._v(e._s(e.human_scope(n)))]),i("th",[e._v("綁定物料")])])]),i("tbody",e._l(t,function(t){return i("tr",{attrs:{status_prototype:t}},[i("td",[1==t.polarity?i("i",{staticClass:"plus icon"}):0==t.polarity?i("i",{staticClass:"minus icon"}):e._e(),e._v("\n                                        "+e._s(t.name||"-")+"\n                                    ")]),i("td",[e._v(e._s(t.material_class_name||"無"))])])}))])}))])])])]):e._e()])},lE=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("thead",{staticClass:"center aligned"},[i("tr",[i("th",{staticClass:"eight wide"},[e._v("欄位名")]),i("th",{staticClass:"eight wide"},[e._v("數值")])])])}];function uE(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function dE(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){uE(r,n,a,s,o,"next",e)}function o(e){uE(r,n,a,s,o,"throw",e)}s(void 0)})}}var pE={name:"ProviderScanActionPrototypesShow",props:{},data:function(){return{is_initialized:!1,is_processing:!1,scan_action_prorotype:{},errors:[]}},created:function(){this.init()},mounted:function(){},watch:{$route:function(e,t){"scan_action_prorotype"==e.name&&this.init()}},computed:{scope_grouped_status_prototypes:function(){return _.groupBy(this.scan_action_prorotype.status_prototypes,"scope")}},methods:{init:function(){var e=dE(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,t.is_processing=!1,t.scan_action_prorotype={},t.errors=[],e()});case 3:return e.next=5,t.fetch_scan_action_prototype();case 5:return e.next=7,new Promise(function(e){t.is_initialized=!0});case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_scan_action_prototype:function(){var e=this,t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_scan_action_prototype).parse({scan_action_prototype_identity:e.$route.params.identity},"");return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){console.log(t),e.scan_action_prorotype=t.data.scan_action_prototype})["catch"](function(t){return e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.scan_action_prototypes"),reason:": "+t})),Promise.reject(t)})},human_scope:function(e){switch(e){case"operator":return"內部貨況";case"forwarder":return"客戶貨況";case"public":return"公開貨況";case"mark":return"標記";case"condition":return"流程控制";default:return"不明"}}},components:{}},mE=pE,fE=(n("acc6"),Object(lt["a"])(mE,_E,lE,!1,null,null,null)),vE=fE.exports,hE=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"new_scan_action_prototype"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),e.is_loading?i("div",{staticClass:"ui active centered inline loader"}):i("div",{staticClass:"ui container"},[i("h1",{staticClass:"ui header"},[e._v(e._s(e.scan_action_prorotype.barcode)+e._s(e.scan_action_prorotype.name))]),i("table",{staticClass:"ui celled table"},[i("thead",{staticClass:"center aligned"},[i("tr",[i("th",{staticClass:"eight wide"},[e._v("\n                        "+e._s(e.$t("ui.pages.scan_action_prototypes.field_name"))+"\n                    ")]),i("th",{staticClass:"eight wide"},[e._v("\n                        "+e._s(e.$t("ui.pages.scan_action_prototypes.value"))+"\n                    ")])])]),i("tbody",{staticClass:"center aligned ui form"},[i("tr",[i("td",[e._v(e._s(e.$t("models.attributes.scan_action_prototypes.barcode")))]),i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.scan_action_prorotype.barcode,expression:"scan_action_prorotype.barcode"}],attrs:{type:"text",name:"barcode"},domProps:{value:e.scan_action_prorotype.barcode},on:{input:function(t){t.target.composing||e.$set(e.scan_action_prorotype,"barcode",t.target.value)}}})])]),i("tr",[i("td",[e._v(e._s(e.$t("models.attributes.scan_action_prototypes.name")))]),i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.scan_action_prorotype.name,expression:"scan_action_prorotype.name"}],attrs:{type:"text",name:"name"},domProps:{value:e.scan_action_prorotype.name},on:{input:function(t){t.target.composing||e.$set(e.scan_action_prorotype,"name",t.target.value)}}})])]),i("tr",[i("td",[e._v(e._s(e.$t("models.attributes.scan_action_prototypes.is_default"))+"？")]),i("td",{staticClass:"left aligned"},[i("div",{staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.scan_action_prorotype.is_default,expression:"scan_action_prorotype.is_default"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.scan_action_prorotype.is_default)?e._i(e.scan_action_prorotype.is_default,null)>-1:e.scan_action_prorotype.is_default},on:{change:function(t){var i=e.scan_action_prorotype.is_default,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&e.$set(e.scan_action_prorotype,"is_default",i.concat([r])):s>-1&&e.$set(e.scan_action_prorotype,"is_default",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.scan_action_prorotype,"is_default",a)}}}),i("label")])])]),i("tr",[i("td",[e._v(e._s(e.$t("models.attributes.scan_action_prototypes.required_condition")))]),i("td",[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.scan_action_prorotype.required_condition_identity,expression:"scan_action_prorotype.required_condition_identity"}],staticClass:"ui fluid dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.scan_action_prorotype,"required_condition_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.condition_status_prototypes,function(t){return i("option",{domProps:{value:t.identity}},[e._v("\n                                "+e._s(t.polarity?"+ ":"- ")+e._s(t.name)+"\n                            ")])})],2)])]),i("tr",[i("td",[e._v(e._s(e.$t("models.attributes.scan_action_prototypes.before_actions")))]),i("td",[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.scan_action_prorotype.before_actions,expression:"scan_action_prorotype.before_actions"}],attrs:{name:"before_actions",rows:"8",cols:"80"},domProps:{value:e.scan_action_prorotype.before_actions},on:{input:function(t){t.target.composing||e.$set(e.scan_action_prorotype,"before_actions",t.target.value)}}})])]),i("tr",[i("td",[e._v(e._s(e.$t("models.attributes.scan_action_prototypes.description_required_scope")))]),i("td",[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.scan_action_prorotype.description_required_scope,expression:"scan_action_prorotype.description_required_scope"}],attrs:{name:"description_required_scope",rows:"8",cols:"80"},domProps:{value:e.scan_action_prorotype.description_required_scope},on:{input:function(t){t.target.composing||e.$set(e.scan_action_prorotype,"description_required_scope",t.target.value)}}})])]),i("tr",[i("td",[e._v(e._s(e.$t("models.attributes.scan_action_prototypes.description_options")))]),i("td",[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.scan_action_prorotype.description_options,expression:"scan_action_prorotype.description_options"}],attrs:{name:"description_options",rows:"8",cols:"80"},domProps:{value:e.scan_action_prorotype.description_options},on:{input:function(t){t.target.composing||e.$set(e.scan_action_prorotype,"description_options",t.target.value)}}})])]),i("tr",[i("td",{attrs:{colspan:"2"}},e._l(e.scope_grouped_status_prototypes,function(t,n){return i("table",{staticClass:"ui two column celled table",attrs:{status_prototypes:t}},[i("thead",[i("tr",[i("th",[e._v(e._s(e.human_scope(n)))]),i("th",[e._v("\n                                        "+e._s(e.$t("ui.pages.scan_action_prototypes.binding_material"))+"\n                                    ")])])]),i("tbody",e._l(t,function(t){return i("tr",{attrs:{status_prototype:t}},[i("td",[i("div",{staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.scan_action_prorotype.status_prototype_identities,expression:"scan_action_prorotype.status_prototype_identities"}],attrs:{type:"checkbox"},domProps:{value:t.identity,checked:Array.isArray(e.scan_action_prorotype.status_prototype_identities)?e._i(e.scan_action_prorotype.status_prototype_identities,t.identity)>-1:e.scan_action_prorotype.status_prototype_identities},on:{change:function(i){var n=e.scan_action_prorotype.status_prototype_identities,a=i.target,r=!!a.checked;if(Array.isArray(n)){var s=t.identity,o=e._i(n,s);a.checked?o<0&&e.$set(e.scan_action_prorotype,"status_prototype_identities",n.concat([s])):o>-1&&e.$set(e.scan_action_prorotype,"status_prototype_identities",n.slice(0,o).concat(n.slice(o+1)))}else e.$set(e.scan_action_prorotype,"status_prototype_identities",r)}}}),i("label",[1==t.polarity?i("i",{staticClass:"plus icon"}):0==t.polarity?i("i",{staticClass:"minus icon"}):e._e(),e._v("\n                                                "+e._s(t.name||"-")+"\n                                            ")])])]),i("td",[e._v(e._s(t.material_class_name||e.$t("ui.general.no")))])])}))])}))])])]),i("button",{staticClass:"ui positive basic fluid button",on:{click:function(t){return t.preventDefault(),e.create_scan_action_prototype(t)}}},[e._v("\n            "+e._s(e.$t("ui.general.create"))+"\n        ")])])],1)},gE=[];function bE(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function yE(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){bE(r,n,a,s,o,"next",e)}function o(e){bE(r,n,a,s,o,"throw",e)}s(void 0)})}}var wE={name:"NewScanActionPrototype",props:{},data:function(){return{is_initialized:!1,is_loading:!1,scan_action_prorotype:{},status_prototypes:[],errors:[]}},created:function(){},mounted:function(){this.init()},watch:{},computed:{scope_grouped_status_prototypes:function(){return _.groupBy(this.status_prototypes,"scope")},condition_status_prototypes:function(){return _.filter(this.status_prototypes,function(e){return"condition"==e.scope})}},methods:{init:function(){var e=yE(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,t.is_loading=!1,t.scan_action_prorotype={name:"",required_condition_identity:null,barcode:"",before_actions:null,is_default:!1,description_required_scope:null,description_options:null,related_columns:[],status_prototype_identities:[]},t.errors=[],e()});case 3:return e.next=5,t.fetch_status_prototypes();case 5:return e.next=7,new Promise(function(e){t.is_initialized=!0});case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_status_prototypes:function(){var e=this;e.is_loading=!0;var t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_status_prototypes).parse({},"?"+object_to_query({pagination:!1}));return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?e.status_prototypes=t.data.status_prototypes:(console.log(t.data),e.$noty.error(t.data))})["catch"](function(t){console.log(t.response),e.$noty.error(t.response)}).then(function(){e.is_loading=!1})},create_scan_action_prototype:function(){var e=this;e.is_loading=!0;var t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_scan_action_prototypes_create).parse({},"");return axios.post(t,e.scan_action_prorotype,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$router.push({name:"scan_action_prototypes"}),e.$noty.success(e.$t("ui.notifications.success.create__name",{name:e.$t("models.scan_action_prototypes")}))):(console.log(t.data),e.$noty.error(t.data))})["catch"](function(t){console.log(t.response),e.$noty.error(t.response)}).then(function(){setTimeout(function(){e.is_loading=!1},300)})},human_scope:function(e){switch(e){case"operator":return"內部貨況(Operator)";case"forwarder":return"客戶貨況(Forwarder)";case"public":return"公開貨況(Public)";case"mark":return"標記(Mark)";case"condition":return"流程控制(Condition)";case"system":return"系統(System)";default:return"不明(Unknown)"}}},components:{ErrorMessages:wc}},$E=wE,kE=Object(lt["a"])($E,hE,gE,!1,null,null,null),CE=kE.exports,xE=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"edit_scan_action_prototype"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),e.is_loading?i("div",{staticClass:"ui active centered inline loader"}):i("div",{staticClass:"ui container"},[i("h1",{staticClass:"ui header"},[e._v(e._s(e.scan_action_prorotype.barcode)+e._s(e.scan_action_prorotype.name))]),i("table",{staticClass:"ui celled table"},[i("thead",{staticClass:"center aligned"},[i("tr",[i("th",{staticClass:"eight wide"},[e._v("\n                        "+e._s(e.$t("ui.pages.scan_action_prototypes.field_name"))+"\n                    ")]),i("th",{staticClass:"eight wide"},[e._v("\n                        "+e._s(e.$t("ui.pages.scan_action_prototypes.value"))+"\n                    ")])])]),i("tbody",{staticClass:"center aligned ui form"},[i("tr",[i("td",[e._v(e._s(e.$t("models.attributes.scan_action_prototypes.barcode")))]),i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.scan_action_prorotype.barcode,expression:"scan_action_prorotype.barcode"}],attrs:{type:"text",name:"barcode"},domProps:{value:e.scan_action_prorotype.barcode},on:{input:function(t){t.target.composing||e.$set(e.scan_action_prorotype,"barcode",t.target.value)}}})])]),i("tr",[i("td",[e._v(e._s(e.$t("models.attributes.scan_action_prototypes.name")))]),i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.scan_action_prorotype.name,expression:"scan_action_prorotype.name"}],attrs:{type:"text",name:"name"},domProps:{value:e.scan_action_prorotype.name},on:{input:function(t){t.target.composing||e.$set(e.scan_action_prorotype,"name",t.target.value)}}})])]),i("tr",[i("td",[e._v(e._s(e.$t("models.attributes.scan_action_prototypes.is_default"))+"？")]),i("td",{staticClass:"left aligned"},[i("div",{staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.scan_action_prorotype.is_default,expression:"scan_action_prorotype.is_default"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.scan_action_prorotype.is_default)?e._i(e.scan_action_prorotype.is_default,null)>-1:e.scan_action_prorotype.is_default},on:{change:function(t){var i=e.scan_action_prorotype.is_default,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&e.$set(e.scan_action_prorotype,"is_default",i.concat([r])):s>-1&&e.$set(e.scan_action_prorotype,"is_default",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.scan_action_prorotype,"is_default",a)}}}),i("label")])])]),i("tr",[i("td",[e._v(e._s(e.$t("models.attributes.scan_action_prototypes.required_condition")))]),i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.scan_action_prorotype.required_condition,expression:"scan_action_prorotype.required_condition"}],attrs:{type:"text",name:"name"},domProps:{value:e.scan_action_prorotype.required_condition},on:{input:function(t){t.target.composing||e.$set(e.scan_action_prorotype,"required_condition",t.target.value)}}})])]),i("tr",[i("td",[e._v(e._s(e.$t("models.attributes.scan_action_prototypes.required_condition_polarity")))]),i("td",{staticClass:"left aligned"},[i("div",{staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.scan_action_prorotype.required_condition_polarity,expression:"scan_action_prorotype.required_condition_polarity"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.scan_action_prorotype.required_condition_polarity)?e._i(e.scan_action_prorotype.required_condition_polarity,null)>-1:e.scan_action_prorotype.required_condition_polarity},on:{change:function(t){var i=e.scan_action_prorotype.required_condition_polarity,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&e.$set(e.scan_action_prorotype,"required_condition_polarity",i.concat([r])):s>-1&&e.$set(e.scan_action_prorotype,"required_condition_polarity",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.scan_action_prorotype,"required_condition_polarity",a)}}}),i("label")])])]),i("tr",[i("td",[e._v(e._s(e.$t("models.attributes.scan_action_prototypes.before_actions")))]),i("td",[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.scan_action_prorotype.before_actions,expression:"scan_action_prorotype.before_actions"}],attrs:{name:"before_actions",rows:"8",cols:"80"},domProps:{value:e.scan_action_prorotype.before_actions},on:{input:function(t){t.target.composing||e.$set(e.scan_action_prorotype,"before_actions",t.target.value)}}})])]),i("tr",[i("td",[e._v(e._s(e.$t("models.attributes.scan_action_prototypes.description_required_scope")))]),i("td",{on:{click:function(t){e.objectized_description_required_scope.length<=0&&e.add_element(e.objectized_description_required_scope,"scope_name_0")}}},e._l(e.objectized_description_required_scope,function(t,n){return i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"scope_name.value"}],ref:"scope_name_"+n,refInFor:!0,domProps:{value:t.value},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete"]))return null;e.remove_element(e.objectized_description_required_scope,n,"scope_name_"+(n-1))},keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.add_element(e.objectized_description_required_scope,"scope_name_"+(n+1))},input:function(i){i.target.composing||e.$set(t,"value",i.target.value)}}})])}))]),i("tr",[i("td",[e._v(e._s(e.$t("models.attributes.scan_action_prototypes.description_options")))]),i("td",{on:{click:function(t){e.objectized_description_options.length<=0&&e.add_element(e.objectized_description_options,"description_option_0")}}},e._l(e.objectized_description_options,function(t,n){return i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"description_option.value"}],ref:"description_option_"+n,refInFor:!0,domProps:{value:t.value},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete"]))return null;e.remove_element(e.objectized_description_options,n,"description_option_"+(n-1))},keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.add_element(e.objectized_description_options,"description_option_"+(n+1))},input:function(i){i.target.composing||e.$set(t,"value",i.target.value)}}})])}))]),i("tr",[i("td",{attrs:{colspan:"2"}},e._l(e.scope_grouped_status_prototypes,function(t,n){return i("table",{staticClass:"ui two column celled table",attrs:{status_prototypes:t}},[i("thead",[i("tr",[i("th",[e._v(e._s(e.human_scope(n)))]),i("th",[e._v("\n                                        "+e._s(e.$t("ui.pages.scan_action_prototypes.binding_material"))+"\n                                    ")])])]),i("tbody",e._l(t,function(t){return i("tr",{attrs:{status_prototype:t}},[i("td",[i("div",{staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.scan_action_prorotype.status_prototype_identities,expression:"scan_action_prorotype.status_prototype_identities"}],attrs:{type:"checkbox"},domProps:{value:t.identity,checked:Array.isArray(e.scan_action_prorotype.status_prototype_identities)?e._i(e.scan_action_prorotype.status_prototype_identities,t.identity)>-1:e.scan_action_prorotype.status_prototype_identities},on:{change:function(i){var n=e.scan_action_prorotype.status_prototype_identities,a=i.target,r=!!a.checked;if(Array.isArray(n)){var s=t.identity,o=e._i(n,s);a.checked?o<0&&e.$set(e.scan_action_prorotype,"status_prototype_identities",n.concat([s])):o>-1&&e.$set(e.scan_action_prorotype,"status_prototype_identities",n.slice(0,o).concat(n.slice(o+1)))}else e.$set(e.scan_action_prorotype,"status_prototype_identities",r)}}}),i("label",[1==t.polarity?i("i",{staticClass:"plus icon"}):0==t.polarity?i("i",{staticClass:"minus icon"}):e._e(),e._v("\n                                                "+e._s(t.name||"-")+"\n                                            ")])])]),i("td",[e._v(e._s(t.material_class_name||e.$t("ui.general.no")))])])}))])}))])])]),i("button",{staticClass:"ui positive basic fluid button",on:{click:function(t){return t.preventDefault(),e.update_scan_action_prototype(t)}}},[e._v("\n            "+e._s(e.$t("ui.general.update"))+"\n        ")])])],1)},PE=[];function SE(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function NE(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){SE(r,n,a,s,o,"next",e)}function o(e){SE(r,n,a,s,o,"throw",e)}s(void 0)})}}var AE={name:"EditScanActionPrototype",props:{},data:function(){return{is_initialized:!1,is_loading:!1,scan_action_prorotype:{description_required_scope:[]},status_prototypes:[],errors:[],objectized_description_required_scope:[],objectized_description_options:[]}},created:function(){},mounted:function(){this.init()},watch:{objectized_description_required_scope:{handler:function(e,t){var i=_.map(e,function(e){return e.value});this.scan_action_prorotype&&(this.scan_action_prorotype.description_required_scope=i)},deep:!0},objectized_description_options:{handler:function(e,t){var i=_.map(e,function(e){return e.value});this.scan_action_prorotype&&(this.scan_action_prorotype.description_options=i)},deep:!0}},computed:{scope_grouped_status_prototypes:function(){return _.groupBy(this.status_prototypes,"scope")},condition_status_prototypes:function(){return _.filter(this.status_prototypes,function(e){return"condition"==e.scope})}},methods:{init:function(){var e=NE(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,t.is_loading=!1,t.scan_action_prorotype={},t.errors=[],e()});case 3:return e.next=5,t.fetch_status_prototypes();case 5:return e.next=7,t.fetch_scan_action_prototype();case 7:return e.next=9,new Promise(function(e){t.is_initialized=!0});case 9:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_scan_action_prototype:function(){var e=this;e.is_loading=!0;var t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_scan_action_prototype).parse({scan_action_prototype_identity:e.$route.params.identity},"");return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.scan_action_prorotype=t.data.scan_action_prototype,e.scan_action_prorotype.status_prototype_identities=_.map(e.scan_action_prorotype.status_prototypes,"identity"),e.objectized_description_required_scope=_.map(e.scan_action_prorotype.description_required_scope,function(e){return{value:e}}),e.objectized_description_options=_.map(e.scan_action_prorotype.description_options,function(e){return{value:e}})):(console.log(t.data),e.$noty.error(t.data))})["catch"](function(t){console.log(t.response),e.$noty.error(t.response)}).then(function(){setTimeout(function(){e.is_loading=!1},300)})},fetch_status_prototypes:function(){var e=this;e.is_loading=!0;var t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_status_prototypes).parse({},"?"+object_to_query({pagination:!1}));return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?e.status_prototypes=t.data.status_prototypes:(console.log(t.data),e.$noty.error(t.data))})["catch"](function(t){console.log(t.response),e.$noty.error(t.response)}).then(function(){e.is_loading=!1})},update_scan_action_prototype:function(){var e=this;e.is_loading=!0;var t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_scan_action_prototype_update).parse({scan_action_prototype_identity:e.$route.params.identity},"");return axios.post(t,e.scan_action_prorotype,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$router.push({name:"scan_action_prototypes"}),e.$noty.success(e.$t("ui.notifications.success.update__name",{name:e.$t("models.scan_action_prototypes")}))):(console.log(t.data),e.$noty.error(t.data))})["catch"](function(t){console.log(t.response),e.$noty.error(t.response)}).then(function(){setTimeout(function(){e.is_loading=!1},300)})},add_element:function(e,t){var i=this;e.push({value:""}),i.$nextTick(function(){$(i.$refs[t]).focus()})},remove_element:function(e,t,i){var n=this;""==e[t].value&&(n.$delete(e,t),n.$nextTick(function(){$(n.$refs[i]).focus()}))},human_scope:function(e){switch(e){case"operator":return"內部貨況(Operator)";case"forwarder":return"客戶貨況(Forwarder)";case"public":return"公開貨況(Public)";case"mark":return"標記(Mark)";case"condition":return"流程控制(Condition)";case"system":return"系統(System)";default:return"不明(Unknown)"}}},components:{ErrorMessages:wc}},EE=AE,qE=Object(lt["a"])(EE,xE,PE,!1,null,null,null),zE=qE.exports,jE="scan_action_prototypes",RE="new_scan_action_prototype",IE="edit_scan_action_prototype",TE="scan_action_prototype",OE=[{path:"",component:cE,name:"scan_action_prototypes",meta:{api_name:"api_v1_provider_scan_action_prototypes",breadcrumb:[jE],btns:[RE]}},{path:"new",component:CE,name:"new_scan_action_prototype",meta:{api_name:"api_v1_provider_scan_action_prototype_create",breadcrumb:[jE,RE]}},{path:":identity/edit",component:zE,name:"edit_scan_action_prototype",meta:{api_name:"api_v1_provider_scan_action_prototype_update",breadcrumb:[jE,IE]}},{path:"show/:identity",component:vE,name:"scan_action_prototype",meta:{api_name:"api_v1_provider_scan_action_prototype",breadcrumb:[jE,TE]}}],LE=OE,DE=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui segment",attrs:{id:"provider"}},[i("h1",{staticClass:"ui header"},[e._v("\n        "+e._s(e.$t("ui.pages.nodes.company_information"))+"\n    ")]),i("div",{staticClass:"ui divider"}),e.is_initialized?i("div",{staticClass:"ui form"},[i("div",{staticClass:"ui grid",staticStyle:{"margin-top":"0","margin-bottom":"0"}},[i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.nodes.tax")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.provider_node.tax,expression:"provider_node.tax"}],attrs:{type:"text"},domProps:{value:e.provider_node.tax},on:{input:function(t){t.target.composing||e.$set(e.provider_node,"tax",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.nodes.company_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.provider_node.company_name,expression:"provider_node.company_name"}],attrs:{type:"text"},domProps:{value:e.provider_node.company_name},on:{input:function(t){t.target.composing||e.$set(e.provider_node,"company_name",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.nodes.company_short_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.provider_node.company_short_name,expression:"provider_node.company_short_name"}],attrs:{type:"text"},domProps:{value:e.provider_node.company_short_name},on:{input:function(t){t.target.composing||e.$set(e.provider_node,"company_short_name",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.nodes.company_en_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.provider_node.company_en_name,expression:"provider_node.company_en_name"}],attrs:{type:"text"},domProps:{value:e.provider_node.company_en_name},on:{input:function(t){t.target.composing||e.$set(e.provider_node,"company_en_name",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.nodes.email")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.provider_node.email,expression:"provider_node.email"}],attrs:{type:"text"},domProps:{value:e.provider_node.email},on:{input:function(t){t.target.composing||e.$set(e.provider_node,"email",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.nodes.phone")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.provider_node.phone,expression:"provider_node.phone"}],attrs:{type:"text"},domProps:{value:e.provider_node.phone},on:{input:function(t){t.target.composing||e.$set(e.provider_node,"phone",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.nodes.fax")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.provider_node.fax,expression:"provider_node.fax"}],attrs:{type:"text"},domProps:{value:e.provider_node.fax},on:{input:function(t){t.target.composing||e.$set(e.provider_node,"fax",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.nodes.customer_service_hotline")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.provider_node.customer_service_hotline,expression:"provider_node.customer_service_hotline"}],attrs:{type:"text"},domProps:{value:e.provider_node.customer_service_hotline},on:{input:function(t){t.target.composing||e.$set(e.provider_node,"customer_service_hotline",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.nodes.website_url")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.provider_node.website_url,expression:"provider_node.website_url"}],attrs:{type:"text"},domProps:{value:e.provider_node.website_url},on:{input:function(t){t.target.composing||e.$set(e.provider_node,"website_url",t.target.value)}}})])]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui blue button",on:{click:e.update_provider_node}},[e._v("\n            "+e._s(e.$t("ui.general.update"))+"\n        ")])]):i("div",{staticClass:"ui active inverted dimmer"},[i("div",{staticClass:"ui text loader"},[e._v("\n            "+e._s(e.$t("ui.general.initializing"))+"\n        ")])])])},BE=[];function ME(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function UE(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){ME(r,n,a,s,o,"next",e)}function o(e){ME(r,n,a,s,o,"throw",e)}s(void 0)})}}var FE={name:"ProviderNodeMain",data:function(){return{is_initialized:!1,provider_node:{}}},computed:{},created:function(){},mounted:function(){var e=this;e.init(),e.$bus.$off("init"),e.$bus.$on("init",function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.init()}.bind(this))},beforeDestroy:function(){this.$bus.$off("init")},watch:{},methods:{init:function(){var e=UE(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,t.fetch_provider_node();case 5:return e.next=7,new Promise(function(e){t.is_initialized=!0,e()});case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_provider_node:function(){var e=this,t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_me).parse({},"");return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.provider_node=t.data.node})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.nodes"),reason:": "+t}))})},update_provider_node:function(){var e=this,t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_me_update).parse({},""),i=e.provider_node;return axios.post(t,i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$noty.success(e.$t("ui.notifications.success.update__name",{name:e.$t("models.nodes")})),e.provider_node=t.data.node,e.$store.dispatch("provider/fetch_node")):e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.nodes")}))})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.nodes")}))})}},components:{}},GE=FE,HE=Object(lt["a"])(GE,DE,BE,!1,null,null,null),YE=HE.exports,KE="provider_node",WE=[{path:"",component:YE,name:"provider_node",meta:{api_name:"api_v1_provider_update",breadcrumb:[KE]}}],VE=WE;r["default"].use(rt["a"]);var XE=[{path:"",component:lo,name:"provider_index"},{path:"demo",component:Ho,name:"provider_demo"},{path:"settings",component:pv,children:rb},{path:"partitions",component:P_,children:El},{path:"uploader",component:wv,children:Vb},{path:"assets",component:Mv,children:By},{path:"stations",component:rc,children:g_},{path:"status_prototypes",component:Vv,children:ww},{path:"materials",component:nh,children:y$},{path:"staffs",component:Gl,children:Iu},{path:"permission_groups",component:uh,children:rk},{path:"roles",component:Fu,children:Ed},{path:"core_waybills",component:bh,children:mC},{path:"packer",component:xh,children:kx},{path:"operations",component:jh,children:LP},{path:"appraisals",component:Kh,children:yS},{path:"user_logs",component:tg,children:aN},{path:"driver_commission_policies",component:fg,children:ON},{path:"driver_commission_reports",component:Ag,children:TA},{path:"scan_action_prototypes",component:Og,children:LE},{path:"provider_node",component:Qg,children:VE},{path:"distributions",component:Ld,children:qp},{path:"driver_commissions",component:Dp,children:im},{path:"customers",component:lm,children:tv},{path:"routes",component:Qo,name:"routes"},{path:"permission_denied",component:ov,name:"permission_denied"}],QE=XE,ZE=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"index"}},[i("h3",[e._v("\n        "+e._s(e.$t("ui.pages.customer_home.title"))+"\n    ")])])},JE=[],eq={props:{},data:function(){return{is_loading:!1}},mounted:function(){var e=this;e.set_breadcrumbs()},watch:{$route:function(e,t){var i=this;i.set_breadcrumbs()}},methods:{set_breadcrumbs:function(){var e=this;e.$store.state.breadcrumbs=[]}},components:{},computed:{}},tq=eq,iq=Object(lt["a"])(tq,ZE,JE,!1,null,"12190f34",null),nq=iq.exports,aq=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"uploader_layout"}},[e.is_initialized?i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1):i("div",[i("div",{staticClass:"ui inverted dimmer transition visible active",staticStyle:{display:"block !important"}},[i("div",{staticClass:"ui text loader"},[e._v(e._s(e.$t("ui.general.initializing")))])])])],1)},rq=[];function sq(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function oq(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){sq(r,n,a,s,o,"next",e)}function o(e){sq(r,n,a,s,o,"throw",e)}s(void 0)})}}var cq={name:"CustomerUploaderLayout",data:function(){return{is_initialized:!1}},computed:{},created:function(){this.init()},mounted:function(){},methods:{init:function(){var e=oq(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,console.log(t.$store),e.next=4,t.$store.dispatch("customer/uploader_module/set_urls");case 4:return e.next=6,new Promise(function(e){t.is_initialized=!0,e()});case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{}},_q=cq,lq=Object(lt["a"])(_q,aq,rq,!1,null,null,null),uq=lq.exports,dq=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"uploader"}},[i("Steps",{tag:"div",attrs:{current_step:e.current_step,checked_count:e.checked_operation_count,uploaded_count:e.uploaded_operation_count,data_count:e.operations_count,is_processing:e.is_processing}}),i("div",{staticClass:"ui divider"}),e.is_processing?i("div",{staticClass:"ui indicating complete progress",attrs:{id:"index-progress-bar"}},[e._m(0)]):e._e(),i("ErrorBox",{attrs:{errors:e.errors}}),e.is_initialized?i("div",{staticClass:"basic_options"},[i("div",{staticClass:"ui top attached mini segment",class:{green:e.basic_options_setted,orange:!e.basic_options_setted}},[i("h3",{staticClass:"ui header"},[i("i",{staticClass:"upload icon"}),i("div",{staticClass:"content"},[e._v("\n                    "+e._s(e.$t("ui.pages.uploader.upload_operation_list"))+"\n                ")])])]),i("div",{staticClass:"ui bottom attached segment"},[i("div",{staticClass:"ui grid"},[i("div",{staticClass:"eight wide column"},[i("div",{staticClass:"ui segments"},[i("div",{staticClass:"ui segment"},[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.file.name"))+"：\n                            "),i("span",[e._v(e._s(e.file_name||"N/A"))])]),i("div",{staticClass:"ui segment"},[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.file.size"))+"：\n                            "),i("span",[e._v(e._s(e.file_size_in_bytes)+" Bytes / 1024000 Bytes")])]),i("div",{staticClass:"ui segment"},[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.file.path"))+"：\n                            "),e.is_file_uploaded?i("span",[i("a",{attrs:{href:e.file_s3_path}},[e._v(e._s(e.file_name))])]):i("span",[e._v("N/A")])]),i("div",{staticClass:"ui segment"},[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.file.upload"))+"：\n                            "),e.is_file_uploaded?i("span",[i("i",{staticClass:"check icon"}),e._v("\n                                "+e._s(e.$t("ui.pages.uploader.file.complete"))+"\n                            ")]):i("span",[i("i",{staticClass:"warning icon"}),e._v("\n                                "+e._s(e.$t("ui.pages.uploader.file.not_uploaded"))+"\n                            ")])])])]),e.basic_options_setted?i("div",{staticClass:"eight wide column ui form"},[i("div",{staticClass:"field"},[i("label",[e._v("\n                            "+e._s(e.$t("ui.general.please_select"))+"\n                            "),e._v("\n                            "+e._s(e.$t("ui.pages.uploader.operation_list"))+"\n                        ")]),i("span",[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.selected"))+"\n                            【"+e._s(e.file_name)+"】\n                        ")])]),i("div",{staticClass:"field"},[i("label",[e._v("\n                            "+e._s(e.$t("ui.general.please_select"))+"\n                            "),e._v("\n                            "+e._s(e.$t("ui.pages.uploader.contract"))+"\n                        ")]),i("span",[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.selected"))+"\n                            "+e._s(e.requester_contract.name)+"\n                        ")])]),i("div",{staticClass:"field"},[i("label",[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.your_actions"))+"\n                        ")]),i("span",[e._v(e._s(e.current_converter.name))])])]):e._e()]),i("div",{staticClass:"ui divider"}),e.basic_options_setted?i("div",[(e.is_processing||!e.can_next_step)&&e.current_step<4?i("a",{staticClass:"ui large fluid primary button disabled"},[e._v("\n                    "+e._s(e.$t("ui.general.initializing"))+"\n                ")]):e.current_step<4?i("a",{staticClass:"ui large fluid primary button",on:{click:function(t){e.steps_callback_center(e.current_step)}}},[e._v("\n                    "+e._s(e.$t("ui.general.submit"))+"\n                ")]):e._e()]):e._e(),i("div",{staticClass:"clear"})])]):i("div",[i("div",{staticClass:"ui inverted dimmer transition visible active",staticStyle:{display:"block !important"}},[i("div",{staticClass:"ui text loader"},[e._v(e._s(e.$t("ui.general.initializing")))])])]),i("div",{staticClass:"ui divider"}),e.current_step>=4?i("div",[i("div",{staticClass:"ui icon positive message"},[i("i",{staticClass:"check icon"}),i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                    "+e._s(e.$t("ui.pages.uploader.upload_detail_completed"))+"\n                ")]),i("p",[i("button",{staticClass:"ui primary button",on:{click:e.init}},[e._v("\n                        "+e._s(e.$t("ui.pages.uploader.continue_next_file"))+"\n                    ")])])])])]):e._e(),i("div",{staticClass:"operations_dashboard"},e._l(e.receivers,function(e,t){return i("Operation",{tag:"div",attrs:{receiver:e,index:t}})})),e.is_initialized?i("div",{ref:"operation_target_selector",staticClass:"ui dimmer"},[i("div",{ref:"converters",staticClass:"content"},[i("h1",[e._v("\n                "+e._s(e.$t("ui.pages.uploader.dimmer.what_do_you_want_now"))+"...\n            ")]),i("div",{staticClass:"ui link cards"},e._l(e.converters,function(t){return i("div",{staticClass:"card"},[i("div",{staticClass:"content",on:{click:function(i){e.$store.commit(e.current_scope+"/uploader_module/set_current_converter",t),e.$(e.$refs.converters).hide(),e.$(e.$refs.file_selector).show()}}},[i("div",{staticClass:"header"},[e._v("\n                            "+e._s(t.name)+"\n                        ")]),i("div",{staticClass:"description"},[e._v("\n                            "+e._s(t.note)+"\n                        ")])]),t.sample_file_url?i("div",{staticClass:"extra content"},[i("a",{staticClass:"right floated star",attrs:{href:t.sample_file_url}},[e._m(1,!0),i("span",[e._v("\n                                "+e._s(e.$t("ui.pages.uploader.dimmer.download_sample_file"))+"\n                            ")])])]):e._e()])}))]),i("div",{ref:"file_selector",staticClass:"content",staticStyle:{display:"none"}},[i("h1",[e._v("\n                "+e._s(e.$t("ui.pages.uploader.dimmer.please_upload_your_file"))+"...\n            ")]),i("div",{staticClass:"ui link cards"},[i("div",{staticClass:"card"},[i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.dimmer.select_file"))+"\n                        ")]),i("div",{staticClass:"description"},[i("input",{ref:"file_input_field",attrs:{type:"file"},on:{change:function(t){e.select_file(t)}}})])])]),i("div",{staticClass:"card",on:{click:e.init}},[i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.redo"))+"\n                        ")]),i("div",{staticClass:"description"},[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.dimmer.clicked_this_card_redo"))+"\n                        ")])])])])]),i("div",{ref:"cotract_selector",staticClass:"content",staticStyle:{display:"none"}},[i("h1",[e._v("\n                "+e._s(e.$t("ui.general.please_select"))+"\n                "+e._s(e.$t("models.attributes.core_waybills.sender"))+"...\n            ")]),i("div",{staticClass:"ui link cards"},[i("div",{staticClass:"card"},[i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection dropdown"},[i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"default text"},[e._v("\n                                    "+e._s(e.$t("ui.general.please_select"))+"\n                                    "+e._s(e.$t("models.attributes.core_waybills.sender"))+"\n                                ")]),i("div",{staticClass:"menu"},e._l(e.contracts,function(t){return i("div",{staticClass:"item",on:{click:function(i){e.$store.commit(e.current_scope+"/uploader_module/set_requester_contract",t),e.$(e.$refs.cotract_selector).hide(),e.$(e.$refs.loader).show(),e.steps_callback_center(1)}}},[e._v("\n                                            "+e._s(t.name)+"\n                                    ")])}))])])])]),i("div",{staticClass:"card",on:{click:e.init}},[i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.redo"))+"\n                        ")]),i("div",{staticClass:"description"},[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.dimmer.clicked_this_card_redo"))+"\n                        ")])])])])]),i("div",{ref:"loader",staticClass:"content",staticStyle:{display:"none"}},[i("div",{staticClass:"ui text loader"},[e._v("Loading")])])]):e._e(),i("BackToTopButton",{tag:"div"})],1)},pq=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"bar"},[i("div",{staticClass:"progress"})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui circular icon button"},[i("i",{staticClass:"download icon"})])}];function mq(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function fq(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){mq(r,n,a,s,o,"next",e)}function o(e){mq(r,n,a,s,o,"throw",e)}s(void 0)})}}var vq={name:"CustomerUploaderLayout",data:function(){return{is_initialized:!1,is_processing:!1,can_next_step:!0,basic_options_setted:!1,operations_count:0,complete_operation_count:0,checked_operation_count:0,uploaded_operation_count:0,current_step:1,current_operation_index:0,excel_file:null,file_name:null,file_size_in_bytes:0,file_s3_path:null,is_file_uploaded:!1,is_queue_mode:!0,errors:[]}},computed:{current_scope:function(){return this.$store.state.current_scope},current_scoped_store:function(){return this.$store.state[this.current_scope]},receivers:function(){return this.current_scoped_store.uploader_module.receivers},open_file_url:function(){return this.current_scoped_store.uploader_module.open_file_url},file_upload_url:function(){return this.current_scoped_store.uploader_module.file_upload_url},converters:function(){return this.current_scoped_store.uploader_module.converters},current_converter:function(){return this.current_scoped_store.uploader_module.current_converter},requester_contract:function(){return this.current_scoped_store.uploader_module.requester_contract},contracts:function(){return this.current_scoped_store.customer.contracts}},created:function(){},mounted:function(){var e=this;e.init(),e.$bus.$off("init"),e.$bus.$on("init",function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.init()}.bind(this)),e.$bus.$off("to_index"),e.$bus.$on("to_index",function(t,i){switch(t){case"validate_waybills":e.checked_operation_count++,e.receivers[i+1]?(e.current_operation_index++,e.$bus.$emit("to_operations","validate_waybills",e.current_operation_index)):e.steps_callback_center("validate_waybills");break;case"create_operation":e.uploaded_operation_count++,e.receivers[i+1]?(e.current_operation_index++,e.$bus.$emit("to_operations","create_operation",e.current_operation_index)):e.steps_callback_center("create_operations");break;case"complete":e.complete_operation_count++,$("#index-progress-bar").progress({duration:300,value:e.complete_operation_count,total:e.operations_count});case"interrupt":e.steps_callback_center("interrupt");default:}}.bind(this))},beforeDestroy:function(){this.$bus.$off("init")},methods:{init:function(){var e=fq(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){$(t.$refs.operation_target_selector).dimmer("hide"),e()});case 3:return e.next=5,new Promise(function(e){t.is_initialized=!1,t.is_processing=!1,t.can_next_step=!0,t.basic_options_setted=!1,t.operations_count=0,t.complete_operation_count=0,t.checked_operation_count=0,t.uploaded_operation_count=0,t.current_step=1,t.current_operation_index=0,t.excel_file=null,t.file_name=null,t.file_size_in_bytes=0,t.file_s3_path=null,t.is_file_uploaded=!1,t.is_queue_mode=!0,t.errors=[],e()});case 5:return e.next=7,t.$store.commit(t.current_scope+"/uploader_module/init");case 7:return e.next=9,t.$store.dispatch(t.current_scope+"/uploader_module/set_urls");case 9:return e.next=11,t.$store.dispatch(t.current_scope+"/uploader_module/fetch_requester_node");case 11:return e.next=13,t.$store.dispatch(t.current_scope+"/uploader_module/fetch_operator_node");case 13:return e.next=15,t.$store.dispatch(t.current_scope+"/uploader_module/fetch_converters");case 15:return e.next=17,new Promise(function(e){t.$noty.information(t.$t("ui.page_titles.uploader")+" "+t.$t("ui.general.initialize_complete")),t.is_initialized=!0,e()});case 17:return e.next=19,new Promise(function(e){$(t.$refs.operation_target_selector).dimmer("show"),e()});case 19:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),select_file:function(e){var t=this;t.excel_file=e.target.files[0],t.file_name=t.excel_file.name,t.file_size_in_bytes=t.excel_file.size,$(t.$refs.file_input_field).val(""),$(t.$refs.file_selector).hide(),1==t.contracts.length?(t.$store.commit(t.current_scope+"/uploader_module/set_requester_contract",t.contracts[0]),$(t.$refs.loader).show(),t.steps_callback_center(1)):$(t.$refs.cotract_selector).show()},open_file:function(){var e=this;e.is_processing=!0,e.errors=[],null!=e.excel_file&&void 0!=e.excel_file||e.errors.push("請先選擇檔案");var t=new RestUrl(e.open_file_url).parse({converter_identity:e.$store.state.customer.uploader_module.current_converter.identity},"");if(0==e.errors.length){var i=new FormData;i.append("excel_file",e.excel_file),i.append("file_name",e.file_name),i.append("file_size_in_bytes",e.file_size_in_bytes),i.append("provider",e.current_converter.provider),i.append("category",e.current_converter.category),axios.post(t,i,{headers:{Authorization:localStorage.getItem("customer_authentication_token")}}).then(function(t){"failure"==t.data.status?(_.forEach(t.data.errors,function(t,i){_.forEach(t,function(t,i){e.errors.push("開啟文件失敗: "+t)})}),e.steps_callback_center("interrupt")):(e.$store.commit(e.current_scope+"/uploader_module/set_conversions",t.data.conversions),e.$store.commit(e.current_scope+"/uploader_module/set_waybill_raw_datas",{"託運":t.data.human_datas}),e.$store.commit(e.current_scope+"/uploader_module/set_waybill_processed_datas",{"託運":t.data.processed_datas}),e.$store.commit(e.current_scope+"/uploader_module/set_receivers",["託運"]),e.operations_count=e.receivers.length,e.basic_options_setted=!0,e.steps_callback_center("open_file"),$(e.$refs.operation_target_selector).dimmer("hide"),$(e.$refs.loader).hide(),$(e.$refs.converter_selector).show())})["catch"](function(t){_.forEach(response.data.errors,function(t,i){_.forEach(t,function(t,i){e.errors.push(e.$t("ui.pages.uploader.open_file")+" "+e.$t("ui.general.failure")+": "+t)})}),e.steps_callback_center("interrupt")})}else e.steps_callback_center("interrupt")},upload_file:function(e){var t=this;if(null!==t.excel_file&&void 0!==t.excel_file)if(1==t.is_file_uploaded)t.steps_callback_center("upload_file");else{var i=new FormData;i.append("file",t.excel_file),axios.post(t.file_upload_url,i).then(function(e){t.is_file_uploaded=!0,t.file_s3_path=decodeURIComponent(e.data.link),t.$noty.success(t.$t("ui.notifications.success.upload__name",{name:t.$t("ui.general.file")})),t.steps_callback_center("upload_file")})["catch"](function(e){t.$noty.error(t.$t("ui.notifications.error.upload__name",{name:t.$t("ui.general.file")})),t.errors.push(t.$t("ui.notifications.error.upload__name",{name:t.$t("ui.general.file"),reason:": "+t.$t("ui.general.network_abnormality")})),t.steps_callback_center("interrupt")})}else t.errors.push(t.$t("ui.general.no")+" "+t.$t("ui.pages.uploader.dimmer.select_file")),t.steps_callback_center("interrupt")},validate_waybills:function(){var e=this;e.$bus.$emit("to_operations","validate_waybills",e.current_operation_index)},create_operations:function(){var e=this;e.$bus.$emit("to_operations","create_operation",e.current_operation_index)},steps_callback_center:function(e){var t=this;switch(e){case 1:t.is_processing=!0,t.open_file();break;case 2:t.is_processing=!0,t.validate_waybills();break;case 3:t.is_processing=!0,t.upload_file();break;case 4:var i=_.filter(t.$children,function(e){return"Operation"==e.$options._componentTag});1==i.length&&t.$router.push({name:"show_customer_operation",params:{identity:i[0].operation.identity},query:{print_label:!0}});break;case"open_file":t.current_step++,t.is_processing=!1,t.$nextTick(function(){t.steps_callback_center(2)});break;case"validate_waybills":t.current_operation_index=0,t.complete_operation_count=0,t.is_processing=!1,t.current_step++;break;case"upload_file":t.create_operations();break;case"create_operations":t.current_operation_index=0,t.complete_operation_count=0,t.is_processing=!1,t.current_step++,t.$nextTick(function(){t.steps_callback_center(4)});break;case"interrupt":$(t.$refs.operation_target_selector).dimmer("show"),$(t.$refs.operation_target_selector).dimmer("hide"),t.is_processing=!1;break;default:}}},components:{Steps:pb,Operation:Rb,ErrorBox:Bb,BackToTopButton:Ll}},hq=vq,gq=(n("4a3e"),n("1b64"),Object(lt["a"])(hq,dq,pq,!1,null,"be799538",null)),bq=gq.exports,yq="uploader",wq=[{path:":operation_identity?",component:bq,name:"customer_uploader",meta:{breadcrumb:[yq]}}],$q=wq,kq=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"operations_layout"}},[i("ErrorBox",{tag:"div",attrs:{errors:e.errors}}),e.is_initialized?i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1):i("div",{staticClass:"ui active centered inline large loader"})],1)},Cq=[],xq=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"errors"},[e.errors.length>0?i("div",{staticClass:"ui red icon message"},[i("i",{staticClass:"warning icon"}),i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                "+e._s(e.$t("ui.notifications.error.please_handle_errors"))+"\n            ")]),e._l(e.errors,function(t,n){return i("p",[e._v(e._s(n+1)+". "+e._s(t))])})],2)]):e._e()])},Pq=[],Sq={props:{errors:Array},data:function(){return{}},mounted:function(){},computed:{},methods:{},components:{}},Nq=Sq,Aq=Object(lt["a"])(Nq,xq,Pq,!1,null,"735f8154",null),Eq=Aq.exports;function qq(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function zq(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){qq(r,n,a,s,o,"next",e)}function o(e){qq(r,n,a,s,o,"throw",e)}s(void 0)})}}var jq={data:function(){return{is_initialized:!1,errors:[]}},created:function(){this.init()},mounted:function(){},watch:{},computed:{},methods:{init:function(){var e=zq(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,new Promise(function(e){t.is_initialized=!0,e()});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{ErrorBox:Eq}},Rq=jq,Iq=Object(lt["a"])(Rq,kq,Cq,!1,null,null,null),Tq=Iq.exports,Oq=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"core_waybills"}},[i("div",{staticClass:"ui segment"},[i("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[i("div"),i("div",[e.is_show_filter?e._e():i("div",{staticStyle:{display:"inline"}},[i("div",{staticClass:"ui right labeled left icon input"},[i("i",{staticClass:"search icon",on:{click:function(t){e.core_waybills_filter()}}}),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter[e.current_store.quick_filter_key.number],expression:"filter[current_store.quick_filter_key.number]"}],attrs:{placeholder:e.$t("ui.pages.core_waybills.filter.find__key",{key:e.$t("models.attributes.core_waybills."+e.current_store.quick_filter_key.number)}),type:"text"},domProps:{value:e.filter[e.current_store.quick_filter_key.number]},on:{change:function(t){e.$forceUpdate()},keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.core_waybills_filter()},input:function(t){t.target.composing||e.$set(e.filter,e.current_store.quick_filter_key.number,t.target.value)}}}),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui dropdown label no_search"},[e._l(e.current_store.quick_filters.number,function(t){return e.current_store.quick_filter_key.number==t?i("div",{staticClass:"text"},[e._v("\n                                "+e._s(e.$t("models.attributes.core_waybills."+t))+"\n                            ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.current_store.quick_filters.number,function(t){return i("div",{staticClass:"item",class:{"selected active":e.current_store.quick_filter_key.number==t},on:{click:function(i){e.set_quick_filter_key("number",t)}}},[e._v("\n                                    "+e._s(e.$t("models.attributes.core_waybills."+t))+"\n                                ")])}))],2)])]),e.is_show_filter?i("div",{staticStyle:{display:"inline"}},[i("div",{staticClass:"ui basic red icon button",on:{click:function(t){e.$store.dispatch("customer/core_waybills_module/clear_filter_url_params",{operation_number:e.$route.params.operation_number||null})}}},[i("i",{staticClass:"close icon"}),e._v("\n                        "+e._s(e.$t("ui.general.clear"))+"\n                    ")])]):e._e(),i("div",{staticClass:"ui icon buttons",staticStyle:{"vertical-align":"top","margin-left":"6px",height:"37px"}},[i("div",{staticClass:"ui button",class:{active:e.is_show_filter},attrs:{"data-tooltip":e.$t("ui.general.advanced")},on:{click:function(t){e.current_store.is_show_filter=!e.is_show_filter}}},[i("i",{staticClass:"icon",class:{minus:e.is_show_filter,bars:!e.is_show_filter}})])])])]),i("CustomerDetailFilter",{staticClass:"ui transition hidden filter detail"}),e.is_show_filter?i("div",{staticClass:"right floated"},[i("div",{staticClass:"ui button",on:{click:function(t){e.fetch_core_waybills_csv()}}},[i("i",{staticClass:"file icon"}),e._v("\n                "+e._s(e.$t("ui.pages.core_waybills.export_csv_file"))+"\n            ")]),i("div",{staticClass:"ui button",on:{click:function(t){e.fetch_core_waybills_csv("clearance")}}},[i("i",{staticClass:"file alternate outline icon"}),e._v("\n                "+e._s(e.$t("ui.pages.core_waybills.export_clearance_csv_file"))+"\n            ")]),i("div",{staticClass:"ui icon blue button",on:{click:function(t){e.core_waybills_filter()}}},[i("i",{staticClass:"search icon"}),e._v("\n                "+e._s(e.$t("ui.general.search"))+"\n            ")])]):e._e(),i("div",{staticClass:"clear"})],1),i("div",{staticStyle:{margin:"6px 0"}},e._l(e.core_waybills,function(t){return e.is_initialized?i("CoreWaybill",{key:t.identity,attrs:{core_waybill:t,template:"card",is_auto_print:!1,is_can_update:!1,is_can_print_label:!1,is_show_change_template_btns:!1,cant_update_field_names:[],active_button:{to_detail_route_name:e.$route.params.operation_number?"customer_show_core_waybill_operation":"customer_show_core_waybill"},card:{is_simple_form:!1,is_half_style:!0,is_vertical:!0,is_show_note:!0}}}):e._e()})),!e.is_initialized||e.is_processing?i("div",{staticClass:"ui segments core_waybill",staticStyle:{"text-align":"center",height:"100px"}},[i("div",{staticClass:"ui active inverted dimmer"},[i("div",{staticClass:"ui text loader"},[i("h3",[e._v("\n                    "+e._s(e.$t("ui.general.initializing"))+"\n                ")])])])]):e.error_message?i("div",{staticClass:"ui red raised segment center aligned"},[i("h2",[e._v("\n            "+e._s(e.error_message)+"\n        ")])]):e._e(),i("div",{staticClass:"clear"}),e.core_waybills.length?i("Paginator",{attrs:{total_pages:e.current_store.total_pages,current_page:e.current_store.current_page}}):e._e()],1)},Lq=[],Dq=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"filter"},[i("div",{staticClass:"ui form",on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$parent.core_waybills_filter()}}},[i("div",{staticClass:"ui list"},[i("div",{staticClass:"item"},[i("i",{staticClass:"barcode big icon pointer",on:{click:function(t){e.is_show_numbers=!e.is_show_numbers}}}),i("div",{staticClass:"content"},[i("div",{staticClass:"header pointer"},[i("h3",{staticStyle:{"z-index":"2"},on:{click:function(t){e.is_show_numbers=!e.is_show_numbers}}},[e._v("\n                            "+e._s(e.$t("ui.pages.core_waybills.filter.numbers"))+"\n                            "),i("i",{staticClass:"icon",class:{"caret down":!e.is_show_numbers,"caret up":e.is_show_numbers},staticStyle:{margin:"0"}})])]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.is_show_numbers,expression:"is_show_numbers"}]},[i("div",{staticClass:"filter_border"}),i("div",{staticClass:"two fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.number")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.number,expression:"filter.number"}],attrs:{type:"text"},domProps:{value:e.filter.number},on:{input:function(t){t.target.composing||e.$set(e.filter,"number",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.operation_number")))]),e.$route.params.operation_number?i("div",{staticClass:"ui segment",staticStyle:{margin:"0",padding:"9px 12px"}},[e._v("\n                                    "+e._s(e.$route.params.operation_number)+"\n                                ")]):i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.operation.number,expression:"filter.operation.number"}],attrs:{type:"text"},domProps:{value:e.filter.operation.number},on:{input:function(t){t.target.composing||e.$set(e.filter.operation,"number",t.target.value)}}})])]),i("div",{staticClass:"two fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.original_number")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.original_number,expression:"filter.original_number"}],attrs:{type:"text"},domProps:{value:e.filter.original_number},on:{input:function(t){t.target.composing||e.$set(e.filter,"original_number",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.tracking_number")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.tracking_number,expression:"filter.tracking_number"}],attrs:{type:"text"},domProps:{value:e.filter.tracking_number},on:{input:function(t){t.target.composing||e.$set(e.filter,"tracking_number",t.target.value)}}})])])])])]),i("div",{staticClass:"item"},[i("i",{staticClass:"file alternate big icon pointer",on:{click:function(t){e.is_show_info=!e.is_show_info}}}),i("div",{staticClass:"content"},[i("div",{staticClass:"header pointer"},[i("h3",{on:{click:function(t){e.is_show_info=!e.is_show_info}}},[e._v("\n                            "+e._s(e.$t("ui.pages.core_waybills.filter.waybill_content"))+"\n                            "),i("i",{staticClass:"icon",class:{"caret down":!e.is_show_info,"caret up":e.is_show_info},staticStyle:{margin:"0"}})])]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.is_show_info,expression:"is_show_info"}]},[i("div",{staticClass:"filter_border"}),i("div",{staticClass:"two fields"},[i("div",{staticClass:"field blue"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.consignee_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.consignee_name,expression:"filter.consignee_name"}],attrs:{type:"text"},domProps:{value:e.filter.consignee_name},on:{input:function(t){t.target.composing||e.$set(e.filter,"consignee_name",t.target.value)}}})]),i("div",{staticClass:"field blue"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.consignee_address")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.consignee_address,expression:"filter.consignee_address"}],attrs:{type:"text"},domProps:{value:e.filter.consignee_address},on:{input:function(t){t.target.composing||e.$set(e.filter,"consignee_address",t.target.value)}}})])]),i("div",{staticClass:"three fields"},[i("div",{staticClass:"field blue"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.consignee_phone")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.consignee_phone,expression:"filter.consignee_phone"}],attrs:{type:"text"},domProps:{value:e.filter.consignee_phone},on:{input:function(t){t.target.composing||e.$set(e.filter,"consignee_phone",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.note")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.note,expression:"filter.note"}],attrs:{type:"text"},domProps:{value:e.filter.note},on:{input:function(t){t.target.composing||e.$set(e.filter,"note",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("ui.pages.core_waybills.filter.is_used.true")))]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection dropdown",on:{change:function(t){e.$forceUpdate()}}},[e._l(e.filter_is_used_selections,function(t){return t.boolean==e.filter.is_used?i("div",{staticClass:"text"},[e._v("\n                                        "+e._s(t.name)+"\n                                    ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.filter_is_used_selections,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.is_used==t.boolean},on:{click:function(i){e.filter.is_used=t.boolean}}},[e._v("\n                                            "+e._s(t.name)+"\n                                        ")])}))],2)])]),i("div",{staticClass:"two fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.created_at")))]),i("el-date-picker",{staticStyle:{width:"100%"},attrs:{"unlink-panels":"",type:"daterange",align:"center","start-placeholder":e.$t("ui.el.datepicker.startDate"),"end-placeholder":e.$t("ui.el.datepicker.endDate"),"picker-options":e.$store.state.element_ui_datepicker_daterange_options},model:{value:e.filter.created_duration,callback:function(t){e.$set(e.filter,"created_duration",t)},expression:"filter.created_duration"}})],1),i("div",{staticClass:"field"},[i("label",[e._v("清關日期")]),i("el-date-picker",{staticStyle:{width:"100%"},attrs:{"unlink-panels":"",type:"daterange",align:"center","start-placeholder":e.$t("ui.el.datepicker.startDate"),"end-placeholder":e.$t("ui.el.datepicker.endDate"),"picker-options":e.$store.state.element_ui_datepicker_daterange_options},model:{value:e.filter.status.created_duration,callback:function(t){e.$set(e.filter.status,"created_duration",t)},expression:"filter.status.created_duration"}})],1)])])])])])])])},Bq=[],Mq=n("fa33");function Uq(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function Fq(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){Uq(r,n,a,s,o,"next",e)}function o(e){Uq(r,n,a,s,o,"throw",e)}s(void 0)})}}var Gq={props:{},data:function(){return{is_show_numbers:!0,is_show_info:!0,is_initialized:!1,is_processing:!1,filter_is_used_selections:[{name:this.$t("ui.pages.core_waybills.filter.selected_is_used"),boolean:null},{name:this.$t("ui.pages.core_waybills.filter.is_used.flase"),boolean:"false"},{name:this.$t("ui.pages.core_waybills.filter.is_used.true"),boolean:"true"}]}},computed:{current_store:function(){return this.$store.state.customer.core_waybills_module},filter:function(){return this.current_store.filter}},created:function(){},mounted:function(){},watch:{},methods:{init:function(){var e=Fq(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!0,e()});case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{Datepicker:Mq["a"]}},Hq=Gq,Yq=(n("c3af"),n("26bd"),Object(lt["a"])(Hq,Dq,Bq,!1,null,"2505ef5b",null)),Kq=Yq.exports;function Wq(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function Vq(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){Wq(r,n,a,s,o,"next",e)}function o(e){Wq(r,n,a,s,o,"throw",e)}s(void 0)})}}var Xq={data:function(){return{is_initialized:!1,is_fetching_data:!1,is_processing:!0,error_message:""}},computed:{current_store:function(){return this.$store.state.customer.core_waybills_module},current_operation:function(){return this.current_store.current_operation},core_waybills:function(){return this.current_store.core_waybills},is_show_filter:function(){return this.current_store.is_show_filter},filter:function(){return this.current_store.filter},current_staff:function(){return this.$store.state.customer.current_staff}},created:function(){},mounted:function(){var e=this;e.init(),e.$bus.$off("init"),e.$bus.$on("init",function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.init()}.bind(this))},beforeDestroy:function(){this.$bus.$off("init"),this.current_store.current_page=1},watch:{$route:{handler:function(e,t){var i=e.query.page;i&&(this.current_store.current_page=Number(i),this.$store.dispatch("customer/core_waybills_module/fetch_core_waybills",{page:i}))},immediate:!0},is_show_filter:function(e){$(".ui.transition.filter.detail").transition(e?"fade down":"hide"),e||this.$store.dispatch("customer/core_waybills_module/set_filter_init")}},methods:{init:function(){var e=Vq(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,t.is_initialized=!1,t.is_processing=!0,t.error_message="",e.next=7,t.$store.dispatch("customer/core_waybills_module/set_filter_init");case 7:return e.next=9,new Promise(function(e){t.filter.operation.number=t.$route.params.operation_number||null,e()});case 9:return e.next=11,t.$store.dispatch("customer/core_waybills_module/handle_filter_url_params");case 11:return e.next=13,t.$store.dispatch("customer/core_waybills_module/fetch_core_waybills");case 13:return e.next=15,new Promise(function(e){t.$noty.information(t.$t("ui.page_titles.core_waybills")+" "+t.$t("ui.general.initialize_complete"),300),e()});case 15:e.next=21;break;case 17:e.prev=17,e.t0=e["catch"](1),t.handle_error_message(e.t0),t.is_initialized=!0;case 21:return e.next=23,new Promise(function(e){t.is_initialized=!0,t.is_processing=!1,e()});case 23:case"end":return e.stop()}},e,this,[[1,17]])}));function t(){return e.apply(this,arguments)}return t}(),core_waybills_filter:function(){var e=Vq(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,new Promise(function(e){t.current_store.current_page=1,t.$route.query.page=1,t.current_store.core_waybills={},t.is_processing=!0,t.error_message="",e()});case 4:return e.next=6,t.$store.dispatch("customer/core_waybills_module/handle_filter_url_params");case 6:return e.next=8,t.$store.dispatch("customer/core_waybills_module/fetch_core_waybills");case 8:e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](1),console.log(e.t0),t.handle_error_message(e.t0);case 14:return e.next=16,new Promise(function(e){t.is_processing=!1,e()});case 16:case"end":return e.stop()}},e,this,[[1,10]])}));function t(){return e.apply(this,arguments)}return t}(),handle_error_message:function(e){var t=this;switch(e){case"fetch_core_waybills_no_anything_core_waybills":t.error_message=t.$t("ui.notifications.error.no_data");break;case"fetch_core_waybills_failure":t.error_message=t.$t("ui.pages.core_waybills.errors.fetch_core_waybills_failure");break;case"fetch_staffs_failure":t.error_message=t.$t("ui.pages.core_waybills.errors.fetch_staffs_failure");break;case"fetch_materials_failure":t.error_message=t.$t("ui.pages.core_waybills.errors.fetch_materials_failure");break;case"fetch_scan_action_prototypes_failure":t.error_message=t.$t("ui.pages.core_waybills.errors.fetch_scan_action_prototypes_failure");break;case"fetch_condition_status_prototypes_failure":t.error_message=t.$t("ui.pages.core_waybills.errors.fetch_condition_status_prototypes_failure");break;case"fetch_core_waybills_svg_error":t.error_message=t.$t("ui.pages.core_waybills.errors.fetch_core_waybills_svg_error");break;default:t.error_message=t.$t("ui.notifications.error.exception_error_please_contact_the_system_supplier")+": "+e}},fetch_core_waybills_csv:function(){var e=Vq(regeneratorRuntime.mark(function e(){var t,i,n=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:null,i=this,e.prev=2,e.next=5,i.$store.dispatch("customer/core_waybills_module/fetch_core_waybills_csv",{type:t});case 5:e.next=11;break;case 7:e.prev=7,e.t0=e["catch"](2),console.log(e.t0),i.handle_error_message(e.t0);case 11:return e.next=13,new Promise(function(e){i.is_processing=!1,e()});case 13:case"end":return e.stop()}},e,this,[[2,7]])}));function t(){return e.apply(this,arguments)}return t}(),set_quick_filter_key:function(t,i){try{var n=this;n.current_store.quick_filter_key[t]=i,"status"!=t&&_.forEach(n.current_store.quick_filters[t],function(e){n.filter[e]=null})}catch(e){console.log(e)}}},components:{CustomerDetailFilter:Kq,CoreWaybill:Ck["a"],Paginator:cr}},Qq=Xq,Zq=(n("0498"),Object(lt["a"])(Qq,Oq,Lq,!1,null,"1f5d275c",null)),Jq=Zq.exports,ez=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"customer_show_core_waybill"}},[e.is_initialized?i("CoreWaybill",{attrs:{core_waybill:e.core_waybill,template:"detail",scope:"customer",statuses:e.statuses,is_auto_print:!1,is_can_update:!1,is_can_print_label:!0,is_show_change_template_btns:!1,detail:{is_show_blood_related:!0,is_show_receipt_file:!0,is_show_partition:!0,is_show_statuses:!0}}}):e._e()],1)},tz=[];function iz(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function nz(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){iz(r,n,a,s,o,"next",e)}function o(e){iz(r,n,a,s,o,"throw",e)}s(void 0)})}}var az={components:{CoreWaybill:Ck["a"]},props:{},data:function(){return{is_initialized:!1,is_processing:!1,core_waybill:{},statuses:[],errors:[]}},created:function(){this.init()},mounted:function(){},watch:{$route:function(e,t){"customer_show_core_waybill"==e.name&&this.init()}},computed:{},methods:{init:function(){var e=nz(regeneratorRuntime.mark(function e(){var t,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,t.is_processing=!1,t.core_waybill={},t.statuses=[],t.errors=[],e()});case 3:return e.next=5,t.fetch_core_waybill();case 5:return e.next=7,t.fetch_statuses();case 7:return e.next=9,new Promise(function(e){i.$store.state.customer.core_waybills_module.current_core_waybill=t.core_waybill,t.is_initialized=!0});case 9:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_core_waybill:function(){var e=this,t=new RestUrl(e.$store.state.customer.routes.api_v1_customer_core_waybill).parse({core_waybill_identity:e.$route.params.identity});return axios.get(t,{headers:{Authorization:localStorage.getItem("customer_authentication_token")}}).then(function(t){e.core_waybill=t.data.core_waybill})["catch"](function(t){return e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.core_waybills"),reason:": "+t})),Promise.reject(t)})},fetch_statuses:function(){var e=this,t=new RestUrl(e.$store.state.customer.routes.api_v1_customer_statuses),i=t.parse({core_waybill_identity:e.$route.params.identity},"");return axios.get(i,{headers:{Authorization:localStorage.getItem("customer_authentication_token")}}).then(function(t){if("success"!=t.data.status)return Promise.reject("查無 貨況資訊");e.statuses=t.data.core_waybill_statuses})}}},rz=az,sz=Object(lt["a"])(rz,ez,tz,!1,null,null,null),oz=sz.exports,cz="customer_core_waybills",_z="customer_show_core_waybill",lz="customer_core_waybills_operation",uz=[{path:"",component:Jq,name:"customer_core_waybills",meta:{breadcrumb:[cz]}},{path:"show/:identity",component:oz,name:"customer_show_core_waybill",meta:{breadcrumb:[cz,_z]}},{path:"operation/:operation_number",component:Jq,name:"customer_core_waybills_operation",meta:{breadcrumb:[cz,lz]}},{path:"operation/:operation_number/show/:identity",component:oz,name:"customer_show_core_waybill_operation",meta:{breadcrumb:[cz,lz,_z]}}],dz=uz,pz=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"partitions"}},[i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1)],1)},mz=[],fz={props:{},data:function(){return{}},created:function(){this.set_breadcrumbs()},mounted:function(){},watch:{},methods:{set_breadcrumbs:function(){var e=this,t={route_name:"customer_partitions",name:"號碼區間"};e.$store.state.breadcrumbs=[t]}},components:{},computed:{}},vz=fz,hz=Object(lt["a"])(vz,pz,mz,!1,null,"e4741654",null),gz=hz.exports,bz=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"partitions_layout"}},[0==e.customer_partitions.length?i("div",[e._m(0)]):i("div",[i("div",{staticClass:"ui segment blue"},[i("h5",[e._v("可用的號碼區間")]),i("div",{staticClass:"ui doubling two column grid"},e._l(e.customer_partitions,function(t){return i("div",{staticClass:"column"},[i("div",{staticClass:"ui center aligned segment"},[i("div",{staticClass:"ui mini statistic"},[i("div",{staticClass:"value"},[i("span",{attrs:{"data-tooltip":"字軌","data-position":"bottom left"}},[e._v("\n                                    "+e._s(t.prefix)+"\n                                ")]),i("span",{staticStyle:{"text-decoration":"underline"}},[i("span",{attrs:{"data-tooltip":"起始號碼","data-position":"bottom center"}},[e._v("\n                                        "+e._s(e.integer_rjust(t.from_number,t.digit,"0"))+"\n                                    ")]),i("span",[e._v(" ~ ")]),i("span",{attrs:{"data-tooltip":"結束號碼","data-position":"bottom center"}},[e._v("\n                                        "+e._s(e.integer_rjust(t.to_number,t.digit,"0"))+"\n                                    ")])])]),i("div",{staticClass:"label"},[e._v("\n                                共"+e._s(t.to_number-t.from_number+1)+"筆\n                            ")])])])])}))]),i("div",{staticClass:"ui center aligned segment",class:e.search_result_color},[i("h5",{staticClass:"left floated"},[e._v("搜尋號碼是否已使用")]),i("div",{staticClass:"clear"}),e.customer_partitions?i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection dropdown"},[i("div",{staticClass:"text"},[e._v("\n                    "+e._s(e.search_prefix)+"\n                ")]),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.customer_partitions,function(t){return i("div",{staticClass:"item",class:{"selected active":e.search_prefix==t.prefix},on:{click:function(i){e.search_prefix=t.prefix}}},[e._v("\n                        "+e._s(t.prefix)+"\n                    ")])}))]):e._e(),i("div",{staticClass:"ui action input",on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.searching()}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.search_number,expression:"search_number"}],attrs:{type:"text",placeholder:"流水號"},domProps:{value:e.search_number},on:{input:function(t){t.target.composing||(e.search_number=t.target.value)}}}),i("button",{staticClass:"ui icon button",on:{click:e.searching}},[i("i",{staticClass:"search icon"})])]),i("p",[e._v("\n                "+e._s(e.search_result)+"\n            ")]),e.not_useds.length+e.useds.length?i("div",{staticClass:"ui two column grid"},[i("div",{staticClass:"column"},[i("p",[e._v("未使用號碼")]),i("div",{staticClass:"ui blue segment"},[e._l(e.not_useds,function(t){return i("p",[e._v("\n                            "+e._s(t)+"\n                        ")])}),e.not_useds.length>2?i("div",{staticClass:"ui basic vertical animated button",attrs:{tabindex:"0"},on:{click:function(t){e.sort_not_useds()}}},[i("div",{staticClass:"hidden content"},[e._v("排序")]),e._m(1)]):e._e()],2)]),i("div",{staticClass:"column"},[i("p",[e._v("已使用號碼")]),i("div",{staticClass:"ui green segment"},[e._l(e.useds,function(t){return i("p",[e._v("\n                            "+e._s(t)+"\n                        ")])}),e.useds.length>2?i("div",{staticClass:"ui basic vertical animated button",attrs:{tabindex:"0"},on:{click:function(t){e.sort_useds()}}},[i("div",{staticClass:"hidden content"},[e._v("排序")]),e._m(2)]):e._e()],2)])]):e._e()])])])},yz=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui center aligned red segment"},[i("h5",[e._v("\n                您尚未被受理任何 號碼區間\n            ")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"visible content"},[i("i",{staticClass:"sort numeric ascending icon"})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"visible content"},[i("i",{staticClass:"sort numeric ascending icon"})])}],wz={data:function(){return{is_initialized:!1,search_result_color:"olive",search_result:"",search_prefix:"",search_number:""}},computed:{customer_partitions:function(){return this.$store.state.customer.customer_partitions},not_useds:function(){return this.$store.state.customer.partitions_module.not_useds},useds:function(){return this.$store.state.customer.partitions_module.useds}},watch:{},created:function(){var e=this;e.init(),e.set_breadcrumbs()},mounted:function(){var e=this;e.search_prefix=e.customer_partitions.length>0?e.customer_partitions[0].prefix:""},methods:{integer_rjust:function(e,t,i){return e.toString().rjust(t,i)},init:function(){var e=this,t=new Promise(function(e,t){e()});t.then(function(){e.is_initialized=!1}).then(function(){e.$noty.information(e.$t("ui.page_titles.partitions")+" "+e.$t("ui.general.initialize_complete"),300),e.is_initialized=!0})["catch"](function(e){switch(e){default:}})},searching:function(){var e=this;if(e.validate_number()){e.search_result="",e.search_result_color="green";var t=_.find(e.customer_partitions,function(t){return t.prefix==e.search_prefix}),i=e.integer_rjust(e.search_number,t.digit,"0"),n=e.$store.state.customer.routes.api_v1_provider_core_waybill_search;axios.post(n,{number:e.search_prefix+i},{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"==t.data.status){var n=e.search_prefix+" "+i;t.data.core_waybill.is_used?(e.search_result="已使用",e.useds.push(n)):(e.not_useds.push(n),e.search_result="未使用")}else e.search_result="查詢運單失敗"})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.core_waybills"),reason:": "+t}))})}else e.search_result=e.search_number?"非合法號碼":"請輸入流水號號",e.search_result_color="red"},validate_number:function(){var e=this,t=_.find(e.customer_partitions,function(t){return t.prefix==e.search_prefix});return!!t&&(e.search_number>=t.from_number&&t.to_number>=e.search_number)},sort_not_useds:function(){var e=this;e.$store.state.customer.partitions_module.not_useds=_(e.not_useds).sortBy().sortedUniq().value()},sort_useds:function(){var e=this;e.$store.state.customer.partitions_module.useds=_(e.useds).sortBy().sortedUniq().value()},set_breadcrumbs:function(){var e=this,t={route_name:"partitions",name:"號碼區間"};switch(e.$route.name){case"partitions":e.$store.state.breadcrumbs=[t];break;default:}}},components:{}},$z=wz,kz=(n("bbc9"),Object(lt["a"])($z,bz,yz,!1,null,"2506bf54",null)),Cz=kz.exports,xz=[{path:"",component:Cz,name:"customer_partitions"}],Pz=xz,Sz=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.is_initialized?i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1):e._e(),i("div",{staticClass:"ui inverted dimmer transition",class:{active:!e.is_initialized}},[i("div",{staticClass:"ui text loader"},[e._v(e._s(e.$t("ui.general.initializing")))])])],1)},Nz=[];function Az(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function Ez(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){Az(r,n,a,s,o,"next",e)}function o(e){Az(r,n,a,s,o,"throw",e)}s(void 0)})}}var qz={name:"CustomerOperationsLayout",data:function(){return{is_initialized:!1,errors:[]}},computed:{},watch:{},created:function(){this.init()},mounted:function(){},methods:{init:function(){var e=Ez(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,new Promise(function(e){t.is_initialized=!0,e()});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{}},zz=qz,jz=Object(lt["a"])(zz,Sz,Nz,!1,null,null,null),Rz=jz.exports,Iz=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"operations"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),i("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[i("div"),i("div",{staticClass:"ui segment",style:{width:e.filter.is_advanced_mode?"100%":"auto",margin:0}},[i("FilterHeader",{staticClass:"right floated"}),i("div",{staticClass:"clear"}),i("FilterAdvanced",{staticClass:"ui transition hidden filter"})],1)]),i("div",{staticClass:"ui segment"},[i("table",{staticClass:"ui compact celled table"},[i("thead",{staticClass:"center aligned"},[i("tr",[i("th",[e._v(e._s(e.$t("ui.general.date")))]),i("th",[e._v(e._s(e.$t("models.attributes.operations.number")))]),i("th",[e._v(e._s(e.$t("models.attributes.operations.your_note")))]),i("th",[e._v("\n                        "+e._s(e.$t("ui.pages.operations.table.finish"))+"/\n                        "+e._s(e.$t("ui.pages.operations.table.total"))+"\n                    ")]),i("th",[e._v(e._s(e.$t("models.attributes.operations.status")))]),i("th",[e._v(e._s(e.$t("models.attributes.operations.file")))]),i("th",[e._v(e._s(e.$t("ui.general.operate")))])])]),e.is_loading?i("tbody",{staticClass:"center aligned"},[e._m(0)]):i("tbody",[e._l(e.operations,function(e){return i("Operation",{key:e.identity,attrs:{operation:e}})}),e.operations.length<=0?i("tr",{staticClass:"center aligned"},[i("td",{attrs:{colspan:"7"}},[i("h5",[e._v(e._s(e.$t("ui.general.no_data")))])])]):e._e()],2)]),e.operations.length>0?i("Paginator",{attrs:{total_pages:e.pagination.total_pages,current_page:e.pagination.current_page,disabled:e.is_loading}}):e._e()],1)],1)},Tz=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"loading"},[i("td",{attrs:{colspan:"7"}},[i("div",{staticClass:"ui active centered inline loader"})])])}],Oz=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"filter_advanced"}},[i("div",{staticClass:"ui form",on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$parent.fetch_operations(1)}}},[i("div",{staticClass:"three fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.operations.created_at")))]),i("el-date-picker",{staticStyle:{width:"100%"},attrs:{"unlink-panels":"",type:"daterange",align:"center","start-placeholder":e.$t("ui.el.datepicker.startDate"),"end-placeholder":e.$t("ui.el.datepicker.endDate"),"picker-options":e.$store.state.element_ui_datepicker_daterange_options},model:{value:e.filter.columns.created_duration,callback:function(t){e.$set(e.filter.columns,"created_duration",t)},expression:"filter.columns.created_duration"}})],1),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.operations.number")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.number,expression:"filter.columns.number"}],attrs:{type:"text"},domProps:{value:e.filter.columns.number},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"number",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.operations.your_note")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.customer_note,expression:"filter.columns.customer_note"}],attrs:{type:"text"},domProps:{value:e.filter.columns.customer_note},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"customer_note",t.target.value)}}})])]),i("div",{staticClass:"three fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.operations.original_file_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.original_file_name,expression:"filter.columns.original_file_name"}],attrs:{type:"text"},domProps:{value:e.filter.columns.original_file_name},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"original_file_name",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.operations.status")))]),i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.is_done,expression:"filter.columns.is_done"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.filter.columns.is_done)?e._i(e.filter.columns.is_done,null)>-1:e.filter.columns.is_done},on:{change:function(t){var i=e.filter.columns.is_done,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&e.$set(e.filter.columns,"is_done",i.concat([r])):s>-1&&e.$set(e.filter.columns,"is_done",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.filter.columns,"is_done",a)}}}),i("label",[e._v(e._s(e.$t("models.attributes.operations.is_done")))])])])])]),i("div",{staticClass:"ui icon blue button right floated",on:{click:function(t){e.$parent.fetch_operations(1)}}},[i("i",{staticClass:"search icon"}),e._v("\n        "+e._s(e.$t("ui.general.search"))+"\n    ")]),i("div",{staticClass:"clear"})])},Lz=[],Dz={name:"OperationsFilterAdvanced",data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.customer.operations_module},filter:function(){return this.current_store.filter}},created:function(){},mounted:function(){},watch:{},methods:{},components:{}},Bz=Dz,Mz=(n("145f"),Object(lt["a"])(Bz,Oz,Lz,!1,null,"1ce472de",null)),Uz=Mz.exports,Fz=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"filter_general"}},[e.filter.is_advanced_mode?e._e():i("div",{staticClass:"ui action input"},["is_done"!=e.filter.current_shortcut_key&&"created_at"!=e.filter.current_shortcut_key?i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns[e.filter.current_shortcut_key],expression:"filter.columns[filter.current_shortcut_key]"}],attrs:{placeholder:e.$t("ui.general.search__key",{key:e.$t("models.attributes.operations."+("customer_note"!=e.filter.current_shortcut_key?e.filter.current_shortcut_key:"your_note"))}),type:"text"},domProps:{value:e.filter.columns[e.filter.current_shortcut_key]},on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$parent.fetch_operations(1)},input:function(t){t.target.composing||e.$set(e.filter.columns,e.filter.current_shortcut_key,t.target.value)}}}):"created_at"==e.filter.current_shortcut_key?i("el-date-picker",{staticClass:"right_radius",attrs:{"unlink-panels":"",type:"daterange",align:"center","range-separator":"","start-placeholder":e.$t("ui.el.datepicker.startDate"),"end-placeholder":e.$t("ui.el.datepicker.endDate"),"picker-options":e.$store.state.element_ui_datepicker_daterange_options},model:{value:e.filter.columns.created_duration,callback:function(t){e.$set(e.filter.columns,"created_duration",t)},expression:"filter.columns.created_duration"}}):e._e(),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection dropdown no_search right_radius",staticStyle:{"min-width":"120px"}},[e._l(e.filter.shortcut_keys,function(t){return e.filter.current_shortcut_key==t?i("div",{staticClass:"text"},[i("span","customer_note"==t?[e._v("\n                    "+e._s(e.$t("models.attributes.operations.your_note"))+"\n                ")]:[e._v("\n                    "+e._s(e.$t("models.attributes.operations."+t))+"\n                ")])]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.filter.shortcut_keys,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.current_shortcut_key==t},on:{click:function(i){e.set_quick_filter(t)}}},[i("span","customer_note"==t?[e._v("\n                        "+e._s(e.$t("models.attributes.operations.your_note"))+"\n                    ")]:[e._v("\n                        "+e._s(e.$t("models.attributes.operations."+t))+"\n                    ")])])}))],2),i("div",{staticClass:"ui button icon",on:{click:function(t){e.$parent.fetch_operations(1)}}},[i("i",{staticClass:"search icon"})])],1),e.filter.is_advanced_mode?i("div",{staticClass:"ui basic red icon button",on:{click:function(t){e.$store.commit("customer/operations_module/init_filter_columns")}}},[i("i",{staticClass:"close icon"}),e._v("\n        "+e._s(e.$t("ui.general.clear"))+"\n    ")]):e._e(),i("div",{staticClass:"ui button icon",style:{height:e.filter.is_advanced_mode?"auto":"38px",paddingTop:e.filter.is_advanced_mode?"":"13px",verticalAlign:e.filter.is_advanced_mode?"":"top"},on:{click:function(t){e.filter.is_advanced_mode=!e.filter.is_advanced_mode}}},[i("i",{staticClass:"bars icon",class:{minus:e.filter.is_advanced_mode,bars:!e.filter.is_advanced_mode}})])])},Gz=[],Hz={name:"OperationsFilterHeader",data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.customer.operations_module},filter:function(){return this.current_store.filter}},created:function(){},mounted:function(){},watch:{},methods:{set_quick_filter:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var i=this;i.filter.current_shortcut_key=t,i.filter.columns.created_duration="",_.forEach(i.filter.shortcut_keys,function(e){i.filter.columns[e]=null}),"is_done"==t&&(i.filter.columns.is_done=!0)}catch(e){console.log(e)}}},components:{}},Yz=Hz,Kz=(n("1912"),Object(lt["a"])(Yz,Fz,Gz,!1,null,"f5f76b34",null)),Wz=Kz.exports,Vz=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"center aligned"},[i("td",[e._v(" "+e._s(e.human_datetime(e.operation.created_at)))]),i("td",[e._v(" "+e._s(e.operation.number||"-")+" ")]),i("td",[e._v(" "+e._s(e.operation.customer_note||"-")+" ")]),i("td",{class:{negative:0==e.operation.core_waybills.length,positive:0!=e.operation.core_waybills.length&&e.operation.core_waybills.length==e.done_core_waybills.length}},[e._v("\n        "+e._s(e.done_core_waybills.length)+" / "+e._s(e.operation.core_waybills.length)+"\n    ")]),i("td",[e.operation.is_canceled?i("span",[i("span",[i("i",{staticClass:"stop icon"}),e._v("\n                "+e._s(e.$t("models.attributes.operations.is_canceled"))+"\n                ")])]):e.operation.is_done?i("span",[i("i",{staticClass:"check icon"}),e._v("\n            "+e._s(e.$t("models.attributes.operations.is_done"))+"\n            ")]):i("span",[i("i",{staticClass:"play icon"}),e._v("\n            "+e._s(e.$t("ui.pages.operations.processing"))+"\n            ")])]),i("td",[i("a",{attrs:{href:e.operation.original_file_url}},[e._v(e._s(e.operation.original_file_name))])]),i("td",{staticClass:"center aligned"},[i("router-link",{staticClass:"ui basic primary button",attrs:{to:{name:"show_customer_operation",params:{identity:e.operation.identity}}}},[e._v("\n            "+e._s(e.$t("ui.general.detail"))+"\n        ")])],1)])},Xz=[],Qz={name:"CustomerOperationsIndexItem",props:{operation:Object},data:function(){return{}},computed:{done_core_waybills:function(){return _.filter(this.operation.core_waybills,function(e){return 1==e.is_done})}},created:function(){},mounted:function(){},watch:{},methods:{},components:{}},Zz=Qz,Jz=Object(lt["a"])(Zz,Vz,Xz,!1,null,null,null),ej=Jz.exports;function tj(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function ij(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){tj(r,n,a,s,o,"next",e)}function o(e){tj(r,n,a,s,o,"throw",e)}s(void 0)})}}var nj={name:"CustomerOperationsIndex",data:function(){return{is_initialized:!1,is_loading:!1,is_search_params_changed:!1,operations:[],errors:[]}},computed:{current_store:function(){return this.$store.state.customer.operations_module},pagination:function(){return this.current_store.pagination},filter:function(){return this.current_store.filter}},created:function(){},mounted:function(){var e=this;e.init(),e.$bus.$off("init"),e.$bus.$on("init",function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.init()}.bind(this))},beforeDestroy:function(){this.$bus.$off("init"),this.pagination.current_page=1},watch:{$route:{handler:function(e,t){var i=e.query.page;i&&(this.pagination.current_page=Number(i),this.$store.commit("customer/operations_module/set_current_page",i),this.fetch_operations())},immediate:!0},"filter.is_advanced_mode":function(e){$("#operations .ui.transition.filter").transition(e?"fade down":"hide"),e||this.$store.commit("customer/operations_module/init_filter_columns")}},methods:{init:function(){var e=ij(regeneratorRuntime.mark(function e(){var t,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,new Promise(function(e){t.is_initialized=!1,e()});case 4:return e.next=6,t.fetch_operations();case 6:return e.next=8,new Promise(function(e){t.$noty.information(t.$t("ui.page_titles.provider_operations")+" "+t.$t("ui.general.initialize_complete"),300),i.filter.is_advanced_mode&&$("#operations .ui.transition.filter").transition("fade down"),t.is_initialized=!0,e()});case 8:e.next=13;break;case 10:switch(e.prev=10,e.t0=e["catch"](1),e.t0){default:console.log("init error: "),console.log(e.t0)}case 13:return e.prev=13,e.finish(13);case 15:case"end":return e.stop()}},e,this,[[1,10,13,15]])}));function t(){return e.apply(this,arguments)}return t}(),fetch_operations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this;if(1==e&&(t.pagination.current_page=1,t.$route.query.page=1),0==t.is_loading){t.errors=[],t.is_loading=!0,t.is_search_params_changed&&(t.$store.commit("customer/operations_module/set_current_page",null),t.is_search_params_changed=!1);var i=_.clone(t.filter.columns);i.created_duration&&(i["begin_at"]=t.$moment(i.created_duration[0]).startOf("day").format("YYYY-MM-DDTHH:mm:ss+08:00"),i["end_at"]=t.$moment(i.created_duration[1]).endOf("day").format("YYYY-MM-DDTHH:mm:ss+08:00"));var n=new RestUrl(t.$store.state.customer.routes.api_v1_customer_operations).parse({},"?"+object_to_query(i)+"&"+object_to_query({page:t.pagination.current_page}));return axios.get(n,{headers:{Authorization:localStorage.getItem("customer_authentication_token")}}).then(function(e){return"success"==e.data.status?(t.operations=e.data.operations,t.$store.commit("customer/operations_module/set_current_page",e.data.pagination.current_page),t.$store.commit("customer/operations_module/set_total_pages",e.data.pagination.total_pages)):"failure"==e.data.status&&(t.errors=e.data.errors,t.$noty.error(t.$t("ui.notifications.error.fetch__name",{name:t.$t("models.operations"),reason:": "+e.data.errors}))),e})["catch"](function(e){if(e.response){switch(e.response.status){default:t.errors.push(e.response.status+" "+e.response.statusText)}t.$noty.error(t.$t("ui.notifications.error.fetch__name",{name:t.$t("models.operations"),reason:": "+e.response.status+" "+e.response.statusText}))}else t.errors.push(t.$t("ui.general.server_offline")),t.$noty.error(t.$t("ui.general.server_offline"));return Promise.reject(e)})["finally"](function(){setTimeout(function(){t.is_loading=!1},300)})}},init_search_params:function(){this.$store.commit("customer/operations_module/init_search_params"),$("#operations .ui.dropdown").dropdown("clear")},toggle_filter:function(){this.$store.commit("customer/operations_module/toggle_filter")}},components:{Operation:ej,Paginator:cr,ErrorMessages:wc,FilterAdvanced:Uz,FilterHeader:Wz}},aj=nj,rj=(n("7c43"),Object(lt["a"])(aj,Iz,Tz,!1,null,"a2e68178",null)),sj=rj.exports,oj=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"show"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),e.is_initialized?i("div",[e.is_loading?i("div",{staticClass:"ui active centered inline loader"}):e.operation.identity?i("table",{staticClass:"ui fixed table blue"},[i("thead",[i("tr",[i("th",{staticClass:"right aligned"},[i("h3",{staticClass:"ui header"},[e._v(e._s(e.operation.number))])]),i("th",{attrs:{colspan:"4"}}),i("th",[e._v("\n                        "+e._s(e.human_datetime(e.operation.created_at))+"\n                    ")])])]),i("tbody",[i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.operations.status"))+"\n                    ")]),i("td",{attrs:{colspan:"5"}},[e.operation.is_done?i("span",[i("i",{staticClass:"check icon"}),e._v("\n                            "+e._s(e.$t("models.attributes.operations.is_done"))+"\n                            ")]):i("span",[i("i",{staticClass:"play icon"}),e._v("\n                            "+e._s(e.$t("ui.pages.operations.processing"))+"\n                            ")])])]),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.operations.your_note"))+"\n                    ")]),i("td",{attrs:{colspan:"5"}},[e._v("\n                        "+e._s(e.operation.customer_note||"-")+"\n                    ")])]),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("ui.pages.operations.contract"))+"\n                    ")]),i("td",{attrs:{colspan:"5"}},[e._v("\n                        "+e._s(e.operation.contract.name||"-")+"\n                    ")])]),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.operations.file"))+"\n                    ")]),i("td",{attrs:{colspan:"5"}},[i("a",{attrs:{href:e.operation.original_file_url}},[e._v(e._s(e.operation.original_file_name))])])]),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("ui.pages.operations.print_coew_waybill_labels"))+"\n                    ")]),i("td",{staticStyle:{overflow:"visible"},attrs:{colspan:"5"}},[i("CoreWaybillsLabelSvg",{attrs:{numbers:e.dot_separated_numbers,authentication_token:e.token,scope:"customer",channel:e.print_label_channel,is_show_input:!1}})],1)]),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("ui.pages.operations.print_coew_waybill_checklist"))+"\n                    ")]),i("td",{attrs:{colspan:"5"}},[i("OrderSummary",{attrs:{channel_name:"my_order_summaray",default_search_params:{operation_identity:e.operation.identity,pagination:!1},title:e.$store.state.customer.customer.provider_node.company_short_name+"託運總表",sub_title:e.$store.state.customer.customer.provider_node.website_url,customer_service_hotline:e.$store.state.customer.customer.provider_node.customer_service_hotline,logistician:{name:"9999999 配送人員"},logo_url:"/images/"+e.$store.state.customer.customer.provider_node.company_en_name.replace(/(?:^|\.|\s?)([A-Z])/g,function(e,t){return"_"+t.toLowerCase()}).replace(/^_/,"")+"_logo.jpg",show_buttons:!0,show_contents:!1,scope:"customer"}})],1)]),i("tr",[i("td",{staticClass:"x_scrollable",attrs:{colspan:"6"}},[i("CoreWaybills",{attrs:{default_search_params:{operation_identity:e.operation.identity},columns:[{input_type:null,display_type:"material",name:"materials",human_name:e.$t("models.materials")},{input_type:"text",display_type:"text",name:"number",human_name:e.$t("models.attributes.core_waybills.number")},{input_type:"text",display_type:"text",name:"consignee_phone",human_name:e.$t("models.attributes.core_waybills.consignee_name")},{input_type:"number",display_type:"text",name:"weight_in_kilo",human_name:e.$t("models.attributes.core_waybills.weight_in_kilo")},{input_type:"number",display_type:"text",name:"collection",human_name:e.$t("models.attributes.core_waybills.collection")},{input_type:null,display_type:"status",name:"latest_status",human_name:e.$t("models.attributes.core_waybills.latest_status")}],scope:"customer"}})],1)])])]):e._e(),e.operation.identity?i("div",{staticClass:"ui segment"},[i("Comments",{attrs:{commentable_type:"Operation",commentable_identity:e.operation.identity,scope:"customer"}})],1):e._e()]):i("div",{staticClass:"ui active inverted dimmer"},[i("div",{staticClass:"ui text loader"},[e._v(e._s(e.$t("ui.general.initializing")))])])],1)},cj=[];function _j(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function lj(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){_j(r,n,a,s,o,"next",e)}function o(e){_j(r,n,a,s,o,"throw",e)}s(void 0)})}}var uj={name:"CustomerOperationsShow",props:{},data:function(){return{is_initialized:!1,is_loading:!1,operation:{},errors:[],print_label_channel:"operation_print_label_channel",label_urls_array:[]}},watch:{label_urls_array:function(e,t){e.length>0&&1==this.$route.query.print_label&&_.forEach(e,function(e){window.open(e,"_blank")})}},created:function(){var e=this;e.$bus.$on(e.print_label_channel,function(t){e.label_urls_array=t}.bind(this))},mounted:function(){this.init()},computed:{material_grouped_core_waybills:function(){return _.groupBy(this.operation.core_waybills,"material.class_name")},dot_separated_numbers:function(){return _.map(this.material_grouped_core_waybills.Waybill,"number").toString()+","+_.map(this.material_grouped_core_waybills.Goods,"number").toString()},token:function(){return localStorage.getItem("customer_authentication_token")}},methods:{init:function(){var e=lj(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,new Promise(function(e){t.is_initialized=!1,e()});case 4:return e.next=6,t.fetch_operation();case 6:return e.next=8,new Promise(function(e){t.is_initialized=!0,e()});case 8:e.next=13;break;case 10:switch(e.prev=10,e.t0=e["catch"](1),e.t0){default:console.log("init error: "),console.log(e.t0)}case 13:return e.prev=13,e.finish(13);case 15:case"end":return e.stop()}},e,this,[[1,10,13,15]])}));function t(){return e.apply(this,arguments)}return t}(),fetch_operation:function(){var e=this;e.is_loading=!0;var t=new RestUrl(e.$store.state.customer.routes.api_v1_customer_operation).parse({operation_identity:e.$route.params.identity});return axios.get(t,{headers:{Authorization:localStorage.getItem("customer_authentication_token")}}).then(function(t){if("success"==t.data.status)e.operation=t.data.operation;else if("failure"==t.data.status)return Promise.reject(t.data)})["catch"](function(t){if(t.response){switch(t.response.status){default:e.errors.push(t.response.status+" "+t.response.statusText)}e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.operations"),reason:": "+t.response.status+" "+t.response.statusText}))}else t.errors?e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.operations"),reason:": "+t.errors})):(e.errors.push(e.$t("ui.general.server_offline")),e.$noty.error(e.$t("ui.general.server_offline")))})["finally"](function(){e.is_loading=!1})}},components:{CoreWaybillsLabelSvg:jo,OrderSummary:ko,Comments:iC,CoreWaybills:bP,ErrorMessages:wc}},dj=uj,pj=Object(lt["a"])(dj,oj,cj,!1,null,"8566f114",null),mj=pj.exports,fj="customer_operations",vj="show_customer_operation",hj=[{path:"",component:sj,name:"customer_operations",meta:{breadcrumb:[fj]}},{path:":identity",component:mj,name:"show_customer_operation",meta:{breadcrumb:[fj,vj]}}],gj=hj;r["default"].use(rt["a"]);var bj=[{path:"",component:nq,name:"customer_index"},{path:"uploader",component:uq,children:$q},{path:"core_waybills",component:Tq,children:dz},{path:"partitions",component:gz,children:Pz},{path:"operations",component:Rz,children:gj}],yj=bj,wj=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"index"}})},$j=[],kj={name:"StationIndex",props:{},data:function(){return{is_loading:!1,current_component:""}},computed:{current_staff:function(){return this.$store.state.station.current_staff}},mounted:function(){var e=this;e.set_breadcrumbs()},watch:{$route:function(e,t){var i=this;i.set_breadcrumbs()}},methods:{set_breadcrumbs:function(){var e=this;e.$store.state.breadcrumbs=[]}},components:{}},Cj=kj,xj=Object(lt["a"])(Cj,wj,$j,!1,null,"c67d8cf0",null),Pj=xj.exports,Sj=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui segment",attrs:{id:"demo"}},[i("h4",[e._v("\n        Current Scan: "+e._s(e.results[e.results.length-1])+"\n    ")]),i("video",{staticStyle:{border:"1px solid gray"},attrs:{id:"video",width:"256",height:"193"},on:{click:function(t){t.preventDefault(),e.reset()}}}),i("h4",[e._v("\n        Recent Scan: \n        "),i("ol",e._l(e.results,function(t){return i("li",[e._v(e._s(t))])}))])])},Nj=[],Aj=n("e588");function Ej(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function qj(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){Ej(r,n,a,s,o,"next",e)}function o(e){Ej(r,n,a,s,o,"throw",e)}s(void 0)})}}var zj=new Aj["BrowserBarcodeReader"],jj={name:"StationDemo",props:{},data:function(){return{is_loading:!1,current_component:"",selected_device_id:null,results:[]}},computed:{current_staff:function(){return this.$store.state.station.current_staff}},mounted:function(){this.set_breadcrumbs(),this.scan()},watch:{$route:function(e,t){var i=this;i.set_breadcrumbs()}},methods:{scan:function(){var e=qj(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,zj.decodeFromInputVideoDevice(void 0,"video").then(function(e){t.results.push(e.text)})["catch"](function(e){return console.error(e)});case 2:return e.next=4,this.reset();case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),reset:function(){var e=qj(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){zj.reset(),t.scan(),e()});case 2:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),set_breadcrumbs:function(){var e=this;e.$store.state.breadcrumbs=[]}},components:{}},Rj=jj,Ij=Object(lt["a"])(Rj,Sj,Nj,!1,null,"fbc7f578",null),Tj=Ij.exports,Oj=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.is_initialized?i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1):e._e(),i("div",{staticClass:"ui inverted dimmer transition",class:{active:!e.is_initialized}},[i("div",{staticClass:"ui text loader"},[e._v("\n            "+e._s(e.$t("ui.general.initializing"))+"\n        ")])])],1)},Lj=[];function Dj(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function Bj(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){Dj(r,n,a,s,o,"next",e)}function o(e){Dj(r,n,a,s,o,"throw",e)}s(void 0)})}}var Mj={name:"PartitionsLayout",data:function(){return{is_initialized:!1}},computed:{},watch:{},created:function(){},mounted:function(){var e=this;this.init(),this.$bus.$off("init"),this.$bus.$on("init",function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.init()})},beforeDestroy:function(){this.$bus.$off("init")},methods:{init:function(){var e=Bj(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){t.is_initialized=!1,e()});case 2:return e.next=4,this.$store.dispatch("station/partitions_module/fetch_associated_partitions",{page:1});case 4:return e.next=6,this.$store.dispatch("station/partitions_module/fetch_customers");case 6:return e.next=8,this.$store.dispatch("station/partitions_module/fetch_materials");case 8:return e.next=10,new Promise(function(e){t.is_initialized=!0,t.$noty.information(t.$t("ui.page_titles.partitions")+" "+t.$t("ui.general.initialize_complete"),300),e()});case 10:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{}},Uj=Mj,Fj=Object(lt["a"])(Uj,Oj,Lj,!1,null,null,null),Gj=Fj.exports,Hj=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("Index")],1)},Yj=[],Kj=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"ui inverted dimmer transition",class:{active:e.is_loading}},[i("div",{staticClass:"ui text loader"},[e._v("\n            "+e._s(e.$t("ui.general.initializing"))+"\n        ")])]),i("div",{staticClass:"clear"}),i("div",{staticClass:"ui segment"},[i("table",{staticClass:"ui celled table"},[i("thead",[i("tr",[i("th",[e._v(e._s(e.$t("models.attributes.partitions.name")))]),i("th",[e._v(e._s(e.$t("models.attributes.partitions.numbers")))]),i("th",[e._v(e._s(e.$t("models.attributes.partitions.parent")))]),i("th",[e._v(e._s(e.$t("models.attributes.partitions.customer")))]),i("th",[e._v(e._s(e.$t("models.attributes.partitions.contracts")))]),i("th",[e._v(e._s(e.$t("models.attributes.partitions.material")))]),i("th",[e._v(e._s(e.$t("models.attributes.partitions.note")))]),i("th",{staticClass:"center aligned"},[e._v(e._s(e.$t("ui.general.operate")))])])]),i("tbody",e._l(e.parent_partitions,function(t){return e.is_initialized?i("Row",{key:t.identity,attrs:{partition:t}}):e._e()}))]),i("div",{staticClass:"right floated"},[i("Paginator",{attrs:{total_pages:e.current_store.pagination.total_pages,current_page:e.current_store.pagination.current_page}})],1),i("div",{staticClass:"clear"})])])},Wj=[],Vj=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",[i("td",[e._v("\n        "+e._s(e.partition.name)+"\n        "),e.partition.grouped_partitions?i("div",{staticClass:"items"},e._l(e.partition.grouped_partitions,function(t){return i("div",{staticClass:"item"},[e._v("\n                "+e._s(t.name)+"\n            ")])})):e._e()]),i("td",[i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n            "+e._s(e.$t("models.attributes.partitions.numbers_from"))+"：\n        ")]),e._v("\n        "+e._s(e.partition.numbers_from)),i("br"),i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n            "+e._s(e.$t("models.attributes.partitions.numbers_to"))+"：\n        ")]),e._v("\n        "+e._s(e.partition.numbers_to)),i("br"),i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n            "+e._s(e.$t("ui.pages.partitions.total_amount"))+"：\n        ")]),e._v("\n        "+e._s(e.number_with_commas(e.partition.numbers_amount))),i("br"),i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n            "+e._s(e.$t("ui.pages.partitions.available_quantity"))+"：\n        ")]),e._v("\n        "+e._s(e.number_with_commas(e.partition.remaining_numbers))+"\n    ")]),i("td",[i("div",{staticClass:"ui items"},e._l(e.partition.child_partitions,function(t,n){return i("router-link",{key:t.identity,staticClass:"item",attrs:{to:{name:"edit_partition",params:{partition_identity:t.identity}}}},[e._v("\n                "+e._s(n+1)+". "+e._s(t.name)+"\n            ")])}))]),i("td",[e.current_customer?i("router-link",{attrs:{to:{name:"customer",params:{customer_identity:e.current_customer.identity}}}},[e._v("\n            "+e._s(e.current_customer.company_short_name||e.current_customer.identity)+"\n        ")]):i("div",[e._v("\n            "+e._s("Auto"==e.partition.partition_type?e.$t("ui.pages.partitions.automatic_number"):e.$t("ui.pages.partitions.use_yourself"))+"\n        ")])],1),i("td",[e.current_customer?i("div",{staticClass:"ui items"},e._l(e.partition.contracts,function(t,n){return i("router-link",{key:t.identity,staticClass:"item",attrs:{to:{name:"station_contract",params:{customer_identity:e.current_customer.identity,contract_identity:t.identity}}}},[e._v("\n                "+e._s(n+1)+". "+e._s(t.name)+"\n            ")])})):e._e()]),i("td",[e.current_material?i("router-link",{attrs:{to:{name:"edit_material",params:{material_identity:e.current_material.identity}}}},[e._v("\n            "+e._s(e.current_material.name)+"\n        ")]):e._e()],1),i("td",[e._v(e._s(e.partition.note))]),i("td",[i("router-link",{staticClass:"ui basic green button",attrs:{to:{name:"edit_station_partition",params:{partition_identity:e.partition.identity}}}},[e._v("\n            "+e._s(e.$t("ui.general.edit"))+"\n        ")]),e.is_deleting?i("a",{staticClass:"ui basic red button",attrs:{href:"#"}},[e._v("\n            "+e._s(e.$t("ui.general.deleteing"))+"...\n        ")]):i("a",{staticClass:"ui basic red button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.delete_partition()}}},[e._v("\n            "+e._s(e.$t("ui.general.delete"))+"\n        ")])],1)])},Xj=[],Qj={name:"PartitionRow",props:{partition:Object},data:function(){return{is_loading:!1,is_deleting:!1}},created:function(){},mounted:function(){},watch:{},methods:{number_with_commas:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},delete_partition:function(){var e=this;if(confirm(this.$t("ui.notifications.warning.are_you_sure_to_delete_it"))){var t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_partition_delete).parse({partition_identity:this.partition.identity});return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$noty.success(e.$t("ui.notifications.success.delete__name",{name:e.$t("models.partitions")})),e.$store.commit("provider/partitions_module/remove_partition",e.partition),e.$bus.$emit("out_of_date",e.$store.state.instance_identity,"partitions"),e.is_deleting=!1):(e.$noty.error(e.$t("ui.notifications.error.delete__name",{name:e.$t("models.partitions")})),e.is_deleting=!1)})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.delete__name",{name:e.$t("models.partitions")})),e.is_deleting=!1})}}},computed:{current_store:function(){return this.$store.state.provider.partitions_module},current_customer:function(){var e=this;return _.findLast(this.current_store.customers,function(t){return t.identity==e.partition.customer_identity})},current_material:function(){var e=this;return _.findLast(this.current_store.materials,function(t){return t.identity==e.partition.material_identity})}},components:{}},Zj=Qj,Jj=Object(lt["a"])(Zj,Vj,Xj,!1,null,null,null),eR=Jj.exports;function tR(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function iR(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){tR(r,n,a,s,o,"next",e)}function o(e){tR(r,n,a,s,o,"throw",e)}s(void 0)})}}var nR={name:"PartitionsIndex",data:function(){return{is_initialized:!1,is_loading:!1}},created:function(){this.init()},mounted:function(){},beforeDestroy:function(){this.current_store.pagination.current_page=1},watch:{$route:{handler:function(){var e=iR(regeneratorRuntime.mark(function e(t,i){var n,a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.query.page,!n){e.next=9;break}return this.current_store.pagination.current_page=Number(n),e.next=5,new Promise(function(e){a.is_loading=!0,e()});case 5:return e.next=7,this.$store.dispatch("station/partitions_module/fetch_partitions",{page:n});case 7:return e.next=9,new Promise(function(e){a.is_loading=!1,e()});case 9:case"end":return e.stop()}},e,this)}));function t(t,i){return e.apply(this,arguments)}return t}(),immediate:!0}},methods:{init:function(){var e=iR(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,t.$store.dispatch("station/partitions_module/fetch_partitions",{page:t.current_store.pagination.current_page});case 5:return e.next=7,new Promise(function(e){t.is_initialized=!0,e()});case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},computed:{current_store:function(e){return e.$store.state.station.partitions_module},parent_partitions:function(){var e=this;return _.filter(e.current_store.partitions,function(e){return null==e.parent_identity})}},components:{Row:eR,Paginator:cr}},aR=nR,rR=Object(lt["a"])(aR,Kj,Wj,!1,null,null,null),sR=rR.exports,oR={name:"PartitionsMain",data:function(){return{is_initialized:!1}},computed:{},created:function(){},mounted:function(){},watch:{},methods:{},components:{Index:sR}},cR=oR,_R=Object(lt["a"])(cR,Hj,Yj,!1,null,null,null),lR=_R.exports,uR=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"ui inverted dimmer transition",class:{active:e.is_loading}},[i("div",{staticClass:"ui text loader"},[e._v("\n            "+e._s(e.$t("ui.general.initializing"))+"\n        ")])]),i("div",{staticClass:"clear"}),i("table",{staticClass:"ui celled table"},[i("thead",[i("tr",[i("th",[e._v(e._s(e.$t("models.attributes.partitions.name")))]),i("th",[e._v(e._s(e.$t("models.attributes.partitions.numbers")))]),i("th",[e._v(e._s(e.$t("models.attributes.partitions.parent")))]),i("th",[e._v(e._s(e.$t("models.attributes.partitions.customer")))]),i("th",[e._v(e._s(e.$t("models.attributes.partitions.note")))])])]),i("tbody",e._l(e.parent_partitions,function(t){return e.is_initialized?i("Row",{key:t.identity,attrs:{partition:t}}):e._e()}))]),i("div",{staticClass:"right floated"},[i("Paginator",{attrs:{total_pages:e.current_store.pagination.total_pages,current_page:e.current_store.pagination.current_page}})],1),i("div",{staticClass:"clear"})])},dR=[],pR=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",[i("td",[e._v("\n        "+e._s(e.partition.name)+"\n        "),e.partition.grouped_partitions?i("div",{staticClass:"items"},e._l(e.partition.grouped_partitions,function(t){return i("div",{staticClass:"item"},[e._v("\n                "+e._s(t.name)+"\n            ")])})):e._e()]),i("td",[i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n            "+e._s(e.$t("models.attributes.partitions.numbers_from"))+"：\n        ")]),e._v(e._s(e.partition.numbers_from)),i("br"),i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n            "+e._s(e.$t("models.attributes.partitions.numbers_to"))+"：\n        ")]),e._v(e._s(e.partition.numbers_to)),i("br"),i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n            "+e._s(e.$t("ui.pages.partitions.total_amount"))+"：\n        ")]),e._v(e._s(e.number_with_commas(e.partition.numbers_amount))),i("br"),i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n            "+e._s(e.$t("ui.pages.partitions.available_quantity"))+"：\n        ")]),e._v(e._s(e.number_with_commas(e.partition.remaining_numbers))+"\n\n    ")]),i("td",[i("div",{staticClass:"ui items"},e._l(e.partition.child_partitions,function(t,n){return i("router-link",{key:t.identity,staticClass:"item",attrs:{to:{name:"edit_partition",params:{partition_identity:t.identity}}}},[e._v("\n                "+e._s(n+1)+". "+e._s(t.name)+"\n            ")])}))]),i("td",[e.current_customer?i("router-link",{attrs:{to:{name:"customer",params:{customer_identity:e.current_customer.identity}}}},[e._v("\n            "+e._s(e.current_customer.company_short_name||e.current_customer.identity)+"\n        ")]):i("div",[e._v("\n            "+e._s("Auto"==e.partition.partition_type?e.$t("ui.pages.partitions.automatic_number"):e.provider_node.company_short_name)+"\n        ")])],1),i("td",[e._v(e._s(e.partition.note))])])},mR=[],fR={name:"AssociatedPartitionRow",props:{partition:Object},data:function(){return{is_loading:!1,is_deleting:!1}},created:function(){},mounted:function(){},watch:{},methods:{number_with_commas:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},delete_partition:function(){var e=this;if(confirm(this.$t("ui.notifications.warning.are_you_sure_to_delete_it"))){e.is_deleting=!0;var t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_partition_delete).parse({partition_identity:e.partition.identity});return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$noty.success(e.$t("ui.notifications.success.delete__name",{name:e.$t("models.partitions")})),e.$store.commit("provider/partitions_module/remove_partition",e.partition),e.is_deleting=!1):(e.$noty.error(e.$t("ui.notifications.error.delete__name",{name:e.$t("models.partitions")})),e.is_deleting=!1)})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.delete__name",{name:e.$t("models.partitions")})),e.is_deleting=!1})}}},computed:{current_store:function(){return this.$store.state.provider.partitions_module},provider_node:function(){return this.$store.state.provider.node},current_customer:function(){var e=this;return _.findLast(e.current_store.customers,function(t){return t.identity==e.partition.customer_identity})}},components:{}},vR=fR,hR=Object(lt["a"])(vR,pR,mR,!1,null,null,null),gR=hR.exports;function bR(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function yR(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){bR(r,n,a,s,o,"next",e)}function o(e){bR(r,n,a,s,o,"throw",e)}s(void 0)})}}var wR={name:"AssociatedPartitionsIndex",data:function(){return{is_initialized:!1,is_loading:!1}},created:function(){this.init()},mounted:function(){},beforeDestroy:function(){this.current_store.pagination.current_page=1},watch:{$route:{handler:function(){var e=yR(regeneratorRuntime.mark(function e(t,i){var n,a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.query.page,!n){e.next=9;break}return this.current_store.pagination.current_page=Number(n),e.next=5,new Promise(function(e){a.is_loading=!0,e()});case 5:return e.next=7,this.$store.dispatch("provider/partitions_module/fetch_associated_partitions",{page:n});case 7:return e.next=9,new Promise(function(e){a.is_loading=!1,e()});case 9:"partitions"==t.name&&this.init();case 10:case"end":return e.stop()}},e,this)}));function t(t,i){return e.apply(this,arguments)}return t}(),immediate:!0}},methods:{init:function(){var e=yR(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,new Promise(function(e){t.is_initialized=!0,e()});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},computed:{current_store:function(e){return e.$store.state.provider.partitions_module},parent_partitions:function(){var e=this;return _.filter(e.current_store.associated_partitions,function(e){return null==e.parent_identity})}},components:{Row:gR,Paginator:cr}},$R=wR,kR=Object(lt["a"])($R,uR,dR,!1,null,null,null),CR=kR.exports,xR=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui segment",attrs:{id:"new"}},[i("h1",{staticClass:"ui header"},[e._v("\n        "+e._s(e.$t("ui.page_titles.new_partition"))+"\n    ")]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui form"},[i("div",{staticClass:"ui grid",staticStyle:{"margin-top":"0","margin-bottom":"0"}},[i("div",{staticClass:"six wide red field",attrs:{"data-column":"name"}},[i("label",[e._v(e._s(e.$t("models.attributes.partitions.name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.partition.name,expression:"partition.name"}],attrs:{type:"text"},domProps:{value:e.partition.name},on:{input:function(t){t.target.composing||e.$set(e.partition,"name",t.target.value)}}})]),i("div",{staticClass:"five wide red field",attrs:{"data-column":"numbers_from"}},[i("label",[e._v(e._s(e.$t("models.attributes.partitions.numbers_from")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.partition.numbers_from,expression:"partition.numbers_from"}],attrs:{type:"text"},domProps:{value:e.partition.numbers_from},on:{change:function(t){e.$forceUpdate()},input:function(t){t.target.composing||e.$set(e.partition,"numbers_from",t.target.value)}}})]),i("div",{staticClass:"five wide red field",attrs:{"data-column":"numbers_to"}},[i("label",[e._v(e._s(e.$t("models.attributes.partitions.numbers_to")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.partition.numbers_to,expression:"partition.numbers_to"}],attrs:{type:"text"},domProps:{value:e.partition.numbers_to},on:{change:function(t){e.$forceUpdate()},input:function(t){t.target.composing||e.$set(e.partition,"numbers_to",t.target.value)}}})]),i("div",{staticClass:"eight wide red field",attrs:{"data-column":"customer_identity"}},[i("label",[e._v("\n                    "+e._s(e.$t("models.attributes.partitions.customer"))+"\n                    "),e.partition.customer_identity?i("i",{staticClass:"pointer remove circle outline red icon clear_dropdown",on:{click:function(t){e.clear_dropdown(".ui.dropdown.customer_identity")}}}):e._e()]),e.current_store.customers?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.partition.customer_identity,expression:"partition.customer_identity"}],staticClass:"ui dropdown customer_identity",on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.partition,"customer_identity",t.target.multiple?i:i[0])},function(t){e.$forceUpdate()}]}},[i("option",{attrs:{value:""}},[e._v("\n                        "+e._s(e.$t("ui.general.please_select"))+"，\n                        "+e._s(e.$t("ui.pages.partitions.if_use_it_yourself_do_not_write"))+"\n                    ")]),e._l(e.current_store.customers,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.company_short_name||t.tax))])})],2):i("div",{staticClass:"ui inline active loader"})]),i("div",{staticClass:"eight wide red field"},[i("label",[e._v("可用合約")]),e.current_customer?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.partition.contract_ids,expression:"partition.contract_ids"}],staticClass:"ui dropdown partition_type",attrs:{multiple:""},on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.partition,"contract_ids",t.target.multiple?i:i[0])},function(t){e.$forceUpdate()}]}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.current_customer.contracts,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2):e._e()]),i("div",{staticClass:"eight wide red field",attrs:{"data-column":"material_identity"}},[i("label",[e._v("\n                    "+e._s(e.$t("models.attributes.partitions.material"))+"\n                    "),e.partition.material_identity?i("i",{staticClass:"pointer remove circle outline red icon clear_dropdown",on:{click:function(t){e.clear_dropdown(".ui.dropdown.material_identity")}}}):e._e()]),e.current_store.customers?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.partition.material_identity,expression:"partition.material_identity"}],staticClass:"ui dropdown material_identity",on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.partition,"material_identity",t.target.multiple?i:i[0])},function(t){e.$forceUpdate()}]}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.current_store.materials,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2):i("div",{staticClass:"ui inline active loader"})]),i("div",{staticClass:"eight wide red field"},[i("label",[e._v("\n                    標籤種類\n                    "),e.partition.label_type?i("i",{staticClass:"pointer remove circle outline red icon clear_dropdown",on:{click:function(t){e.clear_dropdown(".ui.dropdown.label_type")}}}):e._e()]),i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.partition.label_type,expression:"partition.label_type"}],staticClass:"ui dropdown label_type",on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.partition,"label_type",t.target.multiple?i:i[0])},function(t){e.$forceUpdate()}]}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),i("option",{attrs:{value:"Label::Default"}},[e._v("TW568預設")]),"BY"==e.$store.state.provider.node.code?i("option",{attrs:{value:"Label::ByExpress"}},[e._v("博宇速運")]):e._e(),"CQF"==e.$store.state.provider.node.code?i("option",{attrs:{value:"Label::ChangQing"}},[e._v("長慶運通")]):e._e(),"FR"==e.$store.state.provider.node.code?i("option",{attrs:{value:"Label::FlyCargo"}},[e._v("飛樂航空")]):e._e(),i("option",{attrs:{value:"Label::HCT"}},[e._v("新竹物流")]),i("option",{attrs:{value:"Label::TCat"}},[e._v("統一速達")]),i("option",{attrs:{value:"Label::Pelican"}},[e._v("宅配通")]),i("option",{attrs:{value:"Label::Presco"}},[e._v("統一數網(7-ELEVEn)")]),i("option",{attrs:{value:"Label::FamilyMart"}},[e._v("日翊文化(全家)")])])]),i("div",{staticClass:"eight wide red field"},[i("label",[e._v("\n                    號碼規則\n                    "),e.partition.numbers_rule?i("i",{staticClass:"pointer remove circle outline red icon clear_dropdown",on:{click:function(t){e.clear_dropdown(".ui.dropdown.numbers_rule")}}}):e._e()]),i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.partition.numbers_rule,expression:"partition.numbers_rule"}],staticClass:"ui dropdown numbers_rule",on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.partition,"numbers_rule",t.target.multiple?i:i[0])},function(t){e.$forceUpdate()}]}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),i("option",{attrs:{value:"tcat_numbers_rule"}},[e._v("黑貓檢查碼")]),i("option",{attrs:{value:"hct_numbers_rule"}},[e._v("新竹檢查碼")]),i("option",{attrs:{value:"pelican_numbers_rule"}},[e._v("宅配通檢查碼")])])]),i("div",{staticClass:"eight wide red field"},[i("label",[e._v("\n                    區間類型\n                    "),e.partition.partition_type?i("i",{staticClass:"pointer remove circle outline red icon clear_dropdown",on:{click:function(t){e.clear_dropdown(".ui.dropdown.partition_type")}}}):e._e()]),i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.partition.partition_type,expression:"partition.partition_type"}],staticClass:"ui dropdown partition_type",on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.partition,"partition_type",t.target.multiple?i:i[0])},function(t){e.$forceUpdate()}]}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),i("option",{attrs:{value:"Manual"}},[e._v("手動取號")]),i("option",{attrs:{value:"Auto"}},[e._v("自動取號")]),i("option",{attrs:{value:"Group"}},[e._v("區間群組")])])]),i("div",{staticClass:"sixteen wide red field",attrs:{"data-column":"note"}},[i("label",[e._v(e._s(e.$t("models.attributes.partitions.note")))]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.partition.note,expression:"partition.note"}],attrs:{rows:"4"},domProps:{value:e.partition.note},on:{input:function(t){t.target.composing||e.$set(e.partition,"note",t.target.value)}}})])]),e._l(e.trial_errors,function(t,n,a){return i("div",{staticClass:"ui negative message"},[i("h3",[e._v(e._s(e.$t("models.attributes.partitions."+n)))]),i("ul",e._l(t,function(t){return i("li",[e._v(e._s(t))])}))])}),!e.trialed_partition||e.trial_errors||e.is_trialling?e._e():i("div",{staticClass:"ui positive message"},[i("h2",[e._v("\n                "+e._s(e.$t("ui.general.verify"))+"\n                "+e._s(e.$t("ui.general.result"))+"\n            ")]),i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n                "+e._s(e.$t("models.attributes.partitions.numbers_from"))+"：\n            ")]),e._v("\n            "+e._s(e.trialed_partition.numbers_from)),i("br"),i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n                "+e._s(e.$t("models.attributes.partitions.numbers_to"))+"：\n            ")]),e._v("\n            "+e._s(e.trialed_partition.numbers_to)),i("br"),i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n                "+e._s(e.$t("ui.pages.partitions.total_amount"))+"：\n            ")]),e._v("\n            "+e._s(e.number_with_commas(e.trialed_partition.numbers_amount))),i("br"),i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n                "+e._s(e.$t("ui.pages.partitions.available_quantity"))+"：\n            ")]),e._v("\n            "+e._s(e.number_with_commas(e.trialed_partition.remaining_numbers))+"\n        ")]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui buttons"},[i("router-link",{staticClass:"ui button",attrs:{to:{name:"partitions"}}},[e._v("\n                "+e._s(e.$t("ui.general.back"))+"\n            ")]),i("div",{staticClass:"or"}),e.is_trialling?i("a",{staticClass:"ui orange button",attrs:{href:"#"}},[e._v("\n                "+e._s(e.$t("ui.general.verifying"))+"...\n            ")]):i("a",{staticClass:"ui orange button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.trial_partition()}}},[e._v("\n                "+e._s(e.$t("ui.general.verify"))+"\n            ")]),i("div",{staticClass:"or"}),e.is_loading?i("a",{staticClass:"ui blue button",attrs:{href:"#"}},[e._v("\n                "+e._s(e.$t("ui.general.creating"))+"...\n            ")]):i("a",{staticClass:"ui blue button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.create_partition()}}},[e._v("\n                "+e._s(e.$t("ui.general.create"))+"\n            ")])],1)],2)])},PR=[];function SR(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function NR(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){SR(r,n,a,s,o,"next",e)}function o(e){SR(r,n,a,s,o,"throw",e)}s(void 0)})}}var AR={name:"NewPartition",mixins:[ll.a],props:{},data:function(){return{is_loading:!1,partition:{contract_ids:[],partition_type:"Manual",label_type:"Label::Default"},is_trialling:!1,trialed_partition:null,trial_errors:null}},mounted:function(){},methods:{number_with_commas:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},clear_dropdown:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.partition.customer_identity=null,$(e).dropdown("clear")},string_rjust:function(e,t,i){var n=String(e);return n.length<=t?String(e).rjust(t,i):"".rjust(t,"-")},trial_partition:function(){var e=this;if(this.trial_errors=null,this.valid()){this.is_trialling=!0;var t=this.partition,i=new RestUrl(this.$store.state.provider.routes.api_v1_provider_partitions_trial).parse();return axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){console.log(t),"success"==t.data.status?(e.trialed_partition=t.data.partition,e.is_trialling=!1):(e.trial_errors=t.data.errors,e.$noty.error(e.$t("ui.notifications.error.verify__name",{name:e.$t("models.partitions")})),e.is_trialling=!1,Promise.reject())})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.verify__name",{name:e.$t("models.partitions")})),e.is_trialling=!1})}},create_partition:function(){var e=NR(regeneratorRuntime.mark(function e(){var t,i,n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.valid()){e.next=8;break}return e.next=3,this.trial_partition();case 3:return this.is_loading=!0,t=this.partition,i=new RestUrl(this.$store.state.provider.routes.api_v1_provider_partitions_create).parse(),e.next=8,axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){"success"==e.data.status?(n.is_loading=!1,n.$store.commit("provider/partitions_module/add_partition",e.data.partition),n.$bus.$emit("out_of_date",n.$store.state.instance_identity,"partitions"),n.$router.push("/provider/partitions")):(n.$noty.error(n.$t("ui.notifications.error.create__name",{name:n.$t("models.partitions")})),n.is_loading=!1)})["catch"](function(e){n.$noty.error(n.$t("ui.notifications.error.create__name",{name:n.$t("models.partitions")})),n.is_loading=!1});case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},validator:{target:"partition",localize_key:"partitions",input_alert:!0,attributes:[{name:"name",required:!0},{name:"customer_identity",required:!1},{name:"material_identity",required:!0},{name:"numbers_from",required:!0},{name:"numbers_to",required:!0},{name:"note",required:!1}]},computed:{current_store:function(){return this.$store.state.provider.partitions_module},current_customer:function(){var e=this;return _.findLast(this.current_store.customers,function(t){return t.identity==e.partition.customer_identity})}},components:{FileUploader:xo["a"],ErrorBox:wc}},ER=AR,qR=Object(lt["a"])(ER,xR,PR,!1,null,null,null),zR=qR.exports,jR=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.partition.identity?i("div",{staticClass:"ui segment",attrs:{id:"edit"}},[i("h1",{staticClass:"ui header"},[e._v("\n        "+e._s(e.$t("ui.page_titles.edit_partition"))+"\n    ")]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui form"},[i("div",{staticClass:"ui grid",staticStyle:{"margin-top":"0","margin-bottom":"0"}},[i("div",{staticClass:"six wide red field",attrs:{"data-column":"name"}},[i("label",[e._v(e._s(e.$t("models.attributes.partitions.name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.partition.name,expression:"partition.name"}],attrs:{type:"text"},domProps:{value:e.partition.name},on:{input:function(t){t.target.composing||e.$set(e.partition,"name",t.target.value)}}})]),i("div",{staticClass:"five wide red field"},[i("label",[e._v(e._s(e.$t("models.attributes.partitions.numbers_from")))]),e.partition.count_of_core_waybills>0?i("input",{attrs:{type:"text",disabled:""},domProps:{value:e.partition.numbers_from}}):i("input",{directives:[{name:"model",rawName:"v-model",value:e.partition.numbers_from,expression:"partition.numbers_from"}],attrs:{type:"text"},domProps:{value:e.partition.numbers_from},on:{input:function(t){t.target.composing||e.$set(e.partition,"numbers_from",t.target.value)}}})]),i("div",{staticClass:"five wide red field"},[i("label",[e._v(e._s(e.$t("models.attributes.partitions.numbers_to")))]),e.partition.count_of_core_waybills>0?i("input",{attrs:{type:"text",disabled:""},domProps:{value:e.partition.numbers_to}}):i("input",{directives:[{name:"model",rawName:"v-model",value:e.partition.numbers_to,expression:"partition.numbers_to"}],attrs:{type:"text"},domProps:{value:e.partition.numbers_to},on:{input:function(t){t.target.composing||e.$set(e.partition,"numbers_to",t.target.value)}}})]),e.current_customer?i("div",{staticClass:"eight wide red field"},[i("label",[e._v(e._s(e.$t("models.attributes.partitions.customer")))]),i("input",{attrs:{disabled:""},domProps:{value:e.current_customer.company_short_name}})]):i("div",{staticClass:"eight wide red field"},[i("label",[e._v(e._s(e.$t("models.attributes.partitions.customer")))]),i("input",{attrs:{disabled:""},domProps:{value:e.$t("ui.general.no")}})]),i("div",{staticClass:"eight wide red field"},[i("label",[e._v("可用合約")]),e.current_customer?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.partition.contract_ids,expression:"partition.contract_ids"}],staticClass:"ui dropdown partition_type",attrs:{multiple:"",disabled:""},on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.partition,"contract_ids",t.target.multiple?i:i[0])},function(t){e.$forceUpdate()}]}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.current_customer.contracts,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2):e._e()]),i("div",{staticClass:"eight wide red field",attrs:{"data-column":"material_identity"}},[i("label",[e._v("\n                    "+e._s(e.$t("models.attributes.partitions.material"))+"\n                    "),e.partition.material_identity?i("i",{staticClass:"pointer remove circle outline red icon clear_dropdown",on:{click:function(t){e.clear_dropdown(".ui.dropdown.material_identity")}}}):e._e()]),e.current_store.customers?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.partition.material_identity,expression:"partition.material_identity"}],staticClass:"ui dropdown material_identity",on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.partition,"material_identity",t.target.multiple?i:i[0])},function(t){e.$forceUpdate()}]}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.current_store.materials,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2):i("div",{staticClass:"ui inline active loader"})]),i("div",{staticClass:"eight wide red field"},[i("label",[e._v("\n                    標籤種類\n                    "),e.partition.label_type?i("i",{staticClass:"pointer remove circle outline red icon clear_dropdown",on:{click:function(t){e.clear_dropdown(".ui.dropdown.label_type")}}}):e._e()]),i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.partition.label_type,expression:"partition.label_type"}],staticClass:"ui dropdown label_type",on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.partition,"label_type",t.target.multiple?i:i[0])},function(t){e.$forceUpdate()}]}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),i("option",{attrs:{value:"Label::Default"}},[e._v("TW568預設")]),"BY"==e.$store.state.provider.node.code?i("option",{attrs:{value:"Label::ByExpress"}},[e._v("博宇速運")]):e._e(),"CQF"==e.$store.state.provider.node.code?i("option",{attrs:{value:"Label::ChangQing"}},[e._v("長慶運通")]):e._e(),"FR"==e.$store.state.provider.node.code?i("option",{attrs:{value:"Label::FlyCargo"}},[e._v("飛樂航空")]):e._e(),i("option",{attrs:{value:"Label::HCT"}},[e._v("新竹物流")]),i("option",{attrs:{value:"Label::TCat"}},[e._v("統一速達")]),i("option",{attrs:{value:"Label::Pelican"}},[e._v("宅配通")]),i("option",{attrs:{value:"Label::Presco"}},[e._v("統一超商(統一數網)")]),i("option",{attrs:{value:"Label::PrescoInvoice"}},[e._v("統一超商含發票(統一數網)")]),i("option",{attrs:{value:"Label::FamilyMart"}},[e._v("全家便利商店(日翊文化)")]),i("option",{attrs:{value:"Label::FamilyMartInvoice"}},[e._v("全家便利商店含發票(日翊文化)")])])]),i("div",{staticClass:"eight wide red field"},[i("label",[e._v("\n                    號碼規則\n                    "),e.partition.numbers_rule?i("i",{staticClass:"pointer remove circle outline red icon clear_dropdown",on:{click:function(t){e.clear_dropdown(".ui.dropdown.numbers_rule")}}}):e._e()]),i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.partition.numbers_rule,expression:"partition.numbers_rule"}],staticClass:"ui dropdown numbers_rule",on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.partition,"numbers_rule",t.target.multiple?i:i[0])},function(t){e.$forceUpdate()}]}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),i("option",{attrs:{value:"tcat_numbers_rule"}},[e._v("黑貓檢查碼")]),i("option",{attrs:{value:"hct_numbers_rule"}},[e._v("新竹檢查碼")]),i("option",{attrs:{value:"pelican_numbers_rule"}},[e._v("宅配通檢查碼")])])]),i("div",{staticClass:"eight wide red field"},[i("label",[e._v("\n                    區間類型\n                    "),e.partition.partition_type?i("i",{staticClass:"pointer remove circle outline red icon clear_dropdown",on:{click:function(t){e.clear_dropdown(".ui.dropdown.partition_type")}}}):e._e()]),i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.partition.partition_type,expression:"partition.partition_type"}],staticClass:"ui dropdown partition_type",on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.partition,"partition_type",t.target.multiple?i:i[0])},function(t){e.$forceUpdate()}]}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),i("option",{attrs:{value:"Manual"}},[e._v("手動取號")]),i("option",{attrs:{value:"Auto"}},[e._v("自動取號")]),i("option",{attrs:{value:"Group"}},[e._v("區間群組")])])]),i("div",{staticClass:"eight wide red field",attrs:{"data-column":"note"}},[i("label",[e._v(e._s(e.$t("models.attributes.partitions.note")))]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.partition.note,expression:"partition.note"}],attrs:{rows:"4"},domProps:{value:e.partition.note},on:{input:function(t){t.target.composing||e.$set(e.partition,"note",t.target.value)}}})]),i("div",{staticClass:"eight wide red field"},[i("label",[e._v("\n                    "+e._s(e.$t("ui.pages.partitions.statistics"))+"\n                ")]),e._v("\n                "+e._s(e.$t("models.attributes.partitions.numbers_from"))+"："+e._s(e.partition.numbers_from)),i("br"),e._v("\n                "+e._s(e.$t("models.attributes.partitions.numbers_to"))+"："+e._s(e.partition.numbers_to)),i("br"),e._v("\n                "+e._s(e.$t("ui.pages.partitions.total_amount"))+"："+e._s(e.number_with_commas(e.partition.numbers_amount))),i("br"),e._v("\n                "+e._s(e.$t("ui.pages.partitions.available_quantity"))+"："+e._s(e.number_with_commas(e.partition.remaining_numbers))+"\n            ")])]),e._l(e.trial_errors,function(t,n,a){return i("div",{staticClass:"ui negative message"},[i("h3",[e._v(e._s(e.$t("models.attributes.partitions."+n)))]),i("ul",e._l(t,function(t){return i("li",[e._v(e._s(t))])}))])}),!e.trialed_partition||e.trial_errors||e.is_trialling?e._e():i("div",{staticClass:"ui positive message"},[i("h2",[e._v("\n                "+e._s(e.$t("ui.general.verify"))+"\n                "+e._s(e.$t("ui.general.result"))+"\n            ")]),i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n                "+e._s(e.$t("models.attributes.partitions.numbers_from"))+"：\n            ")]),e._v("\n            "+e._s(e.trialed_partition.numbers_from)),i("br"),i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n                "+e._s(e.$t("models.attributes.partitions.numbers_to"))+"：\n            ")]),e._v("\n            "+e._s(e.trialed_partition.numbers_to)),i("br"),i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n                "+e._s(e.$t("ui.pages.partitions.total_amount"))+"：\n            ")]),e._v("\n            "+e._s(e.number_with_commas(e.trialed_partition.numbers_amount))),i("br"),i("span",{staticStyle:{"font-weight":"bold","font-size":"1.1em"}},[e._v("\n                "+e._s(e.$t("ui.pages.partitions.available_quantity"))+"：\n            ")]),e._v("\n            "+e._s(e.number_with_commas(e.trialed_partition.remaining_numbers))+"\n        ")]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui buttons"},[i("router-link",{staticClass:"ui button",attrs:{to:{name:"partitions"}}},[e._v("\n                "+e._s(e.$t("ui.general.back"))+"\n            ")]),i("div",{staticClass:"or"}),e.is_trialling?i("a",{staticClass:"ui orange button",attrs:{href:"#"}},[e._v("\n                "+e._s(e.$t("ui.general.verifying"))+"...\n            ")]):i("a",{staticClass:"ui orange button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.trial_partition()}}},[e._v("\n                "+e._s(e.$t("ui.general.verify"))+"\n            ")]),i("div",{staticClass:"or"}),e.is_loading?i("a",{staticClass:"ui blue button",attrs:{href:"#"}},[e._v("\n                "+e._s(e.$t("ui.general.updating"))+"...\n            ")]):i("a",{staticClass:"ui blue button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.update_partition()}}},[e._v(e._s(e.$t("ui.general.update")))])],1)],2)]):e._e()},RR=[];function IR(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function TR(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){IR(r,n,a,s,o,"next",e)}function o(e){IR(r,n,a,s,o,"throw",e)}s(void 0)})}}var OR={name:"EditPartition",mixins:[ll.a],props:{},data:function(){return{is_loading:!1,partition:{},is_trialling:!1,trialed_partition:null,trial_errors:null}},watch:{},mounted:function(){this.fetch_partition()},methods:{clear_dropdown:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.partition.customer_identity=null,$(e).dropdown("clear")},number_with_commas:function(e){return e?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"N/A"},fetch_partition:function(){var e=this,t=new RestUrl(this.$store.state.provider.routes.api_v1_provider_partition).parse({partition_identity:this.$route.params.partition_identity});return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.partition=t.data.partition})["catch"](function(e){return Promise.reject(e)})},trial_partition:function(){var e=this;if(this.trial_errors=null,this.valid()){this.is_trialling=!0;var t=this.partition,i=new RestUrl(this.$store.state.provider.routes.api_v1_provider_partition_trial).parse({partition_identity:this.partition.identity});return axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.trialed_partition=t.data.partition,e.is_trialling=!1):(e.trial_errors=t.data.errors,e.$noty.error(e.$t("ui.notifications.error.verify__name",{name:e.$t("models.partitions")})),e.is_trialling=!1,Promise.reject())})["catch"](function(t){e.$noty.error(e.$t("ui.general.verify")+" "+e.$t("partition")+" "+e.$t("ui.general.error")),e.is_trialling=!1})}},update_partition:function(){var e=TR(regeneratorRuntime.mark(function e(){var t,i,n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.valid()){e.next=7;break}return e.next=3,this.trial_partition();case 3:return this.is_loading=!0,t=this.partition,i=new RestUrl(this.$store.state.provider.routes.api_v1_provider_partition_update).parse({partition_identity:this.partition.identity}),e.abrupt("return",axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){"success"==e.data.status?(n.$store.commit("provider/partitions_module/update_partition",e.data.partition),n.$bus.$emit("out_of_date",n.$store.state.instance_identity,"partitions"),n.$noty.success(n.$t("ui.notifications.success.update__name",{name:n.$t("models.partitions")})),n.$router.push("/provider/partitions"),n.is_loading=!1):(n.$noty.error(n.$t("ui.notifications.error.update__name",{name:n.$t("models.partitions")})),n.is_loading=!1)})["catch"](function(e){console.log(e),n.$noty.error(n.$t("ui.notifications.error.update__name",{name:n.$t("models.partitions")})),n.is_loading=!1}));case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},validator:{target:"partition",localize_key:"partitions",input_alert:!0,attributes:[{name:"name",required:!0},{name:"customer_identity",required:!1},{name:"numbers_from",required:!0},{name:"numbers_to",required:!0},{name:"note",required:!1}]},computed:{current_store:function(){return this.$store.state.provider.partitions_module},current_customer:function(){var e=this;return _.findLast(this.current_store.customers,function(t){return t.identity==e.partition.customer_identity})}},components:{FileUploader:xo["a"]}},LR=OR,DR=Object(lt["a"])(LR,jR,RR,!1,null,null,null),BR=DR.exports,MR="station_partitions",UR="station_associated_partitions",FR="new_station_partition",GR="edit_station_partition",HR=[{path:"",component:lR,name:"station_partitions",meta:{breadcrumb:[MR],btns:[FR,UR]}},{path:"station_associated_partitions",component:CR,name:"associated_partitions",meta:{breadcrumb:[MR,UR],btns:[MR]}},{path:"new",component:zR,name:"new_station_partition",meta:{breadcrumb:[MR,FR]}},{path:":partition_identity/edit",component:BR,name:"edit_station_partition",meta:{breadcrumb:[MR,GR]}}],YR=HR,KR=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"staffs_layout"}},[e.is_initialized?i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1):i("div",{staticClass:"ui active centered inline large loader"}),i("BackToTopButton",{tag:"div"})],1)},WR=[];function VR(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function XR(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){VR(r,n,a,s,o,"next",e)}function o(e){VR(r,n,a,s,o,"throw",e)}s(void 0)})}}var QR={name:"StaffsLayout",data:function(){return{is_initialized:!1,errors:[]}},created:function(){},mounted:function(){var e=this;e.init(),e.$bus.$off("init"),e.$bus.$on("init",function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.init()}.bind(this))},beforeDestroy:function(){this.$bus.$off("init")},watch:{},methods:{init:function(){var e=XR(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,new Promise(function(e){t.is_initialized=!0,t.$noty.information(t.$t("ui.page_titles.staffs")+" "+t.$t("ui.general.initialize_complete"),300),e()});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{BackToTopButton:Ll}},ZR=QR,JR=(n("e825"),Object(lt["a"])(ZR,KR,WR,!1,null,null,null)),eI=JR.exports,tI=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"staffs"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),i("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[i("div"),i("div",{staticClass:"ui segment",style:{width:e.filter.is_advanced_mode?"100%":"auto",margin:0}},[i("FilterHeader",{staticClass:"right floated"}),i("div",{staticClass:"clear"}),i("FilterAdvanced",{staticClass:"ui transition hidden filter"})],1)]),i("div",{staticClass:"ui segment"},[i("table",{staticClass:"ui celled table"},[i("thead",{staticClass:"center aligned"},[i("tr",[i("th",[e._v(e._s(e.$t("models.attributes.staffs.username")))]),i("th",[e._v(e._s(e.$t("models.attributes.staffs.name")))]),i("th",[e._v(e._s(e.$t("models.attributes.staffs.phone")))]),i("th",[e._v(e._s(e.$t("models.attributes.staffs.role")))]),i("th",[e._v(e._s(e.$t("models.attributes.staffs.theme_name")))]),i("th",[e._v(e._s(e.$t("models.attributes.staffs.station")))]),i("th",[e._v(e._s(e.$t("ui.pages.staffs.banned")))]),i("th",[e._v(e._s(e.$t("ui.general.operate")))])])]),e.is_loading?i("tbody",{staticClass:"center aligned"},[e._m(0)]):i("tbody",{staticClass:"center aligned"},[e._l(e.staffs,function(e){return i("Staff",{key:e.identity,attrs:{staff:e}})}),e.staffs.length<=0?i("tr",{staticClass:"center aligned"},[i("td",{attrs:{colspan:"6"}},[i("h5",[e._v(e._s(e.$t("ui.general.no_data")))])])]):e._e()],2)]),i("Paginator",{tag:"div",attrs:{total_pages:e.pagination.total_pages,current_page:e.pagination.current_page,disabled:e.is_loading}})])],1)},iI=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"loading"},[i("td",{attrs:{colspan:"6"}},[i("div",{staticClass:"ui active centered inline loader"})])])}],nI=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.staff?i("tr",[i("td",[e._v(" "+e._s(e.staff.username))]),i("td",[e._v(" "+e._s(e.staff.name))]),i("td",[e._v(" "+e._s(e.staff.phone))]),i("td",["manager"==e.$store.state.station.current_staff.theme_name?i("router-link",{attrs:{"data-tooltip":e.$t("ui.general.edit")+" "+e.$t("models.roles"),to:{name:"edit_role",params:{identity:e.staff.role_identity}}}},[e._v("\n            "+e._s(e.role_name)+"\n        ")]):i("span",[e._v("\n            "+e._s(e.role_name)+"\n        ")])],1),i("td",[e._v("\n        "+e._s(e.$t("ui.theme_names."+e.staff.theme_name))+"\n    ")]),i("td",[e._v("\n        "+e._s(e.station_name)+"\n    ")]),i("td",[e.staff.is_banned?e._e():i("span",[i("i",{staticClass:"check icon"}),e._v(" "+e._s(e.$t("ui.pages.staffs.normal"))+"\n        ")]),e.staff.is_banned?i("span",[i("i",{staticClass:"remove icon"}),e._v(" "+e._s(e.$t("ui.pages.staffs.banned"))+"\n        ")]):e._e()]),i("td",[i("router-link",{staticClass:"ui basic blue button",attrs:{to:{name:"appraisals",params:{staff_identity:e.staff.identity}}}},[e._v("\n            "+e._s(e.$t("ui.pages.staffs.appraisals"))+"\n        ")]),i("router-link",{staticClass:"ui basic green button",attrs:{to:{name:"edit_staff",params:{identity:e.staff.identity}}}},[e._v("\n            "+e._s(e.$t("ui.general.edit"))+"\n        ")]),i("button",{staticClass:"ui basic button",class:{positive:e.staff.is_banned,negative:!e.staff.is_banned},on:{click:e.toggle_is_banned}},[e.staff.is_banned?i("span",[e._v("\n                "+e._s(e.$t("ui.pages.staffs.unbanned"))+"\n            ")]):i("span",[e._v("\n                "+e._s(e.$t("ui.pages.staffs.banned"))+"\n            ")])]),i("a",{staticClass:"ui basic red button",on:{click:function(t){t.preventDefault(),e.delete_staff()}}},[e._v("\n            "+e._s(e.$t("ui.general.delete"))+"\n        ")])],1)]):e._e()},aI=[],rI={name:"ProviderStaffsIndexItem",props:{staff:Object},data:function(){return{is_loading:!1}},computed:{station_name:function(){var e=this,t=_.find(e.$store.state.station.stations,{identity:e.staff.station_identity});return t?t.name:"-"},role_name:function(){var e=this,t=_.find(e.$store.state.station.staffs_module.roles,function(t){return t.identity==e.staff.role_identity});return t?t.name:"-"}},mounted:function(){},methods:{delete_staff:function(){var e=this;if(confirm(this.$t("ui.notifications.warning.are_you_sure_to_delete_it"))){e.is_loading=!0;var t=new RestUrl(e.$store.state.station.routes.api_v1_station_staff_delete).parse({identity:e.staff.identity});axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$parent.init(),e.$noty.success(e.$t("ui.notifications.success.delete__name",{name:e.staff.username})),e.$store.dispatch("station/fetch_current_staff"),e.$store.dispatch("station/fetch_current_staff_permissions")):(console.log(t.data),e.$noty.error(e.$t("ui.notifications.error.delete__name",{name:e.staff.username})))})["catch"](function(t){console.log(t.response),e.$noty.error(e.$t("ui.notifications.error.delete__name",{name:e.staff.username}))})["finally"](function(){e.is_loading=!1})}},toggle_is_banned:function(){var e=this;e.is_loading=!0;var t=new RestUrl(e.$store.state.station.routes.api_v1_station_staff_update).parse({identity:e.staff.identity});axios.post(t,{is_banned:!e.staff.is_banned},{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.staff.is_banned=t.data.staff.is_banned,e.$noty.success(e.$t("ui.notifications.success.update__name",{name:e.$t("models.staffs")}))):e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.staffs")}))})["catch"](function(e){console.log(e.response)})["finally"](function(){e.is_loading=!1})}}},sI=rI,oI=(n("6cab"),Object(lt["a"])(sI,nI,aI,!1,null,"6f30946f",null)),cI=oI.exports,_I=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"filter_advanced"}},[i("div",{staticClass:"ui form",on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$parent.fetch_staffs(1)}}},[i("div",{staticClass:"three fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.username")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.username,expression:"filter.columns.username"}],attrs:{type:"text"},domProps:{value:e.filter.columns.username},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"username",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.name,expression:"filter.columns.name"}],attrs:{type:"text"},domProps:{value:e.filter.columns.name},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"name",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.is_banned")))]),i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.is_banned,expression:"filter.columns.is_banned"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.filter.columns.is_banned)?e._i(e.filter.columns.is_banned,null)>-1:e.filter.columns.is_banned},on:{change:function(t){var i=e.filter.columns.is_banned,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&e.$set(e.filter.columns,"is_banned",i.concat([r])):s>-1&&e.$set(e.filter.columns,"is_banned",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.filter.columns,"is_banned",a)}}}),i("label",[e._v(e._s(e.$t("ui.general.yes")))])])])]),i("div",{staticClass:"three fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.role_identity")))]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection fluid dropdown"},[e._l(e.roles,function(t){return e.filter.columns.role_identity==t.identity?i("div",{staticClass:"text"},[e._v("\n                        "+e._s(t.name)+"\n                    ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.roles,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.columns.role_identity==t.identity},on:{click:function(i){e.filter.columns.role_identity=t.identity}}},[e._v("\n                            "+e._s(t.name)+"\n                        ")])}))],2)]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.station_identity")))]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection fluid dropdown"},[e._l(e.stations,function(t){return e.filter.columns.station_identity==t.identity?i("div",{staticClass:"text"},[e._v("\n                        "+e._s(t.name)+"\n                    ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.stations,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.columns.station_identity==t.identity},on:{click:function(i){e.filter.columns.station_identity=t.identity}}},[e._v("\n                            "+e._s(t.name)+"\n                        ")])}))],2)]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.theme_name")))]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection fluid dropdown"},[e._l(e.theme_names,function(t){return e.filter.columns.theme_name==t?i("div",{staticClass:"text"},[i("span",t?[e._v("\n                            "+e._s(e.$t("ui.theme_names."+t))+"\n                        ")]:[e._v("\n                            "+e._s(e.$t("ui.general.please_select"))+"\n                        ")])]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.theme_names,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.columns.theme_name==t},on:{click:function(i){e.filter.columns.theme_name=t}}},[i("span",t?[e._v("\n                                "+e._s(e.$t("ui.theme_names."+t))+"\n                            ")]:[e._v("\n                                "+e._s(e.$t("ui.general.please_select"))+"\n                            ")])])}))],2)])])]),i("div",{staticClass:"ui icon blue button right floated",on:{click:function(t){e.$parent.fetch_staffs(1)}}},[i("i",{staticClass:"search icon"}),e._v("\n        "+e._s(e.$t("ui.general.search"))+"\n    ")]),i("div",{staticClass:"clear"})])},lI=[],uI={name:"StaffsFilterAdvanced",data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.station.staffs_module},filter:function(){return this.current_store.filter},theme_names:function(){return[null].concat(this.$store.state.station.theme_menu_keys)},roles:function(){return[{name:this.$t("ui.general.please_select"),identity:null}].concat(this.$store.state.station.staffs_module.roles)},stations:function(){return[{name:this.$t("ui.general.please_select"),identity:null}].concat(this.$store.state.station.stations)}},created:function(){},mounted:function(){},watch:{},methods:{},components:{}},dI=uI,pI=(n("dbcc"),Object(lt["a"])(dI,_I,lI,!1,null,"233497da",null)),mI=pI.exports,fI=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"filter_general"}},[e.filter.is_advanced_mode?e._e():i("div",{staticClass:"ui action input"},["role_identity"!=e.filter.current_shortcut_key&&"station_identity"!=e.filter.current_shortcut_key&&"theme_name"!=e.filter.current_shortcut_key&&"is_banned"!=e.filter.current_shortcut_key?i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns[e.filter.current_shortcut_key],expression:"filter.columns[filter.current_shortcut_key]"}],attrs:{placeholder:e.$t("ui.general.search__key",{key:e.$t("models.attributes.staffs."+e.filter.current_shortcut_key)}),type:"text"},domProps:{value:e.filter.columns[e.filter.current_shortcut_key]},on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$parent.fetch_staffs(1)},input:function(t){t.target.composing||e.$set(e.filter.columns,e.filter.current_shortcut_key,t.target.value)}}}):"role_identity"==e.filter.current_shortcut_key?i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection fluid dropdown right_radius",staticStyle:{"min-width":"200px"}},[e._l(e.roles,function(t){return e.filter.columns.role_identity==t.identity?i("div",{staticClass:"text"},[e._v("\n                "+e._s(t.name)+"\n            ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.roles,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.columns.role_identity==t.identity},on:{click:function(i){e.filter.columns.role_identity=t.identity}}},[e._v("\n                    "+e._s(t.name)+"\n                ")])}))],2):"station_identity"==e.filter.current_shortcut_key?i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection fluid dropdown right_radius",staticStyle:{"min-width":"200px"}},[e._l(e.stations,function(t){return e.filter.columns.station_identity==t.identity?i("div",{staticClass:"text"},[e._v("\n                "+e._s(t.name)+"\n            ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.stations,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.columns.station_identity==t.identity},on:{click:function(i){e.filter.columns.station_identity=t.identity}}},[e._v("\n                    "+e._s(t.name)+"\n                ")])}))],2):"theme_name"==e.filter.current_shortcut_key?i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection fluid dropdown right_radius",staticStyle:{"min-width":"200px"}},[e._l(e.theme_names,function(t){return e.filter.columns.theme_name==t?i("div",{staticClass:"text"},[i("span",t?[e._v("\n                    "+e._s(e.$t("ui.theme_names."+t))+"\n                ")]:[e._v("\n                    "+e._s(e.$t("ui.general.please_select"))+"\n                ")])]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.theme_names,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.columns.theme_name==t},on:{click:function(i){e.filter.columns.theme_name=t}}},[i("span",t?[e._v("\n                        "+e._s(e.$t("ui.theme_names."+t))+"\n                    ")]:[e._v("\n                        "+e._s(e.$t("ui.general.please_select"))+"\n                    ")])])}))],2):e._e(),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection dropdown no_search right_radius",staticStyle:{"min-width":"120px"}},[e._l(e.filter.shortcut_keys,function(t){return e.filter.current_shortcut_key==t?i("div",{staticClass:"text"},["is_banned"==e.filter.current_shortcut_key?i("span",[e._v("\n                    "+e._s(e.$t("ui.pages.staffs.is_banned"))+"\n                ")]):i("span",[e._v("\n                    "+e._s(e.$t("models.attributes.staffs."+t))+"\n                ")])]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.filter.shortcut_keys,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.current_shortcut_key==t},on:{click:function(i){e.set_quick_filter(t)}}},[i("span","is_banned"==t?[e._v("\n                        "+e._s(e.$t("ui.pages.staffs.is_banned"))+"\n                    ")]:[e._v("\n                        "+e._s(e.$t("models.attributes.staffs."+t))+"\n                    ")])])}))],2),i("div",{staticClass:"ui button icon",on:{click:function(t){e.$parent.fetch_staffs(1)}}},[i("i",{staticClass:"search icon"})])]),e.filter.is_advanced_mode?i("div",{staticClass:"ui basic red icon button",on:{click:function(t){e.$store.commit("station/staffs_module/init_filter_columns")}}},[i("i",{staticClass:"close icon"}),e._v("\n        "+e._s(e.$t("ui.general.clear"))+"\n    ")]):e._e(),i("div",{staticClass:"ui button icon",style:{height:e.filter.is_advanced_mode?"auto":"38px",paddingTop:e.filter.is_advanced_mode?"":"13px",verticalAlign:e.filter.is_advanced_mode?"":"top"},on:{click:function(t){e.filter.is_advanced_mode=!e.filter.is_advanced_mode}}},[i("i",{staticClass:"bars icon",class:{minus:e.filter.is_advanced_mode,bars:!e.filter.is_advanced_mode}})])])},vI=[],hI={name:"StaffsFilterHeader",data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.station.staffs_module},filter:function(){return this.current_store.filter},theme_names:function(){return[null].concat(this.$store.state.station.theme_menu_keys)},roles:function(){return[{name:this.$t("ui.general.please_select"),identity:null}].concat(this.$store.state.station.staffs_module.roles)},stations:function(){return[{name:this.$t("ui.general.please_select"),identity:null}].concat(this.$store.state.station.stations)}},created:function(){},mounted:function(){},watch:{},methods:{set_quick_filter:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var i=this;i.filter.current_shortcut_key=t,_.forEach(i.filter.shortcut_keys,function(e){i.filter.columns[e]=null}),"is_banned"==t&&(i.filter.columns.is_banned=!0)}catch(e){console.log(e)}}},components:{}},gI=hI,bI=(n("b5ec"),Object(lt["a"])(gI,fI,vI,!1,null,"d1238344",null)),yI=bI.exports;function wI(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function $I(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){wI(r,n,a,s,o,"next",e)}function o(e){wI(r,n,a,s,o,"throw",e)}s(void 0)})}}var kI={name:"StaffsIndex",data:function(){return{is_initialized:!1,is_loading:!1,is_search_params_changed:!1,staffs:[],roles:[],errors:[]}},computed:{current_store:function(){return this.$store.state.station.staffs_module},pagination:function(){return this.current_store.pagination},filter:function(){return this.current_store.filter}},created:function(){},mounted:function(){this.init(),this.pagination.current_page=1},watch:{$route:{handler:function(e,t){var i=e.query.page;i&&(this.pagination.current_page=Number(i),this.$store.commit("station/staffs_module/set_current_page",i),this.fetch_staffs())},immediate:!0},"filter.is_advanced_mode":function(e){$("#staffs .ui.transition.filter").transition(e?"fade down":"hide"),e||this.$store.commit("station/staffs_module/init_filter_columns")}},methods:{init:function(){var e=$I(regeneratorRuntime.mark(function e(){var t,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,new Promise(function(e){t.is_initialized=!1,e()});case 4:return e.next=6,t.fetch_staffs();case 6:return e.next=8,new Promise(function(e){i.filter.is_advanced_mode&&$("#staffs .ui.transition.filter").transition("fade down"),t.is_initialized=!0,e()});case 8:e.next=13;break;case 10:switch(e.prev=10,e.t0=e["catch"](1),e.t0){default:t.$noty.error("非預期的錯誤: "+e.t0),console.log("非預期的錯誤: "),console.log(e.t0)}case 13:return e.prev=13,e.finish(13);case 15:case"end":return e.stop()}},e,this,[[1,10,13,15]])}));function t(){return e.apply(this,arguments)}return t}(),fetch_staffs:function(e){var t=this;if(1==e&&(this.pagination.current_page=1,t.$route.query.page=1),0==t.is_loading){t.errors=[],t.is_loading=!0,t.is_search_params_changed&&(t.$store.commit("station/staffs_module/set_current_page",null),t.is_search_params_changed=!1);var i=new RestUrl(t.$store.state.station.routes.api_v1_station_staffs).parse({},"?"+object_to_query(t.filter.columns)+"&"+object_to_query({page:t.pagination.current_page}));return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){if("success"!=e.data.status)return Promise.reject(e.data);t.staffs=e.data.staffs,t.$store.commit("station/staffs_module/set_current_page",e.data.pagination.current_page),t.$store.commit("station/staffs_module/set_total_pages",e.data.pagination.total_pages)})["catch"](function(e){if(e.response){switch(e.response.status){default:t.errors.push(e.response.status+" "+e.response.statusText)}t.$noty.error(t.$t("ui.notifications.error.fetch__name",{name:t.$t("models.staffs"),reason:": "+e.response.status+" "+e.response.statusText}))}else e.errors?(t.$noty.error(t.$t("ui.notifications.error.fetch__name",{name:t.$t("models.staffs"),reason:": "+e.errors})),t.errors=response.data.errors):(t.errors.push(t.$t("ui.general.server_offline")),t.$noty.error(t.$t("ui.general.server_offline")));return Promise.reject(e)})["finally"](function(){setTimeout(function(){t.is_loading=!1},300)})}},init_filter_columns:function(){this.$store.commit("station/staffs_module/init_filter_columns"),$("#staffs .ui.dropdown").dropdown("clear")},toggle_filter:function(){this.$store.commit("station/staffs_module/toggle_filter")}},components:{Staff:cI,Paginator:cr,ErrorMessages:wc,FilterAdvanced:mI,FilterHeader:yI}},CI=kI,xI=(n("95c1"),Object(lt["a"])(CI,tI,iI,!1,null,"8c48bdfa",null)),PI=xI.exports,SI=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"new_staff"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),i("div",{staticClass:"contents"},[i("div",{staticClass:"ui form",class:{loading:e.is_loading}},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.username"))+" "),i("span",[e._v("*")])]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.username,expression:"staff.username"}],attrs:{type:"text",name:"username"},domProps:{value:e.staff.username},on:{input:function(t){t.target.composing||e.$set(e.staff,"username",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.password"))+" "),i("span",[e._v("*")])]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.password,expression:"staff.password"}],attrs:{type:"password",name:"password"},domProps:{value:e.staff.password},on:{input:function(t){t.target.composing||e.$set(e.staff,"password",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.password_confirmation"))+" "),i("span",[e._v("*")])]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.password_confirmation,expression:"staff.password_confirmation"}],attrs:{type:"password",autocomplete:"off",name:"password_confirmation"},domProps:{value:e.staff.password_confirmation},on:{input:function(t){t.target.composing||e.$set(e.staff,"password_confirmation",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.name"))+" "),i("span",[e._v("*")])]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.name,expression:"staff.name"}],attrs:{type:"text",name:"name"},domProps:{value:e.staff.name},on:{input:function(t){t.target.composing||e.$set(e.staff,"name",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.phone")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.phone,expression:"staff.phone"}],attrs:{type:"text",name:"phone"},domProps:{value:e.staff.phone},on:{input:function(t){t.target.composing||e.$set(e.staff,"phone",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.email")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.email,expression:"staff.email"}],attrs:{type:"email",name:"email"},domProps:{value:e.staff.email},on:{input:function(t){t.target.composing||e.$set(e.staff,"email",t.target.value)}}})]),e.roles?i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.role"))+" "),i("span",[e._v("*")])]),i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.staff.role_identity,expression:"staff.role_identity"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.staff,"role_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.$store.state.station.staffs_module.roles,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2)]):e._e(),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.theme_name"))+" "),i("span",[e._v("*")])]),i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.staff.theme_name,expression:"staff.theme_name"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.staff,"theme_name",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.$store.state.station.theme_menu_keys,function(t){return i("option",{domProps:{value:t}},[e._v(e._s(e.$t("ui.theme_names."+t)))])})],2)]),i("div",{staticClass:"field"},[i("label",[e._v("\n                    "+e._s(e.$t("models.attributes.staffs.station"))+"\n                    "),e.staff.station_identity?i("i",{staticClass:"pointer remove circle outline red icon clear_dropdown",on:{click:function(t){e.staff.station_identity=null,e.$(e.$refs.station_identity).dropdown("clear")}}}):e._e()]),i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.staff.station_identity,expression:"staff.station_identity"}],ref:"station_identity",staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.staff,"station_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.$store.state.station.stations,function(t){return i("option",{domProps:{value:t.identity}},[e._v("\n                        "+e._s(t.name)+"\n                    ")])})],2)]),i("div",{staticClass:"ui basic positive button",on:{click:e.create_staff}},[e._v("\n                "+e._s(e.$t("ui.general.submit"))+"\n            ")]),i("router-link",{staticClass:"ui basic button",attrs:{to:{name:"staffs"}}},[i("i",{staticClass:"undo icon"}),e._v("\n                "+e._s(e.$t("ui.general.back"))+"\n            ")])],1)])],1)},NI=[],AI={name:"NewStaff",data:function(){return{is_loading:!1,staff:{name:null,username:null,email:null,phone:null,password:null,password_confirmation:null,role_identity:null,theme_name:null,station_identity:null},errors:[]}},mounted:function(){var e=this;e.form_validation()},computed:{operator:function(){return this.$store.state.station.staffs_module.operator},roles:function(){return this.$store.state.station.staffs_module.roles}},methods:{create_staff:function(){var e=this,t=_.clone(e.staff);if(e.errors=[],t.username&&t.password&&t.password_confirmation&&t.name&&t.role_identity&&t.theme_name)if(t.password!=t.password_confirmation)e.errors.push("請檢查密碼與確認密碼是否一致");else{var i=e.$store.state.station.routes.api_v1_station_staffs_create;e.is_loading=!0,axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?e.$router.push({name:"staffs"}):(console.log(t.data),e.errors=t.data.errors,e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.staffs")})))})["catch"](function(e){console.log(e.response)}).then(function(){e.is_loading=!1})}else e.errors.push(e.$t("ui.notifications.error.please_check_to_write_in_the_required_fields_mark"))},form_validation:function(){$(".ui.form").form({on:"blur",fields:{username:"empty",password:"empty",password_confirmation:"empty",name:"empty",role_identity:"empty"}})}},components:{ErrorMessages:wc}},EI=AI,qI=(n("8bb0"),Object(lt["a"])(EI,SI,NI,!1,null,"2326edc2",null)),zI=qI.exports,jI=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"edit_staff"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),e.is_initialized?i("div",{staticClass:"contents"},[e.is_loading?i("div",{staticClass:"ui active centered inline loader"}):i("div",{staticClass:"ui form"},[i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.username")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.username,expression:"staff.username"}],attrs:{type:"text",name:"username"},domProps:{value:e.staff.username},on:{input:function(t){t.target.composing||e.$set(e.staff,"username",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.password"))+" "),i("span",[e._v("*")])]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.password,expression:"staff.password"}],attrs:{type:"password",name:"password"},domProps:{value:e.staff.password},on:{input:function(t){t.target.composing||e.$set(e.staff,"password",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.password_confirmation"))+" "),i("span",[e._v("*")])]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.password_confirmation,expression:"staff.password_confirmation"}],attrs:{type:"password",autocomplete:"off",name:"password_confirmation"},domProps:{value:e.staff.password_confirmation},on:{input:function(t){t.target.composing||e.$set(e.staff,"password_confirmation",t.target.value)}}})]),i("div",{staticClass:"eight wide field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.name,expression:"staff.name"}],attrs:{type:"text",name:"name"},domProps:{value:e.staff.name},on:{input:function(t){t.target.composing||e.$set(e.staff,"name",t.target.value)}}})]),i("div",{staticClass:"eight wide field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.phone")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.phone,expression:"staff.phone"}],attrs:{type:"text",name:"phone"},domProps:{value:e.staff.phone},on:{input:function(t){t.target.composing||e.$set(e.staff,"phone",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.email")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.email,expression:"staff.email"}],attrs:{type:"text",name:"email"},domProps:{value:e.staff.email},on:{input:function(t){t.target.composing||e.$set(e.staff,"email",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.role"))+" "),i("span",[e._v("*")])]),i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.staff.role_identity,expression:"staff.role_identity"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.staff,"role_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.$store.state.station.staffs_module.roles,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2)]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.staffs.theme_name"))+" "),i("span",[e._v("*")])]),i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.staff.theme_name,expression:"staff.theme_name"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.staff,"theme_name",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.$store.state.station.theme_menu_keys,function(t){return i("option",{domProps:{value:t}},[e._v(e._s(e.$t("ui.theme_names."+t)))])})],2)]),i("div",{staticClass:"field"},[i("label",[e._v("\n                    "+e._s(e.$t("models.attributes.staffs.station"))+"\n                    "),e.staff.station_identity?i("i",{staticClass:"pointer remove circle outline red icon clear_dropdown",on:{click:function(t){e.staff.station_identity=null,e.$(e.$refs.station_identity).dropdown("clear")}}}):e._e()]),i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.staff.station_identity,expression:"staff.station_identity"}],ref:"station_identity",staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.staff,"station_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.$store.state.station.stations,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2)]),i("div",{staticClass:"ui basic positive button",on:{click:e.update_staff}},[e._v("\n                "+e._s(e.$t("ui.general.submit"))+"\n            ")]),i("router-link",{staticClass:"ui basic button",attrs:{to:{name:"staffs"}}},[i("i",{staticClass:"undo icon"}),e._v("\n                "+e._s(e.$t("ui.general.back"))+"\n            ")])],1)]):e._e()],1)},RI=[];function II(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function TI(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){II(r,n,a,s,o,"next",e)}function o(e){II(r,n,a,s,o,"throw",e)}s(void 0)})}}var OI={name:"EditStaff",data:function(){return{is_initialized:!1,is_loading:!1,errors:[],staff:{}}},computed:{},created:function(){var e=this;e.init()},methods:{init:function(){var e=TI(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,t.fetch_staff();case 5:return e.next=7,t.form_validation();case 7:return e.next=9,new Promise(function(e){t.is_initialized=!0,e()});case 9:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_staff:function(){var e=this,t=new RestUrl(e.$store.state.station.routes.api_v1_station_staff).parse({identity:e.$route.params.identity});return e.is_loading=!0,axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.staff=t.data.staff,e.staff.password=null,e.staff.password_confirmation=null):e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.staffs")}))})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.staffs"),reason:": "+t}))}).then(function(){e.is_loading=!1})},form_validation:function(){$(".ui.form").form({on:"blur",fields:{name:"empty",username:"empty"}})},update_staff:function(){var e=this,t=e.staff;if(e.errors=[],""!=t.password&&t.password!=t.password_confirmation){var i="密碼錯誤";e.errors.push(i),e.$noty.error(i)}else{delete t.password_confirmation;var n=new RestUrl(e.$store.state.station.routes.api_v1_station_staff_update).parse({identity:e.$route.params.identity});e.is_loading=!0,axios.post(n,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.staff=t.data.staff,e.staff.password=null,e.staff.password_confirmation=null,e.$store.dispatch("station/fetch_current_staff"),e.$store.dispatch("station/fetch_current_staff_permissions"),e.$router.push({name:"staffs"})):e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.staffs")}))})["catch"](function(e){console.log(e.response)}).then(function(){setTimeout(function(){e.is_loading=!1},300)})}}},components:{ErrorMessages:wc}},LI=OI,DI=(n("be74"),Object(lt["a"])(LI,jI,RI,!1,null,"741752e6",null)),BI=DI.exports,MI="station_staffs",UI="new_station_staff",FI="edit_station_staff",GI=[{path:"/",component:PI,name:"station_staffs",meta:{api_name:"api_v1_station_staffs",breadcrumb:[MI],btns:[UI]}},{path:"new",component:zI,name:"new_station_staff",meta:{api_name:"api_v1_station_staffs_create",breadcrumb:[MI,UI]}},{path:":identity/edit",component:BI,name:"edit_station_staff",meta:{api_name:"api_v1_station_staff_update",breadcrumb:[MI,FI]}}],HI=GI,YI=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"customers_layout"}},[e.is_initialized?i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1):i("div",{staticClass:"ui active centered inline large loader"}),i("BackToTopButton",{tag:"div"})],1)},KI=[];function WI(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function VI(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){WI(r,n,a,s,o,"next",e)}function o(e){WI(r,n,a,s,o,"throw",e)}s(void 0)})}}var XI={name:"CustomersLayout",data:function(){return{is_initialized:!1,errors:[]}},computed:{},created:function(){},mounted:function(){var e=this;e.init(),e.$bus.$off("init"),e.$bus.$on("init",function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.init()}.bind(this))},beforeDestroy:function(){this.$bus.$off("init")},watch:{},methods:{init:function(){var e=VI(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,t.$store.dispatch("station/customers_module/fetch_provider_contracts");case 5:return e.next=7,new Promise(function(e){t.is_initialized=!0,t.$noty.information(t.$t("ui.page_titles.customers")+" "+t.$t("ui.general.initialize_complete"),300),e()});case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{BackToTopButton:Ll}},QI=XI,ZI=Object(lt["a"])(QI,YI,KI,!1,null,null,null),JI=ZI.exports,eT=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"customers"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),i("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[i("div"),i("div",{staticClass:"ui segment",style:{width:e.filter.is_advanced_mode?"100%":"auto",margin:0}},[i("FilterHeader",{staticClass:"right floated"}),i("div",{staticClass:"clear"}),i("FilterAdvanced",{staticClass:"ui transition hidden filter"})],1)]),i("div",{staticClass:"ui segment"},[i("table",{staticClass:"ui celled table"},[i("thead",{staticClass:"center aligned"},[i("tr",[i("th",[e._v(e._s(e.$t("models.attributes.customers.username")))]),i("th",[e._v(e._s(e.$t("models.attributes.customers.password")))]),i("th",[e._v(e._s(e.$t("models.attributes.customers.company_name")))]),i("th",[e._v(e._s(e.$t("models.attributes.customers.email")))]),i("th",[e._v(e._s(e.$t("models.attributes.customers.phone")))]),i("th",[e._v(e._s(e.$t("models.attributes.customers.authentication_token")))]),i("th",[e._v(e._s(e.$t("ui.pages.customers.contracts")))]),i("th",[e._v(e._s(e.$t("models.attributes.customers.fax")))]),i("th",[e._v(e._s(e.$t("ui.pages.customers.banned")))]),i("th",[e._v(e._s(e.$t("ui.general.operate")))])])]),e.is_loading?i("tbody",{staticClass:"center aligned"},[e._m(0)]):i("tbody",{staticClass:"center aligned"},[e._l(e.customers,function(e){return i("Row",{key:e.identity,attrs:{customer:e}})}),e.customers.length<=0?i("tr",{staticClass:"center aligned"},[i("td",{attrs:{colspan:"8"}},[i("h5",[e._v("\n                            "+e._s(e.$t("ui.general.no_data"))+"\n                        ")])])]):e._e()],2)]),i("Paginator",{staticClass:"right floated",attrs:{total_pages:e.pagination.total_pages,current_page:e.pagination.current_page,disabled:e.is_loading}}),i("div",{staticClass:"clear"})],1)],1)},tT=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"loading"},[i("td",{attrs:{colspan:"8"}},[i("div",{staticClass:"ui active centered inline loader"})])])}],iT=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.customer?i("tr",[i("td",[e._v(e._s(e.customer.username))]),i("td",[e._v(e._s(e.customer.password))]),i("td",[e._v(e._s(e.customer.company_name))]),i("td",[e._v(e._s(e.customer.email))]),i("td",[e._v(e._s(e.customer.phone))]),i("td",[i("pre",{staticClass:"token z-depth-1"},[e._v(e._s(e.customer.authentication_token))])]),i("td",[i("div",{staticClass:"ui items"},e._l(e.customer.contracts,function(t,n){return i("router-link",{key:t.identity,staticClass:"item",attrs:{to:{name:"station_contract",params:{customer_identity:e.customer.identity,contract_identity:t.identity}}}},[e._v("\n                "+e._s(n+1)+". "+e._s(t.name)+"\n                 \n            ")])}))]),i("td",[e._v(e._s(e.customer.fax))]),i("td",[e.customer.is_banned?e._e():i("span",[i("i",{staticClass:"check icon"}),e._v(" "+e._s(e.$t("ui.pages.customers.normal"))+"\n        ")]),e.customer.is_banned?i("span",[i("i",{staticClass:"remove icon"}),e._v(" "+e._s(e.$t("ui.pages.customers.banned"))+"\n        ")]):e._e()]),i("td",[i("router-link",{staticClass:"ui basic primary button",attrs:{to:{name:"station_customer",params:{customer_identity:e.customer.identity}}}},[e._v("\n            "+e._s(e.$t("ui.general.show"))+"\n        ")]),i("a",{staticClass:"ui basic orange button",on:{click:function(t){e.proxy_login()}}},[e._v("代理登入")]),i("button",{staticClass:"ui basic button",class:{positive:e.customer.is_banned,negative:!e.customer.is_banned},on:{click:e.toggle_is_banned}},[e.customer.is_banned?i("span",[e._v(e._s(e.$t("ui.pages.customers.unbanned")))]):i("span",[e._v(e._s(e.$t("ui.pages.customers.banned")))])])],1)]):e._e()},nT=[],aT={name:"ProviderCustomersIndexItem",props:{customer:Object},data:function(){return{is_loading:!1}},computed:{login_url:function(){return"electron"==ENV.VUE_APP_BUILD_ENV?new RestUrl(this.$store.state.settings.login_url).parse({node_identity:window.LICENSE_KEY},"?captcha="+this.need_captcha):"development"==ENV.NODE_ENV?new RestUrl(this.$store.state.settings.login_url).parse({node_identity:ENV.VUE_APP_CURRENT_NODE_IDENTITY},"?captcha="+this.need_captcha):new RestUrl(this.$store.state.settings.login_url).parse({node_identity:""},"?captcha=false")}},mounted:function(){},methods:{proxy_login:function(){var e=this,t={username:e.customer.username,password:e.customer.password,role:"customer"};axios.post(e.login_url,t,{headers:{Hostname:window.location.hostname}}).then(function(t){"success"==t.data.status&&(localStorage.setItem("customer_authentication_token",t.data.token),localStorage.setItem("customer_expired_at",e.$moment.utc(e.$moment().add(e.$store.state.global_setting.login_expiration_period,"second")).format()),window.open("/customer","new"))})["catch"](function(e){console.log(e)})},delete_customer:function(){var e=this;if(confirm(this.$t("ui.notifications.warning.are_you_sure_to_delete_it"))){e.is_loading=!0;var t=new RestUrl(e.$store.state.station.routes.api_v1_station_customer_delete).parse({customer_identity:e.customer.identity});axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$parent.fetch_customers(),e.$noty.success(e.$t("ui.notifications.success.delete__name",{name:e.$t("models.customers")}))):e.$noty.error(e.$t("ui.notifications.error.delete__name",{name:e.$t("models.contracts")}))})["catch"](function(t){console.log(t.response),e.$noty.error(e.$t("ui.notifications.error.delete__name",{name:e.$t("models.customers"),reason:": "+t.response}))})["finally"](function(){e.is_loading=!1})}},delete_contract:function(e){var t=this;if(confirm(this.$t("ui.notifications.warning.are_you_sure_to_delete_it"))){t.is_loading=!0;var i=new RestUrl(t.$store.state.station.routes.api_v1_station_contract_delete).parse({contract_identity:e});axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){"success"==e.data.status?(t.$parent.fetch_customers(),t.$bus.$emit("out_of_date",t.$store.state.instance_identity,"customers"),t.$noty.success(t.$t("ui.notifications.success.delete__name",{name:t.$t("models.contracts")}))):t.$noty.error(t.$t("ui.notifications.error.delete__name",{name:t.$t("models.contracts")}))})["catch"](function(e){console.log(e.response),t.$noty.error(t.$t("ui.notifications.error.delete__name",{name:t.$t("models.customers"),reason:": "+e.response}))})["finally"](function(){t.is_loading=!1})}},toggle_is_banned:function(){var e=this;e.is_loading=!0;var t=new RestUrl(e.$store.state.station.routes.api_v1_station_customer_update).parse({customer_identity:e.customer.identity});axios.post(t,{is_banned:!e.customer.is_banned},{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.customer.is_banned=t.data.customer.is_banned,e.$bus.$emit("out_of_date",e.$store.state.instance_identity,"customers"),e.$noty.success(e.$t("ui.notifications.success.update__name",{name:e.$t("models.customers")}))):e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.customers")}))})["catch"](function(e){console.log(e.response)})["finally"](function(){e.is_loading=!1})}}},rT=aT,sT=(n("e5e7"),Object(lt["a"])(rT,iT,nT,!1,null,"13fbbc12",null)),oT=sT.exports,cT=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"filter_advanced"}},[i("div",{staticClass:"ui form",on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$parent.fetch_customers(1)}}},[i("div",{staticClass:"three fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.username")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.username,expression:"filter.columns.username"}],attrs:{type:"text"},domProps:{value:e.filter.columns.username},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"username",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.company_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.company_name,expression:"filter.columns.company_name"}],attrs:{type:"text"},domProps:{value:e.filter.columns.company_name},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"company_name",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.email")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.email,expression:"filter.columns.email"}],attrs:{type:"text"},domProps:{value:e.filter.columns.email},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"email",t.target.value)}}})])]),i("div",{staticClass:"four fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.phone")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.phone,expression:"filter.columns.phone"}],attrs:{type:"text"},domProps:{value:e.filter.columns.phone},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"phone",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.fax")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.fax,expression:"filter.columns.fax"}],attrs:{type:"text"},domProps:{value:e.filter.columns.fax},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"fax",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.is_banned")))]),i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.is_banned,expression:"filter.columns.is_banned"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.filter.columns.is_banned)?e._i(e.filter.columns.is_banned,null)>-1:e.filter.columns.is_banned},on:{change:function(t){var i=e.filter.columns.is_banned,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&e.$set(e.filter.columns,"is_banned",i.concat([r])):s>-1&&e.$set(e.filter.columns,"is_banned",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.filter.columns,"is_banned",a)}}}),i("label",[e._v(e._s(e.$t("ui.general.yes")))])])])])]),i("div",{staticClass:"ui icon blue button right floated",on:{click:function(t){e.$parent.fetch_customers(1)}}},[i("i",{staticClass:"search icon"}),e._v("\n        "+e._s(e.$t("ui.general.search"))+"\n    ")]),i("div",{staticClass:"clear"})])},_T=[],lT={name:"CustomersFilterAdvanced",data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.station.customers_module},is_show_filter:function(){return this.current_store.is_show_filter},filter:function(){return this.current_store.filter}},created:function(){},mounted:function(){},watch:{},methods:{},components:{}},uT=lT,dT=Object(lt["a"])(uT,cT,_T,!1,null,"ffa10c6e",null),pT=dT.exports,mT=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"filter_general"}},[e.filter.is_advanced_mode?e._e():i("div",{staticClass:"ui action input"},["is_banned"!=e.filter.current_shortcut_key?i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns[e.filter.current_shortcut_key],expression:"filter.columns[filter.current_shortcut_key]"}],attrs:{placeholder:e.$t("ui.general.search__key",{key:e.$t("models.attributes.customers."+e.filter.current_shortcut_key)}),type:"text"},domProps:{value:e.filter.columns[e.filter.current_shortcut_key]},on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$parent.fetch_customers(1)},input:function(t){t.target.composing||e.$set(e.filter.columns,e.filter.current_shortcut_key,t.target.value)}}}):e._e(),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection dropdown no_search right_radius",staticStyle:{"min-width":"120px"}},[e._l(e.filter.shortcut_keys,function(t){return e.filter.current_shortcut_key==t?i("div",{staticClass:"text"},["is_banned"==e.filter.current_shortcut_key?i("span",[e._v("\n                    "+e._s(e.$t("ui.pages.customers.is_banned"))+"\n                ")]):i("span",[e._v("\n                    "+e._s(e.$t("models.attributes.customers."+t))+"\n                ")])]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.filter.shortcut_keys,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.current_shortcut_key==t},on:{click:function(i){e.set_quick_filter(t)}}},[i("span","is_banned"==t?[e._v("\n                        "+e._s(e.$t("ui.pages.customers.is_banned"))+"\n                    ")]:[e._v("\n                        "+e._s(e.$t("models.attributes.customers."+t))+"\n                    ")])])}))],2),i("div",{staticClass:"ui button icon",on:{click:function(t){e.$parent.fetch_customers(1)}}},[i("i",{staticClass:"search icon"})])]),e.filter.is_advanced_mode?i("div",{staticClass:"ui basic red icon button",on:{click:function(t){e.$store.commit("station/customers_module/init_filter_columns")}}},[i("i",{staticClass:"close icon"}),e._v("\n        "+e._s(e.$t("ui.general.clear"))+"\n    ")]):e._e(),i("div",{staticClass:"ui button icon",style:{height:e.filter.is_advanced_mode?"auto":"38px",paddingTop:e.filter.is_advanced_mode?"":"13px",verticalAlign:e.filter.is_advanced_mode?"":"top"},on:{click:function(t){e.filter.is_advanced_mode=!e.filter.is_advanced_mode}}},[i("i",{staticClass:"bars icon",class:{minus:e.filter.is_advanced_mode,bars:!e.filter.is_advanced_mode}})])])},fT=[],vT={name:"CustomersFilterHeader",data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.station.customers_module},filter:function(){return this.current_store.filter}},created:function(){},mounted:function(){},watch:{},methods:{set_quick_filter:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var i=this;i.filter.current_shortcut_key=t,_.forEach(i.filter.shortcut_keys,function(e){i.filter.columns[e]=null}),"is_banned"==t&&(i.filter.columns.is_banned=!0)}catch(e){console.log(e)}}},components:{}},hT=vT,gT=(n("1527"),Object(lt["a"])(hT,mT,fT,!1,null,"1942d61e",null)),bT=gT.exports;function yT(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function wT(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){yT(r,n,a,s,o,"next",e)}function o(e){yT(r,n,a,s,o,"throw",e)}s(void 0)})}}var $T={name:"CustomersIndex",data:function(){return{is_initialized:!1,is_loading:!1,is_filter_changed:!1,customers:[],errors:[]}},computed:{current_store:function(){return this.$store.state.station.customers_module},pagination:function(){return this.current_store.pagination},filter:function(){return this.current_store.filter}},created:function(){},mounted:function(){this.init(),this.pagination.current_page=1},watch:{$route:{handler:function(e,t){var i=e.query.page;i&&(this.pagination.current_page=Number(i),this.$store.commit("station/customers_module/set_current_page",i),this.fetch_customers())},immediate:!0},filter:{handler:function(e,t){this.is_filter_changed=!0},deep:!0},"filter.is_advanced_mode":function(e){$("#customers .ui.transition.filter").transition(e?"fade down":"hide"),e||this.$store.commit("station/customers_module/init_filter_columns")}},methods:{init:function(){var e=wT(regeneratorRuntime.mark(function e(){var t,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,new Promise(function(e){t.is_initialized=!1,e()});case 4:return e.next=6,t.fetch_customers();case 6:return e.next=8,new Promise(function(e){i.filter.is_advanced_mode&&$("#customers .ui.transition.filter").transition("fade down"),t.is_initialized=!0,e()});case 8:e.next=13;break;case 10:switch(e.prev=10,e.t0=e["catch"](1),e.t0){default:console.log("init error: "),console.log(e.t0)}case 13:return e.prev=13,e.finish(13);case 15:case"end":return e.stop()}},e,this,[[1,10,13,15]])}));function t(){return e.apply(this,arguments)}return t}(),fetch_customers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this;if(1==e&&(t.pagination.current_page=1,t.$route.query.page=1),0==t.is_loading){t.errors=[],t.is_loading=!0,t.is_filter_changed&&(t.$store.commit("station/customers_module/set_current_page",null),t.is_filter_changed=!1);var i=new RestUrl(t.$store.state.station.routes.api_v1_station_customers).parse({},"?"+object_to_query(t.filter.columns)+"&"+object_to_query({page:t.pagination.current_page}));return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){if("success"!=e.data.status)return Promise.reject(e.data);t.customers=e.data.customers,t.$store.commit("station/customers_module/set_current_page",e.data.pagination.current_page),t.$store.commit("station/customers_module/set_total_pages",e.data.pagination.total_pages)})["catch"](function(e){if(e.response){switch(e.response.status){default:t.errors.push(e.response.status+" "+e.response.statusText)}t.$noty.error(t.$t("ui.notifications.error.fetch__name",{name:t.$t("models.customers"),reason:": "+e.response.status+" "+e.response.statusText}))}else e.errors?(t.$noty.error(t.$t("ui.notifications.error.fetch__name",{name:t.$t("models.customers"),reason:": "+e.errors})),t.errors=response.data.errors):(t.errors.push(t.$t("ui.general.server_offline")),t.$noty.error(t.$t("ui.general.server_offline")));return Promise.reject(e)})["finally"](function(){setTimeout(function(){t.is_loading=!1},300)})}},init_filter_columns:function(){this.$store.commit("station/customers_module/init_filter_columns")}},components:{Row:oT,Paginator:cr,ErrorMessages:wc,FilterAdvanced:pT,FilterHeader:bT}},kT=$T,CT=(n("2082"),Object(lt["a"])(kT,eT,tT,!1,null,"519fbdee",null)),xT=CT.exports,PT=function(){var e=this,t=e.$createElement,i=e._self._c||t;return this.current_station.identity?i("div",{attrs:{id:"new_customer"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),i("div",{staticClass:"contents"},[e.is_loading?i("div",{staticClass:"ui active centered inline loader"}):i("div",{staticClass:"ui form"},[i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"user icon"}),e._v("\n                "+e._s(e.$t("ui.pages.customers.basic_information"))+"\n            ")])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide required field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.username")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.username,expression:"customer.username"}],attrs:{type:"text",name:"username"},domProps:{value:e.customer.username},on:{input:function(t){t.target.composing||e.$set(e.customer,"username",t.target.value)}}})]),i("div",{staticClass:"eight wide required field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.company_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.company_name,expression:"customer.company_name"}],attrs:{type:"text",name:"company_name"},domProps:{value:e.customer.company_name},on:{input:function(t){t.target.composing||e.$set(e.customer,"company_name",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field computer column"},[i("label",{attrs:{"data-tooltip":e.old_password}},[e._v(e._s(e.$t("models.attributes.customers.password")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.password,expression:"customer.password"}],attrs:{type:"password",name:"password"},domProps:{value:e.customer.password},on:{input:function(t){t.target.composing||e.$set(e.customer,"password",t.target.value)}}})]),i("div",{staticClass:"eight wide field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.password_confirmation")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.password_confirmation,expression:"customer.password_confirmation"}],attrs:{type:"password",autocomplete:"off",name:"password_confirmation"},domProps:{value:e.customer.password_confirmation},on:{input:function(t){t.target.composing||e.$set(e.customer,"password_confirmation",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.company_short_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.company_short_name,expression:"customer.company_short_name"}],attrs:{type:"text",name:"company_short_name"},domProps:{value:e.customer.company_short_name},on:{input:function(t){t.target.composing||e.$set(e.customer,"company_short_name",t.target.value)}}})]),i("div",{staticClass:"eight wide field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.company_en_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.company_en_name,expression:"customer.company_en_name"}],attrs:{type:"text",name:"company_en_name"},domProps:{value:e.customer.company_en_name},on:{input:function(t){t.target.composing||e.$set(e.customer,"company_en_name",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"six wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.email")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.email,expression:"customer.email"}],attrs:{type:"text",name:"email"},domProps:{value:e.customer.email},on:{input:function(t){t.target.composing||e.$set(e.customer,"email",t.target.value)}}})]),i("div",{staticClass:"five wide field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.phone")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.phone,expression:"customer.phone"}],attrs:{type:"text",name:"phone"},domProps:{value:e.customer.phone},on:{input:function(t){t.target.composing||e.$set(e.customer,"phone",t.target.value)}}})]),i("div",{staticClass:"five wide field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.email")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.fax,expression:"customer.fax"}],attrs:{type:"text",name:"fax"},domProps:{value:e.customer.fax},on:{input:function(t){t.target.composing||e.$set(e.customer,"fax",t.target.value)}}})])]),i("br"),i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"user icon"}),e._v("\n                "+e._s(e.$t("ui.pages.customers.common_sender_information"))+"\n            ")])]),i("br"),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_company_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_company_name,expression:"customer.default_sender_company_name"}],attrs:{type:"text",name:"default_sender_name"},domProps:{value:e.customer.default_sender_company_name},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_company_name",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_name,expression:"customer.default_sender_name"}],attrs:{type:"text",name:"default_sender_name"},domProps:{value:e.customer.default_sender_name},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_name",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_address")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_address,expression:"customer.default_sender_address"}],attrs:{type:"text",name:"default_sender_address"},domProps:{value:e.customer.default_sender_address},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_address",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_phone")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_phone,expression:"customer.default_sender_phone"}],attrs:{type:"text",name:"default_sender_phone"},domProps:{value:e.customer.default_sender_phone},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_phone",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"six wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_email")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_email,expression:"customer.default_sender_email"}],attrs:{type:"text",name:"default_sender_email"},domProps:{value:e.customer.default_sender_email},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_email",t.target.value)}}})]),i("div",{staticClass:"five wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_fax")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_fax,expression:"customer.default_sender_fax"}],attrs:{type:"text",name:"default_sender_fax"},domProps:{value:e.customer.default_sender_fax},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_fax",t.target.value)}}})]),i("div",{staticClass:"five wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_url")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_url,expression:"customer.default_sender_url"}],attrs:{type:"text",name:"default_sender_url"},domProps:{value:e.customer.default_sender_url},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_url",t.target.value)}}})])]),i("br"),i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"user icon"}),e._v("\n                "+e._s(e.$t("ui.pages.customers.common_consignee_information"))+"\n            ")])]),i("br"),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_consignee_company_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_consignee_company_name,expression:"customer.default_consignee_company_name"}],attrs:{type:"text",name:"default_sender_name"},domProps:{value:e.customer.default_consignee_company_name},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_consignee_company_name",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_consignee_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_consignee_name,expression:"customer.default_consignee_name"}],attrs:{type:"text",name:"default_consignee_name"},domProps:{value:e.customer.default_consignee_name},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_consignee_name",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_consignee_address")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_consignee_address,expression:"customer.default_consignee_address"}],attrs:{type:"text",name:"default_consignee_address"},domProps:{value:e.customer.default_consignee_address},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_consignee_address",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_consignee_phone")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_consignee_phone,expression:"customer.default_consignee_phone"}],attrs:{type:"text",name:"default_consignee_phone"},domProps:{value:e.customer.default_consignee_phone},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_consignee_phone",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_consignee_email")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_consignee_email,expression:"customer.default_consignee_email"}],attrs:{type:"text",name:"default_consignee_email"},domProps:{value:e.customer.default_consignee_email},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_consignee_email",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_consignee_fax")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_consignee_fax,expression:"customer.default_consignee_fax"}],attrs:{type:"text",name:"default_consignee_fax"},domProps:{value:e.customer.default_consignee_fax},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_consignee_fax",t.target.value)}}})])]),i("div",{staticClass:"eight wide field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.can_use_associated_partitions,expression:"customer.can_use_associated_partitions"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(e.customer.can_use_associated_partitions)?e._i(e.customer.can_use_associated_partitions,null)>-1:e.customer.can_use_associated_partitions},on:{change:function(t){var i=e.customer.can_use_associated_partitions,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&e.$set(e.customer,"can_use_associated_partitions",i.concat([r])):s>-1&&e.$set(e.customer,"can_use_associated_partitions",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.customer,"can_use_associated_partitions",a)}}}),i("label",[e._v("\n                        "+e._s(e.$t("ui.pages.customers.is_open_use_associated_partition"))+"\n                    ")])])]),i("div",{staticClass:"eight wide field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.can_use_provider_partitions,expression:"customer.can_use_provider_partitions"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(e.customer.can_use_provider_partitions)?e._i(e.customer.can_use_provider_partitions,null)>-1:e.customer.can_use_provider_partitions},on:{change:function(t){var i=e.customer.can_use_provider_partitions,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&e.$set(e.customer,"can_use_provider_partitions",i.concat([r])):s>-1&&e.$set(e.customer,"can_use_provider_partitions",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.customer,"can_use_provider_partitions",a)}}}),i("label",[e._v("\n                        "+e._s(e.$t("ui.pages.customers.is_open_use_use_yourself_partition"))+"\n                    ")])])]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui basic positive button",on:{click:e.create_customer}},[e._v("\n                "+e._s(e.$t("ui.general.submit"))+"\n            ")]),i("router-link",{staticClass:"ui basic button",attrs:{to:{name:"station_customers"}}},[i("i",{staticClass:"undo icon"}),e._v("\n                "+e._s(e.$t("ui.general.back"))+"\n            ")])],1)])],1):e._e()},ST=[],NT={name:"NewCustomer",data:function(){return{is_loading:!1,old_password:"",customer:{username:null,password:null,password_confirmation:null,company_name:null,company_short_name:null,company_en_name:null,email:null,phone:null,fax:null,station:null},errors:[]}},mounted:function(){var e=this;e.form_validation()},computed:{current_store:function(){return this.$store.state.station},current_staff:function(){return this.current_store.current_staff},current_station:function(){return this.current_store.current_station}},methods:{create_customer:function(){var e=this,t=_.clone(e.customer);if(t.station_identity=this.current_station.identity.that.errors=[],t.username&&t.password&&t.password_confirmation&&t.company_name)if(t.password!=t.password_confirmation){var i=e.$t("ui.pages.customers.helps.the_password_does_not_match_the_confirmation_password");e.errors.push(i),e.$noty.error(i)}else{var n=e.$store.state.station.routes.api_v1_station_customers_create;e.is_loading=!0,axios.post(n,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$bus.$emit("out_of_date",e.$store.state.instance_identity,"customers"),e.$noty.success(e.$t("ui.notifications.success.create__name",{name:e.$t("models.customers")})),e.$router.push({name:"station_customers"})):(console.log(t.data),e.errors=t.data.errors,e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.customers"),reason:": "+t.data.errors})))})["catch"](function(e){console.log(e.response)}).then(function(){e.is_loading=!1})}else e.errors.push(e.$t("ui.notifications.error.please_check_to_write_in_the_required_fields_mark"))},form_validation:function(){$(".ui.form").form({on:"blur",fields:{username:"empty",password:"empty",password_confirmation:"empty",company_name:"empty"}})}},components:{ErrorMessages:wc}},AT=NT,ET=Object(lt["a"])(AT,PT,ST,!1,null,"12a3a29e",null),qT=ET.exports,zT=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.is_initialized?i("div",{attrs:{id:"customer"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),i("div",{staticClass:"ui segments"},[i("div",{staticClass:"ui segment pointer",on:{click:function(t){e.div_toggle("basic_information")}}},[i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"user icon"}),e._v("\n                    "+e._s(e.$t("ui.pages.customers.basic_information"))+"\n                    "),i("i",{staticClass:"icon caret",class:[e.toggles.basic_information?"up":"down"]})])])]),e.toggles.basic_information?i("div",{staticClass:"ui segment"},[e.is_loading?i("div",{staticClass:"ui active centered inline loader"}):e.customer.identity?i("div",{staticClass:"ui form"},[i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide required field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.username")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.username,expression:"customer.username"}],attrs:{type:"text",name:"username"},domProps:{value:e.customer.username},on:{input:function(t){t.target.composing||e.$set(e.customer,"username",t.target.value)}}})]),i("div",{staticClass:"eight wide required field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.company_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.company_name,expression:"customer.company_name"}],attrs:{type:"text",name:"company_name"},domProps:{value:e.customer.company_name},on:{input:function(t){t.target.composing||e.$set(e.customer,"company_name",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field computer column"},[i("label",{attrs:{"data-tooltip":e.old_password}},[e._v(e._s(e.$t("models.attributes.customers.password")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.password,expression:"customer.password"}],attrs:{type:"password",name:"password"},domProps:{value:e.customer.password},on:{input:function(t){t.target.composing||e.$set(e.customer,"password",t.target.value)}}})]),i("div",{staticClass:"eight wide field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.password_confirmation")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.password_confirmation,expression:"customer.password_confirmation"}],attrs:{type:"password",autocomplete:"off",name:"password_confirmation"},domProps:{value:e.customer.password_confirmation},on:{input:function(t){t.target.composing||e.$set(e.customer,"password_confirmation",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.company_short_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.company_short_name,expression:"customer.company_short_name"}],attrs:{type:"text",name:"company_short_name"},domProps:{value:e.customer.company_short_name},on:{input:function(t){t.target.composing||e.$set(e.customer,"company_short_name",t.target.value)}}})]),i("div",{staticClass:"eight wide field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.company_en_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.company_en_name,expression:"customer.company_en_name"}],attrs:{type:"text",name:"company_en_name"},domProps:{value:e.customer.company_en_name},on:{input:function(t){t.target.composing||e.$set(e.customer,"company_en_name",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"six wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.email")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.email,expression:"customer.email"}],attrs:{type:"text",name:"email"},domProps:{value:e.customer.email},on:{input:function(t){t.target.composing||e.$set(e.customer,"email",t.target.value)}}})]),i("div",{staticClass:"five wide field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.phone")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.phone,expression:"customer.phone"}],attrs:{type:"text",name:"phone"},domProps:{value:e.customer.phone},on:{input:function(t){t.target.composing||e.$set(e.customer,"phone",t.target.value)}}})]),i("div",{staticClass:"five wide field computer column"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.fax")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.fax,expression:"customer.fax"}],attrs:{type:"text",name:"fax"},domProps:{value:e.customer.fax},on:{input:function(t){t.target.composing||e.$set(e.customer,"fax",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.can_use_associated_partitions,expression:"customer.can_use_associated_partitions"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(e.customer.can_use_associated_partitions)?e._i(e.customer.can_use_associated_partitions,null)>-1:e.customer.can_use_associated_partitions},on:{change:function(t){var i=e.customer.can_use_associated_partitions,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&e.$set(e.customer,"can_use_associated_partitions",i.concat([r])):s>-1&&e.$set(e.customer,"can_use_associated_partitions",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.customer,"can_use_associated_partitions",a)}}}),i("label",[e._v("\n                                "+e._s(e.$t("ui.pages.customers.is_open_use_associated_partition"))+"\n                            ")])])]),i("div",{staticClass:"eight wide field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.can_use_provider_partitions,expression:"customer.can_use_provider_partitions"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(e.customer.can_use_provider_partitions)?e._i(e.customer.can_use_provider_partitions,null)>-1:e.customer.can_use_provider_partitions},on:{change:function(t){var i=e.customer.can_use_provider_partitions,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&e.$set(e.customer,"can_use_provider_partitions",i.concat([r])):s>-1&&e.$set(e.customer,"can_use_provider_partitions",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.customer,"can_use_provider_partitions",a)}}}),i("label",[e._v("\n                                "+e._s(e.$t("ui.pages.customers.is_open_use_use_yourself_partition"))+"\n                            ")])])])]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"right floated"},[i("div",{staticClass:"ui positive button",on:{click:e.update_customer}},[e._v("\n                        "+e._s(e.$t("ui.general.update"))+"\n                    ")])]),i("div",{staticClass:"clear"})]):e._e()]):i("div",{staticClass:"ui basic segment pointer",on:{click:function(t){e.div_toggle("basic_information")}}},[i("h4",[e._v("編輯、檢視客戶的帳號名稱、聯絡方式與使用權")])])]),i("div",{staticClass:"ui segments"},[i("div",{staticClass:"ui segment pointer",on:{click:function(t){e.div_toggle("common_sender_information")}}},[i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"user icon"}),e._v("\n                    "+e._s(e.$t("ui.pages.customers.common_sender_information"))+"\n                    "),i("i",{staticClass:"icon caret",class:[e.toggles.common_sender_information?"up":"down"]})])])]),e.toggles.common_sender_information?i("div",{staticClass:"ui segment"},[e.is_loading?i("div",{staticClass:"ui active centered inline loader"}):e.customer.identity?i("div",{staticClass:"ui form"},[i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_company_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_company_name,expression:"customer.default_sender_company_name"}],attrs:{type:"text",name:"default_sender_name"},domProps:{value:e.customer.default_sender_company_name},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_company_name",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_name,expression:"customer.default_sender_name"}],attrs:{type:"text",name:"default_sender_name"},domProps:{value:e.customer.default_sender_name},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_name",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"three wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_zip_code")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_zip_code,expression:"customer.default_sender_zip_code"}],attrs:{type:"text",name:"default_sender_zip_code"},domProps:{value:e.customer.default_sender_zip_code},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_zip_code",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_address")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_address,expression:"customer.default_sender_address"}],attrs:{type:"text",name:"default_sender_address"},domProps:{value:e.customer.default_sender_address},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_address",t.target.value)}}})]),i("div",{staticClass:"five wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_phone")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_phone,expression:"customer.default_sender_phone"}],attrs:{type:"text",name:"default_sender_phone"},domProps:{value:e.customer.default_sender_phone},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_phone",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"six wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_email")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_email,expression:"customer.default_sender_email"}],attrs:{type:"text",name:"default_sender_email"},domProps:{value:e.customer.default_sender_email},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_email",t.target.value)}}})]),i("div",{staticClass:"five wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_fax")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_fax,expression:"customer.default_sender_fax"}],attrs:{type:"text",name:"default_sender_fax"},domProps:{value:e.customer.default_sender_fax},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_fax",t.target.value)}}})]),i("div",{staticClass:"five wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_sender_url")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_sender_url,expression:"customer.default_sender_url"}],attrs:{type:"text",name:"default_sender_url"},domProps:{value:e.customer.default_sender_url},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_sender_url",t.target.value)}}})])]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"right floated"},[i("div",{staticClass:"ui positive button",on:{click:e.update_customer}},[e._v("\n                    "+e._s(e.$t("ui.general.update"))+"\n                ")])]),i("div",{staticClass:"clear"})]):e._e()]):i("div",{staticClass:"ui basic segment pointer",on:{click:function(t){e.div_toggle("common_sender_information")}}},[i("h4",[e._v("編輯、檢視常用寄件人資訊")])])]),i("div",{staticClass:"ui segments"},[i("div",{staticClass:"ui segment pointer",on:{click:function(t){e.div_toggle("common_consignee_information")}}},[i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"user icon"}),e._v("\n                    "+e._s(e.$t("ui.pages.customers.common_consignee_information"))+"\n                    "),i("i",{staticClass:"icon caret",class:[e.toggles.common_consignee_information?"up":"down"]})])])]),e.toggles.common_consignee_information?i("div",{staticClass:"ui segment"},[e.is_loading?i("div",{staticClass:"ui active centered inline loader"}):e.customer.identity?i("div",{staticClass:"ui form"},[i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_consignee_company_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_consignee_company_name,expression:"customer.default_consignee_company_name"}],attrs:{type:"text",name:"default_sender_name"},domProps:{value:e.customer.default_consignee_company_name},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_consignee_company_name",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_consignee_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_consignee_name,expression:"customer.default_consignee_name"}],attrs:{type:"text",name:"default_consignee_name"},domProps:{value:e.customer.default_consignee_name},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_consignee_name",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"three wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_consignee_zip_code")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_consignee_zip_code,expression:"customer.default_consignee_zip_code"}],attrs:{type:"text",name:"default_consignee_zip_code"},domProps:{value:e.customer.default_consignee_zip_code},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_consignee_zip_code",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_consignee_address")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_consignee_address,expression:"customer.default_consignee_address"}],attrs:{type:"text",name:"default_consignee_address"},domProps:{value:e.customer.default_consignee_address},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_consignee_address",t.target.value)}}})]),i("div",{staticClass:"five wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_consignee_phone")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_consignee_phone,expression:"customer.default_consignee_phone"}],attrs:{type:"text",name:"default_consignee_phone"},domProps:{value:e.customer.default_consignee_phone},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_consignee_phone",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_consignee_email")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_consignee_email,expression:"customer.default_consignee_email"}],attrs:{type:"text",name:"default_consignee_email"},domProps:{value:e.customer.default_consignee_email},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_consignee_email",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customers.default_consignee_fax")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.customer.default_consignee_fax,expression:"customer.default_consignee_fax"}],attrs:{type:"text",name:"default_consignee_fax"},domProps:{value:e.customer.default_consignee_fax},on:{input:function(t){t.target.composing||e.$set(e.customer,"default_consignee_fax",t.target.value)}}})])]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"right floated"},[i("div",{staticClass:"ui positive button",on:{click:e.update_customer}},[e._v("\n                    "+e._s(e.$t("ui.general.update"))+"\n                ")])]),i("div",{staticClass:"clear"})]):e._e()]):i("div",{staticClass:"ui basic segment pointer",on:{click:function(t){e.div_toggle("common_consignee_information")}}},[i("h4",[e._v("編輯、檢視常用收件人資訊")])])]),i("div",{staticClass:"ui segments"},[i("div",{staticClass:"ui segment pointer",on:{click:function(t){e.div_toggle("contracts")}}},[i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"clipboard icon"}),e._v("\n                    "+e._s(e.$t("ui.pages.customers.contracts"))+"\n                    "),i("i",{staticClass:"icon caret",class:[e.toggles.contracts?"up":"down"]}),e.toggles.contracts?i("router-link",{attrs:{to:{name:"new_station_contract",params:{customer_identity:e.customer.identity}}}},[i("i",{staticClass:"add icon"})]):e._e()],1)])]),e.toggles.contracts?e._e():i("div",{staticClass:"ui basic segment pointer",on:{click:function(t){e.div_toggle("contracts")}}},[i("h4",[e._v("該客戶所擁有的合約")])]),e.toggles.contracts?i("div",{staticClass:"ui basic segment pointer"},[e.is_loading?i("div",{staticClass:"ui active centered inline loader"}):e._e(),i("table",{staticClass:"ui table"},[e._m(0),i("tbody",[e._l(e.customer.contracts,function(t){return i("tr",{key:t.identity,attrs:{contract:t}},[i("td",[e._v("\n                            "+e._s(t.name)+"\n                        ")]),i("td",[e._v(e._s(e.human_datetime(t.created_at)))]),i("td",[i("router-link",{key:t.identity,staticClass:"ui basic primary button",attrs:{to:{name:"station_contract",params:{customer_identity:e.customer.identity,contract_identity:t.identity}}}},[e._v("\n                                "+e._s(e.$t("ui.general.show"))+"\n                            ")]),e.customer.contracts.length>1?i("a",{staticClass:"ui basic red button",attrs:{href:"#"},on:{click:function(i){i.preventDefault(),e.delete_contract(t.identity,t.name)}}},[e._v("\n                                "+e._s(e.$t("ui.general.delete"))+"\n                            ")]):e._e()],1)])}),e.customer.contracts.length?e._e():i("tr",{staticClass:"center aligned"},[i("td",{attrs:{colspan:"2"}},[i("h5",[e._v("\n                                "+e._s(e.$t("ui.general.no_data"))+"\n                            ")])])])],2)])]):e._e()])],1):e._e()},jT=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("thead",[i("tr",[i("th",[e._v("名稱")]),i("th",[e._v("建立於")]),i("th",[e._v("動作")])])])}];function RT(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function IT(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){RT(r,n,a,s,o,"next",e)}function o(e){RT(r,n,a,s,o,"throw",e)}s(void 0)})}}var TT={name:"Customer",data:function(){return{is_initialized:!1,is_loading:!1,errors:[],customer:{},old_password:"",toggles:{basic_information:!0,common_sender_information:!1,common_consignee_information:!1,contracts:!1}}},computed:{},mounted:function(){var e=this;e.init()},created:function(){},methods:{div_toggle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this;_.forEach(t.toggles,function(i,n){n!=e&&(t.toggles[n]=!1)}),e&&(t.toggles[e]=!t.toggles[e])},init:function(){var e=IT(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,new Promise(function(e){t.is_initialized=!1,e()});case 4:return e.next=6,t.fetch_customer();case 6:return e.next=8,new Promise(function(e){t.is_initialized=!0,e()});case 8:e.next=13;break;case 10:switch(e.prev=10,e.t0=e["catch"](1),e.t0){default:console.log("init error: "),console.log(e.t0)}case 13:return e.prev=13,e.next=16,t.form_validation();case 16:return e.finish(13);case 17:case"end":return e.stop()}},e,this,[[1,10,13,17]])}));function t(){return e.apply(this,arguments)}return t}(),fetch_customer:function(){var e=this,t=new RestUrl(e.$store.state.station.routes.api_v1_station_customer).parse({customer_identity:e.$route.params.customer_identity});return e.is_loading=!0,axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return Promise.reject(t.data);e.old_password=t.data.customer.password,t.data.customer.password=null,e.customer=t.data.customer})["catch"](function(t){if(t.response){switch(t.response.status){default:e.errors.push(t.response.status+" "+t.response.statusText)}e.$noty.error(e.$t("ui.notifications.error.find__name",{name:e.$t("models.customers"),reason:": "+t.response.status+" "+t.response.statusText}))}else t.errors?e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.customers"),reason:": "+t.errors})):(e.errors.push(e.$t("ui.general.server_offline")),e.$noty.error(e.$t("ui.general.server_offline")));return Promise.reject(t)})["finally"](function(){e.is_loading=!1})},form_validation:function(){$(".ui.form").form({on:"blur",fields:{username:"empty",company_name:"empty"}})},update_customer:function(){var e=this,t=e.customer;if(e.errors=[],""!=t.password&&t.password!=t.password_confirmation){var i=e.$t("ui.pages.customers.helps.the_password_does_not_match_the_confirmation_password");e.errors.push(i),e.$noty.error(i)}else if(e.customer.username&&e.customer.company_name){delete t.password_confirmation;var n=new RestUrl(e.$store.state.station.routes.api_v1_station_customer_update).parse({customer_identity:e.$route.params.customer_identity});e.is_loading=!0,axios.post(n,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.customer=t.data.customer,e.customer.password=null,e.customer.password_confirmation=null,e.$bus.$emit("out_of_date",e.$store.state.instance_identity,"customers"),e.$noty.success(e.$t("ui.notifications.success.update__name",{name:e.$t("models.customers")})),e.$router.push({name:"customers"})):e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.customers")}))})["catch"](function(t){if(t.response){switch(t.response.status){default:e.errors.push(t.response.status+" "+t.response.statusText)}e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.customers"),reason:": "+t.response.status+" "+t.response.statusText}))}else e.errors.push(e.$t("ui.general.server_offline")),e.$noty.error(e.$t("ui.general.server_offline"));return Promise.reject(t)})["finally"](function(){e.is_loading=!1})}else e.errors.push(e.$t("ui.notifications.error.please_check_to_write_in_the_required_fields_mark"))},delete_contract:function(e,t){var i=this,n=this.$t("ui.notifications.warning.are_you_sure_to_delete_it")+"\n\n"+i.customer.company_name+"["+t+"]";if(confirm(n)){i.is_loading=!0;var a=new RestUrl(i.$store.state.station.routes.api_v1_station_contract_delete).parse({contract_identity:e});axios.get(a,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){"success"==e.data.status?(i.$parent.fetch_customers(),i.$bus.$emit("out_of_date",i.$store.state.instance_identity,"customers"),i.$noty.success(i.$t("ui.notifications.success.delete__name",{name:i.$t("models.contracts")}))):i.$noty.error(i.$t("ui.notifications.error.delete__name",{name:i.$t("models.contracts")}))})["catch"](function(e){console.log(e.response),i.$noty.error(i.$t("ui.notifications.error.delete__name",{name:i.$t("models.customers"),reason:": "+e.response}))})["finally"](function(){i.is_loading=!1})}}},components:{ErrorMessages:wc}},OT=TT,LT=Object(lt["a"])(OT,zT,jT,!1,null,"2df210fe",null),DT=LT.exports,BT=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"new"}},[i("h1",{staticClass:"ui header"},[e._v("\n        "+e._s(e.$t("ui.page_titles.new_contract"))+"\n    ")]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui form"},[i("div",{staticClass:"ui grid",staticStyle:{"margin-top":"0","margin-bottom":"0"}},[i("div",{staticClass:"eight wide field",attrs:{"data-column":"name"}},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.name,expression:"contract.name"}],attrs:{type:"text"},domProps:{value:e.contract.name},on:{input:function(t){t.target.composing||e.$set(e.contract,"name",t.target.value)}}})]),i("div",{staticClass:"eight wide field",attrs:{"data-column":"number"}},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.number")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.number,expression:"contract.number"}],attrs:{type:"text"},domProps:{value:e.contract.number},on:{input:function(t){t.target.composing||e.$set(e.contract,"number",t.target.value)}}})]),i("div",{staticClass:"eight wide field",attrs:{"data-column":"carrier_class"}},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.carrier_class")))]),e.$store.state.provider.node?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.contract.carrier_class,expression:"contract.carrier_class"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.contract,"carrier_class",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),i("option",{domProps:{value:e.$store.state.provider.node.carrier_class}},[e._v(e._s(e.$store.state.provider.node.company_short_name))]),i("option",{attrs:{value:"Carrier::LMSProxy"}},[e._v("自動轉運")])]):i("div",{staticClass:"ui inline active loader"})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.proxy_contract")))]),e.current_store.provider_contracts?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.contract.proxy_contract_identity,expression:"contract.proxy_contract_identity"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.contract,"proxy_contract_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.current_store.provider_contracts,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2):i("div",{staticClass:"ui inline active loader"})]),i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"code icon"}),e._v("\n                "+e._s(e.$t("ui.pages.customer_contracts.additional_information"))+"\n            ")])]),i("div",{staticClass:"sixteen wide red field"},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.note")))]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.contract.note,expression:"contract.note"}],attrs:{rows:"4"},domProps:{value:e.contract.note},on:{input:function(t){t.target.composing||e.$set(e.contract,"note",t.target.value)}}})]),i("div",{staticClass:"sixteen wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.third_party_api_data")))]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.third_party_api_data,expression:"third_party_api_data"}],attrs:{rows:"4"},domProps:{value:e.third_party_api_data},on:{input:function(t){t.target.composing||(e.third_party_api_data=t.target.value)}}})])]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui buttons"},[i("a",{staticClass:"ui button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.$router.go(-1)}}},[e._v("\n                "+e._s(e.$t("ui.general.back"))+"\n            ")]),i("div",{staticClass:"or"}),e.is_loading?i("a",{staticClass:"ui blue button",attrs:{href:"#"}},[e._v("\n                "+e._s(e.$t("ui.general.creating"))+"...\n            ")]):i("a",{staticClass:"ui blue button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.create_contract()}}},[e._v("\n                "+e._s(e.$t("ui.general.create"))+"\n            ")])])])])},MT=[],UT={name:"ProviderCustomersContractsNew",mixins:[ll.a],props:{},data:function(){return{is_loading:!1,contract:{customer_identity:this.$route.params.customer_identity},third_party_api_data:""}},mounted:function(){},watch:{},methods:{create_contract:function(){var e=this;if(e.valid()){e.is_loading=!0,e.contract.third_party_api_data=JSON.parse(e.third_party_api_data);var t=e.contract,i=new RestUrl(e.$store.state.provider.routes.api_v1_provider_contracts_create).parse();return axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$noty.success(e.$t("ui.notifications.success.create__name",{name:e.$t("models.contracts")})),e.$router.push("/provider/customers"),e.is_loading=!1):(e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.contracts")})),e.is_loading=!1)})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.contracts")})),e.is_loading=!1})}}},validator:{target:"contract",localize_key:"contracts",input_alert:!0,attributes:[{name:"name",required:!0},{name:"number",required:!0},{name:"carrier_class",required:!0}]},computed:{current_store:function(){return this.$store.state.provider.customers_module}},components:{}},FT=UT,GT=(n("d86a"),Object(lt["a"])(FT,BT,MT,!1,null,null,null)),HT=GT.exports,YT=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.quote_policy?i("div",{attrs:{id:"edit_quote_policy"}},[i("div",{staticClass:"ui segment"},[e._m(0),i("div",{staticClass:"ui form"},[i("div",{staticClass:"ui grid",staticStyle:{"margin-top":"0","margin-bottom":"0"}},[i("div",{staticClass:"eight wide field",attrs:{"data-column":"name"}},[i("label",[e._v("名稱")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.name,expression:"quote_policy.name"}],attrs:{type:"text"},domProps:{value:e.quote_policy.name},on:{input:function(t){t.target.composing||e.$set(e.quote_policy,"name",t.target.value)}}})]),i("div",{staticClass:"eight wide field",attrs:{"data-column":"note"}},[i("label",[e._v("備註")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.note,expression:"quote_policy.note"}],attrs:{type:"text"},domProps:{value:e.quote_policy.note},on:{input:function(t){t.target.composing||e.$set(e.quote_policy,"note",t.target.value)}}})]),i("div",{staticClass:"eight wide field",attrs:{"data-column":"required_material_class_name"}},[i("label",[e._v("條件物料")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.required_material_class_name,expression:"quote_policy.required_material_class_name"}],attrs:{type:"text"},domProps:{value:e.quote_policy.required_material_class_name},on:{input:function(t){t.target.composing||e.$set(e.quote_policy,"required_material_class_name",t.target.value)}}})]),i("div",{staticClass:"eight wide field",attrs:{"data-column":"required_condition"}},[i("label",[e._v("條件名稱")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.required_condition,expression:"quote_policy.required_condition"}],attrs:{type:"text"},domProps:{value:e.quote_policy.required_condition},on:{input:function(t){t.target.composing||e.$set(e.quote_policy,"required_condition",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.required_condition_polarity,expression:"quote_policy.required_condition_polarity"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(e.quote_policy.required_condition_polarity)?e._i(e.quote_policy.required_condition_polarity,null)>-1:e.quote_policy.required_condition_polarity},on:{change:function(t){var i=e.quote_policy.required_condition_polarity,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&e.$set(e.quote_policy,"required_condition_polarity",i.concat([r])):s>-1&&e.$set(e.quote_policy,"required_condition_polarity",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.quote_policy,"required_condition_polarity",a)}}}),i("label",[e._v("條件極性")])])]),i("div",{staticClass:"eight wide field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.is_activated,expression:"quote_policy.is_activated"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(e.quote_policy.is_activated)?e._i(e.quote_policy.is_activated,null)>-1:e.quote_policy.is_activated},on:{change:function(t){var i=e.quote_policy.is_activated,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&e.$set(e.quote_policy,"is_activated",i.concat([r])):s>-1&&e.$set(e.quote_policy,"is_activated",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.quote_policy,"is_activated",a)}}}),i("label",[e._v("是否啟用")])])])]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui buttons"},[i("a",{staticClass:"ui button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.$router.go(-1)}}},[e._v("\n                    "+e._s(e.$t("ui.general.back"))+"\n                ")]),i("div",{staticClass:"or"}),e.is_loading?i("a",{staticClass:"ui blue button",attrs:{href:"#"}},[e._v("\n                    "+e._s(e.$t("ui.general.updating"))+"...\n                ")]):i("a",{staticClass:"ui blue button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.update_quote_policy()}}},[e._v(e._s(e.$t("ui.general.update")))])])])]),i("div",{staticClass:"ui segment"},[e._m(1),i("table",{staticClass:"ui table"},[e._m(2),i("tbody",e._l(e.quote_policy.quote_conditions,function(t){return i("tr",[i("td",[e._v(e._s(t.name))]),i("td",[e._v(e._s("conditional"==t.quote_condition_type?"一般":"加收"))]),i("td",[e._v(e._s(t.priority||"-"))]),i("td",["attribute"==t.condition_type?i("span",[e._v("\n                            "+e._s(e.$t("models.attributes.core_waybills."+t.condition_attribute))+"\n                        ")]):i("span",[e._v("\n                            "+e._s(t.condition_value)+"\n                        ")]),e._v("\n                        ("+e._s(t.condition_unit)+")\n                         \n                        "+e._s(e.translate_logical_operator(t.logical_operator))+"\n                         \n                        "+e._s(t.result)+"\n                    ")]),i("td",[t.price_operator_1?i("span",[e._v("(")]):e._e(),t.price_operator_2?i("span",[e._v("(")]):e._e(),t.price_operator_3?i("span",[e._v("(")]):e._e(),t.price_operator_4?i("span",[e._v("(")]):e._e(),t.price_operator_5?i("span",[e._v("(")]):e._e(),"attribute"==t.price_type?i("span",[e._v("\n                            "+e._s(e.$t("models.attributes.core_waybills."+t.price_attribute))+"\n                            "),t.price_attribute_round_type?i("span",["round"==t.price_attribute_round_type?i("span",[e._v("(四捨五入)")]):e._e(),"floor"==t.price_attribute_round_type?i("span",[e._v("(無條件捨去)")]):e._e(),"ceil"==t.price_attribute_round_type?i("span",[e._v("(無條件進位)")]):e._e()]):e._e()]):i("span",[e._v("\n                            "+e._s(t.price_value)+"\n                        ")]),t.price_operator_1?i("span",[e._v("\n                            "+e._s(t.price_operator_1)+"\n                            "+e._s(t.price_operator_value_1)+" )\n                        ")]):e._e(),t.price_operator_2?i("span",[e._v("\n                            "+e._s(t.price_operator_2)+"\n                            "+e._s(t.price_operator_value_2)+" )\n                        ")]):e._e(),t.price_operator_3?i("span",[e._v("\n                            "+e._s(t.price_operator_3)+"\n                            "+e._s(t.price_operator_value_3)+" )\n                        ")]):e._e(),t.price_operator_4?i("span",[e._v("\n                            "+e._s(t.price_operator_4)+"\n                            "+e._s(t.price_operator_value_4)+" )\n                        ")]):e._e(),t.price_operator_5?i("span",[e._v("\n                            "+e._s(t.price_operator_5)+"\n                            "+e._s(t.price_operator_value_5)+" )\n                        ")]):e._e()])])}))])]),i("div",{staticClass:"ui segment"},[i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"list alternate icon"}),e._v("\n                報價單\n                "),i("router-link",{attrs:{to:{name:"new_station_quotation",params:{quote_policy_identity:e.quote_policy.identity}}}},[i("i",{staticClass:"add icon"})])],1)]),i("table",{staticClass:"ui table"},[e._m(3),i("tbody",e._l(e.quote_policy.quotations,function(t){return i("tr",[i("td",[e._v(e._s(t.title))]),i("td",[e._v(e._s(t.identity))]),i("td",[e._v(e._s(e.human_datetime(t.quoted_from)))]),i("td",[e._v(e._s(e.human_datetime(t.quoted_to)))]),i("td",[t.file_url&&!e.is_caculating?i("a",{attrs:{href:t.file_url+"?authorization="+e.authentication_token}},[e._v("下載檔案")]):i("span",[e._v("-")])]),i("td",[i("a",{staticClass:"ui orange button",attrs:{href:"#"},on:{click:function(i){i.preventDefault(),e.caculate(t.identity)}}},[e.is_caculating||t.file_url?e.is_caculating?i("span",[e._v("計算中...")]):i("span",[e._v("重新計算")]):i("span",[e._v("計算")])])])])}))])])]):e._e()},KT=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"edit icon"}),e._v("\n                編輯計價政策\n            ")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"list icon"}),e._v("\n                計價條件\n            ")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("thead",[i("tr",[i("th",[e._v("名稱")]),i("th",[e._v("計價屬性")]),i("th",[e._v("優先度")]),i("th",[e._v("計價條件")]),i("th",[e._v("價格公式")])])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("thead",[i("tr",[i("th",[e._v("名稱")]),i("th",[e._v("識別碼")]),i("th",[e._v("起")]),i("th",[e._v("訖")]),i("th",[e._v("檔案位址")]),i("th",[e._v("動作")])])])}],WT={name:"ProviderEditQuotePolicy",mixins:[ll.a],props:{},data:function(){return{is_loading:!1,is_caculating:!1,quote_policy:{}}},watch:{},mounted:function(){var e=this;e.fetch_quote_policy()},methods:{human_datetime:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"lll";return j()(e).locale("zh-tw").format(t)},translate_logical_operator:function(e){switch(e){case"between?":return"介於";default:return e}},caculate:function(e){var t=this,i=new RestUrl(t.$store.state.provider.routes.api_v1_provider_quotation_caculate).parse({quotation_identity:e});return t.is_caculating=!0,axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(i){t.is_caculating=!1;var n=_.findIndex(t.quote_policy.quotations,function(t){return t.identity==e});t.quote_policy.quotations.splice(n,1,i.data.quotation)})["catch"](function(e){return t.is_caculating=!1,Promise.reject(e)})},fetch_quote_policy:function(){var e=this,t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_quote_policy).parse({quote_policy_identity:e.$route.params.quote_policy_identity});return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){console.log(t),e.quote_policy=t.data.quote_policy})["catch"](function(e){return Promise.reject(e)})},update_quote_policy:function(){var e=this;if(e.valid()){e.is_loading=!0;var t=e.quote_policy,i=new RestUrl(e.$store.state.provider.routes.api_v1_provider_quote_policy_update).parse({quote_policy_identity:e.quote_policy.identity});return axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$noty.success(e.$t("ui.notifications.success.update__name",{name:e.$t("models.quote_policys")})),e.is_loading=!1,e.$router.go(-1)):(e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.quote_policys")})),e.is_loading=!1)})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.quote_policys")})),e.is_loading=!1})}}},validator:{target:"quote_policy",localize_key:"quote_policys",input_alert:!0,attributes:[{name:"name",required:!0}]},computed:{current_store:function(){return this.$store.state.provider.customers_module},current_customer:function(){var e=this;return _.findLast(e.current_store.customers,function(t){return t.identity==e.quote_policy.customer_identity})},authentication_token:function(){return localStorage.getItem("authentication_token")}},components:{}},VT=WT,XT=Object(lt["a"])(VT,YT,KT,!1,null,null,null),QT=XT.exports,ZT=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui segment",attrs:{id:"new"}},[i("h1",{staticClass:"ui header"},[e._v("\n        新增報價單\n    ")]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui form"},[i("div",{staticClass:"ui grid",staticStyle:{"margin-top":"0","margin-bottom":"0"}},[i("div",{staticClass:"sixteen wide field",attrs:{"data-column":"title"}},[i("label",[e._v("標題")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.quotation.title,expression:"quotation.title"}],attrs:{type:"text"},domProps:{value:e.quotation.title},on:{input:function(t){t.target.composing||e.$set(e.quotation,"title",t.target.value)}}})]),i("div",{staticClass:"eight wide field",attrs:{"data-column":"quoted_from"}},[i("label",[e._v("起")]),i("el-date-picker",{staticStyle:{width:"100%"},attrs:{"unlink-panels":"",type:"date"},model:{value:e.quotation.quoted_from,callback:function(t){e.$set(e.quotation,"quoted_from",t)},expression:"quotation.quoted_from"}})],1),i("div",{staticClass:"eight wide field",attrs:{"data-column":"quoted_to"}},[i("label",[e._v("訖")]),i("el-date-picker",{staticStyle:{width:"100%"},attrs:{"unlink-panels":"",type:"date"},model:{value:e.quotation.quoted_to,callback:function(t){e.$set(e.quotation,"quoted_to",t)},expression:"quotation.quoted_to"}})],1)]),i("div",{staticClass:"ui divider"}),e.is_loading?i("a",{staticClass:"ui blue button",attrs:{href:"#"}},[e._v("\n            "+e._s(e.$t("ui.general.creating"))+"...\n        ")]):i("a",{staticClass:"ui blue button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.create_quotation()}}},[e._v("\n            "+e._s(e.$t("ui.general.create"))+"\n        ")])])])},JT=[],eO={name:"ProviderNewQuotation",props:{},data:function(){return{is_loading:!1,quotation:{quote_policy_identity:this.$route.params.quote_policy_identity,contract_identity:this.$route.params.contract_identity}}},mounted:function(){},watch:{},methods:{create_quotation:function(){var e=this;e.is_loading=!0;var t=e.quotation,i=new RestUrl(e.$store.state.provider.routes.api_v1_provider_quotations_create).parse();return axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.is_loading=!1,"success"==t.data.status?e.$router.go(-1):e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.quotations")}))})["catch"](function(t){e.is_loading=!1,e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.quotations")}))})}},computed:{current_store:function(){return this.$store.state.provider.customers_module}},components:{}},tO=eO,iO=(n("b4ec"),Object(lt["a"])(tO,ZT,JT,!1,null,null,null)),nO=iO.exports,aO=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.quote_policy?i("div",{attrs:{id:"edit_quote_policy"}},[i("div",{staticClass:"ui segment"},[e._m(0),i("div",{staticClass:"ui form"},[i("div",{staticClass:"ui grid",staticStyle:{"margin-top":"0","margin-bottom":"0"}},[i("div",{staticClass:"eight wide field",attrs:{"data-column":"name"}},[i("label",[e._v("名稱")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.name,expression:"quote_policy.name"}],attrs:{type:"text"},domProps:{value:e.quote_policy.name},on:{input:function(t){t.target.composing||e.$set(e.quote_policy,"name",t.target.value)}}})]),i("div",{staticClass:"eight wide field",attrs:{"data-column":"note"}},[i("label",[e._v("備註")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.note,expression:"quote_policy.note"}],attrs:{type:"text"},domProps:{value:e.quote_policy.note},on:{input:function(t){t.target.composing||e.$set(e.quote_policy,"note",t.target.value)}}})]),i("div",{staticClass:"eight wide field",attrs:{"data-column":"required_material_class_name"}},[i("label",[e._v("條件物料")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.required_material_class_name,expression:"quote_policy.required_material_class_name"}],attrs:{type:"text"},domProps:{value:e.quote_policy.required_material_class_name},on:{input:function(t){t.target.composing||e.$set(e.quote_policy,"required_material_class_name",t.target.value)}}})]),i("div",{staticClass:"eight wide field",attrs:{"data-column":"required_condition"}},[i("label",[e._v("條件名稱")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.required_condition,expression:"quote_policy.required_condition"}],attrs:{type:"text"},domProps:{value:e.quote_policy.required_condition},on:{input:function(t){t.target.composing||e.$set(e.quote_policy,"required_condition",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.required_condition_polarity,expression:"quote_policy.required_condition_polarity"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(e.quote_policy.required_condition_polarity)?e._i(e.quote_policy.required_condition_polarity,null)>-1:e.quote_policy.required_condition_polarity},on:{change:function(t){var i=e.quote_policy.required_condition_polarity,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&e.$set(e.quote_policy,"required_condition_polarity",i.concat([r])):s>-1&&e.$set(e.quote_policy,"required_condition_polarity",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.quote_policy,"required_condition_polarity",a)}}}),i("label",[e._v("條件極性")])])]),i("div",{staticClass:"eight wide field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.is_activated,expression:"quote_policy.is_activated"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(e.quote_policy.is_activated)?e._i(e.quote_policy.is_activated,null)>-1:e.quote_policy.is_activated},on:{change:function(t){var i=e.quote_policy.is_activated,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&e.$set(e.quote_policy,"is_activated",i.concat([r])):s>-1&&e.$set(e.quote_policy,"is_activated",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.quote_policy,"is_activated",a)}}}),i("label",[e._v("是否啟用")])])])]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui buttons"},[i("a",{staticClass:"ui button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.$router.go(-1)}}},[e._v("\n                    "+e._s(e.$t("ui.general.back"))+"\n                ")]),i("div",{staticClass:"or"}),e.is_loading?i("a",{staticClass:"ui blue button",attrs:{href:"#"}},[e._v("\n                    "+e._s(e.$t("ui.general.updating"))+"...\n                ")]):i("a",{staticClass:"ui blue button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.update_quote_policy()}}},[e._v(e._s(e.$t("ui.general.update")))])])])]),i("div",{staticClass:"ui segment"},[e._m(1),i("table",{staticClass:"ui table"},[e._m(2),i("tbody",e._l(e.quote_policy.quote_conditions,function(t){return i("tr",[i("td",[e._v(e._s(t.name))]),i("td",[e._v(e._s("conditional"==t.quote_condition_type?"一般":"加收"))]),i("td",[e._v(e._s(t.priority||"-"))]),i("td",["attribute"==t.condition_type?i("span",[e._v("\n                            "+e._s(e.$t("models.attributes.core_waybills."+t.condition_attribute))+"\n                        ")]):i("span",[e._v("\n                            "+e._s(t.condition_value)+"\n                        ")]),e._v("\n                        ("+e._s(t.condition_unit)+")\n                         \n                        "+e._s(e.translate_logical_operator(t.logical_operator))+"\n                         \n                        "+e._s(t.result)+"\n                    ")]),i("td",["attribute"==t.price_type?i("span",[e._v("\n                            "+e._s(e.$t("models.attributes.core_waybills."+t.price_attribute))+"\n                        ")]):i("span",[e._v("\n                            "+e._s(t.price_value)+"\n                        ")]),e._v("\n                        "+e._s(t.price_operator)+"\n                        "+e._s(t.price_operator_value)+"\n                    ")])])}))])]),i("div",{staticClass:"ui segment"},[i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"list alternate icon"}),e._v("\n                報價單\n                "),i("router-link",{attrs:{to:{name:"new_station_quotation",params:{quote_policy_identity:e.quote_policy.identity}}}},[i("i",{staticClass:"add icon"})])],1)]),i("table",{staticClass:"ui table"},[e._m(3),i("tbody",e._l(e.quote_policy.quotations,function(t){return i("tr",[i("td",[e._v(e._s(t.title))]),i("td",[e._v(e._s(e.human_datetime(t.quoted_from)))]),i("td",[e._v(e._s(e.human_datetime(t.quoted_to)))]),i("td",[t.file_url?i("a",{attrs:{href:t.file_url}},[e._v("下載檔案")]):i("span",[e._v("-")])]),i("td",[i("a",{staticClass:"ui orange button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.caculate()}}},[e._v("\n                            計算\n                        ")])])])}))])])]):e._e()},rO=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"edit icon"}),e._v("\n                編輯計價政策\n            ")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"list icon"}),e._v("\n                計價條件\n            ")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("thead",[i("tr",[i("th",[e._v("名稱")]),i("th",[e._v("計價屬性")]),i("th",[e._v("優先度")]),i("th",[e._v("計價條件")]),i("th",[e._v("價格公式")])])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("thead",[i("tr",[i("th",[e._v("名稱")]),i("th",[e._v("起")]),i("th",[e._v("訖")]),i("th",[e._v("檔案位址")]),i("th",[e._v("動作")])])])}],sO={name:"ProviderEditQuotePolicy",mixins:[ll.a],props:{},data:function(){return{is_loading:!1,quote_policy:{},third_party_api_data:""}},watch:{},mounted:function(){var e=this;e.fetch_quote_policy()},methods:{human_datetime:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"lll";return j()(e).locale("zh-tw").format(t)},translate_logical_operator:function(e){switch(e){case"between?":return"介於";default:return e}},fetch_quote_policy:function(e,t){var i=this,n=new RestUrl(i.$store.state.provider.routes.api_v1_provider_quote_policy).parse({quote_policy_identity:i.$route.params.quote_policy_identity});return axios.get(n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){console.log(e),i.quote_policy=e.data.quote_policy})["catch"](function(e){return Promise.reject(e)})},update_quote_policy:function(){var e=this;if(e.valid()){e.is_loading=!0;var t=e.quote_policy,i=new RestUrl(e.$store.state.provider.routes.api_v1_provider_quote_policy_update).parse({quote_policy_identity:e.quote_policy.identity});return axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$noty.success(e.$t("ui.notifications.success.update__name",{name:e.$t("models.quote_policys")})),e.is_loading=!1,e.$router.go(-1)):(e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.quote_policys")})),e.is_loading=!1)})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.quote_policys")})),e.is_loading=!1})}}},validator:{target:"quote_policy",localize_key:"quote_policys",input_alert:!0,attributes:[{name:"name",required:!0}]},computed:{current_store:function(){return this.$store.state.provider.customers_module},current_customer:function(){var e=this;return _.findLast(e.current_store.customers,function(t){return t.identity==e.quote_policy.customer_identity})}},components:{}},oO=sO,cO=Object(lt["a"])(oO,aO,rO,!1,null,null,null),_O=(cO.exports,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"new"}},[i("h1",{staticClass:"ui header"},[e._v("\n        "+e._s(e.$t("ui.page_titles.new_contract"))+"\n    ")]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui form"},[i("div",{staticClass:"ui grid",staticStyle:{"margin-top":"0","margin-bottom":"0"}},[i("div",{staticClass:"eight wide field",attrs:{"data-column":"name"}},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.name,expression:"contract.name"}],attrs:{type:"text"},domProps:{value:e.contract.name},on:{input:function(t){t.target.composing||e.$set(e.contract,"name",t.target.value)}}})]),i("div",{staticClass:"eight wide field",attrs:{"data-column":"number"}},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.number")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.number,expression:"contract.number"}],attrs:{type:"text"},domProps:{value:e.contract.number},on:{input:function(t){t.target.composing||e.$set(e.contract,"number",t.target.value)}}})]),i("div",{staticClass:"eight wide field",attrs:{"data-column":"carrier_class"}},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.carrier_class")))]),e.$store.state.provider.node?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.contract.carrier_class,expression:"contract.carrier_class"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.contract,"carrier_class",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),i("option",{domProps:{value:e.$store.state.provider.node.carrier_class}},[e._v(e._s(e.$store.state.provider.node.company_short_name))]),i("option",{attrs:{value:"Carrier::LMSProxy"}},[e._v("自動轉運")])]):i("div",{staticClass:"ui inline active loader"})]),i("div",{staticClass:"eight wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.proxy_contract")))]),e.current_store.provider_contracts?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.contract.proxy_contract_identity,expression:"contract.proxy_contract_identity"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.contract,"proxy_contract_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.current_store.provider_contracts,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2):i("div",{staticClass:"ui inline active loader"})]),i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"code icon"}),e._v("\n                "+e._s(e.$t("ui.pages.customer_contracts.additional_information"))+"\n            ")])]),i("div",{staticClass:"sixteen wide red field"},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.note")))]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.contract.note,expression:"contract.note"}],attrs:{rows:"4"},domProps:{value:e.contract.note},on:{input:function(t){t.target.composing||e.$set(e.contract,"note",t.target.value)}}})]),i("div",{staticClass:"sixteen wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.third_party_api_data")))]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.third_party_api_data,expression:"third_party_api_data"}],attrs:{rows:"4"},domProps:{value:e.third_party_api_data},on:{input:function(t){t.target.composing||(e.third_party_api_data=t.target.value)}}})])]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui buttons"},[i("a",{staticClass:"ui button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.$router.go(-1)}}},[e._v("\n                "+e._s(e.$t("ui.general.back"))+"\n            ")]),i("div",{staticClass:"or"}),e.is_loading?i("a",{staticClass:"ui blue button",attrs:{href:"#"}},[e._v("\n                "+e._s(e.$t("ui.general.creating"))+"...\n            ")]):i("a",{staticClass:"ui blue button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.create_contract()}}},[e._v("\n                "+e._s(e.$t("ui.general.create"))+"\n            ")])])])])}),lO=[],uO={name:"ProviderCustomersContractsNew",mixins:[ll.a],props:{},data:function(){return{is_loading:!1,contract:{customer_identity:this.$route.params.customer_identity},third_party_api_data:""}},mounted:function(){},watch:{},methods:{create_contract:function(){var e=this;if(e.valid()){e.is_loading=!0,e.contract.third_party_api_data=JSON.parse(e.third_party_api_data);var t=e.contract,i=new RestUrl(e.$store.state.provider.routes.api_v1_provider_contracts_create).parse();return axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$noty.success(e.$t("ui.notifications.success.create__name",{name:e.$t("models.contracts")})),e.$router.push("/provider/customers"),e.is_loading=!1):(e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.contracts")})),e.is_loading=!1)})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.contracts")})),e.is_loading=!1})}}},validator:{target:"contract",localize_key:"contracts",input_alert:!0,attributes:[{name:"name",required:!0},{name:"number",required:!0},{name:"carrier_class",required:!0}]},computed:{current_store:function(){return this.$store.state.provider.customers_module}},components:{}},dO=uO,pO=(n("f10f"),Object(lt["a"])(dO,_O,lO,!1,null,null,null)),mO=(pO.exports,function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.quote_policy?i("div",{attrs:{id:"edit_quote_policy"}},[i("div",{staticClass:"ui segment"},[e._m(0),i("div",{staticClass:"ui form"},[i("div",{staticClass:"ui grid",staticStyle:{"margin-top":"0","margin-bottom":"0"}},[i("div",{staticClass:"eight wide field",attrs:{"data-column":"name"}},[i("label",[e._v("名稱")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.name,expression:"quote_policy.name"}],attrs:{type:"text"},domProps:{value:e.quote_policy.name},on:{input:function(t){t.target.composing||e.$set(e.quote_policy,"name",t.target.value)}}})]),i("div",{staticClass:"eight wide field",attrs:{"data-column":"note"}},[i("label",[e._v("備註")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.note,expression:"quote_policy.note"}],attrs:{type:"text"},domProps:{value:e.quote_policy.note},on:{input:function(t){t.target.composing||e.$set(e.quote_policy,"note",t.target.value)}}})]),i("div",{staticClass:"eight wide field",attrs:{"data-column":"required_material_class_name"}},[i("label",[e._v("條件物料")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.required_material_class_name,expression:"quote_policy.required_material_class_name"}],attrs:{type:"text"},domProps:{value:e.quote_policy.required_material_class_name},on:{input:function(t){t.target.composing||e.$set(e.quote_policy,"required_material_class_name",t.target.value)}}})]),i("div",{staticClass:"eight wide field",attrs:{"data-column":"required_condition"}},[i("label",[e._v("條件名稱")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.required_condition,expression:"quote_policy.required_condition"}],attrs:{type:"text"},domProps:{value:e.quote_policy.required_condition},on:{input:function(t){t.target.composing||e.$set(e.quote_policy,"required_condition",t.target.value)}}})]),i("div",{staticClass:"eight wide field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.required_condition_polarity,expression:"quote_policy.required_condition_polarity"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(e.quote_policy.required_condition_polarity)?e._i(e.quote_policy.required_condition_polarity,null)>-1:e.quote_policy.required_condition_polarity},on:{change:function(t){var i=e.quote_policy.required_condition_polarity,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&e.$set(e.quote_policy,"required_condition_polarity",i.concat([r])):s>-1&&e.$set(e.quote_policy,"required_condition_polarity",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.quote_policy,"required_condition_polarity",a)}}}),i("label",[e._v("條件極性")])])]),i("div",{staticClass:"eight wide field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.quote_policy.is_activated,expression:"quote_policy.is_activated"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(e.quote_policy.is_activated)?e._i(e.quote_policy.is_activated,null)>-1:e.quote_policy.is_activated},on:{change:function(t){var i=e.quote_policy.is_activated,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&e.$set(e.quote_policy,"is_activated",i.concat([r])):s>-1&&e.$set(e.quote_policy,"is_activated",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.quote_policy,"is_activated",a)}}}),i("label",[e._v("是否啟用")])])])]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"ui buttons"},[i("a",{staticClass:"ui button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.$router.go(-1)}}},[e._v("\n                    "+e._s(e.$t("ui.general.back"))+"\n                ")]),i("div",{staticClass:"or"}),e.is_loading?i("a",{staticClass:"ui blue button",attrs:{href:"#"}},[e._v("\n                    "+e._s(e.$t("ui.general.updating"))+"...\n                ")]):i("a",{staticClass:"ui blue button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.update_quote_policy()}}},[e._v(e._s(e.$t("ui.general.update")))])])])]),i("div",{staticClass:"ui segment"},[e._m(1),i("table",{staticClass:"ui table"},[e._m(2),i("tbody",e._l(e.quote_policy.quote_conditions,function(t){return i("tr",[i("td",[e._v(e._s(t.name))]),i("td",[e._v(e._s("conditional"==t.quote_condition_type?"一般":"加收"))]),i("td",[e._v(e._s(t.priority||"-"))]),i("td",["attribute"==t.condition_type?i("span",[e._v("\n                            "+e._s(e.$t("models.attributes.core_waybills."+t.condition_attribute))+"\n                        ")]):i("span",[e._v("\n                            "+e._s(t.condition_value)+"\n                        ")]),e._v("\n                        ("+e._s(t.condition_unit)+")\n                         \n                        "+e._s(e.translate_logical_operator(t.logical_operator))+"\n                         \n                        "+e._s(t.result)+"\n                    ")]),i("td",[t.price_operator_1?i("span",[e._v("(")]):e._e(),t.price_operator_2?i("span",[e._v("(")]):e._e(),t.price_operator_3?i("span",[e._v("(")]):e._e(),t.price_operator_4?i("span",[e._v("(")]):e._e(),t.price_operator_5?i("span",[e._v("(")]):e._e(),"attribute"==t.price_type?i("span",[e._v("\n                            "+e._s(e.$t("models.attributes.core_waybills."+t.price_attribute))+"\n                            "),t.price_attribute_round_type?i("span",["round"==t.price_attribute_round_type?i("span",[e._v("(四捨五入)")]):e._e(),"floor"==t.price_attribute_round_type?i("span",[e._v("(無條件捨去)")]):e._e(),"ceil"==t.price_attribute_round_type?i("span",[e._v("(無條件進位)")]):e._e()]):e._e()]):i("span",[e._v("\n                            "+e._s(t.price_value)+"\n                        ")]),t.price_operator_1?i("span",[e._v("\n                            "+e._s(t.price_operator_1)+"\n                            "+e._s(t.price_operator_value_1)+" )\n                        ")]):e._e(),t.price_operator_2?i("span",[e._v("\n                            "+e._s(t.price_operator_2)+"\n                            "+e._s(t.price_operator_value_2)+" )\n                        ")]):e._e(),t.price_operator_3?i("span",[e._v("\n                            "+e._s(t.price_operator_3)+"\n                            "+e._s(t.price_operator_value_3)+" )\n                        ")]):e._e(),t.price_operator_4?i("span",[e._v("\n                            "+e._s(t.price_operator_4)+"\n                            "+e._s(t.price_operator_value_4)+" )\n                        ")]):e._e(),t.price_operator_5?i("span",[e._v("\n                            "+e._s(t.price_operator_5)+"\n                            "+e._s(t.price_operator_value_5)+" )\n                        ")]):e._e()])])}))])]),i("div",{staticClass:"ui segment"},[i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"list alternate icon"}),e._v("\n                報價單\n                "),i("router-link",{attrs:{to:{name:"new_station_quotation",params:{quote_policy_identity:e.quote_policy.identity}}}},[i("i",{staticClass:"add icon"})])],1)]),i("table",{staticClass:"ui table"},[e._m(3),i("tbody",e._l(e.quote_policy.quotations,function(t){return i("tr",[i("td",[e._v(e._s(t.title))]),i("td",[e._v(e._s(e.human_datetime(t.quoted_from)))]),i("td",[e._v(e._s(e.human_datetime(t.quoted_to)))]),i("td",[t.file_url?i("a",{attrs:{href:t.file_url}},[e._v("下載檔案")]):i("span",[e._v("-")])]),i("td",[i("a",{staticClass:"ui orange button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.caculate()}}},[e._v("\n                            計算\n                        ")])])])}))])])]):e._e()}),fO=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"edit icon"}),e._v("\n                編輯計價政策\n            ")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"list icon"}),e._v("\n                計價條件\n            ")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("thead",[i("tr",[i("th",[e._v("名稱")]),i("th",[e._v("計價屬性")]),i("th",[e._v("優先度")]),i("th",[e._v("計價條件")]),i("th",[e._v("價格公式")])])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("thead",[i("tr",[i("th",[e._v("名稱")]),i("th",[e._v("起")]),i("th",[e._v("訖")]),i("th",[e._v("檔案位址")]),i("th",[e._v("動作")])])])}],vO={name:"ProviderEditQuotePolicy",mixins:[ll.a],props:{},data:function(){return{is_loading:!1,quote_policy:{},third_party_api_data:""}},watch:{},mounted:function(){var e=this;e.fetch_quote_policy()},methods:{human_datetime:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"lll";return j()(e).locale("zh-tw").format(t)},translate_logical_operator:function(e){switch(e){case"between?":return"介於";default:return e}},fetch_quote_policy:function(e,t){var i=this,n=new RestUrl(i.$store.state.provider.routes.api_v1_provider_quote_policy).parse({quote_policy_identity:i.$route.params.quote_policy_identity});return axios.get(n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){console.log(e),i.quote_policy=e.data.quote_policy})["catch"](function(e){return Promise.reject(e)})},update_quote_policy:function(){var e=this;if(e.valid()){e.is_loading=!0;var t=e.quote_policy,i=new RestUrl(e.$store.state.provider.routes.api_v1_provider_quote_policy_update).parse({quote_policy_identity:e.quote_policy.identity});return axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$noty.success(e.$t("ui.notifications.success.update__name",{name:e.$t("models.quote_policys")})),e.is_loading=!1,e.$router.go(-1)):(e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.quote_policys")})),e.is_loading=!1)})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.quote_policys")})),e.is_loading=!1})}}},validator:{target:"quote_policy",localize_key:"quote_policys",input_alert:!0,attributes:[{name:"name",required:!0}]},computed:{current_store:function(){return this.$store.state.provider.customers_module},current_customer:function(){var e=this;return _.findLast(e.current_store.customers,function(t){return t.identity==e.quote_policy.customer_identity})}},components:{}},hO=vO,gO=Object(lt["a"])(hO,mO,fO,!1,null,null,null),bO=(gO.exports,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"new"}},[i("div",{staticClass:"ui segment"},[i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"clipboard icon"}),e._v("\n                "+e._s(e.$t("ui.page_titles.new_contract"))+"\n            ")])]),i("div",{staticClass:"ui form"},[i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide required field",attrs:{"data-column":"name"}},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.name,expression:"contract.name"}],attrs:{type:"text"},domProps:{value:e.contract.name},on:{input:function(t){t.target.composing||e.$set(e.contract,"name",t.target.value)}}})]),i("div",{staticClass:"eight wide required field column",attrs:{"data-column":"number"}},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.number")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.number,expression:"contract.number"}],attrs:{type:"text"},domProps:{value:e.contract.number},on:{input:function(t){t.target.composing||e.$set(e.contract,"number",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide required field",attrs:{"data-column":"carrier_class"}},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.carrier_class")))]),e.$store.state.provider.node?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.contract.carrier_class,expression:"contract.carrier_class"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.contract,"carrier_class",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),i("option",{domProps:{value:e.$store.state.provider.node.carrier_class}},[e._v(e._s(e.$store.state.provider.node.company_short_name))]),i("option",{attrs:{value:"Carrier::LMSProxy"}},[e._v("自動轉運")])]):i("div",{staticClass:"ui inline active loader"})]),i("div",{staticClass:"eight wide field column"},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.proxy_contract")))]),e.current_store.provider_contracts?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.contract.proxy_contract_identity,expression:"contract.proxy_contract_identity"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.contract,"proxy_contract_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.current_store.provider_contracts,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2):i("div",{staticClass:"ui inline active loader"})])]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.is_automated_fetch_status,expression:"contract.is_automated_fetch_status"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(e.contract.is_automated_fetch_status)?e._i(e.contract.is_automated_fetch_status,null)>-1:e.contract.is_automated_fetch_status},on:{change:function(t){var i=e.contract.is_automated_fetch_status,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&e.$set(e.contract,"is_automated_fetch_status",i.concat([r])):s>-1&&e.$set(e.contract,"is_automated_fetch_status",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.contract,"is_automated_fetch_status",a)}}}),i("label",[e._v("\n                            是否自動同步貨況\n                        ")])])]),i("div",{staticClass:"eight wide field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.is_automated_send_data,expression:"contract.is_automated_send_data"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(e.contract.is_automated_send_data)?e._i(e.contract.is_automated_send_data,null)>-1:e.contract.is_automated_send_data},on:{change:function(t){var i=e.contract.is_automated_send_data,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&e.$set(e.contract,"is_automated_send_data",i.concat([r])):s>-1&&e.$set(e.contract,"is_automated_send_data",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.contract,"is_automated_send_data",a)}}}),i("label",[e._v("\n                            是否自動傳送EDI\n                        ")])])])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field",class:{required:e.contract.is_automated_fetch_status}},[i("label",[e._v("自動同步貨況設定")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.fetch_status_cron,expression:"contract.fetch_status_cron"}],attrs:{type:"text",disabled:!e.contract.is_automated_fetch_status},domProps:{value:e.contract.fetch_status_cron},on:{input:function(t){t.target.composing||e.$set(e.contract,"fetch_status_cron",t.target.value)}}}),e._l(e.human_readable_cron(e.contract.fetch_status_cron),function(t){return e.contract.fetch_status_cron?i("p",[i("i",[e._v("會於 "+e._s(t)+" 執行")])]):e._e()})],2),i("div",{staticClass:"eight wide field column",class:{required:e.contract.is_automated_send_data}},[i("label",[e._v("自動傳送EDI設定")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.send_data_cron,expression:"contract.send_data_cron"}],attrs:{type:"text",disabled:!e.contract.is_automated_send_data},domProps:{value:e.contract.send_data_cron},on:{input:function(t){t.target.composing||e.$set(e.contract,"send_data_cron",t.target.value)}}}),e._l(e.human_readable_cron(e.contract.send_data_cron),function(t){return e.contract.send_data_cron?i("p",[i("i",[e._v("會於 "+e._s(t)+" 執行")])]):e._e()})],2)])]),i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"code icon"}),e._v("\n                "+e._s(e.$t("ui.pages.customer_contracts.additional_information"))+"\n            ")])]),i("div",{staticClass:"ui form"},[i("div",{staticClass:"fields"},[i("div",{staticClass:"sixteen wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.note")))]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.contract.note,expression:"contract.note"}],attrs:{rows:"4"},domProps:{value:e.contract.note},on:{input:function(t){t.target.composing||e.$set(e.contract,"note",t.target.value)}}})]),i("div",{staticClass:"sixteen wide required field"},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.third_party_api_data")))]),i("codemirror",{attrs:{options:e.code_mirror_options},model:{value:e.contract.third_party_api_data,callback:function(t){e.$set(e.contract,"third_party_api_data",t)},expression:"contract.third_party_api_data"}})],1)])]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"right floated"},[i("a",{staticClass:"ui button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.$router.go(-1)}}},[e._v("\n                "+e._s(e.$t("ui.general.back"))+"\n            ")]),e.is_loading?i("a",{staticClass:"ui blue button",attrs:{href:"#"}},[e._v("\n                "+e._s(e.$t("ui.general.creating"))+"...\n            ")]):i("a",{staticClass:"ui blue button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.create_contract()}}},[e._v("\n                "+e._s(e.$t("ui.general.create"))+"\n            ")])]),i("div",{staticClass:"clear"})])])}),yO=[],wO={name:"ProviderCustomersContractsNew",mixins:[ll.a],props:{},data:function(){return{is_loading:!1,contract:{customer_identity:this.$route.params.customer_identity,third_party_api_data:"{}"},code_mirror_options:{tabSize:4,smartIndent:!0,mode:"application/json",theme:"base16-dark",lineNumbers:!0,line:!0}}},mounted:function(){},watch:{},methods:{human_readable_cron:function(t){try{var i=Rf.a.parseExpression(t,this.cron_parser_options),n=[];return n.push(j()(i.next().toString()).locale("zh-tw").format("lll")),n.push(j()(i.next().toString()).locale("zh-tw").format("lll")),n.push(j()(i.next().toString()).locale("zh-tw").format("lll")),n}catch(e){console.log(e)}},create_contract:function(){var e=this;if(e.valid()){e.is_loading=!0;var t=e.contract,i=new RestUrl(e.$store.state.provider.routes.api_v1_provider_contracts_create).parse();return axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$noty.success(e.$t("ui.notifications.success.create__name",{name:e.$t("models.contracts")})),e.is_loading=!1,e.$router.push({name:"station_customers"})):(e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.contracts")})),e.is_loading=!1)})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.contracts")})),e.is_loading=!1})}}},validator:{target:"contract",localize_key:"contracts",input_alert:!0,attributes:[{name:"name",required:!0},{name:"number",required:!0},{name:"carrier_class",required:!0}]},computed:{current_store:function(){return this.$store.state.provider.customers_module}},components:{codemirror:If["codemirror"]}},$O=wO,kO=(n("655a"),Object(lt["a"])($O,bO,yO,!1,null,null,null)),CO=kO.exports,xO=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.contract.identity?i("div",{attrs:{id:"customer_contract_edit"}},[i("div",{staticClass:"ui segment"},[i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"clipboard icon"}),e._v("\n                "+e._s(e.$t("ui.page_titles.contract"))+"\n            ")])]),i("div",{staticClass:"ui form"},[i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide required field",attrs:{"data-column":"name"}},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.name,expression:"contract.name"}],attrs:{type:"text"},domProps:{value:e.contract.name},on:{input:function(t){t.target.composing||e.$set(e.contract,"name",t.target.value)}}})]),i("div",{staticClass:"eight wide required field column",attrs:{"data-column":"number"}},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.number")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.number,expression:"contract.number"}],attrs:{type:"text"},domProps:{value:e.contract.number},on:{input:function(t){t.target.composing||e.$set(e.contract,"number",t.target.value)}}})])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide required field",attrs:{"data-column":"carrier_class"}},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.carrier_class")))]),e.$store.state.provider.node?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.contract.carrier_class,expression:"contract.carrier_class"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.contract,"carrier_class",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),i("option",{domProps:{value:e.$store.state.provider.node.carrier_class}},[e._v(e._s(e.$store.state.provider.node.company_short_name))]),i("option",{attrs:{value:"Carrier::LMSProxy"}},[e._v("自動轉運")])]):i("div",{staticClass:"ui inline active loader"})]),i("div",{staticClass:"eight wide field column"},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.proxy_contract")))]),e.current_store.provider_contracts?i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.contract.proxy_contract_identity,expression:"contract.proxy_contract_identity"}],staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.contract,"proxy_contract_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.current_store.provider_contracts,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2):i("div",{staticClass:"ui inline active loader"})])]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.is_automated_fetch_status,expression:"contract.is_automated_fetch_status"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(e.contract.is_automated_fetch_status)?e._i(e.contract.is_automated_fetch_status,null)>-1:e.contract.is_automated_fetch_status},on:{change:function(t){var i=e.contract.is_automated_fetch_status,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&e.$set(e.contract,"is_automated_fetch_status",i.concat([r])):s>-1&&e.$set(e.contract,"is_automated_fetch_status",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.contract,"is_automated_fetch_status",a)}}}),i("label",[e._v("\n                            是否自動同步貨況\n                        ")])])]),i("div",{staticClass:"eight wide field"},[i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.is_automated_send_data,expression:"contract.is_automated_send_data"}],staticClass:"hidden",attrs:{type:"checkbox",tabindex:"0"},domProps:{checked:Array.isArray(e.contract.is_automated_send_data)?e._i(e.contract.is_automated_send_data,null)>-1:e.contract.is_automated_send_data},on:{change:function(t){var i=e.contract.is_automated_send_data,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&e.$set(e.contract,"is_automated_send_data",i.concat([r])):s>-1&&e.$set(e.contract,"is_automated_send_data",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.contract,"is_automated_send_data",a)}}}),i("label",[e._v("\n                            是否自動傳送EDI\n                        ")])])])]),i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field",class:{required:e.contract.is_automated_fetch_status}},[i("label",[e._v("自動同步貨況設定")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.fetch_status_cron,expression:"contract.fetch_status_cron"}],attrs:{type:"text",disabled:!e.contract.is_automated_fetch_status},domProps:{value:e.contract.fetch_status_cron},on:{input:function(t){t.target.composing||e.$set(e.contract,"fetch_status_cron",t.target.value)}}}),e._l(e.human_readable_cron(e.contract.fetch_status_cron),function(t){return e.contract.fetch_status_cron?i("p",[i("i",[e._v("會於 "+e._s(t)+" 執行")])]):e._e()})],2),i("div",{staticClass:"eight wide field column",class:{required:e.contract.is_automated_send_data}},[i("label",[e._v("自動傳送EDI設定")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.contract.send_data_cron,expression:"contract.send_data_cron"}],attrs:{type:"text",disabled:!e.contract.is_automated_send_data},domProps:{value:e.contract.send_data_cron},on:{input:function(t){t.target.composing||e.$set(e.contract,"send_data_cron",t.target.value)}}}),e._l(e.human_readable_cron(e.contract.send_data_cron),function(t){return e.contract.send_data_cron?i("p",[i("i",[e._v("會於 "+e._s(t)+" 執行")])]):e._e()})],2)]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"right floated"},[e.is_loading?i("a",{staticClass:"ui blue button",attrs:{href:"#"}},[e._v("\n                    "+e._s(e.$t("ui.general.updating"))+"...\n                ")]):i("a",{staticClass:"ui blue button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.update_contract()}}},[e._v(e._s(e.$t("ui.general.update")))])]),i("div",{staticClass:"clear"})])]),i("div",{staticClass:"ui segment"},[i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"code icon"}),e._v("\n                "+e._s(e.$t("ui.pages.customer_contracts.additional_information"))+"\n            ")])]),i("div",{staticClass:"ui form"},[i("div",{staticClass:"fields"},[i("div",{staticClass:"sixteen wide red field"},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.note")))]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.contract.note,expression:"contract.note"}],attrs:{rows:"4"},domProps:{value:e.contract.note},on:{input:function(t){t.target.composing||e.$set(e.contract,"note",t.target.value)}}})]),i("div",{staticClass:"sixteen wide field"},[i("label",[e._v(e._s(e.$t("models.attributes.customer_contracts.third_party_api_data")))]),i("codemirror",{attrs:{options:e.code_mirror_options},model:{value:e.contract.third_party_api_data,callback:function(t){e.$set(e.contract,"third_party_api_data",t)},expression:"contract.third_party_api_data"}})],1)]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"right floated"},[e.is_loading?i("a",{staticClass:"ui blue button",attrs:{href:"#"}},[e._v("\n                    "+e._s(e.$t("ui.general.updating"))+"...\n                ")]):i("a",{staticClass:"ui blue button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.update_contract()}}},[e._v(e._s(e.$t("ui.general.update")))])]),i("div",{staticClass:"clear"})])]),i("div",{staticClass:"ui segment"},[i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"dollar sign icon"}),e._v("\n                "+e._s(e.$t("ui.page_titles.quote_policies"))+"\n            ")])]),i("table",{staticClass:"ui celled table"},[e._m(0),i("tbody",{staticClass:"center aligned"},e._l(e.contract.quote_policies,function(t){return i("tr",[i("td",[e._v(e._s(t.name))]),i("td",[e._v(e._s(e.human_datetime(t.begin_at)))]),i("td",[e._v(e._s(e.human_datetime(t.end_at)))]),i("td",[e._v(e._s(t.required_condition))]),i("td",[e._v(e._s(t.required_condition_polarity?"正":"負"))]),i("td",[e._v(e._s(t.required_material_class_name))]),i("td",[e._v(e._s(t.is_activated?"啟用":"不啟用"))]),i("td",[e._v(e._s(t.note))]),i("td",[i("router-link",{staticClass:"ui primary button",attrs:{to:{name:"station_quote_policy",params:{customer_identity:e.$route.params.customer_identity,contract_identity:e.$route.params.contract_identity,quote_policy_identity:t.identity}}}},[e._v("\n                            檢視\n                        ")]),i("a",{staticClass:"ui orange button",on:{click:function(i){e.fetch_csv(t.identity)}}},[e._v("帳單")])],1)])}))])])]):e._e()},PO=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("thead",{staticClass:"center aligned"},[i("tr",[i("th",[e._v("名稱")]),i("th",[e._v("開始於")]),i("th",[e._v("結束於")]),i("th",[e._v("條件名稱")]),i("th",[e._v("條件極性")]),i("th",[e._v("條件物料")]),i("th",[e._v("是否啟用")]),i("th",[e._v("備註")]),i("th",[e._v("動作")])])])}],SO={name:"ProviderCustomersContractsEdit",mixins:[ll.a],props:{},data:function(){return{is_loading:!1,contract:{},code_mirror_options:{tabSize:4,smartIndent:!0,mode:"application/json",theme:"base16-dark",lineNumbers:!0,line:!0},cron_parser_options:{currentDate:j()(),tz:"Asia/Taipei"}}},watch:{},mounted:function(){var e=this;e.fetch_contract()},methods:{human_readable_cron:function(t){try{var i=Rf.a.parseExpression(t,this.cron_parser_options),n=[];return n.push(j()(i.next().toString()).locale("zh-tw").format("lll")),n.push(j()(i.next().toString()).locale("zh-tw").format("lll")),n.push(j()(i.next().toString()).locale("zh-tw").format("lll")),n}catch(e){console.log(e)}},fetch_contract:function(e,t){var i=this,n=new RestUrl(i.$store.state.provider.routes.api_v1_provider_contract).parse({contract_identity:i.$route.params.contract_identity});return axios.get(n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){i.contract=e.data.contract,i.contract.third_party_api_data&&(i.contract.third_party_api_data=JSON.stringify(i.contract.third_party_api_data,void 0,4))})["catch"](function(e){return Promise.reject(e)})},update_contract:function(){var e=this;if(e.valid()){e.is_loading=!0;var t=e.contract,i=new RestUrl(e.$store.state.provider.routes.api_v1_provider_contract_update).parse({contract_identity:e.contract.identity});return axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.$noty.success(e.$t("ui.notifications.success.update__name",{name:e.$t("models.contracts")})),e.is_loading=!1,e.$router.push("/provider/customers")):(e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.contracts")})),e.is_loading=!1)})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.contracts")})),e.is_loading=!1})}}},validator:{target:"contract",localize_key:"contracts",input_alert:!0,attributes:[{name:"name",required:!0},{name:"number",required:!0},{name:"carrier_class",required:!0}]},computed:{current_store:function(){return this.$store.state.provider.customers_module},current_customer:function(){var e=this;return _.findLast(e.current_store.customers,function(t){return t.identity==e.contract.customer_identity})}},components:{codemirror:If["codemirror"]}},NO=SO,AO=Object(lt["a"])(NO,xO,PO,!1,null,null,null),EO=AO.exports,qO="station_customers",zO="new_station_customer",jO="station_customer",RO="new_station_contract",IO="station_contract",TO="new_station_quote_policy",OO="station_quote_policy",LO="new_station_quotation",DO=[{path:"/",component:xT,name:"station_customers",meta:{api_name:"api_v1_station_customers",breadcrumb:[qO],btns:[zO]}},{path:"new",component:qT,name:"new_station_customer",meta:{api_name:"api_v1_station_customers_create",breadcrumb:[qO,zO]}},{path:":customer_identity",component:DT,name:"station_customer",meta:{api_name:"api_v1_station_customer",breadcrumb:[qO,jO]}},{path:":customer_identity/contracts/new",component:CO,name:"new_station_contract",meta:{api_name:"api_v1_station_contracts_create",breadcrumb:[qO,jO,RO]}},{path:":customer_identity/contracts/:contract_identity",component:EO,name:"station_contract",meta:{api_name:"api_v1_station_contract_update",breadcrumb:[qO,jO,IO]}},{path:":customer_identity/contracts/:contract_identity/quote_policies/:quote_policy_identity",component:QT,name:"station_quote_policy",meta:{api_name:"api_v1_station_quote_policy_update",breadcrumb:[qO,jO,IO,OO]}},{path:":customer_identity/contracts/:contract_identity/quote_policies/new",component:HT,name:"new_station_quote_policy",meta:{api_name:"api_v1_station_quote_policy_create",breadcrumb:[qO,jO,IO,TO]}},{path:":customer_identity/contracts/:contract_identity/quote_policies/:quote_policy_identity/quotations/new",component:nO,name:"new_station_quotation",meta:{api_name:"api_v1_station_quotation_create",breadcrumb:[qO,jO,IO,OO,LO]}}],BO=DO,MO=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"uploader_layout"}},[e.is_initialized?i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1):i("div",[i("div",{staticClass:"ui inverted dimmer transition visible active",staticStyle:{display:"block !important"}},[i("div",{staticClass:"ui text loader"},[e._v(e._s(e.$t("ui.general.initializing")))])])])],1)},UO=[];function FO(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function GO(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){FO(r,n,a,s,o,"next",e)}function o(e){FO(r,n,a,s,o,"throw",e)}s(void 0)})}}var HO={name:"UploaderLayout",data:function(){return{is_initialized:!1}},computed:{},created:function(){this.init()},mounted:function(){},methods:{init:function(){var e=GO(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,console.log(t.$store),e.next=4,t.$store.dispatch("station/uploader_module/set_urls");case 4:return e.next=6,new Promise(function(e){t.is_initialized=!0,e()});case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{}},YO=HO,KO=Object(lt["a"])(YO,MO,UO,!1,null,null,null),WO=KO.exports,VO=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"operations_layout"}},[e.is_initialized?i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1):i("div",{staticClass:"ui active centered inline large loader"})],1)},XO=[];function QO(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function ZO(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){QO(r,n,a,s,o,"next",e)}function o(e){QO(r,n,a,s,o,"throw",e)}s(void 0)})}}var JO={name:"CoreWaybillsLayout",data:function(){return{is_initialized:!1,errors:[]}},created:function(){this.init()},mounted:function(){},watch:{},computed:{},methods:{init:function(){var e=ZO(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,new Promise(function(e){t.is_initialized=!0,e()});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{}},eL=JO,tL=Object(lt["a"])(eL,VO,XO,!1,null,null,null),iL=tL.exports,nL=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.is_initialized?i("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[i("router-view")],1):e._e(),i("div",{staticClass:"ui inverted dimmer transition",class:{active:!e.is_initialized}},[i("div",{staticClass:"ui text loader"},[e._v("\n            "+e._s(e.$t("ui.general.initializing"))+"\n        ")])])],1)},aL=[];function rL(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function sL(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){rL(r,n,a,s,o,"next",e)}function o(e){rL(r,n,a,s,o,"throw",e)}s(void 0)})}}var oL={name:"OperationsLayout",data:function(){return{is_initialized:!1,errors:[]}},computed:{},watch:{},created:function(){},mounted:function(){var e=this;e.init(),e.$bus.$off("init"),e.$bus.$on("init",function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.init()}.bind(this))},beforeDestroy:function(){this.$bus.$off("init")},methods:{init:function(){var e=sL(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,e()});case 3:return e.next=5,t.$store.dispatch("station/operations_module/fetch_staffs");case 5:return e.next=7,new Promise(function(e){t.is_initialized=!0,t.$noty.information(t.$t("ui.page_titles.provider_operations")+" "+t.$t("ui.general.initialize_complete"),300),e()});case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{}},cL=oL,_L=Object(lt["a"])(cL,nL,aL,!1,null,null,null),lL=_L.exports,uL=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"uploader"}},[i("Steps",{tag:"div",attrs:{current_step:e.current_step,checked_count:e.checked_operation_count,uploaded_count:e.uploaded_operation_count,data_count:e.operations_count,is_processing:e.is_processing}}),i("div",{staticClass:"ui divider"}),e.is_processing?i("div",{staticClass:"ui indicating complete progress",attrs:{id:"index-progress-bar"}},[e._m(0)]):e._e(),i("ErrorBox",{attrs:{errors:e.errors}}),e.is_initialized?i("div",{staticClass:"basic_options"},[i("div",{staticClass:"ui top attached mini segment",class:{green:e.basic_options_setted,orange:!e.basic_options_setted}},[i("h3",{staticClass:"ui header"},[i("i",{staticClass:"upload icon"}),i("div",{staticClass:"content"},[e._v("\n                    "+e._s(e.$t("ui.pages.uploader.upload_operation_list"))+"\n                ")])])]),i("div",{staticClass:"ui bottom attached segment"},[i("div",{staticClass:"ui grid"},[i("div",{staticClass:"eight wide column"},[i("div",{staticClass:"ui segments"},[i("div",{staticClass:"ui segment"},[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.file.name"))+"：\n                            "),i("span",[e._v(e._s(e.file_name||"N/A"))])]),i("div",{staticClass:"ui segment"},[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.file.size"))+"：\n                            "),i("span",[e._v(e._s(e.file_size_in_bytes)+" Bytes / 1024000 Bytes")])]),i("div",{staticClass:"ui segment"},[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.file.path"))+"：\n                            "),e.is_file_uploaded?i("span",[i("a",{attrs:{href:e.file_s3_path}},[e._v(e._s(e.file_name))])]):i("span",[e._v("N/A")])]),i("div",{staticClass:"ui segment"},[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.file.upload"))+"：\n                            "),e.is_file_uploaded?i("span",[i("i",{staticClass:"check icon"}),e._v("\n                                "+e._s(e.$t("ui.pages.uploader.file.complete"))+"\n                            ")]):i("span",[i("i",{staticClass:"warning icon"}),e._v("\n                                "+e._s(e.$t("ui.pages.uploader.file.not_uploaded"))+"\n                            ")])])])]),e.basic_options_setted?i("div",{staticClass:"eight wide column ui form"},[i("div",{staticClass:"field"},[i("label",[e._v("\n                            "+e._s(e.$t("ui.general.please_select"))+"\n                            "),e._v("\n                            "+e._s(e.$t("ui.pages.uploader.operation_list"))+"\n                        ")]),i("span",[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.selected"))+"\n                            【"+e._s(e.file_name)+"】\n                        ")])]),i("div",{staticClass:"field"},[i("label",[e._v("\n                            "+e._s(e.$t("ui.general.please_select"))+"\n                            "+e._s(e.$t("models.attributes.core_waybills.sender"))+"\n                        ")]),i("span",[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.selected"))+"\n                            "+e._s(e.requester_node.company_name)+"\n                        ")])]),i("div",{staticClass:"field"},[i("label",[e._v("\n                            "+e._s(e.$t("ui.general.please_select"))+"\n                            "),e._v("\n                            "+e._s(e.$t("ui.pages.uploader.contract"))+"\n                        ")]),i("span",[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.selected"))+"\n                            "+e._s(e.requester_contract.name)+"\n                        ")])]),i("div",{staticClass:"field"},[i("label",[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.your_actions"))+"\n                        ")]),i("span",[e._v(e._s(e.current_converter.name))])])]):e._e()]),i("div",{staticClass:"ui divider"}),e.basic_options_setted?i("div",[(e.is_processing||!e.can_next_step)&&e.current_step<4?i("a",{staticClass:"ui large fluid primary button disabled"},[e._v("\n                    "+e._s(e.$t("ui.general.initializing"))+"\n                ")]):e.current_step<4?i("a",{staticClass:"ui large fluid primary button",on:{click:function(t){e.steps_callback_center(e.current_step)}}},[e._v("\n                    "+e._s(e.$t("ui.general.submit"))+"\n                ")]):e._e()]):e._e(),i("div",{staticClass:"clear"})])]):i("div",[i("div",{staticClass:"ui inverted dimmer transition visible active",staticStyle:{display:"block !important"}},[i("div",{staticClass:"ui text loader"},[e._v(e._s(e.$t("ui.general.initializing")))])])]),i("div",{staticClass:"ui divider"}),e.current_step>=4?i("div",[i("div",{staticClass:"ui icon positive message"},[i("i",{staticClass:"check icon"}),i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                    "+e._s(e.$t("ui.pages.uploader.upload_detail_completed"))+"\n                ")]),i("p",[i("button",{staticClass:"ui primary button",on:{click:e.init}},[e._v("\n                        "+e._s(e.$t("ui.pages.uploader.continue_next_file"))+"\n                    ")])])])])]):e._e(),i("div",{staticClass:"operations_dashboard"},e._l(e.receivers,function(e,t){return i("Operation",{tag:"div",attrs:{receiver:e,index:t}})})),e.is_initialized?i("div",{ref:"operation_target_selector",staticClass:"ui dimmer"},[i("div",{ref:"converters",staticClass:"content"},[i("h1",[e._v("\n                "+e._s(e.$t("ui.pages.uploader.dimmer.what_do_you_want_now"))+"...\n            ")]),i("div",{staticClass:"ui link cards"},e._l(e.converters,function(t){return i("div",{staticClass:"card"},[i("div",{staticClass:"content",on:{click:function(i){e.$store.commit(e.current_scope+"/uploader_module/set_current_converter",t),e.$(e.$refs.converters).hide(),e.$(e.$refs.file_selector).show()}}},[i("div",{staticClass:"header"},[e._v("\n                            "+e._s(t.name)+"\n                        ")]),i("div",{staticClass:"description"},[e._v("\n                            "+e._s(t.note)+"\n                        ")])]),t.sample_file_url?i("div",{staticClass:"extra content"},[i("a",{staticClass:"right floated star",attrs:{href:t.sample_file_url}},[e._m(1,!0),i("span",[e._v("\n                                "+e._s(e.$t("ui.pages.uploader.dimmer.download_sample_file"))+"\n                            ")])])]):e._e()])}))]),i("div",{ref:"file_selector",staticClass:"content",staticStyle:{display:"none"}},[i("h1",[e._v("\n                "+e._s(e.$t("ui.pages.uploader.dimmer.please_upload_your_file"))+"...\n            ")]),i("div",{staticClass:"ui link cards"},[i("div",{staticClass:"card"},[i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.dimmer.select_file"))+"\n                        ")]),i("div",{staticClass:"description"},[i("input",{ref:"file_input_field",attrs:{type:"file"},on:{change:function(t){e.select_file(t)}}})])])]),i("div",{staticClass:"card",on:{click:e.init}},[i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.redo"))+"\n                        ")]),i("div",{staticClass:"description"},[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.dimmer.clicked_this_card_redo"))+"\n                        ")])])])])]),i("div",{ref:"requester_selector",staticClass:"content",staticStyle:{display:"none"}},[i("h1",[e._v("\n                "+e._s(e.$t("ui.general.please_select"))+"\n                "+e._s(e.$t("models.attributes.core_waybills.sender"))+"...\n            ")]),i("div",{staticClass:"ui link cards"},[i("div",{staticClass:"card"},[i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection dropdown"},[i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"default text"},[e._v("\n                                    "+e._s(e.$t("ui.general.please_select"))+"\n                                    "+e._s(e.$t("models.attributes.core_waybills.sender"))+"\n                                ")]),i("div",{staticClass:"menu"},e._l(e.customers,function(t){return i("div",{staticClass:"item",on:{click:function(i){e.$store.commit(e.current_scope+"/uploader_module/set_requester_node",t),1==t.contracts.length&&(e.$store.commit(e.current_scope+"/uploader_module/set_requester_contract",t.contracts[0]),e.$(e.$refs.requester_selector).hide(),e.$(e.$refs.loader).show(),e.steps_callback_center(1))}}},[e._v("\n                                            "+e._s(t.company_name)+"\n                                    ")])}))])]),e.current_scoped_store.uploader_module.requester_node?i("div",{staticClass:"description"},[i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection dropdown"},[i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"default text"},[e._v("\n                                    "+e._s(e.$t("ui.general.please_select"))+"\n                                    "+e._s(e.$t("ui.pages.uploader.contract"))+"\n                                ")]),i("div",{staticClass:"menu"},e._l(e.current_scoped_store.uploader_module.requester_node.contracts,function(t){return i("div",{staticClass:"item",on:{click:function(i){e.$store.commit(e.current_scope+"/uploader_module/set_requester_contract",t),e.$(e.$refs.requester_selector).hide(),e.$(e.$refs.loader).show(),e.steps_callback_center(1)}}},[e._v("\n                                            "+e._s(t.name)+"\n                                    ")])}))])]):e._e()])]),i("div",{staticClass:"card",on:{click:e.init}},[i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.redo"))+"\n                        ")]),i("div",{staticClass:"description"},[e._v("\n                            "+e._s(e.$t("ui.pages.uploader.dimmer.clicked_this_card_redo"))+"\n                        ")])])])])]),i("div",{ref:"loader",staticClass:"content",staticStyle:{display:"none"}},[i("div",{staticClass:"ui text loader"},[e._v("Loading")])])]):e._e(),i("BackToTopButton",{tag:"div"})],1)},dL=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"bar"},[i("div",{staticClass:"progress"})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui circular icon button"},[i("i",{staticClass:"download icon"})])}];function pL(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function mL(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){pL(r,n,a,s,o,"next",e)}function o(e){pL(r,n,a,s,o,"throw",e)}s(void 0)})}}var fL={name:"UploaderIndex",data:function(){return{is_initialized:!1,is_processing:!1,can_next_step:!0,basic_options_setted:!1,operations_count:0,complete_operation_count:0,checked_operation_count:0,uploaded_operation_count:0,current_step:1,current_operation_index:0,excel_file:null,file_name:null,file_size_in_bytes:0,file_s3_path:null,is_file_uploaded:!1,is_queue_mode:!0,errors:[]}},computed:{current_scope:function(){return this.$store.state.current_scope},current_scoped_store:function(){return this.$store.state[this.current_scope]},receivers:function(){return this.current_scoped_store.uploader_module.receivers},customers:function(){return this.current_scoped_store.uploader_module.customers},requester_node:{get:function(){return this.current_scoped_store.uploader_module.requester_node},set:function(e){this.$store.commit(this.current_scope+"/uploader_module/set_requester_node",e)}},requester_contract:{get:function(){return this.current_scoped_store.uploader_module.requester_contract}},fetch_customers_url:function(){return this.current_scoped_store.uploader_module.fetch_customers_url},open_file_url:function(){return this.current_scoped_store.uploader_module.open_file_url},file_upload_url:function(){return this.current_scoped_store.uploader_module.file_upload_url},converters:function(){return this.current_scoped_store.uploader_module.converters},current_converter:function(){return this.current_scoped_store.uploader_module.current_converter||{name:null}}},created:function(){},mounted:function(){var e=this;e.init(),e.$bus.$off("init"),e.$bus.$on("init",function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.init()}.bind(this)),e.$bus.$off("to_index"),e.$bus.$on("to_index",function(t,i){switch(t){case"validate_waybills":e.checked_operation_count++,e.receivers[i+1]?(e.current_operation_index++,e.$bus.$emit("to_operations","validate_waybills",e.current_operation_index)):e.steps_callback_center("validate_waybills");break;case"create_operation":e.uploaded_operation_count++,e.receivers[i+1]?(e.current_operation_index++,e.$bus.$emit("to_operations","create_operation",e.current_operation_index)):e.steps_callback_center("create_operations");break;case"complete":e.complete_operation_count++,$("#index-progress-bar").progress({duration:300,value:e.complete_operation_count,total:e.operations_count});case"interrupt":e.steps_callback_center("interrupt");default:}}.bind(this))},beforeDestroy:function(){this.$bus.$off("init")},watch:{},methods:{init:function(){var e=mL(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){$(t.$refs.operation_target_selector).dimmer("hide"),e()});case 3:return e.next=5,new Promise(function(e){t.is_initialized=!1,t.is_processing=!1,t.can_next_step=!0,t.basic_options_setted=!1,t.operations_count=0,t.complete_operation_count=0,t.checked_operation_count=0,t.uploaded_operation_count=0,t.current_step=1,t.current_operation_index=0,t.excel_file=null,t.file_name=null,t.file_size_in_bytes=0,t.file_s3_path=null,t.is_file_uploaded=!1,t.is_queue_mode=!0,t.errors=[],e()});case 5:return e.next=7,t.$store.commit(t.current_scope+"/uploader_module/init");case 7:return e.next=9,t.$store.dispatch(t.current_scope+"/uploader_module/set_urls");case 9:return e.next=11,t.$store.dispatch(t.current_scope+"/uploader_module/fetch_customers");case 11:return e.next=13,t.$store.dispatch(t.current_scope+"/uploader_module/fetch_operator_node");case 13:return e.next=15,t.$store.dispatch(t.current_scope+"/uploader_module/fetch_converters");case 15:return e.next=17,new Promise(function(e){t.$noty.information(t.$t("ui.page_titles.uploader")+" "+t.$t("ui.general.initialize_complete")),t.is_initialized=!0,e()});case 17:return e.next=19,new Promise(function(e){$(t.$refs.operation_target_selector).dimmer("show"),e()});case 19:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),select_file:function(e){var t=this;t.excel_file=e.target.files[0],t.file_name=t.excel_file.name,t.file_size_in_bytes=t.excel_file.size,$(t.$refs.file_input_field).val(""),$(t.$refs.file_selector).hide(),t.current_converter.ignore_customer_node?($(t.$refs.loader).show(),t.steps_callback_center(1)):$(t.$refs.requester_selector).show()},open_file:function(){var e=this;e.is_processing=!0,e.errors=[],null!=e.excel_file&&void 0!=e.excel_file||e.errors.push(e.$t("ui.pages.uploader.dimmer.select_file")),null==e.requester_node&&(e.$store.commit(e.current_scope+"/uploader_module/set_requester_node",{company_en_name:""}),e.$store.commit(e.current_scope+"/uploader_module/set_requester_contract",{name:""}));var t=new RestUrl(e.open_file_url).parse({converter_identity:e.$store.state.station.uploader_module.current_converter.identity},"");if(0==e.errors.length){var i=new FormData;i.append("excel_file",e.excel_file),i.append("file_name",e.file_name),i.append("file_size_in_bytes",e.file_size_in_bytes),i.append("provider",e.current_converter.provider),i.append("category",e.current_converter.category),axios.post(t,i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"failure"==t.data.status?(_.forEach(t.data.errors,function(t,i){_.forEach(t,function(t,i){e.errors.push(e.$t("ui.pages.uploader.open_file")+" "+e.$t("ui.general.failure")+": "+t)})}),e.steps_callback_center("interrupt")):(e.$store.commit(e.current_scope+"/uploader_module/set_conversions",t.data.conversions),e.$store.commit(e.current_scope+"/uploader_module/set_waybill_raw_datas",{"託運":t.data.human_datas}),e.$store.commit(e.current_scope+"/uploader_module/set_waybill_processed_datas",{"託運":t.data.processed_datas}),e.$store.commit(e.current_scope+"/uploader_module/set_receivers",["託運"]),e.operations_count=e.receivers.length,e.basic_options_setted=!0,e.steps_callback_center("open_file"),$(e.$refs.operation_target_selector).dimmer("hide"),$(e.$refs.loader).hide(),$(e.$refs.converter_selector).show())})["catch"](function(t){_.forEach(response.data.errors,function(t,i){_.forEach(t,function(t,i){e.errors.push(e.$t("ui.pages.uploader.open_file")+" "+e.$t("ui.general.failure")+": "+t)})}),e.steps_callback_center("interrupt")})}else e.steps_callback_center("interrupt")},upload_file:function(e){var t=this;if(null!==t.excel_file&&void 0!==t.excel_file)if(1==t.is_file_uploaded)t.steps_callback_center("upload_file");else{var i=new FormData;i.append("file",t.excel_file),axios.post(t.file_upload_url,i).then(function(e){if(!e.data.link)return Promise.reject(e);t.is_file_uploaded=!0,t.file_s3_path=decodeURIComponent(e.data.link),t.$noty.success(t.$t("ui.notifications.success.upload__name",{name:t.$t("ui.general.file")})),t.steps_callback_center("upload_file")})["catch"](function(e){t.$noty.error(t.$t("ui.notifications.error.upload__name",{name:t.$t("ui.general.file")})),t.errors.push(t.$t("ui.notifications.error.upload__name",{name:t.$t("ui.general.file"),reason:": "+t.$t("ui.general.network_abnormality")})),t.steps_callback_center("interrupt")})}else t.errors.push(t.$t("ui.general.no")+" "+t.$t("ui.pages.uploader.dimmer.select_file")),t.steps_callback_center("interrupt")},validate_waybills:function(){var e=this;e.$bus.$emit("to_operations","validate_waybills",e.current_operation_index)},create_operations:function(){var e=this;e.$bus.$emit("to_operations","create_operation",e.current_operation_index)},steps_callback_center:function(e){var t=this;switch(e){case 1:t.is_processing=!0,t.open_file();break;case 2:t.is_processing=!0,t.validate_waybills();break;case 3:t.is_processing=!0,t.upload_file();break;case 4:var i=_.filter(t.$children,function(e){return"Operation"==e.$options._componentTag});1!=i.length||t.current_converter.skip_operation_creation&&t.current_converter.skip_usable_validation||t.$router.push({name:"edit_station_operation",params:{identity:i[0].operation.identity}});break;case"open_file":t.current_step++,t.is_processing=!1,t.$nextTick(function(){t.steps_callback_center(2)});break;case"validate_waybills":t.current_operation_index=0,t.complete_operation_count=0,t.is_processing=!1,t.current_step++;break;case"upload_file":t.create_operations();break;case"create_operations":t.current_operation_index=0,t.complete_operation_count=0,t.is_processing=!1,t.current_step++,t.$nextTick(function(){t.steps_callback_center(4)});break;case"interrupt":$(t.$refs.operation_target_selector).dimmer("show"),$(t.$refs.operation_target_selector).dimmer("hide"),t.is_processing=!1;break;default:}}},components:{Steps:pb,Operation:Rb,ErrorBox:Bb,BackToTopButton:Ll}},vL=fL,hL=(n("eee2"),n("4d7b"),Object(lt["a"])(vL,uL,dL,!1,null,"1d315fa7",null)),gL=hL.exports,bL="station_uploader",yL=[{path:":operation_identity?",component:gL,name:"station_uploader",meta:{api_name:["api_v1_station_customer_nodes","api_v1_station_operation_create","api_v1_station_operation_use_core_waybill","api_v1_station_operation_validate","api_v1_station_file_converters","api_v1_station_file_convert","api_v1_station_file_converter_open"],breadcrumb:[bL]}}],wL=yL,$L=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"core_waybills"}},[i("div",{staticClass:"ui segment"},[i("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[!e.is_fetching_data&&e.node.company_en_name&&e.show_receipts?i("Receipts",{attrs:{show_buttons:!0,assigned_core_waybills:e.core_waybills,logo_url:"/images/"+e.node.company_en_name.replace(/(?:^|\.|\s?)([A-Z])/g,function(e,t){return"_"+t.toLowerCase()}).replace(/^_/,"")+"_logo.jpg",title:e.node.company_short_name+"客戶簽收單",sub_title:e.node.website_url,customer_service_hotline:e.node.customer_service_hotline,logistician:e.current_staff,location:""}}):i("div"),i("div",[e.is_show_filter.detail?e._e():i("div",{staticStyle:{display:"inline"}},[i("div",{staticClass:"ui right labeled left icon input"},[i("i",{staticClass:"search icon",on:{click:function(t){e.core_waybills_filter()}}}),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter[e.current_store.quick_filter_key.number],expression:"filter[current_store.quick_filter_key.number]"}],attrs:{placeholder:e.$t("ui.pages.core_waybills.filter.find__key",{key:e.$t("models.attributes.core_waybills."+e.current_store.quick_filter_key.number)}),type:"text"},domProps:{value:e.filter[e.current_store.quick_filter_key.number]},on:{change:function(t){e.$forceUpdate()},keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.core_waybills_filter()},input:function(t){t.target.composing||e.$set(e.filter,e.current_store.quick_filter_key.number,t.target.value)}}}),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui dropdown label no_search"},[e._l(e.current_store.quick_filters.number,function(t){return e.current_store.quick_filter_key.number==t?i("div",{staticClass:"text"},[e._v("\n                                "+e._s(e.$t("models.attributes.core_waybills."+t))+"\n                            ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.current_store.quick_filters.number,function(t){return i("div",{staticClass:"item",class:{"selected active":e.current_store.quick_filter_key.number==t},on:{click:function(i){e.set_quick_filter_key("number",t)}}},[e._v("\n                                    "+e._s(e.$t("models.attributes.core_waybills."+t))+"\n                                ")])}))],2)])]),e.is_show_filter.detail?i("div",{staticStyle:{display:"inline"}},[i("div",{staticClass:"ui basic red icon button",on:{click:function(t){e.$store.dispatch("station/core_waybills_module/clear_filter_url_params",{operation_number:e.$route.params.operation_number||null})}}},[i("i",{staticClass:"close icon"})])]):e._e(),i("div",{staticClass:"ui icon buttons",staticStyle:{"vertical-align":"top","margin-left":"6px",height:"37px"}},[i("div",{staticClass:"ui button",class:{active:e.is_show_filter.simple},attrs:{"data-tooltip":e.$t("ui.general.simple")},on:{click:function(t){e.toggle_filter("simple")}}},[i("i",{staticClass:"bars left icon"})]),i("div",{staticClass:"ui button",class:{active:e.is_show_filter.detail},attrs:{"data-tooltip":e.$t("ui.general.advanced")},on:{click:function(t){e.toggle_filter("detail")}}},[i("i",{staticClass:"file alternate icon"})])])])],1),i("div",{style:{paddingTop:e.is_any_filter_show?"12px":null}},[i("SimpleFilter",{staticClass:"ui transition hidden filter simple"}),i("DetailFilter",{staticClass:"ui transition hidden filter detail"})],1),e.is_any_filter_show?i("div",{staticClass:"right floated",style:{paddingTop:e.is_show_filter.simple?"12px":null}},[e.current_store.is_can_print_label&&!e.error_message?i("div",{staticStyle:{display:"inline-block","vertical-align":"bottom"}},[e.tool_label.numbers?i("div",{staticStyle:{display:"inline-block"}},[i("div",{staticStyle:{display:"inline-block","vertical-align":"bottom"}},["en-US"==e.$store.state.language?i("span",[e._v("\n                            Total: "+e._s(e.tool_label.core_waybill_length)+"\n                        ")]):i("span",[e._v("\n                            共 "+e._s(e.tool_label.core_waybill_length)+" 件\n                        ")])]),e.tool_label.numbers?i("CoreWaybillsLabelSvg",{staticStyle:{"text-align":"left",display:"inline-block","vertical-align":"middle"},attrs:{numbers:e.tool_label.numbers,label_name:e.tool_label.label_name,authentication_token:e.token,is_show_input:!1,is_post_method:!0,node_carrier_name:e.$store.state.station.node.carrier_class}}):e._e()],1):i("div",{staticClass:"field",staticStyle:{display:"inline-block","vertical-align":"bottom"}},[i("label",[e._v(" ")]),i("div",{staticClass:"ui button",on:{click:function(t){e.fetch_core_waybills_pagination_false()}}},[i("i",{staticClass:"print icon"}),e._v("\n                        "+e._s(e.$t("ui.pages.core_waybills.print_filter_result_labels"))+"\n                    ")])])]):e._e(),i("div",{staticClass:"ui button",on:{click:function(t){e.fetch_core_waybills_csv()}}},[i("i",{staticClass:"file icon"}),e._v("\n                "+e._s(e.$t("ui.pages.core_waybills.export_csv_file"))+"\n            ")]),"forever.tw568.com"==e.hostname?i("div",{staticClass:"ui button",on:{click:function(t){e.fetch_core_waybills_csv("clearance")}}},[i("i",{staticClass:"file alternate outline icon"}),e._v("\n                "+e._s(e.$t("ui.pages.core_waybills.export_clearance_csv_file"))+"\n            ")]):e._e(),e.current_store.csv.url?i("a",{staticClass:"ui button",attrs:{href:e.current_store.csv.url}},[i("i",{staticClass:"download icon"}),e._v("\n                "+e._s(e.$t("ui.pages.core_waybills.download_daily_csv_file"))+"\n            ")]):e._e(),e.current_store.csv.url?i("div",{staticClass:"ui icon button",on:{click:function(t){e.current_store.csv.url=null}}},[i("i",{staticClass:"refresh icon"})]):"cqf.tw568.com"==e.hostname||"local.mynet.com.tw"==e.hostname?i("div",{staticClass:"ui button",class:{loading:e.current_store.csv.is_processing},on:{click:function(t){e.fetch_core_waybills_csv_new()}}},[e.current_store.csv.is_processing?e._e():i("span",{staticStyle:{position:"relative"}},[i("i",{staticClass:"file outline icon"}),i("i",{staticClass:"red small code icon",staticStyle:{position:"absolute",right:"4px",bottom:"0"}})]),e._v("\n                "+e._s(e.$t("ui.pages.core_waybills.export_daily_csv_file"))+"\n            ")]):e._e(),e.is_any_filter_show?i("div",{staticClass:"ui icon blue button",on:{click:function(t){e.core_waybills_filter()}}},[i("i",{staticClass:"search icon"}),e._v("\n                "+e._s(e.$t("ui.general.search"))+"\n            ")]):e._e()]):e._e(),i("div",{staticClass:"clear"})]),i("div",e._l(e.core_waybills,function(t){return e.is_initialized?i("CoreWaybill",{key:t.identity,attrs:{core_waybill:t,template:"card",is_auto_print:!1,is_can_update:!1,is_can_print_label:!1,is_show_change_template_btns:!1,cant_update_field_names:[],active_button:{to_detail_route_name:e.$route.params.operation_number?"edit_core_waybill_operation":"edit_core_waybill"},card:{is_simple_form:!1,is_half_style:!0,is_show_note:!0,is_vertical:!0}}}):e._e()})),i("div",{staticClass:"clear"}),!e.is_initialized||e.is_processing?i("div",{staticClass:"ui segments core_waybill",staticStyle:{"text-align":"center",height:"100px"}},[i("div",{staticClass:"ui active inverted dimmer"},[i("div",{staticClass:"ui text loader"},[i("h3",[e._v("\n                    "+e._s(e.$t("ui.general.initializing"))+"\n                ")])])])]):e.error_message?i("div",{staticClass:"ui red raised segment center aligned"},[i("h2",[e._v("\n            "+e._s(e.error_message)+"\n        ")])]):e._e(),e.core_waybills.length?i("Paginator",{attrs:{total_pages:e.current_store.total_pages,current_page:e.current_store.current_page}}):e._e(),i("Supervisor")],1)},kL=[],CL=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"filter"},[e.is_initialized?i("div",{staticClass:"ui form",on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$parent.core_waybills_filter()}}},[i("div",{staticClass:"ui list"},[i("div",{staticClass:"item"},[i("i",{staticClass:"barcode big icon pointer",on:{click:function(t){e.is_show_numbers=!e.is_show_numbers}}}),i("div",{staticClass:"content"},[i("div",{staticClass:"header pointer"},[i("h3",{staticStyle:{"z-index":"2"},on:{click:function(t){e.is_show_numbers=!e.is_show_numbers}}},[e._v("\n                            "+e._s(e.$t("ui.pages.core_waybills.filter.numbers"))+"\n                            "),i("i",{staticClass:"icon",class:{"caret down":!e.is_show_numbers,"caret up":e.is_show_numbers},staticStyle:{margin:"0"}})])]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.is_show_numbers,expression:"is_show_numbers"}]},[i("div",{staticClass:"filter_border"}),i("div",{staticClass:"two fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.number")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.number,expression:"filter.number"}],attrs:{type:"text"},domProps:{value:e.filter.number},on:{input:function(t){t.target.composing||e.$set(e.filter,"number",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.operation_number")))]),e.$route.params.operation_number?i("div",{staticClass:"ui segment",staticStyle:{margin:"0",padding:"9px 12px"}},[e._v("\n                                    "+e._s(e.$route.params.operation_number)+"\n                                ")]):i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.operation.number,expression:"filter.operation.number"}],attrs:{type:"text"},domProps:{value:e.filter.operation.number},on:{input:function(t){t.target.composing||e.$set(e.filter.operation,"number",t.target.value)}}})])]),i("div",{staticClass:"three fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.original_number")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.original_number,expression:"filter.original_number"}],attrs:{type:"text"},domProps:{value:e.filter.original_number},on:{input:function(t){t.target.composing||e.$set(e.filter,"original_number",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.tracking_number")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.tracking_number,expression:"filter.tracking_number"}],attrs:{type:"text"},domProps:{value:e.filter.tracking_number},on:{input:function(t){t.target.composing||e.$set(e.filter,"tracking_number",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.flight_number")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.flight_number,expression:"filter.flight_number"}],attrs:{type:"text"},domProps:{value:e.filter.flight_number},on:{input:function(t){t.target.composing||e.$set(e.filter,"flight_number",t.target.value)}}})])])])])]),i("div",{staticClass:"item"},[i("i",{staticClass:"file alternate big icon pointer",on:{click:function(t){e.is_show_info=!e.is_show_info}}}),i("div",{staticClass:"content"},[i("div",{staticClass:"header pointer"},[i("h3",{on:{click:function(t){e.is_show_info=!e.is_show_info}}},[e._v("\n                            "+e._s(e.$t("ui.pages.core_waybills.filter.waybill_content"))+"\n                            "),i("i",{staticClass:"icon",class:{"caret down":!e.is_show_info,"caret up":e.is_show_info},staticStyle:{margin:"0"}})])]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.is_show_info,expression:"is_show_info"}]},[i("div",{staticClass:"filter_border"}),i("div",{staticClass:"two fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.sender_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.sender_name,expression:"filter.sender_name"}],attrs:{type:"text"},domProps:{value:e.filter.sender_name},on:{input:function(t){t.target.composing||e.$set(e.filter,"sender_name",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.sender_company_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.sender_company_name,expression:"filter.sender_company_name"}],attrs:{type:"text"},domProps:{value:e.filter.sender_company_name},on:{input:function(t){t.target.composing||e.$set(e.filter,"sender_company_name",t.target.value)}}})]),i("div",{staticClass:"field"},[i("div",{staticClass:"two fields"},[i("div",{staticClass:"field"},[i("label",[e._v(" "+e._s(e.$t("models.attributes.core_waybills.is_used")))]),i("div",{staticClass:"grouped fields"},e._l(e.filter_is_useds,function(t){return i("div",{staticClass:"field",on:{click:function(i){e.set_is_used(t.boolean)}}},[i("div",{ref:"filter_is_used",refInFor:!0,staticClass:"ui radio checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.is_used,expression:"filter.is_used"}],attrs:{type:"radio",name:"filter_is_used",id:t.name},domProps:{checked:e._q(e.filter.is_used,null)},on:{change:function(t){e.$set(e.filter,"is_used",null)}}}),i("label",{attrs:{for:t.name}},[e._v("\n                                                        "+e._s(t.name)+"\n                                                    ")])])])}))]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("ui.pages.core_waybills.filter.material")))]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection fluid dropdown"},[e._l(e.materials,function(t){return e.filter.material.class_names==t.class_name?i("div",{staticClass:"text"},[e._v("\n                                                "+e._s(t.name)+"\n                                            ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.materials,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.material.class_names==t.class_name},on:{click:function(i){e.filter.material.class_names=t.class_name}}},[e._v("\n                                                    "+e._s(t.name)+"\n                                                ")])}))],2)])])])]),i("div",{staticClass:"three fields"},[i("div",{staticClass:"field blue"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.consignee_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.consignee_name,expression:"filter.consignee_name"}],attrs:{type:"text"},domProps:{value:e.filter.consignee_name},on:{input:function(t){t.target.composing||e.$set(e.filter,"consignee_name",t.target.value)}}})]),i("div",{staticClass:"field blue"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.consignee_company_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.consignee_company_name,expression:"filter.consignee_company_name"}],attrs:{type:"text"},domProps:{value:e.filter.consignee_company_name},on:{input:function(t){t.target.composing||e.$set(e.filter,"consignee_company_name",t.target.value)}}})]),i("div",{staticClass:"field blue"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.consignee_phone")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.consignee_phone,expression:"filter.consignee_phone"}],attrs:{type:"text"},domProps:{value:e.filter.consignee_phone},on:{input:function(t){t.target.composing||e.$set(e.filter,"consignee_phone",t.target.value)}}})]),i("div",{staticClass:"field blue"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.consignee_address")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.consignee_address,expression:"filter.consignee_address"}],attrs:{type:"text"},domProps:{value:e.filter.consignee_address},on:{input:function(t){t.target.composing||e.$set(e.filter,"consignee_address",t.target.value)}}})])]),i("div",{staticClass:"three fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.created_at")))]),i("el-date-picker",{staticStyle:{width:"100%"},attrs:{"unlink-panels":"",type:"daterange",align:"center","start-placeholder":e.$t("ui.el.datepicker.startDate"),"end-placeholder":e.$t("ui.el.datepicker.endDate"),"picker-options":e.$store.state.element_ui_datepicker_daterange_options},model:{value:e.filter.created_duration,callback:function(t){e.$set(e.filter,"created_duration",t)},expression:"filter.created_duration"}})],1),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.note")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.note,expression:"filter.note"}],attrs:{type:"text"},domProps:{value:e.filter.note},on:{input:function(t){t.target.composing||e.$set(e.filter,"note",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.core_waybills.shipping_note")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.shipping_note,expression:"filter.shipping_note"}],attrs:{type:"text"},domProps:{value:e.filter.shipping_note},on:{input:function(t){t.target.composing||e.$set(e.filter,"shipping_note",t.target.value)}}})])])])])]),i("div",{staticClass:"item"},[i("i",{staticClass:"shipping fast big icon pointer",on:{click:function(t){e.is_show_status=!e.is_show_status}}}),i("div",{staticClass:"content"},[i("div",{staticClass:"header pointer"},[i("h3",{on:{click:function(t){e.is_show_status=!e.is_show_status}}},[e._v("\n                            "+e._s(e.$t("ui.pages.core_waybills.filter.status"))+"\n                            "),i("i",{staticClass:"icon",class:{"caret down":!e.is_show_status,"caret up":e.is_show_status},staticStyle:{margin:"0"}})])]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.is_show_status,expression:"is_show_status"}],staticClass:"status_filter"},[i("div",{staticClass:"filter_border"}),i("div",{staticClass:"field",staticStyle:{margin:"0 0 -.7em"}},[i("div",{staticClass:"fields"},[i("div",{staticClass:"eight wide field"},[i("h4",{staticClass:"depiction"},[e._v("\n                                        "+e._s(e.$t("ui.pages.core_waybills.filter.status_depiction.now"))+"\n                                         \n                                    ")]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui fluid selection dropdown",staticStyle:{width:"30%"}},[e._l([{name:e.$t("ui.pages.core_waybills.filter.selected_polarity"),boolean:null},{name:e.$t("ui.pages.core_waybills.filter.polarity.positive"),boolean:"true"},{name:e.$t("ui.pages.core_waybills.filter.polarity.negative"),boolean:"false"}],function(t){return e.filter.condition.polarity==t.boolean?i("div",{staticClass:"text"},[e._v("\n                                            "+e._s(t.name)+"\n                                        ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},[i("div",{staticClass:"item",class:{"selected active":null==e.filter.condition.polarity},on:{click:function(t){e.filter.condition.polarity=null}}},[e._v("\n                                                "+e._s(e.$t("ui.pages.core_waybills.filter.selected_is_used"))+"\n                                            ")]),e._l([{name:e.$t("ui.pages.core_waybills.filter.polarity.positive"),boolean:"true"},{name:e.$t("ui.pages.core_waybills.filter.polarity.negative"),boolean:"false"}],function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.condition.polarity==t.boolean},on:{click:function(i){e.filter.condition.polarity=t.boolean}}},[e._v("\n                                                "+e._s(t.name)+"\n                                            ")])})],2)],2),i("span",{staticClass:"depiction"},[e._v(" ")]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui fluid selection dropdown",staticStyle:{width:"35%"}},[e._l(e.current_store.core_waybill_conditions,function(t){return e.filter.condition.name==t?i("div",{staticClass:"text"},[e._v("\n                                            "+e._s(e.$t('models.attributes.conditions["'+t+'"]'))+"\n                                        ")]):e._e()}),null==e.filter.condition.name?i("div",{staticClass:"text"},[e._v("\n                                            "+e._s(e.$t("ui.pages.core_waybills.filter.selected_status"))+"\n                                        ")]):e._e(),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},[i("div",{staticClass:"item",class:{"selected active":null==e.filter.condition.name},on:{click:function(t){e.filter.condition.name=null}}},[e._v("\n                                                "+e._s(e.$t("ui.pages.core_waybills.filter.selected_status"))+"\n                                            ")]),e._l(e.current_store.core_waybill_conditions,function(t){return"divider"!=t?i("div",{staticClass:"item",class:{"selected active":e.filter.condition.name==t},on:{click:function(i){e.filter.condition.name=t}}},[e._v("\n                                                "+e._s(e.$t('models.attributes.conditions["'+t+'"]'))+"\n                                            ")]):i("div",{staticClass:"divider",staticStyle:{margin:"0.2em 0"}})})],2)],2)]),i("div",{staticClass:"four wide field"},[i("h4",{staticClass:"depiction"},[e._v("\n                                        "+e._s(e.$t("ui.pages.core_waybills.filter.status_depiction.in_the"))+"\n                                         \n                                    ")]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui fluid selection dropdown",staticStyle:{width:"80%"}},[e._l(e.stations,function(t){return e.filter.condition.current_location==t.name?i("div",{staticClass:"text"},[e._v("\n                                            "+e._s(t.name||e.$t("ui.pages.core_waybills.filter.selected_station"))+"\n                                        ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.stations,function(t){return i("div",{key:t.identity,staticClass:"item",class:{"selected active":e.filter.condition.current_location==t.name},on:{click:function(i){e.filter.condition.current_location=t.name}}},[e._v("\n                                                "+e._s(t.name||e.$t("ui.pages.core_waybills.filter.selected_station"))+"\n                                            ")])}))],2)]),i("div",{staticClass:"four wide field"},[i("h4",{staticClass:"depiction"},[e._v("\n                                        "+e._s(e.$t("ui.pages.core_waybills.filter.status_depiction.by"))+"\n                                         \n                                    ")]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui fluid selection dropdown",staticStyle:{width:"70%"}},[e._l(e.staffs,function(t){return e.filter.condition.current_operator_identity==t.identity?i("div",{staticClass:"text"},[e._v("\n                                            "+e._s(t.name)+"\n                                        ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.staffs,function(t){return i("div",{key:t.identity,staticClass:"item",class:{"selected active":e.filter.condition.current_operator_identity==t.identity},on:{click:function(i){e.filter.condition.current_operator_identity=t.identity}}},[e._v("\n                                                "+e._s(t.name)+"\n                                            ")])}))],2),i("h4",{staticClass:"depiction"},[e._v("\n                                         \n                                        "),e._v("\n                                        "+e._s(e.$t("ui.pages.core_waybills.filter.status_depiction.handle"))+"\n                                    ")])])])]),i("div",{staticClass:"field",staticStyle:{"text-align":"right"}},[i("div",{staticStyle:{display:"inline-flex","align-items":"center"}},[i("h4",{staticStyle:{margin:"0"}},[e._v("\n                                    "+e._s(e.$t("ui.pages.core_waybills.filter.status_depiction.at_the"))+"\n                                     \n                                ")]),i("el-date-picker",{staticStyle:{width:"90%"},attrs:{"unlink-panels":"",type:"daterange",align:"center","start-placeholder":e.$t("ui.el.datepicker.startDate"),"end-placeholder":e.$t("ui.el.datepicker.endDate"),"picker-options":e.$store.state.element_ui_datepicker_daterange_options},model:{value:e.filter.condition.updated_duration,callback:function(t){e.$set(e.filter.condition,"updated_duration",t)},expression:"filter.condition.updated_duration"}})],1),i("div",{staticClass:"sub_filter_border"})]),i("div",{staticClass:"field"},[i("div",{staticClass:"fields"},[i("div",{staticClass:"four wide field"},[i("h4",{staticClass:"depiction"},[e._v("\n                                        "+e._s(e.$t("ui.pages.core_waybills.filter.status_depiction.before_by"))+"\n                                         \n                                    ")]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui fluid selection dropdown",staticStyle:{width:"70%"}},[e._l(e.staffs,function(t){return e.filter.status.operator_identity==t.identity?i("div",{staticClass:"text"},[e._v("\n                                            "+e._s(t.name)+"\n                                        ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.staffs,function(t){return i("div",{key:t.identity,staticClass:"item",class:{"selected active":e.filter.status.operator_identity==t.identity},on:{click:function(i){e.filter.status.operator_identity=t.identity}}},[e._v("\n                                                "+e._s(t.name)+"\n                                            ")])}))],2)]),i("div",{staticClass:"six wide field"},[i("div",{staticStyle:{display:"inline-flex","align-items":"center"}},[i("h4",{staticStyle:{margin:"0"}},[e._v("\n                                            "+e._s(e.$t("ui.pages.core_waybills.filter.status_depiction.at_the"))+"\n                                             \n                                        ")]),i("el-date-picker",{staticStyle:{width:"90%"},attrs:{"unlink-panels":"",type:"daterange",align:"center","start-placeholder":e.$t("ui.el.datepicker.startDate"),"end-placeholder":e.$t("ui.el.datepicker.endDate"),"picker-options":e.$store.state.element_ui_datepicker_daterange_options},model:{value:e.filter.status.created_duration,callback:function(t){e.$set(e.filter.status,"created_duration",t)},expression:"filter.status.created_duration"}})],1)]),i("div",{staticClass:"six wide field"},[i("h4",{staticClass:"depiction"},[e._v("\n                                        "+e._s(e.$t("ui.pages.core_waybills.filter.status_depiction.added"))+"\n                                         \n                                    ")]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui fluid selection dropdown",staticStyle:{width:"35%"}},[e._l(["operator","forwarder","public"],function(t){return e.filter.status.scope==t?i("div",{staticClass:"text"},[e._v("\n                                            "+e._s(e.$t("ui.status_scopes."+t))+"\n                                        ")]):e._e()}),null==e.filter.status.scope?i("div",[e._v("\n                                            "+e._s(e.$t("ui.pages.core_waybills.filter.selected_status_scope"))+"\n                                        ")]):e._e(),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},[i("div",{staticClass:"item",class:{"selected active":null==e.filter.status.scope},on:{click:function(t){e.filter.status.scope=null}}},[e._v("\n                                                "+e._s(e.$t("ui.pages.core_waybills.filter.selected_status_scope"))+"\n                                            ")]),e._l(["operator","forwarder","public"],function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.status.scope==t},on:{click:function(i){e.filter.status.scope=t}}},[e._v("\n                                                "+e._s(e.$t("ui.status_scopes."+t))+"\n                                            ")])})],2)],2),i("span",{staticClass:"depiction"},[e._v(" ")]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui fluid selection dropdown",staticStyle:{width:"42%"}},[e._l(e.scan_action_prototypes,function(t,n){return e.filter.status.name==t.name?i("div",{staticClass:"text"},[e._v("\n                                            "+e._s(t.name)+"\n                                        ")]):e._e()}),null==e.filter.status.name?i("div",[e._v("\n                                            "+e._s(e.$t("ui.pages.core_waybills.filter.selected_status"))+"\n                                        ")]):e._e(),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},[i("div",{staticClass:"item",class:{"selected active":null==e.filter.status.name},on:{click:function(t){e.filter.status.name=null}}},[e._v("\n                                                "+e._s(e.$t("ui.pages.core_waybills.filter.selected_status"))+"\n                                            ")]),e._l(e.scan_action_prototypes,function(t,n){return i("div",{staticClass:"item",class:{"selected active":e.filter.status.name==t.name},on:{click:function(i){e.filter.status.name=t.name}}},[e._v("\n                                                "+e._s(t.name)+"\n                                            ")])})],2)],2)])])])])])])])]):i("div",{staticClass:"ui active centered inline loader"})])},xL=[];function PL(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function SL(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){PL(r,n,a,s,o,"next",e)}function o(e){PL(r,n,a,s,o,"throw",e)}s(void 0)})}}var NL={props:{},data:function(){return{is_show_numbers:!0,is_show_info:!0,is_show_status:!0,is_initialized:!1,is_processing:!1,filter_is_useds:[{name:this.$t("ui.pages.core_waybills.filter.is_used.flase"),boolean:"false"},{name:this.$t("ui.pages.core_waybills.filter.is_used.true"),boolean:"true"}]}},computed:{current_store:function(){return this.$store.state.provider.core_waybills_module},filter:function(){return this.current_store.filter},staffs:function(){return[{name:this.$t("ui.pages.core_waybills.filter.selected_staff"),identity:null}].concat(this.current_store.staffs)},stations:function(){return[{name:null,identity:null}].concat(this.$store.state.provider.stations)},materials:function(){return[{name:this.$t("ui.pages.core_waybills.filter.selected_material"),class_name:null}].concat(this.current_store.materials)},scan_action_prototypes:function(){return this.current_store.scan_action_prototypes},condition_status_prototypes_group_by_name:function(){return _.groupBy(this.current_store.condition_status_prototypes,"name")}},created:function(){},mounted:function(){var e=this;e.init()},watch:{},methods:{init:function(){var e=SL(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){e()});case 3:return e.next=5,new Promise(function(e){t.is_initialized=!0,e()});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),set_is_used:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.filter.is_used=this.filter.is_used==e?null:e,null==this.filter.is_used&&$(this.$refs.filter_is_used).checkbox("uncheck")}},components:{}},AL=NL,EL=(n("a2c5"),n("ea26"),Object(lt["a"])(AL,CL,xL,!1,null,"9091e874",null)),qL=EL.exports,zL=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"simple_filter"},[e.is_initialized?i("div",{staticClass:"right aligned",staticStyle:{"text-align":"right"},on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$parent.core_waybills_filter()}}},[i("div",{staticClass:"ui right labeled input",staticStyle:{display:"inline-flex"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter[e.quick_filter_key.info],expression:"filter[quick_filter_key.info]"}],attrs:{placeholder:e.$t("ui.pages.core_waybills.filter.find__key",{key:e.$t("models.attributes.core_waybills."+e.quick_filter_key.info)}),type:"text"},domProps:{value:e.filter[e.quick_filter_key.info]},on:{change:function(t){e.$forceUpdate()},input:function(t){t.target.composing||e.$set(e.filter,e.quick_filter_key.info,t.target.value)}}}),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui dropdown label no_search"},[e._l(e.quick_filters.info,function(t){return e.quick_filter_key.info==t?i("div",{staticClass:"text"},[e._v("\n                    "+e._s(e.$t("models.attributes.core_waybills."+t))+"\n                ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.quick_filters.info,function(t){return"divider"!=t?i("div",{staticClass:"item",class:{"selected active":e.quick_filter_key.info==t},on:{click:function(i){e.$parent.set_quick_filter_key("info",t)}}},[e._v("\n                        "+e._s(e.$t("models.attributes.core_waybills."+t))+"\n                    ")]):i("div",{staticClass:"divider",staticStyle:{margin:"0.2em 0"}})}))],2)]),i("span",{staticClass:"depiction"},[e._v(" ")]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui fluid selection dropdown",staticStyle:{width:"120px"}},[e._l(["operator","forwarder","public"],function(t){return e.filter.status.scope==t?i("div",{staticClass:"text"},[e._v("\n                "+e._s(e.$t("ui.status_scopes."+t))+"\n            ")]):e._e()}),null==e.filter.status.scope?i("div",[e._v("\n                "+e._s(e.$t("ui.pages.core_waybills.filter.selected_status_scope"))+"\n            ")]):e._e(),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},[i("div",{staticClass:"item",class:{"selected active":null==e.filter.status.scope},on:{click:function(t){e.filter.status.scope=null}}},[e._v("\n                    "+e._s(e.$t("ui.pages.core_waybills.filter.selected_status_scope"))+"\n                ")]),e._l(["operator","forwarder","public"],function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.status.scope==t},on:{click:function(i){e.filter.status.scope=t}}},[e._v("\n                    "+e._s(e.$t("ui.status_scopes."+t))+"\n                ")])})],2)],2),i("span",{staticClass:"depiction"},[e._v(" ")]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui fluid selection dropdown",staticStyle:{width:"240px"}},[e._l(e.scan_action_prototypes,function(t,n){return e.filter.status.name==t.name?i("div",{staticClass:"text"},[e._v("\n                "+e._s(t.name)+"\n            ")]):e._e()}),null==e.filter.status.name?i("div",[e._v("\n                "+e._s(e.$t("ui.pages.core_waybills.filter.selected_status"))+"\n            ")]):e._e(),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},[i("div",{staticClass:"item",class:{"selected active":null==e.filter.status.name},on:{click:function(t){e.filter.status.name=null}}},[e._v("\n                    "+e._s(e.$t("ui.pages.core_waybills.filter.selected_status"))+"\n                ")]),e._l(e.scan_action_prototypes,function(t,n){return i("div",{staticClass:"item",class:{"selected active":e.filter.status.name==t.name},on:{click:function(i){e.filter.status.name=t.name}}},[e._v("\n                    "+e._s(t.name)+"\n                ")])})],2)],2)]):i("div",{staticClass:"ui active centered inline loader"})])},jL=[];function RL(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function IL(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){RL(r,n,a,s,o,"next",e)}function o(e){RL(r,n,a,s,o,"throw",e)}s(void 0)})}}var TL={props:{},data:function(){return{is_show_numbers:!0,is_show_info:!0,is_show_status:!0,is_initialized:!1,is_processing:!1,filter_is_useds:[{name:this.$t("ui.pages.core_waybills.filter.is_used.flase"),boolean:"false"},{name:this.$t("ui.pages.core_waybills.filter.is_used.true"),boolean:"true"}]}},computed:{current_store:function(){return this.$store.state.provider.core_waybills_module},is_show_filter:function(){return this.current_store.is_show_filter},quick_filters:function(){return this.current_store.quick_filters},quick_filter_key:function(){return this.current_store.quick_filter_key},filter:function(){return this.current_store.filter},staffs:function(){return[{name:this.$t("ui.pages.core_waybills.filter.selected_staff"),identity:null}].concat(this.current_store.staffs)},stations:function(){return[{name:null,identity:null}].concat(this.$store.state.provider.stations)},materials:function(){return[{name:this.$t("ui.pages.core_waybills.filter.selected_material"),class_name:null}].concat(this.current_store.materials)},scan_action_prototypes:function(){return this.current_store.scan_action_prototypes},condition_status_prototypes_group_by_name:function(){return _.groupBy(this.current_store.condition_status_prototypes,"name")}},created:function(){},mounted:function(){var e=this;e.init()},watch:{},methods:{init:function(){var e=IL(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){e()});case 3:return e.next=5,new Promise(function(e){t.is_initialized=!0,e()});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),set_is_used:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.filter.is_used=this.filter.is_used==e?null:e,null==this.filter.is_used&&$(this.$refs.filter_is_used).checkbox("uncheck")}},components:{}},OL=TL,LL=(n("4766"),n("d452"),Object(lt["a"])(OL,zL,jL,!1,null,"79d3dbdb",null)),DL=LL.exports;function BL(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function ML(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){BL(r,n,a,s,o,"next",e)}function o(e){BL(r,n,a,s,o,"throw",e)}s(void 0)})}}var UL={name:"CoreWaybillsIndex",data:function(){return{is_initialized:!1,is_fetching_data:!1,is_processing:!0,error_message:""}},computed:{hostname:function(){return window.location.hostname},current_store:function(){return this.$store.state.station.core_waybills_module},tool_label:function(){return this.current_store.tool_label},core_waybills:function(){return this.current_store.core_waybills},filter:function(){return this.current_store.filter},is_show_filter:function(){return this.current_store.is_show_filter},is_any_filter_show:function(){return this.is_show_filter.simple||this.is_show_filter.detail},node:function(){return this.$store.state.station.node},current_staff:function(){return this.$store.state.station.current_staff},token:function(){return localStorage.getItem("authentication_token")},current_service_name:function(){return this.$store.state.station.current_node.service_name},show_receipts:function(){return["neuron","neuron_premium"].includes(this.current_service_name)}},created:function(){},mounted:function(){var e=this;e.init(),e.$bus.$off("init"),e.$bus.$on("init",function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.init()}.bind(this)),_.forEach(this.is_show_filter,function(e,t){e&&$(".ui.transition.filter."+t).transition("fade down")})},beforeDestroy:function(){this.$bus.$off("init"),this.current_store.current_page=1},watch:{$route:{handler:function(e,t){var i=e.query.page;i&&(this.current_store.current_page=Number(i),this.$store.dispatch("station/core_waybills_module/fetch_core_waybills",{page:i}))},immediate:!0},"is_show_filter.simple":function(e){$(".ui.transition.filter.simple").transition(e?"fade down":"hide"),e?this.is_show_filter.detail=!1:this.$store.dispatch("station/core_waybills_module/set_filter_init")},"is_show_filter.detail":function(e){$(".ui.transition.filter.detail").transition(e?"fade down":"hide"),e?this.is_show_filter.simple=!1:this.$store.dispatch("station/core_waybills_module/set_filter_init")}},methods:{toggle_filter:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];0==e?(this.is_show_filter.simple=!1,this.is_show_filter.detail=!1):this.is_show_filter[e]=!this.is_show_filter[e]},init:function(){var e=ML(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,t.is_initialized=!1,t.is_processing=!0,t.error_message="",e.next=7,new Promise(function(e){t.filter.operation.number=t.$route.params.operation_number||null,e()});case 7:return e.next=9,t.$store.dispatch("station/core_waybills_module/handle_filter_url_params");case 9:return e.next=11,t.$store.dispatch("station/core_waybills_module/fetch_staffs");case 11:return e.next=13,t.$store.dispatch("station/core_waybills_module/fetch_materials");case 13:return e.next=15,t.$store.dispatch("station/core_waybills_module/fetch_core_waybills");case 15:return e.next=17,t.$store.dispatch("station/core_waybills_module/fetch_scan_action_prototypes");case 17:return e.next=19,t.$store.dispatch("station/core_waybills_module/fetch_condition_status_prototypes");case 19:e.next=25;break;case 21:e.prev=21,e.t0=e["catch"](1),console.log(e.t0),t.handle_error_message(e.t0);case 25:return e.next=27,new Promise(function(e){t.is_initialized=!0,t.is_processing=!1,e()});case 27:case"end":return e.stop()}},e,this,[[1,21]])}));function t(){return e.apply(this,arguments)}return t}(),core_waybills_filter:function(){var e=ML(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,new Promise(function(e){t.current_store.current_page=1,t.$route.query.page=1,t.current_store.core_waybills=[],t.is_processing=!0,t.error_message="",e()});case 4:return e.next=6,t.$store.dispatch("station/core_waybills_module/handle_filter_url_params");case 6:return e.next=8,t.$store.dispatch("station/core_waybills_module/fetch_core_waybills");case 8:e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](1),console.log(e.t0),t.handle_error_message(e.t0);case 14:return e.next=16,new Promise(function(e){t.is_processing=!1,e()});case 16:case"end":return e.stop()}},e,this,[[1,10]])}));function t(){return e.apply(this,arguments)}return t}(),set_quick_filter_key:function(t,i){try{var n=this;n.current_store.quick_filter_key[t]=i,"status"!=t&&_.forEach(n.current_store.quick_filters[t],function(e){n.filter[e]=null})}catch(e){console.log(e)}},fetch_core_waybills_pagination_false:function(){var e=ML(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,t.$store.dispatch("station/core_waybills_module/fetch_core_waybills_pagination_false");case 4:e.next=18;break;case 6:e.prev=6,e.t0=e["catch"](1),e.t1=e.t0,e.next="fetch_core_waybills_pagination_false nothing filter"===e.t1?11:"core_waybills_label_type_different"===e.t1?12:"fetch_core_waybills_pagination_false_error"===e.t1?14:16;break;case 11:return e.abrupt("break",17);case 12:return t.error_message=t.$t("ui.notifications.error.__name",{name:t.$t("models.core_waybills")+" "+t.$t("ui.toolbox.core_waybill.errors.label_type_error")}),e.abrupt("break",17);case 14:return t.error_message=t.$t("ui.notifications.error.find__name",{name:t.$t("ui.general.print")}),e.abrupt("break",17);case 16:t.error_message=t.$t("ui.notifications.error.exception_error_please_contact_the_system_supplier")+":"+e.t0;case 17:t.error_message&&t.$noty.error(t.error_message);case 18:case"end":return e.stop()}},e,this,[[1,6]])}));function t(){return e.apply(this,arguments)}return t}(),handle_error_message:function(e){var t=this;switch(e){case"fetch_core_waybills_no_anything_core_waybills":t.error_message=t.$t("ui.notifications.error.no_data");break;case"fetch_core_waybills_failure":t.error_message=t.$t("ui.notifications.error.find__name",{name:t.$t("models.core_waybills")});break;case"fetch_staffs_failure":t.error_message=t.$t("ui.notifications.error.find__name",{name:t.$t("models.staffs")});break;case"fetch_materials_failure":t.error_message=t.$t("ui.notifications.error.find__name",{name:t.$t("models.materials")});break;case"fetch_scan_action_prototypes_failure":t.error_message=t.$t("ui.notifications.error.find__name",{name:t.$t("ui.pages.core_waybills.have_contained_status")});break;case"fetch_condition_status_prototypes_failure":t.error_message=t.$t("ui.notifications.error.find__name",{name:t.$t("models.status_prototypes")});break;case"fetch_core_waybills_svg_error":t.error_message=t.$t("ui.notifications.error.__name",{name:t.$t("ui.pages.core_waybills.export_csv_file")});break;case"fetch_core_waybills_csv_error":t.error_message=t.$t("ui.notifications.error.__name",{name:"csv "+t.$t("ui.general.file")});break;case"fetch_core_waybills_csv_loading":t.error_message="csv loading";break;default:t.error_message=t.$t("ui.notifications.error.exception_error_please_contact_the_system_supplier")+":"+e}t.error_message&&t.$noty.error(t.error_message)},fetch_core_waybills_csv_new:function(){var e=ML(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,t.$store.dispatch("station/core_waybills_module/fetch_core_waybills_csv_new");case 4:e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](1),"success"==e.t0?t.$cable.subscriptions.create({channel:"DelayedJobChannel",instance_identity:t.$store.state.instance_identity},{connected:function(){console.log("DelayedJobChannel connected")},received:function(e){e.data.download_url&&(t.current_store.csv.is_processing=!1,t.current_store.csv.url=e.data.download_url)}}):(console.log(e.t0),t.handle_error_message(e.t0));case 9:return e.next=11,new Promise(function(e){t.is_processing=!1,e()});case 11:case"end":return e.stop()}},e,this,[[1,6]])}));function t(){return e.apply(this,arguments)}return t}(),fetch_core_waybills_csv:function(){var e=ML(regeneratorRuntime.mark(function e(){var t,i,n=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:null,i=this,e.prev=2,e.next=5,i.$store.dispatch("station/core_waybills_module/fetch_core_waybills_csv",{type:t});case 5:e.next=11;break;case 7:e.prev=7,e.t0=e["catch"](2),console.log(e.t0),i.handle_error_message(e.t0);case 11:return e.next=13,new Promise(function(e){i.is_processing=!1,e()});case 13:case"end":return e.stop()}},e,this,[[2,7]])}));function t(){return e.apply(this,arguments)}return t}()},components:{CoreWaybillsLabelSvg:jo,DetailFilter:qL,SimpleFilter:DL,CoreWaybill:Ck["a"],Paginator:cr,Receipts:fo["a"],Supervisor:Mo}},FL=UL,GL=(n("723d"),Object(lt["a"])(FL,$L,kL,!1,null,"29e32883",null)),HL=GL.exports,YL=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.is_initialized?i("div",{attrs:{id:"new_core_waybill"}},[e.is_get_core_waybill_number?i("div",[i("div",{staticClass:"ui right floated basic red button",staticStyle:{margin:"6px 0"},on:{click:function(t){e.undo()}}},[e._v("\n            "+e._s(e.$t("ui.pages.core_waybills.back_to_select_partition"))+"\n        ")]),i("div",{staticClass:"clear"}),e.create_core_waybill_error?i("div",{staticClass:"ui negative message"},[i("div",{staticClass:"header"},[e._v("\n                "+e._s(e.$t("ui.pages.core_waybills.create_core_waybill_error"))+"\n            ")]),i("p",[e._v("\n                "+e._s(e.create_core_waybill_error)+"\n            ")])]):e._e(),i("CoreWaybill",{attrs:{core_waybill:e.core_waybill,template:"detail",is_auto_print:!1,is_can_update:!0,is_can_print_label:!1,is_show_change_template_btns:!1,active_button:e.tool_core_waybill_active_button,detail:{is_show_receipt_file:!1,is_show_partition:!1,is_show_statuses:!1}}})],1):i("div",[e.partitions.length?i("div",[e._l(e.partitions_group_by_customer_identity,function(t,n){return i("div",{staticClass:"ui segment blue"},["null"!=n?i("h5",[e._v("\n                    "+e._s(e.$store.getters["provider/core_waybills_module/customer"](n).company_name||"-")+"\n                ")]):e._e(),i("div",{staticClass:"ui doubling two column grid"},e._l(t,function(t){return i("div",{staticClass:"column pointer",on:{click:function(i){e.set_current_partition(t)},dblclick:function(t){e.fetch_core_waybill_number_by_partition()}}},[i("div",{staticClass:"ui center aligned segment",class:{active:e.current_partition.identity==t.identity}},[i("div",{staticClass:"ui mini statistic"},[i("div",{staticClass:"value"},[i("span",{attrs:{"data-tooltip":"字軌","data-position":"bottom left"}},[e._v("\n                                        "+e._s(t.prefix)+"\n                                    ")]),i("span",{staticStyle:{"text-decoration":"underline"}},[i("span",{attrs:{"data-tooltip":e.$t("ui.pages.core_waybills.partition_number_from"),"data-position":"bottom center"}},[e._v("\n                                            "+e._s(t.numbers_from)+"\n                                        ")]),i("span",[e._v(" ~ ")]),i("span",{attrs:{"data-tooltip":e.$t("ui.pages.core_waybills.partition_number_to"),"data-position":"bottom center"}},[e._v("\n                                            "+e._s(t.numbers_to)+"\n                                        ")])])]),i("div",{staticClass:"label"},[e._v("\n                                    "+e._s(t.name)+"\n                                ")])])])])}))])}),i("div",{staticClass:"ui center aligned segment"},[e.current_partition.identity?i("div",[i("button",{staticClass:"ui basic blue button",on:{click:function(t){e.fetch_core_waybill_number_by_partition()}}},[e._v("\n                        "+e._s(e.$t("ui.page_titles.new_core_waybill"))+"\n                    ")])]):i("h3",[e._v("\n                    "+e._s(e.$t("ui.pages.core_waybills.please_select_partition"))+"\n                ")])])],2):i("div",{staticClass:"ui red raised segment center aligned"},[i("h2",[e._v("\n                "+e._s(e.$t("ui.pages.core_waybills.errors.no_anything_partitions_can_use"))+"\n            ")])])])]):e._e()},KL=[];function WL(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function VL(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){WL(r,n,a,s,o,"next",e)}function o(e){WL(r,n,a,s,o,"throw",e)}s(void 0)})}}var XL={name:"NewCoreWaybill",components:{CoreWaybill:Ck["a"]},props:{},data:function(){return{is_initialized:!1,is_processing:!1,partitions:[],current_partition:{},partitions_group_by_customer_identity:{},core_waybill:{},is_get_core_waybill_number:!1,tool_core_waybill_active_button:{content:this.$t("ui.general.create"),channel:"tool_core_waybill_create_channel"},create_core_waybill_error:""}},created:function(){},mounted:function(){var e=this;e.init(),e.$bus.$off("tool_core_waybill_create_channel"),e.$bus.$on("tool_core_waybill_create_channel",function(){e.create_core_waybill()}.bind(this))},watch:{},computed:{},methods:{undo:function(){var e=this;e.is_get_core_waybill_number=!1,e.create_core_waybill_error="",e.core_waybill={}},init:function(){var e=VL(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,t.fetch_partitions();case 3:return e.next=5,t.fetch_associated_partitions();case 5:return e.next=7,t.fetch_customers();case 7:return e.next=9,new Promise(function(e){t.is_initialized=!0});case 9:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_partitions:function(){var e=this,t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_partitions),i=t.parse({},"?pagination=false");return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.partitions"),reason:": "+t.data.error})),Promise.reject(t.data.error);e.partitions=e.partitions.concat(t.data.partitions)})},fetch_associated_partitions:function(){var e=this,t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_associated_partitions),i=t.parse({},"?pagination=false");return axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("ui.page_titles.associated_partitions"),reason:": "+t.data.error})),Promise.reject(t.data.error);e.partitions=e.partitions.concat(t.data.associated_partitions)})},fetch_customers:function(){var e=this;return e.partitions_group_by_customer_identity=_.groupBy(e.partitions,"customer_identity"),_.forEach(e.partitions_group_by_customer_identity,function(t,i){"null"!=i&&e.$store.dispatch("provider/core_waybills_module/fetch_customer",{customer_identity:i})}),Promise.resolve()},fetch_core_waybill_number_by_partition:function(){var e=this,t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_partition_get_usable_numbers),i=t.parse({partition_identity:e.current_partition.identity,amount:1});axios.get(i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.core_waybill={number:t.data.usable_numbers[0],material_identity:e.current_partition.material_identity,partition_identity:e.current_partition.identity,is_used:!0,original_number:null,tracking_number:null,sender_company_name:null,sender_address:null,sender_name:null,sender_phone:null,sender_email:null,sender_url:null,sender_fax:null,consignee_company_name:null,consignee_address:null,consignee_name:null,consignee_phone:null,consignee_email:null,consignee_fax:null,temperature:null,goods_name:null,flight_number:null,note:null,note_2:null,note_3:null,serial:1,pieces:1,payment_type:null,measurement:null,weight_in_kilo:null,receipt_file_url:null,is_collected:0,collection:null,collection_fee:0,simplified_declaration_form_fee:0,declaration_form_fee:0,declaration_form_extra_fee:0,tax:0,price:0,insurance:0,material_fee:0,consignee_tax_point:0,sender_tax_point:0,warehouse_fee:0,fuel_surcharge:0,value_added_service_fee:0,overlength_fee:0,overweight_fee:0,extra_fee:0,shipping_date:null,shipping_period:null,shipping_note:null,cvs_store_number:null,cvs_store_name:null,cvs_store_address:null,cvs_store_phone:null,station_code:null,declared_valu:null},e.is_get_core_waybill_number=!0):e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.attributes.core_waybills.number")}))})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.attributes.core_waybills.number")}))})},set_current_partition:function(e){var t=this;t.current_partition={},t.current_partition=e},create_core_waybill:function(){var e=this,t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_core_waybills_create).parse({});return axios.post(t,e.core_waybill,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){return"success"==t.data.status?(e.$noty.success(e.$t("ui.notifications.success.create__name",{name:e.$t("models.core_waybills")})),e.$router.push({name:"edit_core_waybill",params:{identity:t.data.core_waybill.identity}})):(e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.core_waybills"),reason:": "+t.data.errors})),e.create_core_waybill_error=t.data.errors),Promise.reject(t.data.errors)})}}},QL=XL,ZL=(n("c339"),Object(lt["a"])(QL,YL,KL,!1,null,"b2a79a8e",null)),JL=ZL.exports,eD=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui segment",attrs:{id:"edit_core_waybill"}},[e.is_initialized?i("CoreWaybill",{attrs:{core_waybill:e.core_waybill,template:"detail",is_auto_print:!1,is_can_update:!0,is_can_print_label:!0,is_show_change_template_btns:!1,detail:{is_show_blood_related:!0,is_show_receipt_file:!0,is_show_partition:!0,is_show_statuses:!0}}}):e._e(),i("Comments",{attrs:{commentable_type:"CoreWaybill",commentable_identity:e.core_waybill.identity,scope:"provider"}})],1)},tD=[];function iD(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function nD(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){iD(r,n,a,s,o,"next",e)}function o(e){iD(r,n,a,s,o,"throw",e)}s(void 0)})}}var aD={name:"EditCoreWaybill",components:{CoreWaybill:Ck["a"],Comments:iC},props:{},data:function(){return{is_initialized:!1,is_processing:!1,core_waybill:{},errors:[]}},created:function(){},mounted:function(){this.init()},watch:{$route:function(e,t){"edit_core_waybill"==e.name&&this.init()}},computed:{},methods:{init:function(){var e=nD(regeneratorRuntime.mark(function e(){var t,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,t.is_processing=!1,t.core_waybill={},t.errors=[],e()});case 3:return e.next=5,t.fetch_core_waybill();case 5:return e.next=7,new Promise(function(e){i.$store.state.provider.core_waybills_module.current_core_waybill=t.core_waybill,t.is_initialized=!0});case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_core_waybill:function(){var e=this,t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_core_waybill).parse({core_waybill_identity:e.$route.params.identity});return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){e.core_waybill=t.data.core_waybill})["catch"](function(t){return e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.core_waybills"),reason:": "+t})),Promise.reject(t)})}}},rD=aD,sD=(n("0aca"),Object(lt["a"])(rD,eD,tD,!1,null,"f43bba0e",null)),oD=sD.exports,cD="station_core_waybills",_D="new_station_core_waybill",lD="edit_station_core_waybill",uD="station_core_waybills_operation",dD=[{path:"",component:HL,name:"station_core_waybills",meta:{api_name:"api_v1_station_core_waybills",breadcrumb:[cD],btns:[_D]}},{path:"new",component:JL,name:"new_station_core_waybill",meta:{api_name:"api_v1_station_core_waybill_create",breadcrumb:[cD,_D]}},{path:"edit/:identity",component:oD,name:"edit_station_core_waybill",meta:{api_name:"api_v1_station_core_waybill_update",breadcrumb:[cD,lD]}},{path:"operation/:operation_number",component:HL,name:"station_core_waybills_operation",meta:{api_name:"api_v1_station_core_waybills",breadcrumb:[cD,uD]}},{path:"operation/:operation_number/edit/:identity",component:oD,name:"edit_station_core_waybill_operation",meta:{api_name:"api_v1_station_core_waybill_update",breadcrumb:[cD,uD,lD]}}],pD=dD,mD=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"operations"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),i("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[i("div"),i("div",{staticClass:"ui segment",style:{width:e.filter.is_advanced_mode?"100%":"auto",margin:0}},[i("FilterHeader",{staticClass:"right floated"}),i("div",{staticClass:"clear"}),i("FilterAdvanced",{staticClass:"ui transition hidden filter"})],1)]),i("div",{staticClass:"ui segment"},[i("table",{staticClass:"ui compact celled table"},[i("thead",{staticClass:"center aligned"},[i("tr",[i("th",[e._v(e._s(e.$t("ui.general.date")))]),i("th",[e._v(e._s(e.$t("models.attributes.operations.number")))]),i("th",[e._v(e._s(e.$t("models.attributes.operations.customer")))]),i("th",[e._v(e._s(e.$t("models.attributes.operations.customer_note")))]),i("th",[e._v(e._s(e.$t("models.attributes.operations.provider_note")))]),i("th",[e._v("\n                        "+e._s(e.$t("ui.pages.operations.table.finish"))+"/\n                        "+e._s(e.$t("ui.pages.operations.table.total"))+"\n                    ")]),i("th",[e._v(e._s(e.$t("models.attributes.operations.status")))]),i("th",[e._v(e._s(e.$t("models.attributes.operations.file_name")))]),i("th",[e._v(e._s(e.$t("ui.general.operate")))])])]),e.is_loading?i("tbody",{staticClass:"center aligned"},[e._m(0)]):i("tbody",[e._l(e.operations,function(e){return i("Operation",{key:e.identity,attrs:{operation:e}})}),e.operations.length<=0?i("tr",{staticClass:"center aligned"},[i("td",{attrs:{colspan:"9"}},[i("h5",[e._v(e._s(e.$t("ui.general.no_data")))])])]):e._e()],2)]),e.operations.length>0?i("Paginator",{attrs:{total_pages:e.pagination.total_pages,current_page:e.pagination.current_page,disabled:e.is_loading}}):e._e()],1)],1)},fD=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"loading"},[i("td",{attrs:{colspan:"9"}},[i("div",{staticClass:"ui active centered inline loader"})])])}],vD=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"filter_advanced"}},[i("div",{staticClass:"ui form",on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$parent.fetch_operations(1)}}},[i("div",{staticClass:"three fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.operations.created_at")))]),i("el-date-picker",{staticStyle:{width:"100%"},attrs:{"unlink-panels":"",type:"daterange",align:"center","start-placeholder":e.$t("ui.el.datepicker.startDate"),"end-placeholder":e.$t("ui.el.datepicker.endDate"),"picker-options":e.$store.state.element_ui_datepicker_daterange_options},model:{value:e.filter.columns.created_duration,callback:function(t){e.$set(e.filter.columns,"created_duration",t)},expression:"filter.columns.created_duration"}})],1),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.operations.number")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.number,expression:"filter.columns.number"}],attrs:{type:"text"},domProps:{value:e.filter.columns.number},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"number",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.operations.customer_identity")))]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection fluid dropdown"},[e._l(e.customers,function(t){return e.filter.columns.customer_identity==t.identity?i("div",{staticClass:"text"},[e._v("\n                        "+e._s(t.company_name)+"\n                    ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.customers,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.columns.customer_identity==t.identity},on:{click:function(i){e.filter.columns.customer_identity=t.identity}}},[e._v("\n                            "+e._s(t.company_name)+"\n                        ")])}))],2)])]),i("div",{staticClass:"four fields"},[i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.operations.provider_note")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.provider_note,expression:"filter.columns.provider_note"}],attrs:{type:"text"},domProps:{value:e.filter.columns.provider_note},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"provider_note",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.operations.customer_note")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.customer_note,expression:"filter.columns.customer_note"}],attrs:{type:"text"},domProps:{value:e.filter.columns.customer_note},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"customer_note",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.operations.original_file_name")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.original_file_name,expression:"filter.columns.original_file_name"}],attrs:{type:"text"},domProps:{value:e.filter.columns.original_file_name},on:{input:function(t){t.target.composing||e.$set(e.filter.columns,"original_file_name",t.target.value)}}})]),i("div",{staticClass:"field"},[i("label",[e._v(e._s(e.$t("models.attributes.operations.status")))]),i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.is_done,expression:"filter.columns.is_done"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.filter.columns.is_done)?e._i(e.filter.columns.is_done,null)>-1:e.filter.columns.is_done},on:{change:function(t){var i=e.filter.columns.is_done,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&e.$set(e.filter.columns,"is_done",i.concat([r])):s>-1&&e.$set(e.filter.columns,"is_done",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.filter.columns,"is_done",a)}}}),i("label",[e._v(e._s(e.$t("models.attributes.operations.is_done")))])]),i("div",{directives:[{name:"checkbox",rawName:"v-checkbox"}],staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns.is_canceled,expression:"filter.columns.is_canceled"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.filter.columns.is_canceled)?e._i(e.filter.columns.is_canceled,null)>-1:e.filter.columns.is_canceled},on:{change:function(t){var i=e.filter.columns.is_canceled,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&e.$set(e.filter.columns,"is_canceled",i.concat([r])):s>-1&&e.$set(e.filter.columns,"is_canceled",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.filter.columns,"is_canceled",a)}}}),i("label",[e._v(e._s(e.$t("models.attributes.operations.is_canceled")))])])])])]),i("div",{staticClass:"ui icon blue button right floated",on:{click:function(t){e.$parent.fetch_operations(1)}}},[i("i",{staticClass:"search icon"}),e._v("\n        "+e._s(e.$t("ui.general.search"))+"\n    ")]),i("div",{staticClass:"clear"})])},hD=[],gD={name:"OperationsFilterAdvanced",data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.station.operations_module},filter:function(){return this.current_store.filter},customers:function(){return[{company_name:this.$t("ui.general.please_select"),identity:null}].concat(this.$store.state.station.customers)}},created:function(){},mounted:function(){},watch:{},methods:{},components:{}},bD=gD,yD=(n("6b93"),Object(lt["a"])(bD,vD,hD,!1,null,"0a5ec623",null)),wD=yD.exports,$D=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"filter_general"}},[e.filter.is_advanced_mode?e._e():i("div",{staticClass:"ui action input"},["is_done"!=e.filter.current_shortcut_key&&"is_canceled"!=e.filter.current_shortcut_key&&"customer_identity"!=e.filter.current_shortcut_key&&"created_at"!=e.filter.current_shortcut_key?i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.columns[e.filter.current_shortcut_key],expression:"filter.columns[filter.current_shortcut_key]"}],attrs:{placeholder:e.$t("ui.general.search__key",{key:e.$t("models.attributes.operations."+e.filter.current_shortcut_key)}),type:"text"},domProps:{value:e.filter.columns[e.filter.current_shortcut_key]},on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$parent.fetch_operations(1)},input:function(t){t.target.composing||e.$set(e.filter.columns,e.filter.current_shortcut_key,t.target.value)}}}):"created_at"==e.filter.current_shortcut_key?i("el-date-picker",{staticClass:"right_radius",attrs:{"unlink-panels":"",type:"daterange",align:"center","range-separator":"","start-placeholder":e.$t("ui.el.datepicker.startDate"),"end-placeholder":e.$t("ui.el.datepicker.endDate"),"picker-options":e.$store.state.element_ui_datepicker_daterange_options},model:{value:e.filter.columns.created_duration,callback:function(t){e.$set(e.filter.columns,"created_duration",t)},expression:"filter.columns.created_duration"}}):"customer_identity"==e.filter.current_shortcut_key?i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection fluid dropdown right_radius",staticStyle:{"min-width":"200px"}},[e._l(e.customers,function(t){return e.filter.columns.customer_identity==t.identity?i("div",{staticClass:"text"},[e._v("\n                "+e._s(t.company_name)+"\n            ")]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.customers,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.columns.customer_identity==t.identity},on:{click:function(i){e.filter.columns.customer_identity=t.identity}}},[e._v("\n                    "+e._s(t.company_name)+"\n                ")])}))],2):e._e(),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection dropdown no_search right_radius",staticStyle:{"min-width":"120px"}},[e._l(e.filter.shortcut_keys,function(t){return e.filter.current_shortcut_key==t?i("div",{staticClass:"text"},[i("span",[e._v("\n                    "+e._s(e.$t("models.attributes.operations."+t))+"\n                ")])]):e._e()}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},e._l(e.filter.shortcut_keys,function(t){return i("div",{staticClass:"item",class:{"selected active":e.filter.current_shortcut_key==t},on:{click:function(i){e.set_quick_filter(t)}}},[e._v("\n                    "+e._s(e.$t("models.attributes.operations."+t))+"\n                ")])}))],2),i("div",{staticClass:"ui button icon",on:{click:function(t){e.$parent.fetch_operations(1)}}},[i("i",{staticClass:"search icon"})])],1),e.filter.is_advanced_mode?i("div",{staticClass:"ui basic red icon button",on:{click:function(t){e.$store.commit("station/operations_module/init_filter_columns")}}},[i("i",{staticClass:"close icon"}),e._v("\n        "+e._s(e.$t("ui.general.clear"))+"\n    ")]):e._e(),i("div",{staticClass:"ui button icon",style:{height:e.filter.is_advanced_mode?"auto":"38px",paddingTop:e.filter.is_advanced_mode?"":"13px",verticalAlign:e.filter.is_advanced_mode?"":"top"},on:{click:function(t){e.filter.is_advanced_mode=!e.filter.is_advanced_mode}}},[i("i",{staticClass:"bars icon",class:{minus:e.filter.is_advanced_mode,bars:!e.filter.is_advanced_mode}})])])},kD=[],CD={name:"OperationsFilterHeader",data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.station.operations_module},filter:function(){return this.current_store.filter},customers:function(){return[{company_name:this.$t("ui.general.please_select"),identity:null}].concat(this.$store.state.station.customers)}},created:function(){},mounted:function(){},watch:{},methods:{set_quick_filter:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var i=this;i.filter.current_shortcut_key=t,i.filter.columns.created_duration="",_.forEach(i.filter.shortcut_keys,function(e){i.filter.columns[e]=null}),"is_done"==t&&(i.filter.columns.is_done=!0),"is_canceled"==t&&(i.filter.columns.is_canceled=!0)}catch(e){console.log(e)}}},components:{}},xD=CD,PD=(n("0f9c"),Object(lt["a"])(xD,$D,kD,!1,null,"c1775144",null)),SD=PD.exports,ND=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"center aligned"},[i("td",[e._v(" "+e._s(e.human_datetime(e.operation.created_at)))]),i("td",[e._v(" "+e._s(e.operation.number||"-")+" ")]),i("td",[e._v(" "+e._s(e.customer_name||"-")+" ")]),i("td",[e._v(" "+e._s(e.operation.customer_note||"-")+" ")]),i("td",[e._v(" "+e._s(e.operation.provider_note||"-")+" ")]),i("td",{class:{negative:0==e.operation.core_waybills.length,positive:0!=e.operation.core_waybills.length&&e.operation.core_waybills.length==e.done_core_waybills.length}},[e._v("\n        "+e._s(e.done_core_waybills.length)+" / "+e._s(e.operation.core_waybills.length)+"\n    ")]),i("td",[e.operation.is_canceled?i("span",[i("span",[i("i",{staticClass:"stop icon"}),e._v("\n                "+e._s(e.$t("models.attributes.operations.is_canceled"))+"\n                ")])]):e.operation.is_done?i("span",[i("i",{staticClass:"check icon"}),e._v("\n            "+e._s(e.$t("models.attributes.operations.is_done"))+"\n            ")]):i("span",[i("i",{staticClass:"play icon"}),e._v("\n                "+e._s(e.$t("ui.pages.operations.processing"))+"\n                ")])]),i("td",[i("a",{attrs:{href:e.operation.original_file_url}},[e._v(e._s(e.operation.original_file_name))])]),i("td",{staticClass:"center aligned"},[i("router-link",{staticClass:"ui basic primary button",attrs:{to:{name:"edit_station_operation",params:{identity:e.operation.identity}}}},[e._v("\n            "+e._s(e.$t("ui.general.detail"))+"\n        ")])],1)])},AD=[],ED={name:"ProviderOperationsIndexItem",props:{operation:Object},data:function(){return{is_loading:!1}},computed:{customer_name:function(){return this.operation.customer?this.operation.customer.company_name:null},done_core_waybills:function(){return _.filter(this.operation.core_waybills,function(e){return 1==e.is_done})}},created:function(){},mounted:function(){},watch:{},methods:{},components:{}},qD=ED,zD=Object(lt["a"])(qD,ND,AD,!1,null,null,null),jD=zD.exports;function RD(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function ID(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){RD(r,n,a,s,o,"next",e)}function o(e){RD(r,n,a,s,o,"throw",e)}s(void 0)})}}var TD={name:"OperationsIndex",data:function(){return{is_initialized:!1,is_loading:!1,is_filter_changed:!1,operations:[],errors:[]}},computed:{current_store:function(){return this.$store.state.station.operations_module},pagination:function(){return this.current_store.pagination},filter:function(){return this.current_store.filter}},created:function(){},mounted:function(){this.init(),this.pagination.current_page=1},watch:{$route:{handler:function(e,t){var i=e.query.page;i&&(this.pagination.current_page=Number(i),this.$store.commit("station/operations_module/set_current_page",i),this.fetch_operations())},immediate:!0},filter:{handler:function(e,t){this.is_filter_changed=!0},deep:!0},"filter.is_advanced_mode":function(e){$("#operations .ui.transition.filter").transition(e?"fade down":"hide"),e||this.$store.commit("station/operations_module/init_filter_columns")}},methods:{init:function(){var e=ID(regeneratorRuntime.mark(function e(){var t,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,new Promise(function(e){t.is_initialized=!1,e()});case 4:return e.next=6,t.fetch_operations();case 6:return e.next=8,new Promise(function(e){i.filter.is_advanced_mode&&$("#operations .ui.transition.filter").transition("fade down"),t.is_initialized=!0,e()});case 8:e.next=13;break;case 10:switch(e.prev=10,e.t0=e["catch"](1),e.t0){default:console.log("init error: "),console.log(e.t0)}case 13:return e.prev=13,e.finish(13);case 15:case"end":return e.stop()}},e,this,[[1,10,13,15]])}));function t(){return e.apply(this,arguments)}return t}(),fetch_operations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this;if(1==e&&(t.pagination.current_page=1,t.$route.query.page=1),0==t.is_loading){t.errors=[],t.is_loading=!0,t.is_filter_changed&&(t.$store.commit("station/operations_module/set_current_page",null),t.is_filter_changed=!1);var i=_.clone(t.filter.columns);i.created_duration&&(i["begin_at"]=t.$moment(i.created_duration[0]).startOf("day").format("YYYY-MM-DDTHH:mm:ss+08:00"),i["end_at"]=t.$moment(i.created_duration[1]).endOf("day").format("YYYY-MM-DDTHH:mm:ss+08:00")),delete i.created_duration;var n=new RestUrl(t.$store.state.station.routes.api_v1_station_operations).parse({},"?"+object_to_query(i)+"&"+object_to_query({page:t.pagination.current_page}));return axios.get(n,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){if("success"==e.data.status)t.operations=e.data.operations,t.$store.commit("station/operations_module/set_current_page",e.data.pagination.current_page),t.$store.commit("station/operations_module/set_total_pages",e.data.pagination.total_pages);else if("failure"==e.data.status)return Promise.reject(e.data)})["catch"](function(e){if(e.response){switch(e.response.status){default:t.errors.push(e.response.status+" "+e.response.statusText)}t.$noty.error(t.$t("ui.notifications.error.fetch__name",{name:t.$t("models.operations"),reason:": "+e.response.status+" "+e.response.statusText}))}else e.errors?t.$noty.error(t.$t("ui.notifications.error.fetch__name",{name:t.$t("models.operations"),reason:": "+e.errors})):(t.errors.push(t.$t("ui.general.server_offline")),t.$noty.error(t.$t("ui.general.server_offline")));return Promise.reject(e)})["finally"](function(){setTimeout(function(){t.is_loading=!1},300)})}}},components:{Operation:jD,Paginator:cr,ErrorMessages:wc,FilterHeader:SD,FilterAdvanced:wD}},OD=TD,LD=(n("1122"),Object(lt["a"])(OD,mD,fD,!1,null,"985ec1d6",null)),DD=LD.exports,BD=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"show"}},[i("ErrorMessages",{attrs:{errors:e.errors,description:e.$t("ui.general.error"),is_closable:!0}}),e._m(0),i("div",{staticClass:"ui horizontal segments"},[i("div",{staticClass:"ui segment"},[i("div",{staticClass:"ui divided items"},[i("div",{staticClass:"item"},[i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("訂單編號")]),i("div",{staticClass:"description"},[e._v("\n                            "+e._s(e.operation.number)+"\n                        ")])])]),i("div",{staticClass:"item"},[i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("建立時間")]),i("div",{staticClass:"description"},[e._v("\n                            "+e._s(e.human_datetime(e.operation.created_at))+"\n                        ")])])]),i("div",{staticClass:"item"},[i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("訂單狀態")]),i("div",{staticClass:"description"},[e.operation.is_done?i("span",[e._v("\n                                "+e._s(e.$t("models.attributes.operations.is_done_true"))+"\n                            ")]):i("span",[e._v("\n                                "+e._s(e.$t("models.attributes.operations.is_done_false"))+"\n                            ")])])])])])]),i("div",{staticClass:"ui segment"},[i("div",{staticClass:"ui divided items"},[i("div",{staticClass:"item"},[i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("訂單編號")]),i("div",{staticClass:"description"},[e._v("\n                            "+e._s(e.operation.number)+"\n                        ")])])]),i("div",{staticClass:"item"},[i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("建立時間")]),i("div",{staticClass:"description"},[e._v("\n                            "+e._s(e.human_datetime(e.operation.created_at))+"\n                        ")])])]),i("div",{staticClass:"item"},[i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("訂單狀態")]),i("div",{staticClass:"description"},[e.operation.is_done?i("span",[e._v("\n                                "+e._s(e.$t("models.attributes.operations.is_done_true"))+"\n                            ")]):i("span",[e._v("\n                                "+e._s(e.$t("models.attributes.operations.is_done_false"))+"\n                            ")])])])])])])]),e.is_initialized?i("div",[e.is_loading?i("div",{staticClass:"ui active centered inline loader"}):e.operation.identity?i("table",{staticClass:"ui fixed table blue"},[i("thead",[i("tr",[i("th",{staticClass:"right aligned",staticStyle:{"text-overflow":"initial"}},[e._v("\n                        "+e._s(e.operation.number)+"\n                    ")]),i("th",{attrs:{colspan:"4"}}),i("th",[e._v("\n                        "+e._s(e.human_datetime(e.operation.created_at))+"\n                    ")])])]),i("tbody",[i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.operations.status"))+"\n                    ")]),i("td",{attrs:{colspan:"5"}},[i("div",{staticClass:"ui checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.operation.is_done,expression:"operation.is_done"}],attrs:{type:"checkbox",id:"is_done"},domProps:{checked:Array.isArray(e.operation.is_done)?e._i(e.operation.is_done,null)>-1:e.operation.is_done},on:{change:function(t){var i=e.operation.is_done,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&e.$set(e.operation,"is_done",i.concat([r])):s>-1&&e.$set(e.operation,"is_done",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.operation,"is_done",a)}}}),i("label",{staticClass:"pointer",attrs:{for:"is_done"}},[e.operation.is_done?i("span",[e._v("\n                                    "+e._s(e.$t("models.attributes.operations.is_done_true"))+"\n                                ")]):i("span",[e._v("\n                                    "+e._s(e.$t("models.attributes.operations.is_done_false"))+"\n                                ")])])])])]),e.operation.is_canceled?i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        取消原因\n                    ")]),i("td",{staticClass:"ui form",attrs:{colspan:"5"}},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.operation.cancel_reason,expression:"operation.cancel_reason"}],domProps:{value:e.operation.cancel_reason},on:{input:function(t){t.target.composing||e.$set(e.operation,"cancel_reason",t.target.value)}}})])]):e._e(),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("ui.pages.operations.schedule"))+"\n                    ")]),i("td",{attrs:{colspan:"5"}},[i("div",{directives:[{name:"progress",rawName:"v-progress"}],staticClass:"ui indicating progress",attrs:{"data-value":e.done_core_waybills.length,"data-total":e.operation.core_waybills.length}},[e._m(1),i("div",{staticClass:"label"},[e._v(e._s(e.done_core_waybills.length)+" / "+e._s(e.operation.core_waybills.length))])])])]),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.operations.station"))+"\n                    ")]),i("td",{staticClass:"ui form",staticStyle:{overflow:"visible"},attrs:{colspan:"5"}},[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.operation.station_identity,expression:"operation.station_identity"}],ref:"station_identity",staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.operation,"station_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.$store.state.station.stations,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2),i("button",{staticClass:"ui basic icon button",on:{click:function(t){e.operation.station_identity=null,e.$(e.$refs.station_identity).dropdown("clear")}}},[i("i",{staticClass:"remove icon"})])])]),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.operations.staffs"))+"\n                    ")]),i("td",{staticClass:"ui form",staticStyle:{overflow:"visible"},attrs:{colspan:"5"}},[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.operation.staff_identities,expression:"operation.staff_identities"}],ref:"staff_identities",staticClass:"ui dropdown",attrs:{multiple:""},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.operation,"staff_identities",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.$store.state.station.operations_module.staffs,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2),i("button",{staticClass:"ui basic icon button",staticStyle:{"vertical-align":"bottom"},on:{click:function(t){e.operation.staff_identities=null,e.$(e.$refs.staff_identities).dropdown("clear")}}},[i("i",{staticClass:"remove icon"})])])]),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.operations.your_note"))+"\n                    ")]),i("td",{staticClass:"ui form",attrs:{colspan:"5"}},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.operation.provider_note,expression:"operation.provider_note"}],domProps:{value:e.operation.provider_note},on:{input:function(t){t.target.composing||e.$set(e.operation,"provider_note",t.target.value)}}})])]),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.operations.customer"))+"\n                    ")]),i("td",{staticClass:"ui form",staticStyle:{overflow:"visible"},attrs:{colspan:"5"}},[i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],ref:"customer_identity",staticClass:"ui selection dropdown"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.operation.customer_identity,expression:"operation.customer_identity"}],attrs:{type:"hidden"},domProps:{value:e.operation.customer_identity},on:{input:function(t){t.target.composing||e.$set(e.operation,"customer_identity",t.target.value)}}}),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"default text"},[e._v("\n                                "+e._s(e.$t("ui.general.please_select"))+"\n                            ")]),i("div",{staticClass:"menu"},e._l(e.customers,function(t){return i("div",{staticClass:"item",attrs:{"data-value":t.identity},on:{click:function(i){e.selected_customer=t,e.operation.customer_identity=t.identity,e.operation.contract_identity=t.contracts[0].identity}}},[e._v("\n                                        "+e._s(t.company_name)+"\n                                ")])}))]),e.selected_customer?i("div",{staticStyle:{display:"inline-block"}},[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.operation.contract_identity,expression:"operation.contract_identity"}],on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.operation,"contract_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v("\n                                    "+e._s(e.$t("ui.general.please_select"))+"\n                                    "),e._v("\n                                    "+e._s(e.$t("ui.pages.operations.contract"))+"\n                                ")]),e._l(e.selected_customer.contracts,function(t){return i("option",{attrs:{contract:t},domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2)]):e._e(),i("button",{staticClass:"ui basic icon button",on:{click:function(t){e.selected_customer=null,e.operation.customer_identity=null,e.operation.contract_identity=null,e.$(e.$refs.customer_identity).dropdown("clear")}}},[i("i",{staticClass:"remove icon"})])])]),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.operations.customer_note"))+"\n                    ")]),i("td",{attrs:{colspan:"5"}},[e._v("\n                        "+e._s(e.operation.customer_note||"-")+"\n                    ")])]),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.operations.file"))+"\n                    ")]),i("td",{attrs:{colspan:"5"}},[i("a",{attrs:{href:e.operation.original_file_url}},[e._v(e._s(e.operation.original_file_name))])])]),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("ui.pages.operations.print_coew_waybill_labels"))+"\n                    ")]),i("td",{staticStyle:{overflow:"visible"},attrs:{colspan:"5"}},[i("CoreWaybillsLabelSvg",{attrs:{numbers:e.dot_separated_numbers,authentication_token:e.token,scope:"provider",channel:e.print_label_channel,is_show_input:!1}})],1)]),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("ui.pages.operations.print_coew_waybill_checklist"))+"\n                    ")]),i("td",{attrs:{colspan:"5"}},[i("OrderSummary",{attrs:{channel_name:"my_order_summaray",default_search_params:{pagination:!1,operation:{identity:e.operation.identity}},title:e.$t("ui.pages.operations._name_operation_list",{name:e.$store.state.station.current_node.company_short_name}),sub_title:e.$store.state.station.current_node.website_url,customer_service_hotline:e.$store.state.station.current_node.customer_service_hotline,logistician:{name:"9999999 配送人員"},logo_url:"/images/"+e.$store.state.station.current_node.company_en_name.replace(/(?:^|\.|\s?)([A-Z])/g,function(e,t){return"_"+t.toLowerCase()}).replace(/^_/,"")+"_logo.jpg",show_buttons:!0,show_contents:!1,scope:"provider"}})],1)]),e.show_receipts?i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("ui.pages.operations.print_receipt"))+"\n                    ")]),i("td",{attrs:{colspan:"5"}},[i("Receipts",{staticStyle:{display:"inline-block"},attrs:{show_buttons:!0,default_search_params:{operation_identity:e.operation.identity,pagination:!1,materials:"Waybill"},logo_url:"/images/"+e.current_node.company_en_name.replace(/(?:^|\.|\s?)([A-Z])/g,function(e,t){return"_"+t.toLowerCase()}).replace(/^_/,"")+"_logo.jpg",title:e.$t("ui.pages.operations._name_customer_receipt",{name:e.current_node.company_short_name}),sub_title:e.current_node.website_url,customer_service_hotline:e.current_node.customer_service_hotline,logistician:e.current_staff,location:""}})],1)]):e._e(),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("ui.general.operate"))+"\n                    ")]),i("td",{attrs:{colspan:"5"}},[i("button",{staticClass:"ui basic positive button",on:{click:function(t){t.preventDefault(),e.update_operation()}}},[e._v("\n                            "+e._s(e.$t("ui.general.update"))+"\n                        ")]),i("button",{staticClass:"ui basic negative button",on:{click:function(t){t.preventDefault(),e.delete_operation()}}},[e._v("\n                            "+e._s(e.$t("ui.general.delete"))+"\n                        ")])])]),i("tr",[i("td",{staticClass:"x_scrollable",attrs:{colspan:"6"}},[i("CoreWaybills",{attrs:{default_search_params:{operation_identity:e.operation.identity,include_is_deleted:!0},scope:"provider",show_delete_button:!0,show_update_button:!0,show_export_csv_button:!0,csv_file_name:e.operation.number,columns:e.core_waybill_columns,updater_columns:e.updater_columns}})],1)])])]):e._e(),e.operation.identity?i("div",{staticClass:"ui segment"},[i("Comments",{attrs:{commentable_type:"Operation",commentable_identity:e.operation.identity,scope:"provider"}})],1):e._e()]):i("div",{staticClass:"ui active inverted dimmer"},[i("div",{staticClass:"ui text loader"},[e._v(e._s(e.$t("ui.general.initializing")))])])],1)},MD=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui horizontal divider"},[i("h3",[i("i",{staticClass:"user icon"}),e._v("訂單內容")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"bar"},[i("div",{staticClass:"progress"})])}];function UD(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function FD(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){UD(r,n,a,s,o,"next",e)}function o(e){UD(r,n,a,s,o,"throw",e)}s(void 0)})}}var GD={name:"EditOperation",props:{},data:function(){return{is_initialized:!1,is_loading:!1,operation:{},selected_customer:null,errors:[],print_label_channel:"operation_print_label_channel",core_waybill_columns:[{input_type:"materials",display_type:"material",name:"materials",human_name:this.$t("models.materials")},{input_type:"text",display_type:"text",name:"number",human_name:this.$t("models.attributes.core_waybills.number")},{input_type:"text",display_type:"text",name:"original_number",human_name:this.$t("models.attributes.core_waybills.original_number")},{input_type:"text",display_type:"text",name:"tracking_number",human_name:this.$t("models.attributes.core_waybills.tracking_number")},{input_type:"text",display_type:"text",name:"sender_name",human_name:this.$t("models.attributes.core_waybills.sender_name")},{input_type:"text",display_type:"text",name:"consignee_name",human_name:this.$t("models.attributes.core_waybills.consignee_name")},{input_type:"text",display_type:"text",name:"consignee_phone",human_name:this.$t("models.attributes.core_waybills.consignee_phone")},{input_type:"number",display_type:"text",name:"weight_in_kilo",human_name:this.$t("models.attributes.core_waybills.weight_in_kilo")},{input_type:"number",display_type:"text",name:"collection",human_name:this.$t("models.attributes.core_waybills.collection")},{input_type:null,display_type:"status",name:"latest_status",human_name:this.$t("models.attributes.core_waybills.latest_status")},{input_type:"checkbox",display_type:"boolean",name:"is_done",human_name:this.$t("ui.pages.core_waybills.done"),default_value:!1}],updater_columns:[{toggle:!1,header_text:this.$t("models.attributes.core_waybills.original_number"),attribute_name:"original_number",type:"text"},{toggle:!1,header_text:this.$t("models.attributes.core_waybills.tracking_number"),attribute_name:"tracking_number",type:"text"},{toggle:!1,header_text:this.$t("models.attributes.core_waybills.sender_name"),attribute_name:"sender_name",type:"text"},{toggle:!1,header_text:this.$t("models.attributes.core_waybills.sender_address"),attribute_name:"sender_address",type:"text"},{toggle:!1,header_text:this.$t("models.attributes.core_waybills.sender_phone"),attribute_name:"sender_phone",type:"text"},{toggle:!1,header_text:this.$t("models.attributes.core_waybills.consignee_name"),attribute_name:"consignee_name",type:"text"},{toggle:!1,header_text:this.$t("models.attributes.core_waybills.consignee_address"),attribute_name:"consignee_address",type:"text"},{toggle:!1,header_text:this.$t("models.attributes.core_waybills.consignee_phone"),attribute_name:"consignee_phone",type:"text"},{toggle:!1,header_text:this.$t("models.attributes.core_waybills.weight_in_kilo"),attribute_name:"weight_in_kilo",type:"number"},{toggle:!1,header_text:this.$t("models.attributes.core_waybills.collection"),attribute_name:"collection",type:"number"}]}},watch:{$route:function(e,t){e!=t&&this.init()}},created:function(){this.init()},mounted:function(){},computed:{material_grouped_core_waybills:function(){return _.groupBy(this.operation.core_waybills,"material.class_name")},dot_separated_numbers:function(){return _.map(this.material_grouped_core_waybills.Waybill,"number").toString()+","+_.map(this.material_grouped_core_waybills.Goods,"number").toString()},token:function(){return localStorage.getItem("authentication_token")},customers:function(){return this.$store.state.station.customers},node:function(){return this.$store.state.station.node},current_staff:function(){return this.$store.state.station.current_staff},done_core_waybills:function(){return _.filter(this.operation.core_waybills,function(e){return 1==e.is_done})},current_service_name:function(){return this.$store.state.station.current_node.service_name},show_receipts:function(){return["neuron","neuron_premium"].includes(this.current_service_name)}},methods:{init:function(){var e=FD(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,new Promise(function(e){t.is_initialized=!1,e()});case 4:return e.next=6,t.fetch_operation();case 6:return e.next=8,new Promise(function(e){t.operation.customer_identity&&(t.selected_customer=_.find(t.customers,function(e){return e.identity==t.operation.customer_identity})),e()});case 8:return e.next=10,new Promise(function(e){t.is_initialized=!0,e()});case 10:e.next=15;break;case 12:switch(e.prev=12,e.t0=e["catch"](1),e.t0){default:console.log("init error: "),console.log(e.t0)}case 15:return e.prev=15,e.finish(15);case 17:case"end":return e.stop()}},e,this,[[1,12,15,17]])}));function t(){return e.apply(this,arguments)}return t}(),fetch_operation:function(){var e=this;e.is_loading=!0;var t=new RestUrl(e.$store.state.station.routes.api_v1_station_operation).parse({operation_identity:e.$route.params.identity});return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"==t.data.status)e.operation=t.data.operation;else if("failure"==t.data.status)return Promise.reject(t.data)})["catch"](function(t){if(t.response){switch(t.response.status){default:e.errors.push(t.response.status+" "+t.response.statusText)}e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.operations"),reason:": "+t.response.status+" "+t.response.statusText}))}else t.errors?(e.errors.push(t.errors),e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.operations"),reason:": "+t.errors}))):(e.errors.push(e.$t("ui.general.server_offline")),e.$noty.error(e.$t("ui.general.server_offline")))})["finally"](function(){e.is_loading=!1})},update_operation:function(){var e=this;e.is_loading=!0;var t=new RestUrl(e.$store.state.station.routes.api_v1_station_operation_update).parse({operation_identity:e.$route.params.identity}),i=e.operation;delete i["identity"],delete i["number"],delete i["created_at"],delete i["file_name"],delete i["file_url"],delete i["customer_note"],delete i["instantiate_note"],delete i["is_instantiated"],delete i["is_operable"],delete i["is_operated"],delete i["is_ready"],delete i["core_waybills"],delete i["customer_node"],delete i["station"],delete i["staffs"],delete i["operation_identity"],axios.post(t,i,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.init(),e.$noty.success(e.$t("ui.notifications.success.create__name",{name:e.$t("models.operations")}))):(e.$noty.error(e.$t("ui.notifications.error.update__name",{name:e.$t("models.operations"),reason:": "+t.data.errors})),e.errors=t.data.errors)})["catch"](function(t){console.log(t),t.response?e.$noty.error(e.$t("ui.general.network_abnormality")+": "+t.response.status+t.response.data):e.$noty.error(e.$t("ui.general.network_abnormality")+": "+e.$t("ui.general.server_offline"))})["finally"](function(){e.is_loading=!1})},delete_operation:function(){var e=this;if(confirm(e.$t("ui.pages.operations.delete_help")+"\n"+e.$t("ui.notifications.warning.are_you_sure_to_delete_it"))){e.is_loading=!0;var t=new RestUrl(e.$store.state.station.routes.api_v1_station_operation_delete).parse({operation_identity:e.$route.params.identity});axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return Promise.reject(t.data);e.$router.push({name:"provider_operations"}),e.$noty.success(e.$t("ui.notifications.success.delete__name",{name:e.$t("models.operations")}))})["catch"](function(t){if(t.response){switch(t.response.status){default:e.errors.push(t.response.status+" "+t.response.statusText)}e.$noty.error(e.$t("ui.notifications.error.delete__name",{name:e.$t("models.operations"),reason:": "+t.response.status+" "+t.response.statusText}))}else t.errors?(e.$noty.error(e.$t("ui.notifications.error.delete__name",{name:e.$t("models.operations"),reason:": "+response.data.errors})),e.errors=response.data.errors):(e.errors.push(e.$t("ui.general.server_offline")),e.$noty.error(e.$t("ui.general.server_offline")));return Promise.reject(t)})["finally"](function(){setTimeout(function(){e.is_loading=!1},300)})}}},components:{CoreWaybillsLabelSvg:jo,OrderSummary:ko,Comments:iC,Receipts:fo["a"],CoreWaybills:bP,ErrorMessages:wc}},HD=GD,YD=Object(lt["a"])(HD,BD,MD,!1,null,"38f779ce",null),KD=YD.exports,WD=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"new_operation"}},[e.is_initialized?i("div",[i("table",{staticClass:"ui fixed table blue"},[i("thead",[i("tr",[i("th",{staticClass:"right aligned"},[i("h3",{staticClass:"ui header"},[e._v("\n                            "+e._s(e.$t("ui.page_titles.new_station_operation"))+"\n                        ")])]),i("th",{attrs:{colspan:"4"}}),i("th")])]),i("tbody",{staticClass:"ui form"},[i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.operations.customer"))+"\n                    ")]),i("td",{staticStyle:{overflow:"visible"},attrs:{colspan:"5"}},[i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],ref:"customer_identity",staticClass:"ui selection dropdown"},[i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"default text"},[e._v(e._s(e.$t("ui.general.please_select")))]),i("div",{staticClass:"menu"},e._l(e.customers,function(t){return i("div",{staticClass:"item",on:{click:function(i){e.selected_customer=t,e.operation.customer_identity=t.identity,e.operation.contract_identity=t.contracts[0].identity}}},[e._v("\n                                        "+e._s(t.company_name)+"\n                                ")])}))]),e.selected_customer?i("div",{staticStyle:{display:"inline-block"}},[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.operation.contract_identity,expression:"operation.contract_identity"}],on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.operation,"contract_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.selected_customer.contracts,function(t){return i("option",{attrs:{contract:t},domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2)]):e._e(),i("button",{staticClass:"ui basic icon button",on:{click:function(t){e.selected_customer=null,e.operation.customer_identity=null,e.operation.contract_identity=null,e.$(e.$refs.customer_identity).dropdown("clear")}}},[i("i",{staticClass:"remove icon"})])])]),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.operations.station"))+"\n                    ")]),i("td",{staticStyle:{overflow:"visible"},attrs:{colspan:"5"}},[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.operation.station_identity,expression:"operation.station_identity"}],ref:"station_identity",staticClass:"ui dropdown",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.operation,"station_identity",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v("\n                                "+e._s(e.$t("ui.general.please_select"))+"\n                            ")]),e._l(e.$store.state.station.stations,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2),i("button",{staticClass:"ui basic icon button",on:{click:function(t){e.operation.station_identity=null,e.$(e.$refs.station_identity).dropdown("clear")}}},[i("i",{staticClass:"remove icon"})])])]),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.operations.staffs"))+"\n                    ")]),i("td",{staticStyle:{overflow:"visible"},attrs:{colspan:"5"}},[i("select",{directives:[{name:"dropdown",rawName:"v-dropdown"},{name:"model",rawName:"v-model",value:e.operation.staff_identities,expression:"operation.staff_identities"}],ref:"staff_identities",staticClass:"ui dropdown",attrs:{multiple:""},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.operation,"staff_identities",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v(e._s(e.$t("ui.general.please_select")))]),e._l(e.$store.state.station.operations_module.staffs,function(t){return i("option",{domProps:{value:t.identity}},[e._v(e._s(t.name))])})],2),i("button",{staticClass:"ui basic icon button",staticStyle:{"vertical-align":"bottom"},on:{click:function(t){e.operation.staff_identities=null,e.$(e.$refs.staff_identities).dropdown("clear")}}},[i("i",{staticClass:"remove icon"})])])]),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("models.attributes.operations.your_note"))+"\n                    ")]),i("td",{staticStyle:{overflow:"visible"},attrs:{colspan:"5"}},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.operation.provider_note,expression:"operation.provider_note"}],attrs:{type:"text",placeholder:e.$t("models.attributes.operations.provider_note")},domProps:{value:e.operation.provider_note},on:{input:function(t){t.target.composing||e.$set(e.operation,"provider_note",t.target.value)}}})])]),i("tr",[i("td",{staticClass:"right aligned"},[e._v("\n                        "+e._s(e.$t("ui.general.operate"))+"\n                    ")]),i("td",{staticStyle:{overflow:"visible"},attrs:{colspan:"5"}},[i("button",{staticClass:"ui basic positive button",on:{click:function(t){return t.preventDefault(),e.create(t)}}},[e._v("\n                            "+e._s(e.$t("ui.general.create"))+"\n                        ")])])])])])]):e._e()])},VD=[];function XD(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function QD(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){XD(r,n,a,s,o,"next",e)}function o(e){XD(r,n,a,s,o,"throw",e)}s(void 0)})}}var ZD={name:"NewOperation",props:{},data:function(){return{is_initialized:!1,is_processing:!1,operation:{},selected_customer:null,errors:[]}},created:function(){this.init()},mounted:function(){},watch:{$route:function(e,t){"new_operation"==e.name&&this.init()},language:function(e){this.operation.provider_note=this.$t("ui.pages.operations.provider_note_value")}},computed:{language:function(){return this.$store.state.language},customers:function(){return this.$store.state.station.customers}},methods:{init:function(){var e=QD(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_initialized=!1,t.is_processing=!1,t.operation={provider_note:t.$t("ui.pages.operations.provider_note_value"),staff_identities:[],customer_identity:null,contract_identity:null},t.selected_customer=null,t.errors=[],e()});case 3:return e.next=5,new Promise(function(e){t.is_initialized=!0,e()});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),create:function(){var e=this;if(null==e.operation.customer_identity||e.operation.customer_identity&&e.operation.contract_identity){e.is_processing=!0,e.errors=[];var t=e.operation,i=new RestUrl(e.$store.state.station.routes.api_v1_station_operations_create).parse({},"");return axios.post(i,t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){"success"==t.data.status?(e.is_processing=!1,e.$noty.success(e.$t("ui.notifications.success.create__name",{name:e.$t("models.operations")})),e.$router.push({name:"edit_station_operation",params:{identity:t.data.operation.identity}})):(e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.operations")})),e.is_processing=!1)})["catch"](function(t){e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.operations")})),e.is_processing=!1})}e.$noty.error(e.$t("ui.pages.operations.helps.please_confirm_sender_and_contract_are_selected"))}},components:{}},JD=ZD,eB=Object(lt["a"])(JD,WD,VD,!1,null,"2aeb5ff5",null),tB=eB.exports,iB="station_operations",nB="new_station_operation",aB="edit_station_operation",rB=[{path:"",component:DD,name:"station_operations",meta:{breadcrumb:[iB],btns:[nB]}},{path:"new",component:tB,name:"new_station_operation",meta:{breadcrumb:[iB,nB]}},{path:"edit/:identity",component:KD,name:"edit_station_operation",meta:{breadcrumb:[iB,aB]}}],sB=rB;r["default"].use(rt["a"]);var oB=[{path:"partitions",component:Gj,children:YR},{path:"uploader",component:WO,children:wL},{path:"staffs",component:eI,children:HI},{path:"core_waybills",component:iL,children:pD},{path:"operations",component:lL,children:sB},{path:"customers",component:JI,children:BO},{path:"routes",component:Qo,name:"routes"},{path:"permission_denied",component:ov,name:"permission_denied"},{path:"demo",component:Tj,name:"station_demo"},{path:":station_code?",component:Pj,name:"station_index"}],cB=oB;r["default"].use(rt["a"]);var _B=new rt["a"]({mode:"history",routes:[{path:"/admin",component:Gt,children:pa},{path:"/provider",component:Xt,children:QE},{path:"/customer",component:an,children:yj},{path:"/station",component:ln,children:cB},{path:"*",component:dt,name:"page_404"}]}),lB=_B,uB=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[e.license_key&&e.current_scope||"electron"!=e.build_env?i("div",[i("router-view",{staticClass:"app-container"}),i("ImagePrinter"),i("DocumentPrinter",{attrs:{width:e.document_printer_options.width,documents:e.document_printer_options.documents,paper_type:e.document_printer_options.paper_type,numbers_of_one_page:e.document_printer_options.numbers_of_one_page}})],1):i("div",[e.current_scope?i("div",[i("h1",{staticClass:"setup_header"},[e._v("請輸入您的LMS授權碼：")]),i("div",{staticClass:"license_key_container"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.new_license_key,expression:"new_license_key"}],staticClass:"license_key_input",attrs:{type:"text"},domProps:{value:e.new_license_key},on:{input:function(t){t.target.composing||(e.new_license_key=t.target.value)}}}),i("a",{staticClass:"license_key_submit",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.set_license_key()}}},[e._v("送出")])])]):i("div",[i("h1",{staticClass:"setup_header"},[e._v("請選擇介面：")]),i("div",{staticClass:"scope_selector"},[i("a",{staticClass:"scope_selection",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.set_current_scope("station")}}},[e._v("外站")]),i("a",{staticClass:"scope_selection",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.set_current_scope("customer")}}},[e._v("客戶")]),i("a",{staticClass:"scope_selection",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.set_current_scope("provider")}}},[e._v("系統")])])])])])},dB=[],pB=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"print",style:{width:e.paper_width+"mm",overflowX:"hidden"},attrs:{id:"image-printer"}},e._l(e.current_job.images,function(t,n){return i("div",{staticClass:"left-floated"},[i("img",{attrs:{src:t.src,alt:t.name},on:{error:function(t){e.image_loaded(n)},load:function(t){e.image_loaded(n)}}}),(n+1)%e.current_job.numbers_of_one_page==0?i("div",{staticStyle:{float:"none","page-break-before":"always",clear:"both","break-after":"always","page-break-after":"always",padding:"0",margin:"0"}}):e._e()])}))},mB=[];function fB(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function vB(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){fB(r,n,a,s,o,"next",e)}function o(e){fB(r,n,a,s,o,"throw",e)}s(void 0)})}}var hB={name:"ImagePrinter",props:{},data:function(){return{job_template:{note:"Print Job",images:[],numbers_of_one_page:1,paper_type:"A4",width:210,is_image_loaded:!1,status:"Pending"},jobs:[],current_job:{},perform_interval:null,is_printing:!1}},mounted:function(){var e=this;this.$bus.$off("add_image_print_job"),this.$bus.$on("add_image_print_job",function(t){var i=_.cloneDeep(e.job_template);Object.assign(i,t),console.log("job_template"),console.log(i),e.jobs.push(i),e.perform()}),this.start_perform_interval()},beforeDestroy:function(){clearInterval(this.perform_interval),this.perform_interval=null},watch:{current_job:function(e){e&&this.handle_print()}},computed:{paper_width:function(){switch(this.current_job.paper_type){case"60x20":e=60;break;case"100x100":e=100;break;case"A4":e=210;break;case"A5":e=210;break;default:var e=this.current_job.paper_type}return e}},methods:{start_perform_interval:function(){var e=this;this.perform_interval=setInterval(function(){e.perform()},1e3)},url_with_timestamp:function(e){var t=new RestUrl(e);return t.update_query_string("v",Math.floor(Date.now()))},perform:function(){var e=vB(regeneratorRuntime.mark(function e(){var t,i,n,a,r,s,o=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=!0,i=!1,n=void 0,e.prev=3,a=regeneratorRuntime.mark(function e(){var t,i,n,a,r,c,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=s.value,!_.isEmpty(o.current_job)){e.next=29;break}i=!0,n=!1,a=void 0,e.prev=5,r=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=l.value,e.next=3,new Promise(function(e){var i=new Image;i.onload=function(){e()},i.src=t.src});case 3:case"end":return e.stop()}},e)}),c=t.images[Symbol.iterator]();case 8:if(i=(l=c.next()).done){e.next=13;break}return e.delegateYield(r(),"t0",10);case 10:i=!0,e.next=8;break;case 13:e.next=19;break;case 15:e.prev=15,e.t1=e["catch"](5),n=!0,a=e.t1;case 19:e.prev=19,e.prev=20,i||null==c["return"]||c["return"]();case 22:if(e.prev=22,!n){e.next=25;break}throw a;case 25:return e.finish(22);case 26:return e.finish(19);case 27:return e.next=29,new Promise(function(e){o.current_job=t,o.current_job.status="Processing",0==o.current_job.images.length&&(o.current_job.is_image_loaded=!0),e()});case 29:case"end":return e.stop()}},e,null,[[5,15,19,27],[20,,22,26]])}),r=_.filter(this.jobs,function(e){return"Pending"==e.status})[Symbol.iterator]();case 6:if(t=(s=r.next()).done){e.next=11;break}return e.delegateYield(a(),"t0",8);case 8:t=!0,e.next=6;break;case 11:e.next=17;break;case 13:e.prev=13,e.t1=e["catch"](3),i=!0,n=e.t1;case 17:e.prev=17,e.prev=18,t||null==r["return"]||r["return"]();case 20:if(e.prev=20,!i){e.next=23;break}throw n;case 23:return e.finish(20);case 24:return e.finish(17);case 25:case"end":return e.stop()}},e,this,[[3,13,17,25],[18,,20,24]])}));function t(){return e.apply(this,arguments)}return t}(),image_loaded:function(e){var t=this;_.isEmpty(this.current_job)||(this.current_job.images[e].is_loaded=!0,this.current_job.is_image_loaded=_.filter(this.current_job.images,function(e){return e.is_loaded}).length==this.current_job.images.length,this.$nextTick(function(){t.handle_print()}))},handle_print:function(){var e=this;if(this.current_job.is_image_loaded)if(console.log(this.current_job),console.log("print"),this.current_job.status="Printing","electron"==ENV.VUE_APP_BUILD_ENV){var t=BrowserWindow.getFocusedWindow().webContents;this.is_printing||(this.is_printing=!0,t.print({silent:!0},function(){console.log("finish"),e.finish()}))}else this.is_printing||(this.is_printing=!0,window.print()),this.finish()},finish:function(){this.current_job.status="Done",this.current_job={},this.is_printing=!1,this.$bus.$emit("print_done_signal"),this.perform()}},components:{}},gB=hB,bB=(n("86e1"),Object(lt["a"])(gB,pB,mB,!1,null,"23f70c78",null)),yB=bB.exports,wB=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.print_trigger?i("div",{staticClass:"print",style:{width:e.paper_width+"mm",overflowX:"hidden"},attrs:{id:"document-printer"}},e._l(e.documents,function(t,n){return i("div",{staticClass:"left-floated"},[i("span",{domProps:{innerHTML:e._s(t.html)}}),(n+1)%e.numbers_of_one_page==0?i("div",{staticStyle:{clear:"both","break-after":"always","page-break-after":"always",padding:"0",margin:"0"}}):e._e()])})):e._e()},$B=[],kB={name:"DocumentPrinter",props:{width:{default:210,type:Number},paper_type:{default:"A4",type:String},numbers_of_one_page:{default:1,type:Number},documents:Array},data:function(){return{print_trigger:!1}},mounted:function(){var e=this;this.$bus.$off("print_document"),this.$bus.$on("print_document",function(){this.print_trigger=!1,this.print_trigger=!0}.bind(this)),this.$bus.$on("cancel_print_document",function(){this.print_trigger=!1}.bind(this)),this.$nextTick(function(){e.handle_print()})},watch:{print_trigger:function(){var e=this;this.$nextTick(function(){e.handle_print()})}},computed:{paper_width:function(){switch(this.paper_type){case"100x100":e=100;break;case"A4":e=210;break;case"A5":e=210;break;default:var e=this.paper_type}return e}},methods:{handle_print:function(){if(this.print_trigger)if(this.print_trigger=!1,"electron"==ENV.VUE_APP_BUILD_ENV){var e=BrowserWindow.getFocusedWindow().webContents;e.print({silent:!0})}else window.print()}},components:{}},CB=kB,xB=(n("d556"),Object(lt["a"])(CB,wB,$B,!1,null,"f0c93e42",null)),PB=xB.exports,SB={data:function(){return{image_printer_options:{width:210,images:[],paper_type:"A4",numbers_of_one_page:6},document_printer_options:{width:210,documents:[],paper_type:"A4",numbers_of_one_page:6},license_key_websock_server:null,current_scope_websock_server:null,new_license_key:"",license_key:window.LICENSE_KEY,current_scope:window.CURRENT_SCOPE}},computed:{build_env:function(){return ENV.VUE_APP_BUILD_ENV}},mounted:function(){var e=this;"electron"==this.build_env&&(this.current_scope_websock_server=new WebSocket("ws://127.0.0.1:8899/current_scope"),this.current_scope_websock_server.onmessage=function(t){return e.current_scope=t,!1},this.current_scope_websock_server.onclose=function(){console.log("WebSocket on current_scope disconnect")},this.current_scope_websock_server.onopen=function(){console.log("WebSocket on current_scope opened")},this.current_scope_websock_server.onerror=function(e){console.log("WebSocket on current_scope error")},this.license_key_websock_server=new WebSocket("ws://127.0.0.1:8899/license_key"),this.license_key_websock_server.onmessage=function(t){return e.license_key=t,!1},this.license_key_websock_server.onclose=function(){console.log("WebSocket on license_key disconnect")},this.license_key_websock_server.onopen=function(){console.log("WebSocket on license_key opened")},this.license_key_websock_server.onerror=function(e){console.log("WebSocket on license_key error")}),this.$bus.$off("out_of_date"),this.$bus.$on("out_of_date",function(t,i){axios.get(e.$store.state.settings.out_of_date_url+"?exclude_instance="+t+"&scope="+i)})},watch:{},methods:{set_current_scope:function(e){e&&this.current_scope_websock_server.send(e)},set_license_key:function(){this.new_license_key&&this.license_key_websock_server.send(this.new_license_key)}},components:{ImagePrinter:yB,DocumentPrinter:PB}},NB=SB,AB=(n("6294"),Object(lt["a"])(NB,uB,dB,!1,null,null,null)),EB=AB.exports,qB=n("a925");r["default"].use(qB["a"]);var zB=new qB["a"]({locale:"zh-TW",messages:{"zh-TW":n("f76b"),"zh-CN":n("bced"),"en-US":n("d8b6"),"ja-JP":n("dc88"),"es-ES":n("0794"),"vi-VN":n("047f")}}),jB=zB,RB=n("0a63"),IB=n.n(RB),TB=n("b047"),OB=n.n(TB),LB=n("f5ee"),DB=n.n(LB),BB=n("5c96"),MB=n("4897"),UB=n.n(MB);n("e625"),n("c4ca"),n("0fae");function FB(e){return FB="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FB(e)}(function(e,t,i,n,a,r,s){e["GoogleAnalyticsObject"]=a,e[a]=e[a]||function(){(e[a].q=e[a].q||[]).push(arguments)},e[a].l=1*new Date,r=t.createElement(i),s=t.getElementsByTagName(i)[0],r.async=1,r.src=n,s.parentNode.insertBefore(r,s)})(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-79546588-10","auto"),ga("set","location",window.location.href),ga("send","pageview"),window.ENV=Object({NODE_ENV:"production",VUE_APP_BUILD_ENV:"development",VUE_APP_LMS_VERSION:"v0.0.5",VUE_APP_NEURON_VERSION:"v0.0.5",VUE_APP_CURRENT_NODE_IDENTITY:"dd157880b7-28036-39768292",BASE_URL:"/"}),window.axios=n("bc3a"),window.config=n("a078"),window.$=window.jQuery=n("1157"),n("dcca"),n("ac11"),window.Noty=n("7329"),window._=n("2ef0"),window.RestUrl=n("812b"),r["default"].config.productionTip=!0,r["default"].config.debug=!0,r["default"].config.devtools=!0,Object(a["sync"])(at,lB),r["default"].use(OB.a,j.a),r["default"].use(IB.a),r["default"].use(BB["DatePicker"]),UB.a.i18n(function(e,t){return jB.t("ui."+e,t)});var GB=new config;r["default"].prototype.$cable=DB.a.createConsumer(GB.action_cable_url+"/cable"),window.object_to_query=function(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=[],a="";for(var r in e)if(e.hasOwnProperty(r))if("object"===FB(e[r]))a=i?i+"["+r+"]":r,t=object_to_query(e[r],a),t&&n.push(t);else{var s=i?i+"["+encodeURIComponent(r)+"]=":encodeURIComponent(r)+"=";null!=e[r]&&""!==e[r]&&n.push(s+encodeURIComponent(e[r]))}return!!n.length&&n.join("&")},document.addEventListener("DOMContentLoaded",function(){Noty.overrideDefaults({layout:"bottomRight",theme:"semanticui",timeout:1500,closeWith:["click","button"],animation:{open:"noty_effects_open",close:"noty_effects_close"}}),r["default"].prototype.$noty=new Object,r["default"].prototype.$noty.success=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1500;new Noty({type:"success",text:e,timeout:t}).show()},r["default"].prototype.$noty.error=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1500;new Noty({type:"error",text:e,timeout:t}).show()},r["default"].prototype.$noty.warning=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1500;new Noty({type:"warning",text:e,timeout:t}).show()},r["default"].prototype.$noty.information=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1500;new Noty({type:"information",text:e,timeout:t}).show()},r["default"].prototype.human_datetime=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"lll",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"absolute",n=this.$store.state.language||"zh-tw";switch(e){case"today":return j()().locale(n).format(t);default:switch(i){case"absolute":return j()(e).locale(n).format(t);case"relative":return j()(e).locale(n).fromNow()}}},r["default"].prototype.$=jQuery,r["default"].prototype._=_,r["default"].directive("font",{inserted:function(e){setTimeout(function(){$(e).attr("style","font-size: 10px !important")},300)}}),r["default"].directive("dropdown",{inserted:function(e){e.className.includes("no_search")||$(e).addClass("search"),setTimeout(function(){$(e).dropdown()},300)}}),r["default"].directive("popup",{inserted:function(e){setTimeout(function(){$(e).popup()},300)}}),r["default"].directive("tab",{inserted:function(e){setTimeout(function(){$(e).tab()},300)}}),r["default"].directive("accordion",{inserted:function(e){setTimeout(function(){$(e).accordion()},300)}}),r["default"].directive("checkbox",{inserted:function(e){$(e).checkbox()}}),r["default"].directive("progress",{inserted:function(e){setTimeout(function(){$(e).progress({duration:200})},300)}});var e=new r["default"];Object.defineProperties(r["default"].prototype,{$bus:{get:function(){return e}}}),String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},String.prototype.ljust=function(e,t){return t=t||" ",t=t.substr(0,1),this.length<e?this+t.repeat(e-this.length):this},String.prototype.rjust=function(e,t){return t=t||" ",t=t.substr(0,1),this.length<e?t.repeat(e-this.length)+this:this},String.prototype.center=function(e,t){if(t=t||" ",t=t.substr(0,1),this.length<e){var i=e-this.length,n=i%2==0?"":t,a=t.repeat(parseInt(i/2));return a+this+a+n}return this},$(document).delegate(".identity","click",function(e){var t=$(this).data("tooltip");$(".copy_textarea").remove();var i=$("<textarea class='copy_textarea'>");i.text(t).appendTo("body").select();try{document.execCommand("copy");r["default"].prototype.$noty.information("代碼("+t+")複製成功"),i.remove()}catch(n){r["default"].prototype.$noty.error("代碼複製失敗")}}),document.getElementById("app-body").appendChild(document.createElement("app"));new r["default"]({el:"app",i18n:jB,store:at,router:lB,template:"<App/>",components:{App:EB},watch:{$route:function(e,t){ga("set","location",window.location.href),ga("send","pageview")}}})})},5716:function(e,t,i){},5750:function(e,t,i){"use strict";var n=i("0ba9"),a=i.n(n);a.a},5839:function(e,t,i){"use strict";var n=i("3bae"),a=i.n(n);a.a},5989:function(e,t,i){},"59c9":function(e,t,i){},"5a81":function(e,t,i){},"5a83":function(e,t,i){},"5a834":function(e,t,i){"use strict";var n=i("a7c0"),a=i.n(n);a.a},"5aee":function(e,t,i){},"5b42":function(e,t,i){"use strict";var n=i("8f86"),a=i.n(n);a.a},"5b44":function(e,t,i){"use strict";var n=i("6f48"),a=i.n(n);a.a},"5c53":function(e,t,i){},"5cb5":function(e,t,i){},"5d5a":function(e){e.exports={_comment:"這邊的客戶理論上只有串API而已，沒有使用UI",logo_img:"lms_logo.png",footer_imgs:["tw568_logo.png","lms_logo.png","by_express_logo.jpg","t_cat_logo.jpg","hct_logo.png"],scanner_theme:"dark01",menu:[{name:"status_prototypes",icon:"barcode large"},{name:"stations",icon:"inbox large"},{name:"provider_partitions",icon:"tasks large"},{name:"provider_customers",icon:"street view large"},{name:"provider_uploader",icon:"upload large"},{name:"assets",icon:"cubes large"},{name:"materials",icon:"cube large"},{name:"core_waybills",icon:"archive large"},{name:"provider_operations",icon:"file large"},{name:"users",icon:"user large",items:[{name:"permission_groups",icon:""},{name:"roles",icon:""},{name:"staffs",icon:""}]},{name:"user_logs",icon:"hourglass end large"}]}},"5dd4":function(e,t,i){"use strict";var n=i("b1cd"),a=i.n(n);a.a},"5e6a":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{color:"gray",float:"right"}},[e._v("\n    Neuron "+e._s(e.env)+" version "),i("span",{staticClass:"version"},[e._v(e._s(e.neuron_version))]),e._v(" - LMS "),i("span",{staticClass:"version"},[e._v(e._s(e.lms_version))])])},a=[],r={name:"SystemInfo",computed:{env:function(){return ENV.NODE_ENV.capitalize()},neuron_version:function(){return ENV.VUE_APP_NEURON_VERSION},lms_version:function(){return ENV.VUE_APP_LMS_VERSION}}},s=r,o=(i("8036"),i("2877")),c=Object(o["a"])(s,n,a,!1,null,"0de58692",null);t["a"]=c.exports},"5ed9":function(e,t,i){},"5f3a":function(e,t,i){},"5f74":function(e,t,i){"use strict";var n=i("5ed9"),a=i.n(n);a.a},"600e":function(e,t,i){"use strict";var n=i("f4e0"),a=i.n(n);a.a},"60a8":function(e){e.exports={name:"dark02",color:{background_img:"blur02.jpg",background_position:"0% 0%",background:"linear-gradient(134deg, rgba(0, 0, 0, 0.9)0%, rgba(142, 162, 232, 1)100%)",font:"white",warning:"white",show_setting_icon:"orange",setting_group_icon:"white"},computer:{background_position:"0% 50%"},mobile:{background_position:"0% 0%"}}},"60b7":function(e,t,i){"use strict";var n=i("3010"),a=i.n(n);a.a},"60bb":function(e){e.exports=[{_comment:"nucleus 預設檔案",name:"運單起始貨況",i18n_key:"ui.scanner.setting_groups.LA00",barcode:"LA00",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA01",is_scan_action:!0,is_hide:!0,color:"black",settings:[]},{name:"1.收貨",i18n_key:"ui.scanner.setting_groups.LA01",barcode:"LA01",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA01",is_scan_action:!0,is_hide:!1,color:"#3a8df5",settings:["is_batch_mode_false","is_package_mode_false","is_auto_print_label_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"2.進站",i18n_key:"ui.scanner.setting_groups.LA02",barcode:"LA02",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA02",is_scan_action:!0,is_hide:!1,color:"orange",settings:["is_batch_mode_false","is_package_mode_false","is_distributed_to_mode_true","is_unpackage_mode_false","is_scan_action_mode_true","is_auto_print_label_mode_false","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"包裝",i18n_key:"ui.scanner.setting_groups.package",barcode:"package",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"package",is_scan_action:!1,is_hide:!1,color:"green",settings:["is_batch_mode_false","is_auto_print_label_mode_false","is_scan_action_mode_false","is_distributed_to_mode_false","is_package_mode_true","is_unpackage_mode_false","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_min_card"]},{name:"3.派件中",i18n_key:"ui.scanner.setting_groups.LA03",barcode:"LA03",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA03",is_scan_action:!0,is_hide:!1,color:"#9559f4",settings:["is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_true","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"3.聯運",i18n_key:"ui.scanner.setting_groups.LA10",barcode:"LA10",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA10",is_scan_action:!0,is_hide:!1,color:"purple",settings:["is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"3.出站集貨中轉",i18n_key:"ui.scanner.setting_groups.LA09",barcode:"LA09",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA09",is_scan_action:!0,is_hide:!1,color:"violet",settings:["is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"4.回站",i18n_key:"ui.scanner.setting_groups.LA05",barcode:"LA05",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA05",is_scan_action:!0,is_hide:!1,color:"gray",settings:["is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"4.已配達",i18n_key:"ui.scanner.setting_groups.LA04",barcode:"LA04",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA04",is_scan_action:!0,is_hide:!1,color:"green",settings:["is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"4.異常件",i18n_key:"ui.scanner.setting_groups.LA06",barcode:"LA06",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA06",is_scan_action:!0,is_hide:!1,color:"red",settings:["is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"4.異常件排除",i18n_key:"ui.scanner.setting_groups.LA07",barcode:"LA07",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA07",is_scan_action:!0,is_hide:!1,color:"cornflowerblue",settings:["is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"寄件者退運",i18n_key:"ui.scanner.setting_groups.LA08",barcode:"LA08",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA08",is_scan_action:!0,is_hide:!0,color:"teal",settings:["is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"鎖定",i18n_key:"ui.scanner.setting_groups.LA11",barcode:"LA11",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA11",is_scan_action:!0,is_hide:!1,color:"darkred",settings:["is_batch_mode_false","is_auto_print_label_mode_false","is_scan_action_mode_true","is_distributed_to_mode_false","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"解除鎖定",i18n_key:"ui.scanner.setting_groups.LA12",barcode:"LA12",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA12",is_scan_action:!0,is_hide:!1,color:"cornflowerblue",settings:["is_batch_mode_false","is_auto_print_label_mode_false","is_scan_action_mode_true","is_distributed_to_mode_false","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"結案",i18n_key:"ui.scanner.setting_groups.LA13",barcode:"LA13",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA13",is_scan_action:!0,is_hide:!1,color:"#4bba45d9",settings:["is_batch_mode_false","is_scan_action_mode_false","is_package_mode_false","is_unpackage_mode_false","is_distributed_to_mode_false","pack_need_source_mode_false","is_update_corewaybill_mode_false","core_waybill_template_mode_card"]},{name:"拆包",i18n_key:"ui.scanner.setting_groups.unpackage",barcode:"unpackage",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"unpackage",is_scan_action:!1,is_hide:!1,color:"orangered",settings:["is_batch_mode_false","is_auto_print_label_mode_false","is_scan_action_mode_false","is_distributed_to_mode_false","is_package_mode_false","is_unpackage_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_min_card"]},{name:"分撥",i18n_key:"ui.scanner.setting_groups.distributed_to",barcode:"distributed_to",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA09",is_scan_action:!1,is_hide:!1,color:"darkcyan",settings:["is_batch_mode_false","is_auto_print_label_mode_false","is_scan_action_mode_false","is_package_mode_false","is_unpackage_mode_false","is_update_corewaybill_mode_false","is_distributed_to_mode_true","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"查詢運單",i18n_key:"ui.scanner.setting_groups.search",barcode:"search",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"search",is_scan_action:!1,is_hide:!1,color:"limegreen",settings:["is_batch_mode_false","is_scan_action_mode_false","is_package_mode_false","is_unpackage_mode_false","is_distributed_to_mode_false","pack_need_source_mode_false","is_update_corewaybill_mode_false","core_waybill_template_mode_card"]},{name:"袋包運, 裝袋作業",i18n_key:"ui.scanner.setting_groups.pack_house_waybill",barcode:"pack_house_waybill",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"package",is_scan_action:!1,is_hide:!0,color:"green",settings:["is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_true","is_unpackage_mode_false","is_scan_action_mode_false","is_update_corewaybill_mode_false","is_distributed_to_mode_false","core_waybill_template_mode_min_card","pack_need_source_mode_false","pack_p_m_mode_House","pack_m_mode_Waybill"]},{name:"運包子, 一票多件",i18n_key:"ui.scanner.setting_groups.pack_waybill_goods",barcode:"pack_waybill_goods",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"package",is_scan_action:!1,is_hide:!0,color:"limegreen",settings:["is_batch_mode_false","is_scan_action_mode_false","is_package_mode_true","is_unpackage_mode_false","is_distributed_to_mode_false","is_update_corewaybill_mode_false","pack_need_source_mode_true","pack_p_m_mode_Waybill","pack_m_mode_Goods"]}]},"60db":function(e,t,i){},"60e4":function(e,t,i){},"613c":function(e,t,i){"use strict";var n=i("5cb5"),a=i.n(n);a.a},6192:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui container",attrs:{id:"login"}},[i("div",{staticClass:"mobile hidden"},[i("h1",{staticClass:"ui center aligned header"},[e._v("\n            "+e._s(e.$t("ui.pages.login.provider_management_login"))+"\n        ")]),i("div",{staticClass:"ui divider"})]),i("div",{staticClass:"ui middle aligned center aligned doubling two column grid"},[e._m(0),i("div",{staticClass:"column"},[i("h1",{staticClass:"ui center aligned header mobile only"},[e._v("\n                "+e._s(e.$t("ui.pages.login.provider_management_login"))+"\n            ")]),i("h3",{staticClass:"noty"},[e._v("\n                "+e._s(e.$t("ui.pages.login.please_enter_your_account_and_password"))+"\n\n                "),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui dropdown item",staticStyle:{position:"absolute",right:"0"}},[e._v("\n                    "+e._s(e.$t("ui.links.top_menu.language"))+"\n                    "),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},[i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("zh-TW")}}},[e._v("繁體中文")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("zh-CN")}}},[e._v("简体中文")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("en-US")}}},[e._v("English")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("ja-JP")}}},[e._v("日本語")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("es-ES")}}},[e._v("Español")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("vi-VN")}}},[e._v("Tiếng Việt")])])])]),i("NotificationBox",{attrs:{notification:e.notification}}),i("ErrorBox",{attrs:{errors:e.errors}}),i("div",{staticClass:"ui large form",on:{submit:function(e){e.preventDefault()}}},[i("div",{staticClass:"ui stacked segment"},[i("div",{staticClass:"field"},[i("div",{staticClass:"ui left icon input"},[i("i",{staticClass:"user icon"}),i("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{type:"text",name:"username",placeholder:e.$t("ui.pages.login.account"),required:""},domProps:{value:e.username},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.focus_input("password")},input:function(t){t.target.composing||(e.username=t.target.value)}}})])]),i("div",{staticClass:"field"},[i("div",{staticClass:"ui left icon input"},[i("i",{staticClass:"lock icon"}),i("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],ref:"password",attrs:{type:"password",name:"password",placeholder:e.$t("ui.pages.login.password"),required:""},domProps:{value:e.password},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.focus_input("captcha")},input:function(t){t.target.composing||(e.password=t.target.value)}}})])]),e.need_captcha?i("div",{staticClass:"field"},[e.captcha_image_base64?i("img",{staticClass:"captcha",attrs:{src:"data:image/jpg;base64,"+e.captcha_image_base64,alt:"captcha"},on:{click:e.render_captcha}}):e._e(),i("input",{directives:[{name:"model",rawName:"v-model",value:e.captcha_user_answer,expression:"captcha_user_answer"}],ref:"captcha",attrs:{type:"text",placeholder:e.$t("ui.pages.login.verification_code"),required:""},domProps:{value:e.captcha_user_answer},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.submit(t):null},input:function(t){t.target.composing||(e.captcha_user_answer=t.target.value)}}})]):e._e(),i("div",{staticClass:"ui divider"}),e.is_development?i("button",{staticClass:"ui large basic red button",staticStyle:{width:"48%"},on:{click:e.auto_input}},[e._v("\n                        "+e._s(e.$t("ui.pages.login.btns.auto_input_test_account"))+"\n                    ")]):e._e(),i("button",{staticClass:"ui large teal submit button",class:{loading:e.is_logging},staticStyle:{width:"48%"},attrs:{type:"submit"},on:{click:function(t){e.submit()}}},[e._v("\n                        "+e._s(e.$t("ui.pages.login.btns.login"))+"\n                    ")])])])],1)])])},a=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"column"},[i("h2",{staticClass:"ui teal header"},[i("div",{staticClass:"content"},[i("img",{staticClass:"ui image",attrs:{src:"/images/lms_logo.png"}})])])])}],r=i("bab4"),s=i("bc4d");function o(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function c(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){o(r,n,a,s,c,"next",e)}function c(e){o(r,n,a,s,c,"throw",e)}s(void 0)})}}var l={props:{},data:function(){return{is_development:"development"==ENV.NODE_ENV,is_initialized:!1,is_processing:!1,password:null,username:null,encrypted_answer:null,captcha_user_answer:null,captcha_image_base64:null,notification:{},errors:[],need_captcha:"true"==localStorage.getItem("need_captcha"),is_logging:!1}},computed:{login_url:function(){return"electron"==ENV.VUE_APP_BUILD_ENV?new RestUrl(this.$store.state.settings.login_url).parse({node_identity:window.LICENSE_KEY},"?captcha="+this.need_captcha):"development"==ENV.NODE_ENV?new RestUrl(this.$store.state.settings.login_url).parse({node_identity:ENV.VUE_APP_CURRENT_NODE_IDENTITY},"?captcha="+this.need_captcha):new RestUrl(this.$store.state.settings.login_url).parse({node_identity:""},"?captcha="+this.need_captcha)},captcha_url:function(){return this.$store.state.settings.captcha_url}},created:function(){this.init()},mounted:function(){},watch:{},methods:{init:function(){var e=c(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!this.need_captcha){e.next=7;break}return this.captcha_image_base64="iVBORw0KGgoAAAANSUhEUgAAATYAAABQCAYAAACTZllaAAAXyklEQVR4Xu2db2wU6X3HvzM7axjDGq99NbnYjqlDXVAKGDbh4ia9I8YoL0LbUypTNa0CTSUD6ZsLamVLlxenKifhtLrjTXKcX1Tm1KtUrCaXyjn1gqHQRPGFnMEcTTg5Ph8ONglw9hL/W5ud3emLmd/Ds7Oz86z/suz9PhLCO/PMv2ee5/v8/jwzowGw4RIOh6FpGnRdx/z8PEzTxPz8PAKxsSw0LRy8PnAtkEZSUYJhmGLFtm3ouo5IJALLsjA7O4uSkhJoAOxIJIJUKoWFhQWkUikYhgHLslT7BABoSulREVIVCMRGfufJMEzxsWHDBszOzmYtNzRNQzqdxtzcnFioaRqqqqpg2zbu3buXtdFiUBt0wSWWL5wMwxQriUQCuq5D13WUlpYCAKamphyLjQpVVFRgdnYWCwsLQfvyECw8KlmyoQeuV2+fUpRgGKaYKSkpgWEYmcbZxo0b7UQikeGCVlVVYWZmBpZl4cGDB4E7VaHpwdJkp9XStbz1DMMUK0888QQ+/PBD8ds0TSQSCRgzMzMAgFAoBMuysHnzZvT396O2thaGYSCdTgfsVm1S6VqwRaaSpXRK4apqqj0wDFOsjI2NYf/+/bh9+zbm5uagaRpCoZDjioZCIZimiZmZGRiGgWQyiWTSyTYahgFNU1lVDMMwjwZZn0zTxMLCAnTTNJFKpUCWG2VD5+bmxPQPhmGYQiYajQJuMiEcDkPTdd1Op9PQNA2UIbVtG/IyhmGYQkXTNBiGgVQqJea1BQfAGIZhHkNY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKToMVYHlcj9hofvnv0H35du4dntGVZxZQ3Z9fCOO7P04jnzmSZSbq94UGGbNWNUXTQ6OT+PZf30Xo3HFR5eZR0pddD3e+NpONFZHVEUZpuBY0xdNDo5PY993rrCoPQaMxuex7ztXMDg+rSrKMI8FqyJs9xMWnv3Xd/G7ef5K++PC7+ade3Y/wfeMefxZFWHr/vlvHqml1tJQgZaGCtRXmqqiOaF9RNc49hSriaC9uQ5wz6G9uQ7nju1GrMZxE5dzTSpG4/Po/vlvVMUYpuBZlV7bffm2qoiS9uY6nDy4VVUMABBPWKh4/pL4fe7YbgBAR+8wOi+MBmzp0NJQIYSDoGN39Y9jZCIhlscTFgZuTeGdE3uz9gMAn37pMgbGcrt0LQ0V4m9ZrOorzYx1fUOTiNVExHlES8OImgbOHt4BADh05nrGea0U3Zdv47mna1XFGKagWRVhW+vs53KtKllAvLQ1VWf87hua9C1HREvDgevbm+syBCwXrY2bEZ9LZiw7eXCrEMN3TuzF0bM30HPtbo49LI21vncMsxosTxHWiI7eYUCyovqGJtE3NCncxeUyMDYtjkEEWWyykJKlOPniM2IZWYwHTl/FYugbmsTA2DRGJhLoG5pE666qjPVd/eOI1ZYhVhMR1lu+VinDfJR4LITNG1caGJtG+/4tSlfs5MGtWZbYgdNXs6yuvqFJIUZevBbboTPXxbKBsWnEPcH2WE0kUGx7rt1F39AkRiYSiCesDCvMK4SySxuriaDzwigOvHIFJw9uFedQX2kiahpZ58EwH2UeC2GLloYzrJfWXVWImsayXVA/yELzWmz0u62pWghRz+CdrO1VccGu/vGM3153U0U8YeFoz3sYGJtGW1M1OnqHC1bUyAKl+vKLPY5MJMQANXBrCmcP71Ba4V3944gnrKxBZGBsWtRnPGGJfUdNI+O+UJw0CIp7LhbZqlaFLeC2bW98V64TL/L1xhMWDp25rgxvePcnH9Nr7cdqIqivNNHVP56zLcv1LLarLXMGa0V79rve1WDllWEV6Bm8g/pKM6ODjEwkHMvNzSD6QS6rjMrK81po3t9d/eOIlobRNzSZ0Sg6L4yivblO2Wm8DVCOyXnXyQ3Am1wYmUigo3cYsdqyh9f4b0eBhRngs18FPvVFLJXu7m688MILKC8vx+DgoKp4TvxcfBW57g+JGaTBpqWhQohlS0MFPv3SZd9tAaB9/xYxEA7cmlKGCU4e3JpTmNqaqrPCBHCv92jPe4AbmlAdg7Bf2p/xu+fa3Zz1RmVHJhI4dOY6BsamhceRS9y8+2tpqMhIsMlETQP1lSYGxqYRLQ379q+O3uGsujl3bDc6L4wqxVw+9mryWAhbfaWJnsE7oqNHTUPE2ILwik8+qCy2eMJCR+8wzh3b7XvTo6YR2KGDbmrQuram6iyRJbQT550/1m0A7r0P/Oifgbdf8xe4qd8CU3eAss1A2ccy1/3iLeDt1/C3U44lumXLFiwHv84PT8xU3FPFSE4uvIw8cMl1R+0iahqI1ZYt2bIP6qTeayPrCe51ycfMdV9Vwkf3m6ynWE0E8YSFrv5xdJ6/iXjCQltTNbr6x3Hg9FW0NVWjvbkuy9L0Jsfo3EYmEuLcSJTiCUt4AzQAnD28I+N6WndVCSuwrak6y7qlZfIAJN+TtWBtjrJMvCbxSiUN/FBZbPnQ1lQtGt6a0vqSECdM3XkocH/2T0DZZlT1/SPuDv3qYfmanc66e+8Db33b2QZAXV0dXnjhBRw5ciT3sRT4xTK9BFlzXiumpaEC8bkkRiYSaN/vCO7ArSnRCalj5WMRtDRU4OTBrejoHcbJg1vFANU3NIkDp6+K+YNeoe25dhdd/eO+Md+jZ2+Iju4d8BY7uBJy/fUM3nFc+1tTol2R5VhfaaKjdxhd/ePo6h9H664qMS0Ikmh59903NInWxs2orzTRNzSJqGmgpaEiIw5MiSoZCoEAwKut2+Bl4NZUhltKyTAEDHYrTcEKWzxhZd0MErOgGMRSaGmoyDsrStYiZUf7hiZx6Mz1jIB+kKh5jyN3Sr+Orlqfxae+6PyTBe7Kf6Im/FuMDf0KZZEwdm4vx7s37mNq7F3g4ncd95WsuM9+FTff+rbqKGtOe3OdqFfqzEd73hMxtKXEw+DpdHIMcGQiIcIO1HmpXJawSQJ78uDWjLjiShKriSA+l0SstgwDt6aEkBHtzXXouXY3r0GfrCzaPmoaOHd8D+orTRHmAYBzx/dkbTviJr5yXaM3lir313zObSUoWGHzCgqkSukbmsyYvzVwa0o0dr/yMn6jp8oF9KKdOI+O3mG82roNLQ0VeP+bnxOjWlf/eOAI7V3XIj0h4bddrLYsa/3Jg1vRM3gnswEtzDhW14I0D61sM7BuI/CxbRi78CMAwC8u/ik2lYXx6/FZ/NG+XmDsmmPpJaYAXQd++Rb27XNiVeXl5eju7kZ5eTkWy7lju9HVP+47z44EIlYTyZr3p5pT2HlhFD3X7jqd2E3etDZuFmVyxc9y3WOvOBDR0rA4dxI2qm9vO2tt3Ix4wnLE98IoOs/fzLiGXHFglUVL7berfxytjZuFpUnLvINn664q37rzSy54kxvR0rAYOOX9Hj17A68e2p5htdF28YQl2qQscuQ2d/QOC8EnS22pA9BiKVhhQ0Bj9MabKA7gxc9l9RMPcklolIaPxUb7IlO/vtIUVpt808l8D3r6QEVbUzV6Bu+IRAQ1Cmo87c11ohMJK27sGvD+T/13eP2H4s9NZY6QfKJ6g7Ng6g5wbxi4/X+izKUxt+ymTbh58yYaGxuxFPysbpnF1JGII7r3S7ZeK56/JNqK6phe5PhQfC4pzomsQLJeYjURkRTyWipR00B7cx26+sfR0TssYnuEKpaWC1lwO3qHRRuUr51cakgWvTeR4BfzbWuqxsDYNFoaKoTb6TUkYjURYQHK/Y3qiBJY8ISLvMeSBw/Z9V9NClrY1gp5JPaOeF6LbWQigfpKM+PmyIkMefuK5y8tKs528uBWIZpR00DnhdGMzu+XGRV88nPAN/q8u3zIyy2513m29ca3lot3gKGGL7vZ8qCyHCjGRqIflC2Eew7eGBsRq4lkuKrxhJUVKCe6+sdFRrR9/xbEaiLKWB8UT6p4kwckQnDPTW4bUdNAtDTsG6Lxs4Kp7r1TZmRI2OU+EE9YGdOcKHkhE5Q8WA0X3Y+CFjZ5lIbU4bzBUPlm+o1OrbuqApMAsvsiN3IZytpFS8MZc3VI6CjtTsLk5yoQsZqIyNbJI7sslu37t6Crfzxj6gi5I3Ab2EoIwVrQ5zPtBj5z+oKQRYJcHDmrKtfjYsjVjuDus+faXSdg797zXOENuc3FaiJ5JU+IXFaM12LzbpMhwrVlvrFi5OgTdDyVNdniJlII8iSI1l1VWfcxKHnQNzSpzICvBAUrbBSM90sPkytGyBUbn0tmNShVJcruC3WgXKOYdzmN3tR4OnqHxUjvJZ8H+0mw5AZErpCcUeo8fzNgL4XFSlhsfh1Q7qx+oYh8yCW6cDttR+8weq7dFefp1y7ic0nRTumeBbU5cnlzTUeh7KTfNoTXjaeMsR9BcUvkmIzsPR5B5xvkiQQlD7CESelLoWCFzS/NnIuVDEjmauTyKDMwNi3McbqJ8na5YkeqmNKhM9d9g+3yHD48ZtYaPCO2DI3syKOxU0f3dhJ5+VLIFWOD5PpTDKq+0vSdrtDauBltTdU42vOeKBstDeccHClul6tMPGGJ49J6yrwSXgtsYGw6Z/tSTZz1m6LidcuJWE0E75zYi0++mB3P9Q5g5MrG55IiXqzqAytFfsrxCKAbMeDz+AY8KWcKgi6XfGNLsZpIzhG5I+ChdNkcHxibxsCtKRGPgTtPKmg7ovP8TURLwzh7eAd6rt3Ncg8WTf9rwNigM2F3z18AyK8e8sUvMI08hF7m3LHdiCesrKcL6itNvNq6TdT5YttBUIwNrpVN9Z8rnOFtC3F3ErcKCr57g/O0rG9oUkzvoLZBVm7n+ZtobdyM1l1VwvUly2yxbrk3GaMilyFBiRMSNEqwyb/XioIWthZ3KsTAXFI0WFpOolbvzmdaCVQ3N1ZbJkZsv+koyKOzeuOGQbE/UMc9tD1jWZf7PCKNkPXuBM0l8/Zr7h/vAr/8ES7+XQP27dun2EhN1POMJuHnisrb+BFPWDjwypWMOo+ahhPLlNwwVdjBy8hEQsTRfK1K6X6qrEqivtIUQnz07I2MwQtS2IKEKCiBQAkBEjphBeVIZAQJ+7lju33jbSsJiWrcNTY6L4yidVeVE1vL0wNbCdbuSItENtPjPsJG7k2b9FD6UlFlzvxQCVIuU34x0IRPv5nfsoW2VDeMKIuE0fnN3Wj/1lVMTSdx6tSpFRE2v8egZPzcaa/1AknUKNZIz+q+emg7Os/fFNZMvSdrnIvOC6Pi2LnmsdE6WQQ6L4xmDG65oBhZ54VRZ67X+Zs4d3xPVjsNclfpnpOQyRac9+ULdP2qdwF6aW+uQ1tTNSqev4T6ShPvP//HAIBPvvhTjEwkMPniM3mLESW5ZKGl86HrFIPPIi3KpZDfWT8C5AqSR02qnHo3EwnPKFXvmYrhXf+ooeuSr8O7vsXNRMnryJ1rcSdpymKmelNFEGWRMN58vRk7t5fjE9Ub8KW/+R/84Ac/UG2mhMIDfnUfZLHBM30GboxxxJ0feO74HvFMJlmENICoEjNE1DSyLD+aCE0iJz84TpnuzgujOHr2BuqlFzIE0d5chxE3KdLVPy4G4aCwgUg+uO5n664qxGrLcPTsDcA9LypD50eJpL6hSXz6pcs4d3yPryD1XLubcd006JB4kkCS2yjm7QU8b0t1L++LIMuVvAsKI+QrlsvBANIAAA22+w+A+FuDbQPL+ALfkqEKiruvnyG8lgpltahR1/vMRVMRZFm9c2KvmOXfJs2gDoqlBSG7KfG5ZFbHpqcZZPrcx7bgno/sgoxIj78sln//7ufxiZoN2LndebLgT556aIkcOXIEN286HWbLli04derUop5A6PB5A4SXoASIHO9sa6oWwuPtFHSMloYKpSVF0OBAoQyqy76hSRFioPqO1UTEzHuKjR46cx3vnNibVwd9tXWbGGzzmQJC3kmsJgL7pf3QTpwXcWS49zvqvmT0wOmrQtzkCeYHXrni++p6b3172z1dM9zj0Pp8PBrql/SAPNUvJVQIlaezUqjvzCOCKsDbEORYSHwu+XD+mfRamlwsJcCeK1GwlH3JRD1PLFCj6+gdFo1yZCKR4TbBbXzyiLyc7OjBA7kb2ZkzZ8Tfly5dwuDg4KJeYZSPRbMY5P217qoSsUUaxOjBeILcQT/3zM+qhzQokgVHE2Oprs8e3oGjPe+hvbnOt63J5yVDx5KvIWoaWecMaeAjyIWrrzTFZFga/N45sVcM7O3SK7O84kHnJRNTvBBVxq8O/RJtNC2mXgoJyNfsF2ZYLTRdh22nHatM04B0GkjbNux0CpqmO3bbIi22xn/52bLfnR81DbQ1VQsTWY6x5Sqv8t3lNyPkAwV36z1B2uXEz+rdKQOyed/neb0SuTC5sqRkOS4qEOw+eTD1q78MLFb2B//h/O+6qNdvxHG83XEhXn75Zdy/fx9wrbjlvP2DYVYKvw8mr4qwnfrfW/jGG0OqYsxakqew1ez5HgCIuBsA/NXxn+CHfdmW4eHDh9Hd3Z21nGHWEt8vwWdqlgbb/ct2/1EMbjEc+cyTqIuuVxVjCpA3X2/OEDUAGX/v2FaOr3zZcaHOnDmDixcv+u6HYR4lq/LB5HLTwBtf24lN6ws2hMfkYOf28gwhk9mxrRxvvt6M051PYcc2pwwLG1OI6LCBIE9TW4LFBgCN1RFc/Ps9bLkVAV8/8of4ype34M3Xm8Vrj4ISDwzzqFkVi41orI5g8B+ewsvPNmDXxzeqijMFyqayME53PiVEjWEKHUPXNKRsG47d9tB2S8OGhjRCSC1rVki5aeC5p2vx3NO1qqLMKqK9rCrBMMWD0mKz00tzRRmGYR4V+kM7zbXWNIjMKABooUXO9WAYhnnEKC22B/PzqiIMwzAFhZFhnkkxNlpcsr7Euw3DMExBk0dWgF3RQub+/fvo7u4WjzoxDJMhbP4CNj87jfUb1u7Nl0z+XL3Sjy98oQW/m5pTFQXc5z8Z5qOA0mJbv4HnnxUqz/75QSFqxw83oFwxz+xLB2oC1zNMsWBYmoa0bbtPGGiAnYYGIAQdGjQApap9MI+IX485bzp5pXMv/vrLv68qvqL0nr8HACvypl2GWWmUWVGmsPn83t9bc1H78c/u4vov72LTpk0sbExBwsL2mPOTy/fQ/q2lvRtuKbz+vQ/wla+/DQB47rnnVMUZ5pGg6bpup9NpaJoGTdOQTqdh2zbkZUxhsu/pz+LSj3+mKrYq8LvYmELB931sqo2YwuWN//pvHD58WFVsRXnmmWfw/e9/n0WNKWjYYmMY5rGGLTaGYT4SsLAxDFN06OvWrQMA4X4S09PT7IYyDPNYYJombNt5wr2kpAQaADsUCsE0TczMzMAwDCSTSSSTSQCAYRgscAzDFCyyPkUizndMdQBIpVJIJJyvrVdWVuKDDz6ApmkIh8NCBRmGYQqRJ598EuvXO99WWVhYcLzNjRs32olEAqlUCoZhwLIsVFVVYWZmBpZl4cGDB6r9Mgzz2KIKsysMGy0/wycUDkHXNSSTVsYXPdeZjkeYSqVhWSnoOhyDCkAymURa+r65HnI8yLSdhvXA2ckTFU/gww8/FGVKSkqcDybLZ15RUYHZ2VksLCyAYZiPAiFVgWDyFDZC03VnOoYegqZrePBg3vlKO60P6bBT7m9NA2wbpRs2QNM1zE7PAACMkjDCRhjzC/OwrTQMw8CmTZswPT0Ny7Joqppml5aWYnZ2Vuw8HA4jGo3Ctm3cu3cv++wYhikSgoVNFV23FcJmlm5A0krCyun5pREKhxEOOy8aciJfNlKpFCzLgqZpD4XOBw2aCJeFw2GEQiHMz887FlskEkEqlcLCwkKGS8owTHGjqd9cFoitlD4Auo5QKOSIlDv7wk6nHRXTUggZBjRNh5WUxU+DURKGBiD5IOk4lq4FBwBGuATRaBSJ2WnMzDiWnKZp0HUdqVQq0xUNh8Ni5fz8PEzTxDx/84BhihYNwe/wUyUP83VEdcOATYIGx810BC0Fi2ZghMMoWbfOMbCSyQwhE2g6dF1DOpVyftvO/tavX49UKoVkMomSkhL8P2HPj2V0t0w1AAAAAElFTkSuQmCC",e.next=5,this.render_captcha();case 5:return e.next=7,this.form_validation();case 7:return e.next=9,new Promise(function(e){t.is_initialized=!0,e()});case 9:e.next=18;break;case 11:e.prev=11,e.t0=e["catch"](0),e.t1=e.t0,e.next=404===e.t1?16:18;break;case 16:return this.$router.push("page_404"),e.abrupt("break",18);case 18:return e.prev=18,e.finish(18);case 20:case"end":return e.stop()}},e,this,[[0,11,18,20]])}));function t(){return e.apply(this,arguments)}return t}(),render_captcha:function(){var e=this;return axios.get(e.captcha_url,{headers:{Hostname:window.location.hostname}}).then(function(t){"success"==t.data.status&&(e.captcha_image_base64=t.data.captcha.base64_encoded_image,e.encrypted_answer=t.data.captcha.answer)})["catch"](function(t){if(t.response)return Promise.reject(t.response.status);e.$noty.error(e.$t("ui.general.network_abnormality")+": "+e.$t("ui.general.server_offline"))})},submit:function(){var e=this;this.is_logging=!0;var t={username:this.username,password:this.password,role:"staff",user_answer:this.captcha_user_answer,encrypted_answer:this.encrypted_answer};axios.post(e.login_url,t,{headers:{Hostname:window.location.hostname}}).then(function(t){if("success"==t.data.status)e.need_captcha=!1,localStorage.setItem("need_captcha",!1),localStorage.setItem("authentication_token",t.data.token),localStorage.setItem("staff_expired_at",e.$moment.utc(e.$moment().add(e.$store.state.global_setting.login_expiration_period,"second")).format()),e.$parent.init();else{e.is_logging=!1,e.need_captcha=!0,localStorage.setItem("need_captcha",!0),e.render_captcha();var i={"incorrect username or password":e.$t("ui.pages.login.errors.account_or_password_incorrect"),"captcha verification failed":e.$t("ui.pages.login.errors.verification_code_incorrect"),"captcha verification timeout":e.$t("ui.pages.login.errors.verification_code_expired")};_.forEach(t.data.errors,function(t){_.forEach(t,function(t){console.log(t),e.$noty.error(e.$t("ui.pages.login.errors.failure_to_login")+": "+i[t])})})}})["catch"](function(t){if(e.is_logging=!1,t.response){var i={"Unknown Host":e.$t("ui.pages.login.errors.your_site_has_not_registered_system")};e.$noty.error(e.$t("ui.pages.login.errors.failure_to_login")+": "+t.response.status+i[t.response.data.errors])}else e.$noty.error(e.$t("ui.general.network_abnormality")+": "+e.$t("ui.general.server_offline"))})},get_notification:function(){var e=this;return axios.get(e.$store.state.routes.get_notification_shutdown_url).then(function(t){"success"==t.data.status&&(e.notification=t.data.notification,e.notification.urgent=!1,e.$moment(e.notification.estimated_shutdown).isBefore(e.$moment().add(7,"day"))&&(e.notification.urgent=!0))})["catch"](function(t){e.$noty.error(e.$t("ui.general.network_abnormality")+": "+e.$t("ui.general.server_offline")+", 無法取得notification")})},focus_input:function(e){this.$refs[e].focus()},auto_input:function(){this.username="admin@by-express.com",this.username="admin@neuron.com",this.password="12345678",this.captcha_user_answer="TEST"},change_i18n:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"zh-TW";localStorage.setItem("language",e),this.$store.state.language=e},form_validation:function(){$(".ui.form").form({on:"blur",fields:{username:{identifier:"username",rules:[{type:"empty"}]},password:{identifier:"password",rules:[{type:"empty"}]}}})}},components:{NotificationBox:s["a"],ErrorBox:r["a"]}},u=l,d=(i("ef4c"),i("2877")),p=Object(d["a"])(u,n,a,!1,null,"5ca5723d",null);t["a"]=p.exports},6195:function(e){e.exports={name:"dark01",color:{background_img:"blur03.jpg",background_position:"0% 0%",background:"linear-gradient(134deg, rgba(0, 0, 0, 0.9)0%, rgba(142, 162, 232, 1)100%)",font:"white",warning:"white",show_setting_icon:"orange",setting_group_icon:"white"},computer:{background_position:"0% 50%"},mobile:{background_position:"0% 0%"}}},6240:function(e,t,i){"use strict";var n=i("6a94"),a=i.n(n);a.a},"624c":function(e,t,i){"use strict";var n=i("cc6a"),a=i.n(n);a.a},6294:function(e,t,i){"use strict";var n=i("9290"),a=i.n(n);a.a},"62e1":function(e,t,i){"use strict";var n=i("2767"),a=i.n(n);a.a},"633f":function(e,t,i){},6346:function(e,t,i){"use strict";var n=i("1b24"),a=i.n(n);a.a},"637f":function(e,t,i){},"655a":function(e,t,i){"use strict";var n=i("3487"),a=i.n(n);a.a},6818:function(e,t,i){"use strict";var n=i("eca6"),a=i.n(n);a.a},"685a":function(e,t,i){},"68f8":function(e,t,i){"use strict";var n=i("3364"),a=i.n(n);a.a},6945:function(e,t,i){},6967:function(e,t,i){},"6a7e":function(e,t,i){},"6a94":function(e,t,i){},"6b93":function(e,t,i){"use strict";var n=i("d46d"),a=i.n(n);a.a},"6cab":function(e,t,i){"use strict";var n=i("9de3"),a=i.n(n);a.a},"6cc7":function(e,t,i){"use strict";var n=i("af22"),a=i.n(n);a.a},"6cdb":function(e,t,i){},"6d03":function(e,t,i){"use strict";var n=i("a6b3"),a=i.n(n);a.a},"6d78":function(t,i,n){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui segment",class:{red:e.is_out_of_date,green:!e.is_out_of_date},attrs:{id:"breadcrumb"}},[i("div",{staticClass:"ui breadcrumb"},[i("span",{staticClass:"out_of_date_alert",class:{active:e.is_out_of_date},attrs:{"data-tooltip":e.$t("ui.notifications.help.this_page_is_out_of_date_please_click_here_to_refresh")}},[i("i",{staticClass:"icon refresh pointer",class:{red:e.is_out_of_date},staticStyle:{cursor:"pointer"},on:{clicks:function(t){e.refresh()}}})]),e._v("\n        "+e._s(e.$t("ui.page_titles.current_page"))+"：\n\n        "),i("router-link",{staticClass:"section",attrs:{to:{name:"provider_index"}}},[e._v("\n            "+e._s(e.$t("ui.page_titles.index"))+"\n        ")]),e._l(e.$route.meta.breadcrumb,function(t,n){return i("span",[t?i("i",{staticClass:"right chevron icon divider"}):e._e(),n==e.$route.meta.breadcrumb.length-1?i("span",[i("div",{staticClass:"section"},[e._v("\n                    "+e._s(e.$t("ui.page_titles."+t))+"\n                ")])]):i("span",[i("router-link",{staticClass:"active section",attrs:{to:{name:t}}},[e._v("\n                    "+e._s(e.$t("ui.page_titles."+t))+"\n                ")])],1)])})],2),i("div",{staticClass:"ui right floated"},e._l(e.$route.meta.btns,function(t,n){return i("router-link",{key:t,staticClass:"ui button",class:e.btn_class(t,n),staticStyle:{margin:"-9px 6px"},attrs:{to:{name:t}}},[t.includes("new_")?i("i",{staticClass:"plus icon"}):e._e(),e._v("\n            "+e._s(e.$t("ui.page_titles."+t))+"\n        ")])}))])},r=[],s={data:function(){return{is_out_of_date:!1}},computed:{},mounted:function(){this.detect_out_of_date()},methods:{detect_out_of_date:function(){var e=this;this.$cable.subscriptions.create({channel:"OutOfDateChannel"},{received:function(t){e.$store.state.instance_identity!=t.exclude_instance&&_.findLast(e.$store.state.breadcrumbs,function(e){return e==t.scope})&&(e.is_out_of_date=!0)}})},btn_class:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1?arguments[1]:void 0;try{var n=i<=1&&t.includes("new_")?"positive":"blue";if(n)throw n;switch(i){case 2:throw"orange";default:throw"grey"}}catch(e){return e}return"grey"},refresh:function(){console.log("provider refresh"),this.is_out_of_date=!1,this.$bus["_events"]["init"]?this.$bus.$emit("init"):location.reload()}}},o=s,c=(n("6240"),n("0fd2"),n("2877")),l=Object(c["a"])(o,a,r,!1,null,"9d0df408",null);i["a"]=l.exports},"6e3b":function(e,t){var i={data:function(){return{validations:[]}},methods:{valid:function(){this.validations=[];var e=this.$options.validator;if(e){var t=this[e.target];if(t){var i=!0,n=!1,a=void 0;try{for(var r,s=e.attributes[Symbol.iterator]();!(i=(r=s.next()).done);i=!0){var o=r.value,c=t[o.name],_=this.$t("models.attributes."+e.localize_key+"."+o.name);if(o.required&&(void 0!==c&&""!==c&&null!==c||this.validations.push({name:o.name,error:_+this.$t("ui.validator.is_required")})),void 0!==o.integer_greater_than&&parseInt(c)<=o.integer_greater_than&&this.validations.push({name:o.name,error:_+this.$t("ui.validator.greater_than")+o.integer_greater_than}),void 0!==o.cases){var l=!0,u=!1,d=void 0;try{for(var p,m=o.cases[Symbol.iterator]();!(l=(p=m.next()).done);l=!0){var f=p.value,v=t[f.name],h=this.$t("models.attributes."+e.localize_key+"."+f.name);c==f.based_on_value&&(f.required&&(void 0!==v&&""!==v&&null!==v||this.validations.push({name:f.name,error:this.$t("ui.validator.if")+_+this.$t("ui.validator.is")+this.$t("models.attributes."+e.localize_key+"."+f.based_on_value)+this.$t("ui.validator.then")+h+this.$t("ui.validator.is_required")})),void 0!==f.integer_greater_than&&parseInt(v)<=f.integer_greater_than&&this.validations.push({name:f.name,error:this.$t("ui.validator.if")+_+this.$t("ui.validator.is")+this.$t("models.attributes."+e.localize_key+"."+f.based_on_value)+this.$t("ui.validator.then")+h+this.$t("ui.validator.greater_than")+f.integer_greater_than}))}}catch(D){u=!0,d=D}finally{try{l||null==m["return"]||m["return"]()}finally{if(u)throw d}}}}}catch(D){n=!0,a=D}finally{try{i||null==s["return"]||s["return"]()}finally{if(n)throw a}}if(e.input_alert){var g=document.querySelectorAll("[data-column]"),b=!0,y=!1,w=void 0;try{for(var $,k=g[Symbol.iterator]();!(b=($=k.next()).done);b=!0){var C=$.value;element_class_list=C.classList,element_class_list.remove("error")}}catch(D){y=!0,w=D}finally{try{b||null==k["return"]||k["return"]()}finally{if(y)throw w}}var x=document.getElementsByClassName("validation_message");while(x[0])x[0].parentNode.removeChild(x[0]);var P=!0,S=!1,N=void 0;try{for(var A,E=this.validations[Symbol.iterator]();!(P=(A=E.next()).done);P=!0){var q=A.value,z=document.createElement("DIV");z.className="ui pointing red basic label validation_message",z.textContent=q.error;g=document.querySelectorAll("[data-column="+q.name+"]");var j=!0,R=!1,I=void 0;try{for(var T,O=g[Symbol.iterator]();!(j=(T=O.next()).done);j=!0){var L=T.value;element_class_list=L.classList,element_class_list.add("error"),L.appendChild(z)}}catch(D){R=!0,I=D}finally{try{j||null==O["return"]||O["return"]()}finally{if(R)throw I}}}}catch(D){S=!0,N=D}finally{try{P||null==E["return"]||E["return"]()}finally{if(S)throw N}}}return!(this.validations.length>0)}return!1}return!0}}};e.exports=i},"6e43":function(e,t,i){},"6ebe":function(e){e.exports={_comment:"此檔案為Scanner 設定 檔案",name:"neuron",options:["is_scan_mode","is_scan_action_mode","is_batch_mode","is_operation_mode","is_core_waybill_pieces_mode","is_update_corewaybill_mode","is_auto_print_label_mode","is_distributed_to_mode","is_high_performance_mode","is_noty_audio_mode","is_speech_mode","is_quick_corewaybill_related_columns","is_package_mode","is_unpackage_mode","pack_p_m_mode","pack_m_mode","pack_need_source_mode","core_waybill_template_mode"]}},"6f33":function(e,t,i){"use strict";var n=i("54c0"),a=i.n(n);a.a},"6f48":function(e,t,i){},"6fea":function(e,t,i){"use strict";var n=i("7642"),a=i.n(n);a.a},"700e":function(e,t,i){},"703d":function(e,t,i){},"708c":function(e,t,i){"use strict";var n=i("babf"),a=i.n(n);a.a},"70d7":function(e,t){e.exports=function(e,t){for(var i=e[0],n=e[1],a=!1,r=0,s=t.length-1;r<t.length;s=r++){var o=t[r][0],c=t[r][1],_=t[s][0],l=t[s][1],u=c>n!=l>n&&i<(_-o)*(n-c)/(l-c)+o;u&&(a=!a)}return a}},"716c":function(e,t,i){"use strict";var n=i("a275"),a=i.n(n);a.a},"71f5":function(e){e.exports={name:"dark05",color:{background_img:"ubuntu_14_04.jpg",background_position:"0% 0%",background:"linear-gradient(134deg, rgba(0, 0, 0, 0.9)0%, rgba(142, 162, 232, 1)100%)",font:"white",warning:"white",show_setting_icon:"orange",setting_group_icon:"white"},computer:{background_position:"0% 0%"},mobile:{background_position:"0% 0%"}}},"71fc":function(e,t,i){"use strict";var n=i("b8ad"),a=i.n(n);a.a},"723d":function(e,t,i){"use strict";var n=i("3ec2"),a=i.n(n);a.a},"72d1":function(e,t,i){},7328:function(e,t,i){},"737a":function(e,t,i){},"73e2":function(e,t,i){},"749d":function(e){e.exports={_comment:"此檔案為Scanner 設定 檔案",name:"neuron",options:["is_scan_mode","is_scan_action_mode","is_batch_mode","is_operation_mode","is_core_waybill_pieces_mode","is_update_corewaybill_mode","is_auto_print_label_mode","is_distributed_to_mode","is_high_performance_mode","is_noty_audio_mode","is_speech_mode","is_quick_corewaybill_related_columns","is_core_waybill_creation_mode","is_package_mode","is_unpackage_mode","pack_p_m_mode","pack_m_mode","pack_need_source_mode","core_waybill_template_mode"]}},7619:function(e,t,i){},7642:function(e,t,i){},"768b":function(t,i,n){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"stations_modal"}},[e.is_initialized?i("div",{staticClass:"ui basic modal stations"},[i("div",{staticClass:"ui icon header"},[e._m(0),e.$store.getters["provider/is_current_staff_minimalist_layout"]?i("div",[e.$store.getters["provider/current_station"]?i("h2",[e._v("\n                    "+e._s(e.current_store.is_auto_gps_station_position_by_60s?e.$t("ui.toolbox.stations_modal.turn_on_auto_tracking"):e.$t("ui.toolbox.stations_modal.modify_current_station"))+"\n                ")]):i("h2",[e._v("\n                    "+e._s(e.$t("ui.toolbox.stations_modal.please_select_the_current_station"))+"\n                ")])]):i("div",[i("h2",[e._v("\n                    "+e._s(e.$t("ui.toolbox.stations_modal.you_are_not_a_manager_will_modify_station_please_contact_the_manager"))+"\n                ")]),i("h2",{directives:[{name:"show",rawName:"v-show",value:e.staff_not_manager_first_select_station,expression:"staff_not_manager_first_select_station"}]},[e._v("\n                    "+e._s(e.$t("ui.toolbox.stations_modal.you_do_not_belong_station_will_update_your_data_after_selection"))+"\n                ")])])]),i("div",{staticClass:"content center aligned"},[e.current_store.is_auto_gps_station_position_by_60s?i("div",[i("h2",{staticStyle:{color:"white"}},[e.current_position.is_first_initialized?i("span",[e._v("\n                        "+e._s(e.$t("ui.toolbox.stations_modal.current_station"))+"：\n                        "),i("span",[e._v("\n                            "+e._s(e.$store.getters["provider/current_station"].name||e.$t("ui.general.no"))+"\n                        ")])]):i("span",["failure"==e.current_position.status?i("span",[e._v("\n                            "+e._s(e.current_position.messages)+"\n                        ")]):i("span",[e._v("\n                            "+e._s(e.$t("ui.toolbox.stations_modal.tracking_GPS"))+"\n                            "),i("div",{staticClass:"ui active inline loader"}),e._v("\n                            "+e._s(e.$t("ui.toolbox.stations_modal.decisioning"))+"\n                        ")])])])]):i("div",[i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui selection dropdown"},[i("div",{staticClass:"text"},[i("span",[e._v("\n                            "+e._s(e.$store.getters["provider/current_station"].name||e.$t("ui.general.please_select"))+"\n                        ")])]),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu",style:{minHeight:e.stations.length>4?"220px":""}},[i("div",{staticClass:"item",class:{"selected active":null==e.current_station.identity},on:{click:function(t){t.preventDefault(),e.current_station.identity=e.current_station.name=null}}},[e._v("\n                            "+e._s(e.$t("ui.toolbox.stations_modal.cancel_current_station"))+"\n\n                        ")]),e._l(e.stations,function(t){return i("div",{staticClass:"item",class:{"selected active":e.current_station.identity==t.identity},on:{click:function(i){i.preventDefault(),e.current_station=e._.cloneDeep(t)}}},[e._v("\n                            "+e._s(t.name)+"\n                        ")])})],2)])])]),i("div",{staticClass:"actions"},[i("div",{staticClass:"ui teal inverted button",class:{active:e.is_auto_gps_station_position_once},on:{click:function(t){e.current_store.is_auto_gps_station_position_once=!e.is_auto_gps_station_position_once}}},[i("i",{staticClass:"crosshairs icon"}),e._v("\n                "+e._s(e.$t("ui.toolbox.stations_modal.btns.track_once"))+"\n            ")]),i("div",{staticClass:"ui blue inverted button",class:{active:e.is_auto_gps_station_position_by_60s},on:{click:function(t){e.current_store.is_auto_gps_station_position_by_60s=!e.is_auto_gps_station_position_by_60s}}},[i("i",{staticClass:"crosshairs icon"}),e._v("\n                "+e._s(e.$t("ui.toolbox.stations_modal.btns.auto_tracking_every_minute"))+"\n            ")]),i("div",{staticClass:"ui green ok inverted button",on:{click:function(t){e.update_staff()}}},[i("i",{staticClass:"checkmark icon"}),e._v("\n                "+e._s(e.$t("ui.general.update"))+"\n            ")])])]):e._e()])},r=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("i",{staticClass:"large icons"},[i("i",{staticClass:"inbox icon"})])}];function s(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function o(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function o(e){s(r,n,a,o,c,"next",e)}function c(e){s(r,n,a,o,c,"throw",e)}o(void 0)})}}var c={data:function(){return{is_initialized:!1,current_station:{identity:null,name:null}}},computed:{current_store:function(){return this.$store.state.provider},is_auto_gps_station_position_once:function(){return this.current_store.is_auto_gps_station_position_once},is_auto_gps_station_position_by_60s:function(){return this.current_store.is_auto_gps_station_position_by_60s},current_position:function(){return this.current_store.current_position},current_staff:function(){return this.current_store.current_staff},stations:function(){return this.current_store.stations},staff_not_manager_first_select_station:function(){var e=this;return!e.$store.getters["provider/is_current_staff_minimalist_layout"]&&!e.current_staff.station_identity},staff_can_select_station:function(){var e=this;return!!e.$store.getters["provider/is_current_staff_minimalist_layout"]||!e.current_staff.station_identity}},watch:{"current_store.is_auto_gps_station_position_once":function(e){var t=this;t.current_store.is_auto_gps_station_position_once=!1}},mounted:function(){var e=this;e.init()},methods:{init:function(){var e=o(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.current_station=t.$store.getters["provider/current_station"],t.is_initialized=!0});case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),update_staff:function(){var t=this;if(!t.current_store.is_auto_gps_station_position_by_60s)try{t.$store.dispatch("provider/update_current_staff_station_identity",t.current_station),t.current_station.name?t.$noty.success(t.$t("ui.notifications.success.update__name",{name:t.$t("models.stations")})):t.$noty.warning(t.$t("ui.general.cancel")+" "+t.$t("models.stations"))}catch(e){t.$noty.error(t.$t("ui.notifications.error.update__name",{name:t.$t("models.stations")}))}}}},_=c,l=(n("78e6"),n("2877")),u=Object(l["a"])(_,a,r,!1,null,"43ce9932",null);i["a"]=u.exports},"770b":function(e,t,i){},7769:function(e,t,i){"use strict";var n=i("bcc4"),a=i.n(n);a.a},"78e6":function(e,t,i){"use strict";var n=i("f35f"),a=i.n(n);a.a},7998:function(e,t,i){},"79ed":function(e,t,i){},"7a61":function(e,t,i){},"7a74":function(e,t,i){"use strict";var n=i("fa83"),a=i.n(n);a.a},"7b3d":function(e,t,i){},"7bbf":function(e,t,i){},"7beb":function(e,t,i){},"7c43":function(e,t,i){"use strict";var n=i("9281"),a=i.n(n);a.a},"7c77":function(e,t,i){"use strict";var n=i("b53c"),a=i.n(n);a.a},"7cfa":function(e,t,i){"use strict";var n=i("29a3"),a=i.n(n);a.a},"7d5b":function(e){e.exports=[{_comment:"neuron 預設檔案",name:"運單起始貨況",i18n_key:"ui.scanner.setting_groups.LA00",barcode:"LA00",primary_icon_classes:"",secondary_icon_classes:"",icon_file_name:"LA01",is_scan_action:!0,is_hide:!0,color:"black",settings:[]},{name:"不明貨",i18n_key:"ui.scanner.setting_groups.LA24",barcode:"LA24",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner red question icon",icon_file_name:"LA01",is_scan_action:!0,is_hide:!1,color:"#60373E",settings:["is_core_waybill_creation_mode_true","is_batch_mode_false","is_package_mode_false","is_auto_print_label_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"入倉",i18n_key:"ui.scanner.setting_groups.LA21",barcode:"LA21",primary_icon_classes:"warehouse icon",secondary_icon_classes:"left bottom corner green sign-in icon",icon_file_name:"LA01",is_scan_action:!0,is_hide:!1,color:"#0089A7",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_package_mode_false","is_auto_print_label_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"上架",i18n_key:"ui.scanner.setting_groups.LA22",barcode:"LA22",primary_icon_classes:"sitemap icon",secondary_icon_classes:null,icon_file_name:"LA01",is_scan_action:!0,is_hide:!1,color:"#5DAC81",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_package_mode_false","is_auto_print_label_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"出倉",i18n_key:"ui.scanner.setting_groups.LA23",barcode:"LA23",primary_icon_classes:"warehouse icon",secondary_icon_classes:"right bottom corner red sign-out icon",icon_file_name:"LA01",is_scan_action:!0,is_hide:!1,color:"#D0104C",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_package_mode_false","is_auto_print_label_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"1.收貨",i18n_key:"ui.scanner.setting_groups.LA01",barcode:"LA01",primary_icon_classes:"dolly icon",secondary_icon_classes:null,icon_file_name:"LA01",is_scan_action:!0,is_hide:!1,color:"#58B2DC",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_package_mode_false","is_auto_print_label_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"2.進站",i18n_key:"ui.scanner.setting_groups.LA02",barcode:"LA02",primary_icon_classes:"pallet icon",secondary_icon_classes:null,icon_file_name:"LA02",is_scan_action:!0,is_hide:!1,color:"#EFBB24",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_package_mode_false","is_distributed_to_mode_true","is_unpackage_mode_false","is_scan_action_mode_true","is_auto_print_label_mode_false","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"包裝",i18n_key:"ui.scanner.setting_groups.package",barcode:"package",primary_icon_classes:"box icon",secondary_icon_classes:null,icon_file_name:"package",is_scan_action:!1,is_hide:!1,color:"#1B813E",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_scan_action_mode_false","is_distributed_to_mode_false","is_package_mode_true","is_unpackage_mode_false","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_min_card"]},{name:"3.派件中",i18n_key:"ui.scanner.setting_groups.LA03",barcode:"LA03",primary_icon_classes:"shipping fast icon",secondary_icon_classes:null,icon_file_name:"LA03",is_scan_action:!0,is_hide:!1,color:"#77428D",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_true","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"3.聯運",i18n_key:"ui.scanner.setting_groups.LA10",barcode:"LA10",primary_icon_classes:"random icon",secondary_icon_classes:null,icon_file_name:"LA10",is_scan_action:!0,is_hide:!1,color:"#4A225D",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"3.出站集貨中轉",i18n_key:"ui.scanner.setting_groups.LA09",barcode:"LA09",primary_icon_classes:"arrows alternate icon",secondary_icon_classes:null,icon_file_name:"LA09",is_scan_action:!0,is_hide:!1,color:"#C1328E",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"4.回站",i18n_key:"ui.scanner.setting_groups.LA05",barcode:"LA05",primary_icon_classes:"home icon",secondary_icon_classes:"right bottom corner red undo icon",icon_file_name:"LA05",is_scan_action:!0,is_hide:!1,color:"#91989F",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"4.已配達",i18n_key:"ui.scanner.setting_groups.LA04",barcode:"LA04",primary_icon_classes:"clipboard list icon",secondary_icon_classes:"right bottom corner green check icon",icon_file_name:"LA04",is_scan_action:!0,is_hide:!1,color:"#86C166",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"4.異常件",i18n_key:"ui.scanner.setting_groups.LA06",barcode:"LA06",primary_icon_classes:"exclamation triangle icon",secondary_icon_classes:"right bottom corner red close icon",icon_file_name:"LA06",is_scan_action:!0,is_hide:!1,color:"#CB4042",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"4.異常件排除",i18n_key:"ui.scanner.setting_groups.LA07",barcode:"LA07",primary_icon_classes:"exclamation triangle icon",secondary_icon_classes:"right bottom corner green check icon",icon_file_name:"LA07",is_scan_action:!0,is_hide:!1,color:"#51A8DD",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"寄件者退運",i18n_key:"ui.scanner.setting_groups.LA08",barcode:"LA08",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA08",is_scan_action:!0,is_hide:!0,color:"teal",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"鎖定",i18n_key:"ui.scanner.setting_groups.LA11",barcode:"LA11",primary_icon_classes:"lock icon",secondary_icon_classes:null,icon_file_name:"LA11",is_scan_action:!0,is_hide:!1,color:"#CB4042",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_scan_action_mode_true","is_distributed_to_mode_false","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"解除鎖定",i18n_key:"ui.scanner.setting_groups.LA12",barcode:"LA12",primary_icon_classes:"lock open icon",secondary_icon_classes:null,icon_file_name:"LA12",is_scan_action:!0,is_hide:!1,color:"#51A8DD",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_scan_action_mode_true","is_distributed_to_mode_false","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"結案",i18n_key:"ui.scanner.setting_groups.LA13",barcode:"LA13",primary_icon_classes:"check icon",secondary_icon_classes:null,icon_file_name:"LA13",is_scan_action:!0,is_hide:!1,color:"#86C166",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_scan_action_mode_false","is_package_mode_false","is_unpackage_mode_false","is_distributed_to_mode_false","pack_need_source_mode_false","is_update_corewaybill_mode_false","core_waybill_template_mode_card"]},{name:"拆包",i18n_key:"ui.scanner.setting_groups.unpackage",barcode:"unpackage",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner red cut icon",icon_file_name:"unpackage",is_scan_action:!1,is_hide:!1,color:"#F75C2F",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_scan_action_mode_false","is_distributed_to_mode_false","is_package_mode_false","is_unpackage_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_min_card"]},{name:"分撥",i18n_key:"ui.scanner.setting_groups.distributed_to",barcode:"distributed_to",primary_icon_classes:"map signs icon",secondary_icon_classes:null,icon_file_name:"LA09",is_scan_action:!1,is_hide:!1,color:"#66BAB7",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_scan_action_mode_false","is_package_mode_false","is_unpackage_mode_false","is_update_corewaybill_mode_false","is_distributed_to_mode_true","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"查詢運單",i18n_key:"ui.scanner.setting_groups.search",barcode:"search",primary_icon_classes:"search icon",secondary_icon_classes:null,icon_file_name:"search",is_scan_action:!1,is_hide:!1,color:"#227D51",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_scan_action_mode_false","is_package_mode_false","is_unpackage_mode_false","is_distributed_to_mode_false","pack_need_source_mode_false","is_update_corewaybill_mode_false","core_waybill_template_mode_card"]},{name:"袋包運, 裝袋作業",i18n_key:"ui.scanner.setting_groups.pack_house_waybill",barcode:"pack_house_waybill",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"package",is_scan_action:!1,is_hide:!0,color:"green",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_true","is_unpackage_mode_false","is_scan_action_mode_false","is_update_corewaybill_mode_false","is_distributed_to_mode_false","core_waybill_template_mode_min_card","pack_need_source_mode_false","pack_p_m_mode_House","pack_m_mode_Waybill"]},{name:"運包子, 一票多件",i18n_key:"ui.scanner.setting_groups.pack_waybill_goods",barcode:"pack_waybill_goods",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"package",is_scan_action:!1,is_hide:!0,color:"limegreen",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_scan_action_mode_false","is_package_mode_true","is_unpackage_mode_false","is_distributed_to_mode_false","is_update_corewaybill_mode_false","pack_need_source_mode_true","pack_p_m_mode_Waybill","pack_m_mode_Goods"]}]},"7d77":function(e,t,i){},"7e0c":function(e,t,i){"use strict";var n=i("26b4"),a=i.n(n);a.a},"7e13":function(e,t,i){"use strict";var n=i("0dbd"),a=i.n(n);a.a},"7ea4":function(e,t,i){},"7ecd":function(e,t,i){"use strict";var n=i("3def"),a=i.n(n);a.a},"7ed5":function(e,t,i){"use strict";var n=i("90e1"),a=i.n(n);a.a},8036:function(e,t,i){"use strict";var n=i("9922"),a=i.n(n);a.a},8039:function(e){e.exports=[{name:"收貨",color:"#3a8df5"},{name:"進站",color:"orange"},{name:"派件中",color:"#9559f4"},{name:"已配達",color:"green"},{name:"回站",color:"gray"},{name:"異常件",color:"red"},{name:"異常件問題排除",color:"cornflowerblue"},{name:"寄件者退運",color:"teal"},{name:"出站集貨中轉",color:"violet"},{name:"聯運",color:"purple"},{name:"鎖定",color:"darkred"},{name:"解除鎖定",color:"cornflowerblue"},{name:"結案",color:"#4bba45d9"},{name:"包裝",color:"green"},{name:"拆包",color:"orangered"},{name:"查詢運單",color:"limegreen"}]},8086:function(e,t,i){},"80a9":function(e,t,i){},8115:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui longer flip modal scanner"},[i("ScannerMain",{attrs:{is_modal:!0}})],1)},a=[],r=i("1405");function s(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function o(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function o(e){s(r,n,a,o,c,"next",e)}function c(e){s(r,n,a,o,c,"throw",e)}o(void 0)})}}var c={name:"ScannerModal",props:{},data:function(){return{is_mobile_width:!1,console_log_content:"",console_log_theme_path:""}},computed:{current_store:function(){return this.$store.state.customer},service_config:function(){return this.$store.state.customer.service_config},service_name:function(){return this.current_store.customer.provider_node.service_name},scanner_module_store:function(){return this.$store.state.customer.scanner_module}},mounted:function(){var e=this;e.init()},watch:{is_mobile_width:{immediate:!0,handler:function(e){var t=this;t.$nextTick(function(){var i=t.scanner_module_store.config.theme,n=e?"mobile":"computer";if(i[n]){var a=i[n].background_position?i[n].background_position+" / cover":"0% 0%";t.scanner_module_store.config.theme.background=i.color.background_img?"url(/images/scanner_background/"+i.color.background_img+") "+a+" #1b1c1d":i.color.background}})}}},methods:{init:function(){var e=o(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,t.set_is_mobile_width();case 4:return e.next=6,t.set_scanner_theme();case 6:return e.next=8,t.set_scanner_setting();case 8:return e.next=10,t.set_scanner_setting_groups();case 10:return e.next=12,new Promise(function(e){console.log("//=============== \n  Now scanner configs: \n"+t.console_log_content+"\n  About setting file path: config/services/"+t.service_name+"/scanner/ \n  About theme file path: "+t.console_log_theme_path+" \n//=============== \n"),e()});case 12:e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](1),console.log(e.t0);case 17:case"end":return e.stop()}},e,this,[[1,14]])}));function t(){return e.apply(this,arguments)}return t}(),set_is_mobile_width:function(){var e=this;return e.is_mobile_width=$(window).width()<=767,$(window).resize(function(){var t=$(window).width();e.is_mobile_width=t<=767}),Promise.resolve()},set_scanner_theme:function(){var e,t,n,a,r=this;try{var s=i("b102");if(n=_.findLast(s,function(e){return e.identity==r.$store.state.provider.node.identity}),n&&n.theme_file_name?(a=n.theme_file_name,r.console_log_theme_path="components/scanner/provider/themes/node.json"):(a=r.service_config.scanner_theme,r.console_log_theme_path="config/services/"+r.service_name+"/config.json"),!a)throw"Scanner theme file not find";e=a+".json",t=i("bab3")("./"+e),n=t}catch(u){e="default.json",n=i("8126"),r.console_log_theme_path="components/scanner/provider/themes/default.json",console.log(u)}finally{r.scanner_module_store.config.theme=n,r.console_log_content+="    theme: "+e+"\n"}try{var o=r.scanner_module_store.config.theme,c=r.is_mobile_width?"mobile":"computer";if(o[c]){var l=o[c].background_position?o[c].background_position+" / cover":"0% 0%";r.scanner_module_store.config.theme.background=o.color.background_img?"url(/images/scanner_background/"+o.color.background_img+") "+l+" #1b1c1d":o.color.background}}catch(u){console.log(u)}return Promise.resolve()},set_scanner_setting:function(){var e,t,n,a=this;try{if(!a.service_name)throw"Scanner settings file not find";e="settings.json",t=i("caff")("./"+e),n=t}catch(r){e="settings.json",n=i("caff")("./"+e)}finally{a.scanner_module_store.config.settings=n.options,a.console_log_content+="    settings: "+e+"\n"}return Promise.resolve()},set_scanner_setting_groups:function(){var e=this;try{if(!e.service_name)throw"Scanner setting groups file not find";var t="setting_groups.json",n=i("caff")("./"+t);e.scanner_module_store.setting_groups=n}catch(a){t="setting_groups.json",e.scanner_module_store.setting_groups=i("caff")("./"+t),console.log(a)}finally{e.console_log_content+="    setting_groups: "+t+"\n"}return Promise.resolve()}},components:{ScannerMain:r["default"]}},l=c,u=(i("b04a"),i("2877")),d=Object(u["a"])(l,n,a,!1,null,"0d7514a2",null);t["default"]=d.exports},8126:function(e){e.exports={_comment:"此檔案管理Scanner主題顏色，node_name是給人標記誰用的",name:"default",color:{background_img:"",background:"#1b1c1d",background_position:"0% 0%",font:"white",warning:"white",show_setting_icon:"orange",setting_group_icon:"white"},computer:{background_position:"0% 50%"},mobile:{background_position:"0% 0%"}}},"812b":function(e,t){function i(e){var t=e,i=document.createElement("a");i.href=t,this.parse=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";i.parameters=i.pathname.split("/").filter(function(e){return e.match(":")});var n=i.protocol+"//"+i.host;return $.each(i.parameters,function(t,n){i.pathname=i.pathname.replace(n,e[n.replace(":","")])}),n+=i.pathname+t+i.search,n},this.get_query_string=function(e){var t=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),n=t.exec(i.search);return n&&n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):""},this.update_query_string=function(e,t){var n=e+"="+t;if(i.search){var a=new RegExp("([?&])"+e+"[^&]*");null!==i.search.match(a)?i.search=i.search.replace(a,"$1"+n):i.search=i.search+"&"+n}else i.search=i.search+"?"+n;return i.href},this.remove_query_string=function(e){if(i.search){for(var t=i.search.substr(1,i.search.length).split("&"),n=t.length-1;n>=0;n-=1)param=t[n].split("=")[0],param===e&&t.splice(n,1);i.search="?"+t.join("&")}return i.href}}e.exports=i},"835c":function(e,t,i){"use strict";var n=i("31c4"),a=i.n(n);a.a},8427:function(e,t,i){},8499:function(e,t,i){"use strict";var n=i("b20f"),a=i.n(n);a.a},"853a":function(e,t,i){},8574:function(e,t,i){"use strict";var n=i("dc50"),a=i.n(n);a.a},"85e5":function(e,t,i){"use strict";var n=i("e1c1"),a=i.n(n);a.a},"86e1":function(e,t,i){"use strict";var n=i("2727"),a=i.n(n);a.a},"86ef":function(e,t,i){"use strict";var n=i("6967"),a=i.n(n);a.a},"86fa":function(e,t,i){"use strict";var n=i("72d1"),a=i.n(n);a.a},"877c":function(e,t,i){"use strict";var n=i("8086"),a=i.n(n);a.a},"87f5":function(e,t,i){},"87fd":function(e,t,i){},"887f":function(e,t,i){},"89ed":function(e,t,i){"use strict";var n=i("2029"),a=i.n(n);a.a},"8a5f":function(e,t,i){},"8a5f3":function(e,t,i){},"8bb0":function(e,t,i){"use strict";var n=i("e9c2"),a=i.n(n);a.a},"8c8a":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui segment",staticStyle:{position:"relative"}},[i("div",{staticClass:"ui horizontal list"},e._l(e.$store.state.provider.service_config.footer_imgs,function(e){return i("div",{staticClass:"item"},[i("img",{staticStyle:{height:"50px"},attrs:{src:"/images/"+e}})])}))])},a=[],r={name:"Advertising"},s=r,o=i("2877"),c=Object(o["a"])(s,n,a,!1,null,"4e74054d",null);t["a"]=c.exports},"8c95":function(e,t,i){},"8cb6":function(e,t,i){},"8cbc":function(e,t,i){"use strict";var n=i("d993"),a=i.n(n);a.a},"8d94":function(e,t,i){"use strict";var n=i("4293"),a=i.n(n);a.a},"8dac":function(e,t,i){"use strict";var n=i("d4b8"),a=i.n(n);a.a},"8e3d":function(e,t,i){},"8f86":function(e,t,i){},"8f91":function(e,t,i){},"8fe8":function(e,t,i){},"90e1":function(e,t,i){},9147:function(e,t,i){},9249:function(e){e.exports=[{_comment:"axon 預設檔案",name:"運單起始貨況",i18n_key:"ui.scanner.setting_groups.LB00",barcode:"LB00",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA01",is_scan_action:!0,is_hide:!0,color:"black",settings:[]},{name:"1.放行",i18n_key:"ui.scanner.setting_groups.LB01",barcode:"LB01",primary_icon_classes:"clipboard check icon",secondary_icon_classes:null,icon_file_name:"LA01",is_scan_action:!0,is_hide:!1,color:"#3a8df5",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_package_mode_false","is_auto_print_label_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"2.點交",i18n_key:"ui.scanner.setting_groups.LB02",barcode:"LB02",primary_icon_classes:"exchange icon",secondary_icon_classes:"right bottom corner green check icon",icon_file_name:"LA02",is_scan_action:!0,is_hide:!1,color:"orange",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_package_mode_false","is_auto_print_label_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"3.異常件",i18n_key:"ui.scanner.setting_groups.LA06",barcode:"LA06",primary_icon_classes:"exclamation triangle icon",secondary_icon_classes:"right bottom corner red close icon",icon_file_name:"LA06",is_scan_action:!0,is_hide:!1,color:"#CB4042",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"3.異常件排除",i18n_key:"ui.scanner.setting_groups.LA07",barcode:"LA07",primary_icon_classes:"exclamation triangle icon",secondary_icon_classes:"right bottom corner green check icon",icon_file_name:"LA07",is_scan_action:!0,is_hide:!1,color:"#51A8DD",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"鎖定",i18n_key:"ui.scanner.setting_groups.LA11",barcode:"LA11",primary_icon_classes:"lock icon",secondary_icon_classes:null,icon_file_name:"LA11",is_scan_action:!0,is_hide:!1,color:"#CB4042",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_scan_action_mode_true","is_distributed_to_mode_false","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"解除鎖定",i18n_key:"ui.scanner.setting_groups.LA12",barcode:"LA12",primary_icon_classes:"lock open icon",secondary_icon_classes:null,icon_file_name:"LA12",is_scan_action:!0,is_hide:!1,color:"#51A8DD",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_scan_action_mode_true","is_distributed_to_mode_false","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"結案",i18n_key:"ui.scanner.setting_groups.LA13",barcode:"LA13",primary_icon_classes:"check icon",secondary_icon_classes:null,icon_file_name:"LA13",is_scan_action:!0,is_hide:!1,color:"#86C166",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_scan_action_mode_false","is_package_mode_false","is_unpackage_mode_false","is_distributed_to_mode_false","pack_need_source_mode_false","is_update_corewaybill_mode_false","core_waybill_template_mode_card"]},{name:"查詢運單",i18n_key:"ui.scanner.setting_groups.search",barcode:"search",primary_icon_classes:"search icon",secondary_icon_classes:null,icon_file_name:"search",is_scan_action:!1,is_hide:!1,color:"#227D51",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_scan_action_mode_false","is_package_mode_false","is_unpackage_mode_false","is_distributed_to_mode_false","pack_need_source_mode_false","is_update_corewaybill_mode_false","core_waybill_template_mode_card"]}]},9281:function(e,t,i){},9285:function(e,t,i){"use strict";var n=i("252d"),a=i.n(n);a.a},9290:function(e,t,i){},"92ea":function(e,t,i){},"92fe":function(e,t,i){"use strict";var n=i("6945"),a=i.n(n);a.a},9407:function(e,t,i){"use strict";var n=i("2108"),a=i.n(n);a.a},9431:function(module,__webpack_exports__,__webpack_require__){"use strict";var _components_partials_provider_sidebar_vue__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("4eaa"),_components_partials_provider_top_menu_vue__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("dbd6"),_components_partials_provider_footer_bar_vue__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("fe68"),_components_partials_provider_advertising_vue__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("e2ba"),_components_partials_provider_system_info_vue__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("ef8b"),_components_partials_provider_breadcrumb_vue__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("6d78"),_components_scanner_provider_modal_vue__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("bf31"),_components_toolbox_stations_modal_main_vue__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("768b"),_components_login_provider_main_vue__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("6192"),_assets_javascripts_keyboard_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("3c2e"),_assets_javascripts_keyboard_js__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(_assets_javascripts_keyboard_js__WEBPACK_IMPORTED_MODULE_9__),login_validation_timer,login_timeout_hint_timer;function asyncGeneratorStep(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function _asyncToGenerator(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){asyncGeneratorStep(r,n,a,s,o,"next",e)}function o(e){asyncGeneratorStep(r,n,a,s,o,"throw",e)}s(void 0)})}}var PointInside=__webpack_require__("70d7");__webpack_exports__["a"]={name:"ProviderLayout",data:function(){return{clock:{ticker:null,remaining_time:0},selected_plan:0,action_cables:[],is_hide_icon_toggle_scanner_modal:!1,is_scanner_modal_opend:!1,is_phone_device:!1,phone_device_unidentified_count:0,websock_server:null}},computed:{build_env:function(){return ENV.VUE_APP_BUILD_ENV},language:function(){return this.$store.state.language},human_remaining_time:function(){var e=this,t=e.$moment,i=t.duration(Math.floor(e.clock.remaining_time/1e3),"seconds"),n="";return i.days()>0&&(n+=" "+i.days()+e.$t("ui.general.day")),i.hours()>0&&(n+=" "+i.hours()+e.$t("ui.general.hour")),i.minutes()>0&&(n+=" "+i.minutes()+e.$t("ui.general.minute")),i.seconds()>0&&(n+=" "+i.seconds()+e.$t("ui.general.second")),n.trim()},back_two_page:function(){return this.$store.state.back_two_page},current_store:function(){return this.$store.state.provider}},created:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return"electron"==this.build_env&&(this.websock_server=new WebSocket("ws://127.0.0.1:8899/weight"),this.websock_server.onmessage=function(e){return console.log("message: ",e),i.$store.commit("provider/scanner_module/set_current_weight",parseFloat(e.data)),!1},this.websock_server.onclose=function(){console.log("WebSocket on weight disconnect")},this.websock_server.onopen=function(){console.log("WebSocket on weight opened")},this.websock_server.onerror=function(e){console.log("WebSocket on weight error")}),t=this,e.next=4,t.init();case 4:t.back_two_page.unshift(t.$route),document.title=t.$t("ui.page_titles."+t.$route.name)+" | Neuron",t.toggle_scanner_modal_keyboard_shortcut();case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),mounted:function(){var e=this;e.$bus.$off("toggle_scanner_modal"),e.$bus.$on("toggle_scanner_modal",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"toggle";e.toggle_scanner_modal(t)}.bind(this)),e.$bus.$off("toggle_station_modal"),e.$bus.$on("toggle_station_modal",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"toggle";e.toggle_station_modal(t)}.bind(this)),e.$bus.$off("toggle_scanner_modal_keyboard_shortcut"),e.$bus.$on("toggle_scanner_modal_keyboard_shortcut",function(){e.toggle_scanner_modal_keyboard_shortcut()}.bind(this)),e.$bus.$off("toggle_is_hide_icon_toggle_scanner_modal"),e.$bus.$on("toggle_is_hide_icon_toggle_scanner_modal",function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.toggle_is_hide_icon_toggle_scanner_modal(t)}.bind(this)),e.$bus.$off("is_print_waybill"),e.$bus.$on("is_print_waybill",function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,r=e.is_print_waybill(t,n,a);i?e.$bus.$emit(i,r):r.error&&alert(r.error)}.bind(this))},beforeDestroy:function(){this.websock_server.close()},watch:{$route:function(e,t){var i=this;console.log("provider Layout watch"),"settings"!=e.name&&i.check_current_station(),i.extend_login_timeout(),document.title=i.$t("ui.page_titles."+e.name)+" | Neuron",i.back_two_page.unshift(t),i.back_two_page.length=2},language:{handler:function(t){try{this._i18n.locale=t,this.cahnge_language_in_store_js_text(),document.title=this.$t("ui.page_titles."+this.$route.name)+" | Neuron"}catch(e){console.log(e),this.$noty.error(e)}},deep:!0},"current_store.is_auto_gps_station_position_once":{handler:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(i=this,e.prev=1,!t){e.next=12;break}return e.next=5,i.get_current_position();case 5:return e.next=7,i.set_station_position();case 7:return e.next=9,i.$store.dispatch("provider/fetch_current_position_address");case 9:return e.next=11,new Promise(function(e){i.$store.state.is_auto_gps_station_position_once=!1,e()});case 11:i.$noty.information($t("ui.toolbox.stations_modal.turn_on_GPS")+"，"+$t("ui.toolbox.stations_modal.btns.track_once"));case 12:e.next=18;break;case 14:e.prev=14,e.t0=e["catch"](1),i.$store.state.is_auto_gps_station_position_once=!1,console.log(e.t0);case 18:case"end":return e.stop()}},e,this,[[1,14]])}));function t(t){return e.apply(this,arguments)}return t}(),deep:!0},"current_store.is_auto_gps_station_position_by_60s":{handler:function(e){var t=this;localStorage.setItem("is_auto_gps_station_position_by_60s",e),t.set_interval_gps_station_position(),e?(t.$noty.information(t.$t("ui.toolbox.stations_modal.turn_on_GPS")+"，"+t.$t("ui.toolbox.stations_modal.btns.auto_tracking_every_minute")),t.get_current_position(),t.set_station_position()):t.$noty.warning(t.$t("ui.toolbox.stations_modal.turn_of_GPS")+"，"+t.$t("ui.toolbox.stations_modal.btns.auto_tracking_every_minute"))},deep:!0}},methods:{wait:function(e){return new Promise(function(t){return setTimeout(t,e)})},init:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,new Promise(function(e){for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n="",a=0;a<16;a++)n+=i.charAt(Math.floor(Math.random()*i.length));console.log(n),t.$store.state.instance_identity=n,e()});case 4:return e.next=6,new Promise(function(e){var i=localStorage.getItem("language")||"zh-TW";t.$store.state.language=i,e()});case 6:return e.next=8,new Promise(function(e){t.$store.commit("set_current_scope","provider"),e()});case 8:return e.next=10,new Promise(function(e){var i=navigator.userAgent.match(/android|webos|iphone|ipad|ipod|blackberry|iemobile/i);t.is_phone_device=!!i,e()});case 10:return e.next=12,t.validate_login();case 12:return e.next=14,new Promise(function(e){t.$store.state.is_login=!0,e()});case 14:return e.next=16,new Promise(function(e){$(document).mousedown(function(e){t.extend_login_timeout()}),$(document).keydown(function(e){t.extend_login_timeout()}),t.clock.ticker=setInterval(function(){t.login_expiration_countdown()},1e3),e()});case 16:return e.next=18,new Promise(function(e){t.action_cables.forEach(function(e){e.unsubscribe()}),t.action_cables=[],e()});case 18:return e.next=20,t.subscription();case 20:return e.next=22,t.$store.dispatch("provider/fetch_routes");case 22:return e.next=24,t.$store.dispatch("provider/fetch_node");case 24:return e.next=26,t.$store.dispatch("provider/fetch_stations");case 26:return e.next=28,t.$store.dispatch("provider/fetch_customers");case 28:return e.next=30,t.$store.dispatch("provider/fetch_current_staff");case 30:return e.next=32,t.$store.dispatch("provider/fetch_current_staff_operations");case 32:return e.next=34,t.$store.dispatch("provider/fetch_notifications");case 34:return e.next=36,new Promise(function(e){t.$cable.subscriptions.create({channel:"StaffChannel",staff_identity:t.$store.state.provider.current_staff.identity},{connected:function(){console.log("StaffChannel connected")},received:function(e){console.log(e)}}),e()});case 36:return e.next=38,t.setting_service_and_user_theme();case 38:return e.next=40,t.setting_is_can_use_top_menu_items();case 40:return e.next=42,new Promise(function(e){t.current_store.is_auto_gps_station_position_by_60s="true"==localStorage.getItem("is_auto_gps_station_position_by_60s"),e()});case 42:return e.next=44,t.wait(300*t.selected_plan);case 44:return e.next=46,new Promise(function(e){t.$store.state.initialize_statuses.top_menu=!0,e()});case 46:return e.next=48,new Promise(function(e){t.$store.state.initialize_statuses.service_theme=!0,e()});case 48:return e.next=50,t.wait(200*t.selected_plan);case 50:return e.next=52,t.check_staff_is_manager();case 52:return e.next=54,t.check_current_station();case 54:return e.next=56,t.set_current_staff_operation();case 56:return e.next=58,t.wait(400*t.selected_plan);case 58:return e.next=60,new Promise(function(e){t.$store.state.initialize_statuses.sidebar=!0,e()});case 60:return e.next=62,t.wait(100*t.selected_plan);case 62:return e.next=64,new Promise(function(e){t.$noty.information(t.$t("ui.general.initialize_complete"),300),t.$store.state.initialize_statuses.main=!0,t.$store.state.initialize_statuses.footer=!0,e()});case 64:e.next=69;break;case 66:switch(e.prev=66,e.t0=e["catch"](1),e.t0){default:}case 69:return e.prev=69,e.finish(69);case 71:case"end":return e.stop()}},e,this,[[1,66,69,71]])}));function t(){return e.apply(this,arguments)}return t}(),subscription:function subscription(){var _this2=this;return this.action_cables.push(this.$cable.subscriptions.create({channel:"RemoteControlChannel"},{received:function received(data){eval(data.script)}})),this.action_cables.push(this.$cable.subscriptions.create({channel:"LogChannel",action:"created"},{received:function(e){console.log("["+e.log.level+"]"+e.log.title+"-"+e.log.loggable_type)}})),this.action_cables.push(this.$cable.subscriptions.create({channel:"OperationChannel",action:"created"},{received:function(e){console.log("OperationChannel#created"),_this2.$store.state.operations.push(e.operation)}})),this.action_cables.push(this.$cable.subscriptions.create({channel:"OperationChannel",action:"updated"},{received:function(e){console.log("OperationChannel#updated");var t=_.findLast(_this2.$store.state.operations,function(t){return t.identity==e.operation.identity});_.merge(t,e.operation)}})),this.action_cables.push(this.$cable.subscriptions.create({channel:"CoreWaybillChannel",action:"created"},{received:function(e){console.log("CoreWaybillChannel#created"),_this2.$store.state.core_waybills.push(e.core_waybill)}})),this.action_cables.push(this.$cable.subscriptions.create({channel:"CoreWaybillChannel",action:"updated"},{received:function(e){console.log("CoreWaybillChannel#updated");var t=_.findLast(_this2.$store.state.core_waybills,function(t){return t.identity==e.core_waybill.identity});_.merge(t,e.core_waybill)}})),Promise.resolve()},setting_service_and_user_theme:function(){var t,i,n=this,a="",r=n.$store.state.provider.node.service_name,s=n.$store.state.provider.current_staff.theme_name;try{t=r+"/config.json",i=__webpack_require__("ccaa")("./"+t)}catch(e){t="default/config.json",i=__webpack_require__("ccaa")("./"+t)}finally{document.body.classList.add(r),n.$store.state.provider.service_config=i,a+="    service: "+t+"\n"}try{t=r+"/user_menu.json",i=__webpack_require__("ccaa")("./"+t)}catch(e){t="default/user_menu.json",i=__webpack_require__("ccaa")("./"+t)}finally{n.$store.state.provider.theme_menu=i[s],n.$store.state.provider.theme_menu_keys=Object.keys(i),a+="    user theme: "+t+"\n"}return console.log("//=============== \n  Now service&theme configs: \n"+a+"  All file path: config/services/ \n//=============== \n"),Promise.resolve()},setting_is_can_use_top_menu_items:function(){var e,t,i=this,n=["scanner"];return _.forEach(n,function(n){t=_.findLast(i.$store.state.provider.theme_menu,function(e){return e==n}),e="is_can_use_"+n,i.$store.state.provider[e]=!!t}),Promise.resolve()},check_staff_is_manager:function(){var e=this;return e.$store.getters["provider/is_current_staff_minimalist_layout"]||e.$router.push({name:"provider_index"}),Promise.resolve()},check_current_station:function(){var e=this;return e.$store.state.provider.current_staff.station_identity||e.$store.getters["provider/is_current_staff_minimalist_layout"]||(localStorage.setItem("target_router_name",e.$route.name),e.$noty.warning(e.$t("ui.toolbox.stations_modal.please_select_the_current_station")),e.toggle_station_modal("show")),Promise.resolve()},set_current_staff_operation:function(){var e=this;return e.$store.state.provider.current_staff_operation=_.findLast(e.$store.state.provider.current_staff_operations,function(e){return e.number==localStorage.getItem("current_staff_operations_number")})||{identity:null,number:null},Promise.resolve()},set_interval_gps_station_position:function(){var e=this;if(e.current_store.is_auto_gps_station_position_by_60s)var t=setInterval(function(){e.current_store.current_position.is_first_initialized&&(e.get_current_position(),e.set_station_position())},6e4);else t&&(clearInterval(t),e.current_store.current_position.is_first_initialized=!1)},set_station_position:function(){var t=this;_.forEach(t.current_store.stations,function(i){if(i.position&&PointInside([t.current_store.current_position.latitude,t.current_store.current_position.longitude],$.parseJSON(i.position)))try{console.log("符合站點為:",i.name,i),t.$store.getters["provider/current_station"].identity!=i.identity&&(t.$store.dispatch("provider/update_current_staff_station_identity",i),t.$noty.success(t.$t("ui.notifications.success.update__name",{name:t.$t("models.stations"),reason:":"+i.name})))}catch(e){t.$noty.error(t.$t("ui.notifications.error.update__name",{name:t.$t("models.stations")}))}})},validate_login:function(){var e=this;if(!localStorage.getItem("authentication_token"))return e.$store.state.is_login=!1,Promise.reject("not logged in");if(localStorage.getItem("staff_expired_at")>e.$moment.utc().format()){var t=e.$store.state.settings.authorize_url;return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){return"success"==t.data.status?(e.extend_login_timeout(),Promise.resolve()):Promise.reject(t.data)})["catch"](function(t){if(t.response){switch(t.response.status){default:e.errors.push(t.response.status+" "+t.response.statusText)}e.$noty.error(e.$t("ui.pages.login.errors.failure_to_login")+": "+t.response.status+" "+t.response.statusText)}else if(t.errors)for(var i in t.errors)e.$noty.error(e.$t("ui.pages.login.errors.failure_to_login")+": "+i+" "+t.errors[i]);else e.$noty.error(e.$t("ui.pages.login.errors.failure_to_login")+": "+e.$t("ui.general.server_offline"));return e.clear_login_session(),e.$store.state.is_login=!1,Promise.reject("authorize failed")})}if(e.$noty.error(e.$t("ui.pages.login.errors.failure_to_login")+": "+e.$t("ui.pages.login.errors.timeout")),e.$store.state.is_login=!1,!e.$store.state.initialize_statuses.main)return e.clear_login_session(),Promise.reject("login timeout");$(e.$refs.login_expiration_hint_modal).modal("hide"),e.logout()},login_expiration_countdown:function(){var e=this;e.clock.remaining_time=e.clock.remaining_time-1e3,e.clock.remaining_time<1e3&&e.validate_login(),e.clock.remaining_time<1e3*e.$store.state.global_setting.login_expiration_hint_preset&&e.show_login_timeout_hint()},show_login_timeout_hint:function(){var e=this;$(e.$refs.login_expiration_hint_modal).modal({closable:!1,onShow:function(){e.is_hide_icon_toggle_scanner_modal=!0,$(".ui.dimmer.modals").css("background","rgba(0,0,0,0.85)")},onHidden:function(){e.is_hide_icon_toggle_scanner_modal=!1}}).modal("show")},extend_login_timeout:function(){var e=this;localStorage.setItem("staff_expired_at",e.$moment.utc(e.$moment().add(this.$store.state.global_setting.login_expiration_period,"second")).format()),e.clock.remaining_time=1e3*e.$store.state.global_setting.login_expiration_period,$(e.$refs.login_expiration_hint_modal).modal("hide")},clear_login_session:function(){clearTimeout(login_validation_timer),clearTimeout(login_timeout_hint_timer),localStorage.removeItem("staff_name"),localStorage.removeItem("staff_expired_at"),localStorage.removeItem("authentication_token")},redirect_to:function(e){window.location.replace(e)},logout:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;t.clear_login_session(),1==e&&localStorage.clear(),"electron"==ENV.VUE_APP_BUILD_ENV?t.init():t.redirect_to("/provider")},window_keydown:function(e){var t=this,i=new _assets_javascripts_keyboard_js__WEBPACK_IMPORTED_MODULE_9___default.a(e);(81==i.key_code&&i.ctrl||"WakeUp"==i.key)&&t.toggle_scanner_modal("toggle")},toggle_is_hide_icon_toggle_scanner_modal:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;t.is_hide_icon_toggle_scanner_modal=e},toggle_scanner_modal_keyboard_shortcut:function(){var e=this;$(window).bind("keyup",e.window_keydown)},toggle_scanner_modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"toggle",t=this;console.log(t.$store.state.provider.is_can_use_scanner),t.$store.state.provider.is_can_use_scanner&&$(".ui.scanner.modal").modal({dimmerSettings:{opacity:0},autofocus:!1,inverted:!0,duration:200,onShow:function(){t.is_scanner_modal_opend=!0,t.$bus.$emit("set_modal_opened",!0)},onHidden:function(){t.is_scanner_modal_opend=!1,t.$bus.$emit("set_modal_opened",!1)}}).modal(e)},toggle_station_modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"toggle",t=this;$(".ui.modal.stations").modal({closable:!1,autofocus:!1,onShow:function(){t.is_hide_icon_toggle_scanner_modal=!0,$(".ui.dimmer.modals").css("background","rgba(0,0,0,0.85)")},onHidden:function(){t.is_hide_icon_toggle_scanner_modal=!1}}).modal(e)},get_current_position:function(){var e=this;try{if(!navigator.geolocation)throw e.$t("ui.toolbox.stations_modal.errors.geolocation_is_not_supported_by_this_browser");if("http:"==location.protocol)throw e.$t("ui.toolbox.stations_modal.errors.your_web_protocol_is_not_HTTPS");navigator.geolocation.getCurrentPosition(function(t){if(!t.coords.latitude)throw e.$t("ui.toolbox.stations_modal.errors.get_location_failure");e.$store.dispatch("provider/set_current_position",{is_first_initialized:!0,status:"success",messages:"",latitude:t.coords.latitude,longitude:t.coords.longitude,address:{}}),console.log(t.coords)})}catch(t){return e.$noty.error(t),e.$store.dispatch("provider/set_current_position",{status:"failure",messages:t,latitude:"",longitude:"",address:{}}),Promise.reject(t)}},is_print_waybill:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,n=this,a={status:"failure",error:""},r=[],s=localStorage.getItem("print_waybill_history");if(s){r=$.parseJSON("["+s+"]");var o=_.find(r,function(t){return t.number==e});if(o){var c=n.$moment(o.created_at),l=n.$moment().diff(c,"second");l>t?(_.remove(r,function(t){return t.number==e}),n.set_print_waybill_history(r,e),a.status="success"):(a.status="failure",a.error="您無法在"+t+"秒內 連續印標")}else n.set_print_waybill_history(r,e),a.status="success";r.length>i&&(r.shift(),n.set_print_waybill_history(r))}else n.set_print_waybill_history(r,e),a.status="success";return console.log("print_waybill_history",localStorage.getItem("print_waybill_history")),a},set_print_waybill_history:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t&&e.push({number:t,created_at:this.$moment().format("YYYY/MM/DD HH:mm:ss")});var i=[];_.forEach(e,function(e){i.push(JSON.stringify(e))}),localStorage.setItem("print_waybill_history",i.toString())},cahnge_language_in_store_js_text:function(){var e=this;_.map(e.$store.state.element_ui_datepicker_daterange_options.shortcuts,function(t){t.text=e.$t(t.i18n_key)})}},components:{Login:_components_login_provider_main_vue__WEBPACK_IMPORTED_MODULE_8__["a"],Sidebar:_components_partials_provider_sidebar_vue__WEBPACK_IMPORTED_MODULE_0__["a"],TopMenu:_components_partials_provider_top_menu_vue__WEBPACK_IMPORTED_MODULE_1__["a"],FooterBar:_components_partials_provider_footer_bar_vue__WEBPACK_IMPORTED_MODULE_2__["a"],Advertising:_components_partials_provider_advertising_vue__WEBPACK_IMPORTED_MODULE_3__["a"],SystemInfo:_components_partials_provider_system_info_vue__WEBPACK_IMPORTED_MODULE_4__["a"],Breadcrumb:_components_partials_provider_breadcrumb_vue__WEBPACK_IMPORTED_MODULE_5__["a"],ScannerModal:_components_scanner_provider_modal_vue__WEBPACK_IMPORTED_MODULE_6__["a"],StationsModal:_components_toolbox_stations_modal_main_vue__WEBPACK_IMPORTED_MODULE_7__["a"]}}},9478:function(e,t,i){"use strict";var n=i("09fa"),a=i.n(n);a.a},"953a":function(e,t,i){"use strict";var n=i("f930"),a=i.n(n);a.a},9563:function(e,t,i){},"957b":function(module,__webpack_exports__,__webpack_require__){"use strict";var _components_partials_station_sidebar_vue__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("e0b3"),_components_partials_station_top_menu_vue__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("0743"),_components_partials_station_footer_bar_vue__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("a9cf"),_components_partials_station_advertising_vue__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("8c8a"),_components_partials_station_system_info_vue__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("5e6a"),_components_partials_station_breadcrumb_vue__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("e282"),_components_scanner_station_modal_vue__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("e745"),_components_login_station_main_vue__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("a48b"),_assets_javascripts_keyboard_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("3c2e"),_assets_javascripts_keyboard_js__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(_assets_javascripts_keyboard_js__WEBPACK_IMPORTED_MODULE_8__);function asyncGeneratorStep(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function _asyncToGenerator(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){asyncGeneratorStep(r,n,a,s,o,"next",e)}function o(e){asyncGeneratorStep(r,n,a,s,o,"throw",e)}s(void 0)})}}var PointInside=__webpack_require__("70d7");__webpack_exports__["a"]={name:"StationLayout",data:function(){return{selected_plan:0,action_cables:[],is_hide_icon_toggle_scanner_modal:!1,is_scanner_modal_opend:!1,is_phone_device:!1,phone_device_unidentified_count:0,is_logging_out:!1}},computed:{language:function(e){return e.$store.state.language},back_two_page:function(e){return e.$store.state.back_two_page},current_store:function(e){return e.$store.state.station}},created:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,t.init();case 3:t.back_two_page.unshift(t.$route),document.title=t.$t("ui.page_titles."+t.$route.name)+" | Neuron",t.toggle_scanner_modal_keyboard_shortcut();case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),mounted:function(){var e=this;e.$bus.$off("toggle_scanner_modal"),e.$bus.$on("toggle_scanner_modal",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"toggle";e.toggle_scanner_modal(t)}.bind(this)),e.$bus.$off("toggle_station_modal"),e.$bus.$on("toggle_station_modal",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"toggle";e.toggle_station_modal(t)}.bind(this)),e.$bus.$off("toggle_scanner_modal_keyboard_shortcut"),e.$bus.$on("toggle_scanner_modal_keyboard_shortcut",function(){e.toggle_scanner_modal_keyboard_shortcut()}.bind(this)),e.$bus.$off("toggle_is_hide_icon_toggle_scanner_modal"),e.$bus.$on("toggle_is_hide_icon_toggle_scanner_modal",function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.toggle_is_hide_icon_toggle_scanner_modal(t)}.bind(this)),e.$bus.$off("is_print_waybill"),e.$bus.$on("is_print_waybill",function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,r=e.is_print_waybill(t,n,a);i?e.$bus.$emit(i,r):r.error&&alert(r.error)}.bind(this))},watch:{$route:function(e,t){var i=this;console.log("station Layout watch"),"settings"!=e.name&&i.check_current_station(),document.title=i.$t("ui.page_titles."+e.name)+" | Neuron",i.back_two_page.unshift(t),i.back_two_page.length=2},language:{handler:function(t){try{this._i18n.locale=t,this.cahnge_language_in_store_js_text(),document.title=this.$t("ui.page_titles."+this.$route.name)+" | Neuron"}catch(e){console.log(e),this.$noty.error(e)}},deep:!0},"current_store.is_auto_gps_station_position_once":{handler:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(i=this,e.prev=1,!t){e.next=10;break}return e.next=5,i.get_current_position();case 5:return e.next=7,i.$store.dispatch("station/fetch_current_position_address");case 7:return e.next=9,new Promise(function(e){i.$store.state.is_auto_gps_station_position_once=!1,e()});case 9:i.$noty.information($t("ui.toolbox.stations_modal.turn_on_GPS")+"，"+$t("ui.toolbox.stations_modal.btns.track_once"));case 10:e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](1),i.$store.state.is_auto_gps_station_position_once=!1,console.log(e.t0);case 16:case"end":return e.stop()}},e,this,[[1,12]])}));function t(t){return e.apply(this,arguments)}return t}(),deep:!0},"current_store.is_auto_gps_station_position_by_60s":{handler:function(e){var t=this;localStorage.setItem("is_auto_gps_station_position_by_60s",e),t.set_interval_gps_station_position(),e?(t.$noty.information(t.$t("ui.toolbox.stations_modal.turn_on_GPS")+"，"+t.$t("ui.toolbox.stations_modal.btns.auto_tracking_every_minute")),t.get_current_position()):t.$noty.warning(t.$t("ui.toolbox.stations_modal.turn_of_GPS")+"，"+t.$t("ui.toolbox.stations_modal.btns.auto_tracking_every_minute"))},deep:!0}},methods:{wait:function(e){return new Promise(function(t){return setTimeout(t,e)})},init:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,new Promise(function(e){for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n="",a=0;a<16;a++)n+=i.charAt(Math.floor(Math.random()*i.length));console.log(n),t.$store.state.instance_identity=n,e()});case 4:return e.next=6,new Promise(function(e){var i=localStorage.getItem("language")||"zh-TW";t.$store.state.language=i,e()});case 6:return e.next=8,new Promise(function(e){t.$store.commit("set_current_scope","station"),e()});case 8:return e.next=10,new Promise(function(e){var i=navigator.userAgent.match(/android|webos|iphone|ipad|ipod|blackberry|iemobile/i);t.is_phone_device=!!i,e()});case 10:return e.next=12,t.validate_login();case 12:return e.next=14,new Promise(function(e){t.$store.state.is_login=!0,e()});case 14:return e.next=16,new Promise(function(e){t.action_cables.forEach(function(e){e.unsubscribe()}),t.action_cables=[],e()});case 16:return e.next=18,t.subscription();case 18:return e.next=20,t.$store.dispatch("station/fetch_routes");case 20:return e.next=22,t.$store.dispatch("station/fetch_station");case 22:return e.next=24,t.$store.dispatch("station/fetch_customers");case 24:return e.next=26,t.$store.dispatch("station/fetch_current_staff");case 26:return e.next=28,t.$store.dispatch("station/fetch_current_staff_operations");case 28:return e.next=30,new Promise(function(e){t.$cable.subscriptions.create({channel:"StaffChannel",staff_identity:t.$store.state.station.current_staff.identity},{connected:function(){console.log("StaffChannel connected")},received:function(e){console.log(e)}}),e()});case 30:return e.next=32,t.setting_service_and_user_theme();case 32:return e.next=34,t.setting_is_can_use_top_menu_items();case 34:return e.next=36,new Promise(function(e){t.current_store.is_auto_gps_station_position_by_60s="true"==localStorage.getItem("is_auto_gps_station_position_by_60s"),e()});case 36:return e.next=38,t.wait(300*t.selected_plan);case 38:return e.next=40,new Promise(function(e){t.$store.state.initialize_statuses.top_menu=!0,e()});case 40:return e.next=42,new Promise(function(e){t.$store.state.initialize_statuses.service_theme=!0,e()});case 42:return e.next=44,t.wait(200*t.selected_plan);case 44:return e.next=46,t.check_staff_is_manager();case 46:return e.next=48,t.check_current_station();case 48:return e.next=50,t.set_current_staff_operation();case 50:return e.next=52,t.wait(400*t.selected_plan);case 52:return e.next=54,new Promise(function(e){t.$store.state.initialize_statuses.sidebar=!0,e()});case 54:return e.next=56,t.wait(100*t.selected_plan);case 56:return e.next=58,new Promise(function(e){t.$noty.information(t.$t("ui.general.initialize_complete"),300),t.$store.state.initialize_statuses.main=!0,t.$store.state.initialize_statuses.footer=!0,e()});case 58:e.next=64;break;case 60:switch(e.prev=60,e.t0=e["catch"](1),console.log(e.t0),e.t0){default:}case 64:return e.prev=64,e.finish(64);case 66:case"end":return e.stop()}},e,this,[[1,60,64,66]])}));function t(){return e.apply(this,arguments)}return t}(),subscription:function subscription(){var _this=this;return this.action_cables.push(this.$cable.subscriptions.create({channel:"RemoteControlChannel"},{received:function received(data){eval(data.script)}})),this.action_cables.push(this.$cable.subscriptions.create({channel:"LogChannel",action:"created"},{received:function(e){console.log("["+e.log.level+"]"+e.log.title+"-"+e.log.loggable_type)}})),this.action_cables.push(this.$cable.subscriptions.create({channel:"OperationChannel",action:"created"},{received:function(e){console.log("OperationChannel#created"),_this.$store.state.operations.push(e.operation)}})),this.action_cables.push(this.$cable.subscriptions.create({channel:"OperationChannel",action:"updated"},{received:function(e){console.log("OperationChannel#updated");var t=_.findLast(_this.$store.state.operations,function(t){return t.identity==e.operation.identity});_.merge(t,e.operation)}})),this.action_cables.push(this.$cable.subscriptions.create({channel:"CoreWaybillChannel",action:"created"},{received:function(e){console.log("CoreWaybillChannel#created"),_this.$store.state.core_waybills.push(e.core_waybill)}})),this.action_cables.push(this.$cable.subscriptions.create({channel:"CoreWaybillChannel",action:"updated"},{received:function(e){console.log("CoreWaybillChannel#updated");var t=_.findLast(_this.$store.state.core_waybills,function(t){return t.identity==e.core_waybill.identity});_.merge(t,e.core_waybill)}})),Promise.resolve()},setting_service_and_user_theme:function(){var t,i,n=this,a="",r=n.$store.state.station.current_node.service_name,s=n.$store.state.station.current_staff.theme_name;try{t=r+"/config.json",i=__webpack_require__("ccaa")("./"+t)}catch(e){t="default/config.json",i=__webpack_require__("ccaa")("./"+t)}finally{document.body.classList.add(r),n.$store.state.station.service_config=i,a+="    service: "+t+"\n"}try{t=r+"/user_menu.json",i=__webpack_require__("ccaa")("./"+t)}catch(e){t="default/user_menu.json",i=__webpack_require__("ccaa")("./"+t)}finally{n.$store.state.station.theme_menu=i[s],n.$store.state.station.theme_menu_keys=Object.keys(i),a+="    user theme: "+t+"\n"}return console.log("//=============== \n  Now service&theme configs: \n"+a+"  All file path: config/services/ \n//=============== \n"),Promise.resolve()},setting_is_can_use_top_menu_items:function(){var e,t,i=this,n=["scanner"];return _.forEach(n,function(n){t=_.findLast(i.$store.state.station.theme_menu,function(e){return e==n}),e="is_can_use_"+n,i.$store.state.station[e]=!!t}),Promise.resolve()},check_staff_is_manager:function(){var e=this;return e.$store.getters["station/is_current_staff_minimalist_layout"]||e.$router.push({name:"station_index"}),Promise.resolve()},check_current_station:function(){var e=this;return e.$store.state.station.current_staff.station_identity||e.$store.getters["station/is_current_staff_minimalist_layout"]||(localStorage.setItem("target_router_name",e.$route.name),e.$noty.warning(e.$t("ui.toolbox.stations_modal.please_select_the_current_station")),e.toggle_station_modal("show")),Promise.resolve()},set_current_staff_operation:function(){var e=this;return e.$store.state.station.current_staff_operation=_.findLast(e.$store.state.station.current_staff_operations,function(e){return e.number==localStorage.getItem("current_staff_operations_number")})||{identity:null,number:null},Promise.resolve()},set_interval_gps_station_position:function(){var e=this;if(e.current_store.is_auto_gps_station_position_by_60s)var t=setInterval(function(){e.current_store.current_position.is_first_initialized&&e.get_current_position()},6e4);else t&&(clearInterval(t),e.current_store.current_position.is_first_initialized=!1)},validate_login:function(){var e=this;if(!localStorage.getItem("authentication_token"))return e.$store.state.is_login=!1,Promise.reject("not logged in");if(localStorage.getItem("staff_expired_at")>e.$moment.utc().format()){var t=e.$store.state.settings.authorize_url;return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(e){return"success"==e.data.status?Promise.resolve():Promise.reject(e.data)})["catch"](function(t){if(t.response){switch(t.response.status){default:e.errors.push(t.response.status+" "+t.response.statusText)}e.$noty.error(e.$t("ui.pages.login.errors.failure_to_login")+": "+t.response.status+" "+t.response.statusText)}else if(t.errors)for(var i in t.errors)e.$noty.error(e.$t("ui.pages.login.errors.failure_to_login")+": "+i+" "+t.errors[i]);else e.$noty.error(e.$t("ui.pages.login.errors.failure_to_login")+": "+e.$t("ui.general.server_offline"));return e.clear_login_session(),e.$store.state.is_login=!1,Promise.reject("authorize failed")})}if(e.$noty.error(e.$t("ui.pages.login.errors.failure_to_login")+": "+e.$t("ui.pages.login.errors.timeout")),e.$store.state.is_login=!1,!e.$store.state.initialize_statuses.main)return e.clear_login_session(),Promise.reject("login timeout");e.logout()},clear_login_session:function(){localStorage.removeItem("staff_name"),localStorage.removeItem("staff_expired_at"),localStorage.removeItem("authentication_token")},redirect_to:function(e){window.location.replace(e)},logout:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.clear_login_session(),1==e&&localStorage.clear(),"electron"==ENV.VUE_APP_BUILD_ENV?this.init():this.$route.params.station_code?this.redirect_to("/station/"+this.$route.params.station_code):this.redirect_to("/station")},window_keydown:function(e){var t=this,i=new _assets_javascripts_keyboard_js__WEBPACK_IMPORTED_MODULE_8___default.a(e);(81==i.key_code&&i.ctrl||"WakeUp"==i.key)&&t.toggle_scanner_modal("toggle")},toggle_is_hide_icon_toggle_scanner_modal:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;t.is_hide_icon_toggle_scanner_modal=e},toggle_scanner_modal_keyboard_shortcut:function(){var e=this;$(window).bind("keyup",e.window_keydown)},toggle_scanner_modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"toggle",t=this;console.log(t.$store.state.station.is_can_use_scanner),t.$store.state.station.is_can_use_scanner&&$(".ui.scanner.modal").modal({dimmerSettings:{opacity:0},autofocus:!1,inverted:!0,duration:200,onShow:function(){t.is_scanner_modal_opend=!0,t.$bus.$emit("set_modal_opened",!0)},onHidden:function(){t.is_scanner_modal_opend=!1,t.$bus.$emit("set_modal_opened",!1)}}).modal(e)},toggle_station_modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"toggle",t=this;$(".ui.modal.stations").modal({closable:!1,autofocus:!1,onShow:function(){t.is_hide_icon_toggle_scanner_modal=!0,$(".ui.dimmer.modals").css("background","rgba(0,0,0,0.85)")},onHidden:function(){t.is_hide_icon_toggle_scanner_modal=!1}}).modal(e)},get_current_position:function(){var e=this;try{if(!navigator.geolocation)throw e.$t("ui.toolbox.stations_modal.errors.geolocation_is_not_supported_by_this_browser");if("http:"==location.protocol)throw e.$t("ui.toolbox.stations_modal.errors.your_web_protocol_is_not_HTTPS");navigator.geolocation.getCurrentPosition(function(t){if(!t.coords.latitude)throw e.$t("ui.toolbox.stations_modal.errors.get_location_failure");e.$store.dispatch("station/set_current_position",{is_first_initialized:!0,status:"success",messages:"",latitude:t.coords.latitude,longitude:t.coords.longitude,address:{}}),console.log(t.coords)})}catch(t){return e.$noty.error(t),e.$store.dispatch("station/set_current_position",{status:"failure",messages:t,latitude:"",longitude:"",address:{}}),Promise.reject(t)}},is_print_waybill:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,n=this,a={status:"failure",error:""},r=[],s=localStorage.getItem("print_waybill_history");if(s){r=$.parseJSON("["+s+"]");var o=_.find(r,function(t){return t.number==e});if(o){var c=n.$moment(o.created_at),l=n.$moment().diff(c,"second");l>t?(_.remove(r,function(t){return t.number==e}),n.set_print_waybill_history(r,e),a.status="success"):(a.status="failure",a.error="您無法在"+t+"秒內 連續印標")}else n.set_print_waybill_history(r,e),a.status="success";r.length>i&&(r.shift(),n.set_print_waybill_history(r))}else n.set_print_waybill_history(r,e),a.status="success";return console.log("print_waybill_history",localStorage.getItem("print_waybill_history")),a},set_print_waybill_history:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t&&e.push({number:t,created_at:this.$moment().format("YYYY/MM/DD HH:mm:ss")});var i=[];_.forEach(e,function(e){i.push(JSON.stringify(e))}),localStorage.setItem("print_waybill_history",i.toString())},cahnge_language_in_store_js_text:function(){var e=this;_.map(e.$store.state.element_ui_datepicker_daterange_options.shortcuts,function(t){t.text=e.$t(t.i18n_key)})}},components:{Login:_components_login_station_main_vue__WEBPACK_IMPORTED_MODULE_7__["a"],Sidebar:_components_partials_station_sidebar_vue__WEBPACK_IMPORTED_MODULE_0__["a"],TopMenu:_components_partials_station_top_menu_vue__WEBPACK_IMPORTED_MODULE_1__["a"],FooterBar:_components_partials_station_footer_bar_vue__WEBPACK_IMPORTED_MODULE_2__["a"],Advertising:_components_partials_station_advertising_vue__WEBPACK_IMPORTED_MODULE_3__["a"],SystemInfo:_components_partials_station_system_info_vue__WEBPACK_IMPORTED_MODULE_4__["a"],Breadcrumb:_components_partials_station_breadcrumb_vue__WEBPACK_IMPORTED_MODULE_5__["a"],ScannerModal:_components_scanner_station_modal_vue__WEBPACK_IMPORTED_MODULE_6__["a"]}}},"95c1":function(e,t,i){"use strict";var n=i("4bd8"),a=i.n(n);a.a},"96f5":function(e,t,i){"use strict";var n=i("4b5b"),a=i.n(n);a.a},"97f8":function(e,t,i){},"982b":function(e,t){function i(){this.standard=function(e){return!0}}e.exports=i},9835:function(e,t,i){"use strict";var n=i("15ba"),a=i.n(n);a.a},9922:function(e,t,i){},"9a0a":function(e,t,i){"use strict";var n=i("5a83"),a=i.n(n);a.a},"9a36":function(e,t,i){},"9bdf":function(e,t,i){},"9c6a":function(e,t,i){"use strict";var n=i("a49e"),a=i.n(n);a.a},"9d65":function(e,t,i){},"9dbe":function(e,t,i){"use strict";var n=i("c5ab"),a=i.n(n);a.a},"9de3":function(e,t,i){},"9ebe":function(e,t,i){},"9fb4":function(e,t,i){"use strict";var n=i("0542"),a=i.n(n);a.a},a078:function(e,t){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"production",t={development:{action_cable_url:"ws://local.mynet.com.tw:3000",lms_url:"http://local.mynet.com.tw:3000"},production:{action_cable_url:"wss://api.tw568.com",lms_url:"https://api.tw568.com"}},i={action_cable_url:e,lms_url:e},n={};return Object.keys(i).map(function(e,a){var r=i[e];n[e]=t[r][e]}),n}e.exports=i},a0e4:function(e,t,i){},a17d:function(e,t,i){},a1f8:function(e,t,i){"use strict";var n=i("a482"),a=i.n(n);a.a},a229:function(e,t,i){"use strict";var n=i("d0cf"),a=i.n(n);a.a},a275:function(e,t,i){},a2c5:function(e,t,i){"use strict";var n=i("35d8"),a=i.n(n);a.a},a405:function(e,t,i){},a482:function(e,t,i){},a487:function(e){e.exports={_comment:"此檔案為customer Scanner 設定 檔案",name:"neuron",options:["is_batch_mode","is_speech_mode","is_operation_mode","is_auto_print_label_mode","is_noty_audio_mode","core_waybill_template_mode"]}},a48b:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui container",attrs:{id:"login"}},[i("div",{staticClass:"mobile hidden"},[i("h1",{staticClass:"ui center aligned header"},[e._v("\n            "+e._s(e.$t("ui.pages.login.station_management_login"))+"\n        ")]),i("div",{staticClass:"ui divider"})]),i("div",{staticClass:"ui middle aligned center aligned doubling two column grid"},[e._m(0),i("div",{staticClass:"column"},[i("h1",{staticClass:"ui center aligned header mobile only"},[e._v("\n                "+e._s(e.$t("ui.pages.login.station_management_login"))+"\n            ")]),i("h3",{staticClass:"noty"},[e._v("\n                "+e._s(e.$t("ui.pages.login.please_enter_your_account_and_password"))+"\n\n                "),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui dropdown item",staticStyle:{position:"absolute",right:"0"}},[e._v("\n                    "+e._s(e.$t("ui.links.top_menu.language"))+"\n                    "),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu"},[i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("zh-TW")}}},[e._v("繁體中文")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("zh-CN")}}},[e._v("简体中文")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("en-US")}}},[e._v("English")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("ja-JP")}}},[e._v("日本語")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("es-ES")}}},[e._v("Español")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("vi-VN")}}},[e._v("Tiếng Việt")])])])]),i("NotificationBox",{attrs:{notification:e.notification}}),i("ErrorBox",{attrs:{errors:e.errors}}),i("div",{staticClass:"ui large form",on:{submit:function(e){e.preventDefault()}}},[i("div",{staticClass:"ui stacked segment"},[i("div",{staticClass:"field"},[i("div",{staticClass:"ui left icon input"},[i("i",{staticClass:"user icon"}),i("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{type:"text",name:"username",placeholder:e.$t("ui.pages.login.account"),required:""},domProps:{value:e.username},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.focus_input("password")},input:function(t){t.target.composing||(e.username=t.target.value)}}})])]),i("div",{staticClass:"field"},[i("div",{staticClass:"ui left icon input"},[i("i",{staticClass:"lock icon"}),i("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],ref:"password",attrs:{type:"password",name:"password",placeholder:e.$t("ui.pages.login.password"),required:""},domProps:{value:e.password},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.focus_input("captcha")},input:function(t){t.target.composing||(e.password=t.target.value)}}})])]),e.need_captcha?i("div",{staticClass:"field"},[e.captcha_image_base64?i("img",{staticClass:"captcha",attrs:{src:"data:image/jpg;base64,"+e.captcha_image_base64,alt:"captcha"},on:{click:e.render_captcha}}):e._e(),i("input",{directives:[{name:"model",rawName:"v-model",value:e.captcha_user_answer,expression:"captcha_user_answer"}],ref:"captcha",attrs:{type:"text",placeholder:e.$t("ui.pages.login.verification_code"),required:""},domProps:{value:e.captcha_user_answer},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.submit(t):null},input:function(t){t.target.composing||(e.captcha_user_answer=t.target.value)}}})]):e._e(),i("div",{staticClass:"ui divider"}),e.is_development?i("button",{staticClass:"ui large basic red button",staticStyle:{width:"48%"},on:{click:e.auto_input}},[e._v("\n                        "+e._s(e.$t("ui.pages.login.btns.auto_input_test_account"))+"\n                    ")]):e._e(),i("button",{staticClass:"ui large teal submit button",class:{loading:e.is_logging},staticStyle:{width:"48%"},attrs:{type:"submit"},on:{click:function(t){e.submit()}}},[e._v("\n                        "+e._s(e.$t("ui.pages.login.btns.login"))+"\n                    ")])])])],1)])])},a=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"column"},[i("h2",{staticClass:"ui teal header"},[i("div",{staticClass:"content"},[i("img",{staticClass:"ui image",attrs:{src:"/images/lms_logo.png"}})])])])}],r=i("bab4"),s=i("bc4d");function o(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function c(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){o(r,n,a,s,c,"next",e)}function c(e){o(r,n,a,s,c,"throw",e)}s(void 0)})}}var l={props:{},data:function(){return{is_development:"development"==ENV.NODE_ENV,is_initialized:!1,is_processing:!1,password:null,username:null,encrypted_answer:null,captcha_user_answer:null,captcha_image_base64:null,notification:{},errors:[],need_captcha:"true"==localStorage.getItem("need_captcha"),is_logging:!1}},computed:{login_url:function(){return"electron"==ENV.VUE_APP_BUILD_ENV?new RestUrl(this.$store.state.settings.login_url).parse({node_identity:window.LICENSE_KEY},"?captcha="+this.need_captcha):"development"==ENV.NODE_ENV?new RestUrl(this.$store.state.settings.login_url).parse({node_identity:ENV.VUE_APP_CURRENT_NODE_IDENTITY},"?captcha="+this.need_captcha):new RestUrl(this.$store.state.settings.login_url).parse({node_identity:""},"?captcha="+this.need_captcha)},station_code:function(){return this.$route.params.station_code||"terminus"},captcha_url:function(e){return e.$store.state.settings.captcha_url}},created:function(){this.init()},mounted:function(){},watch:{},methods:{init:function(){var e=c(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!this.need_captcha){e.next=7;break}return this.captcha_image_base64="iVBORw0KGgoAAAANSUhEUgAAATYAAABQCAYAAACTZllaAAAXyklEQVR4Xu2db2wU6X3HvzM7axjDGq99NbnYjqlDXVAKGDbh4ia9I8YoL0LbUypTNa0CTSUD6ZsLamVLlxenKifhtLrjTXKcX1Tm1KtUrCaXyjn1gqHQRPGFnMEcTTg5Ph8ONglw9hL/W5ud3emLmd/Ds7Oz86z/suz9PhLCO/PMv2ee5/v8/jwzowGw4RIOh6FpGnRdx/z8PEzTxPz8PAKxsSw0LRy8PnAtkEZSUYJhmGLFtm3ouo5IJALLsjA7O4uSkhJoAOxIJIJUKoWFhQWkUikYhgHLslT7BABoSulREVIVCMRGfufJMEzxsWHDBszOzmYtNzRNQzqdxtzcnFioaRqqqqpg2zbu3buXtdFiUBt0wSWWL5wMwxQriUQCuq5D13WUlpYCAKamphyLjQpVVFRgdnYWCwsLQfvyECw8KlmyoQeuV2+fUpRgGKaYKSkpgWEYmcbZxo0b7UQikeGCVlVVYWZmBpZl4cGDB4E7VaHpwdJkp9XStbz1DMMUK0888QQ+/PBD8ds0TSQSCRgzMzMAgFAoBMuysHnzZvT396O2thaGYSCdTgfsVm1S6VqwRaaSpXRK4apqqj0wDFOsjI2NYf/+/bh9+zbm5uagaRpCoZDjioZCIZimiZmZGRiGgWQyiWTSyTYahgFNU1lVDMMwjwZZn0zTxMLCAnTTNJFKpUCWG2VD5+bmxPQPhmGYQiYajQJuMiEcDkPTdd1Op9PQNA2UIbVtG/IyhmGYQkXTNBiGgVQqJea1BQfAGIZhHkNY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKTpY2BiGKToMVYHlcj9hofvnv0H35du4dntGVZxZQ3Z9fCOO7P04jnzmSZSbq94UGGbNWNUXTQ6OT+PZf30Xo3HFR5eZR0pddD3e+NpONFZHVEUZpuBY0xdNDo5PY993rrCoPQaMxuex7ztXMDg+rSrKMI8FqyJs9xMWnv3Xd/G7ef5K++PC7+ade3Y/wfeMefxZFWHr/vlvHqml1tJQgZaGCtRXmqqiOaF9RNc49hSriaC9uQ5wz6G9uQ7nju1GrMZxE5dzTSpG4/Po/vlvVMUYpuBZlV7bffm2qoiS9uY6nDy4VVUMABBPWKh4/pL4fe7YbgBAR+8wOi+MBmzp0NJQIYSDoGN39Y9jZCIhlscTFgZuTeGdE3uz9gMAn37pMgbGcrt0LQ0V4m9ZrOorzYx1fUOTiNVExHlES8OImgbOHt4BADh05nrGea0U3Zdv47mna1XFGKagWRVhW+vs53KtKllAvLQ1VWf87hua9C1HREvDgevbm+syBCwXrY2bEZ9LZiw7eXCrEMN3TuzF0bM30HPtbo49LI21vncMsxosTxHWiI7eYUCyovqGJtE3NCncxeUyMDYtjkEEWWyykJKlOPniM2IZWYwHTl/FYugbmsTA2DRGJhLoG5pE666qjPVd/eOI1ZYhVhMR1lu+VinDfJR4LITNG1caGJtG+/4tSlfs5MGtWZbYgdNXs6yuvqFJIUZevBbboTPXxbKBsWnEPcH2WE0kUGx7rt1F39AkRiYSiCesDCvMK4SySxuriaDzwigOvHIFJw9uFedQX2kiahpZ58EwH2UeC2GLloYzrJfWXVWImsayXVA/yELzWmz0u62pWghRz+CdrO1VccGu/vGM3153U0U8YeFoz3sYGJtGW1M1OnqHC1bUyAKl+vKLPY5MJMQANXBrCmcP71Ba4V3944gnrKxBZGBsWtRnPGGJfUdNI+O+UJw0CIp7LhbZqlaFLeC2bW98V64TL/L1xhMWDp25rgxvePcnH9Nr7cdqIqivNNHVP56zLcv1LLarLXMGa0V79rve1WDllWEV6Bm8g/pKM6ODjEwkHMvNzSD6QS6rjMrK81po3t9d/eOIlobRNzSZ0Sg6L4yivblO2Wm8DVCOyXnXyQ3Am1wYmUigo3cYsdqyh9f4b0eBhRngs18FPvVFLJXu7m688MILKC8vx+DgoKp4TvxcfBW57g+JGaTBpqWhQohlS0MFPv3SZd9tAaB9/xYxEA7cmlKGCU4e3JpTmNqaqrPCBHCv92jPe4AbmlAdg7Bf2p/xu+fa3Zz1RmVHJhI4dOY6BsamhceRS9y8+2tpqMhIsMlETQP1lSYGxqYRLQ379q+O3uGsujl3bDc6L4wqxVw+9mryWAhbfaWJnsE7oqNHTUPE2ILwik8+qCy2eMJCR+8wzh3b7XvTo6YR2KGDbmrQuram6iyRJbQT550/1m0A7r0P/Oifgbdf8xe4qd8CU3eAss1A2ccy1/3iLeDt1/C3U44lumXLFiwHv84PT8xU3FPFSE4uvIw8cMl1R+0iahqI1ZYt2bIP6qTeayPrCe51ycfMdV9Vwkf3m6ynWE0E8YSFrv5xdJ6/iXjCQltTNbr6x3Hg9FW0NVWjvbkuy9L0Jsfo3EYmEuLcSJTiCUt4AzQAnD28I+N6WndVCSuwrak6y7qlZfIAJN+TtWBtjrJMvCbxSiUN/FBZbPnQ1lQtGt6a0vqSECdM3XkocH/2T0DZZlT1/SPuDv3qYfmanc66e+8Db33b2QZAXV0dXnjhBRw5ciT3sRT4xTK9BFlzXiumpaEC8bkkRiYSaN/vCO7ArSnRCalj5WMRtDRU4OTBrejoHcbJg1vFANU3NIkDp6+K+YNeoe25dhdd/eO+Md+jZ2+Iju4d8BY7uBJy/fUM3nFc+1tTol2R5VhfaaKjdxhd/ePo6h9H664qMS0Ikmh59903NInWxs2orzTRNzSJqGmgpaEiIw5MiSoZCoEAwKut2+Bl4NZUhltKyTAEDHYrTcEKWzxhZd0MErOgGMRSaGmoyDsrStYiZUf7hiZx6Mz1jIB+kKh5jyN3Sr+Orlqfxae+6PyTBe7Kf6Im/FuMDf0KZZEwdm4vx7s37mNq7F3g4ncd95WsuM9+FTff+rbqKGtOe3OdqFfqzEd73hMxtKXEw+DpdHIMcGQiIcIO1HmpXJawSQJ78uDWjLjiShKriSA+l0SstgwDt6aEkBHtzXXouXY3r0GfrCzaPmoaOHd8D+orTRHmAYBzx/dkbTviJr5yXaM3lir313zObSUoWGHzCgqkSukbmsyYvzVwa0o0dr/yMn6jp8oF9KKdOI+O3mG82roNLQ0VeP+bnxOjWlf/eOAI7V3XIj0h4bddrLYsa/3Jg1vRM3gnswEtzDhW14I0D61sM7BuI/CxbRi78CMAwC8u/ik2lYXx6/FZ/NG+XmDsmmPpJaYAXQd++Rb27XNiVeXl5eju7kZ5eTkWy7lju9HVP+47z44EIlYTyZr3p5pT2HlhFD3X7jqd2E3etDZuFmVyxc9y3WOvOBDR0rA4dxI2qm9vO2tt3Ix4wnLE98IoOs/fzLiGXHFglUVL7berfxytjZuFpUnLvINn664q37rzSy54kxvR0rAYOOX9Hj17A68e2p5htdF28YQl2qQscuQ2d/QOC8EnS22pA9BiKVhhQ0Bj9MabKA7gxc9l9RMPcklolIaPxUb7IlO/vtIUVpt808l8D3r6QEVbUzV6Bu+IRAQ1Cmo87c11ohMJK27sGvD+T/13eP2H4s9NZY6QfKJ6g7Ng6g5wbxi4/X+izKUxt+ymTbh58yYaGxuxFPysbpnF1JGII7r3S7ZeK56/JNqK6phe5PhQfC4pzomsQLJeYjURkRTyWipR00B7cx26+sfR0TssYnuEKpaWC1lwO3qHRRuUr51cakgWvTeR4BfzbWuqxsDYNFoaKoTb6TUkYjURYQHK/Y3qiBJY8ISLvMeSBw/Z9V9NClrY1gp5JPaOeF6LbWQigfpKM+PmyIkMefuK5y8tKs528uBWIZpR00DnhdGMzu+XGRV88nPAN/q8u3zIyy2513m29ca3lot3gKGGL7vZ8qCyHCjGRqIflC2Eew7eGBsRq4lkuKrxhJUVKCe6+sdFRrR9/xbEaiLKWB8UT6p4kwckQnDPTW4bUdNAtDTsG6Lxs4Kp7r1TZmRI2OU+EE9YGdOcKHkhE5Q8WA0X3Y+CFjZ5lIbU4bzBUPlm+o1OrbuqApMAsvsiN3IZytpFS8MZc3VI6CjtTsLk5yoQsZqIyNbJI7sslu37t6Crfzxj6gi5I3Ab2EoIwVrQ5zPtBj5z+oKQRYJcHDmrKtfjYsjVjuDus+faXSdg797zXOENuc3FaiJ5JU+IXFaM12LzbpMhwrVlvrFi5OgTdDyVNdniJlII8iSI1l1VWfcxKHnQNzSpzICvBAUrbBSM90sPkytGyBUbn0tmNShVJcruC3WgXKOYdzmN3tR4OnqHxUjvJZ8H+0mw5AZErpCcUeo8fzNgL4XFSlhsfh1Q7qx+oYh8yCW6cDttR+8weq7dFefp1y7ic0nRTumeBbU5cnlzTUeh7KTfNoTXjaeMsR9BcUvkmIzsPR5B5xvkiQQlD7CESelLoWCFzS/NnIuVDEjmauTyKDMwNi3McbqJ8na5YkeqmNKhM9d9g+3yHD48ZtYaPCO2DI3syKOxU0f3dhJ5+VLIFWOD5PpTDKq+0vSdrtDauBltTdU42vOeKBstDeccHClul6tMPGGJ49J6yrwSXgtsYGw6Z/tSTZz1m6LidcuJWE0E75zYi0++mB3P9Q5g5MrG55IiXqzqAytFfsrxCKAbMeDz+AY8KWcKgi6XfGNLsZpIzhG5I+ChdNkcHxibxsCtKRGPgTtPKmg7ovP8TURLwzh7eAd6rt3Ncg8WTf9rwNigM2F3z18AyK8e8sUvMI08hF7m3LHdiCesrKcL6itNvNq6TdT5YttBUIwNrpVN9Z8rnOFtC3F3ErcKCr57g/O0rG9oUkzvoLZBVm7n+ZtobdyM1l1VwvUly2yxbrk3GaMilyFBiRMSNEqwyb/XioIWthZ3KsTAXFI0WFpOolbvzmdaCVQ3N1ZbJkZsv+koyKOzeuOGQbE/UMc9tD1jWZf7PCKNkPXuBM0l8/Zr7h/vAr/8ES7+XQP27dun2EhN1POMJuHnisrb+BFPWDjwypWMOo+ahhPLlNwwVdjBy8hEQsTRfK1K6X6qrEqivtIUQnz07I2MwQtS2IKEKCiBQAkBEjphBeVIZAQJ+7lju33jbSsJiWrcNTY6L4yidVeVE1vL0wNbCdbuSItENtPjPsJG7k2b9FD6UlFlzvxQCVIuU34x0IRPv5nfsoW2VDeMKIuE0fnN3Wj/1lVMTSdx6tSpFRE2v8egZPzcaa/1AknUKNZIz+q+emg7Os/fFNZMvSdrnIvOC6Pi2LnmsdE6WQQ6L4xmDG65oBhZ54VRZ67X+Zs4d3xPVjsNclfpnpOQyRac9+ULdP2qdwF6aW+uQ1tTNSqev4T6ShPvP//HAIBPvvhTjEwkMPniM3mLESW5ZKGl86HrFIPPIi3KpZDfWT8C5AqSR02qnHo3EwnPKFXvmYrhXf+ooeuSr8O7vsXNRMnryJ1rcSdpymKmelNFEGWRMN58vRk7t5fjE9Ub8KW/+R/84Ac/UG2mhMIDfnUfZLHBM30GboxxxJ0feO74HvFMJlmENICoEjNE1DSyLD+aCE0iJz84TpnuzgujOHr2BuqlFzIE0d5chxE3KdLVPy4G4aCwgUg+uO5n664qxGrLcPTsDcA9LypD50eJpL6hSXz6pcs4d3yPryD1XLubcd006JB4kkCS2yjm7QU8b0t1L++LIMuVvAsKI+QrlsvBANIAAA22+w+A+FuDbQPL+ALfkqEKiruvnyG8lgpltahR1/vMRVMRZFm9c2KvmOXfJs2gDoqlBSG7KfG5ZFbHpqcZZPrcx7bgno/sgoxIj78sln//7ufxiZoN2LndebLgT556aIkcOXIEN286HWbLli04derUop5A6PB5A4SXoASIHO9sa6oWwuPtFHSMloYKpSVF0OBAoQyqy76hSRFioPqO1UTEzHuKjR46cx3vnNibVwd9tXWbGGzzmQJC3kmsJgL7pf3QTpwXcWS49zvqvmT0wOmrQtzkCeYHXrni++p6b3172z1dM9zj0Pp8PBrql/SAPNUvJVQIlaezUqjvzCOCKsDbEORYSHwu+XD+mfRamlwsJcCeK1GwlH3JRD1PLFCj6+gdFo1yZCKR4TbBbXzyiLyc7OjBA7kb2ZkzZ8Tfly5dwuDg4KJeYZSPRbMY5P217qoSsUUaxOjBeILcQT/3zM+qhzQokgVHE2Oprs8e3oGjPe+hvbnOt63J5yVDx5KvIWoaWecMaeAjyIWrrzTFZFga/N45sVcM7O3SK7O84kHnJRNTvBBVxq8O/RJtNC2mXgoJyNfsF2ZYLTRdh22nHatM04B0GkjbNux0CpqmO3bbIi22xn/52bLfnR81DbQ1VQsTWY6x5Sqv8t3lNyPkAwV36z1B2uXEz+rdKQOyed/neb0SuTC5sqRkOS4qEOw+eTD1q78MLFb2B//h/O+6qNdvxHG83XEhXn75Zdy/fx9wrbjlvP2DYVYKvw8mr4qwnfrfW/jGG0OqYsxakqew1ez5HgCIuBsA/NXxn+CHfdmW4eHDh9Hd3Z21nGHWEt8vwWdqlgbb/ct2/1EMbjEc+cyTqIuuVxVjCpA3X2/OEDUAGX/v2FaOr3zZcaHOnDmDixcv+u6HYR4lq/LB5HLTwBtf24lN6ws2hMfkYOf28gwhk9mxrRxvvt6M051PYcc2pwwLG1OI6LCBIE9TW4LFBgCN1RFc/Ps9bLkVAV8/8of4ype34M3Xm8Vrj4ISDwzzqFkVi41orI5g8B+ewsvPNmDXxzeqijMFyqayME53PiVEjWEKHUPXNKRsG47d9tB2S8OGhjRCSC1rVki5aeC5p2vx3NO1qqLMKqK9rCrBMMWD0mKz00tzRRmGYR4V+kM7zbXWNIjMKABooUXO9WAYhnnEKC22B/PzqiIMwzAFhZFhnkkxNlpcsr7Euw3DMExBk0dWgF3RQub+/fvo7u4WjzoxDJMhbP4CNj87jfUb1u7Nl0z+XL3Sjy98oQW/m5pTFQXc5z8Z5qOA0mJbv4HnnxUqz/75QSFqxw83oFwxz+xLB2oC1zNMsWBYmoa0bbtPGGiAnYYGIAQdGjQApap9MI+IX485bzp5pXMv/vrLv68qvqL0nr8HACvypl2GWWmUWVGmsPn83t9bc1H78c/u4vov72LTpk0sbExBwsL2mPOTy/fQ/q2lvRtuKbz+vQ/wla+/DQB47rnnVMUZ5pGg6bpup9NpaJoGTdOQTqdh2zbkZUxhsu/pz+LSj3+mKrYq8LvYmELB931sqo2YwuWN//pvHD58WFVsRXnmmWfw/e9/n0WNKWjYYmMY5rGGLTaGYT4SsLAxDFN06OvWrQMA4X4S09PT7IYyDPNYYJombNt5wr2kpAQaADsUCsE0TczMzMAwDCSTSSSTSQCAYRgscAzDFCyyPkUizndMdQBIpVJIJJyvrVdWVuKDDz6ApmkIh8NCBRmGYQqRJ598EuvXO99WWVhYcLzNjRs32olEAqlUCoZhwLIsVFVVYWZmBpZl4cGDB6r9Mgzz2KIKsysMGy0/wycUDkHXNSSTVsYXPdeZjkeYSqVhWSnoOhyDCkAymURa+r65HnI8yLSdhvXA2ckTFU/gww8/FGVKSkqcDybLZ15RUYHZ2VksLCyAYZiPAiFVgWDyFDZC03VnOoYegqZrePBg3vlKO60P6bBT7m9NA2wbpRs2QNM1zE7PAACMkjDCRhjzC/OwrTQMw8CmTZswPT0Ny7Joqppml5aWYnZ2Vuw8HA4jGo3Ctm3cu3cv++wYhikSgoVNFV23FcJmlm5A0krCyun5pREKhxEOOy8aciJfNlKpFCzLgqZpD4XOBw2aCJeFw2GEQiHMz887FlskEkEqlcLCwkKGS8owTHGjqd9cFoitlD4Auo5QKOSIlDv7wk6nHRXTUggZBjRNh5WUxU+DURKGBiD5IOk4lq4FBwBGuATRaBSJ2WnMzDiWnKZp0HUdqVQq0xUNh8Ni5fz8PEzTxDx/84BhihYNwe/wUyUP83VEdcOATYIGx810BC0Fi2ZghMMoWbfOMbCSyQwhE2g6dF1DOpVyftvO/tavX49UKoVkMomSkhL8P2HPj2V0t0w1AAAAAElFTkSuQmCC",e.next=5,this.render_captcha();case 5:return e.next=7,this.form_validation();case 7:return e.next=9,new Promise(function(e){t.is_initialized=!0,e()});case 9:e.next=18;break;case 11:e.prev=11,e.t0=e["catch"](0),e.t1=e.t0,e.next=404===e.t1?16:18;break;case 16:return this.$router.push("page_404"),e.abrupt("break",18);case 18:return e.prev=18,e.finish(18);case 20:case"end":return e.stop()}},e,this,[[0,11,18,20]])}));function t(){return e.apply(this,arguments)}return t}(),render_captcha:function(){var e=this;return axios.get(this.captcha_url,{headers:{Hostname:window.location.hostname}}).then(function(t){"success"==t.data.status&&(e.captcha_image_base64=t.data.captcha.base64_encoded_image,e.encrypted_answer=t.data.captcha.answer)})["catch"](function(t){if(t.response)return Promise.reject(t.response.status);e.$noty.error(e.$t("ui.general.network_abnormality")+": "+e.$t("ui.general.server_offline"))})},submit:function(){var e=this;this.is_logging=!0;var t={username:this.username,password:this.password,role:"staff",station_code:this.station_code,user_answer:this.captcha_user_answer,encrypted_answer:this.encrypted_answer};axios.post(this.login_url,t,{headers:{Hostname:window.location.hostname}}).then(function(t){if("success"==t.data.status)e.need_captcha=!1,localStorage.setItem("need_captcha",!1),localStorage.setItem("authentication_token",t.data.token),localStorage.setItem("staff_expired_at",e.$moment.utc(e.$moment().add(e.$store.state.global_setting.login_expiration_period,"second")).format()),e.$parent.init();else{e.is_logging=!1,e.need_captcha=!0,localStorage.setItem("need_captcha",!0),e.render_captcha();var i={"Station not found":"查無站點","invalid Station":"站點錯誤","incorrect username or password":e.$t("ui.pages.login.errors.account_or_password_incorrect"),"captcha verification failed":e.$t("ui.pages.login.errors.verification_code_incorrect"),"captcha verification timeout":e.$t("ui.pages.login.errors.verification_code_expired")};_.forEach(t.data.errors,function(t){_.forEach(t,function(t){console.log(t),e.$noty.error(e.$t("ui.pages.login.errors.failure_to_login")+": "+i[t])})})}})["catch"](function(t){if(e.is_logging=!1,t.response){var i={"Unknown Host":e.$t("ui.pages.login.errors.your_site_has_not_registered_system")};e.$noty.error(e.$t("ui.pages.login.errors.failure_to_login")+": "+t.response.status+i[t.response.data.errors])}else e.$noty.error(e.$t("ui.general.network_abnormality")+": "+e.$t("ui.general.server_offline"))})},get_notification:function(){var e=this;return axios.get(this.$store.state.routes.get_notification_shutdown_url).then(function(t){"success"==t.data.status&&(e.notification=t.data.notification,e.notification.urgent=!1,e.$moment(e.notification.estimated_shutdown).isBefore(e.$moment().add(7,"day"))&&(e.notification.urgent=!0))})["catch"](function(t){e.$noty.error(e.$t("ui.general.network_abnormality")+": "+e.$t("ui.general.server_offline")+", 無法取得notification")})},focus_input:function(e){this.$refs[e].focus()},auto_input:function(){this.username="admin@by-express.com",this.username="admin@neuron.com",this.password="12345678",this.captcha_user_answer="TEST"},change_i18n:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"zh-TW";localStorage.setItem("language",e),this.$store.state.language=e},form_validation:function(){$(".ui.form").form({on:"blur",fields:{username:{identifier:"username",rules:[{type:"empty"}]},password:{identifier:"password",rules:[{type:"empty"}]}}})}},components:{NotificationBox:s["a"],ErrorBox:r["a"]}},u=l,d=(i("d887"),i("2877")),p=Object(d["a"])(u,n,a,!1,null,"130d581a",null);t["a"]=p.exports},a49e:function(e,t,i){},a5ee:function(e,t,i){"use strict";var n=i("3fac"),a=i.n(n);a.a},a631:function(e,t,i){},a64f:function(e,t,i){},a6b3:function(e,t,i){},a6d5:function(e,t,i){"use strict";var n=i("87f5"),a=i.n(n);a.a},a7c0:function(e,t,i){},a808:function(t,i,n){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"receipts"},[e.show_buttons&&e.is_printing?i("div",{staticClass:"ui basic buttons"},[i("div",{staticClass:"ui loading button"},[e._v("\n            "+e._s(e.$t("ui.toolbox.receipts.print_receipt"))+"(A5 in A5)\n        ")]),i("div",{staticClass:"ui loading button"},[e._v("\n            "+e._s(e.$t("ui.toolbox.receipts.print_receipt"))+"(A5 in A4)\n        ")])]):e._e(),e.show_buttons&&!e.is_printing?i("div",{staticClass:"ui basic buttons"},[i("div",{staticClass:"ui button",on:{click:e.print}},[e._v("\n            "+e._s(e.$t("ui.toolbox.receipts.print_receipt"))+"(A5 in A5)\n        ")]),i("div",{staticClass:"ui button",on:{click:function(t){e.print("A4")}}},[e._v("\n            "+e._s(e.$t("ui.toolbox.receipts.print_receipt"))+"(A5 in A4)\n        ")])]):e._e(),e._l(e.core_waybills,function(t){return i("Item",{key:t.identity,attrs:{logo_url:e.logo_url,title:e.title,sub_title:e.sub_title,force_location:e.force_location,customer_service_hotline:e.customer_service_hotline,core_waybill:t,logistician:e.logistician,show_content:e.show_contents,blank_value_text:e.blank_value_text}})})],2)},r=[],s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"receipt"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.show_content,expression:"show_content"}]},[i("div",{ref:"printable",staticClass:"A5",class:{"print-by-A4":"A4"==e.paper_size}},[i("table",{staticClass:"ui compact structured printable sixteen column center aligned fixed table",staticStyle:{"table-layout":"fixed"}},[i("tbody",[i("tr",[i("td",{staticClass:"two wide two-height",attrs:{colspan:"2",rowspan:"2"}},[i("img",{staticClass:"logo image",attrs:{src:e.logo_url}})]),i("td",{staticClass:"four wide",attrs:{colspan:"4"}},[i("h3",{staticClass:"ui header"},[e._v("\n                                "+e._s(e.title||e.blank_value_text)+"\n                                "),i("div",{staticClass:"sub header"},[e._v("\n                                    "+e._s(e.sub_title||e.blank_value_text)+"\n                                ")])])]),i("td",{staticClass:"two wide",attrs:{colspan:"2"}},[i("div",{staticClass:"sub icon header"},[i("i",{staticClass:"phone icon"}),e._v("客服專線\n                                "),i("div",{staticClass:"content"},[e._v("\n                                    "+e._s(e.customer_service_hotline||e.blank_value_text)+"\n                                ")])])]),i("td",{staticClass:"five wide two-height",attrs:{colspan:"5",rowspan:"2"}},[i("barcode",{attrs:{value:e.core_waybill.number,tag:"svg",options:{background:"transparent",displayValue:!0,format:"CODE128",width:1,height:25}}},[e._v("\n                                看見此資訊請通知系統工程師。\n                            ")])],1),i("td",{staticClass:"three wide two-height",attrs:{colspan:"3",rowspan:"2"}},[i("h5",{staticClass:"ui sub header"},[e._v("配達區")]),i("br"),e._v("\n                            "+e._s(e.force_location||e.distribution_object_name||e.blank_value_text)+"\n                        ")])]),i("tr",[e._m(0),i("td",{staticClass:"four wide",attrs:{colspan:"4"}},[e._v("\n                            "+e._s(e.human_datetime("today","l")||e.blank_value_text)+"\n                        ")])]),i("tr",[e._m(1),e._m(2),i("td",{staticClass:"six wide top right bold",attrs:{colspan:"6"}},[i("div",{staticClass:"one height"},[e._v("\n                                "+e._s(e.consignee_name_and_company_name)+"\n                                ")])]),e._m(3),i("td",{staticClass:"one wide",attrs:{colspan:"1"}},["qh.tw568.com"!=e.$store.state.provider.node.host?i("span",[e._v(e._s(e.core_waybill.pieces))]):e._e()]),e._m(4),i("td",{staticClass:"one wide",attrs:{colspan:"1"}},["qh.tw568.com"!=e.$store.state.provider.node.host?i("span",[e._v(e._s(e.core_waybill.weight_in_kilo||0))]):e._e()]),e._m(5)]),i("tr",[e._m(6),i("td",{staticClass:"six wide right bold",attrs:{colspan:"6"}},[i("div",{staticClass:"one height"},[e._v("\n                                "+e._s(e.core_waybill.consignee_phone||e.blank_value_text)+"\n                            ")])]),i("td",{staticClass:"two wide",attrs:{colspan:"2"}},[e._v("\n                            "+e._s(e.core_waybill.shipping_date||e.blank_value_text)+"\n                        ")]),e._m(7),i("td",{staticClass:"one wide",attrs:{colspan:"1"}},[e._v("\n                            "+e._s(e.core_waybill.shipping_period||e.blank_value_text)+"\n                        ")]),i("td",{staticClass:"four wide three-height",attrs:{colspan:"4",rowspan:"3"}},[i("div",{staticClass:"three height"},[e.core_waybill.goods_name?i("p",[e._v("品名："+e._s(e.core_waybill.goods_name||e.blank_value_text))]):e._e()]),i("barcode",{attrs:{value:e.core_waybill.original_number,tag:"svg",options:{background:"transparent",displayValue:!0,format:"CODE128",width:1,height:25}}},[e._v("\n                                看見此資訊請通知系統工程師。\n                            ")])],1)]),i("tr",[e._m(8),i("td",{staticClass:"six wide right bold",attrs:{colspan:"6",rowspan:"1"}},[i("div",{staticClass:"two height"},[e._v("\n                                "+e._s(e.core_waybill.consignee_address||e.blank_value_text)+"\n                            ")])]),i("td",{staticClass:"four wide",attrs:{colspan:"4"}},[e._v("\n                            "+e._s(e.core_waybill.shipping_note||e.blank_value_text)+"\n                        ")])]),i("tr",[e._m(9),i("td",{staticClass:"six wide right bottom bold",attrs:{colspan:"6"}},[i("div",{staticClass:"one height"},[e._v("\n                                "+e._s(e.core_waybill.original_number||e.blank_value_text)+"\n                            ")])]),i("td",{staticClass:"one wide",attrs:{colspan:"1",rowspan:"1"}},[e._v("\n                            運費\n                        ")]),i("td",{staticClass:"three wide",attrs:{colspan:"3",rowspan:"1"}},[i("h2",{staticClass:"ui header",domProps:{innerHTML:e._s(e.fee)}})])]),i("tr",[e._m(10),e._m(11),i("td",{staticClass:"six wide",attrs:{colspan:"6"}},[i("div",{staticClass:"one height"},[e._v("\n                                "+e._s(e.sender_name_and_company_name)+"\n                                ")])]),e._m(12),i("td",{staticClass:"two wide top bold",attrs:{colspan:"2"}},[i("h6",{staticClass:"ui sub header"},[e._v(e._s(e.thousands_separator(e.collection_fee))),i("span",{staticClass:"unit"},[e._v("元")])])]),e._m(13)]),i("tr",[e._m(14),i("td",{staticClass:"six wide",attrs:{colspan:"6"}},[i("div",{staticClass:"one height"},[e._v("\n                                "+e._s(e.core_waybill.sender_phone||e.blank_value_text)+"\n                            ")])]),e._m(15),i("td",{staticClass:"two wide",attrs:{colspan:"2"}},[i("h6",{staticClass:"ui sub header"},[e._v(e._s(e.thousands_separator(e.tax))),i("span",{staticClass:"unit"},[e._v("元")])])]),i("td",{staticClass:"four wide left bottom right bold three-height",attrs:{colspan:"4",rowspan:"4"}})]),i("tr",[e._m(16),i("td",{staticClass:"six wide right",attrs:{colspan:"6"}},[i("div",{staticClass:"one height"},[e._v("\n                                "+e._s(e.core_waybill.sender_address||e.blank_value_text)+"\n                            ")])]),e._m(17),i("td",{staticClass:"two wide bottom bold",attrs:{colspan:"2"}},[i("h6",{staticClass:"ui sub header"},[e._v(e._s(e.thousands_separator(e.total_amount))),i("span",{staticClass:"unit"},[e._v("元")])])])]),i("tr",[e._m(18),i("td",{staticClass:"four wide",staticStyle:{position:"relative"},attrs:{colspan:"6",rowspan:"2"}},[i("span",{staticStyle:{position:"absolute",right:"5px",bottom:"5px",color:"lightgray","font-size":"0.8em"}},[e._v(e._s(e.logistician.name)+"("+e._s(e.logistician.username)+")")])]),e._m(19),e._m(20),e._m(21),e._m(22)]),i("tr",[i("td",{staticClass:"one wide bottom bold"},[e.core_waybill.child_core_waybills_count>0&&void 0!=e.core_waybill.shipping_child_core_waybills_count?i("div",{staticStyle:{"font-size":"0.8em"}},[e._v("\n                                "+e._s(e.core_waybill.shipping_child_core_waybills_count)+"\n                                "),i("span",{staticClass:"unit"},[e._v("件")])]):i("div",[e._v("-")])]),i("td",{staticClass:"one wide bottom bold"},[e.core_waybill.child_core_waybills_count>0&&void 0!=e.core_waybill.delivered_child_core_waybills_count?i("div",{staticStyle:{"font-size":"0.8em"}},[e._v("\n                                "+e._s(e.core_waybill.delivered_child_core_waybills_count)+"\n                                "),i("span",{staticClass:"unit"},[e._v("件")])]):i("div",[e._v("-")])]),i("td",{staticClass:"one wide right bottom bold"},[e.core_waybill.child_core_waybills_count>0&&void 0!=e.core_waybill.child_core_waybills_count?i("div",{staticStyle:{"font-size":"0.8em"}},[e._v("\n                                "+e._s(e.core_waybill.child_core_waybills_count)+"\n                                "),i("span",{staticClass:"unit"},[e._v("件")])]):i("div",[e._v("-")])])])])])])])])},o=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{staticClass:"two wide",attrs:{colspan:"2"}},[i("h5",{staticClass:"ui sub header"},[e._v("\n                                出單日\n                            ")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{staticClass:"one wide four-height top left bottom bold",attrs:{rowspan:"4"}},[i("h4",{staticClass:"ui header"},[e._v("收")]),i("h4",{staticClass:"ui header"},[e._v("件")]),i("h4",{staticClass:"ui header"},[e._v("人")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{staticClass:"one wide",attrs:{colspan:"1"}},[i("h5",{staticClass:"ui sub header"},[e._v("\n                                名"),i("br"),e._v("\n                                稱"),i("br")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{staticClass:"one wide",attrs:{colspan:"1"}},[i("h5",{staticClass:"ui sub header"},[e._v("\n                                件"),i("br"),e._v("\n                                數"),i("br")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{staticClass:"one wide",attrs:{colspan:"1"}},[i("h5",{staticClass:"ui sub header"},[e._v("\n                                重"),i("br"),e._v("\n                                量"),i("br")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{staticClass:"four wide",attrs:{colspan:"4",rowspan:"1"}},[i("h5",{staticClass:"ui sub header"},[e._v("\n                                配 送 訊 息\n                            ")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{staticClass:"one wide",attrs:{colspan:"1"}},[i("h5",{staticClass:"ui sub header"},[e._v("\n                                電"),i("br"),e._v("\n                                話"),i("br")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{staticClass:"one wide",attrs:{colspan:"1"}},[i("h5",{staticClass:"ui sub header"},[e._v("\n                                時"),i("br"),e._v("\n                                段"),i("br")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{staticClass:"one wide",attrs:{colspan:"1",rowspan:"1"}},[i("h5",{staticClass:"ui sub header"},[e._v("\n                                地"),i("br"),e._v("\n                                址"),i("br")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{staticClass:"one wide bottom bold",attrs:{colspan:"1"}},[i("h5",{staticClass:"ui sub header"},[e._v("\n                                原始"),i("br"),e._v("\n                                單號"),i("br")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{staticClass:"one wide three-height",attrs:{rowspan:"3"}},[i("h4",{staticClass:"ui header"},[e._v("寄")]),i("h4",{staticClass:"ui header"},[e._v("件")]),i("h4",{staticClass:"ui header"},[e._v("人")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{staticClass:"one wide",attrs:{colspan:"1"}},[i("h5",{staticClass:"ui sub header"},[e._v("\n                                名"),i("br"),e._v("\n                                稱"),i("br")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{staticClass:"two wide left top bold",attrs:{colspan:"2"}},[i("h6",{staticClass:"ui sub header"},[e._v("代收貨款")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{staticClass:"four wide left top right bold",attrs:{colspan:"4",rowspan:"1"}},[i("h5",{staticClass:"ui sub header"},[e._v("\n                                簽收欄（請簽全名或蓋章）\n                            ")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{staticClass:"one wide",attrs:{colspan:"1"}},[i("h5",{staticClass:"ui sub header"},[e._v("\n                                電"),i("br"),e._v("\n                                話"),i("br")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{staticClass:"two wide left bold",attrs:{colspan:"2"}},[i("h6",{staticClass:"ui sub header"},[e._v("稅金")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{staticClass:"one wide",attrs:{colspan:"1"}},[i("h5",{staticClass:"ui sub header"},[e._v("\n                                地"),i("br"),e._v("\n                                址"),i("br")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{staticClass:"two wide left bottom bold",attrs:{colspan:"2"}},[i("h6",{staticClass:"ui sub header"},[e._v("合計")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{staticClass:"two wide",attrs:{colspan:"2",rowspan:"2"}},[i("h5",{staticClass:"ui sub header"},[e._v("\n                                配送人員簽名\n                            ")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{staticClass:"four wide left top bottom bold",attrs:{colspan:"1",rowspan:"2"}},[e._v("\n                            子"),i("br"),e._v("\n                            單"),i("br")])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{staticClass:"one wide"},[i("h6",{staticClass:"ui sub header"},[e._v("配送中")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{staticClass:"one wide"},[i("h6",{staticClass:"ui sub header"},[e._v("已配達")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",{staticClass:"one wide right bold"},[i("h6",{staticClass:"ui sub header"},[e._v("總件數")])])}],c=n("865e"),_=n("d56f");n("c1df");function l(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function u(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){l(r,n,a,s,o,"next",e)}function o(e){l(r,n,a,s,o,"throw",e)}s(void 0)})}}var d={props:{core_waybill:{type:Object,default:function(){return{identity:null,number:null,consignee_name:null,consignee_phone:null,consignee_address:null,original_number:null,sender_name:null,sender_phone:null,sender_address:null,pieces:null,weight_in_kilo:null,collection:null,goods_name:null,shipping_date:null,shipping_period:null,shipping_note:null}}},logo_url:String,title:String,sub_title:String,customer_service_hotline:String,logistician:Object,force_location:String,show_print_button:{type:Boolean,default:!1},show_content:{type:Boolean,default:!1},blank_value_text:{type:String,default:null}},computed:{consignee_name_and_company_name:function(){var e=this.core_waybill.consignee_name||"",t=this.core_waybill.consignee_company_name||"",i=e&&t?" / ":"";return e+i+t},sender_name_and_company_name:function(){var e=this.core_waybill.sender_name||"",t=this.core_waybill.sender_company_name||"",i=e&&t?" / ":"";return e+i+t},collection_fee:function(){return this.core_waybill.collection+this.core_waybill.consignee_tax_point||0},declaration_fee:function(){return this.core_waybill.simplified_declaration_form_fee+this.core_waybill.declaration_form_fee||0},tax:function(){return this.core_waybill.tax||0},total_amount:function(){return this.collection_fee+this.declaration_fee+this.tax||0},fee:function(){var e=this,t="";switch(e.core_waybill.payment_type){case"cash_by_consignee":t+="到付<br> $"+e.core_waybill.charge;break;case"cash_by_sender":t+="寄付<br> $"+e.core_waybill.charge;break;case"monthly":t+="月結";break;default:e.core_waybill.charge&&(t+=e.core_waybill.charge)}return t},distribution_object_name:function(){try{return distribution.object.name}catch(e){return null}}},data:function(){return{paper_size:"A5",distribution:{object:{name:null}}}},watch:{},mounted:function(){},methods:{thousands_separator:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},print:function(){var e=u(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){$(t.$refs.printable).clone().appendTo("div#print")});case 3:return e.next=5,new Promise(function(e){window.print()});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),fetch_distribution:function(){var e=this;if(e.core_waybill.identity){var t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_core_waybill_distribute).parse({core_waybill_identity:e.core_waybill.identity},"");return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){return"success"==t.data.status?e.distribution=t.data.distribution:"failure"==t.data.status&&(e.errors=t.data.errors,e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.distributions"),reason:": "+t.data.errors}))),t})["catch"](function(t){return e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.distributions"),reason:": "+e.$t("ui.general.network_abnormality")+","+t.response.status})),Promise.reject(t)}).then(function(){})}return Promise.resolve()}},components:{barcode:c["a"],qrcode:_["a"]}},p=d,m=(n("e61a"),n("2877")),f=Object(m["a"])(p,s,o,!1,null,"3c6fcd5a",null),v=f.exports;function h(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function g(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){h(r,n,a,s,o,"next",e)}function o(e){h(r,n,a,s,o,"throw",e)}s(void 0)})}}var b={props:{show_buttons:{type:Boolean,default:!1},show_contents:{type:Boolean,default:!1},assigned_core_waybills:{type:Array,default:function(){return[]}},logo_url:{type:String,default:"/images/tw568_logo.png"},force_location:String,title:String,sub_title:String,customer_service_hotline:String,logistician:Object,blank_value_text:{type:String,default:""},channel_name:{type:String,default:"receipts"},default_search_params:{type:Object,default:function(){return{}}}},data:function(){return{is_printing:!1,core_waybills:[]}},mounted:function(){var e=this;e.$bus.$off(e.channel_name),e.$bus.$on(e.channel_name,function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"A5";e.print(t)}.bind(this))},computed:{},methods:{print:function(){var e=g(regeneratorRuntime.mark(function e(){var t,i,n,a,r,s,o,c,_,l,u,d,p,m,f,v,h,g,b,y,w=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=w.length>0&&void 0!==w[0]?w[0]:"A5",i=this,i.is_printing){e.next=90;break}return e.next=5,new Promise(function(e){i.is_printing=!0,i.core_waybills=i.assigned_core_waybills,e()});case 5:if(0!=i.core_waybills.length){e.next=8;break}return e.next=8,i.fetch_core_waybills();case 8:return e.next=10,new Promise(function(e){$("div#print").html(""),e()});case 10:n=!0,a=!1,r=void 0,e.prev=13,s=regeneratorRuntime.mark(function e(){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i=c.value,e.next=3,new Promise(function(e){i.paper_size=t,e()});case 3:case"end":return e.stop()}},e)}),o=i.$children[Symbol.iterator]();case 16:if(n=(c=o.next()).done){e.next=21;break}return e.delegateYield(s(),"t0",18);case 18:n=!0,e.next=16;break;case 21:e.next=27;break;case 23:e.prev=23,e.t1=e["catch"](13),a=!0,r=e.t1;case 27:e.prev=27,e.prev=28,n||null==o["return"]||o["return"]();case 30:if(e.prev=30,!a){e.next=33;break}throw r;case 33:return e.finish(30);case 34:return e.finish(27);case 35:_=!0,l=!1,u=void 0,e.prev=38,d=i.$children[Symbol.iterator]();case 40:if(_=(p=d.next()).done){e.next=47;break}return m=p.value,e.next=44,m.fetch_distribution();case 44:_=!0,e.next=40;break;case 47:e.next=53;break;case 49:e.prev=49,e.t2=e["catch"](38),l=!0,u=e.t2;case 53:e.prev=53,e.prev=54,_||null==d["return"]||d["return"]();case 56:if(e.prev=56,!l){e.next=59;break}throw u;case 59:return e.finish(56);case 60:return e.finish(53);case 61:return e.next=63,i.$nextTick(function(){});case 63:f=!0,v=!1,h=void 0,e.prev=66,g=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=y.value,e.next=3,new Promise(function(e){$(t.$refs.printable).clone().appendTo("div#print"),e()});case 3:case"end":return e.stop()}},e)}),b=i.$children[Symbol.iterator]();case 69:if(f=(y=b.next()).done){e.next=74;break}return e.delegateYield(g(),"t3",71);case 71:f=!0,e.next=69;break;case 74:e.next=80;break;case 76:e.prev=76,e.t4=e["catch"](66),v=!0,h=e.t4;case 80:e.prev=80,e.prev=81,f||null==b["return"]||b["return"]();case 83:if(e.prev=83,!v){e.next=86;break}throw h;case 86:return e.finish(83);case 87:return e.finish(80);case 88:return e.next=90,new Promise(function(e){window.print(),i.is_printing=!1,e()});case 90:case"end":return e.stop()}},e,this,[[13,23,27,35],[28,,30,34],[38,49,53,61],[54,,56,60],[66,76,80,88],[81,,83,87]])}));function t(){return e.apply(this,arguments)}return t}(),fetch_core_waybills:function(){var e=this,t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_core_waybills_filter).parse({},"?"+object_to_query(e.default_search_params));return axios.get(t,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){return"success"==t.data.status?e.core_waybills=t.data.core_waybills:"failure"==t.data.status&&e.$noty.error(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.core_waybills"),reason:": "+t.data.errors})),t})["catch"](function(t){return e.errors.push(e.$t("ui.notifications.error.fetch__name",{name:e.$t("models.core_waybills"),reason:": "+e.$t("ui.general.network_abnormality")+","+t.response.status})),Promise.reject(t)}).then(function(){})}},components:{Item:v}},y=b,w=Object(m["a"])(y,a,r,!1,null,"11538ca0",null);i["a"]=w.exports},a873:function(e,t,i){},a9cf:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},a=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui footer segment",staticStyle:{position:"relative"}},[i("div",{staticClass:"ui center aligned container"},[i("div",{staticClass:"ui horizontal inverted small divided list"},[i("p",[e._v("\n                Copyright © 2018 Genki Inc. All rights reserved\n            ")])])])])}],r={name:"FooterBar"},s=r,o=i("2877"),c=Object(o["a"])(s,n,a,!1,null,"b1e8becc",null);t["a"]=c.exports},ac2f:function(e,t,i){"use strict";var n=i("314d"),a=i.n(n);a.a},ac67:function(e,t,i){},ac92:function(e){e.exports={_comment:"此檔案為Scanner 設定 檔案",name:"axon",options:["is_scan_mode","is_scan_action_mode","is_batch_mode","is_operation_mode","is_core_waybill_pieces_mode","is_update_corewaybill_mode","is_auto_print_label_mode","is_noty_audio_mode","is_speech_mode","is_quick_corewaybill_related_columns","core_waybill_template_mode"]}},acc6:function(e,t,i){"use strict";var n=i("e006"),a=i.n(n);a.a},adac:function(e,t,i){},adca:function(e,t,i){},af22:function(e,t,i){},af2f:function(e,t,i){},afa6:function(e,t,i){},b04a:function(e,t,i){"use strict";var n=i("9d65"),a=i.n(n);a.a},b102:function(e){e.exports=[{_comment:"此檔案Scanner config預設檔案。",name:"default",font:"white",identity:"default",theme_file_name:"default"},{name:"博宇",font:"white",identity:"6896bd65c1-28036-39768292",theme_file_name:"dark01"}]},b107:function(e){e.exports={_comment:"此檔案為Scanner 設定 檔案",name:"neuron",options:["is_scan_mode","is_scan_action_mode","is_batch_mode","is_operation_mode","is_core_waybill_pieces_mode","is_update_corewaybill_mode","is_auto_print_label_mode","is_distributed_to_mode","is_high_performance_mode","is_noty_audio_mode","is_speech_mode","is_quick_corewaybill_related_columns","is_package_mode","is_unpackage_mode","pack_p_m_mode","pack_m_mode","pack_need_source_mode","core_waybill_template_mode"]}},b10c:function(e,t,i){},b194:function(e,t,i){"use strict";var n=i("12d6"),a=i.n(n);a.a},b1b4:function(e,t,i){"use strict";var n=i("1b17"),a=i.n(n);a.a},b1cd:function(e,t,i){},b20f:function(e,t,i){},b2d6:function(e,t,i){"use strict";var n=i("685a"),a=i.n(n);a.a},b36c:function(e){e.exports={name:"dark01",color:{background_img:"blur03.jpg",background_position:"0% 0%",background:"linear-gradient(134deg, rgba(0, 0, 0, 0.9)0%, rgba(142, 162, 232, 1)100%)",font:"white",warning:"white",show_setting_icon:"orange",setting_group_icon:"white"},computer:{background_position:"0% 50%"},mobile:{background_position:"0% 0%"}}},b3c1:function(e,t,i){},b3c3:function(e,t,i){"use strict";var n=i("55f1"),a=i.n(n);a.a},b4ab:function(e,t,i){},b4ec:function(e,t,i){"use strict";var n=i("5716"),a=i.n(n);a.a},b51d:function(e,t,i){},b53c:function(e,t,i){},b558:function(e,t,i){"use strict";var n=i("f4ae"),a=i.n(n);a.a},b5ec:function(e,t,i){"use strict";var n=i("495e"),a=i.n(n);a.a},b632:function(e,t,i){},b6d1:function(e,t,i){},b6fd:function(e,t,i){},b76e:function(e,t,i){"use strict";var n=i("fd64"),a=i.n(n);a.a},b846:function(e,t,i){"use strict";var n=i("b4ab"),a=i.n(n);a.a},b8ad:function(e,t,i){},b8f2:function(e,t,i){},b990:function(e,t,i){"use strict";var n=i("73e2"),a=i.n(n);a.a},ba70:function(e,t,i){"use strict";var n=i("80a9"),a=i.n(n);a.a},ba7e:function(e,t,i){},bab3:function(e,t,i){var n={"./dark01":"b36c","./dark01.json":"b36c","./dark02":"60a8","./dark02.json":"60a8","./dark03":"c9e1","./dark03.json":"c9e1","./dark04":"cc57","./dark04.json":"cc57","./dark05":"71f5","./dark05.json":"71f5","./default":"8126","./default.json":"8126","./node":"b102","./node.json":"b102"};function a(e){var t=r(e);return i(t)}function r(e){var t=n[e];if(!(t+1)){var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}return t}a.keys=function(){return Object.keys(n)},a.resolve=r,e.exports=a,a.id="bab3"},bab4:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"errors"},[e.errors.length>0?i("div",{staticClass:"ui red icon message"},[i("i",{staticClass:"warning icon"}),i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                "+e._s(e.$t("ui.notifications.error.please_handle_errors"))+"\n            ")]),e._l(e.errors,function(t,n){return i("p",[e._v(e._s(n+1)+". "+e._s(t))])})],2)]):e._e()])},a=[],r={props:{errors:Array},data:function(){return{}},mounted:function(){},computed:{},methods:{},components:{}},s=r,o=i("2877"),c=Object(o["a"])(s,n,a,!1,null,"696993f3",null);t["a"]=c.exports},babf:function(e,t,i){},bbc9:function(e,t,i){"use strict";var n=i("853a"),a=i.n(n);a.a},bbe2:function(e,t,i){},bc4d:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"notification"}},[e.notification.urgent?i("div",{staticClass:"ui orange icon message"},[i("i",{staticClass:"wrench icon",attrs:{"aria-hidden":"true"}}),i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[e._v("\n                "+e._s(e.notification.title)+"\n            ")]),i("div",{staticClass:"timestamp"},[e.notification.estimated_shutdown?i("span",{staticClass:"shutdown"},[e._v("\n                    "+e._s(e.$moment(e.notification.estimated_shutdown).locale("zh-tw").format("YYYY-MM-DD HH:mm"))+"\n                ")]):e._e(),i("span",[e._v("\n                    "+e._s(e.continued_help)+"\n                ")]),e.notification.estimated_boot?i("span",{staticClass:"boot"},[e._v("\n                    "+e._s(e.$moment(e.notification.estimated_boot).locale("zh-tw").format("YYYY-MM-DD HH:mm"))+"\n                ")]):e._e()])])]):e._e()])},a=[],r={props:{notification:Object},data:function(){return{}},mounted:function(){},computed:{continued_help:function(){var e=this;return e.notification.estimated_shutdown||e.notification.estimated_boot?e.notification.estimated_shutdown&&!e.notification.estimated_boot?"關機":!e.notification.estimated_shutdown&&e.notification.estimated_boot?"預計開機時間：":"~":""}},methods:{},components:{}},s=r,o=(i("d164"),i("2877")),c=Object(o["a"])(s,n,a,!1,null,"dc0f11a0",null);t["a"]=c.exports},bc90:function(e,t,i){"use strict";var n=i("a873"),a=i.n(n);a.a},bcc4:function(e,t,i){},bced:function(e){e.exports={models:{_comment:"關聯表名稱不在此上面",appraisals:"考绩",assets:"资产",comments:"留言",contracts:"合约",conversion_attributes:"合约归于",converters:"转换器",core_waybills:"运单",customers:"客户",quotations:"報價單",distributions:"分拨",distribution_conditions:"分拨条件",driver_commissions:"收派件提成",driver_commission_policies:"收派件提成政策",driver_commission_reports:"收派件提成报告",logs:"用户历程",materials:"物料",nodes:"公司",operations:"订单",partitions:"号码区间",permissions:"权限",permission_groups:"权限群组",roles:"职位",staffs:"员工",stations:"站点",scan_actions:"扫描动作",status_prototypes:"货况",scan_action_prototypes:"扫描动作",attributes:{assets:{barcode:"条码",number:"编号",category:"资产种类",note:"备注",node_identity:"Node identity"},converters:{name:"名称",number:"号码",provider_node_identity:"provider_node_identity",customer_node_identity:"customer_node_identity",customer_identity:"customer_identity",carrier_class:"承运商类别",proxy_contract_identity:"proxy_contract_identity",third_party_api_data:"third_party_api_data",note:"备注"},customer_contracts:{name:"合约名称",number:"客户编号",carrier_class:"承运商类别",proxy_contract:"自动转运合约",third_party_api_data:"第三方串接信息",note:"备注"},customers:{username:"帐号",password:"密码",password_confirmation:"确认密码",authentication_token:"API Token",company_name:"公司名称",company_short_name:"公司简短名称",company_en_name:"英文名称",email:"E-mail",phone:"联络电话",fax:"传真",website_url:"网站网址",default_sender_zip_code:"Sender ZIP code",default_sender_company_name:"寄件人公司名",default_sender_address:"寄件人地址",default_sender_name:"寄件人姓名",default_sender_phone:"寄件人电话",default_sender_email:"寄件人电子邮件",default_sender_fax:"寄件人传真",default_sender_url:"寄件人网址",default_consignee_zip_code:"Consignee ZIP code",default_consignee_company_name:"收件人公司名",default_consignee_address:"收件人地址",default_consignee_name:"收件人姓名",default_consignee_phone:"收件人电话",default_consignee_email:"收件人电子邮件",default_consignee_fax:"收件人传真",can_use_associated_partitions:"是否可使用上层运单",is_banned:"是否被停权"},conditions:{core_waybill_identity:"运单",scan_action_prototype_identity:"SAP",condition_type:"种类",can_use:"可使用",current_use:"使用中",already_use:"曾经用过",can_release:"可放行",current_release:"放行中",already_release:"曾经放行过",can_handover:"可点交",current_handover:"点交中",already_handover:"曾经点交过",can_collect:"可收货",current_collect:"收货中",already_collect:"曾经收货过",can_check:"可进站",current_check:"进站中",already_check:"曾经进站过",can_ship:"可派件",current_ship:"派件中",already_ship:"曾经派件过",can_back:"可回站",current_back:"回站中",already_back:"曾经回站过",can_delivered:"可配达",current_delivered:"配达中",already_delivered:"曾经配达过",can_transfer:"可中转",current_transfer:"中转中",already_transfer:"曾经中转过",can_intermodal:"可联运",current_intermodal:"联运中",already_intermodal:"曾经联运过",can_exception:"可异常件",current_exception:"异常件中",already_exception:"曾经异常件过",can_lock:"可锁定",current_lock:"锁定中",already_lock:"曾经锁定过",can_done:"可完成",current_done:"完成中",already_done:"曾经完成过",can_warehouse_in:"可进仓",current_warehouse_in:"进仓中",already_warehouse_in:"曾经进仓过",can_warehouse_out:"可出仓",current_warehouse_out:"出仓中",already_warehouse_out:"曾经出仓过",can_ready_to_ship:"可待出货",current_ready_to_ship:"待出货中",already_ready_to_ship:"曾经待出货过"},distributions:{priority:"优先",name:"名称",strategy:"策略",station:"管辖站点",station_identity:"管辖站点",strategy_value:"策略值",material:"限定物料",material_identity:"限定物料",is_activated:"是否启用"},driver_commissions:{pick_up_driver:"取件司机",pick_up_core_waybill:"取件运单",delivery_core_waybill:"送件运单",delivery_driver:"送件司机",driver_commission_report:"收派件提成报告",driver_commission_policy:"收派件提成政策",amount:"金额",polarity:"极性",created_at:"产生日期",is_deleted:"已被删除"},driver_commission_policies:{pick_up_first_weight:"取件首重重量(KG)",pick_up_first_price:"取件首重提成金额",pick_up_follow_up_weight:"取件续重重量单位(KG)",pick_up_follow_up_price:"取件续重单价",delivery_first_weight:"送件首重重量(KG)",delivery_first_price:"送件首重提成金额",delivery_follow_up_weight:"送件续重重量单位(KG)",delivery_follow_up_price:"送件续重单价",house_pick_up_first_weight:"取件首重重量(KG)",house_pick_up_first_price:"取件首重提成金额",house_pick_up_follow_up_weight:"取件续重重量单位(KG)",house_pick_up_follow_up_price:"取件续重单价",house_delivery_first_weight:"送件首重重量(KG)",house_delivery_first_price:"送件首重提成金额",house_delivery_follow_up_weight:"送件续重重量单位(KG)",house_delivery_follow_up_price:"送件续重单价",is_activated:"使否启用"},driver_commission_reports:{staff:"人员",total_amount:"总金额",time:"期间",begin_at:"计算起日",end_at:"计算讫日",created_at:"产生日期"},materials:{name:"物料名称",en_name:"英文名称",core_waybill_level:"运单阶层",class_name:"识别名称",label_type:"标签种类",needs_label:"需要标签"},nodes:{is_sandbox_mode:"沙盒模式",client_id:"Magnet APP ID",client_secret:"Magnet APP ID",access_token:"Magnet AccessToken",refresh_token:"Magnet Authorization",tax:"统一编号",carrier_class:"carrier::class",host:"host",service_name:"前台产品",code:"代码",company_name:"公司名称",company_short_name:"简短名称",company_en_name:"英文名称",email:"电子邮件",phone:"联络电话",fax:"联络传真",website_url:"官网网址",customer_service_hotline:"客服专线"},operations:{number:"订单号",file:"托运文件",file_name:"托运文件名称",file_url:"托运文件网址",original_file_name:"托运文件",station:"分配站点",staffs:"分配人员",customer:"客户",customer_identity:"客户",your_note:"您的备注",customer_note:"客户备注",provider_note:"备注",system_note:"系统备注",cancel_reason:"作废理由",instantiate_note:"实例化备注",is_canceled:"已取消",is_operable:"",is_operated:"",is_ready:"",status:"状态",is_done:"已完成",is_done_true:"已完成",is_done_false:"未完成",created_at:"日期"},partitions:{name:"名称",numbers:"号码",numbers_from:"起始",numbers_to:"结尾",numbers_rule:"可用数量",parent:"子区间",customer:"客户",contracts:"合约",customer_identity:"客户",material:"物料",material_identity:"物料",note:"备注",regex:"regex"},permissions:{name:"名称",uri:"uri",http_method:"http_method"},permission_groups:{name:"名称"},roles:{name:"名称"},scan_action_prototypes:{name:"动作名称",barcode:"条码号",required_condition:"需求条件",before_actions:"前置动作",is_default:"设定为初始货况",description_required_scope:"绑定货况描述之Scope",description_options:"绑定货况描述之候选选项"},staffs:{username:"帐号",password:"密码",password_confirmation:"确认密码",name:"姓名",phone:"电话",email:"E-mail",mobile:"手机号码",fax:"传真",tax:"tax",country:"国家",state:"state",city:"城市",district:"区",address:"地址",theme_name:"版面配置",note:"备注",is_banned:"是否被停权",role_identity:"职位",role:"职位",station_identity:"所属站点",station:"所属站点"},stations:{name:"站点名称",code:"代码",address:"地址",phone:"电话",position:"范围",note:"备注"},status_prototypes:{name:"名称",material:"物料",description:"叙述",non_polarity:"无极性",positive_polarity:"正极性",negative_polarity:"负极性"},user_logs:{title:"主旨",description:"描述",modified_attributes:"数值迁移",level:"纪录层级",action_type:"动作类型",is_undid:"复原纪录",undid_at:"复原于",node_identity:"节点ID",operator_identity:"操作者ID",loggable_identity:"Loggable",loggable_type:"Loggable type",created_at:"日期",updated_at:"updated_at",identity:"ID"},core_waybills:{number:"号码",operation_number:"订单号码",original_number:"原单号码",tracking_number:"追踪号码",storage_number:"储位号",warehouse_identity:"入仓代号",original_core_waybill_identity:"original_core_waybill_identity",tracking_core_waybill_identity:"tracking_core_waybill_identity",label_type:"标签种类",sender:"寄件人",sender_company_name:"寄件人公司名",sender_zip_code:"寄件人邮区编号",sender_address:"寄件人地址",sender_name:"寄件人姓名",sender_phone:"寄件人电话",sender_email:"寄件人email",sender_fax:"寄件人传真",sender_url:"寄件人网址",consignee:"收件人",consignee_company_name:"收件人公司名",consignee_zip_code:"收件人邮区编号",consignee_address:"收件人地址",consignee_name:"收件人姓名",consignee_phone:"收件人电话",consignee_email:"收件人email",consignee_fax:"收件人传真",flight_number:"航次",cvs_store_number:"cvs商店号码",cvs_store_name:"cvs商店名称",cvs_store_address:"cvs商店地址",cvs_store_phone:"cvs商店电话",station_code:"地区编号",temperature:"温层",payment_type:"付款方式",receipt_file:"签收单",receipt_file_url:"签收单网址",current_status:"当前状态",goods_name:"品名",note:"备注",note_2:"备注2",note_3:"备注3",declared_value:"货物申报价值",measurement:"材积",weight_in_kilo:"重量(KG)",serial:"串行",is_used:"已使用",node_identity:"node_identity",station_identity:"station_identity",operation_identity:"operation_identity",partition_identity:"partition_identity",material_identity:"material_identity",source_core_waybill_identity:"source_core_waybill_identity",parent_core_waybill_identity:"parent_core_waybill_identity",consignee_address_accuracy:"收件人准确地址",consignee_formatted_address:"收件人格式化地址",consignee_address_components:"收件人地址组件",is_done:"是否完成",is_collected:"代收货款 是否繳回公司",no_paid:"未缴回",paid:"已缴回",collection:"代收货款",collection_fee:"代收款手续费",simplified_declaration_form_fee:"简易报单费",declaration_form_fee:"正式报单费",declaration_form_extra_fee:"长单费",tax:"税金",price:"运费",insurance:"保险费",material_fee:"包材费",consignee_tax_point:"收件人税点",sender_tax_point:"寄件人税点",warehouse_fee:"仓租费",fuel_surcharge:"燃油附加费",value_added_service_fee:"加值服务费",overlength_fee:"超长费",overweight_fee:"超重费",extra_fee:"其他",shipping_date:"配送日期",shipping_period:"配送时段",shipping_note:"配送备注",latest_status:"货况",created_at:"建立日期",updated_at:"更新日期",identity:"identity",is_deleted:"已被删除",deleted_at:"删除日期"}}},ui:{general:{cannot:"无法",cannot_use:"您无法使用",clear:"清除",select:"选择",please_select:"请选择",yes:"是",no:"无",no_data:"无资料",date:"日期",day:"天",days:"天",hour:"小时",hours:"小时",minute:"分",minutes:"分",second:"秒",operate:"操作",hot_key:"快捷键",copy:"复制",note:"备注",simple:"简易",advanced:"进阶",detail:"详细",show:"查看",edit:"编辑",create:"建立",creating:"建立中",search:"搜寻",searching:"搜寻中",search__key:"搜寻{key}...",submit:"送出",result:"结果",verify:"检验",verifying:"检验中",verify_staff:"检验身份",update:"更新",updating:"更新中",delete:"删除",deleteing:"删除中",ready:"准备",readying:"准备中",handle:"处理",handling:"处理中",cancel:"取消",canceling:"取消中",print:"打印",printing:"打印中",upload:"上传",uploading:"上传中",fetch:"取得",success:"成功",failure:"失败",network_abnormality:"连线异常",server_offline:"伺服器离线",error:"错误",back:"返回",initialize:"初始化",initializing:"载入中，请稍等",initialize_complete:"初始化完毕",created_at:"建立日期",updated_at:"更新日期",deleted_at:"删除日期",folder:"资料夹",file:"档案",all:"全部"},page_titles:{index:"首页",current_page:"目前位置",provider_index:"快递系统-管理端",station_index:"快递系统-站点端",customer_index:"快递系统-客户端",provider_pages:"管理界面",customer_pages:"客户界面",uploader:"汇入明细",station_uploader:"汇入明细",provider_uploader:"汇入明细",customer_uploader:"汇入明细",operation_show:"订单内容",operation_print_list:"打印托运总表",operation_print_label:"打印托运标签",assets:"资产列表",assets_index:"资产列表",new_asset:"新增资产",edit_asset:"编辑资产",print_asset:"打印资产标签",quote_policies:"计价政策",quote_policy:"检视计价政策",provider_customers:"客户管理",new_provider_customer:"新增客户",provider_customer:"检视客户",station_customers:"客户管理",new_station_customer:"新增客户",station_customer:"检视客户",provider_contracts:"客户合约",new_provider_contract:"新增合约",provider_contract:"检视合约",new_provider_quotation:"新增报价单",provider_quotation:"检视报价单",station_contracts:"客户合约",new_station_contract:"新增合约",station_contract:"检视合约",new_station_quotation:"新增报价单",station_quotation:"检视报价单",scanner:"扫描界面",provider_operations:"订单列表",edit_provider_operation:"编辑订单",driver_commissions:"抽成纪录列表",materials:"物料管理",new_material:"新增物料",edit_material:"编辑物料",provider_partitions:"号码区间",provider_associated_partitions:"我的号码区间",customer_partitions:"号码区间",new_provider_partition:"新增号码区间",edit_provider_partition:"编辑号码区间",station_partitions:"号码区间",station_associated_partitions:"我的号码区间",new_station_partition:"新增号码区间",edit_station_partition:"编辑号码区间",permissions:"权限列表",permission_groups:"权限群组管理",new_permission_group:"新增权限群组",edit_permission_group:"编辑权限群组",customer_core_waybills:"总运单管理",customer_core_waybills_operation:"订单筛选管理",customer_show_core_waybill_operation:"检视运单",customer_show_core_waybill:"检视运单",core_waybills:"总运单管理",core_waybills_operation:"订单筛选管理",edit_core_waybill_operation:"编辑运单",edit_core_waybill:"编辑运单",new_core_waybill:"新增运单",roles:"职位管理",new_role:"新增职位",edit_role:"编辑职位",settings:"设定",staffs:"员工管理",new_staff:"新增员工",staff:"员工内容",edit_staff:"编辑员工",stations:"站点管理",new_station:"新增站点",edit_station:"编辑站点",status_prototypes:"货况管理",new_status_prototype:"新增货况",status_prototype:"货况内容",edit_status_prototype:"编辑货况",pack:"打包界面",unpack:"拆包界面",page_404:"Not Found",operate:"处理",appraisals:"考绩列表",edit_appraisal:"编辑考绩",new_appraisal:"新增考绩",user_logs:"使用者历程",user_log:"使用者历程",driver_commission_policies:"收派件提成政策",new_driver_commission_policy:"新增收派件提成政策",edit_driver_commission_policy:"编辑收派件提成政策",driver_commission_reports:"收派件提成报告",new_driver_commission_report:"建立收派件提成报告",driver_commission_report:"收派件提成报告内容",scan_action_prototypes:"扫描动作列表",scan_action_prototype:"扫描动作内容",new_scan_action_prototype:"建立扫描动作",edit_scan_action_prototype:"编辑扫描动作",provider_node:"公司资讯",customer_operations:"订单列表",show_customer_operation:"订单内容",new_provider_operation:"新增订单",provider_distributions:"分拨设定",new_provider_distribution:"新增辖区",edit_provider_distribution:"辖区内容",permission_denied:"权限问题"},links:{menu:{provider_index:"后台首页",scan:"扫描管理",scan_action_prototypes:"扫描动作",status_prototypes:"货况管理",numbers:"单号管理",assets:"资产管理",stations:"站点管理",provider_partitions:"号码区间",station_partitions:"号码区间",materials:"物料管理",permission_groups:"权限群组",staffs:"员工",roles:"职位管理",users:"员工管理",provider_uploader:"汇入明细",station_uploader:"汇入明细",customer_uploader:"汇入明细",core_waybills:"总运单管理",provider_operations:"订单管理",station_operations:"订单管理",routes:"路由表",processed_files:"文件纪录",import_files:"API Openfile",intelligent:"intelligent",operation_managers:"Operation Manager",user_logs:"用户历程",commission_policies:"提成政策",commission_reports:"提成报告",driver_commission_policies:"收派件提成政策",driver_commission_reports:"收派件提成报告",driver_commissions:"收派件提成纪录",provider_node:"公司管理",provider_distributions:"分拨设定",provider_customers:"客戶管理",station_customers:"客戶管理"},top_menu:{my_receipts:"我的签收单",print_check_summary:"打印点交单",scanner:"扫描系统",language:"语言",notice:"通知",no_station:"尚未选择站点",overtime_note:"超时提示",full_logout:"完整註銷",full_logout_help:"会完整清除设定记录",logout:"註銷"}},theme_names:{staff:"标准员工",driver:"司机",manager:"主管",operator:"操作者",exception:"例外帐号",default:"预设帐號"},status_scopes:{operator:"内部货况",forwarder:"客户货况",public:"公开货况",mark:"标记",condition:"流程控制",system:"系统",unknown:"不明"},validator:{is_required:" 为必填字段。",greater_than:" 必须大于 ",if:"如果 ",is:" 为 ",then:"那么 "},notifications:{help:{this_page_is_out_of_date_please_click_here_to_refresh:"此页面的资料已非最新，请点此重新整理",please_clicked_initialize_again:"请点击再次初始化扫描系統"},success:{fetch:"取得成功",update:"更新成功",create:"建立成功",delete:"删除成功",verify:"检验成功",upload:"上传成功",__name:"{name}成功",fetch__name:"取得{name}成功",update__name:"更新{name}成功",create__name:"建立{name}成功",delete__name:"删除{name}成功",verify__name:"检验{name}成功",upload__name:"上传{name}成功",copy__name:"复制{name}成功"},warning:{are_you_sure_to_delete_it:"确定要删除?",are_you_sure_to_cancel_it:"确定要取消?"},error:{find:"查询失败{reason}",fetch:"取得失败{reason}",update:"更新失败{reason}",create:"建立失败{reason}",delete:"删除失败{reason}",verify:"检验失败{reason}",upload:"上传失败{reason}",copy:"复制失败{reason}",__name:"{name}失败",find__name:"查询{name}失败{reason}",fetch__name:"取得{name}失败{reason}",update__name:"更新{name}失败{reason}",create__name:"建立{name}失败{reason}",delete__name:"删除{name}失败{reason}",verify__name:"检验{name}失败{reason}",upload__name:"上传{name}失败{reason}",copy__name:"复制{name}失败{reason}",no_data:"没有任何资料",please_handle_errors:"请处理以下错误",exception_error_please_contact_the_system_supplier:"例外错误，请联络系统商",please_check_to_write_in_the_required_fields_mark:"请检查必填字段(*标记)是否确实填写"}},scanner:{settings:{is_scan_mode:{true:"扫描模式 | 扫描",false:"手动模式 | 手动"},is_scan_action_mode:{true:"点货作业模式 | 点货",false:"查看资料模式 | 查看"},is_batch_mode:{true:"批次处理 | 批次 | 警告！已启用 批量作业模式，号码需用逗号区隔，将不再提醒必填信息",false:"不批次处理 | 不批次"},is_operation_mode:{true:"使用订单模式 | 订单",false:"不使用订单模式 | 无订单"},is_core_waybill_pieces_mode:{true:"多件一单 | 多件一单",false:"非多件一单 | 非多件一单"},is_update_corewaybill_mode:{true:"更新运单 | 更新运单",false:"查看运单 | 查看运单"},is_auto_print_label_mode:{true:"自动产标 | 印标",false:"不产标签 | 不印标"},is_distributed_to_mode:{true:"分拨模式 | 分拨",false:"不分拨 | 不分拨"},is_noty_audio_mode:{true:"提示声模式 | 提示声",false:"静音模式 | 无提示声"},is_speech_mode:{true:"语音报件模式 | 语音",false:"静音语音报件 | 无语音"},is_quick_corewaybill_related_columns:{true:"快速套用字段 | 快速套用",false:"不快速套用 | 不快速套用"},is_package_mode:{true:"自动包装 | 包装 | 包装中",false:"不包装"},is_unpackage_mode:{true:"自动拆包 | 拆包 | 拆包中",false:"不拆包"},pack_need_source_mode:{short_name:"套用资料",true:"套用",false:"不套用"},core_waybill_template_mode:{short_name:"查看模式",min_card:"极简查看运单 | 极简",card:"一般查看运单 | 一般",detail:"详细查看运单 | 详细"}},setting_groups:{LB00:"运单起始货况",LB01:"1.放行",LB02:"2.点交",LB06:"3.异常件",LB07:"3.异常件排除",LB11:"锁定",LB12:"解除锁定",LA00:"运单起始货况",LA01:"1.收货",LA02:"2.进站",package:"包装",LA03:"3.派件中",LA10:"3.联运",LA09:"3.出站集货中转",LA05:"4.回站",LA04:"4.已配达",LA06:"4.异常件",LA07:"4.异常件排除",LA08:"寄件者退运",LA11:"锁定",LA12:"解除锁定",LA13:"结案",LA21:"进仓",LA22:"上架",LA23:"出仓",LA24:"不明货",unpackage:"拆包",distributed_to:"分拨",pack_house_waybill:"袋包运, 装袋作业",pack_waybill_goods:"运包子, 一票多件",search:"查询运单",print:"打印标签"},menus:{settings:"扫描设定",setting_group:"设定包",operation:"订单",package:"包装",core_waybill:"运单"},jobs:{job:"工作",clear_jobs:"清除纪录",waiting_user_action:"等待用户动作",idle:"闲置中",processing:"处理中",success:"成功",failure:"失败",number:"号码",no_add_status:"尚未新增货况",no_error:"无错误",scope:{original_number:"原单号查询",new:"建立新运单"}},package:{packing_material:"包材",package:"包",unpackage:"拆",total__number:"{number}件",detail:"查看",hide:"隐藏"},upload:{receipt_file:"请上传签收单",result:"上传结果"},helps:{select:"请选定",write:"请填写",scan:"请扫描",quick_required_field_div:"快速套用必填字段区",current_scan_action_prototype:"当前状态条码",distributed_result:"分拨结果",you_dont_any_operation:"您目前没有任何订单",write_or_scan_barcode:"输入号码或是扫描条码",write_related_columns:"请填写必要字段",write_scan_action_note:"请填写货况备注",write_number:"请输入号码",select_scan_action:"请选定条码状态",select_pack_taget_parent:"请选定包材",select_pack_taget:"请选择包装目标",select_target_layer:"请选定目标层",selected_operation:"已选择订单",distributed:{please_select:"请选择",current_station:"当前站点",can_use_distributed_to_mode:"才可启用分拨"}},alerts:{is_created:"是否要建立",required:"必填",previous:"上一步",give_up:"放弃",definite:"确定",please_write:"请填入",required_field:"必填字段",if_have_write:"有则填写",upload_receipt_img:"请上传签收单",upload_result:"上传结果",uploading:"上传中",please_write_scan_note:"请填入货况备注"},operations:{total:"共有 {operations_length} 件委托单，{sum_core_waybills}件货",contents:"内容运单",current_operation_set_to:"已设定当前订单为",clear_current_operation:"已清空当前订单"},success:{quick_setting:"快速设定成功"},errors:{multiple_numbers_in_batch_mode:"批次作业下请输入复数号码",setting_group_not_found:"无此快速设定包",setting_not_found:"无此快速设定",core_waybill_not_found:"查无单号",failed_to_fetch_core_waybill_statuses:"查询货况信息失败",failed_to_instantiate_scan_action_prototype:"扫描动作失败",failed_to_update_core_waybill_related_column:"更新运单必要字段失败",give_up_core_waybill_related_columns:"运单未填写必要信息",give_up_scan_action_description:"货况未填写必要备注",give_up_create_core_waybill:"未建立运单"}},pages:{customer_home:{title:"欢迎来到客户管理"},partials:{page_404:{cant_find_page:"找不到您访问的页面"},permission_denied:{you_dont_permission:"您无权限"},login_expiration_hint_modal:{idle:"闲置",content:"系统侦测到你很久没有动作了，再过{time}就会自动註銷。",i_am_back:"我回来了"}},login:{customer_management_login:"客户登录",provider_management_login:"管理后台登录",station_management_login:"站點登录",please_enter_your_account_and_password:"请输入您的帐号及密码",account:"帐号",password:"密码",verification_code:"请填入检验码",pass_next_timeout_will_dont_warn:"您能通过下次逾时检查，將不提示",btns:{auto_input_test_account:"自动输入测试帐号",login:"登录"},errors:{your_site_has_not_registered_system:"您所在的网站尚未注册本系统",please_fill_in_the_verification_code:"请填入检验码",account_or_password_incorrect:"帐号或密码错误",verification_code_incorrect:"检验码错误",verification_code_expired:"检验码超时失效",failure_to_login:"登录失败",timeout:"闲置过久自动註銷"}},appraisals:{point:"分数",reason:"原因",staff_identity:"员工",registrant_identity:"登记人"},monitor:{menu_title:{all:"全部",myself:"个人",station:"站点"},title:{all_pending_operations:"全部待处理订单",all_pending_waybills:"全部待处理运单",pending_operations:"待处理订单",pending_waybill_in_operations:"订单内待处理运单",pending_waybills:"待处理运单"},sub_title:{not_completed_operations:"未完成的订单",not_completed_waybills:"未完成的运单",assigned_to_me_but_not_completed_operations:"分配给我处理但未完成的订单",assigned_to_me_but_not_completed_waybill_in_operations:"分配给我处理的订单中未完成的运单",the_unfinished_waybill_that_was_last_my_scanned:"最后在我手上扫描但未完成的运单",assigned_to_stationg_but_not_completed_operations:"分配给 <span style='color: green;'>{station_name}</span> 处理但未完成的订单",assigned_to_stationg_but_not_completed_waybill_in_operations:"配给 <span style='color: green;'>{station_name}</span> 处理的订单中未完成的运单"}},assets:{categories:"资产种类",print_barcode:"打印条码",have_category:"既有种类",clear_value:"清空本栏",helps:{no_anything_category:"尚无类别",no_anything_assets:"尚无资产",write_or_use_category_list:"自行填写或选择右侧列表",please_clicked_upper_left_new_asset_button:"点选左上新增资产按钮建立"}},customer_contracts:{additional_information:"额外信息"},customers:{contracts:"合约",normal:"正常",banned:"停权",unbanned:"复权",is_banned:"已停权",basic_information:"基本资料",common_sender_information:"常用寄件人信息",common_consignee_information:"常用收件人信息",is_open_use_associated_partition:"是否开放使用「我的号码区间」",is_open_use_use_yourself_partition:"是否开放使用「自用号码区间」",helps:{the_password_does_not_match_the_confirmation_password:"密码与确认密码不相符"}},distributions:{activated:"已启用",unactivated:"未启用",add_condition:"增加条件",add_condition_help:"如何写条件？ ",add_condition_help_content_1:"1. 同样条件类型的项目会做OR比对，不同条件类型的项目是做AND比对，例如：直辖市台北市+直辖市区信义区+直辖市区中正区+直辖市新北市+直辖市区新店区五个条件，符合本区配送条件的地址有台北市信义区、台北市中正区及新北市新店区",add_condition_help_content_2:"2. 内容请填完整繁体中文名称",condition_type:"条件类型",content:"内容",undo:"复原",filter:{direct:"站点直派",intermodal:"转联运"}},driver_commissions:{driver:"司机",no_done:"尚未结算",core_waybill_number:"运单号"},driver_commission_policies:{activated_switch:"启用开关",activated:"启用",pickup:"一般件",bag:"袋装",table:{general_pickup:"一般取件",general_delivery:"一般送件",bag_pick:"袋装取件",bag_delivery:"袋装送件",is_activated:"启用",first_weight:"首重",first_price:"首重价",follow_up_weight:"续重",follow_up_price:"续重价"}},driver_commission_reports:{total_amount_of_commission:"总提成金额",print:"打印",setting:"打印",print_setting:"打印设定",detailed_mode:"详细模式",from:"从",to:"至",status:"状态",no_select_date:"尚未选择",start_all:"全部开始",go_to_report:"前往报告",table:{pickup_details:"取件明细",dispatch_details:"派件明细",No:"序号",number:"单号",weight:"重量",date:"日期",commission:"提成(元)",total:"总计"},filter:{staff_name:"人员",begin_at:"计算起日",end_at:"计算讫日",total_amount_from:"提成金额从...",total_amount_to:"提成金额到...",created_at:"产生日期"}},nodes:{company_information:"公司信息"},operations:{provider_note_value:"寄件人姓名: \n寄件人电话: \n",processing:"处理中",contract:"合约",schedule:"进度",waybill_amount:"单数",print_receipt:"打印签收单",print_coew_waybill_labels:"打印运单标签",print_coew_waybill_checklist:"打印托运总表",delete_help:"删除订单将会与下属袋、运单、子单...等一并删除",_name_operation_list:"{name}托运总表",_name_customer_receipt:"{name}客户签收单",helps:{please_confirm_sender_and_contract_are_selected:"请确认寄件人及合约皆有选取"},table:{finish:"完成",total:"总数"}},partitions:{automatic_number:"自动取号",use_yourself:"自用",statistics:"统计",total_amount:"总数量",available_quantity:"可用数量",if_use_it_yourself_do_not_write:"如自用请留空"},uploader:{redo:"重做",open_file:"开启文件",operation_list:"托运总表",upload_operation_list:"上传托运总表",selected:"已选择",contract:"合约",your_actions:"您的动作",operation_order:"托运订单",field_data_succeeded:"字段检查成功",checking_waybill_data_ok:"运单内容检查完成",checking_operation_data_ok:"订单内容填写完成",upload_detail_completed:"明细上传完毕",continue_next_file:"继续上传下一份文件",materialization_operation:"实体化订单",consignment:"托运",delivery:"配送",total:"总计",total__number:"{number}笔",dimmer:{what_do_you_want_now:"您现在想要",please_upload_your_file:"请上传您的档案",download_sample_file:"下载范例文件",clicked_this_card_redo:"点击这张卡片重新开始",select_file:"选择档案"},steps:{title:{operation:"订单",confirm_data:"确认资料",upload_data:"上传资料"},description:{operation_content:"指示本次托运内容",confirm_data_is_correct:"请确认资料是否正确",upload_data_to_server:"将资料上传至伺服器"}},file:{name:"档案名称",size:"档案大小",path:"档案下载路径",upload:"档案上传",complete:"完成",not_uploaded:"尚未上传"},column_verification:{required_field:"必填字段",unknown_waybill:"不明运单"}},scan_action_prototypes:{binding_material:"绑定物料",print_barcodes:"打印货况条码",field_name:"字段名",value:"数值"},staffs:{appraisals:"考绩",normal:"正常",banned:"停权",unbanned:"复权",is_banned:"已停权"},user_logs:{record_object:"纪录对象",operator:"操作者",field_name:"字段名",value:"数值",yes:"是",no:"否"},core_waybills:{done:"完成",print_filter_result_labels:"打印搜寻标签",export_csv_file:"汇出csv",export_clearance_csv_file:"汇出清关csv",export_daily_csv_file:"汇出當日報表",download_daily_csv_file:"下載當日報表",please_select_partition:"请选择号码区间",back_to_select_partition:"返回 选号码区间",partition_number_from:"起始号码",partition_number_to:"结束号码",again:"重新",upload_picture:"上传图片",no_upload_any_picture:"无上传图片",system_generation:"系统生成",have_contained_status:"且曾经含有货况",status:{"可使用":"可使用","使用中":"使用中","曾經使用過":"曾经使用过","可放行":"可放行","放行中":"放行中","曾經放行過":"曾经放行过","可點交":"可点交","點交中":"点交中","曾經點交過":"曾经点交过","可收貨":"可收货","收貨中":"收货中","曾經收貨過":"曾经收货过","可進站":"可进站","進站中":"进站中","曾經進站過":"曾经进站过","可配送":"可配送","配送中":"配送中","曾經配送過":"曾经配送过","可回站":"可回站","回站中":"回站中","曾經回站過":"曾经回站过","可配達":"可配达","配達中":"配达中","曾經配達過":"曾经配达过","可中轉":"可中转","中轉中":"中转中","曾經中轉過":"曾经中转过","可聯運":"可联运","聯運中":"联运中","曾經聯運過":"曾经联运过","可異常件":"可异常件","異常件中":"异常件中","曾經異常件過":"曾经异常件过","可鎖定":"可锁定","鎖定中":"锁定中","曾經鎖定過":"曾经锁定过","可完成":"可完成","完成中":"完成中","曾經完成過":"曾经完成过",USABLE:"可用的",CHECKABLE:"可进站",SHIPPABLE:"可配送",SHIPPING:"配送中",TRANSFERING:"正在集货中转",EXCEPTIONABLE:"可设异常件",EXCEPTIONING:"异常件",SENDER_REGRETABLE:"寄件人可反悔寄",CHECKING:"正在站内",TRANSFERABLE:"可集货中转",INTERMODALABLE:"可联运",INTERMODALING:"联运中",RELEASABLE:"可放行",CAN_HAND_OVER:"可点交",LOCKING:"锁定中",IS_DONE:"已配达",system:"系統",condition:"系统",administrator:"管理员",operator:"内部货况",forwarder:"客户",public:"公开",mark:"标记",no_latest_status:"无最新货况"},filter:{find__key:"搜寻{key}...",find_number:"搜寻运单号码...",clear:"清空",numbers:"号码",waybill_content:"运单信息",status:"货况",have_contained:"且曾经含有",selected_is_used:"请选择状态",is_used:{true:"已使用",flase:"未使用"},material:"物料",selected_material:"请选择物料",selected_station:"何处",selected_staff:"谁刷",selected_status:"何种货况",selected_status_scope:"何种货况类别",selected_polarity:"正在/不在",polarity:{positive:"正在",negative:"不在"},status_depiction:{now:"现在 运单",at_the:"在",in_the:"在",by:"由",handle:"处理",before_by:"曾经由",added:"新增了"}}}},toolbox:{back_to_top_button:{back_to_top:"回到最上"},bulletin_board:{name:"留言板",message:"留言",no_messages:"尚无留言！ ",talk_your_comment:"说说你的意见"},crud_templates:{new:"新"},core_waybills_label_svg:{labels:{paper_type:"打印纸张种类"},btns:{print:"打印"},helps:{numbers_input:"号码 范例:123,456,789"},errors:{no_authentication_token:"pops 参数请给予 authentication_token",no_number:"请输入号码"}},core_waybill:{parent_core_waybill:"上层运单",child_core_waybill:"下层运单",no_any_parent_and_child_waybill:"无上下层运单",use_partition:"所使用的号码区间",partition_number_from:"起始号码",partition_number_to:"结束号码",btns:{label:"展开标签",print:"打印",update:"更新",switch_style:"切换样式",simple:"简易",detail:"详细"},helps:{source:"资料来源",is_deleted:"已经删除，请返回",tooltip_have_source_core_waybill:"当前运单资料来自于{number}，点击以编辑"},errors:{please_clicked_initialize_again:"请点击再次初始化扫描系统",change_template_error:"切换版形错误",no_number:"无号码",invalid_loading_image:"载入图片无效",waybill_no_label_class_cant_print:"此运单无绑定标签种类，无法产标",props_is_can_print_label_unable:"参数 is_can_print_label 无启用",no_label_type:"无指定标签种类",label_type_error:"标签种类错误",label_paper_type_error:"纸张种类错误"}},core_waybills:{quick_update_table:"快速更新表格",quick_update:"快速更新",batch_edit:"批次修改",no_station:"无货况",packed_in:"包装于",deleted:"已删除",add_table:"加入表格"},operation_summary:{print_operation_list:"打印托运总表",table:{sender_signature:"寄件人签名",driver_signature:"收货司机签名"}},receipts:{print_receipt:"打印签收单"},stations_modal:{turn_of_GPS:"关闭gps",turn_on_GPS:"开启gps",turn_on_auto_tracking:"已启用自动判定",modify_current_station:"更改当前站点",please_select_the_current_station:"请先选择当前站点",you_are_not_a_manager_will_modify_station_please_contact_the_manager:"您并非管理者, 今后更换站点 请联络管理员",you_do_not_belong_station_will_update_your_data_after_selection:"您目前无站点, 选完会更新您的用户资料",current_station:"当前站点",tracking_GPS:"请求GPS",decisioning:"判定中",cancel_current_station:"取消当前站点",btns:{track_once:"自动判定(一次)",auto_tracking_every_minute:"自动判定(每分钟)"},errors:{geolocation_is_not_supported_by_this_browser:"你当前浏览器不支持存取定位功能",your_web_protocol_is_not_HTTPS:"请使用HTTPS服务存取",get_location_failure:"取得 定位功能失败"}},speed_test:{network_quality:"连线品质"},my_receipts:{neme:"我的签收单",force_current_station:"强制当前站点",print:"{page}打印{note}",customer_receipt:"客户签收单"},notifications:{mark_all_read:"标示所有为已读",no_new_notifications:"没有新的动态"}},el:{colorpicker:{confirm:"确认",clear:"清空"},daterange_option_shortcut:{today:"今日",three_days:"最近三天",week:"最近一周",month:"最近一个月",three_months:"最近三个月",six_months:"最近半年"},datepicker:{now:"现在",today:"今天",cancel:"取消",clear:"清空",confirm:"确认",selectDateTime:"选择日期时间",selectDate:"选择日期",selectTime:"选择时间",startDate:"开始日期",startTime:"开始时间",endDate:"结束日期",endTime:"结束时间",prevYear:"前一年",nextYear:"后一年",prevMonth:"上个月",nextMonth:"下个月",year:"年",month1:"1 月",month2:"2 月",month3:"3 月",month4:"4 月",month5:"5 月",month6:"6 月",month7:"7 月",month8:"8 月",month9:"9 月",month10:"10 月",month11:"11 月",month12:"12 月",week:"周次",weeks:{sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},months:{jan:"一月",feb:"二月",mar:"三月",apr:"四月",may:"五月",jun:"六月",jul:"七月",aug:"八月",sep:"九月",oct:"十月",nov:"十一月",dec:"十二月"}},select:{loading:"加载中",noMatch:"无匹配资料",noData:"无资料",placeholder:"请选择"},cascader:{noMatch:"无匹配资料",loading:"加载中",placeholder:"请选择"},pagination:{goto:"前往",pagesize:"项/页",total:"共 {total} 项",pageClassifier:"页"},messagebox:{title:"提示",confirm:"确定",cancel:"取消",error:"输入的资料不符规定!"},upload:{deleteTip:"按 delete 键可删除",delete:"删除",preview:"查看图片",continue:"继续上传"},table:{emptyText:"暂无资料",confirmFilter:"筛选",resetFilter:"重置",clearFilter:"全部",sumText:"Sum"},tree:{emptyText:"暂无资料"},transfer:{noMatch:"无匹配资料",noData:"无资料",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"}}}}},bd16:function(e,t,i){},bd37:function(e,t,i){},bd90:function(e,t,i){"use strict";var n=i("457c"),a=i.n(n);a.a},bdd3:function(e,t,i){"use strict";var n=i("79ed"),a=i.n(n);a.a},be74:function(e,t,i){"use strict";var n=i("d3ee"),a=i.n(n);a.a},bf31:function(t,i,n){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui longer flip small modal scanner"},[i("ScannerMain",{attrs:{is_modal:!0}})],1)},r=[],s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.is_initialized?i("div",{staticClass:"content",class:{is_showed_jobs:e.desc_ordered_jobs.length,"z-depth-3":e.is_modal},style:{color:e.theme.color.font,background:e.theme.background,backgroundSize:e.theme.color.background_img?"cover":""}},[i("div",[i("WebAudio",{attrs:{channel:"provider_scanner_web_audio",allow_overlay_play:!1,show_demo:!1}}),i("Dashboard",{attrs:{is_processing:e.is_processing,current_number:e.current_number,current_scan_action_prototype:e.current_scan_action_prototype}}),e.current_store.is_setting?i("Settings",{attrs:{current_scan_action_prototype:e.current_scan_action_prototype,is_processing:e.is_processing}}):e._e(),i("div",{staticClass:"scrolling content"},[i("CoreWaybill",{attrs:{is_modal_opened:e.is_modal_opened}})],1),e.desc_ordered_jobs.length>=3?i("div",{staticClass:"ui jobs pointer",staticStyle:{position:"absolute",right:"6px",bottom:"106px",color:"red"},on:{click:function(t){e.$store.dispatch("provider/scanner_module/clear_job")}}},[e._v("\n            "+e._s(e.$t("ui.scanner.jobs.clear_jobs"))+"\n        ")]):e._e()],1),e.desc_ordered_jobs.length?i("transition-group",{staticClass:"ui list jobs",attrs:{name:"list",tag:"div"}},e._l(e.desc_ordered_jobs,function(t){return i("div",{key:t.id,staticClass:"item"},[i("i",{staticClass:"wait icon",class:{"green check":"Success"==t.status,"red cancel":"Failure"==t.status,"orange hourglass end":"Processing"==t.status,"white wait":"Pending"==t.status},staticStyle:{width:"18px"}}),i("div",{staticClass:"content"},[i("div",{staticClass:"header"},["Pending"==t.status?i("span",{staticStyle:{color:"lightgray"}},[t.is_waiting_user_action?i("span",[e._v("\n                            "+e._s(e.$t("ui.scanner.jobs.waiting_user_action"))+"\n                        ")]):i("span",[e._v("\n                            "+e._s(e.$t("ui.scanner.jobs.idle"))+"\n                        ")])]):"Processing"==t.status?i("span",{staticStyle:{color:"orange"}},[e._v("\n                        "+e._s(e.$t("ui.scanner.jobs.processing"))+"\n                    ")]):"Success"==t.status?i("span",{staticStyle:{color:"green"}},[e._v("\n                        "+e._s(e.$t("ui.scanner.jobs.success"))+"\n                    ")]):"Failure"==t.status?i("span",{staticStyle:{color:"red"}},[e._v("\n                        "+e._s(e.$t("ui.scanner.jobs.failure"))+"\n                    ")]):e._e(),e._v("\n                    "+e._s(e.$t("ui.scanner.jobs.job"))+"#"+e._s(t.id)+"："+e._s(e.$t("ui.scanner.jobs.number"))+" "+e._s(t.number)+"\n\n                    "),"original_number"==t.core_waybill_scope?i("span",[e._v("\n                        ["+e._s(e.$t("ui.scanner.jobs.scope.original_number"))+"]\n                    ")]):e._e(),"new"==t.core_waybill_scope?i("span",[e._v("\n                        ["+e._s(e.$t("ui.scanner.jobs.scope.new"))+"]\n                    ")]):e._e(),"operation"==t.task?i("span",[e._v("（"+e._s(t.scan_action_prototype.name)+"）")]):e._e(),t.is_batch_mode?i("span",[e._v("\n                        ("+e._s(e.$t("ui.scanner.settings.is_scan_action_mode.true"))+")\n                    ")]):e._e(),t.is_waiting_instantiate_scan_action?i("span",[i("i",{staticClass:"icon",class:{"green check":t.current_core_waybill_counter>=t.core_waybill_pieces,"red exclamation triangle":t.current_core_waybill_counter<t.core_waybill_pieces}}),e._v("\n                        "+e._s(t.current_core_waybill_counter)+" /\n                        "+e._s(t.core_waybill_pieces)+"\n                        "),t.current_core_waybill_counter<t.core_waybill_pieces?i("span",[e._v("\n                            ("+e._s(e.$t("ui.scanner.jobs.no_add_status"))+")\n                        ")]):e._e()]):e._e()]),i("div",{staticClass:"description"},e._l(t.errors,function(n){return t.errors.length>0?i("p",[i("i",{staticClass:"icon red exclamation triangle"}),e._v("\n                        "+e._s(n)+"\n                    ")]):i("p",[e._v("\n                        "+e._s(e.$t("ui.scanner.jobs.no_error"))+"\n                    ")])}))])])})):e._e(),e.is_show_related_columns_alert?i("CoreWaybillRelatedColumnsAlert",{attrs:{is_displayed:e.is_show_related_columns_alert,is_modal_opened:e.is_modal_opened}}):e._e(),e.is_show_scan_action_description_alert?i("ScanActionDescriptionAlert",{attrs:{is_displayed:e.is_show_scan_action_description_alert,is_modal_opened:e.is_modal_opened}}):e._e(),e.is_show_create_core_waybill_alert?i("CreateCoreWaybillAlert",{attrs:{is_displayed:e.is_show_create_core_waybill_alert,is_modal_opened:e.is_modal_opened}}):e._e()],1):i("div",{staticClass:"content",class:{"z-depth-3":e.is_modal}},[i("button",{staticClass:"big fluid ui black button",on:{click:function(t){e.init()}}},[e._v("\n        "+e._s(e.$t("ui.notifications.help.please_clicked_initialize_again"))+"\n    ")])])},o=[],c=n("1346"),l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"scanner_settings"}},[e.is_initialized?i("div",[e.is_mobile_width?i("carousel",{ref:"settings_carousel",attrs:{perPage:1,speed:390,minSwipeDistance:120,paginationEnabled:!1,navigateTo:e.current_column_index}},e._l(e.menus,function(t,n){return i("slide",{key:t.component_name},[0!=n?i("NavigationLeft"):e._e(),i(t.component_name,{tag:"component",attrs:{is_inverted:e.is_inverted}}),n+1!=e.menus.length?i("NavigationRight"):e._e()],1)})):i("div",[i("div",{staticClass:"ui top tabular menu"},e._l(e.menus,function(t){return i("div",{staticClass:"item pointer",class:{active:e.current_setting_component==t.component_name},style:{color:e.theme.color.font},on:{click:function(i){e.current_setting_component=t.component_name}}},[e._v("\n                    "+e._s(t.title)+"\n                ")])})),i(e.current_setting_component,{tag:"component",attrs:{is_inverted:e.is_inverted}})],1)],1):e._e()])},u=[],d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{style:{color:e.theme.color.font},attrs:{id:"scanner_setting_details"}},["customer"!=this.$store.state.current_scope?i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui fluid selection dropdown no top border",style:{background:e.theme.background?e.theme.background:"none",color:e.theme.color.font}},[i("div",{staticClass:"text"},[e._v("\n            "+e._s(e.$t("ui.scanner.helps.current_scan_action_prototype"))+"：\n            "),e.current_scan_action_prototype.identity?i("span",[e._v("\n                "+e._s(e.current_scan_action_prototype.name+"("+e.current_scan_action_prototype.barcode+")")+"\n            ")]):i("span",[e._v("\n                "+e._s(e.$t("ui.general.no"))+"\n                "+e._s(e.$t("ui.general.select"))+"\n            ")])]),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu",style:{background:e.theme.background?e.theme.background:"none"}},e._l(e.scan_action_prototypes,function(t){return i("div",{staticClass:"item",style:{color:e.theme.color.font,background:t.identity==e.current_scan_action_prototype.identity?"rgba(0,0,0,.5)":""},on:{click:function(i){e.$bus.$emit("set_current_scan_action_prototype",t.identity)}}},[e._v("\n                "+e._s(t.name)+"("+e._s(t.barcode)+")\n            ")])}))]):e._e(),i("div",{staticClass:"ui doubling five column grid settings",class:{inverted:e.is_inverted},staticStyle:{"margin-top":"0.1rem","margin-bottom":"0.2rem"}},[e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_scan_action_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_scan_action_mode},on:{click:function(t){e.settings.is_scan_action_mode=!e.settings.is_scan_action_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"icon",class:{barcode:e.settings.is_scan_action_mode,eye:!e.settings.is_scan_action_mode}})]),i("p",[e._v("\n                "+e._s(e.settings.is_scan_action_mode?e.$tc("ui.scanner.settings.is_scan_action_mode.true"):e.$tc("ui.scanner.settings.is_scan_action_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_distributed_to_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_distributed_to_mode},on:{click:function(t){e.settings.is_distributed_to_mode=!e.settings.is_distributed_to_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"external share icon"}),e.settings.is_distributed_to_mode?e._e():i("i",{staticClass:"bottom left corner red dont icon"})]),i("p",[e._v("\n                "+e._s(e.settings.is_distributed_to_mode?e.$tc("ui.scanner.settings.is_distributed_to_mode.true"):e.$tc("ui.scanner.settings.is_distributed_to_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_package_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_package_mode},on:{click:function(t){e.settings.is_package_mode=!e.settings.is_package_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"group object icon"}),e.settings.is_package_mode?e._e():i("i",{staticClass:"bottom left corner red dont icon"})]),i("p",[e._v("\n                "+e._s(e.settings.is_package_mode?e.$tc("ui.scanner.settings.is_package_mode.true"):e.$tc("ui.scanner.settings.is_package_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_unpackage_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_unpackage_mode},on:{click:function(t){e.settings.is_unpackage_mode=!e.settings.is_unpackage_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"ungroup object icon"}),e.settings.is_unpackage_mode?e._e():i("i",{staticClass:"bottom left corner red dont icon"})]),i("p",[e._v("\n                "+e._s(e.settings.is_unpackage_mode?e.$tc("ui.scanner.settings.is_unpackage_mode.true"):e.$tc("ui.scanner.settings.is_unpackage_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_update_corewaybill_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_update_corewaybill_mode},on:{click:function(t){e.settings.is_update_corewaybill_mode=!e.settings.imitate_mode&&!e.settings.is_update_corewaybill_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"edit icon"}),e.settings.is_update_corewaybill_mode?e._e():i("i",{staticClass:"bottom left corner red dont icon"}),e.settings.imitate_mode?i("i",{staticClass:"top left corner red lock icon",staticStyle:{top:"6px",left:"-6px"}}):e._e()]),i("p",[e._v("\n                "+e._s(e.settings.is_update_corewaybill_mode?e.$tc("ui.scanner.settings.is_update_corewaybill_mode.true"):e.$tc("ui.scanner.settings.is_update_corewaybill_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_auto_print_label_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_auto_print_label_mode},on:{click:function(t){e.settings.is_auto_print_label_mode=!e.settings.is_auto_print_label_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"print icon"}),e.settings.is_auto_print_label_mode?e._e():i("i",{staticClass:"bottom left corner red dont icon"})]),i("p",[e._v("\n                "+e._s(e.settings.is_auto_print_label_mode?e.$tc("ui.scanner.settings.is_auto_print_label_mode.true"):e.$tc("ui.scanner.settings.is_auto_print_label_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_scan_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_scan_mode},on:{click:function(t){e.settings.is_scan_mode=!e.settings.is_scan_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"write icon"}),e.settings.is_scan_mode?i("i",{staticClass:"bottom left corner red dont icon"}):e._e()]),i("p",[e._v("\n                "+e._s(e.settings.is_scan_mode?e.$tc("ui.scanner.settings.is_scan_mode.true"):e.$tc("ui.scanner.settings.is_scan_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_noty_audio_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_noty_audio_mode},on:{click:function(t){e.settings.is_noty_audio_mode=!e.settings.is_noty_audio_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"volume up icon"}),e.settings.is_noty_audio_mode?e._e():i("i",{staticClass:"bottom left corner red dont icon"})]),i("p",[e._v("\n                "+e._s(e.settings.is_noty_audio_mode?e.$tc("ui.scanner.settings.is_noty_audio_mode.true"):e.$tc("ui.scanner.settings.is_noty_audio_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_speech_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_speech_mode},on:{click:function(t){e.settings.is_speech_mode=!e.settings.is_speech_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"file audio outline icon"}),e.settings.is_speech_mode?e._e():i("i",{staticClass:"bottom left corner red dont icon"})]),i("p",[e._v("\n                "+e._s(e.settings.is_speech_mode?e.$tc("ui.scanner.settings.is_speech_mode.true"):e.$tc("ui.scanner.settings.is_speech_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_core_waybill_pieces_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_core_waybill_pieces_mode},on:{click:function(t){e.settings.is_core_waybill_pieces_mode=!e.settings.is_core_waybill_pieces_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"cubes icon",staticStyle:{width:"34px"}}),e.settings.is_core_waybill_pieces_mode?e._e():i("i",{staticClass:"bottom left corner red dont icon"})]),i("p",[e._v("\n                "+e._s(e.settings.is_core_waybill_pieces_mode?e.$tc("ui.scanner.settings.is_core_waybill_pieces_mode.true"):e.$tc("ui.scanner.settings.is_core_waybill_pieces_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_quick_corewaybill_related_columns")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_quick_corewaybill_related_columns},on:{click:function(t){e.settings.is_quick_corewaybill_related_columns=!e.settings.is_quick_corewaybill_related_columns}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"paste up icon"}),e.settings.is_quick_corewaybill_related_columns?e._e():i("i",{staticClass:"bottom left corner red dont icon"})]),i("p",[e._v("\n                "+e._s(e.settings.is_quick_corewaybill_related_columns?e.$tc("ui.scanner.settings.is_quick_corewaybill_related_columns.true"):e.$tc("ui.scanner.settings.is_quick_corewaybill_related_columns.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_batch_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_batch_mode},on:{click:function(t){e.settings.is_batch_mode=!e.settings.is_batch_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"copy outline icon"}),e.settings.is_batch_mode?e._e():i("i",{staticClass:"bottom left corner red dont icon"})]),i("p",[e._v("\n                "+e._s(e.settings.is_batch_mode?e.$tc("ui.scanner.settings.is_batch_mode.true"):e.$tc("ui.scanner.settings.is_batch_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("core_waybill_template_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:"min_card"==e.settings.core_waybill_template_mode},on:{click:function(t){e.settings.core_waybill_template_mode="min_card"}}},[e._m(0),i("p",[e._v("\n                "+e._s(e.$tc("ui.scanner.settings.core_waybill_template_mode.min_card"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("core_waybill_template_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:"card"==e.settings.core_waybill_template_mode},on:{click:function(t){e.settings.core_waybill_template_mode="card"}}},[e._m(1),i("p",[e._v("\n                "+e._s(e.$tc("ui.scanner.settings.core_waybill_template_mode.card"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("core_waybill_template_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:"detail"==e.settings.core_waybill_template_mode},on:{click:function(t){e.settings.core_waybill_template_mode="detail"}}},[e._m(2),i("p",[e._v("\n                "+e._s(e.$tc("ui.scanner.settings.core_waybill_template_mode.detail"))+"\n            ")])]):e._e()])])},p=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("i",{staticClass:"big icons"},[i("i",{staticClass:"icon minus"})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("i",{staticClass:"big icons"},[i("i",{staticClass:"icon list"})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("i",{staticClass:"big icons"},[i("i",{staticClass:"icon file text"})])}],m={props:{is_inverted:{default:!1,type:Boolean}},data:function(){return{is_setting:!1}},computed:{current_store:function(){return this.$store.state[this.$store.state.current_scope].scanner_module},theme:function(){return this.current_store.config.theme},can_use_settings:function(){return this.current_store.config.settings},scan_action_prototypes:function(){return this.current_store.scan_action_prototypes},current_scan_action_prototype:function(){return this.current_store.current_scan_action_prototype},settings:function(){return this.current_store.settings}},watch:{},mounted:function(){},methods:{},components:{}},f=m,v=(n("6cc7"),n("2877")),h=Object(v["a"])(f,d,p,!1,null,"71468118",null),g=h.exports,b=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"scanner_setting_groups"}},[i("div",{staticClass:"ui doubling five column grid setting_groups",staticStyle:{"margin-top":"0.1rem","margin-bottom":"0.2rem",color:"white"}},e._l(e.setting_groups,function(t){return t.is_hide?e._e():i("Group",{key:t.barcode,class:{inverted:e.is_inverted},attrs:{setting_group:t}})}))])},y=[],w=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"column center aligned pointer setting_group"},[i("div",{staticClass:"box",style:{margin:"0 auto",backgroundColor:e.setting_group.color},on:{click:function(t){e.set_settings()}}},[i("i",{staticClass:"huge icons",staticStyle:{margin:"5px"}},[i("i",{class:e.setting_group.primary_icon_classes}),i("i",{class:e.setting_group.secondary_icon_classes||"right bottom corner icon"})]),i("p",{staticClass:"mobile only",style:{fontSize:e.content_font_size+"px"}},[e._v("\n            "+e._s(e.setting_group.name||"-")+"\n        ")]),i("p",{staticClass:"computer only"},[e._v("\n            "+e._s(e.setting_group.name||"-")+"\n        ")])])])},k=[],C={props:{setting_group:Object},data:function(){return{content_font_size:this.calculate_content_font_size()}},computed:{current_store:function(){return this.$store.state[this.$store.state.current_scope].scanner_module}},watch:{},mounted:function(){},methods:{calculate_content_font_size:function(){var e=this,t=e.setting_group.name.length;return t>4?17:""},set_settings:function(){var e=this;e.$bus.$emit("quick_setting_number","@@"+e.setting_group.barcode+"@@",!1,!1)}},components:{}},x=C,P=(n("7c77"),Object(v["a"])(x,w,k,!1,null,"138dc42e",null)),S=P.exports,N={components:{Group:S},props:{is_inverted:{default:!1,type:Boolean}},data:function(){return{is_setting:!1}},computed:{current_store:function(){return this.$store.state[this.$store.state.current_scope].scanner_module},setting_groups:function(){return this.current_store.setting_groups}},watch:{},mounted:function(){},methods:{}},A=N,E=(n("b846"),Object(v["a"])(A,b,y,!1,null,"788a3204",null)),q=E.exports,z=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"scanner_setting_operations"}},[e.operations.length?i("div",[i("h3",[e._v("\n            "+e._s(e.$t("ui.scanner.operations.total",{operations_length:e.operations.length,sum_core_waybills:e.sum_core_waybills}))+"\n        ")])]):e._e(),e._l(e.operations,function(t){return e.operations.length?i("div",{staticClass:"ui segment pointer operation",class:{active:e.current_staff_operation.identity==t.identity},on:{click:function(i){i.preventDefault(),e.set_current_operation(t)}}},[i("h3",{staticStyle:{"margin-bottom":"3px"}},[e._v("\n            "+e._s(t.number)+"\n            "),i("span",{staticClass:"sub_title"},[t.customer?i("span",[e._v("\n                    ["+e._s(t.customer.company_name)+"]\n                ")]):e._e(),i("span",[e._v("\n                    / "+e._s(t.core_waybills.length)+"件\n                ")])])]),i("div",{staticClass:"content",domProps:{innerHTML:e._s(t.provider_note)}}),e.current_staff_operation.identity==t.identity?i("div",{staticClass:"core_waybills"},[i("span",[e._v("\n                "+e._s(e.$t("ui.scanner.operations.contents"))+"：\n                "),e._l(e.sort_operation_core_waybills_numbers,function(t,n){return i("span",[e._v("\n                    "+e._s(t)+"\n                    "),e.sort_operation_core_waybills_numbers.length!=n+1?i("span",[e._v("\n                        /\n                    ")]):e._e()])})],2)]):e._e()]):e._e()}),e.operations.length?e._e():i("div",{staticClass:"ui segment pointer operation"},[i("h3",{style:{color:e.theme.color.font}},[e._v("\n            "+e._s(e.$t("ui.scanner.helps.you_dont_any_operation"))+"\n        ")])]),i("div",{staticClass:"refresh_operations_icon",on:{click:function(t){e.$store.dispatch("provider/fetch_current_staff_operations")}}},[i("i",{staticClass:"icon big refresh pointer"})])],2)},j=[],R={props:{is_inverted:{default:!1,type:Boolean}},data:function(){return{is_setting:!1,core_waybill_identities:[]}},computed:{current_store:function(){return this.$store.state[this.$store.state.current_scope].scanner_module},theme:function(){return this.current_store.config.theme},operations:function(){return this.$store.state.provider.current_staff_operations},current_staff_operation:function(){return this.$store.state.provider.current_staff_operation},sort_operation_core_waybills_numbers:function(){var e=_.map(this.current_staff_operation.core_waybills,"number")||[];return e.sort().reverse()},sum_core_waybills:function(){return _.sumBy(this.operations,function(e){return e.core_waybills.length})}},watch:{},mounted:function(){},methods:{set_current_operation:function(e){var t=this;e.identity==t.current_staff_operation.identity?(t.$noty.warning(t.$t("ui.scanner.operations.clear_current_operation"),200),t.$store.dispatch("provider/set_current_staff_operation",{})):(t.$noty.success(t.$t("ui.scanner.operations.current_operation_set_to")+" "+e.number,300),t.$store.dispatch("provider/set_current_staff_operation",e))}},components:{}},I=R,T=(n("716c"),Object(v["a"])(I,z,j,!1,null,"8ec1d3a2",null)),O=T.exports,L=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{style:{color:e.is_inverted?"white":"black",paddingTop:e.top?"0px":"25%",top:e.top?e.top:"0"},attrs:{id:"navigation_left"}},[i("i",{staticClass:"caret left icon"})])},D=[],B={components:{},props:{is_inverted:{default:!0,type:Boolean},top:{default:"",type:String}},data:function(){return{}},mounted:function(){},watch:{},computed:{},methods:{}},M=B,U=(n("f6a5"),Object(v["a"])(M,L,D,!1,null,"baab9694",null)),F=U.exports,G=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{style:{color:e.is_inverted?"white":"black",paddingTop:e.top?"0px":"25%",top:e.top?e.top:"0"},attrs:{id:"navigation_right"}},[i("i",{staticClass:"caret right icon"})])},H=[],Y={components:{},props:{is_inverted:{default:!0,type:Boolean},top:{default:"",type:String}},data:function(){return{}},mounted:function(){},watch:{},computed:{},methods:{}},K=Y,W=(n("3a58"),Object(v["a"])(K,G,H,!1,null,"d73361f6",null)),V=W.exports,X=n("0a63");function Q(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function Z(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){Q(r,n,a,s,o,"next",e)}function o(e){Q(r,n,a,s,o,"throw",e)}s(void 0)})}}var J={components:{AllDetails:g,Groups:q,Carousel:X["Carousel"],NavigationRight:V,NavigationLeft:F,Slide:X["Slide"],Operations:O},props:{is_processing:{default:!1,type:Boolean},is_inverted:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1,is_mobile_width:!1,current_column_index:0,current_setting_component:"Groups",menus:[]}},computed:{language:function(){return this.$store.state.language},current_store:function(){return this.$store.state[this.$store.state.current_scope].scanner_module},theme:function(){return this.current_store.config.theme},settings:function(){return this.current_store.settings}},watch:{language:{handler:function(t){try{this.init()}catch(e){console.log(e),this.$noty.error(e)}},deep:!0},"settings.is_scan_action_mode":function(e){var t=this;e?t.$noty.information(t.$tc("ui.scanner.settings.is_scan_action_mode.true")):t.$noty.warning(t.$tc("ui.scanner.settings.is_scan_action_mode.false")),localStorage.setItem("scanner_is_scan_action_mode",e)},"settings.is_distributed_to_mode":function(e){var t=this;e?t.$noty.information(t.$tc("ui.scanner.settings.is_distributed_to_mode.true")):t.$noty.warning(t.$tc("ui.scanner.settings.is_distributed_to_mode.false")),localStorage.setItem("scanner_is_distributed_to_mode",e)},"settings.is_package_mode":function(e){var t=this;e?(t.$noty.information(t.$tc("ui.scanner.settings.is_package_mode.true")),t.settings.is_unpackage_mode=!1):t.$noty.warning(t.$tc("ui.scanner.settings.is_package_mode.false")),localStorage.setItem("scanner_is_package_mode",e)},"settings.is_unpackage_mode":function(e){var t=this;e?(t.$noty.information(t.$tc("ui.scanner.settings.is_unpackage_mode.true")),t.settings.is_package_mode=!1):t.$noty.warning(t.$tc("ui.scanner.settings.is_unpackage_mode.false")),localStorage.setItem("scanner_is_unpackage_mode",e)},"settings.is_operation_mode":function(e){var t=this;e?t.$noty.information(t.$tc("ui.scanner.settings.is_operation_mode.true")):t.$noty.warning(t.$tc("ui.scanner.settings.is_operation_mode.false")),localStorage.setItem("scanner_is_operation_mode",e),t.set_menus()},"settings.is_auto_print_label_mode":function(e){var t=this;e?t.$noty.information(t.$tc("ui.scanner.settings.is_auto_print_label_mode.true")):t.$noty.warning(t.$tc("ui.scanner.settings.is_auto_print_label_mode.false")),localStorage.setItem("scanner_is_auto_print_label_mode",e)},"settings.is_high_performance_mode":function(e){var t=this;e?t.$noty.information(t.$tc("ui.scanner.settings.is_high_performance_mode.true")):t.$noty.warning(t.$tc("ui.scanner.settings.is_high_performance_mode.false")),localStorage.setItem("scanner_is_high_performance_mode",e)},"settings.is_scan_mode":function(e){var t=this;e?t.$noty.information(t.$tc("ui.scanner.settings.is_scan_mode.true")):t.$noty.warning(t.$tc("ui.scanner.settings.is_scan_mode.false")),localStorage.setItem("scanner_is_scan_mode",e)},"settings.is_update_corewaybill_mode":function(e){var t=this;e?t.$noty.information(t.$tc("ui.scanner.settings.is_update_corewaybill_mode.true")):t.$noty.warning(t.$tc("ui.scanner.settings.is_update_corewaybill_mode.false")),localStorage.setItem("scanner_is_update_corewaybill_mode",e)},"settings.is_noty_audio_mode":function(e){var t=this;e?t.$noty.information(t.$tc("ui.scanner.settings.is_noty_audio_mode.true")):t.$noty.warning(t.$tc("ui.scanner.settings.is_noty_audio_mode.false")),localStorage.setItem("scanner_is_noty_audio_mode",e)},"settings.is_speech_mode":function(e){var t=this;e?t.$noty.information(t.$tc("ui.scanner.settings.is_speech_mode.true")):t.$noty.warning(t.$tc("ui.scanner.settings.is_speech_mode.false")),localStorage.setItem("scanner_is_speech_mode",e)},"settings.is_quick_corewaybill_related_columns":function(e){var t=this;e?t.$noty.information(t.$tc("ui.scanner.settings.is_quick_corewaybill_related_columns.true")):t.$noty.warning(t.$tc("ui.scanner.settings.is_quick_corewaybill_related_columns.false")),localStorage.setItem("scanner_is_quick_corewaybill_related_columns",e)},"settings.is_batch_mode":function(e){var t=this;e?t.$noty.warning(t.$tc("ui.scanner.settings.is_batch_mode.true",3),2e3):t.$noty.information(t.$tc("ui.scanner.settings.is_batch_mode.false")),localStorage.setItem("scanner_is_batch_mode",e)},"settings.core_waybill_template_mode":function(e){var t=this,i="";i="min_card"==e?t.$tc("ui.scanner.settings.core_waybill_template_mode.min_card"):i,i="card"==e?t.$tc("ui.scanner.settings.core_waybill_template_mode.card"):i,i="detail"==e?t.$tc("ui.scanner.settings.core_waybill_template_mode.detail"):i,t.$noty.information(i)},is_mobile_width:function(e){var t=this;setTimeout(function(){e&&t.is_initialized&&(t.current_column_index=1)},100)}},mounted:function(){var e=this;e.init()},methods:{init:function(){var e=Z(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,new Promise(function(e){t.menus=[],t.is_initialized=!1,e()});case 4:return e.next=6,t.set_menus();case 6:return e.next=8,t.set_is_mobile_width();case 8:return e.next=10,new Promise(function(e){t.is_initialized=!0,e()});case 10:e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](1),console.log(e.t0);case 15:case"end":return e.stop()}},e,this,[[1,12]])}));function t(){return e.apply(this,arguments)}return t}(),set_menus:function(){var e=this;return e.menus=[{title:e.$t("ui.scanner.menus.settings"),component_name:"AllDetails"},{title:e.$t("ui.scanner.menus.setting_group"),component_name:"Groups"}],e.settings.is_operation_mode&&e.menus.push({title:e.$t("ui.scanner.menus.operation"),component_name:"Operations"}),Promise.resolve()},set_is_mobile_width:function(){var e=this;return e.is_mobile_width=$(window).width()<=767,$(window).resize(function(){var t=$(window).width();e.is_mobile_width=t<=767}),Promise.resolve()}}},ee=J,te=(n("a5ee"),Object(v["a"])(ee,l,u,!1,null,"50c613b4",null)),ie=te.exports,ne=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"dashboard"}},[i("div",{staticClass:"ui inverted dimmer",class:{active:e.is_loading}},[i("div",{staticClass:"ui indeterminate text loader"},[e._v("\n            "+e._s(e.$t("ui.general.initializing"))+"\n        ")])]),i("div",{staticClass:"ui form",class:{loading:e.is_processing,inverted:e.is_inverted}},[i("div",{staticClass:"ui fluid right action left icon big input",class:{"inverted transparent":e.is_inverted},style:{borderBottom:"4px "+e.current_setting_group.color+" solid",color:e.theme.color.font,overflow:"hidden"}},[i("i",{staticClass:"search icon"}),e.is_input_mode?i("input",{directives:[{name:"model",rawName:"v-model",value:e.input_number,expression:"input_number"}],ref:"search_input",staticClass:"no bottom border",style:{background:"none",color:e.theme.color.font},attrs:{type:"text",id:"search_input",autofocus:"true",autocomplete:"off",placeholder:e.$t("ui.scanner.helps.write_or_scan_barcode")},domProps:{value:e.input_number},on:{blur:function(t){e.input_blurred()},keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.input_submit()},input:function(t){t.target.composing||(e.input_number=t.target.value)}}}):i("div",{attrs:{id:"search_input"},on:{click:function(t){t.preventDefault(),e.input_focused()}}},[e._v("\n                "+e._s(e.current_number||e.$t("ui.scanner.helps.write_or_scan_barcode"))+"\n            ")]),i("div",{staticClass:"ui button no bottom border",class:{inverted:e.is_inverted,current_setting_group:e.current_setting_group},style:{backgroundColor:e.current_setting_group.color},on:{click:function(t){e.toggle_settings()}}},[i("i",{staticClass:"large icons",staticStyle:{margin:"5px",color:"white"}},[i("i",{class:e.current_setting_group.primary_icon_classes}),i("i",{class:e.current_setting_group.secondary_icon_classes||"right bottom corner icon"})])])]),i("div",{staticClass:"ui bottom right settings label no top border pointer",class:{inverted:e.is_inverted,show_setting_modes_content:e.is_setting},style:{background:"none",color:e.theme.color.font},on:{click:function(t){e.toggle_settings()}}},[i("div",{staticClass:"settings_content"},[i("span",{staticClass:"setting_modes_content",class:{show_setting_modes_content:e.is_setting}},[e.settings.is_scan_action_mode&&e.current_scan_action_prototype.identity?i("span",[e._v(e._s(e.current_scan_action_prototype.name+"("+e.current_scan_action_prototype.barcode+")")+"、\n                    ")]):i("span",[e.current_setting_group.is_hide?e._e():i("span",[e._v("\n                            "+e._s(e.current_setting_group.name)+" 、\n                        ")])]),e._v("\n\n                    "+e._s(e.settings.is_batch_mode?e.$tc("ui.scanner.settings.is_batch_mode.true")+"、":"")+"\n                    "+e._s(e.settings.is_distributed_to_mode?e.$tc("ui.scanner.settings.is_distributed_to_mode.true",2)+"、":"")+"\n                    "+e._s(e.settings.is_package_mode?e.$tc("ui.scanner.settings.is_package_mode.true",2)+"、":"")+"\n                    "+e._s(e.settings.is_unpackage_mode?e.$tc("ui.scanner.settings.is_unpackage_mode.true",2)+"、":"")+"\n\n                    "),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_auto_print_label_mode")?i("span",[e._v("\n                        "+e._s(e.settings.is_auto_print_label_mode?e.$tc("ui.scanner.settings.is_auto_print_label_mode.true",2):e.$tc("ui.scanner.settings.is_auto_print_label_mode.false",2))+"、\n                    ")]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_scan_mode")?i("span",[e._v("\n                        "+e._s(e.settings.is_scan_mode?e.$tc("ui.scanner.settings.is_scan_mode.true",2):e.$tc("ui.scanner.settings.is_scan_mode.false",2))+"、\n                    ")]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_speech_mode")?i("span",[e._v("\n                        "+e._s(e.settings.is_speech_mode?e.$tc("ui.scanner.settings.is_speech_mode.true",2):e.$tc("ui.scanner.settings.is_speech_mode.false",2))+"、\n                    ")]):e._e(),e._v("\n\n                    "+e._s(e.settings.is_update_corewaybill_mode?e.$tc("ui.scanner.settings.is_update_corewaybill_mode.true",2)+"、":"")+"\n\n                    "),e._v("\n                    "+e._s(e.$t("ui.scanner.settings.core_waybill_template_mode.short_name"))+"：\n                    "+e._s("min_card"==e.settings.core_waybill_template_mode?e.$tc("ui.scanner.settings.core_waybill_template_mode.min_card",2):"")+"\n                    "+e._s("card"==e.settings.core_waybill_template_mode?e.$tc("ui.scanner.settings.core_waybill_template_mode.card",2):"")+"\n                    "+e._s("detail"==e.settings.core_waybill_template_mode?e.$tc("ui.scanner.settings.core_waybill_template_mode.detail",2):"")+"\n                ")])]),i("div",{staticClass:"toggle_is_setting_icon",class:{show_setting_modes_content:e.is_setting}},[i("i",{staticClass:"large icon angle double",class:{up:e.is_setting,down:!e.is_setting},style:{color:e.theme.color.show_setting_icon}})])])])])},ae=[];function re(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function se(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){re(r,n,a,s,o,"next",e)}function o(e){re(r,n,a,s,o,"throw",e)}s(void 0)})}}var oe={props:{is_processing:Boolean,current_scan_action_prototype:Object,current_number:String,is_inverted:{default:!1,type:Boolean}},data:function(){return{input_number:"",is_input_mode:!1,is_loading:!1}},mounted:function(){},watch:{},computed:{current_store:function(){return this.$store.state[this.$store.state.current_scope].scanner_module},theme:function(){return this.current_store.config.theme},settings:function(){return this.current_store.settings},is_setting:function(){return this.current_store.is_setting},current_setting_group:function(){return this.current_store.current_setting_group}},methods:{input_focused:function(){var e=se(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_input_mode=!0,e()});case 3:return e.next=5,new Promise(function(e){t.input_number=t.current_number,e()});case 5:return e.next=7,new Promise(function(e){t.$nextTick(function(){$("#search_input").focus(),t.$refs.search_input.focus()}),e()});case 7:return e.next=9,t.$bus.$emit("set_input_mode",!0);case 9:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),input_blurred:function(){var e=se(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,t.$bus.$emit("set_current_number",t.input_number);case 3:return e.next=5,new Promise(function(e){t.is_input_mode=!1,t.input_number="",e()});case 5:return e.next=7,t.$bus.$emit("set_input_mode",!1);case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),input_submit:function(){var e=se(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,t.input_blurred();case 4:return e.next=6,t.$bus.$emit("enqueue");case 6:e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log(e.t0);case 11:case"end":return e.stop()}},e,this,[[1,8]])}));function t(){return e.apply(this,arguments)}return t}(),toggle_settings:function(){var e=this;e.$parent.toggle_settings_div()}},components:{}},ce=oe,_e=(n("190c"),Object(v["a"])(ce,ne,ae,!1,null,"4f223fe6",null)),le=_e.exports,ue=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.is_initialized?i("div",{attrs:{id:"core_waybill"}},[e.settings.is_package_mode||e.settings.is_unpackage_mode?i("div",[e.is_mobile_width?i("carousel",{attrs:{perPage:1,speed:390,minSwipeDistance:120,paginationEnabled:!1}},[i("slide",[i("Package",{attrs:{is_inverted:e.is_inverted}}),i("NavigationRight",{attrs:{top:"18px"}})],1),i("slide",[i("NavigationLeft",{attrs:{top:"18px"}}),i("General",{attrs:{is_inverted:e.is_inverted}})],1)],1):i("div",[i("div",{staticClass:"ui top tabular menu"},e._l(e.top_menus,function(t){return i("div",{staticClass:"item pointer",class:{active:e.current_setting_component==t.component_name},style:{color:e.theme.color.font},on:{click:function(i){e.current_setting_component=t.component_name}}},[e._v("\n                    "+e._s(t.title)+"\n                ")])})),i(e.current_setting_component,{tag:"component",attrs:{is_inverted:e.is_inverted}})],1)],1):i("div",[i("General",{attrs:{is_inverted:e.is_inverted}})],1)]):e._e()},de=[],pe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"package_core_waybill"}},[i("div",{staticClass:"ui divider"}),e.settings.is_package_mode||e.is_initialized?i("div",{staticClass:"current_pack"},[i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui top pointing dropdown button",staticStyle:{"margin-right":"0"},on:{change:function(t){e.$forceUpdate()}}},[e._l(e.materials,function(t){return e.current_pack_taget_parent_material.identity==t.identity?i("div",{staticClass:"text"},[e._v("\n                "+e._s(e.current_pack_taget_parent_material.name)+"\n            ")]):e._e()}),e.current_pack_taget_parent_material.name?e._e():i("div",{staticClass:"text"},[e._v("\n                "+e._s(e.$t("ui.general.please_select"))+"\n                "+e._s(e.$t("ui.scanner.package.packing_material"))+"\n\n            ")]),i("div",{staticClass:"menu"},e._l(e.materials,function(t){return i("div",{staticClass:"item",class:{active:t.identity==e.current_pack_taget_parent_material.identity},on:{click:function(i){e.current_store.current_pack_taget_parent_material_identity=t.identity}}},[e._v("\n                    "+e._s(t.name)+"\n                ")])}))],2),i("span",{staticStyle:{"font-size":"20px","vertical-align":"sub"}},[e._v("\n            "+e._s(e.$t("ui.scanner.package.package"))+"\n        ")]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui top pointing dropdown button",on:{change:function(t){e.$forceUpdate()}}},[e._l(e.materials,function(t){return e.current_pack_taget_material.identity==t.identity?i("div",{staticClass:"text"},[e._v("\n                "+e._s(e.current_pack_taget_material.name)+"\n            ")]):e._e()}),e.current_pack_taget_material.name?e._e():i("div",{staticClass:"text"},[e._v("\n                "+e._s(e.$t("ui.scanner.helps.select_pack_taget"))+"\n            ")]),i("div",{staticClass:"menu"},e._l(e.materials,function(t){return i("div",{staticClass:"item",class:{active:t.identity==e.current_pack_taget_material.identity},on:{click:function(i){e.current_store.current_pack_taget_material_identity=t.identity}}},[e._v("\n                    "+e._s(t.name)+"\n                ")])}))],2),i("div",{staticClass:"ui checkbox",staticStyle:{"vertical-align":"middle"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.settings.pack_need_source_mode,expression:"settings.pack_need_source_mode"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.settings.pack_need_source_mode)?e._i(e.settings.pack_need_source_mode,null)>-1:e.settings.pack_need_source_mode},on:{change:function(t){var i=e.settings.pack_need_source_mode,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&e.$set(e.settings,"pack_need_source_mode",i.concat([r])):s>-1&&e.$set(e.settings,"pack_need_source_mode",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.settings,"pack_need_source_mode",a)}}}),i("label",{staticClass:"pointer",class:{active:e.settings.pack_need_source_mode},on:{click:function(t){e.current_store.settings.pack_need_source_mode=!e.current_store.settings.pack_need_source_mode}}},[e._v("\n                "+e._s(e.$tc("ui.scanner.settings.pack_need_source_mode.short_name"))+"\n            ")])])]):e._e(),e.package_message.content?i("div",{staticClass:"package_message",class:[e.package_message.status]},[e._v("\n        "+e._s(e.package_message.content)+"\n    ")]):e._e(),i("h2",{staticStyle:{margin:"0"}},[e._v("\n        "+e._s(e.current_package.parent_core_waybill.number||e.package_no_number_content)+"\n        "),e.current_package.parent_core_waybill.material?i("span",{staticClass:"material_name"},[e._v("\n            ["+e._s(e.current_package.parent_core_waybill.material.name)+"]\n        ")]):e._e()]),e.current_package.core_waybills.length?i("div",{staticClass:"goods"},[e._l(e.current_package.core_waybills,function(t){return i("h3",[e._v("\n            "+e._s(t.number)+"\n            "),t.material?i("span",{staticClass:"material_name"},[e._v("\n                ["+e._s(t.material.name)+"]\n            ")]):e._e()])}),i("div",{staticClass:"fluid ui button no border",on:{click:function(t){e.submit_package()}}},[e._v("\n            "+e._s(e.$t("ui.general.submit"))+"\n        ")])],2):e._e(),e.desc_ordered_package_response_history.length?i("div",{staticClass:"ui list package_response_history"},e._l(e.desc_ordered_package_response_history,function(e){return i("PackageHistoryItem",{key:e.id,staticClass:"item",attrs:{package_response:e}})})):e._e()])},me=[],fe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"package_history_item"},[i("span",[e._v("\n        "+e._s(e.package_response.is_setting_is_package_mode?e.$t("ui.scanner.package.package"):e.$t("ui.scanner.package.unpackage"))+"\n    ")]),"success"==e.package_response.status?i("span",{staticStyle:{color:"green"}},[e._v("\n        "+e._s(e.$t("success"))+"\n    ")]):e._e(),"failure"==e.package_response.status?i("span",{staticStyle:{color:"red"}},[e._v("\n        "+e._s(e.$t("ui.general.failure"))+"\n    ")]):e._e(),e._v("\n\n    "+e._s(e.package_response.parent_core_waybill.number)+"\n    ["+e._s(e.package_response.parent_core_waybill.material.name)+"]\n    "),e.package_response.is_setting_is_package_mode?i("span",[e._v("\n        "+e._s(e.$t("ui.scanner.package.total__number",{number:e.package_response.parent_core_waybill.child_core_waybills.length}))+"\n    ")]):e._e(),e.package_response.is_setting_is_package_mode?i("span",{staticClass:"pointer",staticStyle:{"font-size":"small","font-weight":"bold"},on:{click:function(t){e.is_show_detail=!e.is_show_detail}}},[e._v("\n        ["+e._s(e.is_show_detail?e.$t("ui.scanner.package.hide"):e.$t("ui.scanner.package.detail"))+"]\n    ")]):e._e(),e.is_show_detail?i("div",{staticClass:"current_package_response"},[e.package_response.parent_core_waybill.child_core_waybills.length?i("div",{staticClass:"goods",staticStyle:{padding:"6px"}},e._l(e.package_response.parent_core_waybill.child_core_waybills,function(t){return i("span",[e._v("\n                "+e._s(t.number)+"\n                "),t.material?i("span",{staticClass:"material_name"},[e._v("\n                    ["+e._s(t.material.name)+"]\n                ")]):e._e(),e._v("\n                /\n            ")])})):e._e()]):e._e()])},ve=[],he={components:{},props:{package_response:{default:{},type:Object}},data:function(){return{is_show_detail:!1}},mounted:function(){},watch:{},computed:{},methods:{}},ge=he,be=(n("fbef"),Object(v["a"])(ge,fe,ve,!1,null,"4080fb48",null)),ye=be.exports;function we(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function $e(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){we(r,n,a,s,o,"next",e)}function o(e){we(r,n,a,s,o,"throw",e)}s(void 0)})}}var ke={components:{PackageHistoryItem:ye},props:{is_inverted:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1,package_no_number_content:this.$t("ui.scanner.helps.select_target_layer")}},mounted:function(){var e=this;e.init()},watch:{"settings.pack_need_source_mode":function(e){var t=this;t.fetch_and_set_local_storage("pack_need_source_mode",e)},"settings.pack_p_m_mode":function(e){var t=this;t.fetch_and_set_local_storage("pack_p_m_mode",e),t.init()},"settings.pack_m_mode":function(e){var t=this;t.fetch_and_set_local_storage("pack_m_mode",e),t.init()},current_pack_taget_parent_material:function(e){var t=this;e.class_name!=t.settings.pack_p_m_mode&&t.clear_current_pack(),t.settings.pack_p_m_mode=e.class_name},current_pack_taget_material:function(e){var t=this;t.settings.pack_m_mode=e.class_name}},computed:{current_store:function(){return this.$store.state.provider.scanner_module},settings:function(){return this.current_store.settings},current_pack_taget_parent_material:function(){return this.$store.getters["provider/scanner_module/current_pack_taget_parent_material"]},current_pack_taget_material:function(){return this.$store.getters["provider/scanner_module/current_pack_taget_material"]},materials:function(){return this.current_store.materials},current_package:{cache:!1,get:function(){return this.current_store["package"]}},package_message:function(){return this.current_store.package_message},desc_ordered_package_response_history:function(){return _.orderBy(this.current_store.package_response_history,"id","desc")}},methods:{init:function(){var e=$e(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,t.is_initialized=!1,e.next=4,t.set_pack_material();case 4:return e.next=6,t.set_package_no_number_content();case 6:return e.next=8,new Promise(function(e){t.is_initialized=!0});case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),set_pack_material:function(){var e=this;if(e.settings.pack_p_m_mode){var t=_.find(e.materials,function(t){var i=new RegExp(e.settings.pack_p_m_mode,"i");return t.class_name.match(i)});e.current_store.current_pack_taget_parent_material_identity=t.identity?t.identity:""}if(e.settings.pack_m_mode){t=_.find(e.materials,function(t){var i=new RegExp(e.settings.pack_m_mode,"i");return t.class_name.match(i)});e.current_store.current_pack_taget_material_identity=t.identity?t.identity:""}return Promise.resolve()},set_package_no_number_content:function(){var e=this;try{if(!e.current_pack_taget_parent_material.name)throw e.$t("ui.scanner.helps.select_pack_taget_parent");if(!e.current_pack_taget_material.name)throw e.$t("ui.scanner.helps.select_pack_taget");throw e.$t("ui.scanner.helps.scan")+" "+e.current_pack_taget_parent_material.name}catch(t){e.package_no_number_content=t}},fetch_and_set_local_storage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i="scanner_"+e,n=localStorage.getItem(i);return!1===t&&localStorage.setItem(i,t),null==n||""==n||""!=t?(localStorage.setItem(i,t),t):localStorage.getItem(i)},submit_package:function(){var e=$e(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,t.$store.dispatch("provider/scanner_module/submit_package");case 3:return e.next=5,t.clear_current_pack();case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),clear_current_pack:function(){var e=this;return e.current_store["package"]={parent_core_waybill:{},core_waybill_identities:[],core_waybills:[],source_core_waybill_identity:null},Promise.resolve()}}},Ce=ke,xe=(n("df3c"),Object(v["a"])(Ce,pe,me,!1,null,"7c1c3344",null)),Pe=xe.exports,Se=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"content_core_waybill"}},[e.current_core_waybill_need_related_columns.length&&e.settings.is_quick_corewaybill_related_columns&&e.current_setting_group.is_scan_action?i("QuickRelatedColumns",{attrs:{is_inverted:e.is_inverted}}):e._e(),i("div",{staticClass:"ui divider"}),e.settings.is_core_waybill_creation_mode?i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui no_search fluid selection dropdown",on:{change:function(t){e.$forceUpdate()}}},[i("div",{staticClass:"text"},[e._v("\n            "+e._s(e.current_store.current_partition.name||"請選擇號碼區間")+"\n        ")]),i("div",{staticClass:"menu"},e._l(e.current_store.partitions,function(t){return i("div",{staticClass:"item",class:{active:t.identity==e.current_store.current_partition.identity},on:{click:function(i){e.set_current_partition(t)}}},[e._v("\n                "+e._s(t.name)+"\n            ")])}))]):e._e(),e.settings.is_core_waybill_creation_mode?i("div",{staticClass:"ui divider"}):e._e(),e.current_staff_operation.number||e.settings.is_distributed_to_mode||e.settings.is_unpackage_mode||e.settings.is_package_mode?i("h3",{staticClass:"center aligned",staticStyle:{margin:"0 auto","padding-bottom":"6px"}},[e.settings.is_distributed_to_mode&&!e.$store.getters["provider/current_station"].identity?i("span",[i("i",{staticClass:"exclamation triangle red icon"}),e._v("\n                "+e._s(e.$t("ui.scanner.helps.distributed.please_select"))+"\n                "),i("span",{staticClass:"pointer",staticStyle:{color:"red"},on:{click:function(t){e.$bus.$emit("toggle_station_modal","show")}}},[e._v("\n                    "+e._s(e.$t("ui.scanner.helps.distributed.current_station"))+"\n                ")]),e._v("\n                ，"+e._s(e.$t("ui.scanner.helps.distributed.can_use_distributed_to_mode"))+"\n                "),i("br")]):e._e(),e.settings.is_package_mode?i("span",[e._v("\n            "+e._s(e.$tc("ui.scanner.settings.is_package_mode.true",3))+"\n        ")]):e._e(),e.settings.is_unpackage_mode?i("span",[e._v("\n            "+e._s(e.$tc("ui.scanner.settings.is_unpackage_mode.true",3))+"\n        ")]):e._e(),e.current_staff_operation.number?i("span",[e.settings.is_package_mode||e.settings.is_unpackage_mode?i("span",[e._v("\n                、\n            ")]):e._e(),e._v("\n            "+e._s(e.$t("ui.scanner.helps.selected_operation"))+"：\n            "+e._s(e.current_staff_operation.number)+"\n            "),e.current_staff_operation.provider_note?i("span",[e._v("\n                、"+e._s(e.current_staff_operation.provider_note)+"\n            ")]):e._e()]):e._e()]):e._e(),i("div",{staticClass:"ui stackable centered grid"},[i("div",{staticClass:"wide column"},[i("DistributedResponse",{attrs:{"v-if":e.settings.is_distributed_to_mode,is_inverted:e.is_inverted}}),i("SingleCoreWaybill",{attrs:{current_core_waybill:e.current_core_waybill,is_inverted:e.is_inverted,settings:e.settings,card_half_style:!0,file_uploader:!0,fetch_core_waybill_statuses:!0,related_columns:e.current_scan_action_prototype.related_columns,current_scan_action_prototype:e.current_scan_action_prototype,is_half_style:!1}})],1)])],1)},Ne=[],Ae=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.current_core_waybill.identity&&"new"!=e.current_store.current_job.core_waybill_scope?i("div",[i("CoreWaybill",{staticStyle:{margin:"0px"},attrs:{core_waybill:e.current_core_waybill,template:e.tool_core_waybill_settings.template,scope:e.$store.state.current_scope,is_inverted:e.is_inverted,is_in_scanner_modal:!0,is_show_change_template_btns:!0,is_auto_print:e.tool_core_waybill_settings.is_auto_print,is_can_print_label:e.tool_core_waybill_settings.is_print_label,is_can_update:e.tool_core_waybill_settings.is_update_corewaybill,can_update_field_names:"LA04"==e.current_setting_group.barcode?["receipt_file_url"]:[],cant_update_field_names:e.tool_core_waybill_settings.cant_update_field_names,card:{is_half_style:!0,is_simple_form:!1,is_vertical:e.is_vertical,is_show_note:!0},detail:{is_show_blood_related:!0,is_show_receipt_file:!0,is_show_partition:!0,is_show_statuses:!0}}})],1):i("div")},Ee=[],qe=n("41a7");function ze(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function je(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){ze(r,n,a,s,o,"next",e)}function o(e){ze(r,n,a,s,o,"throw",e)}s(void 0)})}}var Re={components:{CoreWaybill:qe["a"]},props:{current_core_waybill:Object,current_scan_action_prototype:Object,is_inverted:{default:!1,type:Boolean},fetch_core_waybill_statuses:{default:!1,type:Boolean},card_button_color:{default:"",type:String},card_button_content:{default:"",type:String},card_button_channel:{default:"",type:String},file_uploader:{default:!1,type:Boolean},focus_field:{default:"",type:String},related_columns:{default:function(){return[]},type:Array}},computed:{current_store:function(){return this.$store.state[this.$store.state.current_scope].scanner_module},core_waybills:function(){return this.current_store.core_waybills},settings:function(){return this.current_store.settings},current_setting_group:function(){return this.current_store.current_setting_group}},data:function(){return{is_initialized:!1,is_vertical:!1,tool_core_waybill_settings:{cant_update_field_names:[],is_update_corewaybill:!1,is_print_label:!1,is_auto_print:!1,template:"card"},core_waybill_template_mode:"",core_waybill_statuses:[],empty_core_waybill:{number:"請輸入號碼"},tool_core_waybill_active_button:{content:"",channel:""}}},mounted:function(){var e=this;this.init(),e.is_vertical=$(window).width()<=767,$(window).resize(function(){var t=$(window).width();e.is_vertical=t<=767})},watch:{"settings.core_waybill_template_mode":function(e){var t=this;t.tool_core_waybill_settings.template="LA02"==t.current_setting_group.barcode?"waybill":e,t.tool_core_waybill_settings.is_auto_print=!1},current_core_waybill:function(){this.init()}},methods:{init:function(){var e=je(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,t.is_initialized=!1,e.next=4,t.set_tool_core_waybill_settings();case 4:return e.next=6,new Promise(function(e){t.is_initialized=!0});case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),set_tool_core_waybill_settings:function(){var e=this;return e.tool_core_waybill_settings.is_update_corewaybill=e.settings.is_update_corewaybill_mode,e.tool_core_waybill_settings.is_auto_print=e.settings.is_auto_print_label_mode,e.tool_core_waybill_settings.template=e.$store.getters[this.$store.state.current_scope+"/scanner_module/current_core_waybill_need_related_columns"].length?"card":e.settings.core_waybill_template_mode,"LA02"==e.current_setting_group.barcode?(e.tool_core_waybill_settings.template="waybill",e.tool_core_waybill_settings.is_print_label=!0):(e.tool_core_waybill_settings.template=e.settings.core_waybill_template_mode,e.tool_core_waybill_settings.is_print_label=e.settings.is_auto_print_label_mode),e.tool_core_waybill_settings.is_auto_print=!e.$store.getters[this.$store.state.current_scope+"/scanner_module/current_core_waybill_need_related_columns"].length&&e.tool_core_waybill_settings.is_auto_print,Promise.resolve()}}},Ie=Re,Te=(n("e823"),Object(v["a"])(Ie,Ae,Ee,!1,null,"3a687db6",null)),Oe=Te.exports,Le=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"quick_core_waybill_related_columns"}},[i("div",{staticClass:"ui divider",staticStyle:{"margin-top":"3px"}}),i("div",{staticClass:"ui form",class:{inverted:e.is_inverted}},[i("h3",{staticStyle:{margin:"0"}},[e._v("\n            "+e._s(e.$t("ui.scanner.helps.quick_required_field_div"))+"\n        ")]),e._l(e.current_scan_action_prototype_related_columns,function(t){return i("div",{staticClass:"field half",on:{click:function(t){e.is_edit_fields=!0}}},[e.is_edit_fields?i("label",{staticStyle:{"font-size":"14px"}},[e._v("\n                "+e._s(e.$t("models.attributes.core_waybills."+t.name))+"\n                ")]):e._e(),e.is_edit_fields?i("input",{directives:[{name:"model",rawName:"v-model",value:e.quick_core_waybill_related_columns[t.name],expression:"quick_core_waybill_related_columns[related_column.name]"}],class:{is_required:t.is_required},attrs:{type:"text",tabindex:"-1",autocomplete:"off",placeholder:t.is_required?e.$t("ui.scanner.alerts.required_field"):e.$t("ui.scanner.alerts.if_have_write")},domProps:{value:e.quick_core_waybill_related_columns[t.name]},on:{focus:function(t){e.current_store.is_keydown=!1},blur:function(t){e.current_store.is_keydown=!0},input:function(i){i.target.composing||e.$set(e.quick_core_waybill_related_columns,t.name,i.target.value)}}}):e._e(),e.is_edit_fields?e._e():i("label",{staticStyle:{"font-size":"14px"}},[e._v("\n                "+e._s(e.$t("models.attributes.core_waybills."+t.name))+"\n                "),t.is_required?i("span",{staticStyle:{color:"red"}},[e._v("\n                    *\n                ")]):e._e(),e._v("\n                ： "+e._s(e.quick_core_waybill_related_columns[t.name]||"無填寫")+"\n            ")])])})],2),i("div",{staticClass:"toggle_is_edit_fields pointer",on:{click:function(t){e.is_edit_fields=!e.is_edit_fields}}},[i("i",{staticClass:"circular orange icon",class:{"inverted angle double up":e.is_edit_fields,"large angle double down":!e.is_edit_fields}})]),i("div",{staticClass:"clear"})])},De=[],Be={components:{},props:{is_inverted:{default:!1,type:Boolean}},data:function(){return{is_edit_fields:!0}},computed:{current_store:function(){return this.$store.state.provider.scanner_module},settings:function(){return this.current_store.settings},current_scan_action_prototype_related_columns:function(){return this.$store.getters["provider/scanner_module/current_scan_action_prototype_related_columns"]},quick_core_waybill_related_columns:function(){return this.current_store.quick_core_waybill_related_columns}},watch:{},mounted:function(){},methods:{}},Me=Be,Ue=(n("0010"),Object(v["a"])(Me,Le,De,!1,null,"f059a78c",null)),Fe=Ue.exports,Ge=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"distributed_response"}},[e.distributed_to.message?i("div",{staticClass:"distributed_to_message",style:{borderColor:e.border_color()}},[i("h3",[e._v("\n            "+e._s(e.$t("ui.scanner.helps.distributed_result"))+"：\n            "+e._s(e.distributed_to.message)+"\n        ")])]):e._e()])},He=[],Ye={components:{},props:{is_inverted:{default:!1,type:Boolean}},data:function(){return{}},computed:{current_store:function(){return this.$store.state.provider.scanner_module},settings:function(){return this.current_store.settings},distributed_to:function(){return this.current_store.distributed_to}},watch:{},mounted:function(){},methods:{border_color:function(){var e=this;if("success"!=e.distributed_to.status)return"red";switch(e.distributed_to.type){case"direct":return"green";case"transfer":return"green";case"intermodal":return"green";default:return"green"}}}},Ke=Ye,We=(n("e2de"),Object(v["a"])(Ke,Ge,He,!1,null,"77bb3170",null)),Ve=We.exports;function Xe(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function Qe(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){Xe(r,n,a,s,o,"next",e)}function o(e){Xe(r,n,a,s,o,"throw",e)}s(void 0)})}}var Ze={components:{SingleCoreWaybill:Oe,QuickRelatedColumns:Fe,DistributedResponse:Ve},props:{core_waybill:Object,is_inverted:{default:!1,type:Boolean}},data:function(){return{is_processing:!0}},mounted:function(){this.init()},watch:{},computed:{current_staff_operation:function(){return this.$store.state.provider.current_staff_operation},current_store:function(){return this.$store.state[this.$store.state.current_scope].scanner_module},settings:function(){return this.current_store.settings},current_core_waybill:{cache:!1,get:function(){return this.current_store.current_core_waybill}},core_waybills:function(){return this.current_store.core_waybills},current_scan_action_prototype:function(){return this.current_store.current_scan_action_prototype},current_setting_group:function(){return this.current_store.current_setting_group},current_core_waybill_need_related_columns:function(){return this.$store.getters["provider/scanner_module/current_core_waybill_need_related_columns"]}},methods:{init:function(){var e=Qe(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,t.is_processing=!0,t.stack_error_number=[],e.next=5,new Promise(function(e){t.is_processing=!1});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),set_current_partition:function(e){this.$store.commit("provider/scanner_module/set_current_partition",e)}}},Je=Ze,et=(n("4686"),Object(v["a"])(Je,Se,Ne,!1,null,"bac8c334",null)),tt=et.exports;function it(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function nt(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){it(r,n,a,s,o,"next",e)}function o(e){it(r,n,a,s,o,"throw",e)}s(void 0)})}}var at={components:{Package:Pe,General:tt,NavigationLeft:F,NavigationRight:V,Carousel:X["Carousel"],Slide:X["Slide"]},props:{is_modal_opened:{default:!1,type:Boolean},is_inverted:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1,is_mobile_width:!1,current_setting_component:"Package",top_menus:[{title:this.$t("ui.scanner.menus.package"),component_name:"Package"},{title:this.$t("ui.scanner.menus.core_waybill"),component_name:"General"}],update_core_waybills_eventbus_name:"update_core_waybills_in_scanner"}},mounted:function(){var e=this;$(window).resize(function(){var t=$(window).width();e.is_mobile_width=t<=767}),e.init()},watch:{is_modal_opened:function(e){e&&this.$forceUpdate()}},computed:{current_store:function(){return this.$store.state[this.$store.state.current_scope].scanner_module},theme:function(){return this.current_store.config.theme},settings:function(){return this.current_store.settings},current_core_waybill:{cache:!1,get:function(){return this.current_store.current_core_waybill}},core_waybills:function(){return this.current_store.core_waybills}},methods:{init:function(){var e=nt(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,t.is_initialized=!1,e.next=4,t.set_is_mobile_width();case 4:return e.next=6,new Promise(function(e){t.is_initialized=!0});case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),set_is_mobile_width:function(){var e=this;return e.is_mobile_width=$(window).width()<=767,""}}},rt=at,st=(n("c48c"),Object(v["a"])(rt,ue,de,!1,null,"7ace8108",null)),ot=st.exports,ct=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"create_core_waybill_alert"}},[e.is_initialized?i("div",{staticClass:"ui segment z-depth-2",style:{background:e.theme.background,color:e.theme.color.font}},[i("h3",[e._v("\n            "+e._s(e.$t("ui.scanner.alerts.is_created"))+"\n            "),i("span",[e._v("\n                "+e._s(e.current_store.current_core_waybill.number)+"\n            ")]),e.current_store.current_core_waybill.material?i("span",{staticStyle:{"font-size":"small"}},[i("span",{staticClass:"title_number"},[e._v("\n                    ["+e._s(e.current_store.current_core_waybill.material.name)+"]\n                ")])]):e._e()]),e.create_core_waybill_error?i("div",{staticClass:"ui message error"},[e._v("\n            "+e._s(e.create_core_waybill_error)+"\n        ")]):e._e(),i("div",{staticClass:"right aligned",staticStyle:{"padding-top":"12px"}},[i("button",{staticClass:"ui inverted red button",on:{click:function(t){e.give_up_create_core_waybill()}}},[e._v("\n                "+e._s(e.$t("ui.scanner.alerts.give_up"))+"\n            ")]),i("button",{staticClass:"ui inverted blue button",on:{click:function(t){e.define_create_core_waybill()}}},[e._v("\n                "+e._s(e.$t("ui.scanner.alerts.definite"))+"\n            ")])])]):e._e()])},_t=[],lt=n("3c2e"),ut=n.n(lt);function dt(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function pt(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){dt(r,n,a,s,o,"next",e)}function o(e){dt(r,n,a,s,o,"throw",e)}s(void 0)})}}var mt={components:{},props:{is_inverted:{default:!1,type:Boolean},is_modal_opened:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1,is_enter_keyboard_to_finish_action:!1,create_core_waybill_error:""}},computed:{current_store:function(){return this.$store.state.provider.scanner_module},theme:function(){return this.current_store.config.theme},current_core_waybill:function(){return this.current_store.current_core_waybill}},watch:{},deleted:function(){var e=this;e.is_enter_keyboard_to_finish_action=!1},mounted:function(){var e=this;e.is_enter_keyboard_to_finish_action=!0,$(window).bind("keydown",e.window_keydown),e.toggle_scanner_is_keydown(!1),e.init()},methods:{window_keydown:function(e){var t=this;if(t.is_enter_keyboard_to_finish_action){var i=new ut.a(e);13!=i.key_code||this.current_store.is_keydown||t.define_create_core_waybill()}},init:function(){var e=pt(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,new Promise(function(e){t.current_column_order=0,t.is_initialized=!0,e()});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](1),console.log(e.t0);case 9:case"end":return e.stop()}},e,this,[[1,6]])}));function t(){return e.apply(this,arguments)}return t}(),toggle_scanner_is_keydown:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;t.current_store.is_keydown=e},give_up_create_core_waybill:function(){var e=this;e.toggle_scanner_is_keydown(!0),e.$parent.alert_failure(),e.$noty.warning("未建立運單",1200)},define_create_core_waybill:function(){var e=pt(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,t.create_core_waybill();case 3:if(""!=t.create_core_waybill_error){e.next=8;break}return e.next=6,t.$parent.alert_success();case 6:return e.next=8,t.toggle_scanner_is_keydown(!0);case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),create_core_waybill:function(){var e=this,t=new RestUrl(e.$store.state.provider.routes.api_v1_provider_core_waybills_create).parse({});return e.current_core_waybill["is_used"]=!0,e.current_core_waybill["material_identity"]=e.current_core_waybill.material.identity,e.current_core_waybill["partition_identity"]=e.current_core_waybill.partition.identity,axios.post(t,e.current_core_waybill,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.core_waybills")})),e.create_core_waybill_error=t.data.errors,Promise.reject(t.data.errors);e.$noty.success(e.$t("ui.notifications.success.create__name",{name:e.$t("models.core_waybills")}))})}}},ft=mt,vt=(n("4aea"),Object(v["a"])(ft,ct,_t,!1,null,"417deb48",null)),ht=vt.exports,gt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{},[i("div",{attrs:{id:"scan_action_description_alert"}},[e.is_initialized&&e.current_scan_action_prototype.description_options?i("div",{staticClass:"ui segment z-depth-2",style:{background:e.theme.background,color:e.theme.color.font,top:e.current_scan_action_prototype.description_options.length>=7?"10%":"20%"}},[i("p",{staticStyle:{"font-size":"16px"}},[e._v("\n                "+e._s(e.$t("ui.scanner.alerts.please_write_scan_note"))+"\n                "),i("span",{staticStyle:{color:"red"}},[e._v("\n                    ["+e._s(e.$t("ui.scanner.alerts.required"))+"]\n                ")])]),i("div",{staticClass:"description_options"},e._l(e.current_scan_action_prototype.description_options,function(t,n){return i("div",{staticClass:"ui inverted button",class:{fluid:e.is_mobile_width,red:n%7==0,orange:n%7==1,violet:n%7==2,white:n%7==3,purple:n%7==4,pink:n%7==5,active:e.current_store.scan_action_description==t},on:{click:function(i){e.current_store.scan_action_description=t}}},[e._v("\n                    "+e._s(t)+"\n                ")])})),i("div",{staticClass:"right aligned",staticStyle:{"padding-top":"12px"}},[i("button",{staticClass:"ui inverted red button",on:{click:function(t){e.give_up_scan_action_description()}}},[e._v("\n                    "+e._s(e.$t("ui.scanner.alerts.give_up"))+"\n                ")]),i("button",{staticClass:"ui inverted blue button",on:{click:function(t){e.finish_scan_action_description()}}},[e._v("\n                    "+e._s(e.$t("ui.scanner.alerts.definite"))+"\n                ")])])]):e._e()])])},bt=[],yt=n("dcbb");function wt(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function $t(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){wt(r,n,a,s,o,"next",e)}function o(e){wt(r,n,a,s,o,"throw",e)}s(void 0)})}}var kt={components:{FileUploader:yt["a"]},props:{is_inverted:{default:!1,type:Boolean},is_modal_opened:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1,is_mobile_width:!1,is_enter_keyboard_to_finish_action:!1,current_column:{},current_column_order:0,file_uploader:{status:"",message:""},core_waybill_receipt_file_url_eventbus:""}},computed:{current_store:function(){return this.$store.state.provider.scanner_module},theme:function(){return this.current_store.config.theme},settings:function(){return this.current_store.settings},scan_action_description:function(){return this.current_store.scan_action_description},current_scan_action_prototype:function(){return this.current_store.current_scan_action_prototype},array_description_options:function(){if(!this.current_store.current_scan_action_prototype.description_options)return[]}},watch:{is_modal_opened:function(e){e&&(this.toggle_scanner_is_keydown(!1),this.init())},current_core_waybill_need_related_columns:function(){this.init()}},deleted:function(){var e=this;e.is_enter_keyboard_to_finish_action=!1},mounted:function(){var e=this;e.is_mobile_width=$(window).width()<=767,$(window).resize(function(){var t=$(window).width();e.is_mobile_width=t<=767}),e.is_enter_keyboard_to_finish_action=!0,$(window).bind("keydown",e.window_keydown),e.toggle_scanner_is_keydown(!1),e.init()},methods:{window_keydown:function(e){var t=this;if(t.is_enter_keyboard_to_finish_action){var i=new ut.a(e);13!=i.key_code||this.current_store.is_keydown||t.finish_scan_action_description()}},toggle_scanner_is_keydown:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;t.current_store.is_keydown=e},init:function(){var e=$t(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,t.focus_input();case 4:return e.next=6,new Promise(function(e){t.current_column_order=0,t.is_initialized=!0,e()});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log(e.t0);case 11:case"end":return e.stop()}},e,this,[[1,8]])}));function t(){return e.apply(this,arguments)}return t}(),focus_input:function(){return $(document).ready(function(){$("#alert_input").focus()}),Promise.resolve()},give_up_scan_action_description:function(){var e=this,t=e.$t("ui.scanner.errors.give_up_scan_action_description");e.toggle_scanner_is_keydown(!0),e.$parent.alert_failure(t),e.$noty.error(t,1200)},finish_scan_action_description:function(){var e=$t(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,e.prev=1,t.scan_action_description){e.next=4;break}throw t.$t("ui.scanner.helps.write_scan_action_note");case 4:t.toggle_scanner_is_keydown(!0),t.$parent.alert_success(),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),t.$noty.error(e.t0,1200);case 11:case"end":return e.stop()}},e,this,[[1,8]])}));function t(){return e.apply(this,arguments)}return t}()}},Ct=kt,xt=(n("f254"),Object(v["a"])(Ct,gt,bt,!1,null,"6c380fb6",null)),Pt=xt.exports,St=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{"z-index":"100"},attrs:{id:"core_waybill_related_columns_alert"},on:{click:function(t){e.set_focus_input_name(e.current_core_waybill_need_related_columns[e.current_column_index].name)}}},[e.is_modal_opened?i("carousel",{ref:"columns_carousel",attrs:{perPage:1,speed:390,minSwipeDistance:120,paginationEnabled:!1,navigateTo:e.current_column_index},on:{pageChange:e.page_change}},e._l(e.current_core_waybill_need_related_columns,function(t,n){return i("slide",{key:t.identity},[i("div",{staticClass:"ui segment",style:{background:e.theme.background,color:e.theme.color.font}},[i("p",{staticStyle:{"font-size":"16px"}},[e._v("\n                    "+e._s(e.$t("ui.scanner.alerts.please_write"))+"：\n                    "+e._s(e.$t("models.attributes.core_waybills."+t.name))+"\n                    "),t.is_required?i("span",{staticStyle:{color:"red"}},[e._v("\n                        ["+e._s(e.$t("ui.scanner.alerts.required"))+"]\n                    ")]):e._e()]),t.input_method?"tel_input"==t.input_method.component?i("div",[i("InputTel",{attrs:{related_column:t,focus_input_name:e.current_store.alert_core_waybill_related_columns_focus_input_name}})],1):"file_uploader"==t.input_method.component?i("div",[i("FileUploader",{attrs:{related_column:t,focus_input_name:e.current_store.alert_core_waybill_related_columns_focus_input_name}})],1):e._e():i("div",[i("InputText",{attrs:{related_column:t,focus_input_name:e.current_store.alert_core_waybill_related_columns_focus_input_name}})],1),i("div",{staticClass:"ui grid decision_buttons"},[i("div",{staticClass:"six wide column"},[n?i("div",{staticClass:"left aligned"},[i("button",{staticClass:"ui inverted button",on:{click:function(t){e.previous_core_waybill_related_columns()}}},[e._v("\n                                "+e._s(e.$t("ui.scanner.alerts.previous"))+"\n                            ")])]):e._e()]),i("div",{staticClass:"ten wide column"},[i("div",{staticClass:"right aligned"},[i("button",{staticClass:"ui inverted red button",on:{click:function(t){e.give_up_core_waybill_related_columns()}}},[e._v("\n                                "+e._s(e.$t("ui.scanner.alerts.give_up"))+"\n                            ")]),i("button",{staticClass:"ui inverted blue button",on:{click:function(t){e.next_actions_core_waybill_related()}}},[e._v("\n                                "+e._s(e.$t("ui.scanner.alerts.definite"))+"\n                            ")])])])])])])})):e._e()],1)},Nt=[],At=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.is_initialized?i("div",[i("span",[e._v("\n            "+e._s(e.$t("ui.scanner.upload.receipt_file"))+"：\n        ")]),i("FileUploader",{staticClass:"file_uploader_tool",attrs:{channel:e.core_waybill_receipt_file_url_eventbus}}),e.file_uploader.message?i("h3",{staticClass:"file_uploader_message"},[e._v("\n            "+e._s(e.$t("ui.scanner.upload.result"))+"：\n            "),i("span",{class:e.file_uploader.status},[e._v("\n                "+e._s(e.file_uploader.message)+"\n            ")])]):e._e()],1):e._e()])},Et=[];function qt(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function zt(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){qt(r,n,a,s,o,"next",e)}function o(e){qt(r,n,a,s,o,"throw",e)}s(void 0)})}}var jt={components:{FileUploader:yt["a"]},props:{related_column:{default:{},input_type:Object},focus_input_name:{default:"",input_type:String},is_inverted:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1,current_column_order:0,file_uploader:{status:"",message:""},core_waybill_receipt_file_url_eventbus:""}},computed:{current_store:function(){return this.$store.state.provider.scanner_module},actions_core_waybill_related_columns:function(){return this.current_store.actions_core_waybill_related_columns}},watch:{},mounted:function(){var e=this;e.init()},methods:{init:function(){var e=zt(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,t.set_core_waybill_receipt_file_url();case 4:return e.next=6,new Promise(function(e){t.current_column_order=0,t.is_initialized=!0,e()});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log(e.t0);case 11:case"end":return e.stop()}},e,this,[[1,8]])}));function t(){return e.apply(this,arguments)}return t}(),set_core_waybill_receipt_file_url:function(){var e=this;e.core_waybill_receipt_file_url_eventbus="core_waybill_receipt_file_url_"+e.current_store.current_core_waybill.number,e.$bus.$off(e.core_waybill_receipt_file_url_eventbus),e.$bus.$on(e.core_waybill_receipt_file_url_eventbus,function(t,i,n){switch(i){case"uploaded_file":e.file_uploader.status="await",e.file_uploader.message=e.$t("ui.general.uploading");break;case"uploading":console.log("uploading"),e.file_uploader.status="await",e.file_uploader.message=e.$t("ui.general.uploading");break;case"upload complete":e.actions_core_waybill_related_columns[e.related_column.name]=n,e.file_uploader.status="success",e.file_uploader.message=e.$t("ui.notifications.success.update"),e.$bus.$emit("scanner_next_actions_core_waybill_related");break;case"upload failed":console.log("file_uploader failed"),e.file_uploader.status="failure",e.file_uploader.message=e.$t("ui.notifications.error.update");break}}.bind(this))}}},Rt=jt,It=(n("42ae"),Object(v["a"])(Rt,At,Et,!1,null,"134d2ecd",null)),Tt=It.exports,Ot=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.is_initialized?i("div",{staticClass:"ui fluid input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.actions_core_waybill_related_columns[e.related_column.name],expression:"actions_core_waybill_related_columns[related_column.name]"}],ref:e.related_column.name,attrs:{type:"text",placeholder:e.related_column.is_required?e.$t("ui.scanner.alerts.required_field"):e.$t("ui.scanner.alerts.if_have_write")},domProps:{value:e.actions_core_waybill_related_columns[e.related_column.name]},on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$bus.$emit("scanner_next_actions_core_waybill_related")},input:function(t){t.target.composing||e.$set(e.actions_core_waybill_related_columns,e.related_column.name,t.target.value)}}})]):e._e()])},Lt=[];function Dt(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function Bt(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){Dt(r,n,a,s,o,"next",e)}function o(e){Dt(r,n,a,s,o,"throw",e)}s(void 0)})}}var Mt={components:{},props:{related_column:{default:{},input_type:Object},focus_input_name:{default:"",input_type:String},is_inverted:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1,set_weight_interval:null}},computed:{current_store:function(){return this.$store.state.provider.scanner_module},actions_core_waybill_related_columns:function(){return this.current_store.actions_core_waybill_related_columns}},watch:{related_column:function(){this.init()},focus_input_name:{handler:function(e,t){this.focus_input()},deep:!0}},mounted:function(){var e=Bt(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return e.next=4,new Promise(function(e){t.set_weight_interval=setInterval(function(){"weight_in_kilo"==t.related_column.name&&(console.log(t.current_store.current_weight),t.current_store.current_weight&&(t.$store.commit("provider/scanner_module/update_actions_core_waybill_related_column",{related_column_name:"weight_in_kilo",value:t.current_store.current_weight}),t.$forceUpdate(),t.$store.commit("provider/scanner_module/set_current_weight",0),clearInterval(t.set_weight_interval)))},500),e()});case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{init:function(){var e=Bt(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,new Promise(function(e){t.is_initialized=!0,e()});case 4:return e.next=6,t.focus_input();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log(e.t0);case 11:case"end":return e.stop()}},e,this,[[1,8]])}));function t(){return e.apply(this,arguments)}return t}(),focus_input:function(){var t=this;try{if(!t.focus_input_name)throw"no focus_input_name";if(!t.related_column.name)throw"no related_column.name";t.focus_input_name===t.related_column.name?setTimeout(function(){t.$refs[t.related_column.name].focus()},300):this.$refs[t.related_column.name].blur()}catch(e){console.log(e)}return Promise.resolve()}}},Ut=Mt,Ft=(n("52cb"),Object(v["a"])(Ut,Ot,Lt,!1,null,"39678ae1",null)),Gt=Ft.exports,Ht=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.is_initialized?i("div",{staticClass:"ui fluid input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.actions_core_waybill_related_columns[e.related_column.name],expression:"actions_core_waybill_related_columns[related_column.name]"}],ref:e.related_column.name,attrs:{type:"tel",placeholder:e.related_column.is_required?e.$t("ui.scanner.alerts.required_field"):e.$t("ui.scanner.alerts.if_have_write")},domProps:{value:e.actions_core_waybill_related_columns[e.related_column.name]},on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$bus.$emit("scanner_next_actions_core_waybill_related")},input:function(t){t.target.composing||e.$set(e.actions_core_waybill_related_columns,e.related_column.name,t.target.value)}}})]):e._e()])},Yt=[];function Kt(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function Wt(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){Kt(r,n,a,s,o,"next",e)}function o(e){Kt(r,n,a,s,o,"throw",e)}s(void 0)})}}var Vt={components:{},props:{related_column:{default:{},input_type:Object},focus_input_name:{default:"",input_type:String},is_inverted:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.provider.scanner_module},actions_core_waybill_related_columns:function(){return this.current_store.actions_core_waybill_related_columns}},watch:{related_column:function(){this.init()},focus_input_name:{handler:function(e,t){this.focus_input()},deep:!0}},mounted:function(){var e=this;e.init()},methods:{init:function(){var e=Wt(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,new Promise(function(e){t.is_initialized=!0,e()});case 4:return e.next=6,t.focus_input();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log(e.t0);case 11:case"end":return e.stop()}},e,this,[[1,8]])}));function t(){return e.apply(this,arguments)}return t}(),focus_input:function(){var t=this;try{if(!t.focus_input_name)throw"no focus_input_name";if(!t.related_column.name)throw"no related_column.name";t.focus_input_name===t.related_column.name?setTimeout(function(){t.$refs[t.related_column.name].focus()},300):t.$refs[t.related_column.name].blur()}catch(e){console.log(e)}return Promise.resolve()}}},Xt=Vt,Qt=(n("0bfa"),Object(v["a"])(Xt,Ht,Yt,!1,null,"1682ee1a",null)),Zt=Qt.exports;function Jt(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function ei(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){Jt(r,n,a,s,o,"next",e)}function o(e){Jt(r,n,a,s,o,"throw",e)}s(void 0)})}}var ti={components:{FileUploader:Tt,InputText:Gt,InputTel:Zt,Carousel:X["Carousel"],Slide:X["Slide"]},props:{is_inverted:{default:!1,type:Boolean},is_modal_opened:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1,current_column:{},current_column_index:0}},computed:{current_store:function(){return this.$store.state.provider.scanner_module},theme:function(){return this.current_store.config.theme},settings:function(){return this.current_store.settings},current_core_waybill:function(){return this.current_store.current_core_waybill},actions_core_waybill_related_columns:function(){return this.current_store.actions_core_waybill_related_columns},current_core_waybill_need_related_columns:function(){return this.$store.getters["provider/scanner_module/current_core_waybill_need_related_columns"]},alert_core_waybill_related_columns_focus_input_name:function(){return this.current_store.alert_core_waybill_related_columns_focus_input_name}},watch:{is_modal_opened:function(e){e&&(this.toggle_scanner_is_keydown(!1),this.init())},current_core_waybill_need_related_columns:function(){this.init()}},mounted:function(){var e=this;e.$bus.$off("scanner_next_actions_core_waybill_related"),e.$bus.$on("scanner_next_actions_core_waybill_related",function(){e.next_actions_core_waybill_related()}.bind(this)),e.toggle_scanner_is_keydown(!1),e.init()},methods:{page_change:function(e){var t=this;t.current_column_index=e,t.current_core_waybill_need_related_columns[t.current_column_index]?t.set_focus_input_name(t.current_core_waybill_need_related_columns[t.current_column_index].name):t.set_focus_input_name(null)},toggle_scanner_is_keydown:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;t.current_store.is_keydown=e},init:function(){var e=ei(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,t.set_focus_input_name();case 4:return e.next=6,new Promise(function(e){t.current_column_index=0,t.is_initialized=!0,e()});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log(e.t0);case 11:case"end":return e.stop()}},e,this,[[1,8]])}));function t(){return e.apply(this,arguments)}return t}(),set_focus_input_name:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this;return t.current_store.alert_core_waybill_related_columns_focus_input_name="no_focus",setTimeout(function(){if(null==e){var i=_.head(t.current_core_waybill_need_related_columns);e=i.name}t.current_store.alert_core_waybill_related_columns_focus_input_name=e},50),Promise.resolve()},previous_core_waybill_related_columns:function(){var e=this;e.$nextTick(function(){e.current_column_index=e.current_column_index-1,e.set_focus_input_name(e.current_core_waybill_need_related_columns[e.current_column_index].name)})},give_up_core_waybill_related_columns:function(){var e=this,t=e.$t("ui.scanner.errors.give_up_core_waybill_related_columns");e.toggle_scanner_is_keydown(!0),e.$parent.alert_failure(t),e.$noty.error(t,1200)},next_actions_core_waybill_related:function(){var e=ei(regeneratorRuntime.mark(function e(){var t,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,i=t.current_core_waybill_need_related_columns[t.current_column_index],e.prev=2,!t.current_core_waybill_need_related_columns[t.current_column_index].is_required||t.actions_core_waybill_related_columns[i.name]){e.next=5;break}throw t.$t("ui.scanner.helps.write_related_columns");case 5:if(!(t.current_column_index+1>=t.current_core_waybill_need_related_columns.length)){e.next=22;break}return e.prev=6,e.next=9,t.$store.dispatch("provider/scanner_module/update_core_waybill_related_columns");case 9:return e.next=11,new Promise(function(e){t.toggle_scanner_is_keydown(!0),t.$parent.alert_success(),e()});case 11:e.next=20;break;case 13:e.prev=13,e.t0=e["catch"](6),e.t1=e.t0,e.next="failed_to_update_core_waybill_related_column"===e.t1?18:20;break;case 18:return t.$noty.error(t.$t("ui.notifications.error.update__name",{name:t.$t("ui.scanner.alerts.required_field")})),e.abrupt("break",20);case 20:e.next=24;break;case 22:t.current_column_index=t.current_column_index+1,t.set_focus_input_name(t.current_core_waybill_need_related_columns[t.current_column_index].name);case 24:e.next=29;break;case 26:e.prev=26,e.t2=e["catch"](2),t.$noty.error(e.t2,1200);case 29:case"end":return e.stop()}},e,this,[[2,26],[6,13]])}));function t(){return e.apply(this,arguments)}return t}()}},ii=ti,ni=(n("ff4f"),Object(v["a"])(ii,St,Nt,!1,null,"ad6a464e",null)),ai=ni.exports;function ri(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function si(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){ri(r,n,a,s,o,"next",e)}function o(e){ri(r,n,a,s,o,"throw",e)}s(void 0)})}}var oi={name:"ScannerMain",props:{is_modal:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1,is_modal_opened:!1,is_input_mode:!1,is_processing:!1,is_quick_setting_number:!1,is_any_error_message:!1,is_mobile_width:!1,current_scan_action_prototype_identity:this.fetch_current_scan_action_prototype_identity(),current_numbers:[],current_number:"",scan_actions:[],is_show_related_columns_alert:!1,is_show_create_core_waybill_alert:!1,is_show_scan_action_description_alert:!1}},watch:{current_setting_group:function(e){this.$store.dispatch("provider/scanner_module/clear_distributed_to"),e.barcode&&localStorage.setItem("scanner_current_setting_group",e.barcode)},is_show_related_columns_alert:function(e){this.$bus.$emit("toggle_is_hide_icon_toggle_scanner_modal",e)},is_show_scan_action_description_alert:function(e){this.$bus.$emit("toggle_is_hide_icon_toggle_scanner_modal",e)},language:{handler:function(t){try{this.cahnge_language_in_store_js_text()}catch(e){this.$noty.error(e)}},deep:!0}},mounted:function(){var e=this;this.$bus.$off("set_modal_opened"),this.$bus.$on("set_modal_opened",function(t){return new Promise(function(i){e.is_modal_opened=t,i()})}),this.$bus.$off("quick_setting_number"),this.$bus.$on("quick_setting_number",function(t){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e.check_quick_setting_number(t,i,n)}),this.$bus.$off("set_current_scan_action_prototype"),this.$bus.$on("set_current_scan_action_prototype",function(t){e.set_current_scan_action_prototype(t)}),this.$bus.$off("set_input_mode"),this.$bus.$on("set_input_mode",function(t){return new Promise(function(i){e.is_input_mode=t,i()})}),this.$bus.$off("set_current_number"),this.$bus.$on("set_current_number",function(t){return new Promise(function(i){e.current_number=t,i()})}),this.$bus.$off("enqueue"),this.$bus.$on("enqueue",si(regeneratorRuntime.mark(function t(){var i,n,a,r,s,o,c,_;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,i=e.current_store.settings.is_batch_mode?e.current_number.replace(/\s/g,"").split(","):[e.current_number],!e.current_store.settings.is_batch_mode||1!=i.length){t.next=4;break}throw"is_batch_mode_true, please use multiple number";case 4:n=!0,a=!1,r=void 0,t.prev=7,s=i[Symbol.iterator]();case 9:if(n=(o=s.next()).done){t.next=23;break}return c=o.value,_="search",e.current_store.settings.is_scan_action_mode&&(_="operation"),e.current_store.settings.is_core_waybill_creation_mode&&(_="creation"),t.next=16,e.$store.dispatch("provider/scanner_module/enqueue",{task:_,number:c,original_number:c,station:e.$store.getters["provider/current_station"],scan_action_prototype:e.current_scan_action_prototype,partition:e.current_store.current_partition});case 16:return t.next=18,new Promise(function(t){e.current_number="",t()});case 18:return t.next=20,new Promise(function(t){e.submit(),t()});case 20:n=!0,t.next=9;break;case 23:t.next=29;break;case 25:t.prev=25,t.t0=t["catch"](7),a=!0,r=t.t0;case 29:t.prev=29,t.prev=30,n||null==s["return"]||s["return"]();case 32:if(t.prev=32,!a){t.next=35;break}throw r;case 35:return t.finish(32);case 36:return t.finish(29);case 37:t.next=53;break;case 39:t.prev=39,t.t1=t["catch"](0),t.t2=t.t1,t.next="is_batch_mode_true, please use multiple number"===t.t2?44:"quick_setting"===t.t2?49:52;break;case 44:return e.current_store.jobs.push({id:e.current_store.jobs.slice(-1).pop()?e.current_store.jobs.slice(-1).pop().id+1:1,task:e.current_store.settings.is_scan_action_mode?"operation":"search",number:e.current_number,scan_action_prototype:e.current_scan_action_prototype,status:"Failure",is_waiting_user_action:!1,is_batch_mode:!0,errors:[e.$t("ui.scanner.errors.multiple_numbers_in_batch_mode")]}),e.current_number="",e.play_web_audio("error"),e.$store.dispatch("provider/scanner_module/set_local_storage_job"),t.abrupt("break",53);case 49:return e.check_quick_setting_number(e.current_number,!0),e.current_number="",t.abrupt("break",53);case 52:console.log(t.t1);case 53:case"end":return t.stop()}},t,null,[[0,39],[7,25,29,37],[30,,32,36]])}))),this.init()},methods:{init:function(){var e=si(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$store.dispatch("provider/scanner_module/fetch_scan_action_prototypes");case 3:return e.next=5,this.$store.dispatch("provider/scanner_module/fetch_materials");case 5:return e.next=7,this.$store.dispatch("provider/scanner_module/fetch_partitions");case 7:return e.next=9,this.set_current_scan_action_prototype(this.current_scan_action_prototype_identity);case 9:return e.next=11,new Promise(function(e){_.forEach(["is_core_waybill_pieces_mode","is_noty_audio_mode","is_operation_mode","is_speech_mode"],function(e){t.$store.getters["provider/scanner_module/is_can_use_setting"](e)?localStorage.setItem("scanner_"+e,!0):localStorage.setItem("scanner_"+e,!1)}),e()});case 11:return e.next=13,this.set_settings();case 13:return e.next=15,this.set_local_storage_to_store_state(["core_waybill_counters"]);case 15:return e.next=17,this.set_current_setting_group();case 17:return e.next=19,this.cahnge_language_in_store_js_text();case 19:return e.next=21,new Promise(function(e){t.is_initialized=!0,e()});case 21:return e.next=23,new Promise(function(e){window.addEventListener("keydown",t.keydown),e()});case 23:e.next=28;break;case 25:e.prev=25,e.t0=e["catch"](0),console.log(e.t0);case 28:case"end":return e.stop()}},e,this,[[0,25]])}));function t(){return e.apply(this,arguments)}return t}(),keydown:function(){var e=si(regeneratorRuntime.mark(function e(t){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.is_modal_opened||!this.current_store.is_keydown){e.next=24;break}if(i=new ut.a(t),i.meta||i.ctrl||this.is_input_mode){e.next=24;break}if("keypress"!=i.event.type){e.next=14;break}e.t0=i.key_code,e.next=13===e.t0?7:11;break;case 7:if(!this.current_number){e.next=10;break}return e.next=10,this.$bus.$emit("enqueue");case 10:return e.abrupt("break",12);case 11:this.current_number+=i.value;case 12:e.next=24;break;case 14:e.t1=i.key_code,e.next=8===e.t1?17:13===e.t1?19:23;break;case 17:return this.current_number=this.current_number.slice(0,-1),e.abrupt("break",24);case 19:if(!this.current_number){e.next=22;break}return e.next=22,this.$bus.$emit("enqueue");case 22:return e.abrupt("break",24);case 23:this.current_number+=i.value;case 24:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),submit:function(){var e=si(regeneratorRuntime.mark(function e(){var t,i,n,a,r,s,o,c=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=!0,i=!1,n=void 0,e.prev=3,a=_.filter(this.current_store.jobs,function(e){return"Pending"==e.status})[Symbol.iterator]();case 5:if(t=(r=a.next()).done){e.next=75;break}return s=r.value,e.prev=7,e.next=10,this.$store.dispatch("provider/scanner_module/perform",s);case 10:return e.next=12,new Promise(function(e){c.play_web_audio("ok"),e()});case 12:e.next=72;break;case 14:e.prev=14,e.t0=e["catch"](7),o="",e.t1=e.t0,e.next="quick_setting_not_found"===e.t1?20:"core_waybill_not_found"===e.t1?24:"no_input_number"===e.t1?28:"current_scan_action_prototype_identity"===e.t1?32:"failed_to_instantiate_scan_action_prototype"===e.t1?36:"failed_to_update_core_waybill_related_column"===e.t1?40:"failed_to_fetch_core_waybill_statuses"===e.t1?44:"failed_to_create_core_waybill"===e.t1?47:"current_partition_not_set"===e.t1?51:"core_waybill_related_column_is_empty"===e.t1?55:"scan_action_description_is_empty"===e.t1?59:"create_core_waybill"===e.t1?63:67;break;case 20:return this.$store.commit("provider/scanner_module/update_current_job",{status:"Failure"}),o=this.$t("ui.scanner.errors.setting_not_found")+": "+this.current_number,this.play_web_audio("error"),e.abrupt("break",71);case 24:return o=this.$t("ui.scanner.errors.core_waybill_not_found"),this.$store.commit("provider/scanner_module/update_current_job",{status:"Failure",errors:[o]}),this.play_web_audio("error"),e.abrupt("break",71);case 28:return this.$store.commit("provider/scanner_module/update_current_job",{status:"Failure"}),o=this.$t("ui.scanner.helps.write_number"),this.play_web_audio("error"),e.abrupt("break",71);case 32:return this.$store.commit("provider/scanner_module/update_current_job",{status:"Failure"}),o=this.$t("ui.scanner.helps.select_scan_action"),this.play_web_audio("error"),e.abrupt("break",71);case 36:return this.$store.commit("provider/scanner_module/update_current_job",{status:"Failure"}),o=this.$t("ui.scanner.errors.failed_to_instantiate_scan_action_prototype"),this.play_web_audio("error"),e.abrupt("break",71);case 40:return this.$store.commit("provider/scanner_module/update_current_job",{status:"Failure"}),o=this.$t("ui.scanner.errors.failed_to_update_core_waybill_related_column")+": "+this.current_number,this.play_web_audio("error"),e.abrupt("break",71);case 44:return o=this.$t("ui.scanner.errors.failed_to_fetch_core_waybill_statuses"),this.play_web_audio("error"),e.abrupt("break",71);case 47:return this.$store.commit("provider/scanner_module/update_current_job",{status:"Failure"}),o="Failed to create CoreWaybill",this.play_web_audio("error"),e.abrupt("break",71);case 51:return this.$store.commit("provider/scanner_module/update_current_job",{status:"Failure"}),o="請選擇號碼區間",this.play_web_audio("error"),e.abrupt("break",71);case 55:return this.$store.commit("provider/scanner_module/update_current_job",{status:"Pending",is_waiting_user_action:!0}),this.is_show_related_columns_alert=!0,this.play_web_audio("alert"),e.abrupt("break",71);case 59:return this.$store.commit("provider/scanner_module/update_current_job",{status:"Pending",is_waiting_user_action:!0}),this.is_show_scan_action_description_alert=!0,this.play_web_audio("alert"),e.abrupt("break",71);case 63:return this.$store.commit("provider/scanner_module/update_current_job",{status:"Pending",is_waiting_user_action:!0}),this.is_show_create_core_waybill_alert=!0,this.play_web_audio("alert"),e.abrupt("break",71);case 67:return this.$store.commit("provider/scanner_module/update_current_job",{status:"Failure"}),o=this.$t("models.attributes.core_waybills.number")+this.current_number+", "+e.t0,this.play_web_audio("error"),e.abrupt("break",71);case 71:o&&this.$noty.error(o,1200);case 72:t=!0,e.next=5;break;case 75:e.next=81;break;case 77:e.prev=77,e.t2=e["catch"](3),i=!0,n=e.t2;case 81:e.prev=81,e.prev=82,t||null==a["return"]||a["return"]();case 84:if(e.prev=84,!i){e.next=87;break}throw n;case 87:return e.finish(84);case 88:return e.finish(81);case 89:case"end":return e.stop()}},e,this,[[3,77,81,89],[7,14],[82,,84,88]])}));function t(){return e.apply(this,arguments)}return t}(),set_settings:function(){return this.current_store.settings={is_scan_mode:this.get_setting("is_scan_mode"),is_speech_mode:this.get_setting("is_speech_mode"),is_batch_mode:this.get_setting("is_batch_mode"),is_operation_mode:this.get_setting("is_operation_mode"),is_noty_audio_mode:this.get_setting("is_noty_audio_mode"),is_scan_action_mode:this.get_setting("is_scan_action_mode"),is_distributed_to_mode:this.get_setting("is_distributed_to_mode"),is_high_performance_mode:this.get_setting("is_high_performance_mode"),is_auto_print_label_mode:this.get_setting("is_auto_print_label_mode"),is_update_corewaybill_mode:this.get_setting("is_update_corewaybill_mode"),is_core_waybill_pieces_mode:this.get_setting("is_core_waybill_pieces_mode"),is_quick_corewaybill_related_columns:this.get_setting("is_quick_corewaybill_related_columns"),core_waybill_template_mode:this.fetch_setting_use_string("core_waybill_template_mode","card"),is_package_mode:this.get_setting("is_package_mode"),is_unpackage_mode:this.get_setting("is_unpackage_mode"),is_core_waybill_creation_mode:this.get_setting("is_core_waybill_creation_mode"),pack_need_source_mode:this.get_setting("pack_need_source_mode"),pack_p_m_mode:this.fetch_setting_use_string("pack_p_m_mode"),pack_m_mode:this.fetch_setting_use_string("pack_m_mode")},Promise.resolve()},set_local_storage_to_store_state:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.length&&_.forEach(t,function(t){var i=localStorage.getItem("scanner_"+t);i&&(i=$.parseJSON("["+i+"]"),"jobs"==t&&_.map(i,function(e){(e.is_waiting_user_action||"Processing"==e.status)&&(e.is_waiting_user_action=!1,e.status="Failure")}),e.current_store[t]=i)}),Promise.resolve()},set_current_setting_group:function(){var e=this.fetch_setting_use_string("current_setting_group","search");return this.current_store.current_setting_group=_.find(this.current_store.setting_groups,function(t){return t.barcode==e})||{},Promise.resolve()},alert_failure:function(){var e=si(regeneratorRuntime.mark(function e(){var t,i=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=i.length>0&&void 0!==i[0]?i[0]:null,this.is_show_related_columns_alert=!1,this.is_show_create_core_waybill_alert=!1,this.is_show_scan_action_description_alert=!1,t&&this.current_store.current_job.errors.push(t),this.current_store.current_job.is_waiting_user_action=!1,this.current_store.current_job.status="Failure",this.play_web_audio("error"),this.$store.dispatch("provider/scanner_module/set_local_storage_job");case 9:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),alert_success:function(){var e=si(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.is_show_related_columns_alert=!1,this.is_show_create_core_waybill_alert=!1,this.is_show_scan_action_description_alert=!1,this.current_store.current_job.is_waiting_user_action=!1,this.submit();case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),toggle_settings_div:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null==e?this.current_store.is_setting=!this.current_store.is_setting:"boolean"==typeof e&&(this.current_store.is_setting=e)},check_quick_setting_number:function(e){var t=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=!1,r=e.match(this.quick_setting_regexps.group),s=e.match(this.quick_setting_regexps.barcode),o=e.match(this.quick_setting_regexps.mode);if(r)try{var c=r[1],l=_.findLast(this.current_store.setting_groups,function(e){return e.barcode==c});if(!l)throw this.$t("ui.scanner.errors.setting_group_not_found");var u="",d="";n&&this.toggle_settings_div(!1),this.set_current_store_setting_group(c),l.is_scan_action&&(u="####"+c+"####",this.quick_setting_barcode(u.match(this.quick_setting_regexps.barcode))?a=!0:this.$noty.error(this.$t("ui.scanner.errors.setting_not_found")+"： "+c,1200)),l.settings&&_.forEach(l.settings,function(e){d="##"+e+"##",t.quick_setting_mode(d.match(t.quick_setting_regexps.mode))?a=!0:t.$noty.error(t.$t("ui.scanner.errors.setting_not_found")+"： "+e,1200)})}catch(error){this.$noty.error(error)}return s&&(this.quick_setting_barcode(s)?a=!0:this.$noty.error(this.$t("ui.scanner.errors.setting_not_found")+"： "+s,1200)),o&&(this.quick_setting_mode(o)?a=!0:this.$noty.error(this.$t("ui.scanner.errors.setting_not_found")+"： "+o,1200)),a&&i&&(this.$noty.success(this.$t("ui.scanner.success.quick_setting")),this.is_quick_setting_number=a),Promise.resolve()},quick_setting_barcode:function(e){var t=_.find(this.current_store.scan_action_prototypes,function(t){return t.barcode==e[1]||t.barcode==e[2]});return void 0!=t&&(this.current_store.current_scan_action_prototype=t,localStorage.setItem("current_scan_action_prototype_identity",t.identity),this.current_store.current_core_waybill={},!0)},quick_setting_mode:function(e){var t=e[1],i=e[2];return"true"===e[2]&&(i=!0),"false"===e[2]&&(i=!1),void 0!=this.settings[t]&&(this.$store.getters["provider/scanner_module/is_can_use_setting"](t)?(this.current_store.settings[t]=i,localStorage.setItem("scanner_"+t,i)):this.current_store.settings[t]=!1,!0)},set_current_store_setting_group:function(e){this.current_store.current_setting_group=_.find(this.current_store.setting_groups,function(t){return t.barcode==e})},set_current_scan_action_prototype:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=_.find(this.current_store.scan_action_prototypes,function(t){return t.identity==e});void 0!=t&&(this.current_store.current_scan_action_prototype=t,localStorage.setItem("current_scan_action_prototype_identity",t.identity))},get_setting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="scanner_"+e,i=localStorage.getItem(t);return null==i?(localStorage.setItem(t,!1),!1):"true"==i},fetch_setting_use_string:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i="scanner_"+e,n=localStorage.getItem(i);return null==n?(localStorage.setItem(i,t),t):localStorage.getItem(i)},fetch_current_scan_action_prototype_identity:function(){var e="current_scan_action_prototype_identity",t=localStorage.getItem(e);return null==t||""==t?(localStorage.setItem(e,""),null):localStorage.getItem(e)},play_web_audio:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.settings.is_noty_audio_mode)switch(e){case"ok":case"alert":case"error":this.$bus.$emit("provider_scanner_web_audio","play_sound",e);break;default:this.$bus.$emit("provider_scanner_web_audio","play_sound","error");break}},cahnge_language_in_store_js_text:function(){var e=this;return _.map(this.setting_groups,function(t){t.i18n_key&&(t.name=e.$t(t.i18n_key))}),Promise.resolve()}},computed:{language:function(){return this.$store.state.language},current_store:function(){return this.$store.state.provider.scanner_module},theme:function(){return this.current_store.config.theme},quick_setting_regexps:function(){return this.current_store.quick_setting_regexps},settings:function(){return this.current_store.settings},setting_groups:function(){return this.current_store.setting_groups},current_setting_group:function(){return this.current_store.current_setting_group},core_waybills:function(){return this.current_store.core_waybills},current_core_waybill:function(){return this.current_store.current_core_waybill},error_messages:function(){return this.current_store.error_messages},desc_ordered_jobs:function(){return _.orderBy(this.current_store.jobs,"id","desc")},current_scan_action_prototype:function(){return this.current_store.current_scan_action_prototype}},components:{WebAudio:c["a"],Settings:ie,Dashboard:le,CoreWaybill:ot,CreateCoreWaybillAlert:ht,ScanActionDescriptionAlert:Pt,CoreWaybillRelatedColumnsAlert:ai}},ci=oi,_i=(n("a229"),Object(v["a"])(ci,s,o,!1,null,"5bdb7881",null)),li=_i.exports;function ui(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function di(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){ui(r,n,a,s,o,"next",e)}function o(e){ui(r,n,a,s,o,"throw",e)}s(void 0)})}}var pi={name:"ScannerModal",props:{},data:function(){return{is_mobile_width:!1,console_log_content:"",console_log_theme_path:""}},computed:{current_store:function(){return this.$store.state.provider},service_config:function(){return this.$store.state.provider.service_config},service_name:function(){return this.current_store.node.service_name},scanner_module_store:function(){return this.$store.state.provider.scanner_module}},mounted:function(){var e=this;e.init()},watch:{is_mobile_width:{immediate:!0,handler:function(e){var t=this;t.$nextTick(function(){var i=t.scanner_module_store.config.theme,n=e?"mobile":"computer";if(i[n]){var a=i[n].background_position?i[n].background_position+" / cover":"0% 0%";t.scanner_module_store.config.theme.background=i.color.background_img?"url(/images/scanner_background/"+i.color.background_img+") "+a+" #1b1c1d":i.color.background}})}}},methods:{init:function(){var e=di(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,t.set_is_mobile_width();case 4:return e.next=6,t.set_scanner_theme();case 6:return e.next=8,t.set_scanner_setting();case 8:return e.next=10,t.set_scanner_setting_groups();case 10:return e.next=12,new Promise(function(e){console.log("//=============== \n  Now scanner configs: \n"+t.console_log_content+"\n  About setting file path: config/services/"+t.service_name+"/scanner/ \n  About theme file path: "+t.console_log_theme_path+" \n//=============== \n"),e()});case 12:e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](1),console.log(e.t0);case 17:case"end":return e.stop()}},e,this,[[1,14]])}));function t(){return e.apply(this,arguments)}return t}(),set_is_mobile_width:function(){var e=this;return e.is_mobile_width=$(window).width()<=767,$(window).resize(function(){var t=$(window).width();e.is_mobile_width=t<=767}),Promise.resolve()},set_scanner_theme:function(){var e,t,i,a,r=this;try{var s=n("b102");if(i=_.findLast(s,function(e){return e.identity==r.$store.state.provider.node.identity}),i&&i.theme_file_name?(a=i.theme_file_name,r.console_log_theme_path="components/scanner/provider/themes/node.json"):(a=r.service_config.scanner_theme,r.console_log_theme_path="config/services/"+r.service_name+"/config.json"),!a)throw"Scanner theme file not find";e=a+".json",t=n("bab3")("./"+e),i=t}catch(u){e="default.json",i=n("8126"),r.console_log_theme_path="components/scanner/provider/themes/default.json",console.log(u)}finally{r.scanner_module_store.config.theme=i,r.console_log_content+="    theme: "+e+"\n"}try{var o=r.scanner_module_store.config.theme,c=r.is_mobile_width?"mobile":"computer";if(o[c]){var l=o[c].background_position?o[c].background_position+" / cover":"0% 0%";r.scanner_module_store.config.theme.background=o.color.background_img?"url(/images/scanner_background/"+o.color.background_img+") "+l+" #1b1c1d":o.color.background}}catch(u){console.log(u)}return Promise.resolve()},set_scanner_setting:function(){var e,t,i,a=this;try{if(!a.service_name)throw"Scanner settings file not find";e=a.service_name+"/scanner/settings.json",t=n("ccaa")("./"+e),i=t}catch(r){e="default/scanner/settings.json",i=n("ccaa")("./"+e)}finally{a.scanner_module_store.config.settings=i.options,a.console_log_content+="    settings: "+e+"\n"}return Promise.resolve()},set_scanner_setting_groups:function(){var e=this;try{if(!e.service_name)throw"Scanner setting groups file not find";var t=e.service_name+"/scanner/setting_groups.json",i=n("ccaa")("./"+t);e.scanner_module_store.setting_groups=i}catch(a){t="default/scanner/setting_groups.json",e.scanner_module_store.setting_groups=n("ccaa")("./"+t),console.log(a)}finally{e.console_log_content+="    setting_groups: "+t+"\n"}return Promise.resolve()}},components:{ScannerMain:li}},mi=pi,fi=(n("8499"),Object(v["a"])(mi,a,r,!1,null,"af6e7e5c",null));i["a"]=fi.exports},bf6b:function(e,t,i){"use strict";var n=i("cd99"),a=i.n(n);a.a},bfa9:function(e,t,i){},c08a:function(e){e.exports={manager:["provider_index","scan","status_prototypes","stations","provider_partitions","provider_uploader","materials","core_waybills","provider_operations","permission_groups","roles","staffs","user_logs","scan_action_prototypes","provider_node","provider_customers","scanner"],operator:["provider_operations","provider_uploader","core_waybills","scanner"],driver:["assets","provider_operations","scanner"],staff:["status_prototypes","stations","provider_partitions","customer_nodes","provider_uploader","materials","core_waybills","provider_operations","staffs","user_logs","scan_action_prototypes","scanner"],default:[],exception:[]}},c0a2:function(e,t,i){"use strict";var n=i("5463"),a=i.n(n);a.a},c263:function(e,t,i){"use strict";var n=i("d431"),a=i.n(n);a.a},c265:function(e){e.exports={name:"dark02",color:{background_img:"blur02.jpg",background_position:"0% 0%",background:"linear-gradient(134deg, rgba(0, 0, 0, 0.9)0%, rgba(142, 162, 232, 1)100%)",font:"white",warning:"white",show_setting_icon:"orange",setting_group_icon:"white"},computer:{background_position:"0% 50%"},mobile:{background_position:"0% 0%"}}},c300:function(e,t,i){"use strict";var n=i("205d"),a=i.n(n);a.a},c339:function(e,t,i){"use strict";var n=i("c396"),a=i.n(n);a.a},c396:function(e,t,i){},c3af:function(e,t,i){"use strict";var n=i("e403"),a=i.n(n);a.a},c466:function(e,t,i){},c48c:function(e,t,i){"use strict";var n=i("92ea"),a=i.n(n);a.a},c55f:function(e,t,i){"use strict";var n=i("9ebe"),a=i.n(n);a.a},c563:function(e,t,i){},c5ab:function(e,t,i){},c5f0:function(e,t,i){},c653:function(e,t,i){"use strict";var n=i("249f"),a=i.n(n);a.a},c765:function(e,t,i){},c85d:function(e,t,i){},c959:function(e,t,i){"use strict";var n=i("16f9"),a=i.n(n);a.a},c9e1:function(e){e.exports={name:"dark03",color:{background_img:"blur02.jpg",background_position:"0% 0%",background:"linear-gradient(134deg, rgba(0, 0, 0, 0.9)0%, rgba(142, 162, 232, 1)100%)",font:"white",warning:"white",show_setting_icon:"orange",setting_group_icon:"white"},computer:{background_position:"0% 100%"},mobile:{background_position:"0% 0%"}}},caff:function(e,t,i){var n={"./main":"1405","./main.vue":"1405","./modal":"8115","./modal.vue":"8115","./setting_groups":"447f","./setting_groups.json":"447f","./settings":"a487","./settings.json":"a487","./store":"1ccc","./store.js":"1ccc"};function a(e){var t=r(e);return i(t)}function r(e){var t=n[e];if(!(t+1)){var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}return t}a.keys=function(){return Object.keys(n)},a.resolve=r,e.exports=a,a.id="caff"},cb8b:function(e,t,i){"use strict";var n=i("2a81"),a=i.n(n);a.a},cc57:function(e){e.exports={name:"dark04",color:{background_img:"blur01.jpg",background_position:"0% 0%",background:"linear-gradient(134deg, rgba(0, 0, 0, 0.9)0%, rgba(142, 162, 232, 1)100%)",font:"white",warning:"white",show_setting_icon:"orange",setting_group_icon:"white"},computer:{background_position:"0% 0%"},mobile:{background_position:"0% 0%"}}},cc6a:function(e,t,i){},ccaa:function(e,t,i){var n={"./axon/config":"e0ea","./axon/config.json":"e0ea","./axon/scanner/setting_groups":"9249","./axon/scanner/setting_groups.json":"9249","./axon/scanner/settings":"f66a","./axon/scanner/settings.json":"f66a","./axon/user_menu":"0515","./axon/user_menu.json":"0515","./axon_lite/config":"f28c","./axon_lite/config.json":"f28c","./axon_lite/scanner/setting_groups":"cdaf","./axon_lite/scanner/setting_groups.json":"cdaf","./axon_lite/scanner/settings":"d180","./axon_lite/scanner/settings.json":"d180","./axon_lite/user_menu":"444e","./axon_lite/user_menu.json":"444e","./axon_premium/config":"ebca","./axon_premium/config.json":"ebca","./axon_premium/scanner/setting_groups":"f2d5","./axon_premium/scanner/setting_groups.json":"f2d5","./axon_premium/scanner/settings":"ac92","./axon_premium/scanner/settings.json":"ac92","./axon_premium/user_menu":"c08a","./axon_premium/user_menu.json":"c08a","./default/config":"5d5a","./default/config.json":"5d5a","./default/scanner/setting_groups":"de76","./default/scanner/setting_groups.json":"de76","./default/scanner/settings":"b107","./default/scanner/settings.json":"b107","./default/user_menu":"36aa","./default/user_menu.json":"36aa","./neuron/config":"ebb8","./neuron/config.json":"ebb8","./neuron/scanner/setting_groups":"7d5b","./neuron/scanner/setting_groups.json":"7d5b","./neuron/scanner/settings":"db1b","./neuron/scanner/settings.json":"db1b","./neuron/user_menu":"5602","./neuron/user_menu.json":"5602","./neuron_premium/config":"f347","./neuron_premium/config.json":"f347","./neuron_premium/scanner/setting_groups":"158b","./neuron_premium/scanner/setting_groups.json":"158b","./neuron_premium/scanner/settings":"749d","./neuron_premium/scanner/settings.json":"749d","./neuron_premium/user_menu":"12e0","./neuron_premium/user_menu.json":"12e0","./nucleus/config":"e128","./nucleus/config.json":"e128","./nucleus/scanner/setting_groups":"60bb","./nucleus/scanner/setting_groups.json":"60bb","./nucleus/scanner/settings":"6ebe","./nucleus/scanner/settings.json":"6ebe","./nucleus/user_menu":"532d","./nucleus/user_menu.json":"532d"};function a(e){var t=r(e);return i(t)}function r(e){var t=n[e];if(!(t+1)){var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}return t}a.keys=function(){return Object.keys(n)},a.resolve=r,e.exports=a,a.id="ccaa"},cd99:function(e,t,i){},cdaf:function(e){e.exports=[{_comment:"axon預設檔案",name:"運單起始貨況",i18n_key:"ui.scanner.setting_groups.LB00",barcode:"LB00",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA01",is_scan_action:!0,is_hide:!0,color:"black",settings:[]},{name:"1.放行",i18n_key:"ui.scanner.setting_groups.LB01",barcode:"LB01",primary_icon_classes:"clipboard check icon",secondary_icon_classes:null,icon_file_name:"LA01",is_scan_action:!0,is_hide:!1,color:"#3a8df5",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_package_mode_false","is_auto_print_label_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"2.點交",i18n_key:"ui.scanner.setting_groups.LB02",barcode:"LB02",primary_icon_classes:"exchange icon",secondary_icon_classes:"right bottom corner green check icon",icon_file_name:"LA02",is_scan_action:!0,is_hide:!1,color:"orange",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_package_mode_false","is_auto_print_label_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"3.異常件",i18n_key:"ui.scanner.setting_groups.LA06",barcode:"LA06",primary_icon_classes:"exclamation triangle icon",secondary_icon_classes:"right bottom corner red close icon",icon_file_name:"LA06",is_scan_action:!0,is_hide:!1,color:"#CB4042",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"3.異常件排除",i18n_key:"ui.scanner.setting_groups.LA07",barcode:"LA07",primary_icon_classes:"exclamation triangle icon",secondary_icon_classes:"right bottom corner green check icon",icon_file_name:"LA07",is_scan_action:!0,is_hide:!1,color:"#51A8DD",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"鎖定",i18n_key:"ui.scanner.setting_groups.LA11",barcode:"LA11",primary_icon_classes:"lock icon",secondary_icon_classes:null,icon_file_name:"LA11",is_scan_action:!0,is_hide:!1,color:"#CB4042",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_scan_action_mode_true","is_distributed_to_mode_false","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"解除鎖定",i18n_key:"ui.scanner.setting_groups.LA12",barcode:"LA12",primary_icon_classes:"lock open icon",secondary_icon_classes:null,icon_file_name:"LA12",is_scan_action:!0,is_hide:!1,color:"#51A8DD",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_scan_action_mode_true","is_distributed_to_mode_false","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"結案",i18n_key:"ui.scanner.setting_groups.LA13",barcode:"LA13",primary_icon_classes:"check icon",secondary_icon_classes:null,icon_file_name:"LA13",is_scan_action:!0,is_hide:!1,color:"#86C166",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_scan_action_mode_false","is_package_mode_false","is_unpackage_mode_false","is_distributed_to_mode_false","pack_need_source_mode_false","is_update_corewaybill_mode_false","core_waybill_template_mode_card"]},{name:"查詢運單",i18n_key:"ui.scanner.setting_groups.search",barcode:"search",primary_icon_classes:"search icon",secondary_icon_classes:null,icon_file_name:"search",is_scan_action:!1,is_hide:!1,color:"#227D51",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_scan_action_mode_false","is_package_mode_false","is_unpackage_mode_false","is_distributed_to_mode_false","pack_need_source_mode_false","is_update_corewaybill_mode_false","core_waybill_template_mode_card"]}]},cdde:function(e,t,i){},cdf3:function(e,t,i){"use strict";var n=i("fa04"),a=i.n(n);a.a},ce98:function(e,t,i){},ceef:function(e){e.exports={name:"dark04",color:{background_img:"blur01.jpg",background_position:"0% 0%",background:"linear-gradient(134deg, rgba(0, 0, 0, 0.9)0%, rgba(142, 162, 232, 1)100%)",font:"white",warning:"white",show_setting_icon:"orange",setting_group_icon:"white"},computer:{background_position:"0% 0%"},mobile:{background_position:"0% 0%"}}},d027:function(e,t,i){},d04e:function(e,t,i){"use strict";var n=i("0706"),a=i.n(n);a.a},d0cf:function(e,t,i){},d164:function(e,t,i){"use strict";var n=i("1ece"),a=i.n(n);a.a},d180:function(e){e.exports={_comment:"此檔案為Scanner 設定 檔案",name:"axon",options:["is_scan_mode","is_scan_action_mode","is_batch_mode","is_operation_mode","is_core_waybill_pieces_mode","is_update_corewaybill_mode","is_auto_print_label_mode","is_noty_audio_mode","is_speech_mode","is_quick_corewaybill_related_columns","core_waybill_template_mode"]}},d1f7:function(e,t,i){"use strict";var n=i("59c9"),a=i.n(n);a.a},d285:function(e,t,i){"use strict";var n=i("4680"),a=i.n(n);a.a},d315:function(e,t,i){},d3af:function(e,t,i){"use strict";var n=i("9563"),a=i.n(n);a.a},d3ee:function(e,t,i){},d431:function(e,t,i){},d452:function(e,t,i){"use strict";var n=i("60db"),a=i.n(n);a.a},d46d:function(e,t,i){},d4b8:function(e,t,i){},d556:function(e,t,i){"use strict";var n=i("d8a0"),a=i.n(n);a.a},d5b5:function(e,t,i){},d77c:function(e,t,i){"use strict";var n=i("adca"),a=i.n(n);a.a},d7d2:function(e,t,i){},d859:function(e,t,i){"use strict";var n=i("fd33"),a=i.n(n);a.a},d86a:function(e,t,i){"use strict";var n=i("b10c"),a=i.n(n);a.a},d887:function(e,t,i){"use strict";var n=i("29db"),a=i.n(n);a.a},d8a0:function(e,t,i){},d8b6:function(e){e.exports={models:{_comment:"關聯表名稱不在此上面",appraisals:"Appraisals",assets:"Assets",comments:"Comments",contracts:"Contracts",conversion_attributes:"Conversion attributes",converters:"Converters",core_waybills:"Core waybills",customers:"Customers",quotations:"Quotations",distributions:"Distributions",distribution_conditions:"Distribution conditions",driver_commissions:"Driver_commissions",driver_commission_policies:"Driver commission policies",driver_commission_reports:"Driver commission reports",logs:"Logs",materials:"Materials",nodes:"Nodes",operations:"Operations",partitions:"Partitions",permissions:"Permissions",permission_groups:"Permission groups",roles:"Roles",staffs:"Staffs",stations:"Stations",scan_actions:"Scan actions",status_prototypes:"Status prototypes",scan_action_prototypes:"Scan action prototypes",attributes:{assets:{barcode:"Barcode",number:"Number",category:"Category",note:"Note",node_identity:"Node"},converters:{name:"Name",number:"Number",provider_node_identity:"Provider_node_identity",customer_node_identity:"Ccustomer_node_identity",customer_identity:"customer_identity",carrier_class:"Carrier category",proxy_contract_identity:"Proxy_contract_identity",third_party_api_data:"Third_party_api_data",note:"Note"},customer_contracts:{name:"Name",number:"Number",carrier_class:"Carrier class",proxy_contract:"Proxy contract",third_party_api_data:"Third party api data",note:"Note"},customers:{username:"Username",password:"Password",password_confirmation:"Password confirmation",authentication_token:"API Token",company_name:"Company name",company_short_name:"Company short name",company_en_name:"Company English name",email:"E-mail",phone:"Phone",fax:"Fax",website_url:"Website url",default_sender_zip_code:"Sender ZIP code",default_sender_company_name:"Sender company name",default_sender_address:"Sender address",default_sender_name:"Sender name",default_sender_phone:"Sender phone",default_sender_email:"Sender email",default_sender_fax:"Sender fax",default_sender_url:"Sender url",default_consignee_zip_code:"Consignee ZIP code",default_consignee_company_name:"Consignee company name",default_consignee_address:"Consignee address",default_consignee_name:"Consignee name",default_consignee_phone:"Consignee phone",default_consignee_email:"Consignee email",default_consignee_fax:"Consignee fax",can_use_associated_partitions:"Can use associated partitions",is_banned:"Is banned"},conditions:{core_waybill_identity:"Waybill",scan_action_prototype_identity:"SAP",condition_type:"condition type",can_use:"can use",current_use:"current use",already_use:"already use",can_release:"can release",current_release:"current release",already_release:"already release",can_handover:"can handover",current_handover:"current handover",already_handover:"already handover",can_collect:"can collect",current_collect:"current collect",already_collect:"already collect",can_check:"can check",current_check:"current check",already_check:"already check",can_ship:"can ship",current_ship:"current ship",already_ship:"already ship",can_back:"can back",current_back:"current back",already_back:"already back",can_delivered:"can delivered",current_delivered:"current delivered",already_delivered:"already delivered",can_transfer:"can transfer",current_transfer:"current transfer",already_transfer:"already transfer",can_intermodal:"can intermodal",current_intermodal:"current intermodal",already_intermodal:"already intermodal",can_exception:"can exception",current_exception:"current exception",already_exception:"already exception",can_lock:"can lock",current_lock:"current lock",already_lock:"already lock",can_done:"can done",current_done:"current done",already_done:"already done",can_warehouse_in:"can into warehouse",current_warehouse_in:"current into warehouse",already_warehouse_in:"already into warehouse",can_warehouse_out:"can out warehouse",current_warehouse_out:"current out warehouse",already_warehouse_out:"already out warehouse",can_ready_to_ship:"can ready to ship",current_ready_to_ship:"current ready to ship",already_ready_to_ship:"already ready to ship"},distributions:{priority:"Priority",name:"Name",strategy:"Strategy",station:"Station",station_identity:"Material",strategy_value:"Strategy value",material:"Material",is_activated:"Is activated"},driver_commissions:{pick_up_driver:"Pick up driver",pick_up_core_waybill:"Pick up core_waybill",delivery_core_waybill:"Delivery core_waybill",delivery_driver:"Delivery driver",driver_commission_report:"Driver commission report",driver_commission_policy:"Driver commission policy",amount:"Amount",polarity:"Polarity",created_at:"Created time",is_deleted:"Is deleted"},driver_commission_policies:{pick_up_first_weight:"Pick up first weight(KG)",pick_up_first_price:"Pick up first price",pick_up_follow_up_weight:"Pick up follow up weight(KG)",pick_up_follow_up_price:"Pick up follow up price",delivery_first_weight:"Delivery first weight(KG)",delivery_first_price:"Delivery first price",delivery_follow_up_weight:"Delivery follow up weight(KG)",delivery_follow_up_price:"Delivery follow up price",house_pick_up_first_weight:"House pick up first_weight(KG)",house_pick_up_first_price:"House pick up first price",house_pick_up_follow_up_weight:"House pick up follow up weight(KG)",house_pick_up_follow_up_price:"House pick up follow up price",house_delivery_first_weight:"House delivery first weight(KG)",house_delivery_first_price:"House delivery first price",house_delivery_follow_up_weight:"House delivery follow up weight(KG)",house_delivery_follow_up_price:"House delivery follow up price",is_activated:"Is activated"},driver_commission_reports:{staff:"Staff",total_amount:"Total amount",time:"Time",begin_at:"Begin",end_at:"End",created_at:"Created time"},materials:{name:"Name",en_name:"English name",core_waybill_level:"Waybill level",class_name:"Class name",label_type:"Label type",needs_label:"Needs label"},nodes:{is_sandbox_mode:" Sandbox mode",client_id:"Magnet APP ID",client_secret:"Magnet APP ID",access_token:"Magnet AccessToken",refresh_token:"Magnet Authorization",tax:"Tax",carrier_class:"carrier::class",host:"Host",service_name:"Service",code:"Code",company_name:"Company name",company_short_name:"Company short name",company_en_name:"Company English name",email:"E-mail",phone:"Phone",fax:"Fax",website_url:"Website url",customer_service_hotline:"Customer service hotline"},operations:{number:"Number",file:"File",file_name:"File name",file_url:"File url",original_file_name:"File name",station:"Station",staffs:"Staffs",customer:"Customer",customer_identity:"Customer",your_note:"Your note",customer_note:"Customer note",provider_note:"Note",system_note:"System note",cancel_reason:"Cancel reason",instantiate_note:"Instantiate note",is_canceled:"Is canceled",is_operable:"Is operable",is_operated:"Is operated",is_ready:"Is ready",status:"Status",is_done:"Is done",is_done_true:"Done",is_done_false:"Undone",created_at:"Created"},partitions:{name:"Name",numbers:"Numbers",numbers_from:"Numbers from",numbers_to:"Numbers to",numbers_rule:"Numbers rule",parent:"Parent",customer:"Customer",contracts:"Contracts",customer_identity:"Customer",material:"Material",material_identity:"Material",note:"Note",regex:"Regex"},permissions:{name:"Name",uri:"uri",http_method:"http_method"},permission_groups:{name:"Name"},roles:{name:"Name"},scan_action_prototypes:{name:"Action name",barcode:"Barcode",required_condition:"Required condition",before_actions:"Before_actions",is_default:"Is default",description_required_scope:"Description required scope",description_options:"Description options"},staffs:{username:"Username",password:"Password",password_confirmation:"Password confirmation",name:"Name",phone:"Phone",email:"E-mail",mobile:"Mobile",fax:"Fax",tax:"Tax",country:"Country",state:"State",city:"City",district:"District",address:"Address",theme_name:"Theme",note:"Note",is_banned:"Is banned",role_identity:"Role",role:"Role",station_identity:"Station",station:"Station"},stations:{name:"Name",code:"Code",address:"Address",phone:"Phone",position:"Position",note:"Note"},status_prototypes:{name:"Name",material:"Material",description:"Description",non_polarity:"Non polarity",positive_polarity:"Positive polarity",negative_polarity:"Negative polarity"},user_logs:{title:"Title",description:"Description",modified_attributes:"Modified attributes",level:"Level",action_type:"Action type",is_undid:"Is undid",undid_at:"Undid at",node_identity:"Node identity",operator_identity:"Operator(ID)",loggable_identity:"Loggable",loggable_type:"Loggable type",created_at:"Date",updated_at:"updated time",identity:"ID"},core_waybills:{number:"Number",operation_number:"Operation number",original_number:"Original number",tracking_number:"Tracking number",storage_number:"Storage number",warehouse_identity:"Warehouse number",original_core_waybill_identity:"original_core_waybill identity",tracking_core_waybill_identity:"tracking_core_waybill identity",label_type:"Label type",sender:"SENDER",sender_company_name:"Sender company name",sender_zip_code:"Sender zip code",sender_address:"Sender address",sender_name:"Sender name",sender_phone:"Sender phone",sender_email:"Sender email",sender_fax:"Sender fax",sender_url:"Sender url",consignee:"CONSIGNEE",consignee_company_name:"Consignee company name",consignee_zip_code:"Consignee zip code",consignee_address:"Consignee address",consignee_name:"Consignee name",consignee_phone:"Consignee phone",consignee_email:"Consignee email",consignee_fax:"Consignee fax",flight_number:"Flight number",cvs_store_number:"Cvs store number",cvs_store_name:"Cvs store name",cvs_store_address:"Cvs store address",cvs_store_phone:"Cvs store phone",station_code:"Area code",temperature:"Temperature",payment_type:"Payment type",receipt_file:"Receipt file",receipt_file_url:"Receipt file url",current_status:"Current status",goods_name:"Goods name",note:"Note",note_2:"Note2",note_3:"Note3",declared_value:"Declared value",measurement:"Measurement",weight_in_kilo:"Weight in kilo(KG)",serial:"Serial",is_used:"Is used",node_identity:"Node identity",station_identity:"Station identity",operation_identity:"Operation identity",partition_identity:"Partition identity",material_identity:"Material identity",source_core_waybill_identity:"Source_core_waybill identity",parent_core_waybill_identity:"Parent_core_waybill identity",consignee_address_accuracy:"Consignee address_accuracy",consignee_formatted_address:"Consignee formatted address",consignee_address_components:"Consignee address components",is_done:"Is done",is_collected:"Trade charges, back the company",no_paid:"No paid",paid:"Paid",collection:"Collection",collection_fee:"Collection_fee",simplified_declaration_form_fee:"Simplified_declaration_form_fee",declaration_form_fee:"Declaration_form_fee",declaration_form_extra_fee:"Declaration_form_extra_fee",tax:"Tax",price:"Price",insurance:"Insurance",material_fee:"Material_fee",consignee_tax_point:"Consignee_tax_point",sender_tax_point:"Sender_tax_point",warehouse_fee:"Warehouse_fee",fuel_surcharge:"Fuel_surcharge",value_added_service_fee:"Value_added_service_fee",overlength_fee:"Overlength_fee",overweight_fee:"Overweight_fee",extra_fee:"Extra_fee",shipping_date:"Shipping_date",shipping_period:"Shipping period",shipping_note:"Shipping note",latest_status:"Latest status",created_at:"Created time",updated_at:"Updated at",identity:"Identity",is_deleted:"Is deleted",deleted_at:"Deleted at"}}},ui:{general:{cannot:"Cannot",cannot_use:"Cannot use",clear:"Clear",select:"Select",please_select:"Please select",yes:"Yes",no:"No",no_data:"No data",date:"Date",day:"Day",days:"Days",hour:"Hour",hours:"Hours",minute:"Minute",minutes:"Minutes",second:"Second",operate:"Operate",hot_key:"Hot key",copy:"Copy",note:"Note",simple:"Simple",advanced:"Advanced",detail:"Detail",show:"Show",edit:"Edit",create:"Create",creating:"Creating",search:"Search",searching:"Searching",search__key:"Search {key}...",submit:"Submit",result:"Result",verify:"Verify",verifying:"Verifying",verify_staff:"Verify staff",update:"Update",updating:"Updating",delete:"Delete",deleteing:"Deleteing",ready:"Ready",readying:"Readying",handle:"Handle",handling:"Handling",cancel:"Cancel",canceling:"Canceling",print:"Print",printing:"Printing",upload:"Upload",uploading:"Uploading",fetch:"Fetch",success:"Success",failure:"Failure",network_abnormality:"Network abnormality",server_offline:"Server offline",error:"Error",back:"Back",initialize:"Initialize.",initializing:"Initializing.",initialize_complete:"Initialize complete.",created_at:"Created time",updated_at:"Updated time",deleted_at:"Deleted time",folder:"Folder",file:"File",all:"All"},page_titles:{index:"Index",current_page:"Current page",provider_index:"Home",station_index:"Home",customer_index:"Home",provider_pages:"Provider",customer_pages:"Customer",uploader:"Uploader",station_uploader:"Station uploader",provider_uploader:"Provider uploader",customer_uploader:"Customer uploader",operation_show:"Operation",operation_print_list:"Operation print list",operation_print_label:"Operation print label",assets:"Assets",assets_index:"Assets Index",new_asset:"New asset",edit_asset:"Edit asset",print_asset:"Print asset",quote_policies:"Quote policies",quote_policy:"Quote policy",provider_customers:"Customers",new_provider_customer:"New customer",provider_customer:"Customer",station_customers:"Station customers",new_station_customer:"New station customer",station_customer:"Station customer",provider_contracts:"Provider contracts",new_provider_contract:"New contract",provider_contract:"Provider contract",new_provider_quotation:"New quotation",provider_quotation:"Provider quotation",station_contracts:"Station contracts",new_station_contract:"New station contract",station_contract:"Station contract",new_station_quotation:"New station quotation",station_quotation:"Station quotation",scanner:"Scanner",provider_operations:"Operations",edit_provider_operation:"Edit operation",driver_commissions:"Driver commissions",materials:"Materials",new_material:"New material",edit_material:"Edit material",provider_partitions:"Partitions",provider_associated_partitions:"Provider associated partitions",customer_partitions:"Customer partitions",new_provider_partition:"New partition",edit_provider_partition:"Edit partition",station_partitions:"Station partitions",station_associated_partitions:"Station associated partitions",new_station_partition:"New station partition",edit_station_partition:"Edit station partition",permissions:"Permissions",permission_groups:"Permission groups",new_permission_group:"New permission group",edit_permission_group:"Edit permission group",customer_core_waybills:"Customer waybills",customer_core_waybills_operation:"Customer waybills operation",customer_show_core_waybill_operation:"Customer Waybill operation",customer_show_core_waybill:"Customer Waybill",core_waybills:"Waybills",core_waybills_operation:"Waybills operation",edit_core_waybill_operation:"Edit waybill operation",edit_core_waybill:"Edit waybill",new_core_waybill:"New waybill",roles:"Roles",new_role:"New role",edit_role:"Edit role",settings:"Settings",staffs:"Staffs",new_staff:"New staff",staff:"Staff",edit_staff:"Edit staff",stations:"Stations",new_station:"New station",edit_station:"Edit station",status_prototypes:"Status prototypes",new_status_prototype:"New status prototype",status_prototype:"Status prototype",edit_status_prototype:"Edit status prototype",pack:"Pack",unpack:"Unpack",page_404:"404 Found",operate:"Operate",appraisals:"Appraisals",edit_appraisal:"Edit appraisal",new_appraisal:"New appraisal",user_logs:"User logs",user_log:"User log",driver_commission_policies:"Driver commission policies",new_driver_commission_policy:"New driver commission policy",edit_driver_commission_policy:"Edit driver commission policy",driver_commission_reports:"Driver commission reports",new_driver_commission_report:"New driver commission report",driver_commission_report:"Driver commission report",scan_action_prototypes:"Scan action prototypes",scan_action_prototype:"Scan action prototype",new_scan_action_prototype:"New scan action prototype",edit_scan_action_prototype:"Edit scan action prototype",provider_node:"Setting",customer_operations:"Customer operations",show_customer_operation:"Customer operation",new_provider_operation:"New operation",provider_distributions:"Distributions",new_provider_distribution:"New distribution",edit_provider_distribution:"Edit distribution",permission_denied:"Permission denied"},links:{menu:{provider_index:"Index",scan:"Scan",scan_action_prototypes:"Scan action prototypes",status_prototypes:"Status prototypes",numbers:"Numbers",provider_partitions:"Partitions",station_partitions:"Partitions",assets:"Assets",stations:"Stations",materials:"Materials",uploader:"Uploader",provider_uploader:"Uploader",station_uploader:"Uploader",customer_uploader:"Uploader",permission_groups:"Permission groups",core_waybills:"Waybills",provider_operations:"Operations",station_operations:"Operations",staffs:"Staffs",roles:"Roles",users:"Users",routes:"Routes",processed_files:"Processed files",operation_managers:"Operation managers",user_logs:"User logs",import_files:"API Openfile",intelligent:"intelligent",commission_policies:"Commission policies",commission_reports:"Commission reports",driver_commission_policies:"Driver commission policies",driver_commission_reports:"Driver commission reports",driver_commissions:"Driver commissions",provider_node:"Setting",provider_distributions:"Distributions",provider_customers:"Customers",station_customers:"Station customers"},top_menu:{my_receipts:"My receipts",print_check_summary:"Print check summary",scanner:"Scanner",language:"Language",notice:"Notice",no_station:"Station undetected",overtime_note:"Timeout reminder",full_logout:"Full logout",full_logout_help:"Clear setting log.",logout:"Logout"}},theme_names:{staff:"Staff",driver:"Driver",manager:"Manager",operator:"Operator",exception:"Exception",default:"Default"},status_scopes:{operator:"Operator",forwarder:"Forwarder",public:"Public",mark:"Mark",condition:"Condition",system:"System",unknown:"Unknown"},validator:{is_required:" is required",greater_than:" must be greater than ",if:"If ",is:" is ",then:" then "},notifications:{help:{this_page_is_out_of_date_please_click_here_to_refresh:"This page is out of date, please click here to refresh.",please_clicked_initialize_again:"Please clicked, initialize again."},success:{fetch:"Fetch success.",update:"Update success.",create:"Create success.",delete:"Delete success.",verify:"Verify success.",upload:"Upload success.",__name:"{name} success.",fetch__name:"Fetch {name} success.",update__name:"Update {name} success.",create__name:"Create {name} success.",delete__name:"Delete {name} success.",verify__name:"Verify {name} success.",upload__name:"Upload {name} success.",copy__name:"Copy {name} success."},warning:{are_you_sure_to_delete_it:"Are you sure to delete it?",are_you_sure_to_cancel_it:"Are you sure to cancel it?"},error:{find:"Find failure {reason}.",fetch:"Fetch failure {reason}.",update:"Update failure {reason}.",create:"Create failure {reason}.",delete:"Delete failure {reason}.",verify:"Verify failure {reason}.",upload:"Upload failure {reason}.",copy:"Copy failure {reason}.",__name:"{name} failure.",find__name:"Find {name} failure {reason}.",fetch__name:"Fetch {name} failure {reason}.",update__name:"Update {name} failure {reason}.",create__name:"Create {name} failure {reason}.",delete__name:"Delete {name} failure {reason}.",verify__name:"Verify {name} failure {reason}.",upload__name:"Upload {name} failure {reason}.",copy__name:"Copy {name} failure {reason}.",no_data:"No data",please_handle_errors:"Please handle errors.",exception_error_please_contact_the_system_supplier:"Exception error, Please contact the system supplier.",please_check_to_write_in_the_required_fields_mark:"Please check to write in the required fields (*mark)."}},scanner:{settings:{is_scan_mode:{true:"Scan mode | Scan",false:"Write mode | Write"},is_scan_action_mode:{true:"Work mode | Work",false:"View mode | View"},is_batch_mode:{true:"Batch mode | Batch | Warning！ Batch mode is activated, numbers need comma(,) separation, and not remind required field.",false:"No batch mode | No batch"},is_operation_mode:{true:"Operation mode | Operation",false:"No operation mode | No operation"},is_core_waybill_pieces_mode:{true:"Counter mode | Counter mode",false:"No counter mode | No counter mode"},is_update_corewaybill_mode:{true:"Update corewaybill | Update waybill",false:"View corewaybill | View waybill"},is_auto_print_label_mode:{true:"Auto print label mode | Print label",false:"No print label | No print label"},is_distributed_to_mode:{true:"Distributed to mode | Distributed",false:"No distributed | No distributed"},is_noty_audio_mode:{true:"Noty audio mode | Noty audio",false:"No noty audio | No noty audio"},is_speech_mode:{true:"Speech mode | Speech",false:"Don't Speech | No speech"},is_quick_corewaybill_related_columns:{true:"Quick corewaybill related columns | Quick data",false:"No quick related columns | No quick data"},is_package_mode:{true:"Package mode | Package | Packaging",false:"No package"},is_unpackage_mode:{true:"Unpackage mode | Unpackage | Unpackaging",false:"No unpackage"},pack_need_source_mode:{short_name:"need source data",true:"Use",false:"No use"},core_waybill_template_mode:{short_name:"View waybill style",min_card:"Minimal View| Minimal",card:"Basic View | Basic",detail:"Detail View | Detail"}},setting_groups:{LB00:"Waybill init",LB01:"1.Release",LB02:"2.Point to pay",LB06:"3.Unusual",LB07:"3.Exclusion",LB11:"Lock",LB12:"Unlock",LA00:"waybill init",LA01:"1.Release",LA02:"2.In station",package:"Package",LA03:"3.Dispatch",LA10:"3.Joint transport",LA09:"3.Collecting transfer",LA05:"4.Back station",LA04:"4.Reached",LA06:"4.Unusual",LA07:"4.Exclusion",LA08:"Sender returned",LA11:"Lock",LA12:"Unlock",LA13:"losed",LA21:"Entering warehouse",LA22:"Shelf",LA23:"Out of position",LA24:"Unidentified goods",unpackage:"Unpackage",distributed_to:"Distributed",pack_house_waybill:"袋包运, 装袋作业",pack_waybill_goods:"运包子, 一票多件",search:"Search",print:"Print"},menus:{settings:"Settings",setting_group:"Setting group",operation:"Operation",package:"Package",core_waybill:"Waybill"},jobs:{job:"Job",clear_jobs:"Clear jobs",waiting_user_action:"Waiting user action",idle:"Idle",processing:"Processing",success:"Success",failure:"Failure",number:"Number",no_add_status:"No add status",no_error:"No error",scope:{original_number:"Original number",new:"New"}},package:{packing_material:"Packing material",package:"Package",unpackage:"Unpackage",total__number:"Total:{number}",detail:"Detail",hide:"Hide"},upload:{receipt_file:"Upload receipt file",result:"Upload result"},helps:{select:"Select",write:"Write",scan:"Scan",quick_required_field_div:"Quick required field div",current_scan_action_prototype:"Current scan action prototype",distributed_result:"Distributed result",you_dont_any_operation:"You don't any operation.",write_or_scan_barcode:"Write or scan barcode.",write_related_columns:"Write related columns.",write_scan_action_note:"Write scan action note.",write_number:"Write number",select_scan_action:"Select scan action",select_pack_taget_parent:"Select pack taget parent.",select_pack_taget:"Select pack taget",select_target_layer:"Select target layer",selected_operation:"Selected operation",distributed:{please_select:"Please select",current_station:"current station",can_use_distributed_to_mode:"can use distributed mode."}},alerts:{is_created:"Is created",required:"Required",previous:"Previous",give_up:"Give up",definite:"Definite",please_write:"Please write",required_field:"Required field",if_have_write:"If have, write it",upload_receipt_img:"Upload receipt img",upload_result:"Upload result",uploading:"Uploading",please_write_scan_note:"Please write scan note"},operations:{total:"Total: {operations_length} operations，{sum_core_waybills} waybills",contents:"waybills",current_operation_set_to:"Current operation set to",clear_current_operation:"Clear current operation"},success:{quick_setting:"Quick setting success"},errors:{multiple_numbers_in_batch_mode:"Multiple numbers in batch mode.",setting_group_not_found:"Setting group not found.",setting_not_found:"Setting not found.",core_waybill_not_found:"waybill not found.",failed_to_fetch_core_waybill_statuses:"Failed to waybill statuses.",failed_to_instantiate_scan_action_prototype:"Failed to instantiate scan action prototype.",failed_to_update_core_waybill_related_column:"Failed update waybill related columns.",give_up_core_waybill_related_columns:"Give up waybill related columns.",give_up_scan_action_description:"Give up scan action description.",give_up_create_core_waybill:"Give up create waybill."}},pages:{customer_home:{title:"Bienvenido a la gestión de clientes"},partials:{page_404:{cant_find_page:"Can't find page."},permission_denied:{you_dont_permission:"You don't permission."},login_expiration_hint_modal:{idle:"Idle",content:"The system detected that you haven't use for a long time，{time} will Automatic logout.",i_am_back:"I am back"}},login:{customer_management_login:"Customer panel",provider_management_login:"Provider panel",station_management_login:"Station panel",please_enter_your_account_and_password:"Login",account:"Account",password:"Password",verification_code:"Verification code",pass_next_timeout_will_dont_warn:"Pass next timeout, will don't warn.",btns:{auto_input_test_account:"Test account",login:"Login"},errors:{your_site_has_not_registered_system:"Your site has not registered system",please_fill_in_the_verification_code:"Please fill in the verification code",account_or_password_incorrect:"Account or password incorrect",verification_code_incorrect:"Verification code incorrect",verification_code_expired:"Verification code expired",failure_to_login:"Failure to login",timeout:"Automatically logout after idle too long."}},appraisals:{point:"Point",reason:"Reason",staff_identity:"Staff",registrant_identity:"Registrant"},monitor:{menu_title:{all:"All",myself:"Myself",station:"Station"},title:{all_pending_operations:"All pending operations",all_pending_waybills:"All pending waybills",pending_operations:"Pending operations",pending_waybill_in_operations:"Pending waybill in operations",pending_waybills:"Pending waybills"},sub_title:{not_completed_operations:"Not completed operations",not_completed_waybills:"Not completed waybills",assigned_to_me_but_not_completed_operations:"Assigned to me but not completed operations",assigned_to_me_but_not_completed_waybill_in_operations:"Assigned to me but not completed waybill in operations",the_unfinished_waybill_that_was_last_my_scanned:"The unfinished waybill that was last my scanned",assigned_to_stationg_but_not_completed_operations:"Assigned to <span style='color: green;'>{station_name}</span> but not completed operations",assigned_to_stationg_but_not_completed_waybill_in_operations:"Assigned to <span style='color: green;'>{station_name}</span> but not completed waybill in operations"}},assets:{categories:"Categories",print_barcode:"Print barcode",have_category:"Have category",clear_value:"Clear value",helps:{no_anything_category:"No anything category",no_anything_assets:"No anything assets",write_or_use_category_list:"Write or use category list",please_clicked_upper_left_new_asset_button:"Please clicked upper left new asset button."}},customer_contracts:{additional_information:"Additional information"},customers:{contracts:"Contracts",normal:"Normal",banned:"Banned",unbanned:"Unbanned",is_banned:"Is banned",basic_information:"Basic information",common_sender_information:"Common sender information",common_consignee_information:"Common consignee information",is_open_use_associated_partition:"Is open use 「Associated partition」",is_open_use_use_yourself_partition:"Is open use 「Use yourself partition」",helps:{the_password_does_not_match_the_confirmation_password:"The password does not match the confirmation password."}},distributions:{activated:"Activated",unactivated:"Unactivated",add_condition:"Add condition",add_condition_help:"How to write conditions？",add_condition_help_content_1:"1. 同樣條件類型的項目會做OR比對，不同條件類型的項目是做AND比對，例如：直轄市台北市+直轄市區信義區+直轄市區中正區+直轄市新北市+直轄市區新店區五個條件，符合本區配送條件的地址有台北市信義區、台北市中正區及新北市新店區",add_condition_help_content_2:"2. Please write in the full traditional Chinese name",condition_type:"Condition type",content:"Content",undo:"Undo",filter:{direct:"Direct",intermodal:"Intermodal"}},driver_commissions:{driver:"Driver",no_done:"No done",core_waybill_number:"Waybill number"},driver_commission_policies:{activated_switch:"Activated switch",activated:"Activated",pickup:"Pickup",bag:"Bag",table:{general_pickup:"General pickup",general_delivery:"General delivery",bag_pick:"Bag pick",bag_delivery:"Bag delivery",is_activated:"Is activated",first_weight:"First weight",first_price:"First price",follow_up_weight:"Follow up weight",follow_up_price:"Follow up price"}},driver_commission_reports:{total_amount_of_commission:"Total amount of commission",print:"Print",setting:"Setting",print_setting:"Print setting",detailed_mode:"Detailed mode",from:"From",to:"To",status:"Status",no_select_date:"No select date",start_all:"Start all",go_to_report:"Go to report",table:{pickup_details:"Pickup details",dispatch_details:"Dispatch details",No:"No.",number:"Number",weight:"Weight",date:"Date",commission:"Commission(dollar)",total:"Total"},filter:{staff_name:"Staff name",begin_at:"Begin at",end_at:"End at",total_amount_from:"Total amount from...",total_amount_to:"Total amount to...",created_at:"Created at"}},nodes:{company_information:"Company Information"},operations:{provider_note_value:"Sender name: \nSender phone: \n",processing:"Processing",contract:"Contract",schedule:"Schedule",waybill_amount:"Amount",print_receipt:"Print receipt",print_coew_waybill_labels:"Print coew waybill labels",print_coew_waybill_checklist:"Print coew waybill checklist",delete_help:"Delete operation, Houses、Packages、Waybills will deleted.",_name_operation_list:"{name} operation list",_name_customer_receipt:"{name} customer receipt",helps:{please_confirm_sender_and_contract_are_selected:"Please confirm sender and contract are selected."},table:{finish:"Finish",total:"Total"}},partitions:{automatic_number:"Automatic number",use_yourself:"Use yourself",statistics:"Statistics",total_amount:"Total amount",available_quantity:"Available quantity",if_use_it_yourself_do_not_write:"If use it yourself, do not write"},uploader:{redo:"Redo",open_file:"Open file",operation_list:"Operation list",upload_operation_list:"Upload operation list",selected:"Selected",contract:"Contract",your_actions:"Your actions",operation_order:"Operation",field_data_succeeded:"Field data succeeded",checking_waybill_data_ok:"Checking waybill data ok",checking_operation_data_ok:"Checking operation data ok",upload_detail_completed:"Upload detail completed",continue_next_file:"Continue next file",materialization_operation:"Materialization operation",consignment:"Consignment",delivery:"Delivery",total:"Total",total__number:"Total: {number}",dimmer:{what_do_you_want_now:"What do you want",please_upload_your_file:"Please upload your file",download_sample_file:"Download sample file",clicked_this_card_redo:"Clicked this card redo",select_file:"Select file"},steps:{title:{operation:"Operation",confirm_data:"Confirm data",upload_data:"Upload data"},description:{operation_content:"Operation content",confirm_data_is_correct:"Confirm data is correct",upload_data_to_server:"Upload data to server"}},file:{name:"File name",size:"File size",path:"File path",upload:"File upload",complete:"Complete",not_uploaded:"Not uploaded"},column_verification:{required_field:"Required field",unknown_waybill:"Unknown waybill"}},scan_action_prototypes:{binding_material:"Binding material",print_barcodes:"Print barcodes",field_name:"Field name",value:"Value"},staffs:{appraisals:"Appraisals",normal:"Normal",banned:"Banned",unbanned:"Unbanned",is_banned:"Is banned"},user_logs:{record_object:"Record object",operator:"Operator",field_name:"Field name",value:"Value",yes:"Yes",no:"No"},core_waybills:{done:"Done",print_filter_result_labels:"Print labels",export_csv_file:"Export CSV",export_clearance_csv_file:"Export clearance CSV",export_daily_csv_file:"Export daily CSV",download_daily_csv_file:"Download daily CSV",please_select_partition:"Please select partition",back_to_select_partition:"Back to select partition",partition_number_from:"Number from",partition_number_to:"Number to",again:"Again",upload_picture:"Upload picture",no_upload_any_picture:"No upload any picture",system_generation:"System generation",have_contained_status:"have contained status",status:{"可使用":"Usable","使用中":"Using","曾經使用過":"Usabled","可放行":"Releasable","放行中":"Releasing","曾經放行過":"Releasabled","可點交":"Releasable","點交中":"Releasabling","曾經點交過":"Releasabled","可收貨":"Receipt","收貨中":"Receiving","曾經收貨過":"Receipted","可進站":"Checkable","進站中":"Checkabling","曾經進站過":"Checkabled","可配送":"Shippable","配送中":"Shippabling","曾經配送過":"Shippabled","可回站":"Returne","回站中":"Returning","曾經回站過":"Returned","可配達":"Is done","配達中":"Is doning","曾經配達過":"Is doned","可中轉":"Transferable","中轉中":"Transfering","曾經中轉過":"Transferabled","可聯運":"Intermodalable","聯運中":"Intermodalabling","曾經聯運過":"Intermodalabled","可異常件":"Exceptionable","異常件中":"Exceptionabling","曾經異常件過":"Exceptionabled","可鎖定":"Lockable","鎖定中":"Locking","曾經鎖定過":"Locked","可完成":"Is done","完成中":"Is doning","曾經完成過":"Is doned",USABLE:"USABLE",CHECKABLE:"CHECKABLE",SHIPPABLE:"SHIPPABLE",SHIPPING:"SHIPPING",TRANSFERING:"TRANSFERING",EXCEPTIONABLE:"EXCEPTIONABLE",EXCEPTIONING:"EXCEPTIONING",SENDER_REGRETABLE:"SENDER REGRETABLE",CHECKING:"CHECKING",TRANSFERABLE:"TRANSFERABLE",INTERMODALABLE:"INTERMODALABLE",INTERMODALING:"INTERMODALING",RELEASABLE:"RELEASABLE",CAN_HAND_OVER:"CAN HAND OVER",LOCKING:"LOCKING",IS_DONE:"IS DONE",system:"System",condition:"condition",administrator:"administrator",operator:"Operator",forwarder:"Forwarder",public:"Public",mark:"mark",no_latest_status:"No latest status"},filter:{find__key:"Find {key}...",find_number:"Find number...",clear:"Clear",numbers:"Numbers",waybill_content:"Waybill content",status:"Status",have_contained:"Have contained",selected_is_used:"Selected is_used",is_used:{true:"Used",flase:"Not used"},material:"Material",selected_material:"Selected material",selected_station:"Where",selected_staff:"Who",selected_status:"Status",selected_status_scope:"Scope",selected_polarity:"Polarity",polarity:{positive:"Being",negative:"Not be in"},status_depiction:{now:"Now",at_the:"at the",in_the:"in the",by:"by",handle:"handle",before_by:"Before by",added:"added"}}}},toolbox:{back_to_top_button:{back_to_top:"Back to top"},bulletin_board:{name:"Bulletin board",message:"Message",no_messages:"No messages！",talk_your_comment:"Talk your comment"},crud_templates:{new:"New"},core_waybills_label_svg:{labels:{paper_type:"Paper type"},btns:{print:"Print"},helps:{numbers_input:"Numbers Ex:123,456,789"},errors:{no_authentication_token:"Pops no authentication_token",no_number:"Please write number"}},core_waybill:{parent_core_waybill:"Parent waybill",child_core_waybill:"Child waybill",no_any_parent_and_child_waybill:"No any parent and child waybill",use_partition:"Partition",partition_number_from:"Number from",partition_number_to:"Number to",btns:{label:"Label",print:"Print",update:"Update",switch_style:"Switch style",simple:"Simple",detail:"Detail"},helps:{source:"Source",is_deleted:"Deleted, please back.",tooltip_have_source_core_waybill:"Current waybill data is from {number}, Click to edit"},errors:{please_clicked_initialize_again:"Please clicked, initialize again.",change_template_error:"Change template error.",no_number:"No number.",invalid_loading_image:"Invalid loading image.",waybill_no_label_class_cant_print:"Waybill no label class can't print.",props_is_can_print_label_unable:"Props is_can_print_label unable.",no_label_type:"No label type.",label_type_error:"Label type error.",label_paper_type_error:"Label paper type error."}},core_waybills:{quick_update_table:"Quick update table",quick_update:"Quick update",batch_edit:"Batch edit",no_station:"No station",packed_in:"Packed in",deleted:"Deleted",add_table:"Add table"},operation_summary:{print_operation_list:"Print operation list",table:{sender_signature:"Sender signature",driver_signature:"Driver signature"}},receipts:{print_receipt:"Print receipt"},stations_modal:{turn_of_GPS:"Turn of GPS",turn_on_GPS:"Turn on GPS",turn_on_auto_tracking:"Turn on auto tracking",modify_current_station:"Change current station",please_select_the_current_station:"Please select the current station",you_are_not_a_manager_will_modify_station_please_contact_the_manager:"You are not a manager, will modify station please contact the manager",you_do_not_belong_station_will_update_your_data_after_selection:"You do not belong station, will update your data after selection",current_station:"Current station",tracking_GPS:"Tracking GPS",decisioning:"Decisioning",cancel_current_station:"Cancel current station",btns:{track_once:"Track(once)",auto_tracking_every_minute:"Auto tracking(every minute)"},errors:{geolocation_is_not_supported_by_this_browser:"Geolocation is not supported by this browser.",your_web_protocol_is_not_HTTPS:"Your web protocol is not HTTPS, See https://goo.gl/rStTGz.",get_location_failure:"Get location failure."}},speed_test:{network_quality:"Network quality"},my_receipts:{neme:"My receipts",force_current_station:"Force current station",print:"{page} Print{note}",customer_receipt:"Customer receipt"},notifications:{mark_all_read:"Mark all read",no_new_notifications:"No new notifications"}},el:{colorpicker:{confirm:"OK",clear:"Clear"},daterange_option_shortcut:{today:"Today",three_days:"Three days",week:"Week",month:"Month",three_months:"Three months",six_months:"Six months"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",selectDateTime:"Select date and time",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:""},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"}}}}},d975:function(e,t,i){"use strict";var n=i("97f8"),a=i.n(n);a.a},d993:function(e,t,i){},d9f1:function(e,t,i){},daa7:function(e,t,i){"use strict";var n=i("8f91"),a=i.n(n);a.a},db05:function(e,t){e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(""==e)return!1;if(!t)return!1;if(t&&!i.length&&!n.length)return!0;if(i.length){var a=_.findIndex(i,function(t){return t==e});return"-1"!=a}if(n.length){a=_.findIndex(n,function(t){return t==e});return"-1"==a}return!1}},db1b:function(e){e.exports={_comment:"此檔案為Scanner 設定 檔案",name:"neuron",options:["is_scan_mode","is_scan_action_mode","is_batch_mode","is_operation_mode","is_core_waybill_pieces_mode","is_update_corewaybill_mode","is_auto_print_label_mode","is_distributed_to_mode","is_high_performance_mode","is_noty_audio_mode","is_speech_mode","is_quick_corewaybill_related_columns","is_core_waybill_creation_mode","is_package_mode","is_unpackage_mode","pack_p_m_mode","pack_m_mode","pack_need_source_mode","core_waybill_template_mode"]}},db58:function(e,t,i){"use strict";var n=i("6e43"),a=i.n(n);a.a},dbcc:function(e,t,i){"use strict";var n=i("29a7"),a=i.n(n);a.a},dbd6:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{margin:"1rem 0"},attrs:{id:"top_menu"}},[i("div",{staticClass:"menus",staticStyle:{"text-align":"right"}},[i("div",{staticClass:"ui compact menu"},[e.show_receipts?i("div",{staticClass:"item",attrs:{"data-tooltip":e.$t("ui.links.top_menu.my_receipts"),"data-position":"bottom center"}},[i("MyReceipts")],1):e._e(),e.show_check_summary?i("div",{staticClass:"item",attrs:{"data-tooltip":e.$t("ui.links.top_menu.print_check_summary"),"data-position":"bottom center"}},[i("CheckSummary")],1):e._e(),e.is_can_use_scanner?i("div",{staticClass:"item mobile hidden",attrs:{"data-tooltip":e.$t("ui.links.top_menu.scanner")+"（"+e.$t("ui.general.hot_key")+"：Ctrl + Q）","data-position":"bottom center"}},[i("div",{staticClass:"ui icon button",on:{click:function(t){e.$bus.$emit("toggle_scanner_modal","show")}}},[i("i",{staticClass:"barcode large icon"})])]):i("div",{staticClass:"item",attrs:{"data-tooltip":e.$t("ui.general.cannot_use"),"data-position":"bottom center"}},[e._m(0)]),i("div",{staticClass:"item",attrs:{"data-tooltip":e.$store.getters["provider/current_station"].name||e.$t("ui.links.top_menu.no_station"),"data-position":"bottom center"}},[i("div",{staticClass:"ui icon button",on:{click:function(t){e.$bus.$emit("toggle_station_modal","show")}}},[i("i",{staticClass:"warehouse large icon",class:{red:!e.$store.getters["provider/current_station"].name}}),e.$store.getters["provider/current_station"].code?i("span",{staticStyle:{position:"absolute",right:"3px",bottom:"1px",color:"#333","font-size":"12px","text-shadow":"-2px -2px 2px #fff"}},[e._v("\n                        "+e._s(e.$store.getters["provider/current_station"].code.substring(0,2))+"\n                    ")]):e._e()])])]),i("div",{staticClass:"ui compact menu"},[i("div",{staticClass:"item"},[i("Notifications")],1),i("div",{staticClass:"item",attrs:{"data-tooltip":e.$t("ui.links.top_menu.language"),"data-position":"bottom center"}},[i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui icon dropdown top right pointing button"},[i("i",{staticClass:"globe large icon"}),i("div",{staticClass:"menu"},[i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("zh-TW")}}},[e._v("繁體")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("zh-CN")}}},[e._v("简体")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("en-US")}}},[e._v("English")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("ja-JP")}}},[e._v("日本語")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("es-ES")}}},[e._v("Español")]),i("a",{staticClass:"item",on:{click:function(t){e.change_i18n("vi-VN")}}},[e._v("Tiếng Việt")])])])]),i("div",{staticClass:"item"},[i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui icon dropdown top right pointing button"},[i("i",{staticClass:"setting large icon"}),i("div",{staticClass:"menu"},[i("div",{staticClass:"header"},[e._v("\n                            "+e._s(e.current_staff.name)+"\n                        ")]),i("a",{staticClass:"item",on:{click:e.$parent.show_login_timeout_hint}},[e._v("\n                            "+e._s(e.$t("ui.links.top_menu.overtime_note"))+"\n                        ")]),i("a",{staticClass:"item",on:{click:e.$parent.logout}},[e._v("\n                            "+e._s(e.$t("ui.links.top_menu.logout"))+"\n                        ")]),i("a",{staticClass:"item",on:{click:function(t){e.$parent.logout(!0)}}},[e._v("\n                            "+e._s(e.$t("ui.links.top_menu.full_logout"))+"\n                        ")])])])]),i("div",{staticClass:"item"},[i("SpeedTest")],1)])]),i("div",{staticClass:"clear"})])},a=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui icon button"},[i("i",{staticClass:"red barcode large icon"})])}],r=i("16e6"),s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"my_receipts"},[i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui icon dropdown button"},[i("i",{staticClass:"newspaper large icon"}),i("div",{staticClass:"menu"},[i("div",{staticClass:"custom_item"},[i("el-date-picker",{staticClass:"next_input_row",staticStyle:{width:"180px !important"},attrs:{"unlink-panels":"",type:"datetimerange",align:"center","start-placeholder":e.$t("ui.el.datepicker.startDate"),"end-placeholder":e.$t("ui.el.datepicker.endDate"),"picker-options":e.$store.state.element_ui_datepicker_daterange_options},model:{value:e.dates,callback:function(t){e.dates=t},expression:"dates"}})],1),i("div",{staticClass:"item",on:{click:function(t){t.preventDefault(),e.print_my_receipts("A4")}}},[e._v("\n                "+e._s(e.$t("ui.toolbox.my_receipts.print",{page:"A4"}))+"\n            ")]),i("div",{staticClass:"item",on:{click:function(t){t.preventDefault(),e.print_my_receipts("A5")}}},[e._v("\n                "+e._s(e.$t("ui.toolbox.my_receipts.print",{page:"A5"}))+"\n            ")]),i("div",{staticClass:"item",on:{click:function(t){t.preventDefault(),e.force_location_print_my_receipts("A4")}}},[e._v("\n                "+e._s(e.$t("ui.toolbox.my_receipts.print",{page:"A4",note:"("+e.$t("ui.toolbox.my_receipts.force_current_station")+")"}))+"\n            ")]),i("div",{staticClass:"item",on:{click:function(t){t.preventDefault(),e.force_location_print_my_receipts("A5")}}},[e._v("\n                "+e._s(e.$t("ui.toolbox.my_receipts.print",{page:"A5",note:"("+e.$t("ui.toolbox.my_receipts.force_current_station")+")"}))+"\n            ")])])]),i("Receipts",{attrs:{show_buttons:!1,default_search_params:{condition:{name:"current_ship",polarity:!0,current_operator_identity:e.current_staff.identity,updated_at:{from:e.date_from,to:e.date_to}},material:{class_names:"Waybill"},pagination:!1},logo_url:"/images/"+e.node.company_en_name.replace(/(?:^|\.|\s?)([A-Z])/g,function(e,t){return"_"+t.toLowerCase()}).replace(/^_/,"")+"_logo.jpg",title:e.node.company_short_name+" "+e.$t("ui.toolbox.my_receipts.customer_receipt"),sub_title:e.node.website_url,customer_service_hotline:e.node.customer_service_hotline,logistician:e.current_staff,channel_name:e.channel_name}}),i("Receipts",{attrs:{show_buttons:!1,default_search_params:{condition:{name:"current_ship",polarity:!0,current_operator_identity:e.current_staff.identity,updated_at:{from:e.date_from,to:e.date_to}},material:{class_names:"Waybill"},pagination:!1},logo_url:"/images/"+e.node.company_en_name.replace(/(?:^|\.|\s?)([A-Z])/g,function(e,t){return"_"+t.toLowerCase()}).replace(/^_/,"")+"_logo.jpg",title:e.node.company_short_name+" "+e.$t("ui.toolbox.my_receipts.customer_receipt"),sub_title:e.node.website_url,force_location:e.current_staff.station?e.current_staff.station.name:"",customer_service_hotline:e.node.customer_service_hotline,logistician:e.current_staff,channel_name:e.force_location_channel_name}})],1)},o=[],c=i("a808"),_=i("c1df"),l=i.n(_);function u(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function d(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){u(r,n,a,s,o,"next",e)}function o(e){u(r,n,a,s,o,"throw",e)}s(void 0)})}}var p={data:function(){return{dates:"",channel_name:"my_receipts",force_location_channel_name:"force_location_my_receipts"}},computed:{node:function(){return this.$store.state.provider.node},current_staff:function(){return this.$store.state.provider.current_staff},date_from:function(){return l()(this.dates[0]).startOf("day").format("YYYY-MM-DDTHH:mm:ss+08:00")},date_to:function(){return l()(this.dates[1]).endOf("day").format("YYYY-MM-DDTHH:mm:ss+08:00")}},created:function(){},mounted:function(){},watch:{},methods:{print_my_receipts:function(){var e=d(regeneratorRuntime.mark(function e(){var t,i,n=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=n.length>0&&void 0!==n[0]?n[0]:"A5",i=this,i.$bus.$emit(i.channel_name,t);case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),force_location_print_my_receipts:function(){var e=d(regeneratorRuntime.mark(function e(){var t,i,n=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=n.length>0&&void 0!==n[0]?n[0]:"A5",i=this,i.$bus.$emit(i.force_location_channel_name,t);case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{Receipts:c["a"]}},m=p,f=i("2877"),v=Object(f["a"])(m,s,o,!1,null,"d05a4654",null),h=v.exports,g=i("f7cf"),b=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"my_check_summaries"},[i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui icon dropdown button"},[i("i",{staticClass:"clipboard check large icon"}),i("div",{staticClass:"menu",staticStyle:{"min-width":"280px"}},[i("div",{staticClass:"header"},[i("CheckSummary",{attrs:{scope:"provider",default_search_params:{pagination:!1,condition:{name:"current_handover",polarity:!0,updated_at:{from:e.latest_condition_from,to:e.latest_condition_to}},material:{class_names:"House"}},channel_name:e.channel_name,title:"貨物交予 點交單",sub_title:e.node.website_url,customer_service_hotline:e.node.customer_service_hotline,logo_url:e.logo_url,show_buttons:!1,show_contents:!1}})],1),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"custom_item"},[i("el-date-picker",{staticClass:"next_input_row",attrs:{"unlink-panels":"",type:"datetimerange",size:"small",align:"center","start-placeholder":e.$t("ui.el.datepicker.startDate"),"end-placeholder":e.$t("ui.el.datepicker.endDate"),"picker-options":e.$store.state.element_ui_datepicker_daterange_options},model:{value:e.latest_condition_dates,callback:function(t){e.latest_condition_dates=t},expression:"latest_condition_dates"}})],1),i("div",{staticClass:"custom_item",on:{click:function(t){t.preventDefault(),e.refresh_data("custom_check_summaries")}}},[e._v("抓取以上時間")]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"custom_item",on:{click:function(t){t.preventDefault(),e.refresh_data("last24_check_summaries")}}},[e._v("抓取過去24小時")]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"custom_item",on:{click:function(t){t.preventDefault(),e.refresh_data("all_check_summaries")}}},[e._v("抓取所有時間")]),i("div",{staticClass:"ui divider"}),i("div",{staticClass:"item",on:{click:function(t){t.preventDefault(),e.print("NormalLayout")}}},[e._v("印出(A4)")]),i("div",{staticClass:"item",on:{click:function(t){t.preventDefault(),e.print("SimpleLayout")}}},[e._v("印出(連續紙)")])])])])},y=[],w=i("21b8");function k(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function C(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){k(r,n,a,s,o,"next",e)}function o(e){k(r,n,a,s,o,"throw",e)}s(void 0)})}}var x={data:function(){return{sender_name:null,consignee_name:null,channel_name:"check_summaries",latest_condition_from:null,latest_condition_to:null,latest_condition_dates:null}},computed:{node:function(){return this.$store.state.provider.node},current_staff:function(){return this.$store.state.provider.current_staff},logo_url:function(){var e=this;if(e.$store.state.provider.node.company_en_name)return"/images/"+e.$store.state.provider.node.company_en_name.replace(/(?:^|\.|\s?)([A-Z])/g,function(e,t){return"_"+t.toLowerCase()}).replace(/^_/,"")+"_logo.jpg";switch(e.$store.state.provider.node.service_name){case"neuron":return"/images/neuron_logo.png";case"axon":return"/images/axon_logo.png";default:return"/images/tw568_logo.png"}}},created:function(){},mounted:function(){},watch:{},methods:{refresh_data:function(){var e=C(regeneratorRuntime.mark(function e(t){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i=this,e.next=3,new Promise(function(e){switch(t){case"last24_check_summaries":i.latest_condition_from=i.human_datetime(Date.now()-864e5,null),i.latest_condition_to=i.human_datetime(Date.now(),null);break;case"all_check_summaries":i.latest_condition_from=null,i.latest_condition_to=null;break;case"custom_check_summaries":if(!i.latest_condition_dates)throw new Error("empty_date");i.latest_condition_from=i.$moment(i.latest_condition_dates[0]).format("YYYY-MM-DDTHH:mm:ss+08:00"),i.latest_condition_to=i.$moment(i.latest_condition_dates[1]).format("YYYY-MM-DDTHH:mm:ss+08:00");break}e()})["catch"](function(e){switch(e.message){case"empty_date":i.$noty.error("請選擇日期");break}return Promise.reject(e.message)});case 3:return e.next=5,i.$nextTick(function(){i.$bus.$emit(i.channel_name,"refresh_data")});case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),print:function(e){var t=this;t.$bus.$emit(t.channel_name,"print",e)}},components:{CheckSummary:w["a"]}},P=x,S=Object(f["a"])(P,b,y,!1,null,"865ddac0",null),N=S.exports,A={data:function(){return{window_width:$(window).width()}},mounted:function(){var e=this;$(window).resize(function(){e.window_width=$(window).width()}),$(document).ready(function(){$(document).delegate(".quick_link_select .menu .item","click",function(t){window.location=$(e).data("url")}),$(document).delegate(".current_station_select .menu .item","click",function(t){$(e).data("value"),$(e).text()})})},computed:{current_staff:function(){return this.$store.state.provider.current_staff},is_can_use_scanner:function(){return this.$store.state.provider.is_can_use_scanner},current_service_name:function(){return this.$store.state.provider.node.service_name},show_receipts:function(){return["neuron_premium","neuron","neuron_lite"].includes(this.current_service_name)},show_check_summary:function(){return["neuron_premium","axon_premium","axon","axon_lite"].includes(this.current_service_name)}},methods:{change_i18n:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"zh-TW";localStorage.setItem("language",e),this.$store.state.language=e}},components:{SpeedTest:r["a"],MyReceipts:h,Notifications:g["a"],CheckSummary:N}},E=A,q=(i("ac2f"),i("5a834"),Object(f["a"])(E,n,a,!1,null,"59bc7e4e",null));t["a"]=q.exports},dc50:function(e,t,i){},dc88:function(e){e.exports={models:{_comment:"アソシエーションテーブル名がこの先頭にありません",appraisals:"評価",assets:"資産",comments:"メッセージ",contracts:"契約",conversion_attributes:"契約の帰属",converters:"コンバーター",core_waybills:"運送 状",customers:"顧客",quotations:"価格表",distributions:"配布",distribution_tions:"流通条件",driver_commissions:"派遣の駒を集める委員 会",driver_commission_policies:"派遣の駒を集める委員会の方針",driver_commission_reports:"派遣の駒を集めるコミッションレポート",logs:"ユーザー履歴",materials:"材料",nodes:"会社",operations:"順序",partitions:"番号範囲",permissions:"アクセス 許可",permission_groups:"アクセス許可グループ",roles:"位置",staffs:"従業員",stations:"サイト",scan_actions:"スキャンアクション",status_prototypes:"貨況",scan_action_prototypes:"スキャンアクション",attributes:{assets:{barcode:"バーコード",number:"番号",category:"資産の種類",note:"メモ",node_identity:"ノード id"},converters:{name:"名前",number:"番号",provider_node_identity:"Provider_node_identity",customer_node_identity:"Customer_node_identity",customer_identity:"Customer_identity",carrier_class:"配送業者カテゴリ",proxy_contract_identity:"Proxy_contract_identity",third_party_api_data:"Third_party_api_data",note:"メモ"},customer_contracts:{name:"契約名",number:"顧客番号",carrier_class:"配送業者カテゴリ",proxy_contract:"自動振替契約",third_party_api_data:"サードパーティのスレッド接続情報",note:"メモ"},customers:{username:"アカウント",password:"パスワード",password_confirmation:"パスワードの確認",authentication_token:"API Token",company_name:"会社名",company_short_name:"会社の短い名前",company_en_name:"英語名",email:"電子メール",phone:"お問い合わせ番号",fax:"Fax",website_url:"ウェブサイトの URL",default_sender_zip_code:"Sender ZIP code",default_sender_company_name:"送信者の会社名",default_sender_address:"送信者アドレス",default_sender_name:"差出人の名前",default_sender_phone:"差出人電話番号",default_sender_email:"送信者の電子メール",default_sender_fax:"送信者 Fax",default_sender_url:"送信者 URL",default_consignee_zip_code:"Consignee ZIP code",default_consignee_company_name:"受取人の会社名",default_consignee_address:"受取人の住所",default_consignee_name:"受取人の氏名",default_consignee_phone:"受信者の電話",default_consignee_email:"受信者の電子メール",default_consignee_fax:"受信者の Fax",can_use_associated_partitions:"使用できるかどうか上の運送状",is_banned:"止められる権利かどうか"},conditions:{core_waybill_identity:"グッズ",scan_action_prototype_identity:"SAP",condition_type:"条件タイプ",can_use:"使える",current_use:"現在の使用",already_use:"すでに使っている",can_release:"解放することができます",current_release:"現在のリリース",already_release:"すでに発売",can_handover:"引き渡すことができます",current_handover:"現在のハンドオーバー",already_handover:"すでに引継ぎ",can_collect:"集めることができます",current_collect:"現在のコレクト",already_collect:"すでに収集",can_check:"確認できます",current_check:"現在のチェック",already_check:"すでにチェック",can_ship:"出荷できます",current_ship:"現在の船",already_ship:"すでに出荷",can_back:"戻ることができます",current_back:"現在のバック",already_back:"すでに戻ってきた",can_delivered:"配達することができます",current_delivered:"現在配信中",already_delivered:"配送済み",can_transfer:"転送できます",current_transfer:"現在の振替",already_transfer:"転送済み",can_intermodal:"インターモーダルできます",current_intermodal:"現在のインターモーダル",already_intermodal:"すでにインターモーダル",can_exception:"例外になる",current_exception:"現在の例外",already_exception:"もう例外",can_lock:"ロックすることができます",current_lock:"現在のロック",already_lock:"すでにロックされています",can_done:"できる",current_done:"現在完了",already_done:"すでに終わった",can_warehouse_in:"倉庫に入れることができます",current_warehouse_in:"倉庫に流れ込む",already_warehouse_in:"すでに倉庫に",can_warehouse_out:"倉庫から出られます",current_warehouse_out:"現在の倉庫",already_warehouse_out:"すでに倉庫から出ている",can_ready_to_ship:"出荷する準備ができて",current_ready_to_ship:"現在出荷する準備ができて",already_ready_to_ship:"すでに出荷する準備ができて"},distributions:{priority:"優先 順位",name:"名前",strategy:"戦略",station:"管轄サイト",station_identity:"管轄サイト",strategy_value:"ポリシー値",material:"対象アイテム",material_identity:"対象アイテム",is_activated:"が有効"},driver_commissions:{pick_up_driver:"ピックアップドライバー",pick_up_core_waybill:"取貨物運送状",delivery_core_waybill:"送貨物運送状",delivery_driver:"配信ドライバ",driver_commission_report:"派遣の駒を集めるコミッションレポート",driver_commission_policy:"派遣の駒を集める委員会の方針",amount:"量",polarity:"極性",created_at:"生成日",is_deleted:"削除されました"},driver_commission_policies:{pick_up_first_weight:"最初に作品を選ぶヘビーウェイト(KG) ",pick_up_first_price:"最初の重い任務の量",pick_up_follow_up_weight:"取重量を量ることを続けた部分のユニット(KG) ",pick_up_follow_up_price:"ピックアップ重量価格",delivery_first_weight:"作品を最初に送るヘビーウェイト(KG) ",delivery_first_price:"最初の重い任務の量",delivery_follow_up_weight:"送重量を量ることを続けた部分のユニット(KG) ",delivery_follow_up_price:"送信ピースの重量を更新価格",house_pick_up_first_weight:"最初に作品を選ぶヘビーウェイト(KG) ",house_pick_up_first_price:"最初の重い任務の量",house_pick_up_follow_up_weight:"取重量を量ることを続けた部分のユニット(KG) ",house_pick_up_follow_up_price:"ピックアップ重量価格",house_delivery_first_weight:"作品を最初に送るヘビーウェイト(KG) ",house_delivery_first_price:"最初の重い任務の量",house_delivery_follow_up_weight:"送重量を量ることを続けた部分のユニット(KG) ",house_delivery_follow_up_price:"送信ピースの重量を更新価格",is_activated:"有効にする"},driver_commission_reports:{staff:"人事",total_amount:"総量",time:"中",begin_at:"開始日の計算",end_at:"計算訖日",created_at:"生成日"},materials:{name:"項目名",en_name:"英語名",core_waybill_level:"運送状クラス",class_name:"名前の識別",label_type:"ボリュームラベルの種類",needs_label:"ボリュームラベルが必要"},nodes:{is_sandbox_mode:"サンドボックスモード",client_id:"マグネットアプリ id",client_secret:"マグネットアプリ ID",access_token:"マグネット Accesstoken",refresh_token:"マグネット認証",tax:"統合番号",carrier_class:"キャリア：：クラス ",host:"ホスト",service_name:"フロント製品",code:"コード",company_name:"会社名",company_short_name:"短い名前",company_en_name:"英語名",email:"電子メール",phone:"お問い合わせ番号",fax:"お問い合わせ fax",website_url:"官網Url",customer_service_hotline:"顧客サービスライン"},operations:{number:"注文番号",file:"出荷伝票",file_name:"出荷ファイル名",file_url:"出荷ファイルの URL",original_file_name:"出荷伝票",station:"サイトの割り当て",staffs:"配属人員",customer:"顧客",customer_identity:"顧客",your_note:"あなたのノート",customer_note:"顧客のメモ",provider_note:"メモ",system_note:"システムノート",cancel_reason:"失効の理由",instantiate_note:"具体化したノート",is_canceled:"取り消されました",is_operable:"",is_operated:"",is_ready:"",status:"状態",is_done:"が完了",is_done_true:"が完了",is_done_false:"完了しません",created_at:"日付"},partitions:{name:"名前",numbers:"番号",numbers_from:"開始",numbers_to:"終わり",numbers_rule:"利用可能数量",parent:"サブレンジ",customer:"顧客",contracts:"契約",customer_identity:"顧客",material:"材料",material_identity:"材料",note:"メモ",regex:"正規表現"},permissions:{name:"名前",uri:"uri",http_method:"Http_method"},permission_groups:{name:"名前"},roles:{name:"名前"},scan_action_prototypes:{name:"アクション名",barcode:"バーコード番号",required_condition:"要件条件",before_actions:"フロントマウントアクション",is_default:"初期商品として設定況",description_required_scope:"バウンドグッズ況の説明スコープ ",description_options:"バウンドグッズ況候補オプションの説明"},staffs:{username:"アカウント",password:"パスワード",password_confirmation:"パスワードの確認",name:"名前",phone:"電話",email:"電子メール",mobile:"携帯電話番号",fax:"Fax",tax:"税",country:"国",state:"状態",city:"都市",district:"區",address:"アドレス",theme_name:"レイアウト構成",note:"メモ",is_banned:"止められる権利かどうか",role_identity:"位置",role:"位置",station_identity:"関連サイト",station:"関連サイト"},stations:{name:"サイト名",code:"コード",address:"アドレス",phone:"電話",position:"範囲",note:"メモ"},status_prototypes:{name:"名前",material:"材料",description:"物語",non_polarity:"極性抵抗",positive_polarity:"陽極性",negative_polarity:"陽極抵抗"},user_logs:{title:"推力",description:"記述",modified_attributes:"数値の移行",level:"レコードレベル",action_type:"アクションの種類",is_undid:"リカバリ・レコード",undid_at:"に復元",node_identity:"ノードID ",operator_identity:"演算子によるID ",loggable_identity:"Loggable_identity",loggable_type:"レコードオブジェクト",created_at:"日付",updated_at:"Updated_at",identity:"id"},core_waybills:{number:"番号",operation_number:"注文番号",original_number:"元番号",tracking_number:"追跡番号",storage_number:"保管番号",warehouse_identity:"倉庫番号",original_core_waybill_identity:"Original_core_waybill_identity",tracking_core_waybill_identity:"Tracking_core_waybill_identity",label_type:"ボリュームラベルの種類",sender:"送信者",sender_company_name:"送信者の会社名",sender_zip_code:"荷送人郵便番号",sender_address:"送信者アドレス",sender_name:"差出人の名前",sender_phone:"差出人電話番号",sender_email:"送信者メール ",sender_fax:"送信者 Fax",sender_url:"送信者 URL",consignee:"受信者",consignee_company_name:"受取人の会社名",consignee_zip_code:"受取人郵便番号",consignee_address:"受取人の住所",consignee_name:"受取人の氏名",consignee_phone:"受信者の電話",consignee_email:"受信者メール ",consignee_fax:"受信者の Fax",flight_number:"航海",cvs_store_number:"Cvs店舗番号",cvs_store_name:"Cvs店舗名",cvs_store_address:"Cvs店舗住所",cvs_store_phone:"Cvsストア電話",station_code:"エリア番号",temperature:"暖かい層",payment_type:"お支払い方法",receipt_file:"領収書フォーム",receipt_file_url:"サインオン URL",current_status:"現在の状態",goods_name:"名前",note:"メモ",note_2:"メモ2 ",note_3:"メモ3 ",declared_value:"宣言された商品の価値",measurement:"木材製品",weight_in_kilo:"重量(KG) ",serial:"シリアル",is_used:"使用状況",node_identity:"Node_identity",station_identity:"Station_identity",operation_identity:"Operation_identity",partition_identity:"Partition_identity",material_identity:"Material_identity",source_core_waybill_identity:"Source_core_waybill_identity",parent_core_waybill_identity:"Parent_core_waybill_identity",consignee_address_accuracy:"受取人の正確な住所",consignee_formatted_address:"受信者の書式付きアドレス",consignee_address_components:"受信者のアドレスコンポーネント",is_done:"が完了",is_collected:"支払の収集 会社を返済するかどうか",no_paid:"返済していない",paid:"返済されています",collection:"支払の収集",collection_fee:"回収手数料",simplified_declaration_form_fee:"簡易申告料",declaration_form_fee:"公式宣言料",declaration_form_extra_fee:"ロングチャージバック",tax:"税金",price:"出荷",insurance:"保険",material_fee:"包装料",consignee_tax_point:"受取人税ポイント",sender_tax_point:"荷送人税ポイント",warehouse_fee:"倉庫のレンタル料",fuel_surcharge:"燃油サーチャージ",value_added_service_fee:"付加価値サービス料",overlength_fee:"エクストラロングフィー",overweight_fee:"太りすぎの料金",extra_fee:"他",shipping_date:"納品日",shipping_period:"受渡し時間",shipping_note:"配送ノート",latest_status:"貨況",created_at:"設立年月日",updated_at:"更新日",identity:"アイデンティティ",is_deleted:"削除されました",deleted_at:"日付の削除"}}},ui:{general:{cannot:"ない",cannot_use:"使用できません。",clear:"クリア",select:"選択",please_select:"選択してください",yes:"是",no:"無",no_data:"無データ",date:"日付",day:"天",days:"天",hour:"時間",hours:"時間",minute:"分",minutes:"分",second:"秒",operate:"操作",hot_key:"ショートカットキー",copy:"コピー",note:"メモ",simple:"簡単",advanced:"詳細",detail:"と",show:"ビュー",edit:"編集",create:"確立",creating:"に設立",search:"検索",searching:"検索で",search__key:"検索{キー}... ",submit:"送り出す",result:"結果",verify:"確認",verifying:"での検証",verify_staff:"身元の確認",update:"更新",updating:"更新で",delete:"削除",deleteing:"で削除",ready:"準備をして",readying:"準備で",handle:"処理",handling:"プロセスで",cancel:"キャンセル",canceling:"でキャンセル",print:"印刷",printing:"印刷で",upload:"アップロード",uploading:"アップロードで",fetch:"た",success:"成功",failure:"失敗 しました",network_abnormality:"オンライン例外",server_offline:"サーバーのオフライン",error:"エラー",back:"返す",initialize:"初期化",initializing:"ロード、しばらくお待ちください",initialize_complete:"初期化の完了",created_at:"設立年月日",updated_at:"更新日",deleted_at:"日付の削除",folder:"フォルダー",file:"ファイル",all:"すべての"},page_titles:{index:"索引",current_page:"現在のページ",provider_index:"ホーム",station_index:"ホーム",customer_index:"ホーム",provider_pages:"プロバイダ",customer_pages:"顧客",uploader:"アップローダ",station_uploader:"ステーションアップローダ",provider_uploader:"プロバイダアップローダ",customer_uploader:"カスタマーアップローダー",operation_show:"操作",operation_print_list:"操作印刷リスト",operation_print_label:"操作印刷ラベル",assets:"資産",assets_index:"資産インデックス",new_asset:"新しい資産",edit_asset:"アセットを編集",print_asset:"資産の印刷",quote_policies:"見積もりポリシー",quote_policy:"見積もり方針",provider_customers:"プロバイダの顧客",new_provider_customer:"新しいプロバイダーのお客様",provider_customer:"プロバイダの顧客",station_customers:"駅のお客様",new_station_customer:"新しい駅の顧客",station_customer:"駅のお客様",provider_contracts:"プロバイダ契約",new_provider_contract:"新しい契約",provider_contract:"プロバイダ契約",new_provider_quotation:"新しい見積もり",provider_quotation:"プロバイダ見積",station_contracts:"ステーション契約",new_station_contract:"新駅契約",station_contract:"駅契約",new_station_quotation:"新しい駅見積",station_quotation:"ステーション見積",scanner:"スキャナー",provider_operations:"オペレーション",edit_provider_operation:"編集操作",driver_commissions:"運転手手数料",materials:"材料",new_material:"新素材",edit_material:"素材を編集",provider_partitions:"パーティション",provider_associated_partitions:"プロバイダ関連パーティション",customer_partitions:"顧客パーティション",new_provider_partition:"新しいパーティション",edit_provider_partition:"パーティションを編集",station_partitions:"駅区画",station_associated_partitions:"ステーション関連区画",new_station_partition:"新しい駅区画",edit_station_partition:"ステーションパーティションを編集",permissions:"許可",permission_groups:"許可グループ",new_permission_group:"新しい許可グループ",edit_permission_group:"権限グループを編集",customer_core_waybills:"顧客への請求書",customer_core_waybills_operation:"得意先運送状オペレーション",customer_show_core_waybill_operation:"顧客運送状オペレーション",customer_show_core_waybill:"顧客運送状",core_waybills:"運送状",core_waybills_operation:"運送状操作",edit_core_waybill_operation:"運送状操作の編集",edit_core_waybill:"運送状の編集",new_core_waybill:"新しい運送状",roles:"ジョブ管理",new_role:"新しいジョブ",edit_role:"位置を編集",settings:"設定",staffs:"スタッフ",new_staff:"新しいスタッフ",staff:"スタッフ",edit_staff:"スタッフを編集",stations:"駅",new_station:"新しい駅",edit_station:"駅を編集",status_prototypes:"ステータスプロトタイプ",new_status_prototype:"新しいステータスプロトタイプ",status_prototype:"ステータスプロトタイプ",edit_status_prototype:"ステータスプロトタイプの編集",pack:"パック",unpack:"開梱",page_404:"404見つかりました",operate:"操作する",appraisals:"鑑定",edit_appraisal:"評価を編集",new_appraisal:"新しい評価",user_logs:"ユーザーログ",user_log:"ユーザーログ",driver_commission_policies:"ドライバーコミッションポリシー",new_driver_commission_policy:"新しいドライバーコミッションポリシー",edit_driver_commission_policy:"ドライバーコミッションポリシーを編集する",driver_commission_reports:"ドライバーコミッションレポート",new_driver_commission_report:"新ドライバーコミッションレポート",driver_commission_report:"ドライバーコミッションレポート",scan_action_prototypes:"スキャンアクションプロトタイプ",scan_action_prototype:"スキャンアクションプロトタイプ",new_scan_action_prototype:"新しいスキャンアクションプロトタイプ",edit_scan_action_prototype:"スキャンアクションのプロトタイプを編集する",provider_node:"設定",customer_operations:"カスタマーオペレーション",show_customer_operation:"カスタマーオペレーション",new_provider_operation:"新しい操作",provider_distributions:"分布",new_provider_distribution:"新しい配布",edit_provider_distribution:"配布を編集",permission_denied:"アクセス拒否"},links:{menu:{provider_index:"背景ホーム",scan:"スキャン管理",scan_action_prototypes:"スキャンアクション",status_prototypes:"貨況管理",numbers:"追跡番号管理",assets:"アセットマネジメント",stations:"サイト管理",materials:"材料管理",uploader:"インポートの詳細",core_waybills:"運送状の合計管理",staffs:"従業員",roles:"ジョブ管理",users:"従業員の管理",routes:"ルーティングテーブル",processed_files:"ドキュメントレコード",provider_partitions:"番号間隔",station_partitions:"番号間隔",provider_uploader:"アップローダ",station_uploader:"アップローダ",customer_uploader:"アップローダ",permission_groups:"許可グループ",provider_operations:"注文管理",station_operations:"注文管理",import_files:"API Openfile",intelligent:"インテリジェント",operation_managers:"オペレーションマネージャー",user_logs:"ユーザー履歴",commission_policies:"委員会の方針",commission_reports:"コミッションレポート",driver_commission_policies:"派遣の駒を集める委員会の方針",driver_commission_reports:"派遣の駒を集めるコミッションレポート",driver_commissions:"派遣の駒を集めるコミッション記録",provider_node:"会社経営",provider_distributions:"配布設定",provider_customers:"顧客管理",station_customers:"顧客管理"},top_menu:{my_receipts:"私の領収書",print_check_summary:"印刷チェックサマリー",scanner:"スキャンシステム",language:"言語",notice:"お知らせ",no_station:"サイトが選択されていない",overtime_note:"時間のヒント",full_logout:"完全なログオフ",full_logout_help:"設定レコードは完全に消去されます。",logout:"キャンセル"}},theme_names:{staff:"スタンダードスタッフ",driver:"ドライバー",manager:"スーパーバイザー",operator:"オペレーター",exception:"例外アカウント",default:"既定のアカウント"},status_scopes:{operator:"内部貨物況",forwarder:"顧客商品況",public:"公共財況",mark:"マーク",condition:"プロセス制御",system:"システム",unknown:"未知"},validator:{is_required:" 必須フィールドです。",greater_than:" より大きくなければなりません ",if:"もし ",is:" 為 ",then:" だから "},notifications:{help:{this_page_is_out_of_date_please_click_here_to_refresh:"このページのデータは最新ではありませんが、ここをクリックしてください。再編成",please_clicked_initialize_again:"クリックしてくださいスキャンシステムの初期化"},success:{fetch:"成功を収める",update:"更新の成功",create:"ビルドの成功",delete:"削除の成功",verify:"検証の成功",upload:"アップロードの成功",__name:"{name}成功",fetch__name:"た名前成功",update__name:"更新名前成功",create__name:"確立名前成功",delete__name:"削除名前成功",verify__name:"確認名前成功",upload__name:"アップロード名前成功",copy__name:"コピー名前成功"},warning:{are_you_sure_to_delete_it:"削除しても OK?",are_you_sure_to_cancel_it:"キャンセルしても OK?"},error:{find:"クエリに失敗{理由} ",fetch:"障害を取得する{理由} ",update:"更新に失敗{理由} ",create:"ビルドの失敗{理由} ",delete:"削除の失敗{理由} ",verify:"検証に失敗{理由} ",upload:"アップロードに失敗{理由} ",copy:"レプリケーションに失敗{理由} ",__name:"{name}失敗 しました",find__name:"お 問い合わせ名前失敗 しました{理由} ",fetch__name:"た名前失敗 しました{理由} ",update__name:"更新名前失敗 しました{理由} ",create__name:"確立名前失敗 しました{理由} ",delete__name:"削除名前失敗 しました{理由} ",verify__name:"確認名前失敗 しました{理由} ",upload__name:"アップロード名前失敗 しました{理由} ",copy__name:"コピー名前失敗 しました{理由} ",no_data:"データなし",please_handle_errors:"次のエラーを処理してください",exception_error_please_contact_the_system_supplier:"例外エラーは、システムベンダにお問い合わせください",please_check_to_write_in_the_required_fields_mark:"請必須フィールドのチェック(*マーク)あなたは本当に記入してください"}},scanner:{settings:{is_scan_mode:{true:"スキャンモード | スキャン",false:"手動モード | 手動"},is_scan_action_mode:{true:"注文操作モード | 注文品",false:"データモードの表示 | ビュー"},is_batch_mode:{true:"バッチ処理 | バッチ | 警告！ が有効 バッチ操作モードでは、番号はカンマで区切る必要がありますが、もはやリマインダーに必要な情報",false:"バッチ処理なし | 不バッチ"},is_operation_mode:{true:"注文モードの使用 | 順序",false:"注文モードを使用しない | 注文なし"},is_core_waybill_pieces_mode:{true:"以上一單 | 以上一單",false:"ない多くの作品1單 | ない多くの作品1單"},is_update_corewaybill_mode:{true:"運送状の更新 | 運送状の更新",false:"運送状の表示 | 運送状の表示"},is_auto_print_label_mode:{true:"自己可動ラベル | 飾る",false:"非生産ボリュームラベル | 非印刷ラベル"},is_distributed_to_mode:{true:"配布モード | 配布",false:"割り当てられない | 割り当てられない"},is_noty_audio_mode:{true:"キューサウンドモード | キューサウンド",false:"ミュートモード | サイレントサウンド"},is_speech_mode:{true:"音声レポートモード | 声",false:"ミュートボイスメール | 声が出ない"},is_quick_corewaybill_related_columns:{true:"[クイック適用] フィールド | クイック適用",false:"不クイック適用 | 不クイック適用"},is_package_mode:{true:"自動包装 | 包装 | 包装に",false:"パッケージ化されない"},is_unpackage_mode:{true:"自動スプリットパッケージ | スプリットパッケージ | スプリットパッケージ中",false:"パッケージを分割しないでください"},pack_need_source_mode:{short_name:"データの適用",true:"適用",false:"適用しない"},core_waybill_template_mode:{short_name:"表示モード",min_card:"超簡単な運送状ビュー | 極簡",card:"一般運送状検査 | まあまあです",detail:"詳細な運送状検査 | と"}},setting_groups:{LB00:"運送状の開始貨況",LB01:"1.リリース",LB02:"2.配信のポイント",LB06:"3.例外部品",LB07:"3.例外の除外",LB11:"ロック",LB12:"リリースロック",LA00:"運送状の開始貨況",LA01:"1.入庫",LA02:"2.ピット",package:"包装",LA03:"3.送信部分で",LA10:"3.トランスポート",LA09:"3.アウトバウンドコレクショントランジット",LA05:"4.駅に戻る",LA04:"4.装着されている",LA06:"4.例外部品",LA07:"4.例外の除外",LA08:"寄によって返される",LA11:"ロック",LA12:"リリースロック",LA13:"クローズド",LA21:"倉庫に入る",LA22:"棚",LA23:"アウトオブポジション",LA24:"未確認商品",unpackage:"スプリットパッケージ",distributed_to:"配布",pack_house_waybill:"袋の船積み, 袋詰め業務",pack_waybill_goods:"ゆまん, 1票複数個",search:"運送状を確認する",print:"ボリュームラベルの印刷"},menus:{settings:"スキャン設定",setting_group:"セットパッケージ",operation:"順序",package:"包装",core_waybill:"運送 状"},jobs:{job:"ジョブ",clear_jobs:"レコードのクリア",waiting_user_action:"ユーザーの操作を待つ",idle:"アイドル状態で",processing:"プロセスで",success:"成功",failure:"失敗 しました",number:"番号",no_add_status:"まだ新しい況",no_error:"エラーなし",scope:{original_number:"オリジナルの運送状お 問い合わせ",new:"確立新しい運送状"}},package:{packing_material:"包装",package:"包",unpackage:"拆",total__number:"{number}件",detail:"ビュー",hide:"隠す"},upload:{receipt_file:"領収書をアップロードしてください",result:"結果のアップロード"},helps:{select:"選択してください",write:"ご記入ください",scan:"スキャンしてください",quick_required_field_div:"高 速必須フィールドの適用區",current_scan_action_prototype:"現在のステータスバーコード",distributed_result:"配布結果",you_dont_any_operation:"現在、ご注文はありません",write_or_scan_barcode:"数値を入力するか、バーコードをスキャンする",write_related_columns:"必要事項をご記入ください。",write_scan_action_note:"品物を記入してください況メモ",write_number:"番号を入力してください",select_scan_action:"バーコードステータスを選択してください",select_pack_taget_parent:"パッケージの材質を選択してください",select_pack_taget:"パッケージターゲットを選択してください",select_target_layer:"ターゲットレイヤを選択してください",selected_operation:"注文が選択されました",distributed:{please_select:"選択してください",current_station:"現在のサイト",can_use_distributed_to_mode:"配布を有効にする前に"}},alerts:{is_created:"を作成しますか",required:"入力する必要があり",previous:"前のステップ",give_up:"与える",definite:"確かですか",please_write:"ご記入ください",required_field:"必須フィールド",if_have_write:"あなたが1つを持っている場合は、それを埋める",upload_receipt_img:"領収書をアップロードしてください",upload_result:"結果のアップロード",uploading:"アップロードで",please_write_scan_note:"品物を記入してください況メモ"},operations:{total:"合計 {Operations_length} 委託形態、{Sum_core_waybills}商品の一部",contents:"コンテンツの運送状",current_operation_set_to:"現在の注文は",clear_current_operation:"現在の注文が空になっています"},success:{quick_setting:"高速セットアップの成功"},errors:{multiple_numbers_in_batch_mode:"一括操作で複数の番号を入力してください",setting_group_not_found:"このクイックセットパッケージはありません",setting_not_found:"このようなクイック設定はありません",core_waybill_not_found:"番号をチェックしない",failed_to_fetch_core_waybill_statuses:"品物をチェックする況情報の障害",failed_to_instantiate_scan_action_prototype:"スキャン操作に失敗しました",failed_to_update_core_waybill_related_column:"必要な運送状の更新フィールドの失敗",give_up_core_waybill_related_columns:"運送状必要事項を記入する",give_up_scan_action_description:"貨況必要な発言は記入されていない",give_up_create_core_waybill:"未運送状の設定"}},pages:{customer_home:{title:"顧客管理へようこそ"},partials:{page_404:{cant_find_page:"ページが見つかりません"},permission_denied:{you_dont_permission:"アクセス許可がありません"},login_expiration_hint_modal:{idle:"アイドル",content:"システムは、あなたが長い間動いていないことを知っています。{time}の後、自動的にログアウトされます。",i_am_back:"I will be back！"}},login:{customer_management_login:"顧客のログイン",provider_management_login:"バックグラウンドログの管理",station_management_login:"Stationの管理",please_enter_your_account_and_password:"アカウント番号とパスワードを入力してください。",account:"アカウント",password:"パスワード",verification_code:"確認コードを入力してください。",pass_next_timeout_will_dont_warn:"次の時間のチェックを渡すことができます、私はプロンプトが表示されません囉",btns:{auto_input_test_account:"テストアカウントの自動入力",login:"ログイン"},errors:{your_site_has_not_registered_system:"サイトがこのシステムに登録されていません",please_fill_in_the_verification_code:"確認コードを入力してください。",account_or_password_incorrect:"アカウントまたはパスワードが正しくない",verification_code_incorrect:"検証コードエラー",verification_code_expired:"タイムアウト時に検証コードの有効期限が切れる",failure_to_login:"ログインに失敗しました",timeout:"アイドル時間が長すぎる自動ログオフ"}},appraisals:{point:"スコア",reason:"件名",staff_identity:"従業員",registrant_identity:"登録者"},monitor:{menu_title:{all:"すべての",myself:"個人",station:"サイト"},title:{all_pending_operations:"すべての保留中の注文",all_pending_waybills:"すべての滞在運送状の取扱い",pending_operations:"保留中の注文",pending_waybill_in_operations:"保留中の注文運送状の取扱い",pending_waybills:"待運送状の取扱い"},sub_title:{not_completed_operations:"未完成の注文",not_completed_waybills:"完了しません運送状",assigned_to_me_but_not_completed_operations:"配布私のための注文が完了していない処理する",assigned_to_me_but_not_completed_waybill_in_operations:"自分に割り当てられた注文が完了しませんでした運送状",the_unfinished_waybill_that_was_last_my_scanned:"私は最終的に私の手でそれをスキャンしたが、私はそれを完了していない。運送状",assigned_to_stationg_but_not_completed_operations:"に割り当てら <span style='color: green;'>{station_name}</span> 処理済みで完了していない注文",assigned_to_stationg_but_not_completed_waybill_in_operations:"配給 <span style='color: green;'>{station_name}</span> 処理された指図は完了していません運送状"}},assets:{categories:"資産の種類",print_barcode:"バーコードの印刷",have_category:"既存のカテゴリ",clear_value:"この列をクリアする",helps:{no_anything_category:"カテゴリはまだありません",no_anything_assets:"資産はまだありません",write_or_use_category_list:"入力するか、右側のリストを選択します。",please_clicked_upper_left_new_asset_button:"左側の [新しいアセットの追加] ボタンをクリックして、"}},customer_contracts:{additional_information:"追加情報"},customers:{contracts:"契約",normal:"通常",banned:"右に停止",unbanned:"再右",is_banned:"右停止",basic_information:"基本データ",common_sender_information:"頻繁に使用される送信者情報",common_consignee_information:"共通の受取人情報",is_open_use_associated_partition:"私の番号の範囲を使用するために開いているか。",is_open_use_use_yourself_partition:"あなた自身の番号範囲を使用して開いていますか?",helps:{the_password_does_not_match_the_confirmation_password:"パスワードが確認パスワードと一致しません"}},distributions:{activated:"が有効",unactivated:"が有効ではない",add_condition:"条件の追加",add_condition_help:"どのように条件を書くのですか?",add_condition_help_content_1:"1.同じ条件タイプのアイテムがまたは項目の別の条件タイプが行われます。そして比較、例えば: 台北の自治体+自治体の信義地区地区+自治体の中正地区地区+新台北市、市町村+地域の流通条件を満たす市町村の新店地区には5つの条件があり、台北市、信義区、台北市中正区、新備新店区",add_condition_help_content_2:"2.完全な繁体字中国語の名前を記入してください",condition_type:"条件タイプ",content:"コンテンツ",undo:"復元",filter:{direct:"站ドットストレートパイ",intermodal:"トランス輸送"}},driver_commissions:{driver:"ドライバー",no_done:"まだ解決していない",core_waybill_number:"運送状番号"},driver_commission_policies:{activated_switch:"スイッチを有効にする",activated:"有効",pickup:"一般部品",bag:"バッグ",table:{general_pickup:"一般的なピックアップ",general_delivery:"一般納入部品",bag_pick:"袋詰めピックアップ",bag_delivery:"バッグデリバリーパーツ",is_activated:"有効",first_weight:"最初の重量",first_price:"ファーストパール",follow_up_weight:"継続重量",follow_up_price:"続き真珠"}},driver_commission_reports:{total_amount_of_commission:"コミッション総額",print:"印刷",setting:"印刷",print_setting:"印刷設定",detailed_mode:"冗長モード",from:"從",to:"至",status:"状態",no_select_date:"選択されない",start_all:"すべて開始",go_to_report:"レポートに移動",table:{pickup_details:"ピックアップの詳細",dispatch_details:"クリアの作品を送る細",No:"シリアル番号",number:"番号",weight:"重量",date:"日付",commission:"委員 会(元)",total:"合計"},filter:{staff_name:"人事",begin_at:"開始日の計算",end_at:"計算訖日",total_amount_from:"コミッション金額...",total_amount_to:"コミッション金額...",created_at:"生成日"}},nodes:{company_information:"会社情報"},operations:{provider_note_value:"差出人の名前: \n差出人電話番号: \n ",processing:"プロセスで",contract:"契約",schedule:"進行 状況",waybill_amount:"特異",print_receipt:"レシートフォームの印刷",print_coew_waybill_labels:"印ラベルのラベル",print_coew_waybill_checklist:"出荷の概要フォームを印刷",delete_help:"注文を削除すると、下位のバッグにリンクされます。運送 状、サブオーダー...を削除し、",_name_operation_list:"{name}出荷サマリーテーブル",_name_customer_receipt:"{name}顧客受領書フォーム",helps:{please_confirm_sender_and_contract_are_selected:"差出人と契約が選択されていることを確認してください。"},table:{finish:"完了",total:"合計"}},partitions:{automatic_number:"自動フェッチ番号",use_yourself:"占領",statistics:"統計",total_amount:"合計数量",available_quantity:"利用可能数量",if_use_it_yourself_do_not_write:"如あなたの個人的な使用を空白のままにしてください"},uploader:{redo:"やり直し",open_file:"ファイルを開く",operation_list:"出荷サマリーテーブル",upload_operation_list:"出荷サマリーテーブルのアップロード",selected:"が選択されている",contract:"契約",your_actions:"あなたの行動",operation_order:"委託指図",field_data_succeeded:"フィールドチェックに成功しました",checking_waybill_data_ok:"運送状の内容チェック完了",checking_operation_data_ok:"完了した注文内容の入力",upload_detail_completed:"詳細アップロード完了",continue_next_file:"次のドキュメントのアップロードを続行",materialization_operation:"受注の明示",consignment:"チェック",delivery:"配布",total:"合計",total__number:"{number}筆",dimmer:{what_do_you_want_now:"あなたが今したい",please_upload_your_file:"プロフィールをアップロードしてください。",download_sample_file:"サンプルファイルをダウンロードする",clicked_this_card_redo:"このカードをクリックすると再起動します",select_file:"プロファイルの選択"},steps:{title:{operation:"順序",confirm_data:"データの確認",upload_data:"データのアップロード"},description:{operation_content:"この委託の内容を示す",confirm_data_is_correct:"データが正しいことを確認してください",upload_data_to_server:"サーバーへのデータのアップロード"}},file:{name:"Filename",size:"ファイルサイズ",path:"ファイルのダウンロードパス",upload:"ファイルのアップロード",complete:"完了",not_uploaded:"まだアップロードされていない"},column_verification:{required_field:"必須フィールド",unknown_waybill:"不明な運送状"}},scan_action_prototypes:{binding_material:"アイテムのバインド",print_barcodes:"印刷物況バーコード",field_name:"フィールド名",value:"数値"},staffs:{appraisals:"評価",normal:"通常",banned:"右に停止",unbanned:"再右",is_banned:"右停止"},user_logs:{record_object:"レコードオブジェクト",operator:"演算子による",field_name:"フィールド名",value:"数値",yes:"是",no:"否"},core_waybills:{done:"完了",print_filter_result_labels:"検索ボリュームラベルの印刷",export_csv_file:"エクスポートCSV ",export_clearance_csv_file:"クリアランスCSV",export_daily_csv_file:"日レポートのエクスポート",download_daily_csv_file:"日レポートのダウンロード",please_select_partition:"番号範囲を選択してください",back_to_select_partition:"返す 番号範囲の選択",partition_number_from:"開始番号",partition_number_to:"終了番号",again:"再",upload_picture:"画像のアップロード",no_upload_any_picture:"アップロードなしイメージ",system_generation:"システムの生成",have_contained_status:"商品を含むために使用される況",status:{"可使用":"使用することができ","使用中":"使用中","曾經使用過":"これまで使用","可放行":"発売可能","放行中":"リリースで","曾經放行過":"一度解放される。","可點交":"配信することができます。","點交中":"手に。","曾經點交過":"私はそれを持っていた。","可收貨":"品物を受け取ることができる","收貨中":"品物のレシートで","曾經收貨過":"出荷を受け取った後","可進站":"ピット缶","進站中":"ピットで。","曾經進站過":"ピットに一度。","可配送":"出荷可能","配送中":"配布で","曾經配送過":"出荷されている","可回站":"駅に戻る","回站中":"駅に戻る","曾經回站過":"私は私の駅に戻ってきた","可配達":"アップ装備可能","配達中":"で一致する","曾經配達過":"ある時以上に一致する","可中轉":"リレーできる","中轉中":"トランジットで","曾經中轉過":"輸送中だ","可聯運":"組み合わせることができ","聯運中":"インターモーダル","曾經聯運過":"これは、インターモーダルされている。","可異常件":"異常な部分ができます","異常件中":"例外の部分で","曾經異常件過":"ある時異常な部分も","可鎖定":"ロックでき","鎖定中":"でロック","曾經鎖定過":"一度ロック。","可完成":"完了することができ","完成中":"に完成","曾經完成過":"済んだ事だ",USABLE:"のために利用できる",CHECKABLE:"ピット缶",SHIPPABLE:"出荷可能",SHIPPING:"配布で",TRANSFERING:"商品コレクションの輸送中",EXCEPTIONABLE:"異常箇所を設定可能",EXCEPTIONING:"例外部品",SENDER_REGRETABLE:"差出人が返信できない",CHECKING:"駅にいる",TRANSFERABLE:"商品をセットできますトランジット",INTERMODALABLE:"組み合わせることができ",INTERMODALING:"インターモーダル",RELEASABLE:"発売可能",CAN_HAND_OVER:"配信することができます。",LOCKING:"でロック",IS_DONE:"装着されている",system:"システム",condition:"システム",administrator:"管理者",operator:"内部貨物況",forwarder:"顧客",public:"公共",mark:"マーク",no_latest_status:"最新の商品はありません況"},filter:{find__key:"検索{キー}... ",find_number:"運送状番号の検索...",clear:"空",numbers:"番号",waybill_content:"運送状情報",status:"貨況",have_contained:"と一度含まれて",selected_is_used:"ステータスを選択してください",is_used:{true:"使用されている",flase:"使わない"},material:"材料",selected_material:"項目を選択してください",selected_station:"どこ",selected_staff:"誰",selected_status:"貨況",selected_status_scope:"カテゴリ",selected_polarity:"は/じゃない",polarity:{positive:"は",negative:"じゃない"},status_depiction:{now:"今すぐ 運送 状",at_the:"在",in_the:"在",by:"由",handle:"処理",before_by:"で一度",added:"追加した"}}}},toolbox:{back_to_top_button:{back_to_top:"先頭へ戻る"},bulletin_board:{name:"掲示板",message:"メッセージ",no_messages:"メッセージはまだありません!",talk_your_comment:"皆さんの意見を教えてください。"},crud_templates:{new:"新"},core_waybills_label_svg:{labels:{paper_type:"印刷用紙の種類"},btns:{print:"印刷"},helps:{numbers_input:"数 例: 123456789 "},errors:{no_authentication_token:"ポップス パラメータを与えてください Authentication_token ",no_number:"番号を入力してください"}},core_waybill:{parent_core_waybill:"上の運送状",child_core_waybill:"低い運送状",no_any_parent_and_child_waybill:"アッパーなし低い運送状",use_partition:"使用される番号範囲",partition_number_from:"開始番号",partition_number_to:"終了番号",btns:{label:"ボリュームラベルの展開",print:"印刷",update:"更新",switch_style:"トグルスタイル",simple:"簡単",detail:"と"},helps:{source:"データソース",is_deleted:"が削除されています。",tooltip_have_source_core_waybill:"現在の運送状データから数，クリックして編集"},errors:{please_clicked_initialize_again:"クリックしてくださいスキャンシステムの初期化",change_template_error:"バージョンエラーの切り替え",no_number:"番号なし",invalid_loading_image:"無効な読み込み画像",waybill_no_label_class_cant_print:"この運送状は結ばれていないボリュームラベルの種類、標準を生成できません",props_is_can_print_label_unable:"パラメーター Is_can_print_label 有効化なし",no_label_type:"ボリュームラベルの種類が指定されていません",label_type_error:"ボリュームラベルの種類が間違っています",label_paper_type_error:"用紙の種類が間違っている"}},core_waybills:{quick_update_table:"クイック更新テーブル",quick_update:"クイックアップデート",batch_edit:"バッチ修正",no_station:"品なし況",packed_in:"にパッケージ化",deleted:"削除されました",add_table:"フォームに参加"},operation_summary:{print_operation_list:"出荷サマリーテーブルの印刷",table:{sender_signature:"送信者署名",driver_signature:"レシートドライバの署名"}},receipts:{print_receipt:"レシートフォームを印刷する"},stations_modal:{turn_of_GPS:"シャットダウンGPs ",turn_on_GPS:"開くGPs ",turn_on_auto_tracking:"自動決定が有効になっている",modify_current_station:"現在のサイトを変更する",please_select_the_current_station:"まず現在のサイトを選択してください",you_are_not_a_manager_will_modify_station_please_contact_the_manager:"あなたは経営者ではありません, 将来的にサイトを置き換える 管理者に連絡してください",you_do_not_belong_station_will_update_your_data_after_selection:"您現在サイトはありません, 選択が完了したら、ユーザーデータを更新します。",current_station:"現在のサイト",tracking_GPS:"要求GPS ",decisioning:"判断で",cancel_current_station:"現在のサイトをキャンセルする",btns:{track_once:"自動判定(A)",auto_tracking_every_minute:"自動判定(1分あたり)"},errors:{geolocation_is_not_supported_by_this_browser:"現在のブラウザ不アクセスおよび位置決め機能をサポート",your_web_protocol_is_not_HTTPS:"ご利用くださいHTTPSサービスへのアクセス",get_location_failure:"た 位置関数が失敗しました"}},speed_test:{network_quality:"オンライン品質"},my_receipts:{neme:"私の領収書フォーム。",force_current_station:"現在のサイトを強制的に",print:"{page}印刷{note}",customer_receipt:"顧客受領書フォーム"},notifications:{mark_all_read:"すべて開封済みにする",no_new_notifications:"新しいダイナミクスはありません。"}},el:{colorpicker:{confirm:"確認",clear:"空"},daterange_option_shortcut:{today:"本日は",three_days:"最後の3日間",week:"先週です",month:"最後の1ヶ月",three_months:"最後の3ヶ月",six_months:"最後の半年"},datepicker:{now:"今すぐ",today:"本日は",cancel:"キャンセル",clear:"空",confirm:"確認",selectDateTime:"日付時刻の選択",selectDate:"日付の選択",selectTime:"時間の選択",startDate:"開始日",startTime:"開始時刻",endDate:"終了日",endTime:"終了時刻",prevYear:"1年前",nextYear:"1年後",prevMonth:"先月",nextMonth:"来月",year:"年",month1:"1 月",month2:"2 月",month3:"3 月",month4:"4 月",month5:"5 月",month6:"6 月",month7:"7 月",month8:"8 月",month9:"9 月",month10:"10 月",month11:"11 月",month12:"12 月",week:"Moonphases",weeks:{sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},months:{jan:"月",feb:"2月",mar:"3月",apr:"4月",may:"が",jun:"6 月",jul:"7 月",aug:"8 月",sep:"9 月",oct:"10 月",nov:"11 月",dec:"12 月"}},select:{loading:"に負荷",noMatch:"一致するデータがありません",noData:"無データ",placeholder:"選択してください"},cascader:{noMatch:"一致するデータがありません",loading:"に負荷",placeholder:"選択してください"},pagination:{goto:"宛先",pagesize:"項/頁",total:"共 合計 項",pageClassifier:"頁"},messagebox:{title:"ヒント",confirm:"確かですか",cancel:"キャンセル",error:"入力されたデータがルールと一致しません!"},upload:{deleteTip:"按 削除 削除するキー",delete:"削除",preview:"写真を見る",continue:"アップロードの続行"},table:{emptyText:"現在データがありません",confirmFilter:"スクリーニング",resetFilter:"リセット",clearFilter:"すべての",sumText:"合計"},tree:{emptyText:"現在データがありません"},transfer:{noMatch:"一致するデータがありません",noData:"無データ",titles:["List 1","List 2"],filterPlaceholder:"キーワードを入力してください",noCheckedFormat:"{total} 項目",hasCheckedFormat:"{checked}/{total} チェック"}}}}},dc8d:function(e,t,i){"use strict";var n=i("f72b"),a=i.n(n);a.a},dc94:function(e,t,i){},dcbb:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",["native"==e.theme?i("div",[i("input",{attrs:{type:"file",accept:"image/*",capture:"camera"},on:{change:e.upload}})]):"classic"==e.theme?i("div",["default"==e.status?i("div",[i("label",{staticClass:"ui icon basic disabled button"},[i("i",{staticClass:"upload icon"}),e._v("\n                "+e._s(e.button_text)+"\n            ")])]):"uploading"==e.status?i("div",[i("label",{staticClass:"ui icon basic loading button"},[i("i",{staticClass:"upload icon"}),e._v("\n                "+e._s(e.button_text)+"\n            ")])]):"ready"==e.status?i("div",[i("label",{staticClass:"ui icon basic button",attrs:{for:e._uid+"file_uploader"}},[i("i",{staticClass:"upload icon"}),e._v("\n                "+e._s(e.button_text)+"\n            ")]),i("input",{ref:"input_file_field",staticStyle:{display:"none"},attrs:{type:"file",id:e._uid+"file_uploader",accept:"image/*",capture:"camera"},on:{change:e.upload}})]):e._e()]):"compact"==e.theme?i("div",["default"==e.status?i("div",[e._m(0)]):"uploading"==e.status?i("div",[e._m(1)]):"ready"==e.status?i("div",[i("label",{staticClass:"ui icon basic button",attrs:{for:e._uid+"file_uploader"}},[i("i",{staticClass:"upload icon"})]),i("input",{staticStyle:{display:"none"},attrs:{type:"file",id:e._uid+"file_uploader",accept:"image/*",capture:"camera"},on:{change:e.upload}})]):e._e()]):e._e()])},a=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{staticClass:"ui icon basic disabled button"},[i("i",{staticClass:"upload icon"})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{staticClass:"ui icon basic loading button"},[i("i",{staticClass:"upload icon"})])}],r={name:"ToolFileUploaderMain",props:{theme:{type:String,default:"classic"},button_text:{type:String,default:"選擇檔案"},channel:String},data:function(){return{status:"default",file:null,uploaded_file:null}},computed:{},created:function(){},mounted:function(){var e=this;e.$bus.$on(e.channel,function(t,i,n){if("file_uploader"!=t)switch(i){case"show_uploaded_file":e.$bus.$emit(e.channel,"file_uploader","uploaded_file",e.uploaded_file);break;case"open_file_browser":$(e.$refs.input_file_field).click();break}}.bind(this)),e.status="ready"},watch:{},methods:{upload:function(e){var t=this,i=new RestUrl("https://air.formosaas.com/api/v1/:app_id/cloud/:access_token/:identity/bucket/:bucket_identity/upload").parse({app_id:t.$store.state.provider.node.air_service.air_app_id,access_token:t.$store.state.provider.node.air_service.air_access_token,identity:t.$store.state.provider.node.air_service.air_identity,bucket_identity:t.$store.state.provider.node.air_service.air_bucket_identity,air_authorization:t.$store.state.provider.node.air_service.air_authorization},"?authorization="+t.$store.state.provider.node.air_service.air_authorization+"&is_froala=true");if(t.file=e.target.files[0],t.status="uploading",t.$bus.$emit(t.channel,"file_uploader","uploading",t.file.name),null!==t.file&&void 0!==t.file){var n=new FormData;n.append("file",t.file),axios.post(i,n).then(function(e){e.data.link?(t.$bus.$emit(t.channel,"file_uploader","upload complete",decodeURIComponent(e.data.link)),t.uploaded_file=t.file,t.file=null):(console.log(e.data),t.$bus.$emit(t.channel,"file_uploader","upload failed",t.file.name))})["catch"](function(e){t.$bus.$emit(t.channel,"file_uploader","upload failed",t.file.name)}).then(function(){t.status="ready"})}}},components:{}},s=r,o=i("2877"),c=Object(o["a"])(s,n,a,!1,null,"a17d3326",null);t["a"]=c.exports},dcca:function(e,t,i){var n;function a(e){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}(function(){var r,s,o,c,_,l,u,d,p,m,f,v,h,g,b,y,w,$,k,C,x,P,S,N,A,E,q,z,j,R,I,T,O,L,D,B,M,U,F,G,H,Y,K,W,V,X,Q,Z,J,ee=[].slice,te={}.hasOwnProperty,ie=function(e,t){for(var i in t)te.call(t,i)&&(e[i]=t[i]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},ne=[].indexOf||function(e){for(var t=0,i=this.length;t<i;t++)if(t in this&&this[t]===e)return t;return-1};for(x={catchupTime:100,initialRate:.03,minTime:250,ghostTime:100,maxProgressPerFrame:20,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!1,ignoreURLs:[]}},j=function(){var e;return null!=(e="undefined"!==typeof performance&&null!==performance&&"function"===typeof performance.now?performance.now():void 0)?e:+new Date},I=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,C=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==I&&(I=function(e){return setTimeout(e,50)},C=function(e){return clearTimeout(e)}),O=function(e){var t,i;return t=j(),i=function(){var n;return n=j()-t,n>=33?(t=j(),e(n,function(){return I(i)})):setTimeout(i,33-n)},i()},T=function(){var e,t,i;return i=arguments[0],t=arguments[1],e=3<=arguments.length?ee.call(arguments,2):[],"function"===typeof i[t]?i[t].apply(i,e):i[t]},P=function(){var e,t,i,n,r,s,o;for(t=arguments[0],n=2<=arguments.length?ee.call(arguments,1):[],s=0,o=n.length;s<o;s++)if(i=n[s],i)for(e in i)te.call(i,e)&&(r=i[e],null!=t[e]&&"object"===a(t[e])&&null!=r&&"object"===a(r)?P(t[e],r):t[e]=r);return t},w=function(e){var t,i,n,a,r;for(i=t=0,a=0,r=e.length;a<r;a++)n=e[a],i+=Math.abs(n),t++;return i/t},N=function(e,t){var i,n,a;if(null==e&&(e="options"),null==t&&(t=!0),a=document.querySelector("[data-pace-"+e+"]"),a){if(i=a.getAttribute("data-pace-"+e),!t)return i;try{return JSON.parse(i)}catch(r){return n=r,"undefined"!==typeof console&&null!==console?console.error("Error parsing inline pace options",n):void 0}}},u=function(){function e(){}return e.prototype.on=function(e,t,i,n){var a;return null==n&&(n=!1),null==this.bindings&&(this.bindings={}),null==(a=this.bindings)[e]&&(a[e]=[]),this.bindings[e].push({handler:t,ctx:i,once:n})},e.prototype.once=function(e,t,i){return this.on(e,t,i,!0)},e.prototype.off=function(e,t){var i,n,a;if(null!=(null!=(n=this.bindings)?n[e]:void 0)){if(null==t)return delete this.bindings[e];i=0,a=[];while(i<this.bindings[e].length)this.bindings[e][i].handler===t?a.push(this.bindings[e].splice(i,1)):a.push(i++);return a}},e.prototype.trigger=function(){var e,t,i,n,a,r,s,o,c;if(i=arguments[0],e=2<=arguments.length?ee.call(arguments,1):[],null!=(s=this.bindings)?s[i]:void 0){a=0,c=[];while(a<this.bindings[i].length)o=this.bindings[i][a],n=o.handler,t=o.ctx,r=o.once,n.apply(null!=t?t:this,e),r?c.push(this.bindings[i].splice(a,1)):c.push(a++);return c}},e}(),m=window.Pace||{},window.Pace=m,P(m,u.prototype),R=m.options=P({},x,window.paceOptions,N()),Q=["ajax","document","eventLag","elements"],K=0,V=Q.length;K<V;K++)M=Q[K],!0===R[M]&&(R[M]=x[M]);p=function(e){function t(){return Z=t.__super__.constructor.apply(this,arguments),Z}return ie(t,e),t}(Error),s=function(){function e(){this.progress=0}return e.prototype.getElement=function(){var e;if(null==this.el){if(e=document.querySelector(R.target),!e)throw new p;this.el=document.createElement("div"),this.el.className="pace pace-active",document.body.className=document.body.className.replace(/pace-done/g,""),document.body.className+=" pace-running",this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',null!=e.firstChild?e.insertBefore(this.el,e.firstChild):e.appendChild(this.el)}return this.el},e.prototype.finish=function(){var e;return e=this.getElement(),e.className=e.className.replace("pace-active",""),e.className+=" pace-inactive",document.body.className=document.body.className.replace("pace-running",""),document.body.className+=" pace-done"},e.prototype.update=function(e){return this.progress=e,this.render()},e.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(e){p=e}return this.el=void 0},e.prototype.render=function(){var e,t,i,n,a,r,s;if(null==document.querySelector(R.target))return!1;for(e=this.getElement(),n="translate3d("+this.progress+"%, 0, 0)",s=["webkitTransform","msTransform","transform"],a=0,r=s.length;a<r;a++)t=s[a],e.children[0].style[t]=n;return(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(e.children[0].setAttribute("data-progress-text",(0|this.progress)+"%"),this.progress>=100?i="99":(i=this.progress<10?"0":"",i+=0|this.progress),e.children[0].setAttribute("data-progress",""+i)),this.lastRenderedProgress=this.progress},e.prototype.done=function(){return this.progress>=100},e}(),d=function(){function e(){this.bindings={}}return e.prototype.trigger=function(e,t){var i,n,a,r,s;if(null!=this.bindings[e]){for(r=this.bindings[e],s=[],n=0,a=r.length;n<a;n++)i=r[n],s.push(i.call(this,t));return s}},e.prototype.on=function(e,t){var i;return null==(i=this.bindings)[e]&&(i[e]=[]),this.bindings[e].push(t)},e}(),Y=window.XMLHttpRequest,H=window.XDomainRequest,G=window.WebSocket,S=function(e,t){var i,n;for(i in n=[],t.prototype)try{null==e[i]&&"function"!==typeof t[i]?"function"===typeof Object.defineProperty?n.push(Object.defineProperty(e,i,{get:function(){return t.prototype[i]},configurable:!0,enumerable:!0})):n.push(e[i]=t.prototype[i]):n.push(void 0)}catch(a){a}return n},q=[],m.ignore=function(){var e,t,i;return t=arguments[0],e=2<=arguments.length?ee.call(arguments,1):[],q.unshift("ignore"),i=t.apply(null,e),q.shift(),i},m.track=function(){var e,t,i;return t=arguments[0],e=2<=arguments.length?ee.call(arguments,1):[],q.unshift("track"),i=t.apply(null,e),q.shift(),i},B=function(e){var t;if(null==e&&(e="GET"),"track"===q[0])return"force";if(!q.length&&R.ajax){if("socket"===e&&R.ajax.trackWebSockets)return!0;if(t=e.toUpperCase(),ne.call(R.ajax.trackMethods,t)>=0)return!0}return!1},f=function(e){function t(){var e,i=this;t.__super__.constructor.apply(this,arguments),e=function(e){var t;return t=e.open,e.open=function(n,a,r){return B(n)&&i.trigger("request",{type:n,url:a,request:e}),t.apply(e,arguments)}},window.XMLHttpRequest=function(t){var i;return i=new Y(t),e(i),i};try{S(window.XMLHttpRequest,Y)}catch(n){}if(null!=H){window.XDomainRequest=function(){var t;return t=new H,e(t),t};try{S(window.XDomainRequest,H)}catch(n){}}if(null!=G&&R.ajax.trackWebSockets){window.WebSocket=function(e,t){var n;return n=null!=t?new G(e,t):new G(e),B("socket")&&i.trigger("request",{type:"socket",url:e,protocols:t,request:n}),n};try{S(window.WebSocket,G)}catch(n){}}}return ie(t,e),t}(d),W=null,A=function(){return null==W&&(W=new f),W},D=function(e){var t,i,n,a;for(a=R.ajax.ignoreURLs,i=0,n=a.length;i<n;i++)if(t=a[i],"string"===typeof t){if(-1!==e.indexOf(t))return!0}else if(t.test(e))return!0;return!1},A().on("request",function(e){var t,i,n,a,s;if(a=e.type,n=e.request,s=e.url,!D(s))return m.running||!1===R.restartOnRequestAfter&&"force"!==B(a)?void 0:(i=arguments,t=R.restartOnRequestAfter||0,"boolean"===typeof t&&(t=0),setTimeout(function(){var e,t,s,o,c,_;if(e="socket"===a?n.readyState<2:0<(o=n.readyState)&&o<4,e){for(m.restart(),c=m.sources,_=[],t=0,s=c.length;t<s;t++){if(M=c[t],M instanceof r){M.watch.apply(M,i);break}_.push(void 0)}return _}},t))}),r=function(){function e(){var e=this;this.elements=[],A().on("request",function(){return e.watch.apply(e,arguments)})}return e.prototype.watch=function(e){var t,i,n,a;if(n=e.type,t=e.request,a=e.url,!D(a))return i="socket"===n?new g(t):new b(t),this.elements.push(i)},e}(),b=function(){function e(e){var t,i,n,a,r,s=this;if(this.progress=0,null!=window.ProgressEvent)for(null,e.addEventListener("progress",function(e){return e.lengthComputable?s.progress=100*e.loaded/e.total:s.progress=s.progress+(100-s.progress)/2},!1),r=["load","abort","timeout","error"],i=0,n=r.length;i<n;i++)t=r[i],e.addEventListener(t,function(){return s.progress=100},!1);else a=e.onreadystatechange,e.onreadystatechange=function(){var t;return 0===(t=e.readyState)||4===t?s.progress=100:3===e.readyState&&(s.progress=50),"function"===typeof a?a.apply(null,arguments):void 0}}return e}(),g=function(){function e(e){var t,i,n,a,r=this;for(this.progress=0,a=["error","open"],i=0,n=a.length;i<n;i++)t=a[i],e.addEventListener(t,function(){return r.progress=100},!1)}return e}(),c=function(){function e(e){var t,i,n,a;for(null==e&&(e={}),this.elements=[],null==e.selectors&&(e.selectors=[]),a=e.selectors,i=0,n=a.length;i<n;i++)t=a[i],this.elements.push(new _(t))}return e}(),_=function(){function e(e){this.selector=e,this.progress=0,this.check()}return e.prototype.check=function(){var e=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return e.check()},R.elements.checkInterval)},e.prototype.done=function(){return this.progress=100},e}(),o=function(){function e(){var e,t,i=this;this.progress=null!=(t=this.states[document.readyState])?t:100,e=document.onreadystatechange,document.onreadystatechange=function(){return null!=i.states[document.readyState]&&(i.progress=i.states[document.readyState]),"function"===typeof e?e.apply(null,arguments):void 0}}return e.prototype.states={loading:0,interactive:50,complete:100},e}(),l=function(){function e(){var e,t,i,n,a,r=this;this.progress=0,e=0,a=[],n=0,i=j(),t=setInterval(function(){var s;return s=j()-i-50,i=j(),a.push(s),a.length>R.eventLag.sampleCount&&a.shift(),e=w(a),++n>=R.eventLag.minSamples&&e<R.eventLag.lagThreshold?(r.progress=100,clearInterval(t)):r.progress=3/(e+3)*100},50)}return e}(),h=function(){function e(e){this.source=e,this.last=this.sinceLastUpdate=0,this.rate=R.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=T(this.source,"progress"))}return e.prototype.tick=function(e,t){var i;return null==t&&(t=T(this.source,"progress")),t>=100&&(this.done=!0),t===this.last?this.sinceLastUpdate+=e:(this.sinceLastUpdate&&(this.rate=(t-this.last)/this.sinceLastUpdate),this.catchup=(t-this.progress)/R.catchupTime,this.sinceLastUpdate=0,this.last=t),t>this.progress&&(this.progress+=this.catchup*e),i=1-Math.pow(this.progress/100,R.easeFactor),this.progress+=i*this.rate*e,this.progress=Math.min(this.lastProgress+R.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},e}(),U=null,L=null,$=null,F=null,y=null,k=null,m.running=!1,E=function(){if(R.restartOnPushState)return m.restart()},null!=window.history.pushState&&(X=window.history.pushState,window.history.pushState=function(){return E(),X.apply(window.history,arguments)}),null!=window.history.replaceState&&(J=window.history.replaceState,window.history.replaceState=function(){return E(),J.apply(window.history,arguments)}),v={ajax:r,elements:c,document:o,eventLag:l},(z=function(){var e,t,i,n,a,r,o,c;for(m.sources=U=[],r=["ajax","elements","document","eventLag"],t=0,n=r.length;t<n;t++)e=r[t],!1!==R[e]&&U.push(new v[e](R[e]));for(c=null!=(o=R.extraSources)?o:[],i=0,a=c.length;i<a;i++)M=c[i],U.push(new M(R));return m.bar=$=new s,L=[],F=new h})(),m.stop=function(){return m.trigger("stop"),m.running=!1,$.destroy(),k=!0,null!=y&&("function"===typeof C&&C(y),y=null),z()},m.restart=function(){return m.trigger("restart"),m.stop(),m.start()},m.go=function(){var e;return m.running=!0,$.render(),e=j(),k=!1,y=O(function(t,i){var n,a,r,s,o,c,_,l,u,d,p,f,v,g,b;for(100-$.progress,a=d=0,r=!0,c=p=0,v=U.length;p<v;c=++p)for(M=U[c],u=null!=L[c]?L[c]:L[c]=[],o=null!=(b=M.elements)?b:[M],_=f=0,g=o.length;f<g;_=++f)s=o[_],l=null!=u[_]?u[_]:u[_]=new h(s),r&=l.done,l.done||(a++,d+=l.tick(t));return n=d/a,$.update(F.tick(t,n)),$.done()||r||k?($.update(100),m.trigger("done"),setTimeout(function(){return $.finish(),m.running=!1,m.trigger("hide")},Math.max(R.ghostTime,Math.max(R.minTime-(j()-e),0)))):i()})},m.start=function(e){P(R,e),m.running=!0;try{$.render()}catch(t){p=t}return document.querySelector(".pace")?(m.trigger("start"),m.go()):setTimeout(m.start,50)},n=function(){return m}.call(t,i,t,e),void 0===n||(e.exports=n)}).call(this)},dd18:function(e,t,i){"use strict";var n=i("7a61"),a=i.n(n);a.a},de76:function(e){e.exports=[{_comment:"預設檔案，當找不到對應node_services時，吃此檔案",name:"運單起始貨況",i18n_key:"ui.scanner.setting_groups.LA00",barcode:"LA00",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA01",is_scan_action:!0,is_hide:!0,color:"black",settings:[]},{name:"1.收貨",i18n_key:"ui.scanner.setting_groups.LA01",barcode:"LA01",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA01",is_scan_action:!0,is_hide:!1,color:"#3a8df5",settings:["is_batch_mode_false","is_package_mode_false","is_auto_print_label_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"2.進站",i18n_key:"ui.scanner.setting_groups.LA02",barcode:"LA02",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA02",is_scan_action:!0,is_hide:!1,color:"orange",settings:["is_batch_mode_false","is_package_mode_false","is_distributed_to_mode_true","is_unpackage_mode_false","is_scan_action_mode_true","is_auto_print_label_mode_false","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"包裝",i18n_key:"ui.scanner.setting_groups.package",barcode:"package",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"package",is_scan_action:!1,is_hide:!1,color:"green",settings:["is_batch_mode_false","is_auto_print_label_mode_false","is_scan_action_mode_false","is_distributed_to_mode_false","is_package_mode_true","is_unpackage_mode_false","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_min_card"]},{name:"3.派件中",i18n_key:"ui.scanner.setting_groups.LA03",barcode:"LA03",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA03",is_scan_action:!0,is_hide:!1,color:"#9559f4",settings:["is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_true","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"3.聯運",i18n_key:"ui.scanner.setting_groups.LA10",barcode:"LA10",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA10",is_scan_action:!0,is_hide:!1,color:"purple",settings:["is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"3.出站集貨中轉",i18n_key:"ui.scanner.setting_groups.LA09",barcode:"LA09",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA09",is_scan_action:!0,is_hide:!1,color:"violet",settings:["is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"4.回站",i18n_key:"ui.scanner.setting_groups.LA05",barcode:"LA05",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA05",is_scan_action:!0,is_hide:!1,color:"gray",settings:["is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"4.已配達",i18n_key:"ui.scanner.setting_groups.LA04",barcode:"LA04",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA04",is_scan_action:!0,is_hide:!1,color:"green",settings:["is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"4.異常件",i18n_key:"ui.scanner.setting_groups.LA06",barcode:"LA06",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA06",is_scan_action:!0,is_hide:!1,color:"red",settings:["is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"4.異常件排除",i18n_key:"ui.scanner.setting_groups.LA07",barcode:"LA07",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA07",is_scan_action:!0,is_hide:!1,color:"cornflowerblue",settings:["is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"寄件者退運",i18n_key:"ui.scanner.setting_groups.LA08",barcode:"LA08",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA08",is_scan_action:!0,is_hide:!0,color:"teal",settings:["is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"鎖定",i18n_key:"ui.scanner.setting_groups.LA11",barcode:"LA11",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA11",is_scan_action:!0,is_hide:!1,color:"darkred",settings:["is_batch_mode_false","is_auto_print_label_mode_false","is_scan_action_mode_true","is_distributed_to_mode_false","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"解除鎖定",i18n_key:"ui.scanner.setting_groups.LA12",barcode:"LA12",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA12",is_scan_action:!0,is_hide:!1,color:"cornflowerblue",settings:["is_batch_mode_false","is_auto_print_label_mode_false","is_scan_action_mode_true","is_distributed_to_mode_false","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"結案",i18n_key:"ui.scanner.setting_groups.LA13",barcode:"LA13",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA13",is_scan_action:!0,is_hide:!1,color:"#4bba45d9",settings:["is_batch_mode_false","is_scan_action_mode_false","is_package_mode_false","is_unpackage_mode_false","is_distributed_to_mode_false","pack_need_source_mode_false","is_update_corewaybill_mode_false","core_waybill_template_mode_card"]},{name:"拆包",i18n_key:"ui.scanner.setting_groups.unpackage",barcode:"unpackage",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"unpackage",is_scan_action:!1,is_hide:!1,color:"orangered",settings:["is_batch_mode_false","is_auto_print_label_mode_false","is_scan_action_mode_false","is_distributed_to_mode_false","is_package_mode_false","is_unpackage_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_min_card"]},{name:"分撥",i18n_key:"ui.scanner.setting_groups.distributed_to",barcode:"distributed_to",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA09",is_scan_action:!1,is_hide:!1,color:"darkcyan",settings:["is_batch_mode_false","is_auto_print_label_mode_false","is_scan_action_mode_false","is_package_mode_false","is_unpackage_mode_false","is_update_corewaybill_mode_false","is_distributed_to_mode_true","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"查詢運單",i18n_key:"ui.scanner.setting_groups.search",barcode:"search",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"search",is_scan_action:!1,is_hide:!1,color:"limegreen",settings:["is_batch_mode_false","is_scan_action_mode_false","is_package_mode_false","is_unpackage_mode_false","is_distributed_to_mode_false","pack_need_source_mode_false","is_update_corewaybill_mode_false","core_waybill_template_mode_card"]},{name:"袋包運, 裝袋作業",i18n_key:"ui.scanner.setting_groups.pack_house_waybill",barcode:"pack_house_waybill",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"package",is_scan_action:!1,is_hide:!0,color:"green",settings:["is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_true","is_unpackage_mode_false","is_scan_action_mode_false","is_update_corewaybill_mode_false","is_distributed_to_mode_false","core_waybill_template_mode_min_card","pack_need_source_mode_false","pack_p_m_mode_House","pack_m_mode_Waybill"]},{name:"運包子, 一票多件",i18n_key:"ui.scanner.setting_groups.pack_waybill_goods",barcode:"pack_waybill_goods",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"package",is_scan_action:!1,is_hide:!0,color:"limegreen",settings:["is_batch_mode_false","is_scan_action_mode_false","is_package_mode_true","is_unpackage_mode_false","is_distributed_to_mode_false","is_update_corewaybill_mode_false","pack_need_source_mode_true","pack_p_m_mode_Waybill","pack_m_mode_Goods"]}]},df3c:function(e,t,i){"use strict";var n=i("e6d1"),a=i.n(n);a.a},df9c:function(e,t,i){"use strict";var n=i("1b12"),a=i.n(n);a.a},dfc4:function(e,t,i){"use strict";var n=i("e049"),a=i.n(n);a.a},e006:function(e,t,i){},e049:function(e,t,i){},e074:function(e,t,i){},e08b:function(e,t,i){"use strict";var n=i("a0e4"),a=i.n(n);a.a},e091:function(e,t,i){},e0b3:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"standard sidebar"},[i("div",{staticClass:"ui secondary vertical menu",attrs:{"data-step":"1","data-position":"right","data-intro":"<br> 歡迎使用Neuron物流系統 <br> 選擇功能 開始編輯"}},[i("nav",[e.$store.state.initialize_statuses.service_theme?i("router-link",{attrs:{to:{name:"station_index"}}},[i("img",{staticClass:"ui image",attrs:{src:"/images/"+e.service_config.logo_img}})]):i("div",{staticClass:"ui inverted dimmer transition active"},[i("div",{staticClass:"ui tiny text loader"},[e._v("\n                    "+e._s(e.$t("ui.general.initializing"))+"\n                ")])]),i("a",{staticClass:"hamburger hamburger--spin",on:{click:function(t){e.toggle_menu()}}},[e._m(0)])],1),i("div",{staticClass:"nav-menu"},[i("router-link",{staticClass:"item",attrs:{to:{name:"station_operations"}}},[i("i",{staticClass:"icons"},[i("i",{staticClass:"file large icon"}),i("span",[e._v(" "+e._s(e.$t("ui.links.menu.station_operations"))+" ")])])]),i("router-link",{staticClass:"item",attrs:{to:{name:"station_partitions"}}},[i("i",{staticClass:"icons"},[i("i",{staticClass:"tasks large icon"}),i("span",[e._v(" "+e._s(e.$t("ui.links.menu.station_partitions"))+" ")])])]),i("router-link",{staticClass:"item",attrs:{to:{name:"station_customers"}}},[i("i",{staticClass:"icons"},[i("i",{staticClass:"street view large icon"}),i("span",[e._v(" "+e._s(e.$t("ui.links.menu.station_customers"))+" ")])])]),i("router-link",{staticClass:"item",attrs:{to:{name:"station_staffs"}}},[i("i",{staticClass:"icons"},[i("i",{staticClass:"user large icon"}),i("span",[e._v(" "+e._s(e.$t("ui.links.menu.staffs"))+" ")])])]),i("router-link",{staticClass:"item",attrs:{to:{name:"station_uploader"}}},[i("i",{staticClass:"icons"},[i("i",{staticClass:"upload large icon"}),i("span",[e._v(" "+e._s(e.$t("ui.links.menu.uploader"))+" ")])])]),i("router-link",{staticClass:"item",attrs:{to:{name:"station_core_waybills"}}},[i("i",{staticClass:"icons"},[i("i",{staticClass:"archive large icon"}),i("span",[e._v(" "+e._s(e.$t("ui.links.menu.core_waybills"))+" ")])])]),i("router-link",{staticClass:"item",attrs:{to:{name:"station_demo"}}},[i("i",{staticClass:"icons"},[i("i",{staticClass:"heart large icon"}),i("span",[e._v(" 實驗室 ")])])])],1)])])},a=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"hamburger-box"},[i("span",{staticClass:"hamburger-inner"})])}],r={data:function(){return{}},computed:{service_config:function(){return this.$store.state.station.service_config},env:function(){return ENV.NODE_ENV}},watch:{$route:function(e,t){var i=this;767>$(window).width()&&"block"==$(".nav-menu").css("display")&&i.toggle_menu()}},mounted:function(){$(window).resize(function(){var e=$(window).width(),t=$(".nav-menu").css("display");"none"==t&&e>767&&$(".nav-menu").css("display","block")})},methods:{toggle_menu:function(){$("body").toggleClass("overflow"),$(".hamburger").toggleClass("active"),$(".nav-menu").stop().slideToggle(300)}},components:{}},s=r,o=(i("1c2a"),i("2877")),c=Object(o["a"])(s,n,a,!1,null,null,null);t["a"]=c.exports},e0ea:function(e){e.exports={logo_img:"axon_logo.png",footer_imgs:["tw568_logo.png","axon_logo.png","by_express_logo.jpg","t_cat_logo.jpg","hct_logo.png"],scanner_theme:"dark01",menu:[{name:"provider_operations",icon:"file large"},{name:"provider_partitions",icon:"tasks large"},{name:"provider_customers",icon:"street view large"},{name:"scan",icon:"barcode large",items:[{name:"scan_action_prototypes",icon:""},{name:"status_prototypes",icon:""}]},{name:"users",icon:"user large",items:[{name:"staffs",icon:""},{name:"roles",icon:""},{name:"permission_groups",icon:""}]},{name:"stations",icon:"inbox large"},{name:"provider_uploader",icon:"upload large"},{name:"materials",icon:"cube large"},{name:"core_waybills",icon:"archive large"},{name:"provider_node",icon:"setting large"}]}},e128:function(e){e.exports={logo_img:"nucleus_logo.png",footer_imgs:["tw568_logo.png","nucleus_logo.png","by_express_logo.jpg","t_cat_logo.jpg","hct_logo.png"],scanner_theme:"dark01",menu:[{name:"status_prototypes",icon:"barcode large"},{name:"stations",icon:"inbox large"},{name:"provider_partitions",icon:"tasks large"},{name:"provider_customers",icon:"street view large"},{name:"provider_uploader",icon:"upload large"},{name:"assets",icon:"cubes large"},{name:"materials",icon:"cube large"},{name:"core_waybills",icon:"archive large"},{name:"provider_operations",icon:"file large"},{name:"users",icon:"user large",items:[{name:"permission_groups",icon:""},{name:"roles",icon:""},{name:"staffs",icon:""}]},{name:"user_logs",icon:"hourglass end large"}]}},e179:function(e,t,i){"use strict";var n=i("532f"),a=i.n(n);a.a},e1c1:function(e,t,i){},e1f6:function(e,t,i){},e282:function(t,i,n){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui segment",class:{red:e.is_out_of_date,green:!e.is_out_of_date},attrs:{id:"breadcrumb"}},[i("div",{staticClass:"ui breadcrumb"},[i("span",{staticClass:"out_of_date_alert",class:{active:e.is_out_of_date},attrs:{"data-tooltip":e.$t("ui.notifications.help.this_page_is_out_of_date_please_click_here_to_refresh")}},[i("i",{staticClass:"icon refresh pointer",class:{red:e.is_out_of_date},staticStyle:{cursor:"pointer"},on:{clicks:function(t){e.refresh()}}})]),e._v("\n        "+e._s(e.$t("ui.page_titles.current_page"))+"：\n\n        "),i("router-link",{staticClass:"section",attrs:{to:{name:"provider_index"}}},[e._v("\n            "+e._s(e.$t("ui.page_titles.index"))+"\n        ")]),e._l(e.$route.meta.breadcrumb,function(t,n){return i("span",[t?i("i",{staticClass:"right chevron icon divider"}):e._e(),n==e.$route.meta.breadcrumb.length-1?i("span",[i("div",{staticClass:"section"},[e._v("\n                    "+e._s(e.$t("ui.page_titles."+t))+"\n                ")])]):i("span",[i("router-link",{staticClass:"active section",attrs:{to:{name:t}}},[e._v("\n                    "+e._s(e.$t("ui.page_titles."+t))+"\n                ")])],1)])})],2),i("div",{staticClass:"ui right floated"},e._l(e.$route.meta.btns,function(t,n){return i("router-link",{key:t,staticClass:"ui button",class:e.btn_class(t,n),staticStyle:{margin:"-9px 6px"},attrs:{to:{name:t}}},[t.includes("new_")?i("i",{staticClass:"plus icon"}):e._e(),e._v("\n            "+e._s(e.$t("ui.page_titles."+t))+"\n        ")])}))])},r=[],s={data:function(){return{is_out_of_date:!1}},computed:{},mounted:function(){this.detect_out_of_date()},methods:{detect_out_of_date:function(){var e=this;this.$cable.subscriptions.create({channel:"OutOfDateChannel"},{received:function(t){e.$store.state.instance_identity!=t.exclude_instance&&_.findLast(e.$store.state.breadcrumbs,function(e){return e==t.scope})&&(e.is_out_of_date=!0)}})},btn_class:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1?arguments[1]:void 0;try{var n=i<=1&&t.includes("new_")?"positive":"blue";if(n)throw n;switch(i){case 2:throw"orange";default:throw"grey"}}catch(e){return e}return"grey"},refresh:function(){console.log("provider refresh"),this.is_out_of_date=!1,this.$bus["_events"]["init"]?this.$bus.$emit("init"):location.reload()}}},o=s,c=(n("3b1d"),n("b1b4"),n("2877")),l=Object(c["a"])(o,a,r,!1,null,"1508bc43",null);i["a"]=l.exports},e2ba:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui segment",staticStyle:{position:"relative"}},[i("div",{staticClass:"ui horizontal list"},e._l(e.$store.state.provider.service_config.footer_imgs,function(e){return i("div",{staticClass:"item"},[i("img",{staticStyle:{height:"50px"},attrs:{src:"/images/"+e}})])}))])},a=[],r={name:"Advertising"},s=r,o=i("2877"),c=Object(o["a"])(s,n,a,!1,null,"8ec96f18",null);t["a"]=c.exports},e2de:function(e,t,i){"use strict";var n=i("dc94"),a=i.n(n);a.a},e3e1:function(e,t,i){},e3eb:function(e,t,i){},e403:function(e,t,i){},e5e7:function(e,t,i){"use strict";var n=i("e091"),a=i.n(n);a.a},e61a:function(e,t,i){"use strict";var n=i("a64f"),a=i.n(n);a.a},e6b1:function(e,t,i){},e6d1:function(e,t,i){},e745:function(t,i,n){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui longer flip modal scanner"},[i("ScannerMain",{attrs:{is_modal:!0}})],1)},r=[],s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.is_initialized?i("div",{staticClass:"content",class:{is_showed_jobs:e.desc_ordered_jobs.length,"z-depth-3":e.is_modal},style:{color:e.theme.color.font,background:e.theme.background,backgroundSize:e.theme.color.background_img?"cover":""}},[i("div",[i("WebAudio",{attrs:{channel:"provider_scanner_web_audio",allow_overlay_play:!1,show_demo:!1}}),i("Dashboard",{attrs:{is_processing:e.is_processing,current_number:e.current_number,current_scan_action_prototype:e.current_scan_action_prototype}}),e.current_store.is_setting?i("Settings",{attrs:{current_scan_action_prototype:e.current_scan_action_prototype,is_processing:e.is_processing}}):e._e(),i("div",{staticClass:"scrolling content"},[i("CoreWaybill",{attrs:{is_modal_opened:e.is_modal_opened}})],1),e.desc_ordered_jobs.length>=3?i("div",{staticClass:"ui jobs pointer",staticStyle:{position:"absolute",right:"6px",bottom:"106px",color:"red"},on:{click:function(t){e.$store.dispatch("station/scanner_module/clear_job")}}},[e._v("\n            "+e._s(e.$t("ui.scanner.jobs.clear_jobs"))+"\n        ")]):e._e()],1),e.desc_ordered_jobs.length?i("transition-group",{staticClass:"ui list jobs",attrs:{name:"list",tag:"div"}},e._l(e.desc_ordered_jobs,function(t){return i("div",{key:t.id,staticClass:"item"},[i("i",{staticClass:"wait icon",class:{"green check":"Success"==t.status,"red cancel":"Failure"==t.status,"orange hourglass end":"Processing"==t.status,"white wait":"Pending"==t.status},staticStyle:{width:"18px"}}),i("div",{staticClass:"content"},[i("div",{staticClass:"header"},["Pending"==t.status?i("span",{staticStyle:{color:"lightgray"}},[t.is_waiting_user_action?i("span",[e._v("\n                            "+e._s(e.$t("ui.scanner.jobs.waiting_user_action"))+"\n                        ")]):i("span",[e._v("\n                            "+e._s(e.$t("ui.scanner.jobs.idle"))+"\n                        ")])]):"Processing"==t.status?i("span",{staticStyle:{color:"orange"}},[e._v("\n                        "+e._s(e.$t("ui.scanner.jobs.processing"))+"\n                    ")]):"Success"==t.status?i("span",{staticStyle:{color:"green"}},[e._v("\n                        "+e._s(e.$t("ui.scanner.jobs.success"))+"\n                    ")]):"Failure"==t.status?i("span",{staticStyle:{color:"red"}},[e._v("\n                        "+e._s(e.$t("ui.scanner.jobs.failure"))+"\n                    ")]):e._e(),e._v("\n                    "+e._s(e.$t("ui.scanner.jobs.job"))+"#"+e._s(t.id)+"："+e._s(e.$t("ui.scanner.jobs.number"))+" "+e._s(t.number)+"\n\n                    "),"original_number"==t.core_waybill_scope?i("span",[e._v("\n                        ["+e._s(e.$t("ui.scanner.jobs.scope.original_number"))+"]\n                    ")]):e._e(),"new"==t.core_waybill_scope?i("span",[e._v("\n                        ["+e._s(e.$t("ui.scanner.jobs.scope.new"))+"]\n                    ")]):e._e(),"operation"==t.task?i("span",[e._v("（"+e._s(t.scan_action_prototype.name)+"）")]):e._e(),t.is_batch_mode?i("span",[e._v("\n                        ("+e._s(e.$t("ui.scanner.settings.is_scan_action_mode.true"))+")\n                    ")]):e._e(),t.is_waiting_instantiate_scan_action?i("span",[i("i",{staticClass:"icon",class:{"green check":t.current_core_waybill_counter>=t.core_waybill_pieces,"red exclamation triangle":t.current_core_waybill_counter<t.core_waybill_pieces}}),e._v("\n                        "+e._s(t.current_core_waybill_counter)+" /\n                        "+e._s(t.core_waybill_pieces)+"\n                        "),t.current_core_waybill_counter<t.core_waybill_pieces?i("span",[e._v("\n                            ("+e._s(e.$t("ui.scanner.jobs.no_add_status"))+")\n                        ")]):e._e()]):e._e()]),i("div",{staticClass:"description"},e._l(t.errors,function(n){return t.errors.length>0?i("p",[i("i",{staticClass:"icon red exclamation triangle"}),e._v("\n                        "+e._s(n)+"\n                    ")]):i("p",[e._v("\n                        "+e._s(e.$t("ui.scanner.jobs.no_error"))+"\n                    ")])}))])])})):e._e(),e.is_show_related_columns_alert?i("CoreWaybillRelatedColumnsAlert",{attrs:{is_displayed:e.is_show_related_columns_alert,is_modal_opened:e.is_modal_opened}}):e._e(),e.is_show_scan_action_description_alert?i("ScanActionDescriptionAlert",{attrs:{is_displayed:e.is_show_scan_action_description_alert,is_modal_opened:e.is_modal_opened}}):e._e(),e.is_show_create_core_waybill_alert?i("CreateCoreWaybillAlert",{attrs:{is_displayed:e.is_show_create_core_waybill_alert,is_modal_opened:e.is_modal_opened}}):e._e()],1):i("div",{staticClass:"content",class:{"z-depth-3":e.is_modal}},[i("button",{staticClass:"big fluid ui black button",on:{click:function(t){e.init()}}},[e._v("\n        "+e._s(e.$t("ui.notifications.help.please_clicked_initialize_again"))+"\n    ")])])},o=[],c=n("1346"),l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"scanner_settings"}},[e.is_initialized?i("div",[e.is_mobile_width?i("carousel",{ref:"settings_carousel",attrs:{perPage:1,speed:390,minSwipeDistance:120,paginationEnabled:!1,navigateTo:e.current_column_index}},e._l(e.menus,function(t,n){return i("slide",{key:t.component_name},[0!=n?i("NavigationLeft"):e._e(),i(t.component_name,{tag:"component",attrs:{is_inverted:e.is_inverted}}),n+1!=e.menus.length?i("NavigationRight"):e._e()],1)})):i("div",[i("div",{staticClass:"ui top tabular menu"},e._l(e.menus,function(t){return i("div",{staticClass:"item pointer",class:{active:e.current_setting_component==t.component_name},style:{color:e.theme.color.font},on:{click:function(i){e.current_setting_component=t.component_name}}},[e._v("\n                    "+e._s(t.title)+"\n                ")])})),i(e.current_setting_component,{tag:"component",attrs:{is_inverted:e.is_inverted}})],1)],1):e._e()])},u=[],d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{style:{color:e.theme.color.font},attrs:{id:"scanner_setting_details"}},["customer"!=this.$store.state.current_scope?i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui fluid selection dropdown no top border",style:{background:e.theme.background?e.theme.background:"none",color:e.theme.color.font}},[i("div",{staticClass:"text"},[e._v("\n            "+e._s(e.$t("ui.scanner.helps.current_scan_action_prototype"))+"：\n            "),e.current_scan_action_prototype.identity?i("span",[e._v("\n                "+e._s(e.current_scan_action_prototype.name+"("+e.current_scan_action_prototype.barcode+")")+"\n            ")]):i("span",[e._v("\n                "+e._s(e.$t("ui.general.no"))+"\n                "+e._s(e.$t("ui.general.select"))+"\n            ")])]),i("i",{staticClass:"dropdown icon"}),i("div",{staticClass:"menu",style:{background:e.theme.background?e.theme.background:"none"}},e._l(e.scan_action_prototypes,function(t){return i("div",{staticClass:"item",style:{color:e.theme.color.font,background:t.identity==e.current_scan_action_prototype.identity?"rgba(0,0,0,.5)":""},on:{click:function(i){e.$bus.$emit("set_current_scan_action_prototype",t.identity)}}},[e._v("\n                "+e._s(t.name)+"("+e._s(t.barcode)+")\n            ")])}))]):e._e(),i("div",{staticClass:"ui doubling five column grid settings",class:{inverted:e.is_inverted},staticStyle:{"margin-top":"0.1rem","margin-bottom":"0.2rem"}},[e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_scan_action_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_scan_action_mode},on:{click:function(t){e.settings.is_scan_action_mode=!e.settings.is_scan_action_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"icon",class:{barcode:e.settings.is_scan_action_mode,eye:!e.settings.is_scan_action_mode}})]),i("p",[e._v("\n                "+e._s(e.settings.is_scan_action_mode?e.$tc("ui.scanner.settings.is_scan_action_mode.true"):e.$tc("ui.scanner.settings.is_scan_action_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_distributed_to_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_distributed_to_mode},on:{click:function(t){e.settings.is_distributed_to_mode=!e.settings.is_distributed_to_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"external share icon"}),e.settings.is_distributed_to_mode?e._e():i("i",{staticClass:"bottom left corner red dont icon"})]),i("p",[e._v("\n                "+e._s(e.settings.is_distributed_to_mode?e.$tc("ui.scanner.settings.is_distributed_to_mode.true"):e.$tc("ui.scanner.settings.is_distributed_to_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_package_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_package_mode},on:{click:function(t){e.settings.is_package_mode=!e.settings.is_package_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"group object icon"}),e.settings.is_package_mode?e._e():i("i",{staticClass:"bottom left corner red dont icon"})]),i("p",[e._v("\n                "+e._s(e.settings.is_package_mode?e.$tc("ui.scanner.settings.is_package_mode.true"):e.$tc("ui.scanner.settings.is_package_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_unpackage_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_unpackage_mode},on:{click:function(t){e.settings.is_unpackage_mode=!e.settings.is_unpackage_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"ungroup object icon"}),e.settings.is_unpackage_mode?e._e():i("i",{staticClass:"bottom left corner red dont icon"})]),i("p",[e._v("\n                "+e._s(e.settings.is_unpackage_mode?e.$tc("ui.scanner.settings.is_unpackage_mode.true"):e.$tc("ui.scanner.settings.is_unpackage_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_update_corewaybill_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_update_corewaybill_mode},on:{click:function(t){e.settings.is_update_corewaybill_mode=!e.settings.imitate_mode&&!e.settings.is_update_corewaybill_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"edit icon"}),e.settings.is_update_corewaybill_mode?e._e():i("i",{staticClass:"bottom left corner red dont icon"}),e.settings.imitate_mode?i("i",{staticClass:"top left corner red lock icon",staticStyle:{top:"6px",left:"-6px"}}):e._e()]),i("p",[e._v("\n                "+e._s(e.settings.is_update_corewaybill_mode?e.$tc("ui.scanner.settings.is_update_corewaybill_mode.true"):e.$tc("ui.scanner.settings.is_update_corewaybill_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_auto_print_label_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_auto_print_label_mode},on:{click:function(t){e.settings.is_auto_print_label_mode=!e.settings.is_auto_print_label_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"print icon"}),e.settings.is_auto_print_label_mode?e._e():i("i",{staticClass:"bottom left corner red dont icon"})]),i("p",[e._v("\n                "+e._s(e.settings.is_auto_print_label_mode?e.$tc("ui.scanner.settings.is_auto_print_label_mode.true"):e.$tc("ui.scanner.settings.is_auto_print_label_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_scan_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_scan_mode},on:{click:function(t){e.settings.is_scan_mode=!e.settings.is_scan_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"write icon"}),e.settings.is_scan_mode?i("i",{staticClass:"bottom left corner red dont icon"}):e._e()]),i("p",[e._v("\n                "+e._s(e.settings.is_scan_mode?e.$tc("ui.scanner.settings.is_scan_mode.true"):e.$tc("ui.scanner.settings.is_scan_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_noty_audio_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_noty_audio_mode},on:{click:function(t){e.settings.is_noty_audio_mode=!e.settings.is_noty_audio_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"volume up icon"}),e.settings.is_noty_audio_mode?e._e():i("i",{staticClass:"bottom left corner red dont icon"})]),i("p",[e._v("\n                "+e._s(e.settings.is_noty_audio_mode?e.$tc("ui.scanner.settings.is_noty_audio_mode.true"):e.$tc("ui.scanner.settings.is_noty_audio_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_speech_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_speech_mode},on:{click:function(t){e.settings.is_speech_mode=!e.settings.is_speech_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"file audio outline icon"}),e.settings.is_speech_mode?e._e():i("i",{staticClass:"bottom left corner red dont icon"})]),i("p",[e._v("\n                "+e._s(e.settings.is_speech_mode?e.$tc("ui.scanner.settings.is_speech_mode.true"):e.$tc("ui.scanner.settings.is_speech_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_core_waybill_pieces_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_core_waybill_pieces_mode},on:{click:function(t){e.settings.is_core_waybill_pieces_mode=!e.settings.is_core_waybill_pieces_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"cubes icon",staticStyle:{width:"34px"}}),e.settings.is_core_waybill_pieces_mode?e._e():i("i",{staticClass:"bottom left corner red dont icon"})]),i("p",[e._v("\n                "+e._s(e.settings.is_core_waybill_pieces_mode?e.$tc("ui.scanner.settings.is_core_waybill_pieces_mode.true"):e.$tc("ui.scanner.settings.is_core_waybill_pieces_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_quick_corewaybill_related_columns")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_quick_corewaybill_related_columns},on:{click:function(t){e.settings.is_quick_corewaybill_related_columns=!e.settings.is_quick_corewaybill_related_columns}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"paste up icon"}),e.settings.is_quick_corewaybill_related_columns?e._e():i("i",{staticClass:"bottom left corner red dont icon"})]),i("p",[e._v("\n                "+e._s(e.settings.is_quick_corewaybill_related_columns?e.$tc("ui.scanner.settings.is_quick_corewaybill_related_columns.true"):e.$tc("ui.scanner.settings.is_quick_corewaybill_related_columns.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_batch_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:e.settings.is_batch_mode},on:{click:function(t){e.settings.is_batch_mode=!e.settings.is_batch_mode}}},[i("i",{staticClass:"big icons"},[i("i",{staticClass:"copy outline icon"}),e.settings.is_batch_mode?e._e():i("i",{staticClass:"bottom left corner red dont icon"})]),i("p",[e._v("\n                "+e._s(e.settings.is_batch_mode?e.$tc("ui.scanner.settings.is_batch_mode.true"):e.$tc("ui.scanner.settings.is_batch_mode.false"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("core_waybill_template_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:"min_card"==e.settings.core_waybill_template_mode},on:{click:function(t){e.settings.core_waybill_template_mode="min_card"}}},[e._m(0),i("p",[e._v("\n                "+e._s(e.$tc("ui.scanner.settings.core_waybill_template_mode.min_card"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("core_waybill_template_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:"card"==e.settings.core_waybill_template_mode},on:{click:function(t){e.settings.core_waybill_template_mode="card"}}},[e._m(1),i("p",[e._v("\n                "+e._s(e.$tc("ui.scanner.settings.core_waybill_template_mode.card"))+"\n            ")])]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("core_waybill_template_mode")?i("div",{staticClass:"column center aligned pointer setting",class:{active:"detail"==e.settings.core_waybill_template_mode},on:{click:function(t){e.settings.core_waybill_template_mode="detail"}}},[e._m(2),i("p",[e._v("\n                "+e._s(e.$tc("ui.scanner.settings.core_waybill_template_mode.detail"))+"\n            ")])]):e._e()])])},p=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("i",{staticClass:"big icons"},[i("i",{staticClass:"icon minus"})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("i",{staticClass:"big icons"},[i("i",{staticClass:"icon list"})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("i",{staticClass:"big icons"},[i("i",{staticClass:"icon file text"})])}],m={props:{is_inverted:{default:!1,type:Boolean}},data:function(){return{is_setting:!1}},computed:{current_store:function(){return this.$store.state[this.$store.state.current_scope].scanner_module},theme:function(){return this.current_store.config.theme},can_use_settings:function(){return this.current_store.config.settings},scan_action_prototypes:function(){return this.current_store.scan_action_prototypes},current_scan_action_prototype:function(){return this.current_store.current_scan_action_prototype},settings:function(){return this.current_store.settings}},watch:{},mounted:function(){},methods:{},components:{}},f=m,v=(n("cb8b"),n("2877")),h=Object(v["a"])(f,d,p,!1,null,"1e586b46",null),g=h.exports,b=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"scanner_setting_groups"}},[i("div",{staticClass:"ui doubling five column grid setting_groups",staticStyle:{"margin-top":"0.1rem","margin-bottom":"0.2rem",color:"white"}},e._l(e.setting_groups,function(t){return t.is_hide?e._e():i("Group",{key:t.barcode,class:{inverted:e.is_inverted},attrs:{setting_group:t}})}))])},y=[],w=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"column center aligned pointer setting_group"},[i("div",{staticClass:"box",style:{backgroundColor:e.setting_group.color},on:{click:function(t){e.set_settings()}}},[i("img",{staticClass:"sprite",attrs:{src:"/images/barcode_setting_group_icons/"+e.setting_group.icon_file_name+".svg"}}),i("p",{staticClass:"mobile only",style:{fontSize:e.content_font_size+"px"}},[e._v("\n            "+e._s(e.setting_group.name||"-")+"\n        ")]),i("p",{staticClass:"computer only"},[e._v("\n            "+e._s(e.setting_group.name||"-")+"\n        ")])])])},k=[],C={props:{setting_group:Object},data:function(){return{content_font_size:this.calculate_content_font_size()}},computed:{current_store:function(){return this.$store.state[this.$store.state.current_scope].scanner_module}},watch:{},mounted:function(){},methods:{calculate_content_font_size:function(){var e=this,t=e.setting_group.name.length;return t>4?17:""},set_settings:function(){var e=this;e.$bus.$emit("quick_setting_number","@@"+e.setting_group.barcode+"@@",!1,!1)}},components:{}},x=C,P=(n("daa7"),Object(v["a"])(x,w,k,!1,null,"3c69d7ca",null)),S=P.exports,N={components:{Group:S},props:{is_inverted:{default:!1,type:Boolean}},data:function(){return{is_setting:!1}},computed:{current_store:function(){return this.$store.state[this.$store.state.current_scope].scanner_module},setting_groups:function(){return this.current_store.setting_groups}},watch:{},mounted:function(){},methods:{}},A=N,E=(n("44d5"),Object(v["a"])(A,b,y,!1,null,"043b449f",null)),q=E.exports,z=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"scanner_setting_operations"}},[e.operations.length?i("div",[i("h3",[e._v("\n            "+e._s(e.$t("ui.scanner.operations.total",{operations_length:e.operations.length,sum_core_waybills:e.sum_core_waybills}))+"\n        ")])]):e._e(),e._l(e.operations,function(t){return e.operations.length?i("div",{staticClass:"ui segment pointer operation",class:{active:e.current_staff_operation.identity==t.identity},on:{click:function(i){i.preventDefault(),e.set_current_operation(t)}}},[i("h3",{staticStyle:{"margin-bottom":"3px"}},[e._v("\n            "+e._s(t.number)+"\n            "),i("span",{staticClass:"sub_title"},[t.customer?i("span",[e._v("\n                    ["+e._s(t.customer.company_name)+"]\n                ")]):e._e(),i("span",[e._v("\n                    / "+e._s(t.core_waybills.length)+"件\n                ")])])]),i("div",{staticClass:"content",domProps:{innerHTML:e._s(t.provider_note)}}),e.current_staff_operation.identity==t.identity?i("div",{staticClass:"core_waybills"},[i("span",[e._v("\n                "+e._s(e.$t("ui.scanner.operations.contents"))+"：\n                "),e._l(e.sort_operation_core_waybills_numbers,function(t,n){return i("span",[e._v("\n                    "+e._s(t)+"\n                    "),e.sort_operation_core_waybills_numbers.length!=n+1?i("span",[e._v("\n                        /\n                    ")]):e._e()])})],2)]):e._e()]):e._e()}),e.operations.length?e._e():i("div",{staticClass:"ui segment pointer operation"},[i("h3",{style:{color:e.theme.color.font}},[e._v("\n            "+e._s(e.$t("ui.scanner.helps.you_dont_any_operation"))+"\n        ")])]),i("div",{staticClass:"refresh_operations_icon",on:{click:function(t){e.$store.dispatch("provider/fetch_current_staff_operations")}}},[i("i",{staticClass:"icon big refresh pointer"})])],2)},j=[],R={props:{is_inverted:{default:!1,type:Boolean}},data:function(){return{is_setting:!1,core_waybill_identities:[]}},computed:{current_store:function(){return this.$store.state[this.$store.state.current_scope].scanner_module},theme:function(){return this.current_store.config.theme},operations:function(){return this.$store.state.station.current_staff_operations},current_staff_operation:function(){return this.$store.state.station.current_staff_operation},sort_operation_core_waybills_numbers:function(){var e=_.map(this.current_staff_operation.core_waybills,"number")||[];return e.sort().reverse()},sum_core_waybills:function(){return _.sumBy(this.operations,function(e){return e.core_waybills.length})}},watch:{},mounted:function(){},methods:{set_current_operation:function(e){var t=this;e.identity==t.current_staff_operation.identity?(t.$noty.warning(t.$t("ui.scanner.operations.clear_current_operation"),200),t.$store.dispatch("provider/set_current_staff_operation",{})):(t.$noty.success(t.$t("ui.scanner.operations.current_operation_set_to")+" "+e.number,300),t.$store.dispatch("provider/set_current_staff_operation",e))}},components:{}},I=R,T=(n("86fa"),Object(v["a"])(I,z,j,!1,null,"329f6a08",null)),O=T.exports,L=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{style:{color:e.is_inverted?"white":"black",paddingTop:e.top?"0px":"25%",top:e.top?e.top:"0"},attrs:{id:"navigation_left"}},[i("i",{staticClass:"caret left icon"})])},D=[],B={components:{},props:{is_inverted:{default:!0,type:Boolean},top:{default:"",type:String}},data:function(){return{}},mounted:function(){},watch:{},computed:{},methods:{}},M=B,U=(n("b194"),Object(v["a"])(M,L,D,!1,null,"5769535e",null)),F=U.exports,G=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{style:{color:e.is_inverted?"white":"black",paddingTop:e.top?"0px":"25%",top:e.top?e.top:"0"},attrs:{id:"navigation_right"}},[i("i",{staticClass:"caret right icon"})])},H=[],Y={components:{},props:{is_inverted:{default:!0,type:Boolean},top:{default:"",type:String}},data:function(){return{}},mounted:function(){},watch:{},computed:{},methods:{}},K=Y,W=(n("b3c3"),Object(v["a"])(K,G,H,!1,null,"d05e136c",null)),V=W.exports,X=n("0a63");function Q(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function Z(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){Q(r,n,a,s,o,"next",e)}function o(e){Q(r,n,a,s,o,"throw",e)}s(void 0)})}}var J={components:{AllDetails:g,Groups:q,Carousel:X["Carousel"],NavigationRight:V,NavigationLeft:F,Slide:X["Slide"],Operations:O},props:{is_processing:{default:!1,type:Boolean},is_inverted:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1,is_mobile_width:!1,current_column_index:0,current_setting_component:"Groups",menus:[]}},computed:{language:function(){return this.$store.state.language},current_store:function(){return this.$store.state[this.$store.state.current_scope].scanner_module},theme:function(){return this.current_store.config.theme},settings:function(){return this.current_store.settings}},watch:{language:{handler:function(t){try{this.init()}catch(e){console.log(e),this.$noty.error(e)}},deep:!0},"settings.is_scan_action_mode":function(e){var t=this;e?t.$noty.information(t.$tc("ui.scanner.settings.is_scan_action_mode.true")):t.$noty.warning(t.$tc("ui.scanner.settings.is_scan_action_mode.false")),localStorage.setItem("scanner_is_scan_action_mode",e)},"settings.is_distributed_to_mode":function(e){var t=this;e?t.$noty.information(t.$tc("ui.scanner.settings.is_distributed_to_mode.true")):t.$noty.warning(t.$tc("ui.scanner.settings.is_distributed_to_mode.false")),localStorage.setItem("scanner_is_distributed_to_mode",e)},"settings.is_package_mode":function(e){var t=this;e?(t.$noty.information(t.$tc("ui.scanner.settings.is_package_mode.true")),t.settings.is_unpackage_mode=!1):t.$noty.warning(t.$tc("ui.scanner.settings.is_package_mode.false")),localStorage.setItem("scanner_is_package_mode",e)},"settings.is_unpackage_mode":function(e){var t=this;e?(t.$noty.information(t.$tc("ui.scanner.settings.is_unpackage_mode.true")),t.settings.is_package_mode=!1):t.$noty.warning(t.$tc("ui.scanner.settings.is_unpackage_mode.false")),localStorage.setItem("scanner_is_unpackage_mode",e)},"settings.is_operation_mode":function(e){var t=this;e?t.$noty.information(t.$tc("ui.scanner.settings.is_operation_mode.true")):t.$noty.warning(t.$tc("ui.scanner.settings.is_operation_mode.false")),localStorage.setItem("scanner_is_operation_mode",e),t.set_menus()},"settings.is_auto_print_label_mode":function(e){var t=this;e?t.$noty.information(t.$tc("ui.scanner.settings.is_auto_print_label_mode.true")):t.$noty.warning(t.$tc("ui.scanner.settings.is_auto_print_label_mode.false")),localStorage.setItem("scanner_is_auto_print_label_mode",e)},"settings.is_high_performance_mode":function(e){var t=this;e?t.$noty.information(t.$tc("ui.scanner.settings.is_high_performance_mode.true")):t.$noty.warning(t.$tc("ui.scanner.settings.is_high_performance_mode.false")),localStorage.setItem("scanner_is_high_performance_mode",e)},"settings.is_scan_mode":function(e){var t=this;e?t.$noty.information(t.$tc("ui.scanner.settings.is_scan_mode.true")):t.$noty.warning(t.$tc("ui.scanner.settings.is_scan_mode.false")),localStorage.setItem("scanner_is_scan_mode",e)},"settings.is_update_corewaybill_mode":function(e){var t=this;e?t.$noty.information(t.$tc("ui.scanner.settings.is_update_corewaybill_mode.true")):t.$noty.warning(t.$tc("ui.scanner.settings.is_update_corewaybill_mode.false")),localStorage.setItem("scanner_is_update_corewaybill_mode",e)},"settings.is_noty_audio_mode":function(e){var t=this;e?t.$noty.information(t.$tc("ui.scanner.settings.is_noty_audio_mode.true")):t.$noty.warning(t.$tc("ui.scanner.settings.is_noty_audio_mode.false")),localStorage.setItem("scanner_is_noty_audio_mode",e)},"settings.is_speech_mode":function(e){var t=this;e?t.$noty.information(t.$tc("ui.scanner.settings.is_speech_mode.true")):t.$noty.warning(t.$tc("ui.scanner.settings.is_speech_mode.false")),localStorage.setItem("scanner_is_speech_mode",e)},"settings.is_quick_corewaybill_related_columns":function(e){var t=this;e?t.$noty.information(t.$tc("ui.scanner.settings.is_quick_corewaybill_related_columns.true")):t.$noty.warning(t.$tc("ui.scanner.settings.is_quick_corewaybill_related_columns.false")),localStorage.setItem("scanner_is_quick_corewaybill_related_columns",e)},"settings.is_batch_mode":function(e){var t=this;e?t.$noty.warning(t.$tc("ui.scanner.settings.is_batch_mode.true",3),2e3):t.$noty.information(t.$tc("ui.scanner.settings.is_batch_mode.false")),localStorage.setItem("scanner_is_batch_mode",e)},"settings.core_waybill_template_mode":function(e){var t=this,i="";i="min_card"==e?t.$tc("ui.scanner.settings.core_waybill_template_mode.min_card"):i,i="card"==e?t.$tc("ui.scanner.settings.core_waybill_template_mode.card"):i,i="detail"==e?t.$tc("ui.scanner.settings.core_waybill_template_mode.detail"):i,t.$noty.information(i)},is_mobile_width:function(e){var t=this;setTimeout(function(){e&&t.is_initialized&&(t.current_column_index=1)},100)}},mounted:function(){var e=this;e.init()},methods:{init:function(){var e=Z(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,new Promise(function(e){t.menus=[],t.is_initialized=!1,e()});case 4:return e.next=6,t.set_menus();case 6:return e.next=8,t.set_is_mobile_width();case 8:return e.next=10,new Promise(function(e){t.is_initialized=!0,e()});case 10:e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](1),console.log(e.t0);case 15:case"end":return e.stop()}},e,this,[[1,12]])}));function t(){return e.apply(this,arguments)}return t}(),set_menus:function(){var e=this;return e.menus=[{title:e.$t("ui.scanner.menus.settings"),component_name:"AllDetails"},{title:e.$t("ui.scanner.menus.setting_group"),component_name:"Groups"}],e.settings.is_operation_mode&&e.menus.push({title:e.$t("ui.scanner.menus.operation"),component_name:"Operations"}),Promise.resolve()},set_is_mobile_width:function(){var e=this;return e.is_mobile_width=$(window).width()<=767,$(window).resize(function(){var t=$(window).width();e.is_mobile_width=t<=767}),Promise.resolve()}}},ee=J,te=(n("2d85"),Object(v["a"])(ee,l,u,!1,null,"1d0f1ab9",null)),ie=te.exports,ne=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"dashboard"}},[i("div",{staticClass:"ui inverted dimmer",class:{active:e.is_loading}},[i("div",{staticClass:"ui indeterminate text loader"},[e._v("\n            "+e._s(e.$t("ui.general.initializing"))+"\n        ")])]),i("div",{staticClass:"ui form",class:{loading:e.is_processing,inverted:e.is_inverted}},[i("div",{staticClass:"ui fluid right action left icon big input",class:{"inverted transparent":e.is_inverted},style:{borderBottom:"4px "+e.current_setting_group.color+" solid",color:e.theme.color.font}},[i("i",{staticClass:"search icon"}),e.is_input_mode?i("input",{directives:[{name:"model",rawName:"v-model",value:e.input_number,expression:"input_number"}],ref:"search_input",staticClass:"no bottom border",style:{background:"none",color:e.theme.color.font},attrs:{type:"text",id:"search_input",autofocus:"true",autocomplete:"off",placeholder:e.$t("ui.scanner.helps.write_or_scan_barcode")},domProps:{value:e.input_number},on:{blur:function(t){e.input_blurred()},keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.input_submit()},input:function(t){t.target.composing||(e.input_number=t.target.value)}}}):i("div",{attrs:{id:"search_input"},on:{click:function(t){t.preventDefault(),e.input_focused()}}},[e._v("\n                "+e._s(e.current_number||e.$t("ui.scanner.helps.write_or_scan_barcode"))+"\n            ")]),i("div",{staticClass:"ui button no bottom border",class:{inverted:e.is_inverted,current_setting_group:e.current_setting_group},style:{backgroundColor:e.current_setting_group.color},on:{click:function(t){e.toggle_settings()}}},[e.current_setting_group?i("img",{staticClass:"sprite",attrs:{src:"/images/barcode_setting_group_icons/"+e.current_setting_group.icon_file_name+".svg"}}):i("i",{staticClass:"big floating ellipsis vertical icon",staticStyle:{margin:"0"}})])]),i("div",{staticClass:"ui bottom right settings label no top border pointer",class:{inverted:e.is_inverted,show_setting_modes_content:e.is_setting},style:{background:"none",color:e.theme.color.font},on:{click:function(t){e.toggle_settings()}}},[i("div",{staticClass:"settings_content"},[i("span",{staticClass:"setting_modes_content",class:{show_setting_modes_content:e.is_setting}},[e.settings.is_scan_action_mode&&e.current_scan_action_prototype.identity?i("span",[e._v(e._s(e.current_scan_action_prototype.name+"("+e.current_scan_action_prototype.barcode+")")+"、\n                    ")]):i("span",[e.current_setting_group.is_hide?e._e():i("span",[e._v("\n                            "+e._s(e.current_setting_group.name)+" 、\n                        ")])]),e._v("\n\n                    "+e._s(e.settings.is_batch_mode?e.$tc("ui.scanner.settings.is_batch_mode.true")+"、":"")+"\n                    "+e._s(e.settings.is_distributed_to_mode?e.$tc("ui.scanner.settings.is_distributed_to_mode.true",2)+"、":"")+"\n                    "+e._s(e.settings.is_package_mode?e.$tc("ui.scanner.settings.is_package_mode.true",2)+"、":"")+"\n                    "+e._s(e.settings.is_unpackage_mode?e.$tc("ui.scanner.settings.is_unpackage_mode.true",2)+"、":"")+"\n\n                    "),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_auto_print_label_mode")?i("span",[e._v("\n                        "+e._s(e.settings.is_auto_print_label_mode?e.$tc("ui.scanner.settings.is_auto_print_label_mode.true",2):e.$tc("ui.scanner.settings.is_auto_print_label_mode.false",2))+"、\n                    ")]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_scan_mode")?i("span",[e._v("\n                        "+e._s(e.settings.is_scan_mode?e.$tc("ui.scanner.settings.is_scan_mode.true",2):e.$tc("ui.scanner.settings.is_scan_mode.false",2))+"、\n                    ")]):e._e(),e.$store.getters[e.$store.state.current_scope+"/scanner_module/is_can_use_setting"]("is_speech_mode")?i("span",[e._v("\n                        "+e._s(e.settings.is_speech_mode?e.$tc("ui.scanner.settings.is_speech_mode.true",2):e.$tc("ui.scanner.settings.is_speech_mode.false",2))+"、\n                    ")]):e._e(),e._v("\n\n                    "+e._s(e.settings.is_update_corewaybill_mode?e.$tc("ui.scanner.settings.is_update_corewaybill_mode.true",2)+"、":"")+"\n\n                    "),e._v("\n                    "+e._s(e.$t("ui.scanner.settings.core_waybill_template_mode.short_name"))+"：\n                    "+e._s("min_card"==e.settings.core_waybill_template_mode?e.$tc("ui.scanner.settings.core_waybill_template_mode.min_card",2):"")+"\n                    "+e._s("card"==e.settings.core_waybill_template_mode?e.$tc("ui.scanner.settings.core_waybill_template_mode.card",2):"")+"\n                    "+e._s("detail"==e.settings.core_waybill_template_mode?e.$tc("ui.scanner.settings.core_waybill_template_mode.detail",2):"")+"\n                ")])]),i("div",{staticClass:"toggle_is_setting_icon",class:{show_setting_modes_content:e.is_setting}},[i("i",{staticClass:"large icon angle double",class:{up:e.is_setting,down:!e.is_setting},style:{color:e.theme.color.show_setting_icon}})])])])])},ae=[];function re(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function se(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){re(r,n,a,s,o,"next",e)}function o(e){re(r,n,a,s,o,"throw",e)}s(void 0)})}}var oe={props:{is_processing:Boolean,current_scan_action_prototype:Object,current_number:String,is_inverted:{default:!1,type:Boolean}},data:function(){return{input_number:"",is_input_mode:!1,is_loading:!1}},mounted:function(){},watch:{},computed:{current_store:function(){return this.$store.state[this.$store.state.current_scope].scanner_module},theme:function(){return this.current_store.config.theme},settings:function(){return this.current_store.settings},is_setting:function(){return this.current_store.is_setting},current_setting_group:function(){return this.current_store.current_setting_group}},methods:{input_focused:function(){var e=se(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(e){t.is_input_mode=!0,e()});case 3:return e.next=5,new Promise(function(e){t.input_number=t.current_number,e()});case 5:return e.next=7,new Promise(function(e){t.$nextTick(function(){$("#search_input").focus(),t.$refs.search_input.focus()}),e()});case 7:return e.next=9,t.$bus.$emit("set_input_mode",!0);case 9:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),input_blurred:function(){var e=se(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,t.$bus.$emit("set_current_number",t.input_number);case 3:return e.next=5,new Promise(function(e){t.is_input_mode=!1,t.input_number="",e()});case 5:return e.next=7,t.$bus.$emit("set_input_mode",!1);case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),input_submit:function(){var e=se(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,t.input_blurred();case 4:return e.next=6,t.$bus.$emit("enqueue");case 6:e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log(e.t0);case 11:case"end":return e.stop()}},e,this,[[1,8]])}));function t(){return e.apply(this,arguments)}return t}(),toggle_settings:function(){var e=this;e.$parent.toggle_settings_div()}},components:{}},ce=oe,_e=(n("71fc"),Object(v["a"])(ce,ne,ae,!1,null,"4ff39a10",null)),le=_e.exports,ue=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.is_initialized?i("div",{attrs:{id:"core_waybill"}},[e.settings.is_package_mode||e.settings.is_unpackage_mode?i("div",[e.is_mobile_width?i("carousel",{attrs:{perPage:1,speed:390,minSwipeDistance:120,paginationEnabled:!1}},[i("slide",[i("Package",{attrs:{is_inverted:e.is_inverted}}),i("NavigationRight",{attrs:{top:"18px"}})],1),i("slide",[i("NavigationLeft",{attrs:{top:"18px"}}),i("General",{attrs:{is_inverted:e.is_inverted}})],1)],1):i("div",[i("div",{staticClass:"ui top tabular menu"},e._l(e.top_menus,function(t){return i("div",{staticClass:"item pointer",class:{active:e.current_setting_component==t.component_name},style:{color:e.theme.color.font},on:{click:function(i){e.current_setting_component=t.component_name}}},[e._v("\n                    "+e._s(t.title)+"\n                ")])})),i(e.current_setting_component,{tag:"component",attrs:{is_inverted:e.is_inverted}})],1)],1):i("div",[i("General",{attrs:{is_inverted:e.is_inverted}})],1)]):e._e()},de=[],pe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"package_core_waybill"}},[i("div",{staticClass:"ui divider"}),e.settings.is_package_mode||e.is_initialized?i("div",{staticClass:"current_pack"},[i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui top pointing dropdown button",staticStyle:{"margin-right":"0"},on:{change:function(t){e.$forceUpdate()}}},[e._l(e.materials,function(t){return e.current_pack_taget_parent_material.identity==t.identity?i("div",{staticClass:"text"},[e._v("\n                "+e._s(e.current_pack_taget_parent_material.name)+"\n            ")]):e._e()}),e.current_pack_taget_parent_material.name?e._e():i("div",{staticClass:"text"},[e._v("\n                "+e._s(e.$t("ui.general.please_select"))+"\n                "+e._s(e.$t("ui.scanner.package.packing_material"))+"\n\n            ")]),i("div",{staticClass:"menu"},e._l(e.materials,function(t){return i("div",{staticClass:"item",class:{active:t.identity==e.current_pack_taget_parent_material.identity},on:{click:function(i){e.current_store.current_pack_taget_parent_material_identity=t.identity}}},[e._v("\n                    "+e._s(t.name)+"\n                ")])}))],2),i("span",{staticStyle:{"font-size":"20px","vertical-align":"sub"}},[e._v("\n            "+e._s(e.$t("ui.scanner.package.package"))+"\n        ")]),i("div",{directives:[{name:"dropdown",rawName:"v-dropdown"}],staticClass:"ui top pointing dropdown button",on:{change:function(t){e.$forceUpdate()}}},[e._l(e.materials,function(t){return e.current_pack_taget_material.identity==t.identity?i("div",{staticClass:"text"},[e._v("\n                "+e._s(e.current_pack_taget_material.name)+"\n            ")]):e._e()}),e.current_pack_taget_material.name?e._e():i("div",{staticClass:"text"},[e._v("\n                "+e._s(e.$t("ui.scanner.helps.select_pack_taget"))+"\n            ")]),i("div",{staticClass:"menu"},e._l(e.materials,function(t){return i("div",{staticClass:"item",class:{active:t.identity==e.current_pack_taget_material.identity},on:{click:function(i){e.current_store.current_pack_taget_material_identity=t.identity}}},[e._v("\n                    "+e._s(t.name)+"\n                ")])}))],2),i("div",{staticClass:"ui checkbox",staticStyle:{"vertical-align":"middle"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.settings.pack_need_source_mode,expression:"settings.pack_need_source_mode"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.settings.pack_need_source_mode)?e._i(e.settings.pack_need_source_mode,null)>-1:e.settings.pack_need_source_mode},on:{change:function(t){var i=e.settings.pack_need_source_mode,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&e.$set(e.settings,"pack_need_source_mode",i.concat([r])):s>-1&&e.$set(e.settings,"pack_need_source_mode",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.settings,"pack_need_source_mode",a)}}}),i("label",{staticClass:"pointer",class:{active:e.settings.pack_need_source_mode},on:{click:function(t){e.current_store.settings.pack_need_source_mode=!e.current_store.settings.pack_need_source_mode}}},[e._v("\n                "+e._s(e.$tc("ui.scanner.settings.pack_need_source_mode.short_name"))+"\n            ")])])]):e._e(),e.package_message.content?i("div",{staticClass:"package_message",class:[e.package_message.status]},[e._v("\n        "+e._s(e.package_message.content)+"\n    ")]):e._e(),i("h2",{staticStyle:{margin:"0"}},[e._v("\n        "+e._s(e.current_package.parent_core_waybill.number||e.package_no_number_content)+"\n        "),e.current_package.parent_core_waybill.material?i("span",{staticClass:"material_name"},[e._v("\n            ["+e._s(e.current_package.parent_core_waybill.material.name)+"]\n        ")]):e._e()]),e.current_package.core_waybills.length?i("div",{staticClass:"goods"},[e._l(e.current_package.core_waybills,function(t){return i("h3",[e._v("\n            "+e._s(t.number)+"\n            "),t.material?i("span",{staticClass:"material_name"},[e._v("\n                ["+e._s(t.material.name)+"]\n            ")]):e._e()])}),i("div",{staticClass:"fluid ui button no border",on:{click:function(t){e.submit_package()}}},[e._v("\n            "+e._s(e.$t("ui.general.submit"))+"\n        ")])],2):e._e(),e.desc_ordered_package_response_history.length?i("div",{staticClass:"ui list package_response_history"},e._l(e.desc_ordered_package_response_history,function(e){return i("PackageHistoryItem",{key:e.id,staticClass:"item",attrs:{package_response:e}})})):e._e()])},me=[],fe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"package_history_item"},[i("span",[e._v("\n        "+e._s(e.package_response.is_setting_is_package_mode?e.$t("ui.scanner.package.package"):e.$t("ui.scanner.package.unpackage"))+"\n    ")]),"success"==e.package_response.status?i("span",{staticStyle:{color:"green"}},[e._v("\n        "+e._s(e.$t("success"))+"\n    ")]):e._e(),"failure"==e.package_response.status?i("span",{staticStyle:{color:"red"}},[e._v("\n        "+e._s(e.$t("ui.general.failure"))+"\n    ")]):e._e(),e._v("\n\n    "+e._s(e.package_response.parent_core_waybill.number)+"\n    ["+e._s(e.package_response.parent_core_waybill.material.name)+"]\n    "),e.package_response.is_setting_is_package_mode?i("span",[e._v("\n        "+e._s(e.$t("ui.scanner.package.total__number",{number:e.package_response.parent_core_waybill.child_core_waybills.length}))+"\n    ")]):e._e(),e.package_response.is_setting_is_package_mode?i("span",{staticClass:"pointer",staticStyle:{"font-size":"small","font-weight":"bold"},on:{click:function(t){e.is_show_detail=!e.is_show_detail}}},[e._v("\n        ["+e._s(e.is_show_detail?e.$t("ui.scanner.package.hide"):e.$t("ui.scanner.package.detail"))+"]\n    ")]):e._e(),e.is_show_detail?i("div",{staticClass:"current_package_response"},[e.package_response.parent_core_waybill.child_core_waybills.length?i("div",{staticClass:"goods",staticStyle:{padding:"6px"}},e._l(e.package_response.parent_core_waybill.child_core_waybills,function(t){return i("span",[e._v("\n                "+e._s(t.number)+"\n                "),t.material?i("span",{staticClass:"material_name"},[e._v("\n                    ["+e._s(t.material.name)+"]\n                ")]):e._e(),e._v("\n                /\n            ")])})):e._e()]):e._e()])},ve=[],he={components:{},props:{package_response:{default:{},type:Object}},data:function(){return{is_show_detail:!1}},mounted:function(){},watch:{},computed:{},methods:{}},ge=he,be=(n("68f8"),Object(v["a"])(ge,fe,ve,!1,null,"544dba61",null)),ye=be.exports;function we(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function $e(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){we(r,n,a,s,o,"next",e)}function o(e){we(r,n,a,s,o,"throw",e)}s(void 0)})}}var ke={components:{PackageHistoryItem:ye},props:{is_inverted:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1,package_no_number_content:this.$t("ui.scanner.helps.select_target_layer")}},mounted:function(){var e=this;e.init()},watch:{"settings.pack_need_source_mode":function(e){var t=this;t.fetch_and_set_local_storage("pack_need_source_mode",e)},"settings.pack_p_m_mode":function(e){var t=this;t.fetch_and_set_local_storage("pack_p_m_mode",e),t.init()},"settings.pack_m_mode":function(e){var t=this;t.fetch_and_set_local_storage("pack_m_mode",e),t.init()},current_pack_taget_parent_material:function(e){var t=this;e.class_name!=t.settings.pack_p_m_mode&&t.clear_current_pack(),t.settings.pack_p_m_mode=e.class_name},current_pack_taget_material:function(e){var t=this;t.settings.pack_m_mode=e.class_name}},computed:{current_store:function(){return this.$store.state.station.scanner_module},settings:function(){return this.current_store.settings},current_pack_taget_parent_material:function(){return this.$store.getters["provider/scanner_module/current_pack_taget_parent_material"]},current_pack_taget_material:function(){return this.$store.getters["provider/scanner_module/current_pack_taget_material"]},materials:function(){return this.current_store.materials},current_package:{cache:!1,get:function(){return this.current_store["package"]}},package_message:function(){return this.current_store.package_message},desc_ordered_package_response_history:function(){return _.orderBy(this.current_store.package_response_history,"id","desc")}},methods:{init:function(){var e=$e(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,t.is_initialized=!1,e.next=4,t.set_pack_material();case 4:return e.next=6,t.set_package_no_number_content();case 6:return e.next=8,new Promise(function(e){t.is_initialized=!0});case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),set_pack_material:function(){var e=this;if(e.settings.pack_p_m_mode){var t=_.find(e.materials,function(t){var i=new RegExp(e.settings.pack_p_m_mode,"i");return t.class_name.match(i)});e.current_store.current_pack_taget_parent_material_identity=t.identity?t.identity:""}if(e.settings.pack_m_mode){t=_.find(e.materials,function(t){var i=new RegExp(e.settings.pack_m_mode,"i");return t.class_name.match(i)});e.current_store.current_pack_taget_material_identity=t.identity?t.identity:""}return Promise.resolve()},set_package_no_number_content:function(){var e=this;try{if(!e.current_pack_taget_parent_material.name)throw e.$t("ui.scanner.helps.select_pack_taget_parent");if(!e.current_pack_taget_material.name)throw e.$t("ui.scanner.helps.select_pack_taget");throw e.$t("ui.scanner.helps.scan")+" "+e.current_pack_taget_parent_material.name}catch(t){e.package_no_number_content=t}},fetch_and_set_local_storage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i="scanner_"+e,n=localStorage.getItem(i);return!1===t&&localStorage.setItem(i,t),null==n||""==n||""!=t?(localStorage.setItem(i,t),t):localStorage.getItem(i)},submit_package:function(){var e=$e(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,t.$store.dispatch("provider/scanner_module/submit_package");case 3:return e.next=5,t.clear_current_pack();case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),clear_current_pack:function(){var e=this;return e.current_store["package"]={parent_core_waybill:{},core_waybill_identities:[],core_waybills:[],source_core_waybill_identity:null},Promise.resolve()}}},Ce=ke,xe=(n("4e88"),Object(v["a"])(Ce,pe,me,!1,null,"45d1275c",null)),Pe=xe.exports,Se=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"content_core_waybill"}},[e.current_core_waybill_need_related_columns.length&&e.settings.is_quick_corewaybill_related_columns&&e.current_setting_group.is_scan_action?i("QuickRelatedColumns",{attrs:{is_inverted:e.is_inverted}}):e._e(),i("div",{staticClass:"ui divider"}),e.current_staff_operation.number||e.settings.is_distributed_to_mode||e.settings.is_unpackage_mode||e.settings.is_package_mode?i("h3",{staticClass:"center aligned",staticStyle:{margin:"0 auto","padding-bottom":"6px"}},[e.settings.is_distributed_to_mode&&!e.$store.getters["provider/current_station"].identity?i("span",[i("i",{staticClass:"exclamation triangle red icon"}),e._v("\n                "+e._s(e.$t("ui.scanner.helps.distributed.please_select"))+"\n                "),i("span",{staticClass:"pointer",staticStyle:{color:"red"},on:{click:function(t){e.$bus.$emit("toggle_station_modal","show")}}},[e._v("\n                    "+e._s(e.$t("ui.scanner.helps.distributed.current_station"))+"\n                ")]),e._v("\n                ，"+e._s(e.$t("ui.scanner.helps.distributed.can_use_distributed_to_mode"))+"\n                "),i("br")]):e._e(),e.settings.is_package_mode?i("span",[e._v("\n            "+e._s(e.$tc("ui.scanner.settings.is_package_mode.true",3))+"\n        ")]):e._e(),e.settings.is_unpackage_mode?i("span",[e._v("\n            "+e._s(e.$tc("ui.scanner.settings.is_unpackage_mode.true",3))+"\n        ")]):e._e(),e.current_staff_operation.number?i("span",[e.settings.is_package_mode||e.settings.is_unpackage_mode?i("span",[e._v("\n                、\n            ")]):e._e(),e._v("\n            "+e._s(e.$t("ui.scanner.helps.selected_operation"))+"：\n            "+e._s(e.current_staff_operation.number)+"\n            "),e.current_staff_operation.provider_note?i("span",[e._v("\n                、"+e._s(e.current_staff_operation.provider_note)+"\n            ")]):e._e()]):e._e()]):e._e(),i("div",{staticClass:"ui stackable centered grid"},[i("div",{staticClass:"wide column"},[i("DistributedResponse",{attrs:{"v-if":e.settings.is_distributed_to_mode,is_inverted:e.is_inverted}}),i("SingleCoreWaybill",{attrs:{current_core_waybill:e.current_core_waybill,is_inverted:e.is_inverted,settings:e.settings,card_half_style:!0,file_uploader:!0,fetch_core_waybill_statuses:!0,related_columns:e.current_scan_action_prototype.related_columns,current_scan_action_prototype:e.current_scan_action_prototype}})],1)])],1)},Ne=[],Ae=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.current_core_waybill.identity&&"new"!=e.current_store.current_job.core_waybill_scope?i("div",[i("CoreWaybill",{staticStyle:{margin:"0px"},attrs:{core_waybill:e.current_core_waybill,template:e.tool_core_waybill_settings.template,scope:e.$store.state.current_scope,is_inverted:e.is_inverted,is_in_scanner_modal:!0,is_show_change_template_btns:!0,is_auto_print:e.tool_core_waybill_settings.is_auto_print,is_can_print_label:e.tool_core_waybill_settings.is_print_label,is_can_update:e.tool_core_waybill_settings.is_update_corewaybill,can_update_field_names:"LA04"==e.current_setting_group.barcode?["receipt_file_url"]:[],cant_update_field_names:e.tool_core_waybill_settings.cant_update_field_names,card:{is_half_style:!0,is_simple_form:!1,is_vertical:e.is_vertical,is_show_note:!0},detail:{is_show_blood_related:!0,is_show_receipt_file:!0,is_show_partition:!0,is_show_statuses:!0}}})],1):i("div")},Ee=[],qe=n("41a7");function ze(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function je(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){ze(r,n,a,s,o,"next",e)}function o(e){ze(r,n,a,s,o,"throw",e)}s(void 0)})}}var Re={components:{CoreWaybill:qe["a"]},props:{current_core_waybill:Object,current_scan_action_prototype:Object,is_inverted:{default:!1,type:Boolean},fetch_core_waybill_statuses:{default:!1,type:Boolean},card_button_color:{default:"",type:String},card_button_content:{default:"",type:String},card_button_channel:{default:"",type:String},file_uploader:{default:!1,type:Boolean},focus_field:{default:"",type:String},related_columns:{default:function(){return[]},type:Array}},computed:{current_store:function(){return this.$store.state[this.$store.state.current_scope].scanner_module},core_waybills:function(){return this.current_store.core_waybills},settings:function(){return this.current_store.settings},current_setting_group:function(){return this.current_store.current_setting_group}},data:function(){return{is_initialized:!1,is_vertical:!1,tool_core_waybill_settings:{cant_update_field_names:[],is_update_corewaybill:!1,is_print_label:!1,is_auto_print:!1,template:"card"},core_waybill_template_mode:"",core_waybill_statuses:[],empty_core_waybill:{number:"請輸入號碼"},tool_core_waybill_active_button:{content:"",channel:""}}},mounted:function(){var e=this;this.init(),e.is_vertical=$(window).width()<=767,$(window).resize(function(){var t=$(window).width();e.is_vertical=t<=767})},watch:{"settings.core_waybill_template_mode":function(e){var t=this;t.tool_core_waybill_settings.template="LA02"==t.current_setting_group.barcode?"waybill":e,t.tool_core_waybill_settings.is_auto_print=!1},current_core_waybill:function(){this.init()}},methods:{init:function(){var e=je(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,t.is_initialized=!1,e.next=4,t.set_tool_core_waybill_settings();case 4:return e.next=6,new Promise(function(e){t.is_initialized=!0});case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),set_tool_core_waybill_settings:function(){var e=this;return e.tool_core_waybill_settings.is_update_corewaybill=e.settings.is_update_corewaybill_mode,e.tool_core_waybill_settings.is_auto_print=e.settings.is_auto_print_label_mode,e.tool_core_waybill_settings.template=e.$store.getters[this.$store.state.current_scope+"/scanner_module/current_core_waybill_need_related_columns"].length?"card":e.settings.core_waybill_template_mode,"LA02"==e.current_setting_group.barcode?(e.tool_core_waybill_settings.template="waybill",e.tool_core_waybill_settings.is_print_label=!0):(e.tool_core_waybill_settings.template=e.settings.core_waybill_template_mode,e.tool_core_waybill_settings.is_print_label=e.settings.is_auto_print_label_mode),e.tool_core_waybill_settings.is_auto_print=!e.$store.getters[this.$store.state.current_scope+"/scanner_module/current_core_waybill_need_related_columns"].length&&e.tool_core_waybill_settings.is_auto_print,Promise.resolve()}}},Ie=Re,Te=(n("51ea"),Object(v["a"])(Ie,Ae,Ee,!1,null,"5d148e00",null)),Oe=Te.exports,Le=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"quick_core_waybill_related_columns"}},[i("div",{staticClass:"ui divider",staticStyle:{"margin-top":"3px"}}),i("div",{staticClass:"ui form",class:{inverted:e.is_inverted}},[i("h3",{staticStyle:{margin:"0"}},[e._v("\n            "+e._s(e.$t("ui.scanner.helps.quick_required_field_div"))+"\n        ")]),e._l(e.current_scan_action_prototype_related_columns,function(t){return i("div",{staticClass:"field half",on:{click:function(t){e.is_edit_fields=!0}}},[e.is_edit_fields?i("label",{staticStyle:{"font-size":"14px"}},[e._v("\n                "+e._s(e.$t("models.attributes.core_waybills."+t.name))+"\n                ")]):e._e(),e.is_edit_fields?i("input",{directives:[{name:"model",rawName:"v-model",value:e.quick_core_waybill_related_columns[t.name],expression:"quick_core_waybill_related_columns[related_column.name]"}],class:{is_required:t.is_required},attrs:{type:"text",tabindex:"-1",autocomplete:"off",placeholder:t.is_required?e.$t("ui.scanner.alerts.required_field"):e.$t("ui.scanner.alerts.if_have_write")},domProps:{value:e.quick_core_waybill_related_columns[t.name]},on:{focus:function(t){e.current_store.is_keydown=!1},blur:function(t){e.current_store.is_keydown=!0},input:function(i){i.target.composing||e.$set(e.quick_core_waybill_related_columns,t.name,i.target.value)}}}):e._e(),e.is_edit_fields?e._e():i("label",{staticStyle:{"font-size":"14px"}},[e._v("\n                "+e._s(e.$t("models.attributes.core_waybills."+t.name))+"\n                "),t.is_required?i("span",{staticStyle:{color:"red"}},[e._v("\n                    *\n                ")]):e._e(),e._v("\n                ： "+e._s(e.quick_core_waybill_related_columns[t.name]||"無填寫")+"\n            ")])])})],2),i("div",{staticClass:"toggle_is_edit_fields pointer",on:{click:function(t){e.is_edit_fields=!e.is_edit_fields}}},[i("i",{staticClass:"circular orange icon",class:{"inverted angle double up":e.is_edit_fields,"large angle double down":!e.is_edit_fields}})]),i("div",{staticClass:"clear"})])},De=[],Be={components:{},props:{is_inverted:{default:!1,type:Boolean}},data:function(){return{is_edit_fields:!0}},computed:{current_store:function(){return this.$store.state.station.scanner_module},settings:function(){return this.current_store.settings},current_scan_action_prototype_related_columns:function(){return this.$store.getters["provider/scanner_module/current_scan_action_prototype_related_columns"]},quick_core_waybill_related_columns:function(){return this.current_store.quick_core_waybill_related_columns}},watch:{},mounted:function(){},methods:{}},Me=Be,Ue=(n("c55f"),Object(v["a"])(Me,Le,De,!1,null,"8e9089b0",null)),Fe=Ue.exports,Ge=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"distributed_response"}},[e.distributed_to.message?i("div",{staticClass:"distributed_to_message",style:{borderColor:e.border_color()}},[i("h3",[e._v("\n            "+e._s(e.$t("ui.scanner.helps.distributed_result"))+"：\n            "+e._s(e.distributed_to.message)+"\n        ")])]):e._e()])},He=[],Ye={components:{},props:{is_inverted:{default:!1,type:Boolean}},data:function(){return{}},computed:{current_store:function(){return this.$store.state.station.scanner_module},settings:function(){return this.current_store.settings},distributed_to:function(){return this.current_store.distributed_to}},watch:{},mounted:function(){},methods:{border_color:function(){var e=this;if("success"!=e.distributed_to.status)return"red";switch(e.distributed_to.type){case"direct":return"green";case"transfer":return"green";case"intermodal":return"green";default:return"green"}}}},Ke=Ye,We=(n("4a93"),Object(v["a"])(Ke,Ge,He,!1,null,"3b6104f8",null)),Ve=We.exports;function Xe(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function Qe(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){Xe(r,n,a,s,o,"next",e)}function o(e){Xe(r,n,a,s,o,"throw",e)}s(void 0)})}}var Ze={components:{SingleCoreWaybill:Oe,QuickRelatedColumns:Fe,DistributedResponse:Ve},props:{core_waybill:Object,is_inverted:{default:!1,type:Boolean}},data:function(){return{is_processing:!0}},mounted:function(){this.init()},watch:{},computed:{current_staff_operation:function(){return this.$store.state.station.current_staff_operation},current_store:function(){return this.$store.state[this.$store.state.current_scope].scanner_module},settings:function(){return this.current_store.settings},current_core_waybill:{cache:!1,get:function(){return this.current_store.current_core_waybill}},core_waybills:function(){return this.current_store.core_waybills},current_scan_action_prototype:function(){return this.current_store.current_scan_action_prototype},current_setting_group:function(){return this.current_store.current_setting_group},current_core_waybill_need_related_columns:function(){return this.$store.getters["provider/scanner_module/current_core_waybill_need_related_columns"]}},methods:{init:function(){var e=Qe(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,t.is_processing=!0,t.stack_error_number=[],e.next=5,new Promise(function(e){t.is_processing=!1});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},Je=Ze,et=(n("6d03"),Object(v["a"])(Je,Se,Ne,!1,null,"7007ee00",null)),tt=et.exports;function it(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function nt(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){it(r,n,a,s,o,"next",e)}function o(e){it(r,n,a,s,o,"throw",e)}s(void 0)})}}var at={components:{Package:Pe,General:tt,NavigationLeft:F,NavigationRight:V,Carousel:X["Carousel"],Slide:X["Slide"]},props:{is_modal_opened:{default:!1,type:Boolean},is_inverted:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1,is_mobile_width:!1,current_setting_component:"Package",top_menus:[{title:this.$t("ui.scanner.menus.package"),component_name:"Package"},{title:this.$t("ui.scanner.menus.core_waybill"),component_name:"General"}],update_core_waybills_eventbus_name:"update_core_waybills_in_scanner"}},mounted:function(){var e=this;$(window).resize(function(){var t=$(window).width();e.is_mobile_width=t<=767}),e.init()},watch:{is_modal_opened:function(e){e&&this.$forceUpdate()}},computed:{current_store:function(){return this.$store.state[this.$store.state.current_scope].scanner_module},theme:function(){return this.current_store.config.theme},settings:function(){return this.current_store.settings},current_core_waybill:{cache:!1,get:function(){return this.current_store.current_core_waybill}},core_waybills:function(){return this.current_store.core_waybills}},methods:{init:function(){var e=nt(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,t.is_initialized=!1,e.next=4,t.set_is_mobile_width();case 4:return e.next=6,new Promise(function(e){t.is_initialized=!0});case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),set_is_mobile_width:function(){var e=this;return e.is_mobile_width=$(window).width()<=767,""}}},rt=at,st=(n("835c"),Object(v["a"])(rt,ue,de,!1,null,"0bc3e4fe",null)),ot=st.exports,ct=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"create_core_waybill_alert"}},[e.is_initialized?i("div",{staticClass:"ui segment z-depth-2",style:{background:e.theme.background,color:e.theme.color.font}},[i("h3",[e._v("\n            "+e._s(e.$t("ui.scanner.alerts.is_created"))+"\n            "),i("span",[e._v("\n                "+e._s(e.current_store.current_core_waybill.number)+"\n            ")]),e.current_store.current_core_waybill.material?i("span",{staticStyle:{"font-size":"small"}},[i("span",{staticClass:"title_number"},[e._v("\n                    ["+e._s(e.current_store.current_core_waybill.material.name)+"]\n                ")])]):e._e()]),e.create_core_waybill_error?i("div",{staticClass:"ui message error"},[e._v("\n            "+e._s(e.create_core_waybill_error)+"\n        ")]):e._e(),i("div",{staticClass:"right aligned",staticStyle:{"padding-top":"12px"}},[i("button",{staticClass:"ui inverted red button",on:{click:function(t){e.give_up_create_core_waybill()}}},[e._v("\n                "+e._s(e.$t("ui.scanner.alerts.give_up"))+"\n            ")]),i("button",{staticClass:"ui inverted blue button",on:{click:function(t){e.define_create_core_waybill()}}},[e._v("\n                "+e._s(e.$t("ui.scanner.alerts.definite"))+"\n            ")])])]):e._e()])},_t=[],lt=n("3c2e"),ut=n.n(lt);function dt(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function pt(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){dt(r,n,a,s,o,"next",e)}function o(e){dt(r,n,a,s,o,"throw",e)}s(void 0)})}}var mt={components:{},props:{is_inverted:{default:!1,type:Boolean},is_modal_opened:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1,is_enter_keyboard_to_finish_action:!1,create_core_waybill_error:""}},computed:{current_store:function(){return this.$store.state.station.scanner_module},theme:function(){return this.current_store.config.theme},current_core_waybill:function(){return this.current_store.current_core_waybill}},watch:{},deleted:function(){var e=this;e.is_enter_keyboard_to_finish_action=!1},mounted:function(){var e=this;e.is_enter_keyboard_to_finish_action=!0,$(window).bind("keydown",e.window_keydown),e.toggle_scanner_is_keydown(!1),e.init()},methods:{window_keydown:function(e){var t=this;if(t.is_enter_keyboard_to_finish_action){var i=new ut.a(e);13!=i.key_code||this.current_store.is_keydown||t.define_create_core_waybill()}},init:function(){var e=pt(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,new Promise(function(e){t.current_column_order=0,t.is_initialized=!0,e()});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](1),console.log(e.t0);case 9:case"end":return e.stop()}},e,this,[[1,6]])}));function t(){return e.apply(this,arguments)}return t}(),toggle_scanner_is_keydown:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;t.current_store.is_keydown=e},give_up_create_core_waybill:function(){var e=this;e.toggle_scanner_is_keydown(!0),e.$parent.alert_failure(),e.$noty.warning("未建立運單",1200)},define_create_core_waybill:function(){var e=pt(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,t.create_core_waybill();case 3:if(""!=t.create_core_waybill_error){e.next=8;break}return e.next=6,t.$parent.alert_success();case 6:return e.next=8,t.toggle_scanner_is_keydown(!0);case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),create_core_waybill:function(){var e=this,t=new RestUrl(e.$store.state.station.routes.api_v1_provider_core_waybills_create).parse({});return e.current_core_waybill["is_used"]=!0,e.current_core_waybill["material_identity"]=e.current_core_waybill.material.identity,e.current_core_waybill["partition_identity"]=e.current_core_waybill.partition.identity,axios.post(t,e.current_core_waybill,{headers:{Authorization:localStorage.getItem("authentication_token")}}).then(function(t){if("success"!=t.data.status)return e.$noty.error(e.$t("ui.notifications.error.create__name",{name:e.$t("models.core_waybills")})),e.create_core_waybill_error=t.data.errors,Promise.reject(t.data.errors);e.$noty.success(e.$t("ui.notifications.success.create__name",{name:e.$t("models.core_waybills")}))})}}},ft=mt,vt=(n("600e"),Object(v["a"])(ft,ct,_t,!1,null,"3a5f11b7",null)),ht=vt.exports,gt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{},[i("div",{attrs:{id:"scan_action_description_alert"}},[e.is_initialized&&e.current_scan_action_prototype.description_options?i("div",{staticClass:"ui segment z-depth-2",style:{background:e.theme.background,color:e.theme.color.font,top:e.current_scan_action_prototype.description_options.length>=7?"10%":"20%"}},[i("p",{staticStyle:{"font-size":"16px"}},[e._v("\n                "+e._s(e.$t("ui.scanner.alerts.please_write_scan_note"))+"\n                "),i("span",{staticStyle:{color:"red"}},[e._v("\n                    ["+e._s(e.$t("ui.scanner.alerts.required"))+"]\n                ")])]),i("div",{staticClass:"description_options"},e._l(e.current_scan_action_prototype.description_options,function(t,n){return i("div",{staticClass:"ui inverted button",class:{fluid:e.is_mobile_width,red:n%7==0,orange:n%7==1,violet:n%7==2,white:n%7==3,purple:n%7==4,pink:n%7==5,active:e.current_store.scan_action_description==t},on:{click:function(i){e.current_store.scan_action_description=t}}},[e._v("\n                    "+e._s(t)+"\n                ")])})),i("div",{staticClass:"right aligned",staticStyle:{"padding-top":"12px"}},[i("button",{staticClass:"ui inverted red button",on:{click:function(t){e.give_up_scan_action_description()}}},[e._v("\n                    "+e._s(e.$t("ui.scanner.alerts.give_up"))+"\n                ")]),i("button",{staticClass:"ui inverted blue button",on:{click:function(t){e.finish_scan_action_description()}}},[e._v("\n                    "+e._s(e.$t("ui.scanner.alerts.definite"))+"\n                ")])])]):e._e()])])},bt=[],yt=n("dcbb");function wt(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function $t(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){wt(r,n,a,s,o,"next",e)}function o(e){wt(r,n,a,s,o,"throw",e)}s(void 0)})}}var kt={components:{FileUploader:yt["a"]},props:{is_inverted:{default:!1,type:Boolean},is_modal_opened:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1,is_mobile_width:!1,is_enter_keyboard_to_finish_action:!1,current_column:{},current_column_order:0,file_uploader:{status:"",message:""},core_waybill_receipt_file_url_eventbus:""}},computed:{current_store:function(){return this.$store.state.station.scanner_module},theme:function(){return this.current_store.config.theme},settings:function(){return this.current_store.settings},scan_action_description:function(){return this.current_store.scan_action_description},current_scan_action_prototype:function(){return this.current_store.current_scan_action_prototype},array_description_options:function(){if(!this.current_store.current_scan_action_prototype.description_options)return[]}},watch:{is_modal_opened:function(e){e&&(this.toggle_scanner_is_keydown(!1),this.init())},current_core_waybill_need_related_columns:function(){this.init()}},deleted:function(){var e=this;e.is_enter_keyboard_to_finish_action=!1},mounted:function(){var e=this;e.is_mobile_width=$(window).width()<=767,$(window).resize(function(){var t=$(window).width();e.is_mobile_width=t<=767}),e.is_enter_keyboard_to_finish_action=!0,$(window).bind("keydown",e.window_keydown),e.toggle_scanner_is_keydown(!1),e.init()},methods:{window_keydown:function(e){var t=this;if(t.is_enter_keyboard_to_finish_action){var i=new ut.a(e);13!=i.key_code||this.current_store.is_keydown||t.finish_scan_action_description()}},toggle_scanner_is_keydown:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;t.current_store.is_keydown=e},init:function(){var e=$t(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,t.focus_input();case 4:return e.next=6,new Promise(function(e){t.current_column_order=0,t.is_initialized=!0,e()});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log(e.t0);case 11:case"end":return e.stop()}},e,this,[[1,8]])}));function t(){return e.apply(this,arguments)}return t}(),focus_input:function(){return $(document).ready(function(){$("#alert_input").focus()}),Promise.resolve()},give_up_scan_action_description:function(){var e=this,t=e.$t("ui.scanner.errors.give_up_scan_action_description");e.toggle_scanner_is_keydown(!0),e.$parent.alert_failure(t),e.$noty.error(t,1200)},finish_scan_action_description:function(){var e=$t(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,e.prev=1,t.scan_action_description){e.next=4;break}throw t.$t("ui.scanner.helps.write_scan_action_note");case 4:t.toggle_scanner_is_keydown(!0),t.$parent.alert_success(),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),t.$noty.error(e.t0,1200);case 11:case"end":return e.stop()}},e,this,[[1,8]])}));function t(){return e.apply(this,arguments)}return t}()}},Ct=kt,xt=(n("1a91"),Object(v["a"])(Ct,gt,bt,!1,null,"7f69061c",null)),Pt=xt.exports,St=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"core_waybill_related_columns_alert"},on:{click:function(t){e.set_focus_input_name(e.current_core_waybill_need_related_columns[e.current_column_index].name)}}},[e.is_modal_opened?i("carousel",{ref:"columns_carousel",attrs:{perPage:1,speed:390,minSwipeDistance:120,paginationEnabled:!1,navigateTo:e.current_column_index},on:{pageChange:e.page_change}},e._l(e.current_core_waybill_need_related_columns,function(t,n){return i("slide",{key:t.identity},[i("div",{staticClass:"ui segment",style:{background:e.theme.background,color:e.theme.color.font}},[i("p",{staticStyle:{"font-size":"16px"}},[e._v("\n                    "+e._s(e.$t("ui.scanner.alerts.please_write"))+"：\n                    "+e._s(e.$t("models.attributes.core_waybills."+t.name))+"\n                    "),t.is_required?i("span",{staticStyle:{color:"red"}},[e._v("\n                        ["+e._s(e.$t("ui.scanner.alerts.required"))+"]\n                    ")]):e._e()]),t.input_method?"tel_input"==t.input_method.component?i("div",[i("InputTel",{attrs:{related_column:t,focus_input_name:e.current_store.alert_core_waybill_related_columns_focus_input_name}})],1):"file_uploader"==t.input_method.component?i("div",[i("FileUploader",{attrs:{related_column:t,focus_input_name:e.current_store.alert_core_waybill_related_columns_focus_input_name}})],1):e._e():i("div",[i("InputText",{attrs:{related_column:t,focus_input_name:e.current_store.alert_core_waybill_related_columns_focus_input_name}})],1),i("div",{staticClass:"ui grid decision_buttons"},[i("div",{staticClass:"six wide column"},[n?i("div",{staticClass:"left aligned"},[i("button",{staticClass:"ui inverted button",on:{click:function(t){e.previous_core_waybill_related_columns()}}},[e._v("\n                                "+e._s(e.$t("ui.scanner.alerts.previous"))+"\n                            ")])]):e._e()]),i("div",{staticClass:"ten wide column"},[i("div",{staticClass:"right aligned"},[i("button",{staticClass:"ui inverted red button",on:{click:function(t){e.give_up_core_waybill_related_columns()}}},[e._v("\n                                "+e._s(e.$t("ui.scanner.alerts.give_up"))+"\n                            ")]),i("button",{staticClass:"ui inverted blue button",on:{click:function(t){e.next_actions_core_waybill_related()}}},[e._v("\n                                "+e._s(e.$t("ui.scanner.alerts.definite"))+"\n                            ")])])])])])])})):e._e()],1)},Nt=[],At=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.is_initialized?i("div",[i("span",[e._v("\n            "+e._s(e.$t("ui.scanner.upload.receipt_file"))+"：\n        ")]),i("FileUploader",{staticClass:"file_uploader_tool",attrs:{channel:e.core_waybill_receipt_file_url_eventbus}}),e.file_uploader.message?i("h3",{staticClass:"file_uploader_message"},[e._v("\n            "+e._s(e.$t("ui.scanner.upload.result"))+"：\n            "),i("span",{class:e.file_uploader.status},[e._v("\n                "+e._s(e.file_uploader.message)+"\n            ")])]):e._e()],1):e._e()])},Et=[];function qt(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function zt(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){qt(r,n,a,s,o,"next",e)}function o(e){qt(r,n,a,s,o,"throw",e)}s(void 0)})}}var jt={components:{FileUploader:yt["a"]},props:{related_column:{default:{},input_type:Object},focus_input_name:{default:"",input_type:String},is_inverted:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1,current_column_order:0,file_uploader:{status:"",message:""},core_waybill_receipt_file_url_eventbus:""}},computed:{current_store:function(){return this.$store.state.station.scanner_module},actions_core_waybill_related_columns:function(){return this.current_store.actions_core_waybill_related_columns}},watch:{},mounted:function(){var e=this;e.init()},methods:{init:function(){var e=zt(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,t.set_core_waybill_receipt_file_url();case 4:return e.next=6,new Promise(function(e){t.current_column_order=0,t.is_initialized=!0,e()});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log(e.t0);case 11:case"end":return e.stop()}},e,this,[[1,8]])}));function t(){return e.apply(this,arguments)}return t}(),set_core_waybill_receipt_file_url:function(){var e=this;e.core_waybill_receipt_file_url_eventbus="core_waybill_receipt_file_url_"+e.current_store.current_core_waybill.number,e.$bus.$off(e.core_waybill_receipt_file_url_eventbus),e.$bus.$on(e.core_waybill_receipt_file_url_eventbus,function(t,i,n){switch(i){case"uploaded_file":e.file_uploader.status="await",e.file_uploader.message=e.$t("ui.general.uploading");break;case"uploading":console.log("uploading"),e.file_uploader.status="await",e.file_uploader.message=e.$t("ui.general.uploading");break;case"upload complete":e.actions_core_waybill_related_columns[e.related_column.name]=n,e.file_uploader.status="success",e.file_uploader.message=e.$t("ui.notifications.success.update"),e.$bus.$emit("scanner_next_actions_core_waybill_related");break;case"upload failed":console.log("file_uploader failed"),e.file_uploader.status="failure",e.file_uploader.message=e.$t("ui.notifications.error.update");break}}.bind(this))}}},Rt=jt,It=(n("8cbc"),Object(v["a"])(Rt,At,Et,!1,null,"eafb8796",null)),Tt=It.exports,Ot=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.is_initialized?i("div",{staticClass:"ui fluid input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.actions_core_waybill_related_columns[e.related_column.name],expression:"actions_core_waybill_related_columns[related_column.name]"}],ref:e.related_column.name,attrs:{type:"text",placeholder:e.related_column.is_required?e.$t("ui.scanner.alerts.required_field"):e.$t("ui.scanner.alerts.if_have_write")},domProps:{value:e.actions_core_waybill_related_columns[e.related_column.name]},on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$bus.$emit("scanner_next_actions_core_waybill_related")},input:function(t){t.target.composing||e.$set(e.actions_core_waybill_related_columns,e.related_column.name,t.target.value)}}})]):e._e()])},Lt=[];function Dt(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function Bt(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){Dt(r,n,a,s,o,"next",e)}function o(e){Dt(r,n,a,s,o,"throw",e)}s(void 0)})}}var Mt={components:{},props:{related_column:{default:{},input_type:Object},focus_input_name:{default:"",input_type:String},is_inverted:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.station.scanner_module},actions_core_waybill_related_columns:function(){return this.current_store.actions_core_waybill_related_columns}},watch:{related_column:function(){this.init()},focus_input_name:{handler:function(e,t){this.focus_input()},deep:!0}},mounted:function(){var e=this;e.init()},methods:{init:function(){var e=Bt(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,new Promise(function(e){t.is_initialized=!0,e()});case 4:return e.next=6,t.focus_input();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log(e.t0);case 11:case"end":return e.stop()}},e,this,[[1,8]])}));function t(){return e.apply(this,arguments)}return t}(),focus_input:function(){var t=this;try{if(!t.focus_input_name)throw"no focus_input_name";if(!t.related_column.name)throw"no related_column.name";t.focus_input_name===t.related_column.name?setTimeout(function(){t.$refs[t.related_column.name].focus()},300):this.$refs[t.related_column.name].blur()}catch(e){console.log(e)}return Promise.resolve()}}},Ut=Mt,Ft=(n("877c"),Object(v["a"])(Ut,Ot,Lt,!1,null,"d7fae1b8",null)),Gt=Ft.exports,Ht=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.is_initialized?i("div",{staticClass:"ui fluid input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.actions_core_waybill_related_columns[e.related_column.name],expression:"actions_core_waybill_related_columns[related_column.name]"}],ref:e.related_column.name,attrs:{type:"tel",placeholder:e.related_column.is_required?e.$t("ui.scanner.alerts.required_field"):e.$t("ui.scanner.alerts.if_have_write")},domProps:{value:e.actions_core_waybill_related_columns[e.related_column.name]},on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$bus.$emit("scanner_next_actions_core_waybill_related")},input:function(t){t.target.composing||e.$set(e.actions_core_waybill_related_columns,e.related_column.name,t.target.value)}}})]):e._e()])},Yt=[];function Kt(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function Wt(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){Kt(r,n,a,s,o,"next",e)}function o(e){Kt(r,n,a,s,o,"throw",e)}s(void 0)})}}var Vt={components:{},props:{related_column:{default:{},input_type:Object},focus_input_name:{default:"",input_type:String},is_inverted:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1}},computed:{current_store:function(){return this.$store.state.station.scanner_module},actions_core_waybill_related_columns:function(){return this.current_store.actions_core_waybill_related_columns}},watch:{related_column:function(){this.init()},focus_input_name:{handler:function(e,t){this.focus_input()},deep:!0}},mounted:function(){var e=this;e.init()},methods:{init:function(){var e=Wt(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,new Promise(function(e){t.is_initialized=!0,e()});case 4:return e.next=6,t.focus_input();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log(e.t0);case 11:case"end":return e.stop()}},e,this,[[1,8]])}));function t(){return e.apply(this,arguments)}return t}(),focus_input:function(){var t=this;try{if(!t.focus_input_name)throw"no focus_input_name";if(!t.related_column.name)throw"no related_column.name";t.focus_input_name===t.related_column.name?setTimeout(function(){t.$refs[t.related_column.name].focus()},300):t.$refs[t.related_column.name].blur()}catch(e){console.log(e)}return Promise.resolve()}}},Xt=Vt,Qt=(n("28bb"),Object(v["a"])(Xt,Ht,Yt,!1,null,"dbf246a2",null)),Zt=Qt.exports;function Jt(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function ei(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){Jt(r,n,a,s,o,"next",e)}function o(e){Jt(r,n,a,s,o,"throw",e)}s(void 0)})}}var ti={components:{FileUploader:Tt,InputText:Gt,InputTel:Zt,Carousel:X["Carousel"],Slide:X["Slide"]},props:{is_inverted:{default:!1,type:Boolean},is_modal_opened:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1,current_column:{},current_column_index:0}},computed:{current_store:function(){return this.$store.state.station.scanner_module},theme:function(){return this.current_store.config.theme},settings:function(){return this.current_store.settings},current_core_waybill:function(){return this.current_store.current_core_waybill},actions_core_waybill_related_columns:function(){return this.current_store.actions_core_waybill_related_columns},current_core_waybill_need_related_columns:function(){return this.$store.getters["station/scanner_module/current_core_waybill_need_related_columns"]},alert_core_waybill_related_columns_focus_input_name:function(){return this.current_store.alert_core_waybill_related_columns_focus_input_name}},watch:{is_modal_opened:function(e){e&&(this.toggle_scanner_is_keydown(!1),this.init())},current_core_waybill_need_related_columns:function(){this.init()}},mounted:function(){var e=this;e.$bus.$off("scanner_next_actions_core_waybill_related"),e.$bus.$on("scanner_next_actions_core_waybill_related",function(){e.next_actions_core_waybill_related()}.bind(this)),e.toggle_scanner_is_keydown(!1),e.init()},methods:{page_change:function(e){var t=this;t.current_column_index=e,t.current_core_waybill_need_related_columns[t.current_column_index]?t.set_focus_input_name(t.current_core_waybill_need_related_columns[t.current_column_index].name):t.set_focus_input_name(null)},toggle_scanner_is_keydown:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;t.current_store.is_keydown=e},init:function(){var e=ei(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,t.set_focus_input_name();case 4:return e.next=6,new Promise(function(e){t.current_column_index=0,t.is_initialized=!0,e()});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log(e.t0);case 11:case"end":return e.stop()}},e,this,[[1,8]])}));function t(){return e.apply(this,arguments)}return t}(),set_focus_input_name:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this;return t.current_store.alert_core_waybill_related_columns_focus_input_name="no_focus",setTimeout(function(){if(null==e){var i=_.head(t.current_core_waybill_need_related_columns);e=i.name}t.current_store.alert_core_waybill_related_columns_focus_input_name=e},50),Promise.resolve()},previous_core_waybill_related_columns:function(){var e=this;e.$nextTick(function(){e.current_column_index=e.current_column_index-1,e.set_focus_input_name(e.current_core_waybill_need_related_columns[e.current_column_index].name)})},give_up_core_waybill_related_columns:function(){var e=this,t=e.$t("ui.scanner.errors.give_up_core_waybill_related_columns");e.toggle_scanner_is_keydown(!0),e.$parent.alert_failure(t),e.$noty.error(t,1200)},next_actions_core_waybill_related:function(){var e=ei(regeneratorRuntime.mark(function e(){var t,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,i=t.current_core_waybill_need_related_columns[t.current_column_index],e.prev=2,!t.current_core_waybill_need_related_columns[t.current_column_index].is_required||t.actions_core_waybill_related_columns[i.name]){e.next=5;break}throw t.$t("ui.scanner.helps.write_related_columns");case 5:if(!(t.current_column_index+1>=t.current_core_waybill_need_related_columns.length)){e.next=22;break}return e.prev=6,e.next=9,t.$store.dispatch("station/scanner_module/update_core_waybill_related_columns");case 9:return e.next=11,new Promise(function(e){t.toggle_scanner_is_keydown(!0),t.$parent.alert_success(),e()});case 11:e.next=20;break;case 13:e.prev=13,e.t0=e["catch"](6),e.t1=e.t0,e.next="failed_to_update_core_waybill_related_column"===e.t1?18:20;break;case 18:return t.$noty.error(t.$t("ui.notifications.error.update__name",{name:t.$t("ui.scanner.alerts.required_field")})),e.abrupt("break",20);case 20:e.next=24;break;case 22:t.current_column_index=t.current_column_index+1,t.set_focus_input_name(t.current_core_waybill_need_related_columns[t.current_column_index].name);case 24:e.next=29;break;case 26:e.prev=26,e.t2=e["catch"](2),t.$noty.error(e.t2,1200);case 29:case"end":return e.stop()}},e,this,[[2,26],[6,13]])}));function t(){return e.apply(this,arguments)}return t}()}},ii=ti,ni=(n("d859"),Object(v["a"])(ii,St,Nt,!1,null,"c928bd30",null)),ai=ni.exports;function ri(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function si(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){ri(r,n,a,s,o,"next",e)}function o(e){ri(r,n,a,s,o,"throw",e)}s(void 0)})}}var oi={name:"ScannerMain",props:{is_modal:{default:!1,type:Boolean}},data:function(){return{is_initialized:!1,is_modal_opened:!1,is_input_mode:!1,is_processing:!1,is_quick_setting_number:!1,is_any_error_message:!1,is_mobile_width:!1,current_scan_action_prototype_identity:this.fetch_current_scan_action_prototype_identity(),current_numbers:[],current_number:"",scan_actions:[],is_show_related_columns_alert:!1,is_show_create_core_waybill_alert:!1,is_show_scan_action_description_alert:!1}},watch:{current_setting_group:function(e){var t=this;t.$store.dispatch("station/scanner_module/clear_distributed_to"),e.barcode&&localStorage.setItem("scanner_current_setting_group",e.barcode)},is_show_related_columns_alert:function(e){var t=this;t.$bus.$emit("toggle_is_hide_icon_toggle_scanner_modal",e)},is_show_scan_action_description_alert:function(e){var t=this;t.$bus.$emit("toggle_is_hide_icon_toggle_scanner_modal",e)},language:{handler:function(t){try{this.cahnge_language_in_store_js_text()}catch(e){console.log(e),this.$noty.error(e)}},deep:!0}},mounted:function(){var e=this;e.$bus.$off("set_modal_opened"),e.$bus.$on("set_modal_opened",function(t){return new Promise(function(i){e.is_modal_opened=t,i()})}.bind(this)),e.$bus.$off("quick_setting_number"),e.$bus.$on("quick_setting_number",function(t){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e.check_quick_setting_number(t,i,n)}.bind(this)),e.$bus.$off("set_current_scan_action_prototype"),e.$bus.$on("set_current_scan_action_prototype",function(t){e.set_current_scan_action_prototype(t)}.bind(this)),e.$bus.$off("set_input_mode"),e.$bus.$on("set_input_mode",function(t){return new Promise(function(i){e.is_input_mode=t,i()})}.bind(this)),e.$bus.$off("set_current_number"),e.$bus.$on("set_current_number",function(t){return new Promise(function(i){e.current_number=t,i()})}.bind(this)),e.$bus.$off("enqueue"),e.$bus.$on("enqueue",si(regeneratorRuntime.mark(function t(){var i,n,a,r,s,o,c;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,i=e.current_store.settings.is_batch_mode?e.current_number.replace(/\s/g,"").split(","):[e.current_number],!e.current_store.settings.is_batch_mode||1!=i.length){t.next=4;break}throw"is_batch_mode_true, please use multiple number";case 4:n=!0,a=!1,r=void 0,t.prev=7,s=i[Symbol.iterator]();case 9:if(n=(o=s.next()).done){t.next=20;break}return c=o.value,t.next=13,e.$store.dispatch("station/scanner_module/enqueue",{task:e.current_store.settings.is_scan_action_mode?"operation":"search",number:c,station:e.$store.getters["station/current_station"],scan_action_prototype:e.current_scan_action_prototype});case 13:return t.next=15,new Promise(function(t){e.current_number="",t()});case 15:return t.next=17,new Promise(function(t){e.submit(),t()});case 17:n=!0,t.next=9;break;case 20:t.next=26;break;case 22:t.prev=22,t.t0=t["catch"](7),a=!0,r=t.t0;case 26:t.prev=26,t.prev=27,n||null==s["return"]||s["return"]();case 29:if(t.prev=29,!a){t.next=32;break}throw r;case 32:return t.finish(29);case 33:return t.finish(26);case 34:t.next=49;break;case 36:t.prev=36,t.t1=t["catch"](0),t.t2=t.t1,t.next="is_batch_mode_true, please use multiple number"===t.t2?41:"quick_setting"===t.t2?46:49;break;case 41:return e.current_store.jobs.push({id:e.current_store.jobs.slice(-1).pop()?e.current_store.jobs.slice(-1).pop().id+1:1,task:e.current_store.settings.is_scan_action_mode?"operation":"search",number:e.current_number,scan_action_prototype:e.current_scan_action_prototype,status:"Failure",is_waiting_user_action:!1,is_batch_mode:!0,errors:[e.$t("ui.scanner.errors.multiple_numbers_in_batch_mode")]}),e.current_number="",e.play_web_audio("error"),e.$store.dispatch("station/scanner_module/set_local_storage_job"),t.abrupt("break",49);case 46:return e.check_quick_setting_number(e.current_number,!0),e.current_number="",t.abrupt("break",49);case 49:case"end":return t.stop()}},t,null,[[0,36],[7,22,26,34],[27,,29,33]])})).bind(this)),e.init()},methods:{init:function(){var e=si(regeneratorRuntime.mark(function e(){var t,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,t.$store.dispatch("station/scanner_module/fetch_scan_action_prototypes");case 4:return e.next=6,t.$store.dispatch("station/scanner_module/fetch_materials");case 6:return e.next=8,t.set_current_scan_action_prototype(t.current_scan_action_prototype_identity);case 8:return e.next=10,new Promise(function(e){_.forEach(["is_core_waybill_pieces_mode","is_noty_audio_mode","is_operation_mode","is_speech_mode"],function(e){t.$store.getters["station/scanner_module/is_can_use_setting"](e)?localStorage.setItem("scanner_"+e,!0):localStorage.setItem("scanner_"+e,!1)}),e()});case 10:return e.next=12,t.set_settings();case 12:return e.next=14,t.set_local_storage_to_store_state(["core_waybill_counters"]);case 14:return e.next=16,t.set_current_setting_group();case 16:return e.next=18,t.cahnge_language_in_store_js_text();case 18:return e.next=20,new Promise(function(e){t.is_initialized=!0,e()});case 20:return e.next=22,new Promise(function(e){window.addEventListener("keydown",i.keydown),e()});case 22:e.next=27;break;case 24:e.prev=24,e.t0=e["catch"](1),console.log(e.t0);case 27:case"end":return e.stop()}},e,this,[[1,24]])}));function t(){return e.apply(this,arguments)}return t}(),keydown:function(){var e=si(regeneratorRuntime.mark(function e(t){var i,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(i=this,console.log(t),!i.is_modal_opened||!i.current_store.is_keydown){e.next=26;break}if(n=new ut.a(t),n.meta||n.ctrl||i.is_input_mode){e.next=26;break}if("keypress"!=n.event.type){e.next=16;break}e.t0=n.key_code,e.next=13===e.t0?9:13;break;case 9:if(!i.current_number){e.next=12;break}return e.next=12,i.$bus.$emit("enqueue");case 12:return e.abrupt("break",14);case 13:i.current_number+=n.value;case 14:e.next=26;break;case 16:e.t1=n.key_code,e.next=8===e.t1?19:13===e.t1?21:25;break;case 19:return i.current_number=i.current_number.slice(0,-1),e.abrupt("break",26);case 21:if(!i.current_number){e.next=24;break}return e.next=24,i.$bus.$emit("enqueue");case 24:return e.abrupt("break",26);case 25:i.current_number+=n.value;case 26:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),submit:function(){var e=si(regeneratorRuntime.mark(function e(){var t,i,n,a,r,s,o,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=this,i=!0,n=!1,a=void 0,e.prev=4,r=_.filter(t.current_store.jobs,function(e){return"Pending"==e.status})[Symbol.iterator]();case 6:if(i=(s=r.next()).done){e.next=59;break}return o=s.value,e.prev=8,e.next=11,t.$store.dispatch("station/scanner_module/perform",o);case 11:return e.next=13,new Promise(function(e){t.play_web_audio("ok"),e()});case 13:e.next=56;break;case 15:e.prev=15,e.t0=e["catch"](8),c="",e.t1=e.t0,e.next="quick_setting_not_found"===e.t1?21:"core_waybill_not_found"===e.t1?24:"no_input_number"===e.t1?28:"current_scan_action_prototype_identity"===e.t1?31:"failed_to_instantiate_scan_action_prototype"===e.t1?34:"failed_to_update_core_waybill_related_column"===e.t1?37:"failed_to_fetch_core_waybill_statuses"===e.t1?40:"core_waybill_related_column_is_empty"===e.t1?43:"scan_action_description_is_empty"===e.t1?46:"create_core_waybill"===e.t1?49:52;break;case 21:return c=t.$t("ui.scanner.errors.setting_not_found")+": "+t.current_number,t.play_web_audio("error"),e.abrupt("break",55);case 24:return c=t.$t("ui.scanner.errors.core_waybill_not_found"),t.current_store.current_job.errors.push(c),t.play_web_audio("error"),e.abrupt("break",55);case 28:return c=t.$t("ui.scanner.helps.write_number"),t.play_web_audio("error"),e.abrupt("break",55);case 31:return c=t.$t("ui.scanner.helps.select_scan_action"),t.play_web_audio("error"),e.abrupt("break",55);case 34:return c=t.$t("ui.scanner.errors.failed_to_instantiate_scan_action_prototype"),t.play_web_audio("error"),e.abrupt("break",55);case 37:return c=t.$t("ui.scanner.errors.failed_to_update_core_waybill_related_column")+": "+t.current_number,t.play_web_audio("error"),e.abrupt("break",55);case 40:return c=t.$t("ui.scanner.errors.failed_to_fetch_core_waybill_statuses"),t.play_web_audio("error"),e.abrupt("break",55);case 43:return t.is_show_related_columns_alert=!0,t.play_web_audio("alert"),e.abrupt("break",55);case 46:return t.is_show_scan_action_description_alert=!0,t.play_web_audio("alert"),e.abrupt("break",55);case 49:return t.is_show_create_core_waybill_alert=!0,t.play_web_audio("alert"),e.abrupt("break",55);case 52:return c=t.$t("models.attributes.core_waybills.number")+t.current_number+", "+e.t0,t.play_web_audio("error"),e.abrupt("break",55);case 55:c&&t.$noty.error(c,1200);case 56:i=!0,e.next=6;break;case 59:e.next=65;break;case 61:e.prev=61,e.t2=e["catch"](4),n=!0,a=e.t2;case 65:e.prev=65,e.prev=66,i||null==r["return"]||r["return"]();case 68:if(e.prev=68,!n){e.next=71;break}throw a;case 71:return e.finish(68);case 72:return e.finish(65);case 73:case"end":return e.stop()}},e,this,[[4,61,65,73],[8,15],[66,,68,72]])}));function t(){return e.apply(this,arguments)}return t}(),set_settings:function(){var e=this;return e.current_store.settings={is_scan_mode:e.get_setting("is_scan_mode"),is_speech_mode:e.get_setting("is_speech_mode"),is_batch_mode:e.get_setting("is_batch_mode"),is_operation_mode:e.get_setting("is_operation_mode"),is_noty_audio_mode:e.get_setting("is_noty_audio_mode"),is_scan_action_mode:e.get_setting("is_scan_action_mode"),is_distributed_to_mode:e.get_setting("is_distributed_to_mode"),is_high_performance_mode:e.get_setting("is_high_performance_mode"),is_auto_print_label_mode:e.get_setting("is_auto_print_label_mode"),is_update_corewaybill_mode:e.get_setting("is_update_corewaybill_mode"),is_core_waybill_pieces_mode:e.get_setting("is_core_waybill_pieces_mode"),is_quick_corewaybill_related_columns:e.get_setting("is_quick_corewaybill_related_columns"),core_waybill_template_mode:e.fetch_setting_use_string("core_waybill_template_mode","card"),is_package_mode:e.get_setting("is_package_mode"),is_unpackage_mode:e.get_setting("is_unpackage_mode"),pack_need_source_mode:e.get_setting("pack_need_source_mode"),pack_p_m_mode:e.fetch_setting_use_string("pack_p_m_mode"),pack_m_mode:e.fetch_setting_use_string("pack_m_mode")},Promise.resolve()},set_local_storage_to_store_state:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this;return e.length&&_.forEach(e,function(e){var i=localStorage.getItem("scanner_"+e);i&&(i=$.parseJSON("["+i+"]"),"jobs"==e&&_.map(i,function(e){(e.is_waiting_user_action||"Processing"==e.status)&&(e.is_waiting_user_action=!1,e.status="Failure")}),t.current_store[e]=i)}),Promise.resolve()},set_current_setting_group:function(){var e=this,t=e.fetch_setting_use_string("current_setting_group","search");return e.current_store.current_setting_group=_.find(e.current_store.setting_groups,function(e){return e.barcode==t})||{},Promise.resolve()},alert_failure:function(){var e=si(regeneratorRuntime.mark(function e(){var t,i,n=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=n.length>0&&void 0!==n[0]?n[0]:null,i=this,i.is_show_related_columns_alert=!1,i.is_show_create_core_waybill_alert=!1,i.is_show_scan_action_description_alert=!1,t&&i.current_store.current_job.errors.push(t),i.current_store.current_job.is_waiting_user_action=!1,i.current_store.current_job.status="Failure",i.play_web_audio("error"),i.$store.dispatch("station/scanner_module/set_local_storage_job");case 10:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),alert_success:function(){var e=si(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=this,t.is_show_related_columns_alert=!1,t.is_show_create_core_waybill_alert=!1,t.is_show_scan_action_description_alert=!1,t.current_store.current_job.is_waiting_user_action=!1,t.submit();case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),toggle_settings_div:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this;null==e?t.current_store.is_setting=!t.current_store.is_setting:"boolean"==typeof e&&(t.current_store.is_setting=e)},check_quick_setting_number:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=this,a=!1,r=e.match(n.quick_setting_regexps.group),s=e.match(n.quick_setting_regexps.barcode),o=e.match(n.quick_setting_regexps.mode);if(r)try{var c=r[1],l=_.findLast(n.current_store.setting_groups,function(e){return e.barcode==c});if(!l)throw n.$t("ui.scanner.errors.setting_group_not_found");var u="",d="";i&&n.toggle_settings_div(!1),n.set_current_store_setting_group(c),l.is_scan_action&&(u="####"+c+"####",n.quick_setting_barcode(u.match(n.quick_setting_regexps.barcode))?a=!0:n.$noty.error(n.$t("ui.scanner.errors.setting_not_found")+"： "+c,1200)),l.settings&&_.forEach(l.settings,function(e){d="##"+e+"##",n.quick_setting_mode(d.match(n.quick_setting_regexps.mode))?a=!0:n.$noty.error(n.$t("ui.scanner.errors.setting_not_found")+"： "+e,1200)})}catch(error){n.$noty.error(error)}return s&&(n.quick_setting_barcode(s)?a=!0:n.$noty.error(n.$t("ui.scanner.errors.setting_not_found")+"： "+s,1200)),o&&(n.quick_setting_mode(o)?a=!0:n.$noty.error(n.$t("ui.scanner.errors.setting_not_found")+"： "+o,1200)),a&&t&&(n.$noty.success(n.$t("ui.scanner.success.quick_setting")),n.is_quick_setting_number=a),Promise.resolve()},quick_setting_barcode:function(e){var t=this,i=_.find(t.current_store.scan_action_prototypes,function(t){return t.barcode==e[1]||t.barcode==e[2]});return void 0!=i&&(t.current_store.current_scan_action_prototype=i,localStorage.setItem("current_scan_action_prototype_identity",i.identity),t.current_store.current_core_waybill={},!0)},quick_setting_mode:function(e){var t=this,i=e[1],n=e[2];return"true"===e[2]&&(n=!0),"false"===e[2]&&(n=!1),void 0!=t.settings[i]&&(t.$store.getters["station/scanner_module/is_can_use_setting"](i)?(t.current_store.settings[i]=n,localStorage.setItem("scanner_"+i,n)):t.current_store.settings[i]=!1,!0)},set_current_store_setting_group:function(e){var t=this;t.current_store.current_setting_group=_.find(t.current_store.setting_groups,function(t){return t.barcode==e})},set_current_scan_action_prototype:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this,i=_.find(t.current_store.scan_action_prototypes,function(t){return t.identity==e});void 0!=i&&(t.current_store.current_scan_action_prototype=i,localStorage.setItem("current_scan_action_prototype_identity",i.identity))},get_setting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="scanner_"+e,i=localStorage.getItem(t);return null==i?(localStorage.setItem(t,!1),!1):"true"==i},fetch_setting_use_string:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i="scanner_"+e,n=localStorage.getItem(i);return null==n?(localStorage.setItem(i,t),t):localStorage.getItem(i)},fetch_current_scan_action_prototype_identity:function(){var e="current_scan_action_prototype_identity",t=localStorage.getItem(e);return null==t||""==t?(localStorage.setItem(e,""),null):localStorage.getItem(e)},play_web_audio:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this;if(t.settings.is_noty_audio_mode)switch(e){case"ok":case"alert":case"error":t.$bus.$emit("provider_scanner_web_audio","play_sound",e);break;default:t.$bus.$emit("provider_scanner_web_audio","play_sound","error");break}},cahnge_language_in_store_js_text:function(){var e=this;return _.map(e.setting_groups,function(t){t.i18n_key&&(t.name=e.$t(t.i18n_key))}),Promise.resolve()}},computed:{language:function(){return this.$store.state.language},current_store:function(){return this.$store.state.station.scanner_module},theme:function(){return this.current_store.config.theme},quick_setting_regexps:function(){return this.current_store.quick_setting_regexps},settings:function(){return this.current_store.settings},setting_groups:function(){return this.current_store.setting_groups},current_setting_group:function(){return this.current_store.current_setting_group},core_waybills:function(){return this.current_store.core_waybills},current_core_waybill:function(){return this.current_store.current_core_waybill},error_messages:function(){return this.current_store.error_messages},desc_ordered_jobs:function(){return _.orderBy(this.current_store.jobs,"id","desc")},current_scan_action_prototype:function(){return this.current_store.current_scan_action_prototype}},components:{WebAudio:c["a"],Settings:ie,Dashboard:le,CoreWaybill:ot,CreateCoreWaybillAlert:ht,ScanActionDescriptionAlert:Pt,CoreWaybillRelatedColumnsAlert:ai}},ci=oi,_i=(n("ba70"),Object(v["a"])(ci,s,o,!1,null,"abf13050",null)),li=_i.exports;function ui(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(error){return void i(error)}o.done?t(c):Promise.resolve(c).then(n,a)}function di(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){ui(r,n,a,s,o,"next",e)}function o(e){ui(r,n,a,s,o,"throw",e)}s(void 0)})}}var pi={name:"ScannerModal",props:{},data:function(){return{is_mobile_width:!1,console_log_content:"",console_log_theme_path:""}},computed:{current_store:function(){return this.$store.state.station},service_config:function(){return this.$store.state.station.service_config},service_name:function(){return this.current_store.current_node.service_name},scanner_module_store:function(){return this.$store.state.station.scanner_module}},mounted:function(){var e=this;e.init()},watch:{is_mobile_width:{immediate:!0,handler:function(e){var t=this;t.$nextTick(function(){var i=t.scanner_module_store.config.theme,n=e?"mobile":"computer";if(i[n]){var a=i[n].background_position?i[n].background_position+" / cover":"0% 0%";t.scanner_module_store.config.theme.background=i.color.background_img?"url(/images/scanner_background/"+i.color.background_img+") "+a+" #1b1c1d":i.color.background}})}}},methods:{init:function(){var e=di(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,t.set_is_mobile_width();case 4:return e.next=6,t.set_scanner_theme();case 6:return e.next=8,t.set_scanner_setting();case 8:return e.next=10,t.set_scanner_setting_groups();case 10:return e.next=12,new Promise(function(e){console.log("//=============== \n  Now scanner configs: \n"+t.console_log_content+"\n  About setting file path: config/services/"+t.service_name+"/scanner/ \n  About theme file path: "+t.console_log_theme_path+" \n//=============== \n"),e()});case 12:e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](1),console.log(e.t0);case 17:case"end":return e.stop()}},e,this,[[1,14]])}));function t(){return e.apply(this,arguments)}return t}(),set_is_mobile_width:function(){var e=this;return e.is_mobile_width=$(window).width()<=767,$(window).resize(function(){var t=$(window).width();e.is_mobile_width=t<=767}),Promise.resolve()},set_scanner_theme:function(){var e,t,i,a,r=this;try{var s=n("f41c");if(i=_.findLast(s,function(e){return e.identity==r.$store.state.station.current_node.identity}),i&&i.theme_file_name?(a=i.theme_file_name,r.console_log_theme_path="components/scanner/station/themes/node.json"):(a=r.service_config.scanner_theme,r.console_log_theme_path="config/services/"+r.service_name+"/config.json"),!a)throw"Scanner theme file not find";e=a+".json",t=n("3c40")("./"+e),i=t}catch(u){e="default.json",i=n("4fe6"),r.console_log_theme_path="components/scanner/station/themes/default.json",console.log(u)}finally{r.scanner_module_store.config.theme=i,r.console_log_content+="    theme: "+e+"\n"}try{var o=r.scanner_module_store.config.theme,c=r.is_mobile_width?"mobile":"computer";if(o[c]){var l=o[c].background_position?o[c].background_position+" / cover":"0% 0%";r.scanner_module_store.config.theme.background=o.color.background_img?"url(/images/scanner_background/"+o.color.background_img+") "+l+" #1b1c1d":o.color.background}}catch(u){console.log(u)}return Promise.resolve()},set_scanner_setting:function(){var e,t,i,a=this;try{if(!a.service_name)throw"Scanner settings file not find";e=a.service_name+"/scanner/settings.json",t=n("ccaa")("./"+e),i=t}catch(r){e="default/scanner/settings.json",i=n("ccaa")("./"+e)}finally{a.scanner_module_store.config.settings=i.options,a.console_log_content+="    settings: "+e+"\n"}return Promise.resolve()},set_scanner_setting_groups:function(){var e=this;try{if(!e.service_name)throw"Scanner setting groups file not find";var t=e.service_name+"/scanner/setting_groups.json",i=n("ccaa")("./"+t);e.scanner_module_store.setting_groups=i}catch(a){t="default/scanner/setting_groups.json",e.scanner_module_store.setting_groups=n("ccaa")("./"+t),console.log(a)}finally{e.console_log_content+="    setting_groups: "+t+"\n"}return Promise.resolve()}},components:{ScannerMain:li}},mi=pi,fi=(n("1e91"),Object(v["a"])(mi,a,r,!1,null,"45c5767a",null));i["a"]=fi.exports},e7bd:function(e,t,i){"use strict";var n=i("07b4"),a=i.n(n);a.a},e823:function(e,t,i){"use strict";var n=i("521a"),a=i.n(n);a.a},e825:function(e,t,i){"use strict";var n=i("5989"),a=i.n(n);a.a},e844:function(e,t,i){"use strict";var n=i("2951"),a=i.n(n);a.a},e93b:function(e,t,i){"use strict";var n=i("b3c1"),a=i.n(n);a.a},e9c2:function(e,t,i){},e9c8:function(e,t,i){},ea26:function(e,t,i){"use strict";var n=i("bfa9"),a=i.n(n);a.a},eb09:function(e,t,i){"use strict";var n=i("737a"),a=i.n(n);a.a},eb28:function(e,t,i){"use strict";var n=i("9147"),a=i.n(n);a.a},ebb8:function(e){e.exports={logo_img:"neuron_logo.png",footer_imgs:["tw568_logo.png","neuron_logo.png","by_express_logo.jpg","t_cat_logo.jpg","hct_logo.png"],scanner_theme:"dark01",menu:[{name:"provider_operations",icon:"file large"},{name:"provider_partitions",icon:"tasks large"},{name:"provider_customers",icon:"street view large"},{name:"scan",icon:"barcode large",items:[{name:"scan_action_prototypes",icon:""},{name:"status_prototypes",icon:""}]},{name:"users",icon:"user large",items:[{name:"staffs",icon:""},{name:"roles",icon:""},{name:"permission_groups",icon:""}]},{name:"stations",icon:"inbox large"},{name:"provider_distributions",icon:"map signs large"},{name:"provider_uploader",icon:"upload large"},{name:"assets",icon:"cubes large"},{name:"materials",icon:"cube large"},{name:"core_waybills",icon:"boxes large"},{name:"provider_node",icon:"setting large"},{name:"user_logs",icon:"hourglass end large"},{name:"commission_policies",icon:"handshake large",items:[{name:"driver_commission_policies",icon:""}]},{name:"commission_reports",icon:"book large",items:[{name:"driver_commission_reports",icon:""},{name:"driver_commissions",icon:""}]}]}},ebca:function(e){e.exports={logo_img:"axon_logo.png",footer_imgs:["tw568_logo.png","axon_logo.png","by_express_logo.jpg","t_cat_logo.jpg","hct_logo.png"],scanner_theme:"dark01",menu:[{name:"provider_operations",icon:"file large"},{name:"provider_partitions",icon:"tasks large"},{name:"provider_customers",icon:"street view large"},{name:"scan",icon:"barcode large",items:[{name:"scan_action_prototypes",icon:""},{name:"status_prototypes",icon:""}]},{name:"users",icon:"user large",items:[{name:"staffs",icon:""},{name:"roles",icon:""},{name:"permission_groups",icon:""}]},{name:"stations",icon:"inbox large"},{name:"provider_uploader",icon:"upload large"},{name:"materials",icon:"cube large"},{name:"core_waybills",icon:"archive large"},{name:"provider_node",icon:"setting large"}]}},eca6:function(e,t,i){},eee2:function(e,t,i){"use strict";var n=i("e1f6"),a=i.n(n);a.a},ef4c:function(e,t,i){"use strict";var n=i("5631"),a=i.n(n);a.a},ef8b:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{color:"gray",float:"right"}},[e._v("\n    Neuron "+e._s(e.env)+" version "),i("span",{staticClass:"version"},[e._v(e._s(e.neuron_version))]),e._v(" - LMS "),i("span",{staticClass:"version"},[e._v(e._s(e.lms_version))])])},a=[],r={name:"SystemInfo",computed:{env:function(){return ENV.NODE_ENV.capitalize()},neuron_version:function(){return ENV.VUE_APP_NEURON_VERSION},lms_version:function(){return ENV.VUE_APP_LMS_VERSION}}},s=r,o=(i("2766"),i("2877")),c=Object(o["a"])(s,n,a,!1,null,"f235616a",null);t["a"]=c.exports},efed:function(e,t,i){"use strict";var n=i("633f"),a=i.n(n);a.a},f10f:function(e,t,i){"use strict";var n=i("6a7e"),a=i.n(n);a.a},f12b:function(e,t,i){"use strict";var n=i("b6fd"),a=i.n(n);a.a},f221:function(e,t,i){"use strict";var n=i("703d"),a=i.n(n);a.a},f254:function(e,t,i){"use strict";var n=i("8427"),a=i.n(n);a.a},f28c:function(e){e.exports={logo_img:"axon_logo.png",footer_imgs:["tw568_logo.png","axon_logo.png","by_express_logo.jpg","t_cat_logo.jpg","hct_logo.png"],scanner_theme:"dark01",menu:[{name:"provider_operations",icon:"file large"},{name:"provider_partitions",icon:"tasks large"},{name:"provider_customers",icon:"street view large"},{name:"scan",icon:"barcode large",items:[{name:"scan_action_prototypes",icon:""},{name:"status_prototypes",icon:""}]},{name:"users",icon:"user large",items:[{name:"staffs",icon:""},{name:"roles",icon:""},{name:"permission_groups",icon:""}]},{name:"stations",icon:"inbox large"},{name:"provider_uploader",icon:"upload large"},{name:"materials",icon:"cube large"},{name:"core_waybills",icon:"archive large"},{name:"provider_node",icon:"setting large"}]}},f2d5:function(e){e.exports=[{_comment:"axon premium 預設檔案",name:"運單起始貨況",i18n_key:"ui.scanner.setting_groups.LA00",barcode:"LA00",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"LA01",is_scan_action:!0,is_hide:!0,color:"black",settings:[]},{name:"1.放行",i18n_key:"ui.scanner.setting_groups.LB01",barcode:"LB01",primary_icon_classes:"clipboard check icon",secondary_icon_classes:null,icon_file_name:"LA01",is_scan_action:!0,is_hide:!1,color:"#3a8df5",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_package_mode_false","is_auto_print_label_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"2.點交",i18n_key:"ui.scanner.setting_groups.LB02",barcode:"LB02",primary_icon_classes:"exchange icon",secondary_icon_classes:"right bottom corner green check icon",icon_file_name:"LA02",is_scan_action:!0,is_hide:!1,color:"orange",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_package_mode_false","is_auto_print_label_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"1.收貨",i18n_key:"ui.scanner.setting_groups.LA01",barcode:"LA01",primary_icon_classes:"dolly icon",secondary_icon_classes:null,icon_file_name:"LA01",is_scan_action:!0,is_hide:!1,color:"#58B2DC",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_package_mode_false","is_auto_print_label_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"1.進站",i18n_key:"ui.scanner.setting_groups.LA02",barcode:"LA02",primary_icon_classes:"pallet icon",secondary_icon_classes:null,icon_file_name:"LA02",is_scan_action:!0,is_hide:!1,color:"#EFBB24",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_package_mode_false","is_distributed_to_mode_true","is_unpackage_mode_false","is_scan_action_mode_true","is_auto_print_label_mode_false","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"包裝",i18n_key:"ui.scanner.setting_groups.package",barcode:"package",primary_icon_classes:"box icon",secondary_icon_classes:null,icon_file_name:"package",is_scan_action:!1,is_hide:!1,color:"#1B813E",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_scan_action_mode_false","is_distributed_to_mode_false","is_package_mode_true","is_unpackage_mode_false","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_min_card"]},{name:"2.派件中",i18n_key:"ui.scanner.setting_groups.LA03",barcode:"LA03",primary_icon_classes:"shipping fast icon",secondary_icon_classes:null,icon_file_name:"LA03",is_scan_action:!0,is_hide:!1,color:"#77428D",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_true","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"2.聯運",i18n_key:"ui.scanner.setting_groups.LA10",barcode:"LA10",primary_icon_classes:"random icon",secondary_icon_classes:null,icon_file_name:"LA10",is_scan_action:!0,is_hide:!1,color:"#4A225D",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"3.回站",i18n_key:"ui.scanner.setting_groups.LA05",barcode:"LA05",primary_icon_classes:"home icon",secondary_icon_classes:"right bottom corner red undo icon",icon_file_name:"LA05",is_scan_action:!0,is_hide:!1,color:"#91989F",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"3.已配達",i18n_key:"ui.scanner.setting_groups.LA04",barcode:"LA04",primary_icon_classes:"clipboard list icon",secondary_icon_classes:"right bottom corner green check icon",icon_file_name:"LA04",is_scan_action:!0,is_hide:!1,color:"#86C166",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"0.異常件",i18n_key:"ui.scanner.setting_groups.LA06",barcode:"LA06",primary_icon_classes:"exclamation triangle icon",secondary_icon_classes:"right bottom corner red close icon",icon_file_name:"LA06",is_scan_action:!0,is_hide:!1,color:"#CB4042",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"0.異常件排除",i18n_key:"ui.scanner.setting_groups.LA07",barcode:"LA07",primary_icon_classes:"exclamation triangle icon",secondary_icon_classes:"right bottom corner green check icon",icon_file_name:"LA07",is_scan_action:!0,is_hide:!1,color:"#51A8DD",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_false","is_distributed_to_mode_false","is_unpackage_mode_false","is_scan_action_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"鎖定",i18n_key:"ui.scanner.setting_groups.LA11",barcode:"LA11",primary_icon_classes:"lock icon",secondary_icon_classes:null,icon_file_name:"LA11",is_scan_action:!0,is_hide:!1,color:"#CB4042",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_scan_action_mode_true","is_distributed_to_mode_false","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"解除鎖定",i18n_key:"ui.scanner.setting_groups.LA12",barcode:"LA12",primary_icon_classes:"lock open icon",secondary_icon_classes:null,icon_file_name:"LA12",is_scan_action:!0,is_hide:!1,color:"#51A8DD",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_scan_action_mode_true","is_distributed_to_mode_false","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_card"]},{name:"結案",i18n_key:"ui.scanner.setting_groups.LA13",barcode:"LA13",primary_icon_classes:"check icon",secondary_icon_classes:null,icon_file_name:"LA13",is_scan_action:!0,is_hide:!1,color:"#86C166",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_scan_action_mode_false","is_package_mode_false","is_unpackage_mode_false","is_distributed_to_mode_false","pack_need_source_mode_false","is_update_corewaybill_mode_false","core_waybill_template_mode_card"]},{name:"拆包",i18n_key:"ui.scanner.setting_groups.unpackage",barcode:"unpackage",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner red cut icon",icon_file_name:"unpackage",is_scan_action:!1,is_hide:!1,color:"#F75C2F",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_scan_action_mode_false","is_distributed_to_mode_false","is_package_mode_false","is_unpackage_mode_true","is_update_corewaybill_mode_false","pack_need_source_mode_false","core_waybill_template_mode_min_card"]},{name:"查詢運單",i18n_key:"ui.scanner.setting_groups.search",barcode:"search",primary_icon_classes:"search icon",secondary_icon_classes:null,icon_file_name:"search",is_scan_action:!1,is_hide:!1,color:"#227D51",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_scan_action_mode_false","is_package_mode_false","is_unpackage_mode_false","is_distributed_to_mode_false","pack_need_source_mode_false","is_update_corewaybill_mode_false","core_waybill_template_mode_card"]},{name:"袋包運, 裝袋作業",i18n_key:"ui.scanner.setting_groups.pack_house_waybill",barcode:"pack_house_waybill",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"package",is_scan_action:!1,is_hide:!0,color:"green",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_auto_print_label_mode_false","is_package_mode_true","is_unpackage_mode_false","is_scan_action_mode_false","is_update_corewaybill_mode_false","is_distributed_to_mode_false","core_waybill_template_mode_min_card","pack_need_source_mode_false","pack_p_m_mode_House","pack_m_mode_Waybill"]},{name:"運包子, 一票多件",i18n_key:"ui.scanner.setting_groups.pack_waybill_goods",barcode:"pack_waybill_goods",primary_icon_classes:"box icon",secondary_icon_classes:"right bottom corner green arrow right icon",icon_file_name:"package",is_scan_action:!1,is_hide:!0,color:"limegreen",settings:["is_core_waybill_creation_mode_false","is_batch_mode_false","is_scan_action_mode_false","is_package_mode_true","is_unpackage_mode_false","is_distributed_to_mode_false","is_update_corewaybill_mode_false","pack_need_source_mode_true","pack_p_m_mode_Waybill","pack_m_mode_Goods"]}]},f347:function(e){e.exports={logo_img:"neuron_logo.png",footer_imgs:["tw568_logo.png","neuron_logo.png","by_express_logo.jpg","t_cat_logo.jpg","hct_logo.png"],scanner_theme:"dark01",menu:[{name:"provider_operations",icon:"file large"},{name:"provider_partitions",icon:"tasks large"},{name:"provider_customers",icon:"street view large"},{name:"scan",icon:"barcode large",items:[{name:"scan_action_prototypes",icon:""},{name:"status_prototypes",icon:""}]},{name:"users",icon:"user large",items:[{name:"staffs",icon:""},{name:"roles",icon:""},{name:"permission_groups",icon:""}]},{name:"stations",icon:"inbox large"},{name:"provider_distributions",icon:"map signs large"},{name:"provider_uploader",icon:"upload large"},{name:"assets",icon:"cubes large"},{name:"materials",icon:"cube large"},{name:"core_waybills",icon:"boxes large"},{name:"provider_node",icon:"setting large"},{name:"user_logs",icon:"hourglass end large"},{name:"commission_policies",icon:"handshake large",items:[{name:"driver_commission_policies",icon:""}]},{name:"commission_reports",icon:"book large",items:[{name:"driver_commission_reports",icon:""},{name:"driver_commissions",icon:""}]}]}},f35f:function(e,t,i){},f37e:function(e,t,i){},f419:function(e,t,i){"use strict";var n=i("d5b5"),a=i.n(n);a.a},f41c:function(e){e.exports=[{_comment:"此檔案Scanner config預設檔案。",name:"default",font:"white",identity:"default",theme_file_name:"default"},{name:"博宇",font:"white",identity:"6896bd65c1-28036-39768292",theme_file_name:"dark01"}]},f46d:function(e,t,i){"use strict";var n=i("0a9b"),a=i.n(n);a.a},f4ae:function(e,t,i){},f4db:function(e,t,i){},f4e0:function(e,t,i){},f4e2:function(e,t,i){},f621:function(e,t,i){},f66a:function(e){e.exports={_comment:"此檔案為Scanner 設定 檔案",name:"axon",options:["is_scan_mode","is_scan_action_mode","is_batch_mode","is_operation_mode","is_core_waybill_pieces_mode","is_update_corewaybill_mode","is_auto_print_label_mode","is_noty_audio_mode","is_speech_mode","is_quick_corewaybill_related_columns","core_waybill_template_mode"]}},f6a5:function(e,t,i){"use strict";var n=i("b51d"),a=i.n(n);a.a},f6f1:function(e,t,i){},f72b:function(e,t,i){},f76b:function(e){e.exports={models:{_comment:"關聯表名稱不在此上面",appraisals:"考績",assets:"資產",comments:"留言",contracts:"合約",conversion_attributes:"合約歸於",converters:"converters",core_waybills:"運單",customers:"客戶",quotations:"報價單",distributions:"分撥",distribution_tions:"分撥條件",driver_commissions:"收派件提成",driver_commission_policies:"收派件提成政策",driver_commission_reports:"收派件提成報告",logs:"使用者歷程",materials:"物料",nodes:"公司",operations:"訂單",partitions:"號碼區間",permissions:"權限",permission_groups:"權限群組",roles:"職位",staffs:"員工",stations:"站點",scan_actions:"掃描動作",status_prototypes:"貨況",scan_action_prototypes:"掃描動作",attributes:{assets:{barcode:"條碼",number:"編號",category:"資產種類",note:"備註",node_identity:"Node identity"},converters:{name:"名稱",number:"號碼",provider_node_identity:"provider_node_identity",customer_node_identity:"customer_node_identity",customer_identity:"customer_identity",carrier_class:"承運商類別",proxy_contract_identity:"proxy_contract_identity",third_party_api_data:"third_party_api_data",note:"備註"},customer_contracts:{name:"合約名稱",number:"客戶編號",carrier_class:"承運商類別",proxy_contract:"自動轉運合約",third_party_api_data:"第三方串接資訊",note:"備註"},customers:{username:"帳號",password:"密碼",password_confirmation:"確認密碼",authentication_token:"API Token",company_name:"公司名稱",company_short_name:"公司簡短名稱",company_en_name:"英文名稱",email:"E-mail",phone:"聯絡電話",fax:"傳真",website_url:"網站網址",default_sender_zip_code:"寄件人郵遞區號",default_sender_company_name:"寄件人公司名",default_sender_address:"寄件人地址",default_sender_name:"寄件人姓名",default_sender_phone:"寄件人電話",default_sender_email:"寄件人電子郵件",default_sender_fax:"寄件人傳真",default_sender_url:"寄件人網址",default_consignee_zip_code:"收件人郵遞區號",default_consignee_company_name:"收件人公司名",default_consignee_address:"收件人地址",default_consignee_name:"收件人姓名",default_consignee_phone:"收件人電話",default_consignee_email:"收件人電子郵件",default_consignee_fax:"收件人傳真",can_use_associated_partitions:"是否可使用上層運單",is_banned:"是否被停權"},conditions:{core_waybill_identity:"運單",scan_action_prototype_identity:"SAP",condition_type:"種類",can_use:"可使用",current_use:"使用中",already_use:"曾經用過",can_release:"可放行",current_release:"放行中",already_release:"曾經放行過",can_handover:"可點交",current_handover:"點交中",already_handover:"曾經點交過",can_collect:"可收貨",current_collect:"收貨中",already_collect:"曾經收貨過",can_check:"可進站",current_check:"進站中",already_check:"曾經進站過",can_ship:"可派件",current_ship:"派件中",already_ship:"曾經派件過",can_back:"可回站",current_back:"回站中",already_back:"曾經回站過",can_delivered:"可配達",current_delivered:"配達中",already_delivered:"曾經配達過",can_transfer:"可中轉",current_transfer:"中轉中",already_transfer:"曾經中轉過",can_intermodal:"可聯運",current_intermodal:"聯運中",already_intermodal:"曾經聯運過",can_exception:"可異常件",current_exception:"異常件中",already_exception:"曾經異常件過",can_lock:"可鎖定",current_lock:"鎖定中",already_lock:"曾經鎖定過",can_done:"可完成",current_done:"完成中",already_done:"曾經完成過",can_warehouse_in:"可進倉",current_warehouse_in:"進倉中",already_warehouse_in:"曾經進倉過",can_warehouse_out:"可出倉",current_warehouse_out:"出倉中",already_warehouse_out:"曾經出倉過",can_ready_to_ship:"可待出貨",current_ready_to_ship:"待出貨中",already_ready_to_ship:"曾經待出貨過"},distributions:{priority:"優先",name:"名稱",strategy:"策略",station:"管轄站點",station_identity:"管轄站點",strategy_value:"策略值",material:"限定物料",material_identity:"限定物料",is_activated:"是否啟用"},driver_commissions:{pick_up_driver:"取件司機",pick_up_core_waybill:"取件運單",delivery_core_waybill:"送件運單",delivery_driver:"送件司機",driver_commission_report:"收派件提成報告",driver_commission_policy:"收派件提成政策",amount:"金額",polarity:"極性",created_at:"產生日期",is_deleted:"已被刪除"},driver_commission_policies:{pick_up_first_weight:"取件首重重量(KG)",pick_up_first_price:"取件首重提成金額",pick_up_follow_up_weight:"取件續重重量單位(KG)",pick_up_follow_up_price:"取件續重單價",delivery_first_weight:"送件首重重量(KG)",delivery_first_price:"送件首重提成金額",delivery_follow_up_weight:"送件續重重量單位(KG)",delivery_follow_up_price:"送件續重單價",house_pick_up_first_weight:"取件首重重量(KG)",house_pick_up_first_price:"取件首重提成金額",house_pick_up_follow_up_weight:"取件續重重量單位(KG)",house_pick_up_follow_up_price:"取件續重單價",house_delivery_first_weight:"送件首重重量(KG)",house_delivery_first_price:"送件首重提成金額",house_delivery_follow_up_weight:"送件續重重量單位(KG)",house_delivery_follow_up_price:"送件續重單價",is_activated:"使否啟用"},driver_commission_reports:{staff:"人員",total_amount:"總金額",time:"期間",begin_at:"計算起日",end_at:"計算訖日",created_at:"產生日期"},materials:{name:"物料名稱",en_name:"英文名稱",core_waybill_level:"運單階層",class_name:"識別名稱",label_type:"標籤種類",needs_label:"需要標籤"},nodes:{is_sandbox_mode:"沙盒模式",client_id:"Magnet APP ID",client_secret:"Magnet APP ID",access_token:"Magnet AccessToken",refresh_token:"Magnet Authorization",tax:"統一編號",carrier_class:"carrier::class",host:"host",service_name:"前台產品",code:"代碼",company_name:"公司名稱",company_short_name:"簡短名稱",company_en_name:"英文名稱",email:"電子郵件",phone:"聯絡電話",fax:"聯絡傳真",website_url:"官網網址",customer_service_hotline:"客服專線"},operations:{number:"訂單號",file:"託運文件",file_name:"託運文件名稱",file_url:"託運文件網址",original_file_name:"託運文件",station:"分配站點",staffs:"分配人員",customer:"客戶",customer_identity:"客戶",your_note:"您的備註",customer_note:"客戶備註",provider_note:"備註",system_note:"系統備註",cancel_reason:"作廢理由",instantiate_note:"實例化備註",is_canceled:"已取消",is_operable:"",is_operated:"",is_ready:"",status:"狀態",is_done:"已完成",is_done_true:"已完成",is_done_false:"未完成",created_at:"日期"},partitions:{name:"名稱",numbers:"號碼",numbers_from:"起始",numbers_to:"結尾",numbers_rule:"可用數量",parent:"子區間",customer:"客戶",contracts:"合約",customer_identity:"客戶",material:"物料",material_identity:"物料",note:"備註",regex:"regex"},permissions:{name:"名稱",uri:"uri",http_method:"http_method"},permission_groups:{name:"名稱"},roles:{name:"名稱"},scan_action_prototypes:{name:"動作名稱",barcode:"條碼號",required_condition:"需求條件",before_actions:"前置動作",is_default:"設定為初始貨況",description_required_scope:"綁定貨況描述之Scope",description_options:"綁定貨況描述之候選選項"},staffs:{username:"帳號",password:"密碼",password_confirmation:"確認密碼",name:"姓名",phone:"電話",email:"E-mail",mobile:"手機號碼",fax:"傳真",tax:"tax",country:"國家",state:"state",city:"城市",district:"區",address:"地址",theme_name:"版面配置",note:"備註",is_banned:"是否被停權",role_identity:"職位",role:"職位",station_identity:"所屬站點",station:"所屬站點"},stations:{name:"站點名稱",code:"代碼",address:"地址",phone:"電話",position:"範圍",note:"備註"},status_prototypes:{name:"名稱",material:"物料",description:"敘述",non_polarity:"無極性",positive_polarity:"正極性",negative_polarity:"負極性"},user_logs:{title:"主旨",description:"描述",modified_attributes:"數值遷移",level:"紀錄層級",action_type:"動作類型",is_undid:"復原紀錄",undid_at:"復原於",node_identity:"節點ID",operator_identity:"操作者ID",loggable_identity:"loggable_identity",loggable_type:"紀錄對象",created_at:"日期",updated_at:"updated_at",identity:"ID"},core_waybills:{number:"號碼",operation_number:"訂單號碼",original_number:"原單號碼",tracking_number:"追踪號碼",storage_number:"儲位號",warehouse_identity:"入倉代號",original_core_waybill_identity:"original_core_waybill_identity",tracking_core_waybill_identity:"tracking_core_waybill_identity",label_type:"標籤種類",sender:"寄件人",sender_company_name:"寄件人公司名",sender_zip_code:"寄件人郵遞區號",sender_address:"寄件人地址",sender_name:"寄件人姓名",sender_phone:"寄件人電話",sender_email:"寄件人email",sender_fax:"寄件人傳真",sender_url:"寄件人網址",consignee:"收件人",consignee_company_name:"收件人公司名",consignee_zip_code:"收件人郵遞區號",consignee_address:"收件人地址",consignee_name:"收件人姓名",consignee_phone:"收件人電話",consignee_email:"收件人email",consignee_fax:"收件人傳真",flight_number:"航次",cvs_store_number:"cvs商店號碼",cvs_store_name:"cvs商店名稱",cvs_store_address:"cvs商店地址",cvs_store_phone:"cvs商店電話",station_code:"地區編號",temperature:"溫層",payment_type:"付款方式",receipt_file:"簽收單",receipt_file_url:"簽收單網址",current_status:"當前狀態",goods_name:"品名",note:"備註",note_2:"備註2",note_3:"備註3",declared_value:"貨物申報價值",measurement:"材積",weight_in_kilo:"重量(KG)",serial:"串行",is_used:"使用狀態",node_identity:"node_identity",station_identity:"station_identity",operation_identity:"operation_identity",partition_identity:"partition_identity",material_identity:"material_identity",source_core_waybill_identity:"source_core_waybill_identity",parent_core_waybill_identity:"parent_core_waybill_identity",consignee_address_accuracy:"收件人準確地址",consignee_formatted_address:"收件人格式化地址",consignee_address_components:"收件人地址組件",is_done:"是否完成",is_collected:"代收貨款 是否繳回公司",no_paid:"未繳回",paid:"已繳回",collection:"代收貨款",collection_fee:"代收款手續費",simplified_declaration_form_fee:"簡易報單費",declaration_form_fee:"正式報單費",declaration_form_extra_fee:"長單費",tax:"稅金",price:"運費",insurance:"保險費",material_fee:"包材費",consignee_tax_point:"收件人稅點",sender_tax_point:"寄件人稅點",warehouse_fee:"倉租費",fuel_surcharge:"燃油附加費",value_added_service_fee:"加值服務費",overlength_fee:"超長費",overweight_fee:"超重費",extra_fee:"其他",shipping_date:"配送日期",shipping_period:"配送時段",shipping_note:"配送備註",latest_status:"貨況",created_at:"建立日期",updated_at:"更新日期",identity:"identity",is_deleted:"已被刪除",deleted_at:"刪除日期"}}},ui:{general:{cannot:"無法",cannot_use:"您無法使用",clear:"清除",select:"選擇",please_select:"請選擇",yes:"是",no:"無",no_data:"無資料",date:"日期",day:"天",days:"天",hour:"小時",hours:"小時",minute:"分",minutes:"分",second:"秒",operate:"操作",hot_key:"快捷鍵",copy:"複製",note:"備註",simple:"簡易",advanced:"進階",detail:"詳細",show:"檢視",edit:"編輯",create:"建立",creating:"建立中",search:"搜尋",searching:"搜尋中",search__key:"搜尋{key}...",submit:"送出",result:"結果",verify:"驗證",verifying:"驗證中",verify_staff:"驗證身份",update:"更新",updating:"更新中",delete:"刪除",deleteing:"刪除中",ready:"準備",readying:"準備中",handle:"處理",handling:"處理中",cancel:"取消",canceling:"取消中",print:"列印",printing:"列印中",upload:"上傳",uploading:"上傳中",fetch:"取得",success:"成功",failure:"失敗",network_abnormality:"連線異常",server_offline:"伺服器離線",error:"錯誤",back:"返回",initialize:"初始化",initializing:"載入中，請稍等",initialize_complete:"初始化完畢",created_at:"建立日期",updated_at:"更新日期",deleted_at:"刪除日期",folder:"資料夾",file:"檔案",all:"全部"},page_titles:{index:"首頁",current_page:"目前位置",provider_index:"快遞系統-管理端",station_index:"快遞系統-站點端",customer_index:"快遞系統-客戶端",provider_pages:"管理界面",customer_pages:"客戶界面",uploader:"匯入明細",station_uploader:"匯入明細",provider_uploader:"匯入明細",customer_uploader:"匯入明細",operation_show:"訂單內容",operation_print_list:"列印託運總表",operation_print_label:"列印託運標籤",assets:"資產列表",assets_index:"資產列表",new_asset:"新增資產",edit_asset:"編輯資產",print_asset:"印出資產標籤",quote_policies:"計價政策",quote_policy:"檢視計價政策",provider_customers:"客戶管理",new_provider_customer:"新增客戶",provider_customer:"檢視客戶",station_customers:"客戶管理",new_station_customer:"新增客戶",station_customer:"檢視客戶",provider_contracts:"客戶合約",new_provider_contract:"新增合約",provider_contract:"檢視合約",new_provider_quotation:"新增報價單",provider_quotation:"檢視報價單",station_contracts:"客戶合約",new_station_contract:"新增合約",station_contract:"檢視合約",new_station_quotation:"新增報價單",station_quotation:"檢視報價單",scanner:"掃描界面",provider_operations:"訂單列表",edit_provider_operation:"編輯訂單",driver_commissions:"抽成紀錄列表",materials:"物料管理",new_material:"新增物料",edit_material:"編輯物料",provider_partitions:"號碼區間",provider_associated_partitions:"我的號碼區間",customer_partitions:"號碼區間",new_provider_partition:"新增號碼區間",edit_provider_partition:"編輯號碼區間",station_partitions:"號碼區間",station_associated_partitions:"我的號碼區間",new_station_partition:"新增號碼區間",edit_station_partition:"編輯號碼區間",permissions:"權限列表",permission_groups:"權限群組管理",new_permission_group:"新增權限群組",edit_permission_group:"編輯權限群組",customer_core_waybills:"總運單管理",customer_core_waybills_operation:"訂單篩選管理",customer_show_core_waybill_operation:"檢視運單",customer_show_core_waybill:"檢視運單",core_waybills:"總運單管理",core_waybills_operation:"訂單篩選管理",edit_core_waybill_operation:"編輯運單",edit_core_waybill:"編輯運單",new_core_waybill:"新增運單",roles:"職位管理",new_role:"新增職位",edit_role:"編輯職位",settings:"設定",staffs:"員工管理",new_staff:"新增員工",staff:"員工內容",edit_staff:"編輯員工",stations:"站點管理",new_station:"新增站點",edit_station:"編輯站點",status_prototypes:"貨況管理",new_status_prototype:"新增貨況",status_prototype:"貨況內容",edit_status_prototype:"編輯貨況",pack:"打包界面",unpack:"拆包界面",page_404:"Not Found",operate:"處理",appraisals:"考績列表",edit_appraisal:"編輯考績",new_appraisal:"新增考績",user_logs:"使用者歷程",user_log:"使用者歷程",driver_commission_policies:"收派件提成政策",new_driver_commission_policy:"新增收派件提成政策",edit_driver_commission_policy:"編輯收派件提成政策",driver_commission_reports:"收派件提成報告",new_driver_commission_report:"建立收派件提成報告",driver_commission_report:"收派件提成報告內容",scan_action_prototypes:"掃描動作列表",scan_action_prototype:"掃描動作內容",new_scan_action_prototype:"建立掃描動作",edit_scan_action_prototype:"編輯掃描動作",provider_node:"公司資訊",customer_operations:"訂單列表",show_customer_operation:"訂單內容",new_provider_operation:"新增訂單",provider_distributions:"分撥設定",new_provider_distribution:"新增轄區",edit_provider_distribution:"轄區內容",permission_denied:"權限問題"},links:{menu:{provider_index:"後台首頁",scan:"掃描管理",scan_action_prototypes:"掃描動作",status_prototypes:"貨況管理",numbers:"單號管理",provider_partitions:"號碼區間",station_partitions:"號碼區間",assets:"資產管理",stations:"站點管理",materials:"物料管理",uploader:"匯入明細",provider_uploader:"匯入明細",station_uploader:"匯入明細",customer_uploader:"匯入明細",permission_groups:"權限群組",core_waybills:"總運單管理",provider_operations:"訂單管理",station_operations:"訂單管理",staffs:"員工",roles:"職位管理",users:"員工管理",routes:"路由表",processed_files:"文件紀錄",import_files:"API Openfile",intelligent:"intelligent",operation_managers:"Operation Manager",user_logs:"使用者歷程",commission_policies:"提成政策",commission_reports:"提成報告",driver_commission_policies:"收派件提成政策",driver_commission_reports:"收派件提成報告",driver_commissions:"收派件提成紀錄",provider_node:"公司管理",provider_distributions:"分撥設定",provider_customers:"客戶管理",station_customers:"客戶管理"},top_menu:{my_receipts:"我的簽收單",print_check_summary:"列印點交單",scanner:"掃描系統",language:"語言",notice:"通知",no_station:"尚未選擇站點",overtime_note:"逾時提示",full_logout:"完整登出",full_logout_help:"會完整清除設定記錄",logout:"登出"}},theme_names:{staff:"標準員工",driver:"司機",manager:"主管",operator:"操作員",exception:"例外帳號",default:"預設帳號"},status_scopes:{operator:"內部貨況",forwarder:"客戶貨況",public:"公開貨況",mark:"標記",condition:"流程控制",system:"系統",unknown:"不明"},validator:{is_required:" 為必填欄位。",greater_than:" 必須大於 ",if:"如果 ",is:" 為 ",then:" 那麼 "},notifications:{help:{this_page_is_out_of_date_please_click_here_to_refresh:"此頁面的資料已非最新，請點此重新整理",please_clicked_initialize_again:"請點擊再次初始化掃描系統"},success:{fetch:"取得成功",update:"更新成功",create:"建立成功",delete:"刪除成功",verify:"驗證成功",upload:"上傳成功",__name:"{name}成功",fetch__name:"取得{name}成功",update__name:"更新{name}成功",create__name:"建立{name}成功",delete__name:"刪除{name}成功",verify__name:"驗證{name}成功",upload__name:"上傳{name}成功",copy__name:"複製{name}成功"},warning:{are_you_sure_to_delete_it:"確定要刪除?",are_you_sure_to_cancel_it:"確定要取消?"},error:{find:"查詢失敗{reason}",fetch:"取得失敗{reason}",update:"更新失敗{reason}",create:"建立失敗{reason}",delete:"刪除失敗{reason}",verify:"驗證失敗{reason}",upload:"上傳失敗{reason}",copy:"複製失敗{reason}",__name:"{name}失敗",find__name:"查詢{name}失敗{reason}",fetch__name:"取得{name}失敗{reason}",update__name:"更新{name}失敗{reason}",create__name:"建立{name}失敗{reason}",delete__name:"刪除{name}失敗{reason}",verify__name:"驗證{name}失敗{reason}",upload__name:"上傳{name}失敗{reason}",copy__name:"複製{name}失敗{reason}",no_data:"沒有任何資料",please_handle_errors:"請處理以下錯誤",exception_error_please_contact_the_system_supplier:"例外錯誤，請聯絡系統商",please_check_to_write_in_the_required_fields_mark:"請檢查必填欄位(*標記)是否確實填寫"}},scanner:{settings:{is_scan_mode:{true:"掃描模式 | 掃描",false:"手動模式 | 手動"},is_scan_action_mode:{true:"點貨作業模式 | 點貨",false:"檢視資料模式 | 檢視"},is_batch_mode:{true:"批次處理 | 批次 | 警告！已啟用 批量作業模式，號碼需用逗號區隔，將不再提醒必填資訊",false:"不批次處理 | 不批次"},is_operation_mode:{true:"使用訂單模式 | 訂單",false:"不使用訂單模式 | 無訂單"},is_core_waybill_pieces_mode:{true:"多件一單 | 多件一單",false:"非多件一單 | 非多件一單"},is_update_corewaybill_mode:{true:"更新運單 | 更新運單",false:"檢視運單 | 檢視運單"},is_auto_print_label_mode:{true:"自動產標 | 印標",false:"不產標籤 | 不印標"},is_distributed_to_mode:{true:"分撥模式 | 分撥",false:"不分撥 | 不分撥"},is_noty_audio_mode:{true:"提示聲模式 | 提示聲",false:"靜音模式 | 無提示聲"},is_speech_mode:{true:"語音報件模式 | 語音",false:"靜音語音報件 | 無語音"},is_quick_corewaybill_related_columns:{true:"快速套用欄位 | 快速套用",false:"不快速套用 | 不快速套用"},is_package_mode:{true:"自動包裝 | 包裝 | 包裝中",false:"不包裝"},is_unpackage_mode:{true:"自動拆包 | 拆包 | 拆包中",false:"不拆包"},pack_need_source_mode:{short_name:"套用資料",true:"套用",false:"不套用"},core_waybill_template_mode:{short_name:"檢視模式",min_card:"極簡運單檢視 | 極簡",card:"一般運單檢視 | 一般",detail:"詳細運單檢視 | 詳細"}},setting_groups:{LB00:"運單起始貨況",LB01:"1.放行",LB02:"2.點交",LB06:"3.異常件",LB07:"3.異常件排除",LB11:"鎖定",LB12:"解除鎖定",LA00:"運單起始貨況",LA01:"1.收貨",LA02:"2.進站",package:"包裝",LA03:"3.派件中",LA10:"3.聯運",LA09:"3.出站集貨中轉",LA05:"4.回站",LA04:"4.已配達",LA06:"4.異常件",LA07:"4.異常件排除",LA08:"寄件者退運",LA11:"鎖定",LA12:"解除鎖定",LA13:"結案",LA21:"進倉",LA22:"上架",LA23:"出倉",LA24:"不明貨",unpackage:"拆包",distributed_to:"分撥",pack_house_waybill:"袋包運, 裝袋作業",pack_waybill_goods:"運包子, 一票多件",search:"查詢運單",print:"列印標籤"},menus:{settings:"掃描設定",setting_group:"設定包",operation:"訂單",package:"包裝",core_waybill:"運單"},jobs:{job:"工作",clear_jobs:"清除紀錄",waiting_user_action:"等待使用者動作",idle:"閒置中",processing:"處理中",success:"成功",failure:"失敗",number:"號碼",no_add_status:"尚未新增貨況",no_error:"無錯誤",scope:{original_number:"原單號查詢",new:"建立新運單"}},package:{packing_material:"包材",package:"包",unpackage:"拆",total__number:"{number}件",detail:"檢視",hide:"隱藏"},upload:{receipt_file:"請上傳簽收單",result:"上傳結果"},helps:{select:"請選定",write:"請填寫",scan:"請掃描",quick_required_field_div:"快速套用必填欄位區",current_scan_action_prototype:"當前狀態條碼",distributed_result:"分撥結果",you_dont_any_operation:"您目前沒有任何訂單",write_or_scan_barcode:"輸入號碼或是掃描條碼",write_related_columns:"請填寫必要欄位",write_scan_action_note:"請填寫貨況備註",write_number:"請輸入號碼",select_scan_action:"請選定條碼狀態",select_pack_taget_parent:"請選定包材",select_pack_taget:"請選擇包裝目標",select_target_layer:"請選定目標層",selected_operation:"已選擇訂單",distributed:{please_select:"請選擇",current_station:"當前站點",can_use_distributed_to_mode:"才可啟用分撥"}},alerts:{is_created:"是否要建立",required:"必填",previous:"上一步",give_up:"放棄",definite:"確定",please_write:"請填入",required_field:"必填欄位",if_have_write:"有則填寫",upload_receipt_img:"請上傳簽收單",upload_result:"上傳結果",uploading:"上傳中",please_write_scan_note:"請填入貨況備註"},operations:{total:"共有 {operations_length} 件委託單，{sum_core_waybills}件貨",contents:"內容運單",current_operation_set_to:"已設定當前訂單為",clear_current_operation:"已清空當前訂單"},success:{quick_setting:"快速設定成功"},errors:{multiple_numbers_in_batch_mode:"批次作業下請輸入複數號碼",setting_group_not_found:"無此快速設定包",setting_not_found:"無此快速設定",core_waybill_not_found:"查無單號",failed_to_fetch_core_waybill_statuses:"查詢貨況資訊失敗",failed_to_instantiate_scan_action_prototype:"掃描動作失敗",failed_to_update_core_waybill_related_column:"更新運單必要欄位失敗",give_up_core_waybill_related_columns:"運單未填寫必要資訊",give_up_scan_action_description:"貨況未填寫必要備註",give_up_create_core_waybill:"未建立運單"}},pages:{customer_home:{title:"歡迎來到客戶管理"},partials:{page_404:{cant_find_page:"找不到頁面"},permission_denied:{you_dont_permission:"您無權限"},login_expiration_hint_modal:{idle:"閒置",content:"系統偵測到你很久沒有動作了，再過{time}就會自動登出。",i_am_back:"我回來了"}},login:{customer_management_login:"客戶登入",provider_management_login:"管理後台登入",station_management_login:"站點登入",please_enter_your_account_and_password:"請輸入您的帳號及密碼",account:"帳號",password:"密碼",verification_code:"請填入驗證碼",pass_next_timeout_will_dont_warn:"你能通過下次逾時檢查，我就不提示囉",btns:{auto_input_test_account:"自動輸入測試帳號",login:"登入"},errors:{your_site_has_not_registered_system:"您所在的網站尚未註冊本系統",please_fill_in_the_verification_code:"請填入驗證碼",account_or_password_incorrect:"帳號或密碼錯誤",verification_code_incorrect:"驗證碼錯誤",verification_code_expired:"驗證碼逾時失效",failure_to_login:"登入失敗",timeout:"閒置過久已自動登出"}},appraisals:{point:"分數",reason:"事由",staff_identity:"員工",registrant_identity:"登記人"},monitor:{menu_title:{all:"全部",myself:"個人",station:"站點"},title:{all_pending_operations:"全部待處理訂單",all_pending_waybills:"全部待處理運單",pending_operations:"待處理訂單",pending_waybill_in_operations:"訂單內待處理運單",pending_waybills:"待處理運單"},sub_title:{not_completed_operations:"未完成的訂單",not_completed_waybills:"未完成的運單",assigned_to_me_but_not_completed_operations:"分配給我處理但未完成的訂單",assigned_to_me_but_not_completed_waybill_in_operations:"分配給我處理的訂單中未完成的運單",the_unfinished_waybill_that_was_last_my_scanned:"最後在我手上掃描但未完成的運單",assigned_to_stationg_but_not_completed_operations:"分配給 <span style='color: green;'>{station_name}</span> 處理但未完成的訂單",assigned_to_stationg_but_not_completed_waybill_in_operations:"配給 <span style='color: green;'>{station_name}</span> 處理的訂單中未完成的運單"}},assets:{categories:"資產種類",print_barcode:"列印條碼",have_category:"既有種類",clear_value:"清空本欄",helps:{no_anything_category:"尚無類別",no_anything_assets:"尚無資產",write_or_use_category_list:"自行填寫或選擇右側列表",please_clicked_upper_left_new_asset_button:"點選左上新增資產按鈕建立"}},customer_contracts:{additional_information:"額外資訊"},customers:{contracts:"合約",normal:"正常",banned:"停權",unbanned:"復權",is_banned:"已停權",basic_information:"基本資料",common_sender_information:"常用寄件人資訊",common_consignee_information:"常用收件人資訊",is_open_use_associated_partition:"是否開放使用「我的號碼區間」",is_open_use_use_yourself_partition:"是否開放使用「自用號碼區間」",helps:{the_password_does_not_match_the_confirmation_password:"密碼與確認密碼不相符"}},distributions:{activated:"已啟用",unactivated:"未啟用",add_condition:"增加條件",add_condition_help:"如何寫條件？",add_condition_help_content_1:"1. 同樣條件類型的項目會做OR比對，不同條件類型的項目是做AND比對，例如：直轄市台北市+直轄市區信義區+直轄市區中正區+直轄市新北市+直轄市區新店區五個條件，符合本區配送條件的地址有台北市信義區、台北市中正區及新北市新店區",add_condition_help_content_2:"2. 內容請填完整繁體中文名稱",condition_type:"條件類型",content:"內容",undo:"復原",filter:{direct:"站點直派",intermodal:"轉聯運"}},driver_commissions:{driver:"司機",no_done:"尚未結算",core_waybill_number:"運單號"},driver_commission_policies:{activated_switch:"啟用開關",activated:"啟用",pickup:"一般件",bag:"袋裝",table:{general_pickup:"一般取件",general_delivery:"一般送件",bag_pick:"袋裝取件",bag_delivery:"袋裝送件",is_activated:"啟用",first_weight:"首重",first_price:"首重價",follow_up_weight:"續重",follow_up_price:"續重價"}},driver_commission_reports:{total_amount_of_commission:"總提成金額",print:"列印",setting:"列印",print_setting:"列印設定",detailed_mode:"詳細模式",from:"從",to:"至",status:"狀態",no_select_date:"尚未選擇",start_all:"全部開始",go_to_report:"前往報告",table:{pickup_details:"取件明細",dispatch_details:"派件明細",No:"序號",number:"單號",weight:"重量",date:"日期",commission:"提成(元)",total:"總計"},filter:{staff_name:"人員",begin_at:"計算起日",end_at:"計算訖日",total_amount_from:"提成金額從...",total_amount_to:"提成金額到...",created_at:"產生日期"}},nodes:{company_information:"公司資訊"},operations:{provider_note_value:"寄件人姓名: \n寄件人電話: \n",processing:"處理中",contract:"合約",schedule:"進度",waybill_amount:"單數",print_receipt:"印出簽收單",print_coew_waybill_labels:"印出運單標籤",print_coew_waybill_checklist:"印出託運總表",delete_help:"刪除訂單將會與下屬袋、運單、子單...等一併刪除",_name_operation_list:"{name}託運總表",_name_customer_receipt:"{name}客戶簽收單",helps:{please_confirm_sender_and_contract_are_selected:"請確認寄件人及合約皆有選取"},table:{finish:"完成",total:"總數"}},partitions:{automatic_number:"自動取號",use_yourself:"自用",statistics:"統計",total_amount:"總數量",available_quantity:"可用數量",if_use_it_yourself_do_not_write:"如自用請留空"},uploader:{redo:"重做",open_file:"開啟文件",operation_list:"託運總表",upload_operation_list:"上傳託運總表",selected:"已選擇",contract:"合約",your_actions:"您的動作",operation_order:"託運訂單",field_data_succeeded:"欄位檢查成功",checking_waybill_data_ok:"運單內容檢查完成",checking_operation_data_ok:"訂單內容填寫完成",upload_detail_completed:"明細上傳完畢",continue_next_file:"繼續上傳下一份文件",materialization_operation:"實體化訂單",consignment:"託運",delivery:"配送",total:"總計",total__number:"{number}筆",dimmer:{what_do_you_want_now:"您現在想要",please_upload_your_file:"請上傳您的檔案",download_sample_file:"下載範例文件",clicked_this_card_redo:"點擊這張卡片重新開始",select_file:"選擇檔案"},steps:{title:{operation:"訂單",confirm_data:"確認資料",upload_data:"上傳資料"},description:{operation_content:"指示本次託運內容",confirm_data_is_correct:"請確認資料是否正確",upload_data_to_server:"將資料上傳至伺服器"}},file:{name:"檔案名稱",size:"檔案大小",path:"檔案下載路徑",upload:"檔案上傳",complete:"完成",not_uploaded:"尚未上傳"},column_verification:{required_field:"必填欄位",unknown_waybill:"不明運單"}},scan_action_prototypes:{binding_material:"綁定物料",print_barcodes:"列印貨況條碼",field_name:"欄位名",value:"數值"},staffs:{appraisals:"考績",normal:"正常",banned:"停權",unbanned:"復權",is_banned:"已停權"},user_logs:{record_object:"紀錄對象",operator:"操作者",field_name:"欄位名",value:"數值",yes:"是",no:"否"},core_waybills:{done:"完成",print_filter_result_labels:"列印搜尋標籤",export_csv_file:"匯出csv",export_clearance_csv_file:"匯出清關csv",export_daily_csv_file:"匯出當日報表",download_daily_csv_file:"下載當日報表",please_select_partition:"請選擇號碼區間",back_to_select_partition:"返回 選號碼區間",partition_number_from:"起始號碼",partition_number_to:"結束號碼",again:"重新",upload_picture:"上傳圖片",no_upload_any_picture:"無上傳圖片",system_generation:"系統生成",have_contained_status:"且曾經含有貨況",status:{"可使用":"可使用","使用中":"使用中","曾經使用過":"曾經使用過","可放行":"可放行","放行中":"放行中","曾經放行過":"曾經放行過","可點交":"可點交","點交中":"點交中","曾經點交過":"曾經點交過","可收貨":"可收貨","收貨中":"收貨中","曾經收貨過":"曾經收貨過","可進站":"可進站","進站中":"進站中","曾經進站過":"曾經進站過","可配送":"可配送","配送中":"配送中","曾經配送過":"曾經配送過","可回站":"可回站","回站中":"回站中","曾經回站過":"曾經回站過","可配達":"可配達","配達中":"配達中","曾經配達過":"曾經配達過","可中轉":"可中轉","中轉中":"中轉中","曾經中轉過":"曾經中轉過","可聯運":"可聯運","聯運中":"聯運中","曾經聯運過":"曾經聯運過","可異常件":"可異常件","異常件中":"異常件中","曾經異常件過":"曾經異常件過","可鎖定":"可鎖定","鎖定中":"鎖定中","曾經鎖定過":"曾經鎖定過","可完成":"可完成","完成中":"完成中","曾經完成過":"曾經完成過",USABLE:"可用的",CHECKABLE:"可進站",SHIPPABLE:"可配送",SHIPPING:"配送中",TRANSFERING:"正在集貨中轉",EXCEPTIONABLE:"可設異常件",EXCEPTIONING:"異常件",SENDER_REGRETABLE:"寄件人可反悔寄",CHECKING:"正在站內",TRANSFERABLE:"可集貨中轉",INTERMODALABLE:"可聯運",INTERMODALING:"聯運中",RELEASABLE:"可放行",CAN_HAND_OVER:"可點交",LOCKING:"鎖定中",IS_DONE:"已配達",system:"系統",condition:"系統",administrator:"管理員",operator:"內部貨況",forwarder:"客戶",public:"公開",mark:"標記",no_latest_status:"無最新貨況"},filter:{find__key:"搜尋{key}...",find_number:"搜尋運單號碼...",clear:"清空",numbers:"號碼",waybill_content:"運單資訊",status:"貨況",have_contained:"且曾經含有",selected_is_used:"請選擇狀態",is_used:{true:"已使用",flase:"未使用"},material:"物料",selected_material:"請選擇物料",selected_station:"何處",selected_staff:"誰",selected_status:"貨況",selected_status_scope:"類別",selected_polarity:"正在/不在",polarity:{positive:"正在",negative:"不在"},status_depiction:{now:"現在 運單",at_the:"在",in_the:"在",by:"由",handle:"處理",before_by:"曾經由",added:"新增了"}}}},toolbox:{back_to_top_button:{back_to_top:"回到最上"},bulletin_board:{name:"留言板",message:"留言",no_messages:"尚無留言！",talk_your_comment:"說說你的意見"},crud_templates:{new:"新"},core_waybills_label_svg:{labels:{paper_type:"列印紙張種類"},btns:{print:"列印"},helps:{numbers_input:"號碼 範例:123,456,789"},errors:{no_authentication_token:"pops 參數請給予 authentication_token",no_number:"請輸入號碼"}},core_waybill:{parent_core_waybill:"上層運單",child_core_waybill:"下層運單",no_any_parent_and_child_waybill:"無上下層運單",use_partition:"所使用的號碼區間",partition_number_from:"起始號碼",partition_number_to:"結束號碼",btns:{label:"展開標籤",print:"列印",update:"更新",switch_style:"切換樣式",simple:"簡易",detail:"詳細"},helps:{source:"資料來源",is_deleted:"已經刪除，請返回",tooltip_have_source_core_waybill:"當前運單資料來自於{number}，點擊以編輯"},errors:{please_clicked_initialize_again:"請點擊再次初始化掃描系統",change_template_error:"切換版形錯誤",no_number:"無號碼",invalid_loading_image:"載入圖片無效",waybill_no_label_class_cant_print:"此運單無綁定標籤種類，無法產標",props_is_can_print_label_unable:"參數 is_can_print_label 無啟用",no_label_type:"無指定標籤種類",label_type_error:"標籤種類錯誤",label_paper_type_error:"紙張種類錯誤"}},core_waybills:{quick_update_table:"快速更新表格",quick_update:"快速更新",batch_edit:"批次修改",no_station:"無貨況",packed_in:"包裝於",deleted:"已刪除",add_table:"加入表格"},operation_summary:{print_operation_list:"列印託運總表",table:{sender_signature:"寄件人簽名",driver_signature:"收貨司機簽名"}},receipts:{print_receipt:"列印簽收單"},stations_modal:{turn_of_GPS:"關閉gps",turn_on_GPS:"開啟gps",turn_on_auto_tracking:"已啟用自動判定",modify_current_station:"更改當前站點",please_select_the_current_station:"請先選擇當前站點",you_are_not_a_manager_will_modify_station_please_contact_the_manager:"您並非管理者, 今後更換站點 請聯絡管理員",you_do_not_belong_station_will_update_your_data_after_selection:"您目前無站點, 選完會更新您的使用者資料",current_station:"當前站點",tracking_GPS:"請求GPS",decisioning:"判定中",cancel_current_station:"取消當前站點",btns:{track_once:"自動判定(一次)",auto_tracking_every_minute:"自動判定(每分鐘)"},errors:{geolocation_is_not_supported_by_this_browser:"你當前瀏覽器不支持存取定位功能",your_web_protocol_is_not_HTTPS:"請使用HTTPS服務存取",get_location_failure:"取得 定位功能失敗"}},speed_test:{network_quality:"連線品質"},my_receipts:{neme:"我的簽收單",force_current_station:"強制當前站點",print:"{page}列印{note}",customer_receipt:"客戶簽收單"},notifications:{mark_all_read:"標示所有為已讀",no_new_notifications:"沒有新的動態"}},el:{colorpicker:{confirm:"確認",clear:"清空"},daterange_option_shortcut:{today:"今日",three_days:"最近三天",week:"最近一周",month:"最近一個月",three_months:"最近三個月",six_months:"最近半年"},datepicker:{now:"現在",today:"今天",cancel:"取消",clear:"清空",confirm:"確認",selectDateTime:"選擇日期時間",selectDate:"選擇日期",selectTime:"選擇時間",startDate:"開始日期",startTime:"開始時間",endDate:"結束日期",endTime:"結束時間",prevYear:"前一年",nextYear:"後一年",prevMonth:"上個月",nextMonth:"下個月",year:"年",month1:"1 月",month2:"2 月",month3:"3 月",month4:"4 月",month5:"5 月",month6:"6 月",month7:"7 月",month8:"8 月",month9:"9 月",month10:"10 月",month11:"11 月",month12:"12 月",week:"周次",weeks:{sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},months:{jan:"一月",feb:"二月",mar:"三月",apr:"四月",may:"五月",jun:"六月",jul:"七月",aug:"八月",sep:"九月",oct:"十月",nov:"十一月",dec:"十二月"}},select:{loading:"加載中",noMatch:"無匹配資料",noData:"無資料",placeholder:"請選擇"},cascader:{noMatch:"無匹配資料",loading:"加載中",placeholder:"請選擇"},pagination:{goto:"前往",pagesize:"項/頁",total:"共 {total} 項",pageClassifier:"頁"},messagebox:{title:"提示",confirm:"確定",cancel:"取消",error:"輸入的資料不符規定!"},upload:{deleteTip:"按 delete 鍵可刪除",delete:"刪除",preview:"查看圖片",continue:"繼續上傳"},table:{emptyText:"暫無資料",confirmFilter:"篩選",resetFilter:"重置",clearFilter:"全部",sumText:"Sum"},tree:{emptyText:"暫無資料"},transfer:{noMatch:"無匹配資料",noData:"無資料",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"}}}}},f7cf:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"notifications"},[i("div",{ref:"notification_button",staticClass:"ui icon button"},[e.has_processing?i("i",{staticClass:"loading circle notch large icon"}):0==e.notifications.length?i("i",{staticClass:"paper plane outline large icon"}):i("i",{staticClass:"paper plane large icon"}),e.unread_notificatons.length>0?i("div",{staticClass:"floating ui red circular label",staticStyle:{top:"-0.5em"}},[e._v("\n            "+e._s(e.unread_notificatons.length)+"\n        ")]):e._e()]),i("div",{staticClass:"ui flowing scrolling popup hidden"},[e.notifications.length>0?i("div",{staticClass:"ui feed"},e._l(e.notifications,function(e){return i("Notification",{key:e,attrs:{notification:e}})})):i("div",{staticClass:"ui feed"},[e._m(0)])])])},a=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"event"},[i("div",{staticClass:"label"},[i("i",{staticClass:"hand peace outline icon"})]),i("div",{staticClass:"content"},[i("div",{staticClass:"summary"},[e._v("\n                        沒有新通知\n                    ")]),i("div",{staticClass:"extra text"},[e._v("\n                        目前沒有新通知，所有的新通知會顯示於此。\n                    ")])])])}],r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.parsed_notification.target?i("div",{staticClass:"event"},[i("div",{staticClass:"label"},["processing"==e.notification.data.status?i("i",{staticClass:"loading cog icon"}):e._e(),"processed"==e.notification.data.status?i("i",{staticClass:"green check icon"}):e._e(),"failure"==e.notification.data.status?i("i",{staticClass:"red cancel icon"}):e._e()]),i("div",{staticClass:"content"},[i("div",{staticClass:"summary"},[e._v("\n            "+e._s(e.parsed_notification.target)+e._s(e.parsed_notification.action)+e._s(e.parsed_notification.status)+"\n            "),i("div",{staticClass:"date"},[e._v("\n                "+e._s(e.human_datetime(e.notification.created_at,null,"relative"))+"\n            ")])]),i("div",{staticClass:"extra text",domProps:{innerHTML:e._s(e.parsed_notification.message)}}),i("div",{staticClass:"meta"},[i("a",{staticClass:"like",on:{click:function(t){e.toggle_is_read()}}},[i("i",{staticClass:"eye icon"}),e._v(" "+e._s(e.notification.is_read?"已讀":"未讀")+"\n            ")])])])]):e._e()},s=[],o={props:{notification:Object},data:function(){return{}},watch:{},created:function(){},mounted:function(){},computed:{parsed_notification:function(){var e={},t=this.notification.data;switch(t.target){case"operation":switch(e.target="訂單",t.action){case"create":switch(e.action="建立",t.status){case"processing":e.status="中",e.message="訂單建立中，建立完成後於此顯示結果";break;case"processed":e.status="完成",e.message="訂單建立成功，訂單編號：<a>N4160755219144420983</a>";break;case"failure":e.action="建立失敗";default:}break;case"update":break;case"delete":break;default:}break;case"core_waybill":switch(e.target="運單",t.action){case"create":break;case"update":break;case"delete":break;case"export":switch(e.action="報表建立",t.status){case"processing":e.status="中",e.message="報表建立中，建立完成後於此顯示結果";break;case"processed":e.status="完成",e.message="報表建立成功，下載連結：<a href='"+t.file_url+"'>"+t.filename+"</a>";break;case"failure":e.action="建立失敗";default:}break;default:}break;default:}return e}},methods:{toggle_is_read:function(){this.notification.is_read=!0},update_notification:function(){that.$store.commit("provider/update_notification",this.notification)}},components:{}},c=o,l=i("2877"),u=Object(l["a"])(c,r,s,!1,null,"7d3c7f6a",null),d=u.exports,p={name:"ToolNotificationMain",props:{},data:function(){return{unread_notificatons_count:0}},computed:{notifications:function(){return this.$store.state.provider.notifications},has_processing:function(){return _.findLast(this.notifications,function(e){return"processing"==e.status})},unread_notificatons:{cache:!1,get:function(){return _.filter(this.notifications,function(e){return!e.is_read})}}},watch:{},created:function(){},mounted:function(){var e=this;$(this.$refs.notification_button).popup({on:"click",hoverable:!0,position:"bottom center",lastResort:"bottom center",onShow:function(){$(".ui.popup").css("max-height",$(window).height()),e.notifications.forEach(function(t,i){e.notifications[i].is_read=!0})},delay:{show:300,hide:500}}),this.$cable.subscriptions.create({channel:"NotificationsChannel",node_identity:this.$store.state.provider.node.identity},{connected:function(){console.log("NotificaiontsChannel connected")},received:function(t){t.is_read=!1;var i=_.findIndex(e.notifications,function(e){return e.identity==t.identity});i>=0?e.$store.commit("provider/update_notification",t):e.$store.commit("provider/add_notification",t)}})},beforeDestroy:function(){},methods:{toggle_all_to_read:function(){var e=this;_.forEach(e.$children,function(e){e.toggle_is_read()})}},components:{Notification:d}},m=p,f=(i("4693"),Object(l["a"])(m,n,a,!1,null,"7cc48bbe",null));t["a"]=f.exports},f930:function(e,t,i){},fa04:function(e,t,i){},fa83:function(e,t,i){},fadb:function(e,t,i){"use strict";var n=i("e6b1"),a=i.n(n);a.a},fadb7:function(e,t,i){"use strict";var n=i("7619"),a=i.n(n);a.a},fbef:function(e,t,i){"use strict";var n=i("5a81"),a=i.n(n);a.a},fcc2:function(e,t,i){"use strict";var n=i("7d77"),a=i.n(n);a.a},fd33:function(e,t,i){},fd64:function(e,t,i){},fe68:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui footer segment",staticStyle:{position:"relative"}},[i("div",{staticClass:"ui center aligned container"},[i("div",{staticClass:"ui horizontal inverted small divided list"},[i("p",[e._v("\n                Copyright © "+e._s(e.current_year)+" Genki Inc. All rights reserved\n            ")])])])])},a=[],r={name:"FooterBar",computed:{current_year:function(){return(new Date).getFullYear()}}},s=r,o=i("2877"),c=Object(o["a"])(s,n,a,!1,null,"76b7142f",null);t["a"]=c.exports},ff27:function(e,t,i){"use strict";var n=i("ce98"),a=i.n(n);a.a},ff4f:function(e,t,i){"use strict";var n=i("ac67"),a=i.n(n);a.a},ff62:function(e,t,i){"use strict";var n=i("ba7e"),a=i.n(n);a.a}});
//# sourceMappingURL=app.201e5cf3.js.map